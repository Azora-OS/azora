5d4c7d0663bf8b2213207666973f8f23
"use strict";

_getJestObj().mock('@prisma/client');
var _healthCheck = require("../health-check.service");
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
/**
 * Health Check Service Tests
 */
describe('HealthCheckService', () => {
  let healthCheckService;
  let mockPrisma;
  beforeEach(() => {
    mockPrisma = {
      $queryRaw: jest.fn().mockResolvedValue([{
        '1': 1
      }]),
      user: {
        count: jest.fn().mockResolvedValue(100)
      },
      course: {
        count: jest.fn().mockResolvedValue(50)
      },
      enrollment: {
        count: jest.fn().mockResolvedValue(500)
      }
    };
    healthCheckService = new _healthCheck.HealthCheckService(mockPrisma);
  });
  describe('getHealthStatus', () => {
    it('should return healthy status when all checks pass', async () => {
      const health = await healthCheckService.getHealthStatus();
      expect(health.status).toBe('healthy');
      expect(health.timestamp).toBeDefined();
      expect(health.uptime).toBeGreaterThan(0);
      expect(health.checks).toBeDefined();
      expect(health.checks.database).toBeDefined();
    });
    it('should include database check', async () => {
      const health = await healthCheckService.getHealthStatus();
      expect(health.checks.database.status).toBe('healthy');
      expect(health.checks.database.responseTime).toBeGreaterThanOrEqual(0);
      expect(health.checks.database.message).toBeDefined();
      expect(health.checks.database.lastChecked).toBeDefined();
    });
    it('should include memory check', async () => {
      const health = await healthCheckService.getHealthStatus();
      expect(health.checks.memory).toBeDefined();
      expect(health.checks.memory.status).toMatch(/healthy|degraded|unhealthy/);
      expect(health.checks.memory.message).toBeDefined();
    });
    it('should include metrics', async () => {
      const health = await healthCheckService.getHealthStatus();
      expect(health.metrics).toBeDefined();
      expect(health.metrics?.requestsPerSecond).toBeGreaterThanOrEqual(0);
      expect(health.metrics?.errorRate).toBeGreaterThanOrEqual(0);
      expect(health.metrics?.averageResponseTime).toBeGreaterThanOrEqual(0);
      expect(health.metrics?.activeConnections).toBeGreaterThanOrEqual(0);
    });
    it('should return degraded status when database is slow', async () => {
      // Mock slow database response
      mockPrisma.$queryRaw = jest.fn().mockImplementation(() => new Promise(resolve => setTimeout(() => resolve([{
        '1': 1
      }]), 150)));
      const health = await healthCheckService.getHealthStatus();
      expect(health.checks.database.status).toBe('degraded');
    });
    it('should return unhealthy status when database fails', async () => {
      mockPrisma.$queryRaw = jest.fn().mockRejectedValue(new Error('Connection failed'));
      const health = await healthCheckService.getHealthStatus();
      expect(health.status).toBe('unhealthy');
      expect(health.checks.database.status).toBe('unhealthy');
      expect(health.checks.database.message).toContain('Connection failed');
    });
  });
  describe('recordRequest', () => {
    it('should record successful requests', () => {
      healthCheckService.recordRequest(100, false);
      healthCheckService.recordRequest(150, false);
      const health = healthCheckService['lastMetrics'];
      expect(health.requestCount).toBe(2);
      expect(health.errorCount).toBe(0);
      expect(health.totalResponseTime).toBe(250);
    });
    it('should record failed requests', () => {
      healthCheckService.recordRequest(100, false);
      healthCheckService.recordRequest(150, true);
      const health = healthCheckService['lastMetrics'];
      expect(health.requestCount).toBe(2);
      expect(health.errorCount).toBe(1);
    });
  });
  describe('getDiagnostics', () => {
    it('should return detailed diagnostics', async () => {
      const diagnostics = await healthCheckService.getDiagnostics();
      expect(diagnostics.health).toBeDefined();
      expect(diagnostics.system).toBeDefined();
      expect(diagnostics.system.uptime).toBeGreaterThan(0);
      expect(diagnostics.system.memory).toBeDefined();
      expect(diagnostics.system.nodeVersion).toBeDefined();
      expect(diagnostics.system.platform).toBeDefined();
      expect(diagnostics.timestamp).toBeDefined();
    });
    it('should include memory information', async () => {
      const diagnostics = await healthCheckService.getDiagnostics();
      expect(diagnostics.system.memory.heapUsed).toBeDefined();
      expect(diagnostics.system.memory.heapTotal).toBeDefined();
      expect(diagnostics.system.memory.external).toBeDefined();
      expect(diagnostics.system.memory.rss).toBeDefined();
    });
  });
  describe('checkMemory', () => {
    it('should return healthy status for normal memory usage', () => {
      const check = healthCheckService['checkMemory']();
      expect(check.status).toMatch(/healthy|degraded|unhealthy/);
      expect(check.message).toContain('Heap usage');
      expect(check.lastChecked).toBeDefined();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfaGVhbHRoQ2hlY2siLCJyZXF1aXJlIiwiamVzdCIsImRlc2NyaWJlIiwiaGVhbHRoQ2hlY2tTZXJ2aWNlIiwibW9ja1ByaXNtYSIsImJlZm9yZUVhY2giLCIkcXVlcnlSYXciLCJmbiIsIm1vY2tSZXNvbHZlZFZhbHVlIiwidXNlciIsImNvdW50IiwiY291cnNlIiwiZW5yb2xsbWVudCIsIkhlYWx0aENoZWNrU2VydmljZSIsIml0IiwiaGVhbHRoIiwiZ2V0SGVhbHRoU3RhdHVzIiwiZXhwZWN0Iiwic3RhdHVzIiwidG9CZSIsInRpbWVzdGFtcCIsInRvQmVEZWZpbmVkIiwidXB0aW1lIiwidG9CZUdyZWF0ZXJUaGFuIiwiY2hlY2tzIiwiZGF0YWJhc2UiLCJyZXNwb25zZVRpbWUiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwibWVzc2FnZSIsImxhc3RDaGVja2VkIiwibWVtb3J5IiwidG9NYXRjaCIsIm1ldHJpY3MiLCJyZXF1ZXN0c1BlclNlY29uZCIsImVycm9yUmF0ZSIsImF2ZXJhZ2VSZXNwb25zZVRpbWUiLCJhY3RpdmVDb25uZWN0aW9ucyIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJ0b0NvbnRhaW4iLCJyZWNvcmRSZXF1ZXN0IiwicmVxdWVzdENvdW50IiwiZXJyb3JDb3VudCIsInRvdGFsUmVzcG9uc2VUaW1lIiwiZGlhZ25vc3RpY3MiLCJnZXREaWFnbm9zdGljcyIsInN5c3RlbSIsIm5vZGVWZXJzaW9uIiwicGxhdGZvcm0iLCJoZWFwVXNlZCIsImhlYXBUb3RhbCIsImV4dGVybmFsIiwicnNzIiwiY2hlY2siXSwic291cmNlcyI6WyJoZWFsdGgtY2hlY2suc2VydmljZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBIZWFsdGggQ2hlY2sgU2VydmljZSBUZXN0c1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IEhlYWx0aENoZWNrU2VydmljZSB9IGZyb20gJy4uL2hlYWx0aC1jaGVjay5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xyXG5cclxuamVzdC5tb2NrKCdAcHJpc21hL2NsaWVudCcpO1xyXG5cclxuZGVzY3JpYmUoJ0hlYWx0aENoZWNrU2VydmljZScsICgpID0+IHtcclxuICBsZXQgaGVhbHRoQ2hlY2tTZXJ2aWNlOiBIZWFsdGhDaGVja1NlcnZpY2U7XHJcbiAgbGV0IG1vY2tQcmlzbWE6IGFueTtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBtb2NrUHJpc21hID0ge1xyXG4gICAgICAkcXVlcnlSYXc6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShbeyAnMSc6IDEgfV0pLFxyXG4gICAgICB1c2VyOiB7XHJcbiAgICAgICAgY291bnQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgxMDApLFxyXG4gICAgICB9LFxyXG4gICAgICBjb3Vyc2U6IHtcclxuICAgICAgICBjb3VudDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKDUwKSxcclxuICAgICAgfSxcclxuICAgICAgZW5yb2xsbWVudDoge1xyXG4gICAgICAgIGNvdW50OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoNTAwKSxcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgaGVhbHRoQ2hlY2tTZXJ2aWNlID0gbmV3IEhlYWx0aENoZWNrU2VydmljZShtb2NrUHJpc21hIGFzIFByaXNtYUNsaWVudCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdnZXRIZWFsdGhTdGF0dXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBoZWFsdGh5IHN0YXR1cyB3aGVuIGFsbCBjaGVja3MgcGFzcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgaGVhbHRoID0gYXdhaXQgaGVhbHRoQ2hlY2tTZXJ2aWNlLmdldEhlYWx0aFN0YXR1cygpO1xyXG5cclxuICAgICAgZXhwZWN0KGhlYWx0aC5zdGF0dXMpLnRvQmUoJ2hlYWx0aHknKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aC50aW1lc3RhbXApLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChoZWFsdGgudXB0aW1lKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICAgIGV4cGVjdChoZWFsdGguY2hlY2tzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoaGVhbHRoLmNoZWNrcy5kYXRhYmFzZSkudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSBkYXRhYmFzZSBjaGVjaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgaGVhbHRoID0gYXdhaXQgaGVhbHRoQ2hlY2tTZXJ2aWNlLmdldEhlYWx0aFN0YXR1cygpO1xyXG5cclxuICAgICAgZXhwZWN0KGhlYWx0aC5jaGVja3MuZGF0YWJhc2Uuc3RhdHVzKS50b0JlKCdoZWFsdGh5Jyk7XHJcbiAgICAgIGV4cGVjdChoZWFsdGguY2hlY2tzLmRhdGFiYXNlLnJlc3BvbnNlVGltZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aC5jaGVja3MuZGF0YWJhc2UubWVzc2FnZSkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aC5jaGVja3MuZGF0YWJhc2UubGFzdENoZWNrZWQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgbWVtb3J5IGNoZWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBoZWFsdGggPSBhd2FpdCBoZWFsdGhDaGVja1NlcnZpY2UuZ2V0SGVhbHRoU3RhdHVzKCk7XHJcblxyXG4gICAgICBleHBlY3QoaGVhbHRoLmNoZWNrcy5tZW1vcnkpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChoZWFsdGguY2hlY2tzLm1lbW9yeS5zdGF0dXMpLnRvTWF0Y2goL2hlYWx0aHl8ZGVncmFkZWR8dW5oZWFsdGh5Lyk7XHJcbiAgICAgIGV4cGVjdChoZWFsdGguY2hlY2tzLm1lbW9yeS5tZXNzYWdlKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIG1ldHJpY3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGhlYWx0aCA9IGF3YWl0IGhlYWx0aENoZWNrU2VydmljZS5nZXRIZWFsdGhTdGF0dXMoKTtcclxuXHJcbiAgICAgIGV4cGVjdChoZWFsdGgubWV0cmljcykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aC5tZXRyaWNzPy5yZXF1ZXN0c1BlclNlY29uZCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aC5tZXRyaWNzPy5lcnJvclJhdGUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICAgIGV4cGVjdChoZWFsdGgubWV0cmljcz8uYXZlcmFnZVJlc3BvbnNlVGltZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aC5tZXRyaWNzPy5hY3RpdmVDb25uZWN0aW9ucykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGRlZ3JhZGVkIHN0YXR1cyB3aGVuIGRhdGFiYXNlIGlzIHNsb3cnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIE1vY2sgc2xvdyBkYXRhYmFzZSByZXNwb25zZVxyXG4gICAgICBtb2NrUHJpc21hLiRxdWVyeVJhdyA9IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oXHJcbiAgICAgICAgKCkgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoW3sgJzEnOiAxIH1dKSwgMTUwKSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IGhlYWx0aCA9IGF3YWl0IGhlYWx0aENoZWNrU2VydmljZS5nZXRIZWFsdGhTdGF0dXMoKTtcclxuXHJcbiAgICAgIGV4cGVjdChoZWFsdGguY2hlY2tzLmRhdGFiYXNlLnN0YXR1cykudG9CZSgnZGVncmFkZWQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHVuaGVhbHRoeSBzdGF0dXMgd2hlbiBkYXRhYmFzZSBmYWlscycsIGFzeW5jICgpID0+IHtcclxuICAgICAgbW9ja1ByaXNtYS4kcXVlcnlSYXcgPSBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdDb25uZWN0aW9uIGZhaWxlZCcpKTtcclxuXHJcbiAgICAgIGNvbnN0IGhlYWx0aCA9IGF3YWl0IGhlYWx0aENoZWNrU2VydmljZS5nZXRIZWFsdGhTdGF0dXMoKTtcclxuXHJcbiAgICAgIGV4cGVjdChoZWFsdGguc3RhdHVzKS50b0JlKCd1bmhlYWx0aHknKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aC5jaGVja3MuZGF0YWJhc2Uuc3RhdHVzKS50b0JlKCd1bmhlYWx0aHknKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aC5jaGVja3MuZGF0YWJhc2UubWVzc2FnZSkudG9Db250YWluKCdDb25uZWN0aW9uIGZhaWxlZCcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdyZWNvcmRSZXF1ZXN0JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZWNvcmQgc3VjY2Vzc2Z1bCByZXF1ZXN0cycsICgpID0+IHtcclxuICAgICAgaGVhbHRoQ2hlY2tTZXJ2aWNlLnJlY29yZFJlcXVlc3QoMTAwLCBmYWxzZSk7XHJcbiAgICAgIGhlYWx0aENoZWNrU2VydmljZS5yZWNvcmRSZXF1ZXN0KDE1MCwgZmFsc2UpO1xyXG5cclxuICAgICAgY29uc3QgaGVhbHRoID0gaGVhbHRoQ2hlY2tTZXJ2aWNlWydsYXN0TWV0cmljcyddO1xyXG4gICAgICBleHBlY3QoaGVhbHRoLnJlcXVlc3RDb3VudCkudG9CZSgyKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aC5lcnJvckNvdW50KS50b0JlKDApO1xyXG4gICAgICBleHBlY3QoaGVhbHRoLnRvdGFsUmVzcG9uc2VUaW1lKS50b0JlKDI1MCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJlY29yZCBmYWlsZWQgcmVxdWVzdHMnLCAoKSA9PiB7XHJcbiAgICAgIGhlYWx0aENoZWNrU2VydmljZS5yZWNvcmRSZXF1ZXN0KDEwMCwgZmFsc2UpO1xyXG4gICAgICBoZWFsdGhDaGVja1NlcnZpY2UucmVjb3JkUmVxdWVzdCgxNTAsIHRydWUpO1xyXG5cclxuICAgICAgY29uc3QgaGVhbHRoID0gaGVhbHRoQ2hlY2tTZXJ2aWNlWydsYXN0TWV0cmljcyddO1xyXG4gICAgICBleHBlY3QoaGVhbHRoLnJlcXVlc3RDb3VudCkudG9CZSgyKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aC5lcnJvckNvdW50KS50b0JlKDEpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdnZXREaWFnbm9zdGljcycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGRldGFpbGVkIGRpYWdub3N0aWNzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkaWFnbm9zdGljcyA9IGF3YWl0IGhlYWx0aENoZWNrU2VydmljZS5nZXREaWFnbm9zdGljcygpO1xyXG5cclxuICAgICAgZXhwZWN0KGRpYWdub3N0aWNzLmhlYWx0aCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGRpYWdub3N0aWNzLnN5c3RlbSkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGRpYWdub3N0aWNzLnN5c3RlbS51cHRpbWUpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgZXhwZWN0KGRpYWdub3N0aWNzLnN5c3RlbS5tZW1vcnkpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChkaWFnbm9zdGljcy5zeXN0ZW0ubm9kZVZlcnNpb24pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChkaWFnbm9zdGljcy5zeXN0ZW0ucGxhdGZvcm0pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChkaWFnbm9zdGljcy50aW1lc3RhbXApLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgbWVtb3J5IGluZm9ybWF0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkaWFnbm9zdGljcyA9IGF3YWl0IGhlYWx0aENoZWNrU2VydmljZS5nZXREaWFnbm9zdGljcygpO1xyXG5cclxuICAgICAgZXhwZWN0KGRpYWdub3N0aWNzLnN5c3RlbS5tZW1vcnkuaGVhcFVzZWQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChkaWFnbm9zdGljcy5zeXN0ZW0ubWVtb3J5LmhlYXBUb3RhbCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGRpYWdub3N0aWNzLnN5c3RlbS5tZW1vcnkuZXh0ZXJuYWwpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChkaWFnbm9zdGljcy5zeXN0ZW0ubWVtb3J5LnJzcykudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnY2hlY2tNZW1vcnknLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBoZWFsdGh5IHN0YXR1cyBmb3Igbm9ybWFsIG1lbW9yeSB1c2FnZScsICgpID0+IHtcclxuICAgICAgY29uc3QgY2hlY2sgPSBoZWFsdGhDaGVja1NlcnZpY2VbJ2NoZWNrTWVtb3J5J10oKTtcclxuXHJcbiAgICAgIGV4cGVjdChjaGVjay5zdGF0dXMpLnRvTWF0Y2goL2hlYWx0aHl8ZGVncmFkZWR8dW5oZWFsdGh5Lyk7XHJcbiAgICAgIGV4cGVjdChjaGVjay5tZXNzYWdlKS50b0NvbnRhaW4oJ0hlYXAgdXNhZ2UnKTtcclxuICAgICAgZXhwZWN0KGNoZWNrLmxhc3RDaGVja2VkKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBT0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGdCQUFnQixDQUFDO0FBSDNCLElBQUFDLFlBQUEsR0FBQUMsT0FBQTtBQUE2RCxTQUFBSCxZQUFBO0VBQUE7SUFBQUk7RUFBQSxJQUFBRCxPQUFBO0VBQUFILFdBQUEsR0FBQUEsQ0FBQSxLQUFBSSxJQUFBO0VBQUEsT0FBQUEsSUFBQTtBQUFBO0FBSjdEO0FBQ0E7QUFDQTtBQU9BQyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsTUFBTTtFQUNuQyxJQUFJQyxrQkFBc0M7RUFDMUMsSUFBSUMsVUFBZTtFQUVuQkMsVUFBVSxDQUFDLE1BQU07SUFDZkQsVUFBVSxHQUFHO01BQ1hFLFNBQVMsRUFBRUwsSUFBSSxDQUFDTSxFQUFFLENBQUMsQ0FBQyxDQUFDQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQUUsR0FBRyxFQUFFO01BQUUsQ0FBQyxDQUFDLENBQUM7TUFDcERDLElBQUksRUFBRTtRQUNKQyxLQUFLLEVBQUVULElBQUksQ0FBQ00sRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUMsR0FBRztNQUN4QyxDQUFDO01BQ0RHLE1BQU0sRUFBRTtRQUNORCxLQUFLLEVBQUVULElBQUksQ0FBQ00sRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUMsRUFBRTtNQUN2QyxDQUFDO01BQ0RJLFVBQVUsRUFBRTtRQUNWRixLQUFLLEVBQUVULElBQUksQ0FBQ00sRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUMsR0FBRztNQUN4QztJQUNGLENBQUM7SUFFREwsa0JBQWtCLEdBQUcsSUFBSVUsK0JBQWtCLENBQUNULFVBQTBCLENBQUM7RUFDekUsQ0FBQyxDQUFDO0VBRUZGLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxNQUFN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