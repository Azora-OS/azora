f80236d7aa021b1d9bf536ad9ab0f539
"use strict";

const request = require('supertest');
const app = require('../server');
describe('Azora ERP Service', () => {
  describe('Health Check', () => {
    it('should return healthy status', async () => {
      const response = await request(app).get('/api/health').expect(200);
      expect(response.body.status).toBe('healthy');
      expect(response.body.service).toBe('azora-erp');
      expect(response.body.ubuntu).toBe('I manage because we prosper together');
    });
  });
  describe('Business Intelligence API', () => {
    it('should get KPIs dashboard', async () => {
      const response = await request(app).get('/api/dashboard/kpis').expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data).toHaveProperty('revenue');
      expect(response.body.data).toHaveProperty('expenses');
      expect(response.body.data).toHaveProperty('productivity');
      expect(response.body.data).toHaveProperty('satisfaction');
    });
    it('should generate financial report', async () => {
      const response = await request(app).get('/api/reports/financial?period=monthly').expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data).toHaveProperty('revenue');
      expect(response.body.data).toHaveProperty('expenses');
      expect(response.body.data).toHaveProperty('profit');
      expect(response.body.data.period).toBe('monthly');
    });
    it('should generate HR report', async () => {
      const response = await request(app).get('/api/reports/hr').expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data).toHaveProperty('totalEmployees');
      expect(response.body.data).toHaveProperty('departments');
      expect(response.body.data).toHaveProperty('performance');
      expect(response.body.data).toHaveProperty('retention');
    });
  });
  describe('Department Management API', () => {
    it('should create a new department', async () => {
      const departmentData = {
        name: 'Test Department',
        description: 'A test department for unit testing',
        managerId: 'test-manager-1',
        budget: 100000
      };
      const response = await request(app).post('/api/departments').send(departmentData).expect(201);
      expect(response.body.success).toBe(true);
      expect(response.body.message).toBe('Department created successfully');
      expect(response.body.data).toHaveProperty('id');
      expect(response.body.data.name).toBe(departmentData.name);
    });
    it('should get all departments', async () => {
      const response = await request(app).get('/api/departments').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
    });
    it('should require name and manager ID for department creation', async () => {
      const invalidData = {
        description: 'Missing required fields'
      };
      const response = await request(app).post('/api/departments').send(invalidData).expect(400);
      expect(response.body.error).toBe('Name and manager ID are required');
    });
  });
  describe('Employee Management API', () => {
    let departmentId;
    beforeEach(async () => {
      // Create a test department first
      const departmentData = {
        name: 'Employee Test Department',
        description: 'Test department for employee tests',
        managerId: 'test-manager-1',
        budget: 50000
      };
      const deptResponse = await request(app).post('/api/departments').send(departmentData);
      departmentId = deptResponse.body.data.id;
    });
    it('should create a new employee', async () => {
      const employeeData = {
        firstName: 'John',
        lastName: 'Doe',
        email: 'john.doe@azora.world',
        departmentId: departmentId,
        position: 'Software Engineer',
        salary: 75000
      };
      const response = await request(app).post('/api/employees').send(employeeData).expect(201);
      expect(response.body.success).toBe(true);
      expect(response.body.message).toBe('Employee created successfully');
      expect(response.body.data).toHaveProperty('id');
      expect(response.body.data.firstName).toBe(employeeData.firstName);
    });
    it('should require required fields for employee creation', async () => {
      const invalidData = {
        firstName: 'John'
        // Missing required fields
      };
      const response = await request(app).post('/api/employees').send(invalidData).expect(400);
      expect(response.body.error).toBe('First name, last name, email, and department ID are required');
    });
  });
  describe('Resource Management API', () => {
    it('should allocate a resource', async () => {
      const allocationData = {
        resourceId: 'resource-1',
        departmentId: 'dept-1',
        amount: 50,
        duration: 30
      };
      const response = await request(app).post('/api/resources/allocate').send(allocationData).expect(201);
      expect(response.body.success).toBe(true);
      expect(response.body.message).toBe('Resource allocated successfully');
      expect(response.body.data).toHaveProperty('id');
      expect(response.body.data.resourceId).toBe(allocationData.resourceId);
    });
    it('should get resource utilization', async () => {
      // First allocate a resource
      const allocationData = {
        resourceId: 'resource-test-1',
        departmentId: 'dept-1',
        amount: 75,
        duration: 30
      };
      await request(app).post('/api/resources/allocate').send(allocationData);

      // Then get utilization
      const response = await request(app).get('/api/resources/resource-test-1/utilization').expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data).toHaveProperty('resourceId');
      expect(response.body.data).toHaveProperty('totalAllocated');
      expect(response.body.data).toHaveProperty('utilizationRate');
    });
    it('should get resource optimization recommendations', async () => {
      const response = await request(app).get('/api/resources/optimize').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
    });
    it('should require required fields for resource allocation', async () => {
      const invalidData = {
        resourceId: 'resource-1'
        // Missing required fields
      };
      const response = await request(app).post('/api/resources/allocate').send(invalidData).expect(400);
      expect(response.body.error).toBe('Resource ID, department ID, and amount are required');
    });
  });
  describe('Project Management API', () => {
    let departmentId;
    beforeEach(async () => {
      // Create a test department first
      const departmentData = {
        name: 'Project Test Department',
        description: 'Test department for project tests',
        managerId: 'test-manager-1',
        budget: 200000
      };
      const deptResponse = await request(app).post('/api/departments').send(departmentData);
      departmentId = deptResponse.body.data.id;
    });
    it('should create a new project', async () => {
      const projectData = {
        name: 'Test Project',
        description: 'A test project for unit testing',
        managerId: 'test-manager-1',
        departmentId: departmentId,
        budget: 50000,
        deadline: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),
        priority: 'HIGH'
      };
      const response = await request(app).post('/api/projects').send(projectData).expect(201);
      expect(response.body.success).toBe(true);
      expect(response.body.message).toBe('Project created successfully');
      expect(response.body.data).toHaveProperty('id');
      expect(response.body.data.name).toBe(projectData.name);
    });
    it('should get all projects', async () => {
      const response = await request(app).get('/api/projects').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
    });
    it('should filter projects by status', async () => {
      // Create a project first
      const projectData = {
        name: 'Status Filter Test Project',
        description: 'Test project for status filtering',
        managerId: 'test-manager-1',
        departmentId: departmentId
      };
      await request(app).post('/api/projects').send(projectData);

      // Filter by status
      const response = await request(app).get('/api/projects?status=PLANNING').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
    });
    it('should require required fields for project creation', async () => {
      const invalidData = {
        name: 'Test Project'
        // Missing required fields
      };
      const response = await request(app).post('/api/projects').send(invalidData).expect(400);
      expect(response.body.error).toBe('Name, manager ID, and department ID are required');
    });
  });
  describe('Error Handling', () => {
    it('should return 404 for non-existent endpoint', async () => {
      const response = await request(app).get('/api/non-existent-endpoint').expect(404);
      expect(response.body.success).toBe(false);
      expect(response.body.error).toBe('Endpoint not found');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImFwcCIsImRlc2NyaWJlIiwiaXQiLCJyZXNwb25zZSIsImdldCIsImV4cGVjdCIsImJvZHkiLCJzdGF0dXMiLCJ0b0JlIiwic2VydmljZSIsInVidW50dSIsInN1Y2Nlc3MiLCJkYXRhIiwidG9IYXZlUHJvcGVydHkiLCJwZXJpb2QiLCJkZXBhcnRtZW50RGF0YSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIm1hbmFnZXJJZCIsImJ1ZGdldCIsInBvc3QiLCJzZW5kIiwibWVzc2FnZSIsIkFycmF5IiwiaXNBcnJheSIsImludmFsaWREYXRhIiwiZXJyb3IiLCJkZXBhcnRtZW50SWQiLCJiZWZvcmVFYWNoIiwiZGVwdFJlc3BvbnNlIiwiaWQiLCJlbXBsb3llZURhdGEiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImVtYWlsIiwicG9zaXRpb24iLCJzYWxhcnkiLCJhbGxvY2F0aW9uRGF0YSIsInJlc291cmNlSWQiLCJhbW91bnQiLCJkdXJhdGlvbiIsInByb2plY3REYXRhIiwiZGVhZGxpbmUiLCJEYXRlIiwibm93IiwidG9JU09TdHJpbmciLCJwcmlvcml0eSJdLCJzb3VyY2VzIjpbImVycC50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKCdzdXBlcnRlc3QnKTtcbmNvbnN0IGFwcCA9IHJlcXVpcmUoJy4uL3NlcnZlcicpO1xuXG5kZXNjcmliZSgnQXpvcmEgRVJQIFNlcnZpY2UnLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdIZWFsdGggQ2hlY2snLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gaGVhbHRoeSBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL2hlYWx0aCcpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3RhdHVzKS50b0JlKCdoZWFsdGh5Jyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zZXJ2aWNlKS50b0JlKCdhem9yYS1lcnAnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnVidW50dSkudG9CZSgnSSBtYW5hZ2UgYmVjYXVzZSB3ZSBwcm9zcGVyIHRvZ2V0aGVyJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdCdXNpbmVzcyBJbnRlbGxpZ2VuY2UgQVBJJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2V0IEtQSXMgZGFzaGJvYXJkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS9kYXNoYm9hcmQva3BpcycpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdyZXZlbnVlJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhKS50b0hhdmVQcm9wZXJ0eSgnZXhwZW5zZXMnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdwcm9kdWN0aXZpdHknKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdzYXRpc2ZhY3Rpb24nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZmluYW5jaWFsIHJlcG9ydCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvcmVwb3J0cy9maW5hbmNpYWw/cGVyaW9kPW1vbnRobHknKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhKS50b0hhdmVQcm9wZXJ0eSgncmV2ZW51ZScpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ2V4cGVuc2VzJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhKS50b0hhdmVQcm9wZXJ0eSgncHJvZml0Jyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLnBlcmlvZCkudG9CZSgnbW9udGhseScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBIUiByZXBvcnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3JlcG9ydHMvaHInKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhKS50b0hhdmVQcm9wZXJ0eSgndG90YWxFbXBsb3llZXMnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdkZXBhcnRtZW50cycpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ3BlcmZvcm1hbmNlJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhKS50b0hhdmVQcm9wZXJ0eSgncmV0ZW50aW9uJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEZXBhcnRtZW50IE1hbmFnZW1lbnQgQVBJJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIGEgbmV3IGRlcGFydG1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBkZXBhcnRtZW50RGF0YSA9IHtcbiAgICAgICAgbmFtZTogJ1Rlc3QgRGVwYXJ0bWVudCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQSB0ZXN0IGRlcGFydG1lbnQgZm9yIHVuaXQgdGVzdGluZycsXG4gICAgICAgIG1hbmFnZXJJZDogJ3Rlc3QtbWFuYWdlci0xJyxcbiAgICAgICAgYnVkZ2V0OiAxMDAwMDBcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL2RlcGFydG1lbnRzJylcbiAgICAgICAgLnNlbmQoZGVwYXJ0bWVudERhdGEpXG4gICAgICAgIC5leHBlY3QoMjAxKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5Lm1lc3NhZ2UpLnRvQmUoJ0RlcGFydG1lbnQgY3JlYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdpZCcpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5uYW1lKS50b0JlKGRlcGFydG1lbnREYXRhLm5hbWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZXQgYWxsIGRlcGFydG1lbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS9kZXBhcnRtZW50cycpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3BvbnNlLmJvZHkuZGF0YSkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlcXVpcmUgbmFtZSBhbmQgbWFuYWdlciBJRCBmb3IgZGVwYXJ0bWVudCBjcmVhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWREYXRhID0ge1xuICAgICAgICBkZXNjcmlwdGlvbjogJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzJ1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvZGVwYXJ0bWVudHMnKVxuICAgICAgICAuc2VuZChpbnZhbGlkRGF0YSlcbiAgICAgICAgLmV4cGVjdCg0MDApO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnTmFtZSBhbmQgbWFuYWdlciBJRCBhcmUgcmVxdWlyZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0VtcGxveWVlIE1hbmFnZW1lbnQgQVBJJywgKCkgPT4ge1xuICAgIGxldCBkZXBhcnRtZW50SWQ7XG5cbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBhIHRlc3QgZGVwYXJ0bWVudCBmaXJzdFxuICAgICAgY29uc3QgZGVwYXJ0bWVudERhdGEgPSB7XG4gICAgICAgIG5hbWU6ICdFbXBsb3llZSBUZXN0IERlcGFydG1lbnQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgZGVwYXJ0bWVudCBmb3IgZW1wbG95ZWUgdGVzdHMnLFxuICAgICAgICBtYW5hZ2VySWQ6ICd0ZXN0LW1hbmFnZXItMScsXG4gICAgICAgIGJ1ZGdldDogNTAwMDBcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGRlcHRSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9kZXBhcnRtZW50cycpXG4gICAgICAgIC5zZW5kKGRlcGFydG1lbnREYXRhKTtcbiAgICAgIFxuICAgICAgZGVwYXJ0bWVudElkID0gZGVwdFJlc3BvbnNlLmJvZHkuZGF0YS5pZDtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY3JlYXRlIGEgbmV3IGVtcGxveWVlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZW1wbG95ZWVEYXRhID0ge1xuICAgICAgICBmaXJzdE5hbWU6ICdKb2huJyxcbiAgICAgICAgbGFzdE5hbWU6ICdEb2UnLFxuICAgICAgICBlbWFpbDogJ2pvaG4uZG9lQGF6b3JhLndvcmxkJyxcbiAgICAgICAgZGVwYXJ0bWVudElkOiBkZXBhcnRtZW50SWQsXG4gICAgICAgIHBvc2l0aW9uOiAnU29mdHdhcmUgRW5naW5lZXInLFxuICAgICAgICBzYWxhcnk6IDc1MDAwXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9lbXBsb3llZXMnKVxuICAgICAgICAuc2VuZChlbXBsb3llZURhdGEpXG4gICAgICAgIC5leHBlY3QoMjAxKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5Lm1lc3NhZ2UpLnRvQmUoJ0VtcGxveWVlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhKS50b0hhdmVQcm9wZXJ0eSgnaWQnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEuZmlyc3ROYW1lKS50b0JlKGVtcGxveWVlRGF0YS5maXJzdE5hbWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXF1aXJlIHJlcXVpcmVkIGZpZWxkcyBmb3IgZW1wbG95ZWUgY3JlYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkRGF0YSA9IHtcbiAgICAgICAgZmlyc3ROYW1lOiAnSm9obidcbiAgICAgICAgLy8gTWlzc2luZyByZXF1aXJlZCBmaWVsZHNcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL2VtcGxveWVlcycpXG4gICAgICAgIC5zZW5kKGludmFsaWREYXRhKVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0JlKCdGaXJzdCBuYW1lLCBsYXN0IG5hbWUsIGVtYWlsLCBhbmQgZGVwYXJ0bWVudCBJRCBhcmUgcmVxdWlyZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Jlc291cmNlIE1hbmFnZW1lbnQgQVBJJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgYWxsb2NhdGUgYSByZXNvdXJjZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFsbG9jYXRpb25EYXRhID0ge1xuICAgICAgICByZXNvdXJjZUlkOiAncmVzb3VyY2UtMScsXG4gICAgICAgIGRlcGFydG1lbnRJZDogJ2RlcHQtMScsXG4gICAgICAgIGFtb3VudDogNTAsXG4gICAgICAgIGR1cmF0aW9uOiAzMFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvcmVzb3VyY2VzL2FsbG9jYXRlJylcbiAgICAgICAgLnNlbmQoYWxsb2NhdGlvbkRhdGEpXG4gICAgICAgIC5leHBlY3QoMjAxKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5Lm1lc3NhZ2UpLnRvQmUoJ1Jlc291cmNlIGFsbG9jYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdpZCcpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5yZXNvdXJjZUlkKS50b0JlKGFsbG9jYXRpb25EYXRhLnJlc291cmNlSWQpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZXQgcmVzb3VyY2UgdXRpbGl6YXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBGaXJzdCBhbGxvY2F0ZSBhIHJlc291cmNlXG4gICAgICBjb25zdCBhbGxvY2F0aW9uRGF0YSA9IHtcbiAgICAgICAgcmVzb3VyY2VJZDogJ3Jlc291cmNlLXRlc3QtMScsXG4gICAgICAgIGRlcGFydG1lbnRJZDogJ2RlcHQtMScsXG4gICAgICAgIGFtb3VudDogNzUsXG4gICAgICAgIGR1cmF0aW9uOiAzMFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3Jlc291cmNlcy9hbGxvY2F0ZScpXG4gICAgICAgIC5zZW5kKGFsbG9jYXRpb25EYXRhKTtcblxuICAgICAgLy8gVGhlbiBnZXQgdXRpbGl6YXRpb25cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvcmVzb3VyY2VzL3Jlc291cmNlLXRlc3QtMS91dGlsaXphdGlvbicpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdyZXNvdXJjZUlkJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhKS50b0hhdmVQcm9wZXJ0eSgndG90YWxBbGxvY2F0ZWQnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCd1dGlsaXphdGlvblJhdGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2V0IHJlc291cmNlIG9wdGltaXphdGlvbiByZWNvbW1lbmRhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3Jlc291cmNlcy9vcHRpbWl6ZScpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3BvbnNlLmJvZHkuZGF0YSkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlcXVpcmUgcmVxdWlyZWQgZmllbGRzIGZvciByZXNvdXJjZSBhbGxvY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZERhdGEgPSB7XG4gICAgICAgIHJlc291cmNlSWQ6ICdyZXNvdXJjZS0xJ1xuICAgICAgICAvLyBNaXNzaW5nIHJlcXVpcmVkIGZpZWxkc1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvcmVzb3VyY2VzL2FsbG9jYXRlJylcbiAgICAgICAgLnNlbmQoaW52YWxpZERhdGEpXG4gICAgICAgIC5leHBlY3QoNDAwKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ1Jlc291cmNlIElELCBkZXBhcnRtZW50IElELCBhbmQgYW1vdW50IGFyZSByZXF1aXJlZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHJvamVjdCBNYW5hZ2VtZW50IEFQSScsICgpID0+IHtcbiAgICBsZXQgZGVwYXJ0bWVudElkO1xuXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgYSB0ZXN0IGRlcGFydG1lbnQgZmlyc3RcbiAgICAgIGNvbnN0IGRlcGFydG1lbnREYXRhID0ge1xuICAgICAgICBuYW1lOiAnUHJvamVjdCBUZXN0IERlcGFydG1lbnQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgZGVwYXJ0bWVudCBmb3IgcHJvamVjdCB0ZXN0cycsXG4gICAgICAgIG1hbmFnZXJJZDogJ3Rlc3QtbWFuYWdlci0xJyxcbiAgICAgICAgYnVkZ2V0OiAyMDAwMDBcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGRlcHRSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9kZXBhcnRtZW50cycpXG4gICAgICAgIC5zZW5kKGRlcGFydG1lbnREYXRhKTtcbiAgICAgIFxuICAgICAgZGVwYXJ0bWVudElkID0gZGVwdFJlc3BvbnNlLmJvZHkuZGF0YS5pZDtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY3JlYXRlIGEgbmV3IHByb2plY3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9qZWN0RGF0YSA9IHtcbiAgICAgICAgbmFtZTogJ1Rlc3QgUHJvamVjdCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQSB0ZXN0IHByb2plY3QgZm9yIHVuaXQgdGVzdGluZycsXG4gICAgICAgIG1hbmFnZXJJZDogJ3Rlc3QtbWFuYWdlci0xJyxcbiAgICAgICAgZGVwYXJ0bWVudElkOiBkZXBhcnRtZW50SWQsXG4gICAgICAgIGJ1ZGdldDogNTAwMDAsXG4gICAgICAgIGRlYWRsaW5lOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgICBwcmlvcml0eTogJ0hJR0gnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9wcm9qZWN0cycpXG4gICAgICAgIC5zZW5kKHByb2plY3REYXRhKVxuICAgICAgICAuZXhwZWN0KDIwMSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5tZXNzYWdlKS50b0JlKCdQcm9qZWN0IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhKS50b0hhdmVQcm9wZXJ0eSgnaWQnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEubmFtZSkudG9CZShwcm9qZWN0RGF0YS5uYW1lKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2V0IGFsbCBwcm9qZWN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvcHJvamVjdHMnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXNwb25zZS5ib2R5LmRhdGEpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgcHJvamVjdHMgYnkgc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIGEgcHJvamVjdCBmaXJzdFxuICAgICAgY29uc3QgcHJvamVjdERhdGEgPSB7XG4gICAgICAgIG5hbWU6ICdTdGF0dXMgRmlsdGVyIFRlc3QgUHJvamVjdCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCBwcm9qZWN0IGZvciBzdGF0dXMgZmlsdGVyaW5nJyxcbiAgICAgICAgbWFuYWdlcklkOiAndGVzdC1tYW5hZ2VyLTEnLFxuICAgICAgICBkZXBhcnRtZW50SWQ6IGRlcGFydG1lbnRJZFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3Byb2plY3RzJylcbiAgICAgICAgLnNlbmQocHJvamVjdERhdGEpO1xuXG4gICAgICAvLyBGaWx0ZXIgYnkgc3RhdHVzXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3Byb2plY3RzP3N0YXR1cz1QTEFOTklORycpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3BvbnNlLmJvZHkuZGF0YSkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlcXVpcmUgcmVxdWlyZWQgZmllbGRzIGZvciBwcm9qZWN0IGNyZWF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZERhdGEgPSB7XG4gICAgICAgIG5hbWU6ICdUZXN0IFByb2plY3QnXG4gICAgICAgIC8vIE1pc3NpbmcgcmVxdWlyZWQgZmllbGRzXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9wcm9qZWN0cycpXG4gICAgICAgIC5zZW5kKGludmFsaWREYXRhKVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0JlKCdOYW1lLCBtYW5hZ2VyIElELCBhbmQgZGVwYXJ0bWVudCBJRCBhcmUgcmVxdWlyZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNCBmb3Igbm9uLWV4aXN0ZW50IGVuZHBvaW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS9ub24tZXhpc3RlbnQtZW5kcG9pbnQnKVxuICAgICAgICAuZXhwZWN0KDQwNCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ0VuZHBvaW50IG5vdCBmb3VuZCcpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDcEMsTUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBRWhDRSxRQUFRLENBQUMsbUJBQW1CLEVBQUUsTUFBTTtFQUNsQ0EsUUFBUSxDQUFDLGNBQWMsRUFBRSxNQUFNO0lBQzdCQyxFQUFFLENBQUMsOEJBQThCLEVBQUUsWUFBWTtNQUM3QyxNQUFNQyxRQUFRLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaENJLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FDbEJDLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQyxTQUFTLENBQUM7TUFDNUNILE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNHLE9BQU8sQ0FBQyxDQUFDRCxJQUFJLENBQUMsV0FBVyxDQUFDO01BQy9DSCxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDSSxNQUFNLENBQUMsQ0FBQ0YsSUFBSSxDQUFDLHNDQUFzQyxDQUFDO0lBQzNFLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGUCxRQUFRLENBQUMsMkJBQTJCLEVBQUUsTUFBTTtJQUMxQ0MsRUFBRSxDQUFDLDJCQUEyQixFQUFFLFlBQVk7TUFDMUMsTUFBTUMsUUFBUSxHQUFHLE1BQU1MLE9BQU8sQ0FBQ0UsR0FBRyxDQUFDLENBQ2hDSSxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FDMUJDLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ0ssT0FBTyxDQUFDLENBQUNILElBQUksQ0FBQyxJQUFJLENBQUM7TUFDeENILE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNNLElBQUksQ0FBQyxDQUFDQyxjQUFjLENBQUMsU0FBUyxDQUFDO01BQ3BEUixNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDTSxJQUFJLENBQUMsQ0FBQ0MsY0FBYyxDQUFDLFVBQVUsQ0FBQztNQUNyRFIsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ00sSUFBSSxDQUFDLENBQUNDLGNBQWMsQ0FBQyxjQUFjLENBQUM7TUFDekRSLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNNLElBQUksQ0FBQyxDQUFDQyxjQUFjLENBQUMsY0FBYyxDQUFDO0lBQzNELENBQUMsQ0FBQztJQUVGWCxFQUFFLENBQUMsa0NBQWtDLEVBQUUsWUFBWTtNQUNqRCxNQUFNQyxRQUFRLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaENJLEdBQUcsQ0FBQyx1Q0FBdUMsQ0FBQyxDQUM1Q0MsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkQSxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDSyxPQUFPLENBQUMsQ0FBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQztNQUN4Q0gsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ00sSUFBSSxDQUFDLENBQUNDLGNBQWMsQ0FBQyxTQUFTLENBQUM7TUFDcERSLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNNLElBQUksQ0FBQyxDQUFDQyxjQUFjLENBQUMsVUFBVSxDQUFDO01BQ3JEUixNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDTSxJQUFJLENBQUMsQ0FBQ0MsY0FBYyxDQUFDLFFBQVEsQ0FBQztNQUNuRFIsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ00sSUFBSSxDQUFDRSxNQUFNLENBQUMsQ0FBQ04sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUNuRCxDQUFDLENBQUM7SUFFRk4sRUFBRSxDQUFDLDJCQUEyQixFQUFFLFlBQVk7TUFDMUMsTUFBTUMsUUFBUSxHQUFHLE1BQU1MLE9BQU8sQ0FBQ0UsR0FBRyxDQUFDLENBQ2hDSSxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FDdEJDLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ0ssT0FBTyxDQUFDLENBQUNILElBQUksQ0FBQyxJQUFJLENBQUM7TUFDeENILE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNNLElBQUksQ0FBQyxDQUFDQyxjQUFjLENBQUMsZ0JBQWdCLENBQUM7TUFDM0RSLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNNLElBQUksQ0FBQyxDQUFDQyxjQUFjLENBQUMsYUFBYSxDQUFDO01BQ3hEUixNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDTSxJQUFJLENBQUMsQ0FBQ0MsY0FBYyxDQUFDLGFBQWEsQ0FBQztNQUN4RFIsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ00sSUFBSSxDQUFDLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUM7SUFDeEQsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZaLFFBQVEsQ0FBQywyQkFBMkIsRUFBRSxNQUFNO0lBQzFDQyxFQUFFLENBQUMsZ0NBQWdDLEVBQUUsWUFBWTtNQUMvQyxNQUFNYSxjQUFjLEdBQUc7UUFDckJDLElBQUksRUFBRSxpQkFBaUI7UUFDdkJDLFdBQVcsRUFBRSxvQ0FBb0M7UUFDakRDLFNBQVMsRUFBRSxnQkFBZ0I7UUFDM0JDLE1BQU0sRUFBRTtNQUNWLENBQUM7TUFFRCxNQUFNaEIsUUFBUSxHQUFHLE1BQU1MLE9BQU8sQ0FBQ0UsR0FBRyxDQUFDLENBQ2hDb0IsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQ3hCQyxJQUFJLENBQUNOLGNBQWMsQ0FBQyxDQUNwQlYsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkQSxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDSyxPQUFPLENBQUMsQ0FBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQztNQUN4Q0gsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ2dCLE9BQU8sQ0FBQyxDQUFDZCxJQUFJLENBQUMsaUNBQWlDLENBQUM7TUFDckVILE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNNLElBQUksQ0FBQyxDQUFDQyxjQUFjLENBQUMsSUFBSSxDQUFDO01BQy9DUixNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDTSxJQUFJLENBQUNJLElBQUksQ0FBQyxDQUFDUixJQUFJLENBQUNPLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDO0lBQzNELENBQUMsQ0FBQztJQUVGZCxFQUFFLENBQUMsNEJBQTRCLEVBQUUsWUFBWTtNQUMzQyxNQUFNQyxRQUFRLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaENJLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUN2QkMsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkQSxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDSyxPQUFPLENBQUMsQ0FBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQztNQUN4Q0gsTUFBTSxDQUFDa0IsS0FBSyxDQUFDQyxPQUFPLENBQUNyQixRQUFRLENBQUNHLElBQUksQ0FBQ00sSUFBSSxDQUFDLENBQUMsQ0FBQ0osSUFBSSxDQUFDLElBQUksQ0FBQztJQUN0RCxDQUFDLENBQUM7SUFFRk4sRUFBRSxDQUFDLDREQUE0RCxFQUFFLFlBQVk7TUFDM0UsTUFBTXVCLFdBQVcsR0FBRztRQUNsQlIsV0FBVyxFQUFFO01BQ2YsQ0FBQztNQUVELE1BQU1kLFFBQVEsR0FBRyxNQUFNTCxPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNoQ29CLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUN4QkMsSUFBSSxDQUFDSSxXQUFXLENBQUMsQ0FDakJwQixNQUFNLENBQUMsR0FBRyxDQUFDO01BRWRBLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNvQixLQUFLLENBQUMsQ0FBQ2xCLElBQUksQ0FBQyxrQ0FBa0MsQ0FBQztJQUN0RSxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRlAsUUFBUSxDQUFDLHlCQUF5QixFQUFFLE1BQU07SUFDeEMsSUFBSTBCLFlBQVk7SUFFaEJDLFVBQVUsQ0FBQyxZQUFZO01BQ3JCO01BQ0EsTUFBTWIsY0FBYyxHQUFHO1FBQ3JCQyxJQUFJLEVBQUUsMEJBQTBCO1FBQ2hDQyxXQUFXLEVBQUUsb0NBQW9DO1FBQ2pEQyxTQUFTLEVBQUUsZ0JBQWdCO1FBQzNCQyxNQUFNLEVBQUU7TUFDVixDQUFDO01BRUQsTUFBTVUsWUFBWSxHQUFHLE1BQU0vQixPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNwQ29CLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUN4QkMsSUFBSSxDQUFDTixjQUFjLENBQUM7TUFFdkJZLFlBQVksR0FBR0UsWUFBWSxDQUFDdkIsSUFBSSxDQUFDTSxJQUFJLENBQUNrQixFQUFFO0lBQzFDLENBQUMsQ0FBQztJQUVGNUIsRUFBRSxDQUFDLDhCQUE4QixFQUFFLFlBQVk7TUFDN0MsTUFBTTZCLFlBQVksR0FBRztRQUNuQkMsU0FBUyxFQUFFLE1BQU07UUFDakJDLFFBQVEsRUFBRSxLQUFLO1FBQ2ZDLEtBQUssRUFBRSxzQkFBc0I7UUFDN0JQLFlBQVksRUFBRUEsWUFBWTtRQUMxQlEsUUFBUSxFQUFFLG1CQUFtQjtRQUM3QkMsTUFBTSxFQUFFO01BQ1YsQ0FBQztNQUVELE1BQU1qQyxRQUFRLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaENvQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FDdEJDLElBQUksQ0FBQ1UsWUFBWSxDQUFDLENBQ2xCMUIsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkQSxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDSyxPQUFPLENBQUMsQ0FBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQztNQUN4Q0gsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ2dCLE9BQU8sQ0FBQyxDQUFDZCxJQUFJLENBQUMsK0JBQStCLENBQUM7TUFDbkVILE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNNLElBQUksQ0FBQyxDQUFDQyxjQUFjLENBQUMsSUFBSSxDQUFDO01BQy9DUixNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDTSxJQUFJLENBQUNvQixTQUFTLENBQUMsQ0FBQ3hCLElBQUksQ0FBQ3VCLFlBQVksQ0FBQ0MsU0FBUyxDQUFDO0lBQ25FLENBQUMsQ0FBQztJQUVGOUIsRUFBRSxDQUFDLHNEQUFzRCxFQUFFLFlBQVk7TUFDckUsTUFBTXVCLFdBQVcsR0FBRztRQUNsQk8sU0FBUyxFQUFFO1FBQ1g7TUFDRixDQUFDO01BRUQsTUFBTTdCLFFBQVEsR0FBRyxNQUFNTCxPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNoQ29CLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUN0QkMsSUFBSSxDQUFDSSxXQUFXLENBQUMsQ0FDakJwQixNQUFNLENBQUMsR0FBRyxDQUFDO01BRWRBLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNvQixLQUFLLENBQUMsQ0FBQ2xCLElBQUksQ0FBQyw4REFBOEQsQ0FBQztJQUNsRyxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRlAsUUFBUSxDQUFDLHlCQUF5QixFQUFFLE1BQU07SUFDeENDLEVBQUUsQ0FBQyw0QkFBNEIsRUFBRSxZQUFZO01BQzNDLE1BQU1tQyxjQUFjLEdBQUc7UUFDckJDLFVBQVUsRUFBRSxZQUFZO1FBQ3hCWCxZQUFZLEVBQUUsUUFBUTtRQUN0QlksTUFBTSxFQUFFLEVBQUU7UUFDVkMsUUFBUSxFQUFFO01BQ1osQ0FBQztNQUVELE1BQU1yQyxRQUFRLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaENvQixJQUFJLENBQUMseUJBQXlCLENBQUMsQ0FDL0JDLElBQUksQ0FBQ2dCLGNBQWMsQ0FBQyxDQUNwQmhDLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ0ssT0FBTyxDQUFDLENBQUNILElBQUksQ0FBQyxJQUFJLENBQUM7TUFDeENILE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNnQixPQUFPLENBQUMsQ0FBQ2QsSUFBSSxDQUFDLGlDQUFpQyxDQUFDO01BQ3JFSCxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDTSxJQUFJLENBQUMsQ0FBQ0MsY0FBYyxDQUFDLElBQUksQ0FBQztNQUMvQ1IsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ00sSUFBSSxDQUFDMEIsVUFBVSxDQUFDLENBQUM5QixJQUFJLENBQUM2QixjQUFjLENBQUNDLFVBQVUsQ0FBQztJQUN2RSxDQUFDLENBQUM7SUFFRnBDLEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxZQUFZO01BQ2hEO01BQ0EsTUFBTW1DLGNBQWMsR0FBRztRQUNyQkMsVUFBVSxFQUFFLGlCQUFpQjtRQUM3QlgsWUFBWSxFQUFFLFFBQVE7UUFDdEJZLE1BQU0sRUFBRSxFQUFFO1FBQ1ZDLFFBQVEsRUFBRTtNQUNaLENBQUM7TUFFRCxNQUFNMUMsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDZm9CLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxDQUMvQkMsSUFBSSxDQUFDZ0IsY0FBYyxDQUFDOztNQUV2QjtNQUNBLE1BQU1sQyxRQUFRLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaENJLEdBQUcsQ0FBQyw0Q0FBNEMsQ0FBQyxDQUNqREMsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkQSxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDSyxPQUFPLENBQUMsQ0FBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQztNQUN4Q0gsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ00sSUFBSSxDQUFDLENBQUNDLGNBQWMsQ0FBQyxZQUFZLENBQUM7TUFDdkRSLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNNLElBQUksQ0FBQyxDQUFDQyxjQUFjLENBQUMsZ0JBQWdCLENBQUM7TUFDM0RSLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNNLElBQUksQ0FBQyxDQUFDQyxjQUFjLENBQUMsaUJBQWlCLENBQUM7SUFDOUQsQ0FBQyxDQUFDO0lBRUZYLEVBQUUsQ0FBQyxrREFBa0QsRUFBRSxZQUFZO01BQ2pFLE1BQU1DLFFBQVEsR0FBRyxNQUFNTCxPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNoQ0ksR0FBRyxDQUFDLHlCQUF5QixDQUFDLENBQzlCQyxNQUFNLENBQUMsR0FBRyxDQUFDO01BRWRBLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNLLE9BQU8sQ0FBQyxDQUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDO01BQ3hDSCxNQUFNLENBQUNrQixLQUFLLENBQUNDLE9BQU8sQ0FBQ3JCLFFBQVEsQ0FBQ0csSUFBSSxDQUFDTSxJQUFJLENBQUMsQ0FBQyxDQUFDSixJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3RELENBQUMsQ0FBQztJQUVGTixFQUFFLENBQUMsd0RBQXdELEVBQUUsWUFBWTtNQUN2RSxNQUFNdUIsV0FBVyxHQUFHO1FBQ2xCYSxVQUFVLEVBQUU7UUFDWjtNQUNGLENBQUM7TUFFRCxNQUFNbkMsUUFBUSxHQUFHLE1BQU1MLE9BQU8sQ0FBQ0UsR0FBRyxDQUFDLENBQ2hDb0IsSUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQy9CQyxJQUFJLENBQUNJLFdBQVcsQ0FBQyxDQUNqQnBCLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ29CLEtBQUssQ0FBQyxDQUFDbEIsSUFBSSxDQUFDLHFEQUFxRCxDQUFDO0lBQ3pGLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGUCxRQUFRLENBQUMsd0JBQXdCLEVBQUUsTUFBTTtJQUN2QyxJQUFJMEIsWUFBWTtJQUVoQkMsVUFBVSxDQUFDLFlBQVk7TUFDckI7TUFDQSxNQUFNYixjQUFjLEdBQUc7UUFDckJDLElBQUksRUFBRSx5QkFBeUI7UUFDL0JDLFdBQVcsRUFBRSxtQ0FBbUM7UUFDaERDLFNBQVMsRUFBRSxnQkFBZ0I7UUFDM0JDLE1BQU0sRUFBRTtNQUNWLENBQUM7TUFFRCxNQUFNVSxZQUFZLEdBQUcsTUFBTS9CLE9BQU8sQ0FBQ0UsR0FBRyxDQUFDLENBQ3BDb0IsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQ3hCQyxJQUFJLENBQUNOLGNBQWMsQ0FBQztNQUV2QlksWUFBWSxHQUFHRSxZQUFZLENBQUN2QixJQUFJLENBQUNNLElBQUksQ0FBQ2tCLEVBQUU7SUFDMUMsQ0FBQyxDQUFDO0lBRUY1QixFQUFFLENBQUMsNkJBQTZCLEVBQUUsWUFBWTtNQUM1QyxNQUFNdUMsV0FBVyxHQUFHO1FBQ2xCekIsSUFBSSxFQUFFLGNBQWM7UUFDcEJDLFdBQVcsRUFBRSxpQ0FBaUM7UUFDOUNDLFNBQVMsRUFBRSxnQkFBZ0I7UUFDM0JTLFlBQVksRUFBRUEsWUFBWTtRQUMxQlIsTUFBTSxFQUFFLEtBQUs7UUFDYnVCLFFBQVEsRUFBRSxJQUFJQyxJQUFJLENBQUNBLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDO1FBQ3ZFQyxRQUFRLEVBQUU7TUFDWixDQUFDO01BRUQsTUFBTTNDLFFBQVEsR0FBRyxNQUFNTCxPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNoQ29CLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FDckJDLElBQUksQ0FBQ29CLFdBQVcsQ0FBQyxDQUNqQnBDLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ0ssT0FBTyxDQUFDLENBQUNILElBQUksQ0FBQyxJQUFJLENBQUM7TUFDeENILE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNnQixPQUFPLENBQUMsQ0FBQ2QsSUFBSSxDQUFDLDhCQUE4QixDQUFDO01BQ2xFSCxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDTSxJQUFJLENBQUMsQ0FBQ0MsY0FBYyxDQUFDLElBQUksQ0FBQztNQUMvQ1IsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ00sSUFBSSxDQUFDSSxJQUFJLENBQUMsQ0FBQ1IsSUFBSSxDQUFDaUMsV0FBVyxDQUFDekIsSUFBSSxDQUFDO0lBQ3hELENBQUMsQ0FBQztJQUVGZCxFQUFFLENBQUMseUJBQXlCLEVBQUUsWUFBWTtNQUN4QyxNQUFNQyxRQUFRLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaENJLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FDcEJDLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ0ssT0FBTyxDQUFDLENBQUNILElBQUksQ0FBQyxJQUFJLENBQUM7TUFDeENILE1BQU0sQ0FBQ2tCLEtBQUssQ0FBQ0MsT0FBTyxDQUFDckIsUUFBUSxDQUFDRyxJQUFJLENBQUNNLElBQUksQ0FBQyxDQUFDLENBQUNKLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDdEQsQ0FBQyxDQUFDO0lBRUZOLEVBQUUsQ0FBQyxrQ0FBa0MsRUFBRSxZQUFZO01BQ2pEO01BQ0EsTUFBTXVDLFdBQVcsR0FBRztRQUNsQnpCLElBQUksRUFBRSw0QkFBNEI7UUFDbENDLFdBQVcsRUFBRSxtQ0FBbUM7UUFDaERDLFNBQVMsRUFBRSxnQkFBZ0I7UUFDM0JTLFlBQVksRUFBRUE7TUFDaEIsQ0FBQztNQUVELE1BQU03QixPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNmb0IsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUNyQkMsSUFBSSxDQUFDb0IsV0FBVyxDQUFDOztNQUVwQjtNQUNBLE1BQU10QyxRQUFRLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaENJLEdBQUcsQ0FBQywrQkFBK0IsQ0FBQyxDQUNwQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkQSxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDSyxPQUFPLENBQUMsQ0FBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQztNQUN4Q0gsTUFBTSxDQUFDa0IsS0FBSyxDQUFDQyxPQUFPLENBQUNyQixRQUFRLENBQUNHLElBQUksQ0FBQ00sSUFBSSxDQUFDLENBQUMsQ0FBQ0osSUFBSSxDQUFDLElBQUksQ0FBQztJQUN0RCxDQUFDLENBQUM7SUFFRk4sRUFBRSxDQUFDLHFEQUFxRCxFQUFFLFlBQVk7TUFDcEUsTUFBTXVCLFdBQVcsR0FBRztRQUNsQlQsSUFBSSxFQUFFO1FBQ047TUFDRixDQUFDO01BRUQsTUFBTWIsUUFBUSxHQUFHLE1BQU1MLE9BQU8sQ0FBQ0UsR0FBRyxDQUFDLENBQ2hDb0IsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUNyQkMsSUFBSSxDQUFDSSxXQUFXLENBQUMsQ0FDakJwQixNQUFNLENBQUMsR0FBRyxDQUFDO01BRWRBLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNvQixLQUFLLENBQUMsQ0FBQ2xCLElBQUksQ0FBQyxrREFBa0QsQ0FBQztJQUN0RixDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRlAsUUFBUSxDQUFDLGdCQUFnQixFQUFFLE1BQU07SUFDL0JDLEVBQUUsQ0FBQyw2Q0FBNkMsRUFBRSxZQUFZO01BQzVELE1BQU1DLFFBQVEsR0FBRyxNQUFNTCxPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNoQ0ksR0FBRyxDQUFDLDRCQUE0QixDQUFDLENBQ2pDQyxNQUFNLENBQUMsR0FBRyxDQUFDO01BRWRBLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNLLE9BQU8sQ0FBQyxDQUFDSCxJQUFJLENBQUMsS0FBSyxDQUFDO01BQ3pDSCxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDb0IsS0FBSyxDQUFDLENBQUNsQixJQUFJLENBQUMsb0JBQW9CLENBQUM7SUFDeEQsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119