{"version":3,"names":["_getJestObj","mock","_elaraIntegration","require","_knowledgeOceanIntegration","_constitutionalAiIntegration","jest","describe","beforeEach","clearAllMocks","it","questionData","studentId","enrollmentId","courseId","moduleId","question","context","difficulty","mockResponse","id","answer","confidence","sources","timestamp","Date","tutoringService","askQuestion","mockResolvedValue","result","expect","toBeDefined","toBe","toHaveBeenCalledWith","error","Error","mockRejectedValue","rejects","toThrow","mockHistory","totalQuestions","responses","averageConfidence","getTutoringHistory","toHaveLength","mockRecommendations","recommendations","topic","suggestedResources","estimatedTime","strugglingAreas","getRecommendations","retrievalData","query","language","topK","mockResult","resources","title","content","source","relevanceScore","url","internalCount","externalCount","internalPercentage","externalPercentage","retrievalTime","contextRetrievalService","retrieveContext","toBeLessThan","internalResources","Array","fill","map","_","i","externalResources","mockResources","getLanguageSpecificResources","toContain","rankedResources","rankResources","validationData","contentType","contentId","isValid","complianceScore","violations","validatedAt","contentValidationService","validateCourseContent","type","severity","message","location","validateAssessmentQuestions","validateTeacherFeedback","hasBias","biasTypes","checkForBias","isAccurate","issues","suggestions","checkForAccuracy","isClarity","readabilityScore","checkForClarity","isSafe","harmTypes","checkForSafety","tutoringResponse","tutorResult","contextData","contextResponse","contextResult","validationResponse","validationResult"],"sources":["ai-engines.integration.test.ts"],"sourcesContent":["import { tutoringService } from '../elara-integration';\r\nimport { contextRetrievalService } from '../knowledge-ocean-integration';\r\nimport { contentValidationService } from '../constitutional-ai-integration';\r\n\r\njest.mock('../elara-integration');\r\njest.mock('../knowledge-ocean-integration');\r\njest.mock('../constitutional-ai-integration');\r\n\r\ndescribe('AI Engines Integration Tests', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n  });\r\n\r\n  describe('Elara Orchestrator Integration', () => {\r\n    describe('Tutoring Service', () => {\r\n      it('should ask a question and receive tutoring response', async () => {\r\n        const questionData = {\r\n          studentId: 'student-1',\r\n          enrollmentId: 'enrollment-1',\r\n          courseId: 'course-1',\r\n          moduleId: 'module-1',\r\n          question: 'What is TypeScript?',\r\n          context: { difficulty: 'beginner' },\r\n        };\r\n\r\n        const mockResponse = {\r\n          id: 'tutoring-1',\r\n          studentId: 'student-1',\r\n          question: 'What is TypeScript?',\r\n          answer: 'TypeScript is a typed superset of JavaScript that compiles to plain JavaScript.',\r\n          confidence: 0.95,\r\n          sources: ['typescript-docs', 'course-module-1'],\r\n          timestamp: new Date(),\r\n        };\r\n\r\n        (tutoringService.askQuestion as jest.Mock).mockResolvedValue(mockResponse);\r\n\r\n        const result = await tutoringService.askQuestion(questionData);\r\n\r\n        expect(result).toBeDefined();\r\n        expect(result.answer).toBe(\r\n          'TypeScript is a typed superset of JavaScript that compiles to plain JavaScript.'\r\n        );\r\n        expect(result.confidence).toBe(0.95);\r\n        expect(tutoringService.askQuestion).toHaveBeenCalledWith(questionData);\r\n      });\r\n\r\n      it('should handle Elara service errors gracefully', async () => {\r\n        const questionData = {\r\n          studentId: 'student-1',\r\n          enrollmentId: 'enrollment-1',\r\n          courseId: 'course-1',\r\n          moduleId: 'module-1',\r\n          question: 'What is TypeScript?',\r\n        };\r\n\r\n        const error = new Error('Failed to connect to Elara Orchestrator');\r\n        (tutoringService.askQuestion as jest.Mock).mockRejectedValue(error);\r\n\r\n        await expect(tutoringService.askQuestion(questionData)).rejects.toThrow(\r\n          'Failed to connect to Elara Orchestrator'\r\n        );\r\n      });\r\n\r\n      it('should retrieve tutoring history for a student', async () => {\r\n        const mockHistory = {\r\n          studentId: 'student-1',\r\n          totalQuestions: 5,\r\n          responses: [\r\n            {\r\n              id: 'tutoring-1',\r\n              studentId: 'student-1',\r\n              question: 'What is TypeScript?',\r\n              answer: 'TypeScript is a typed superset of JavaScript.',\r\n              confidence: 0.95,\r\n              sources: ['typescript-docs'],\r\n              timestamp: new Date(),\r\n            },\r\n            {\r\n              id: 'tutoring-2',\r\n              studentId: 'student-1',\r\n              question: 'How do I use interfaces?',\r\n              answer: 'Interfaces define the structure of objects.',\r\n              confidence: 0.92,\r\n              sources: ['typescript-docs'],\r\n              timestamp: new Date(),\r\n            },\r\n          ],\r\n          averageConfidence: 0.935,\r\n        };\r\n\r\n        (tutoringService.getTutoringHistory as jest.Mock).mockResolvedValue(mockHistory);\r\n\r\n        const result = await tutoringService.getTutoringHistory('student-1');\r\n\r\n        expect(result.totalQuestions).toBe(5);\r\n        expect(result.responses).toHaveLength(2);\r\n        expect(result.averageConfidence).toBe(0.935);\r\n      });\r\n\r\n      it('should get personalized tutoring recommendations', async () => {\r\n        const mockRecommendations = {\r\n          studentId: 'student-1',\r\n          enrollmentId: 'enrollment-1',\r\n          recommendations: [\r\n            {\r\n              topic: 'Interfaces',\r\n              difficulty: 'intermediate',\r\n              suggestedResources: ['interface-tutorial', 'interface-examples'],\r\n              estimatedTime: 30,\r\n            },\r\n            {\r\n              topic: 'Generics',\r\n              difficulty: 'advanced',\r\n              suggestedResources: ['generics-guide', 'generics-patterns'],\r\n              estimatedTime: 45,\r\n            },\r\n          ],\r\n          strugglingAreas: 2,\r\n          timestamp: new Date(),\r\n        };\r\n\r\n        (tutoringService.getRecommendations as jest.Mock).mockResolvedValue(\r\n          mockRecommendations\r\n        );\r\n\r\n        const result = await tutoringService.getRecommendations('student-1', 'enrollment-1');\r\n\r\n        expect(result.recommendations).toHaveLength(2);\r\n        expect(result.strugglingAreas).toBe(2);\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('Knowledge Ocean Integration', () => {\r\n    describe('Context Retrieval Service', () => {\r\n      it('should retrieve context with 70/30 rule compliance', async () => {\r\n        const retrievalData = {\r\n          studentId: 'student-1',\r\n          courseId: 'course-1',\r\n          moduleId: 'module-1',\r\n          query: 'What is TypeScript?',\r\n          language: 'en',\r\n          topK: 10,\r\n        };\r\n\r\n        const mockResult = {\r\n          query: 'What is TypeScript?',\r\n          resources: [\r\n            {\r\n              id: 'resource-1',\r\n              title: 'TypeScript Handbook',\r\n              content: 'TypeScript is a typed superset of JavaScript...',\r\n              source: 'internal' as const,\r\n              relevanceScore: 0.95,\r\n              url: 'https://www.typescriptlang.org/docs/',\r\n            },\r\n            {\r\n              id: 'resource-2',\r\n              title: 'TypeScript Tutorial',\r\n              content: 'Learn TypeScript basics...',\r\n              source: 'internal' as const,\r\n              relevanceScore: 0.92,\r\n              url: 'https://example.com/ts-tutorial',\r\n            },\r\n            {\r\n              id: 'resource-3',\r\n              title: 'TypeScript Best Practices',\r\n              content: 'Best practices for TypeScript development...',\r\n              source: 'internal' as const,\r\n              relevanceScore: 0.88,\r\n              url: 'https://example.com/ts-best-practices',\r\n            },\r\n            {\r\n              id: 'resource-4',\r\n              title: 'TypeScript on Stack Overflow',\r\n              content: 'Common TypeScript questions and answers...',\r\n              source: 'external' as const,\r\n              relevanceScore: 0.85,\r\n              url: 'https://stackoverflow.com/questions/tagged/typescript',\r\n            },\r\n            {\r\n              id: 'resource-5',\r\n              title: 'TypeScript GitHub',\r\n              content: 'TypeScript repository and issues...',\r\n              source: 'external' as const,\r\n              relevanceScore: 0.80,\r\n              url: 'https://github.com/microsoft/TypeScript',\r\n            },\r\n          ],\r\n          internalCount: 3,\r\n          externalCount: 2,\r\n          internalPercentage: 60,\r\n          externalPercentage: 40,\r\n          retrievalTime: 245,\r\n          timestamp: new Date(),\r\n        };\r\n\r\n        (contextRetrievalService.retrieveContext as jest.Mock).mockResolvedValue(mockResult);\r\n\r\n        const result = await contextRetrievalService.retrieveContext(retrievalData);\r\n\r\n        expect(result.resources).toHaveLength(5);\r\n        expect(result.internalCount).toBe(3);\r\n        expect(result.externalCount).toBe(2);\r\n        expect(result.retrievalTime).toBeLessThan(300);\r\n      });\r\n\r\n      it('should enforce 70/30 rule for resource distribution', async () => {\r\n        const retrievalData = {\r\n          studentId: 'student-1',\r\n          courseId: 'course-1',\r\n          moduleId: 'module-1',\r\n          query: 'What is TypeScript?',\r\n          language: 'en',\r\n          topK: 10,\r\n        };\r\n\r\n        const internalResources = Array(7)\r\n          .fill(null)\r\n          .map((_, i) => ({\r\n            id: `resource-${i + 1}`,\r\n            title: `Resource ${i + 1}`,\r\n            content: 'Content...',\r\n            source: 'internal' as const,\r\n            relevanceScore: 0.9 - i * 0.05,\r\n          }));\r\n\r\n        const externalResources = Array(3)\r\n          .fill(null)\r\n          .map((_, i) => ({\r\n            id: `resource-${i + 8}`,\r\n            title: `Resource ${i + 8}`,\r\n            content: 'Content...',\r\n            source: 'external' as const,\r\n            relevanceScore: 0.6 - i * 0.05,\r\n          }));\r\n\r\n        const mockResult = {\r\n          query: 'What is TypeScript?',\r\n          resources: [...internalResources, ...externalResources],\r\n          internalCount: 7,\r\n          externalCount: 3,\r\n          internalPercentage: 70,\r\n          externalPercentage: 30,\r\n          retrievalTime: 250,\r\n          timestamp: new Date(),\r\n        };\r\n\r\n        (contextRetrievalService.retrieveContext as jest.Mock).mockResolvedValue(mockResult);\r\n\r\n        const result = await contextRetrievalService.retrieveContext(retrievalData);\r\n\r\n        expect(result.internalPercentage).toBe(70);\r\n        expect(result.externalPercentage).toBe(30);\r\n      });\r\n\r\n      it('should handle Knowledge Ocean retrieval errors', async () => {\r\n        const retrievalData = {\r\n          studentId: 'student-1',\r\n          courseId: 'course-1',\r\n          moduleId: 'module-1',\r\n          query: 'What is TypeScript?',\r\n          language: 'en',\r\n          topK: 10,\r\n        };\r\n\r\n        const error = new Error('Failed to connect to Knowledge Ocean');\r\n        (contextRetrievalService.retrieveContext as jest.Mock).mockRejectedValue(error);\r\n\r\n        await expect(contextRetrievalService.retrieveContext(retrievalData)).rejects.toThrow(\r\n          'Failed to connect to Knowledge Ocean'\r\n        );\r\n      });\r\n\r\n      it('should retrieve language-specific resources', async () => {\r\n        const mockResources = [\r\n          {\r\n            id: 'resource-1',\r\n            title: 'TypeScript Handbook (Spanish)',\r\n            content: 'TypeScript es un superconjunto tipado de JavaScript...',\r\n            source: 'internal' as const,\r\n            relevanceScore: 0.95,\r\n            url: 'https://www.typescriptlang.org/es/docs/',\r\n          },\r\n          {\r\n            id: 'resource-2',\r\n            title: 'TypeScript Tutorial (Spanish)',\r\n            content: 'Aprende los conceptos bÃ¡sicos de TypeScript...',\r\n            source: 'internal' as const,\r\n            relevanceScore: 0.92,\r\n            url: 'https://example.com/ts-tutorial-es',\r\n          },\r\n        ];\r\n\r\n        (contextRetrievalService.getLanguageSpecificResources as jest.Mock).mockResolvedValue(\r\n          mockResources\r\n        );\r\n\r\n        const result = await contextRetrievalService.getLanguageSpecificResources(\r\n          'course-1',\r\n          'module-1',\r\n          'es'\r\n        );\r\n\r\n        expect(result).toHaveLength(2);\r\n        expect(result[0].title).toContain('Spanish');\r\n      });\r\n\r\n      it('should rank resources by relevance', async () => {\r\n        const resources = [\r\n          {\r\n            id: 'resource-1',\r\n            title: 'Resource 1',\r\n            content: 'Content 1',\r\n            source: 'internal' as const,\r\n            relevanceScore: 0.85,\r\n          },\r\n          {\r\n            id: 'resource-2',\r\n            title: 'Resource 2',\r\n            content: 'Content 2',\r\n            source: 'external' as const,\r\n            relevanceScore: 0.92,\r\n          },\r\n          {\r\n            id: 'resource-3',\r\n            title: 'Resource 3',\r\n            content: 'Content 3',\r\n            source: 'internal' as const,\r\n            relevanceScore: 0.78,\r\n          },\r\n        ];\r\n\r\n        const rankedResources = [\r\n          {\r\n            id: 'resource-2',\r\n            title: 'Resource 2',\r\n            content: 'Content 2',\r\n            source: 'external' as const,\r\n            relevanceScore: 0.92,\r\n          },\r\n          {\r\n            id: 'resource-1',\r\n            title: 'Resource 1',\r\n            content: 'Content 1',\r\n            source: 'internal' as const,\r\n            relevanceScore: 0.85,\r\n          },\r\n          {\r\n            id: 'resource-3',\r\n            title: 'Resource 3',\r\n            content: 'Content 3',\r\n            source: 'internal' as const,\r\n            relevanceScore: 0.78,\r\n          },\r\n        ];\r\n\r\n        (contextRetrievalService.rankResources as jest.Mock).mockResolvedValue(rankedResources);\r\n\r\n        const result = await contextRetrievalService.rankResources(resources);\r\n\r\n        expect(result).toHaveLength(3);\r\n        expect(result[0].relevanceScore).toBe(0.92);\r\n        expect(result[1].relevanceScore).toBe(0.85);\r\n        expect(result[2].relevanceScore).toBe(0.78);\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('Constitutional AI Integration', () => {\r\n    describe('Content Validation Service', () => {\r\n      it('should validate course content successfully', async () => {\r\n        const validationData = {\r\n          courseId: 'course-1',\r\n          contentType: 'course' as const,\r\n          content: 'This is a comprehensive course on TypeScript fundamentals.',\r\n          title: 'TypeScript Basics',\r\n          language: 'en',\r\n        };\r\n\r\n        const mockResult = {\r\n          contentId: 'validation-1',\r\n          contentType: 'course',\r\n          isValid: true,\r\n          complianceScore: 95,\r\n          violations: [],\r\n          recommendations: ['Add more practical examples'],\r\n          validatedAt: new Date(),\r\n        };\r\n\r\n        (contentValidationService.validateCourseContent as jest.Mock).mockResolvedValue(\r\n          mockResult\r\n        );\r\n\r\n        const result = await contentValidationService.validateCourseContent(validationData);\r\n\r\n        expect(result.isValid).toBe(true);\r\n        expect(result.complianceScore).toBe(95);\r\n        expect(result.violations).toHaveLength(0);\r\n      });\r\n\r\n      it('should detect content violations', async () => {\r\n        const validationData = {\r\n          courseId: 'course-1',\r\n          contentType: 'course' as const,\r\n          content: 'Biased content that discriminates against certain groups.',\r\n          title: 'Problematic Course',\r\n          language: 'en',\r\n        };\r\n\r\n        const mockResult = {\r\n          contentId: 'validation-2',\r\n          contentType: 'course',\r\n          isValid: false,\r\n          complianceScore: 35,\r\n          violations: [\r\n            {\r\n              type: 'bias',\r\n              severity: 'high' as const,\r\n              message: 'Content contains discriminatory language',\r\n              location: 'paragraph 1',\r\n            },\r\n          ],\r\n          recommendations: ['Revise content to be more inclusive'],\r\n          validatedAt: new Date(),\r\n        };\r\n\r\n        (contentValidationService.validateCourseContent as jest.Mock).mockResolvedValue(\r\n          mockResult\r\n        );\r\n\r\n        const result = await contentValidationService.validateCourseContent(validationData);\r\n\r\n        expect(result.isValid).toBe(false);\r\n        expect(result.violations).toHaveLength(1);\r\n        expect(result.violations[0].severity).toBe('high');\r\n      });\r\n\r\n      it('should validate assessment questions', async () => {\r\n        const mockResult = {\r\n          contentId: 'assessment-1',\r\n          contentType: 'assessment',\r\n          isValid: true,\r\n          complianceScore: 88,\r\n          violations: [],\r\n          recommendations: ['Add more challenging questions'],\r\n          validatedAt: new Date(),\r\n        };\r\n\r\n        (contentValidationService.validateAssessmentQuestions as jest.Mock).mockResolvedValue(\r\n          mockResult\r\n        );\r\n\r\n        const result = await contentValidationService.validateAssessmentQuestions('assessment-1');\r\n\r\n        expect(result.contentType).toBe('assessment');\r\n        expect(result.complianceScore).toBe(88);\r\n      });\r\n\r\n      it('should detect problematic assessment questions', async () => {\r\n        const mockResult = {\r\n          contentId: 'assessment-2',\r\n          contentType: 'assessment',\r\n          isValid: false,\r\n          complianceScore: 42,\r\n          violations: [\r\n            {\r\n              type: 'clarity',\r\n              severity: 'medium' as const,\r\n              message: 'Question is ambiguous',\r\n              location: 'question 3',\r\n            },\r\n            {\r\n              type: 'bias',\r\n              severity: 'high' as const,\r\n              message: 'Question contains biased language',\r\n              location: 'question 5',\r\n            },\r\n          ],\r\n          recommendations: ['Rewrite ambiguous questions', 'Remove biased language'],\r\n          validatedAt: new Date(),\r\n        };\r\n\r\n        (contentValidationService.validateAssessmentQuestions as jest.Mock).mockResolvedValue(\r\n          mockResult\r\n        );\r\n\r\n        const result = await contentValidationService.validateAssessmentQuestions('assessment-2');\r\n\r\n        expect(result.isValid).toBe(false);\r\n        expect(result.violations).toHaveLength(2);\r\n      });\r\n\r\n      it('should validate teacher feedback', async () => {\r\n        const mockResult = {\r\n          contentId: 'feedback-enrollment-1',\r\n          contentType: 'feedback',\r\n          isValid: true,\r\n          complianceScore: 92,\r\n          violations: [],\r\n          recommendations: [],\r\n          validatedAt: new Date(),\r\n        };\r\n\r\n        (contentValidationService.validateTeacherFeedback as jest.Mock).mockResolvedValue(\r\n          mockResult\r\n        );\r\n\r\n        const result = await contentValidationService.validateTeacherFeedback(\r\n          'enrollment-1',\r\n          'Great work on the assignment!'\r\n        );\r\n\r\n        expect(result.isValid).toBe(true);\r\n        expect(result.complianceScore).toBe(92);\r\n      });\r\n\r\n      it('should detect inappropriate feedback', async () => {\r\n        const mockResult = {\r\n          contentId: 'feedback-enrollment-2',\r\n          contentType: 'feedback',\r\n          isValid: false,\r\n          complianceScore: 15,\r\n          violations: [\r\n            {\r\n              type: 'safety',\r\n              severity: 'critical' as const,\r\n              message: 'Feedback contains harmful language',\r\n            },\r\n          ],\r\n          recommendations: ['Provide constructive feedback instead'],\r\n          validatedAt: new Date(),\r\n        };\r\n\r\n        (contentValidationService.validateTeacherFeedback as jest.Mock).mockResolvedValue(\r\n          mockResult\r\n        );\r\n\r\n        const result = await contentValidationService.validateTeacherFeedback(\r\n          'enrollment-2',\r\n          'Your work is terrible and you are not smart enough for this course.'\r\n        );\r\n\r\n        expect(result.isValid).toBe(false);\r\n        expect(result.violations[0].severity).toBe('critical');\r\n      });\r\n\r\n      it('should check for bias in content', async () => {\r\n        const mockResult = {\r\n          hasBias: true,\r\n          biasTypes: ['gender'],\r\n          severity: 'high',\r\n          recommendations: ['Revise to be gender-neutral'],\r\n        };\r\n\r\n        (contentValidationService.checkForBias as jest.Mock).mockResolvedValue(mockResult);\r\n\r\n        const result = await contentValidationService.checkForBias(\r\n          'Women are not good at programming.'\r\n        );\r\n\r\n        expect(result.hasBias).toBe(true);\r\n        expect(result.biasTypes).toContain('gender');\r\n        expect(result.severity).toBe('high');\r\n      });\r\n\r\n      it('should return no bias for neutral content', async () => {\r\n        const mockResult = {\r\n          hasBias: false,\r\n          biasTypes: [],\r\n          severity: 'none',\r\n          recommendations: [],\r\n        };\r\n\r\n        (contentValidationService.checkForBias as jest.Mock).mockResolvedValue(mockResult);\r\n\r\n        const result = await contentValidationService.checkForBias(\r\n          'TypeScript is a programming language that adds static typing to JavaScript.'\r\n        );\r\n\r\n        expect(result.hasBias).toBe(false);\r\n      });\r\n\r\n      it('should check for accuracy issues', async () => {\r\n        const mockResult = {\r\n          isAccurate: false,\r\n          issues: ['Factually incorrect statement'],\r\n          confidence: 0.99,\r\n          suggestions: ['The Earth is spherical'],\r\n        };\r\n\r\n        (contentValidationService.checkForAccuracy as jest.Mock).mockResolvedValue(mockResult);\r\n\r\n        const result = await contentValidationService.checkForAccuracy('The Earth is flat.');\r\n\r\n        expect(result.isAccurate).toBe(false);\r\n        expect(result.issues).toHaveLength(1);\r\n      });\r\n\r\n      it('should check for clarity issues', async () => {\r\n        const mockResult = {\r\n          isClarity: false,\r\n          readabilityScore: 15,\r\n          issues: ['Overly complex vocabulary', 'Unclear sentence structure'],\r\n          suggestions: ['Use simpler language', 'Break into shorter sentences'],\r\n        };\r\n\r\n        (contentValidationService.checkForClarity as jest.Mock).mockResolvedValue(mockResult);\r\n\r\n        const result = await contentValidationService.checkForClarity(\r\n          'The multifaceted paradigmatic juxtaposition of heterogeneous methodologies necessitates comprehensive elucidation.'\r\n        );\r\n\r\n        expect(result.readabilityScore).toBe(15);\r\n        expect(result.issues).toHaveLength(2);\r\n      });\r\n\r\n      it('should check for safety issues', async () => {\r\n        const mockResult = {\r\n          isSafe: false,\r\n          harmTypes: ['dangerous-instructions'],\r\n          severity: 'critical',\r\n          recommendations: ['Remove harmful content'],\r\n        };\r\n\r\n        (contentValidationService.checkForSafety as jest.Mock).mockResolvedValue(mockResult);\r\n\r\n        const result = await contentValidationService.checkForSafety(\r\n          'Instructions on how to create harmful substances.'\r\n        );\r\n\r\n        expect(result.isSafe).toBe(false);\r\n        expect(result.severity).toBe('critical');\r\n      });\r\n\r\n      it('should handle Constitutional AI validation errors', async () => {\r\n        const validationData = {\r\n          courseId: 'course-1',\r\n          contentType: 'course' as const,\r\n          content: 'Some content',\r\n          title: 'Course',\r\n          language: 'en',\r\n        };\r\n\r\n        const error = new Error('Constitutional AI service unavailable');\r\n        (contentValidationService.validateCourseContent as jest.Mock).mockRejectedValue(error);\r\n\r\n        await expect(contentValidationService.validateCourseContent(validationData)).rejects.toThrow(\r\n          'Constitutional AI service unavailable'\r\n        );\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('AI Engines Error Handling and Fallbacks', () => {\r\n    it('should handle Elara Orchestrator timeout with fallback', async () => {\r\n      const error = new Error('Elara Orchestrator timeout');\r\n      (tutoringService.askQuestion as jest.Mock).mockRejectedValue(error);\r\n\r\n      await expect(\r\n        tutoringService.askQuestion({\r\n          studentId: 'student-1',\r\n          enrollmentId: 'enrollment-1',\r\n          courseId: 'course-1',\r\n          moduleId: 'module-1',\r\n          question: 'What is TypeScript?',\r\n        })\r\n      ).rejects.toThrow('Elara Orchestrator timeout');\r\n    });\r\n\r\n    it('should handle Knowledge Ocean connection failure with fallback', async () => {\r\n      const error = new Error('Knowledge Ocean connection failed');\r\n      (contextRetrievalService.retrieveContext as jest.Mock).mockRejectedValue(error);\r\n\r\n      await expect(\r\n        contextRetrievalService.retrieveContext({\r\n          studentId: 'student-1',\r\n          courseId: 'course-1',\r\n          moduleId: 'module-1',\r\n          query: 'What is TypeScript?',\r\n          language: 'en',\r\n          topK: 10,\r\n        })\r\n      ).rejects.toThrow('Knowledge Ocean connection failed');\r\n    });\r\n\r\n    it('should handle Constitutional AI validation failure with fallback', async () => {\r\n      const error = new Error('Constitutional AI validation failed');\r\n      (contentValidationService.validateCourseContent as jest.Mock).mockRejectedValue(error);\r\n\r\n      await expect(\r\n        contentValidationService.validateCourseContent({\r\n          courseId: 'course-1',\r\n          contentType: 'course',\r\n          content: 'Some content',\r\n          title: 'Course',\r\n          language: 'en',\r\n        })\r\n      ).rejects.toThrow('Constitutional AI validation failed');\r\n    });\r\n  });\r\n\r\n  describe('AI Engines Combined Workflow', () => {\r\n    it('should execute complete tutoring workflow with all AI engines', async () => {\r\n      // Step 1: Student asks a question (Elara)\r\n      const questionData = {\r\n        studentId: 'student-1',\r\n        enrollmentId: 'enrollment-1',\r\n        courseId: 'course-1',\r\n        moduleId: 'module-1',\r\n        question: 'What is TypeScript?',\r\n      };\r\n\r\n      const tutoringResponse = {\r\n        id: 'tutoring-1',\r\n        studentId: 'student-1',\r\n        question: 'What is TypeScript?',\r\n        answer: 'TypeScript is a typed superset of JavaScript.',\r\n        confidence: 0.95,\r\n        sources: ['typescript-docs'],\r\n        timestamp: new Date(),\r\n      };\r\n\r\n      (tutoringService.askQuestion as jest.Mock).mockResolvedValue(tutoringResponse);\r\n\r\n      const tutorResult = await tutoringService.askQuestion(questionData);\r\n      expect(tutorResult.answer).toBeDefined();\r\n\r\n      // Step 2: Retrieve context resources (Knowledge Ocean)\r\n      const contextData = {\r\n        studentId: 'student-1',\r\n        courseId: 'course-1',\r\n        moduleId: 'module-1',\r\n        query: 'What is TypeScript?',\r\n        language: 'en',\r\n        topK: 10,\r\n      };\r\n\r\n      const contextResponse = {\r\n        query: 'What is TypeScript?',\r\n        resources: [\r\n          {\r\n            id: 'resource-1',\r\n            title: 'TypeScript Handbook',\r\n            content: 'TypeScript is a typed superset of JavaScript...',\r\n            source: 'internal' as const,\r\n            relevanceScore: 0.95,\r\n          },\r\n          {\r\n            id: 'resource-2',\r\n            title: 'TypeScript on Stack Overflow',\r\n            content: 'Common TypeScript questions...',\r\n            source: 'external' as const,\r\n            relevanceScore: 0.85,\r\n          },\r\n        ],\r\n        internalCount: 1,\r\n        externalCount: 1,\r\n        internalPercentage: 50,\r\n        externalPercentage: 50,\r\n        retrievalTime: 245,\r\n        timestamp: new Date(),\r\n      };\r\n\r\n      (contextRetrievalService.retrieveContext as jest.Mock).mockResolvedValue(contextResponse);\r\n\r\n      const contextResult = await contextRetrievalService.retrieveContext(contextData);\r\n      expect(contextResult.resources).toHaveLength(2);\r\n\r\n      // Step 3: Validate the tutoring response (Constitutional AI)\r\n      const validationData = {\r\n        courseId: 'course-1',\r\n        contentType: 'feedback' as const,\r\n        content: tutorResult.answer,\r\n        title: 'Tutoring Response',\r\n        language: 'en',\r\n      };\r\n\r\n      const validationResponse = {\r\n        contentId: 'validation-1',\r\n        contentType: 'feedback',\r\n        isValid: true,\r\n        complianceScore: 95,\r\n        violations: [],\r\n        recommendations: [],\r\n        validatedAt: new Date(),\r\n      };\r\n\r\n      (contentValidationService.validateCourseContent as jest.Mock).mockResolvedValue(\r\n        validationResponse\r\n      );\r\n\r\n      const validationResult = await contentValidationService.validateCourseContent(validationData);\r\n      expect(validationResult.isValid).toBe(true);\r\n\r\n      // Verify all services were called\r\n      expect(tutoringService.askQuestion).toHaveBeenCalledWith(questionData);\r\n      expect(contextRetrievalService.retrieveContext).toHaveBeenCalledWith(contextData);\r\n      expect(contentValidationService.validateCourseContent).toHaveBeenCalledWith(validationData);\r\n    });\r\n\r\n    it('should handle partial AI engine failures gracefully', async () => {\r\n      // Elara succeeds\r\n      const tutoringResponse = {\r\n        id: 'tutoring-1',\r\n        studentId: 'student-1',\r\n        question: 'What is TypeScript?',\r\n        answer: 'TypeScript is a typed superset of JavaScript.',\r\n        confidence: 0.95,\r\n        sources: ['typescript-docs'],\r\n        timestamp: new Date(),\r\n      };\r\n\r\n      (tutoringService.askQuestion as jest.Mock).mockResolvedValue(tutoringResponse);\r\n\r\n      // Knowledge Ocean fails\r\n      (contextRetrievalService.retrieveContext as jest.Mock).mockRejectedValue(\r\n        new Error('Knowledge Ocean unavailable')\r\n      );\r\n\r\n      // Constitutional AI succeeds\r\n      const validationResponse = {\r\n        contentId: 'validation-1',\r\n        contentType: 'feedback',\r\n        isValid: true,\r\n        complianceScore: 95,\r\n        violations: [],\r\n        recommendations: [],\r\n        validatedAt: new Date(),\r\n      };\r\n\r\n      (contentValidationService.validateCourseContent as jest.Mock).mockResolvedValue(\r\n        validationResponse\r\n      );\r\n\r\n      // Execute workflow\r\n      const tutorResult = await tutoringService.askQuestion({\r\n        studentId: 'student-1',\r\n        enrollmentId: 'enrollment-1',\r\n        courseId: 'course-1',\r\n        moduleId: 'module-1',\r\n        question: 'What is TypeScript?',\r\n      });\r\n\r\n      expect(tutorResult).toBeDefined();\r\n\r\n      // Knowledge Ocean fails as expected\r\n      await expect(\r\n        contextRetrievalService.retrieveContext({\r\n          studentId: 'student-1',\r\n          courseId: 'course-1',\r\n          moduleId: 'module-1',\r\n          query: 'What is TypeScript?',\r\n          language: 'en',\r\n          topK: 10,\r\n        })\r\n      ).rejects.toThrow('Knowledge Ocean unavailable');\r\n\r\n      // Constitutional AI still works\r\n      const validationResult = await contentValidationService.validateCourseContent({\r\n        courseId: 'course-1',\r\n        contentType: 'feedback',\r\n        content: tutorResult.answer,\r\n        title: 'Tutoring Response',\r\n        language: 'en',\r\n      });\r\n\r\n      expect(validationResult.isValid).toBe(true);\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}