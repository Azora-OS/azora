ee04d676b22b192a6da3967388688d1f
"use strict";

describe('Marketplace - Review System', () => {
  describe('Review Submission', () => {
    it('should submit review for completed job', () => {
      const review = {
        id: 'review-1',
        jobId: 'job-1',
        reviewerId: 'user-1',
        revieweeId: 'user-2',
        rating: 5,
        comment: 'Excellent work!',
        createdAt: new Date()
      };
      expect(review.id).toBeDefined();
      expect(review.rating).toBe(5);
    });
    it('should validate rating range', () => {
      const validRating = 4;
      const invalidRating = 6;
      expect(validRating >= 1 && validRating <= 5).toBe(true);
      expect(invalidRating >= 1 && invalidRating <= 5).toBe(false);
    });
    it('should require comment for low ratings', () => {
      const review = {
        rating: 2,
        comment: ''
      };
      const requiresComment = review.rating <= 3;
      const hasComment = review.comment.length > 0;
      expect(requiresComment).toBe(true);
      expect(hasComment).toBe(false);
    });
    it('should prevent duplicate reviews', () => {
      const existingReviews = [{
        jobId: 'job-1',
        reviewerId: 'user-1',
        revieweeId: 'user-2'
      }];
      const newReview = {
        jobId: 'job-1',
        reviewerId: 'user-1',
        revieweeId: 'user-2'
      };
      const isDuplicate = existingReviews.some(review => review.jobId === newReview.jobId && review.reviewerId === newReview.reviewerId && review.revieweeId === newReview.revieweeId);
      expect(isDuplicate).toBe(true);
    });
    it('should allow review only after job completion', () => {
      const job = {
        id: 'job-1',
        status: 'completed'
      };
      const canReview = job.status === 'completed';
      expect(canReview).toBe(true);
    });
  });
  describe('Rating Calculation', () => {
    it('should calculate average rating', () => {
      const reviews = [{
        rating: 5
      }, {
        rating: 4
      }, {
        rating: 5
      }, {
        rating: 3
      }];
      const totalRating = reviews.reduce((sum, review) => sum + review.rating, 0);
      const averageRating = totalRating / reviews.length;
      expect(averageRating).toBe(4.25);
    });
    it('should calculate weighted rating', () => {
      const reviews = [{
        rating: 5,
        weight: 1.0
      }, {
        rating: 3,
        weight: 0.5
      }];
      const totalWeightedRating = reviews.reduce((sum, review) => sum + review.rating * review.weight, 0);
      const totalWeight = reviews.reduce((sum, review) => sum + review.weight, 0);
      const weightedAverage = totalWeightedRating / totalWeight;
      expect(weightedAverage).toBeCloseTo(4.33, 2);
    });
    it('should round rating to one decimal place', () => {
      const rating = 4.567;
      const rounded = Math.round(rating * 10) / 10;
      expect(rounded).toBe(4.6);
    });
    it('should handle no reviews case', () => {
      const reviews = [];
      const averageRating = reviews.length > 0 ? reviews.reduce((sum, r) => sum + r.rating, 0) / reviews.length : 0;
      expect(averageRating).toBe(0);
    });
  });
  describe('Review Display', () => {
    it('should list reviews for user', () => {
      const reviews = [{
        id: 'review-1',
        revieweeId: 'user-1',
        rating: 5
      }, {
        id: 'review-2',
        revieweeId: 'user-1',
        rating: 4
      }, {
        id: 'review-3',
        revieweeId: 'user-2',
        rating: 5
      }];
      const userReviews = reviews.filter(review => review.revieweeId === 'user-1');
      expect(userReviews.length).toBe(2);
    });
    it('should sort reviews by date', () => {
      const reviews = [{
        id: 'review-1',
        createdAt: new Date('2024-01-03')
      }, {
        id: 'review-2',
        createdAt: new Date('2024-01-01')
      }, {
        id: 'review-3',
        createdAt: new Date('2024-01-02')
      }];
      const sorted = reviews.sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime());
      expect(sorted[0].id).toBe('review-1');
    });
    it('should filter reviews by rating', () => {
      const reviews = [{
        id: 'review-1',
        rating: 5
      }, {
        id: 'review-2',
        rating: 3
      }, {
        id: 'review-3',
        rating: 5
      }];
      const highRatedReviews = reviews.filter(review => review.rating >= 4);
      expect(highRatedReviews.length).toBe(2);
    });
    it('should paginate reviews', () => {
      const reviews = Array.from({
        length: 25
      }, (_, i) => ({
        id: `review-${i + 1}`,
        rating: 5
      }));
      const page = 2;
      const pageSize = 10;
      const start = (page - 1) * pageSize;
      const end = start + pageSize;
      const paginatedReviews = reviews.slice(start, end);
      expect(paginatedReviews.length).toBe(10);
      expect(paginatedReviews[0].id).toBe('review-11');
    });
  });
  describe('Review Moderation', () => {
    it('should flag inappropriate reviews', () => {
      const review = {
        id: 'review-1',
        comment: 'This contains inappropriate content',
        flagged: false
      };
      review.flagged = true;
      expect(review.flagged).toBe(true);
    });
    it('should allow review editing within time window', () => {
      const review = {
        id: 'review-1',
        createdAt: new Date(Date.now() - 3600000)
      };
      const editWindowHours = 24;
      const hoursSinceCreation = (Date.now() - review.createdAt.getTime()) / (1000 * 60 * 60);
      const canEdit = hoursSinceCreation <= editWindowHours;
      expect(canEdit).toBe(true);
    });
    it('should prevent editing after time window', () => {
      const review = {
        id: 'review-1',
        createdAt: new Date(Date.now() - 48 * 3600000)
      };
      const editWindowHours = 24;
      const hoursSinceCreation = (Date.now() - review.createdAt.getTime()) / (1000 * 60 * 60);
      const canEdit = hoursSinceCreation <= editWindowHours;
      expect(canEdit).toBe(false);
    });
    it('should allow review deletion by author', () => {
      const review = {
        id: 'review-1',
        reviewerId: 'user-1'
      };
      const currentUserId = 'user-1';
      const canDelete = review.reviewerId === currentUserId;
      expect(canDelete).toBe(true);
    });
  });
  describe('Review Analytics', () => {
    it('should calculate rating distribution', () => {
      const reviews = [{
        rating: 5
      }, {
        rating: 5
      }, {
        rating: 4
      }, {
        rating: 3
      }, {
        rating: 5
      }];
      const distribution = {
        5: reviews.filter(r => r.rating === 5).length,
        4: reviews.filter(r => r.rating === 4).length,
        3: reviews.filter(r => r.rating === 3).length,
        2: reviews.filter(r => r.rating === 2).length,
        1: reviews.filter(r => r.rating === 1).length
      };
      expect(distribution[5]).toBe(3);
      expect(distribution[4]).toBe(1);
      expect(distribution[3]).toBe(1);
    });
    it('should calculate review response rate', () => {
      const reviews = [{
        id: 'review-1',
        hasResponse: true
      }, {
        id: 'review-2',
        hasResponse: false
      }, {
        id: 'review-3',
        hasResponse: true
      }, {
        id: 'review-4',
        hasResponse: true
      }];
      const responsesCount = reviews.filter(r => r.hasResponse).length;
      const responseRate = responsesCount / reviews.length * 100;
      expect(responseRate).toBe(75);
    });
    it('should identify trending reviewers', () => {
      const reviews = [{
        reviewerId: 'user-1'
      }, {
        reviewerId: 'user-2'
      }, {
        reviewerId: 'user-1'
      }, {
        reviewerId: 'user-3'
      }, {
        reviewerId: 'user-1'
      }];
      const reviewerCounts = reviews.reduce((acc, review) => {
        acc[review.reviewerId] = (acc[review.reviewerId] || 0) + 1;
        return acc;
      }, {});
      const topReviewer = Object.entries(reviewerCounts).sort((a, b) => b[1] - a[1])[0];
      expect(topReviewer[0]).toBe('user-1');
      expect(topReviewer[1]).toBe(3);
    });
  });
  describe('Review Responses', () => {
    it('should allow reviewee to respond to review', () => {
      const response = {
        reviewId: 'review-1',
        responderId: 'user-2',
        comment: 'Thank you for the feedback!',
        createdAt: new Date()
      };
      expect(response.reviewId).toBe('review-1');
      expect(response.comment).toBeDefined();
    });
    it('should limit one response per review', () => {
      const existingResponses = [{
        reviewId: 'review-1',
        responderId: 'user-2'
      }];
      const newResponse = {
        reviewId: 'review-1',
        responderId: 'user-2'
      };
      const hasResponse = existingResponses.some(r => r.reviewId === newResponse.reviewId);
      expect(hasResponse).toBe(true);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwicmV2aWV3IiwiaWQiLCJqb2JJZCIsInJldmlld2VySWQiLCJyZXZpZXdlZUlkIiwicmF0aW5nIiwiY29tbWVudCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJleHBlY3QiLCJ0b0JlRGVmaW5lZCIsInRvQmUiLCJ2YWxpZFJhdGluZyIsImludmFsaWRSYXRpbmciLCJyZXF1aXJlc0NvbW1lbnQiLCJoYXNDb21tZW50IiwibGVuZ3RoIiwiZXhpc3RpbmdSZXZpZXdzIiwibmV3UmV2aWV3IiwiaXNEdXBsaWNhdGUiLCJzb21lIiwiam9iIiwic3RhdHVzIiwiY2FuUmV2aWV3IiwicmV2aWV3cyIsInRvdGFsUmF0aW5nIiwicmVkdWNlIiwic3VtIiwiYXZlcmFnZVJhdGluZyIsIndlaWdodCIsInRvdGFsV2VpZ2h0ZWRSYXRpbmciLCJ0b3RhbFdlaWdodCIsIndlaWdodGVkQXZlcmFnZSIsInRvQmVDbG9zZVRvIiwicm91bmRlZCIsIk1hdGgiLCJyb3VuZCIsInIiLCJ1c2VyUmV2aWV3cyIsImZpbHRlciIsInNvcnRlZCIsInNvcnQiLCJhIiwiYiIsImdldFRpbWUiLCJoaWdoUmF0ZWRSZXZpZXdzIiwiQXJyYXkiLCJmcm9tIiwiXyIsImkiLCJwYWdlIiwicGFnZVNpemUiLCJzdGFydCIsImVuZCIsInBhZ2luYXRlZFJldmlld3MiLCJzbGljZSIsImZsYWdnZWQiLCJub3ciLCJlZGl0V2luZG93SG91cnMiLCJob3Vyc1NpbmNlQ3JlYXRpb24iLCJjYW5FZGl0IiwiY3VycmVudFVzZXJJZCIsImNhbkRlbGV0ZSIsImRpc3RyaWJ1dGlvbiIsImhhc1Jlc3BvbnNlIiwicmVzcG9uc2VzQ291bnQiLCJyZXNwb25zZVJhdGUiLCJyZXZpZXdlckNvdW50cyIsImFjYyIsInRvcFJldmlld2VyIiwiT2JqZWN0IiwiZW50cmllcyIsInJlc3BvbnNlIiwicmV2aWV3SWQiLCJyZXNwb25kZXJJZCIsImV4aXN0aW5nUmVzcG9uc2VzIiwibmV3UmVzcG9uc2UiXSwic291cmNlcyI6WyJyZXZpZXctc3lzdGVtLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZGVzY3JpYmUoJ01hcmtldHBsYWNlIC0gUmV2aWV3IFN5c3RlbScsICgpID0+IHtcclxuICBkZXNjcmliZSgnUmV2aWV3IFN1Ym1pc3Npb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHN1Ym1pdCByZXZpZXcgZm9yIGNvbXBsZXRlZCBqb2InLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJldmlldyA9IHtcclxuICAgICAgICBpZDogJ3Jldmlldy0xJyxcclxuICAgICAgICBqb2JJZDogJ2pvYi0xJyxcclxuICAgICAgICByZXZpZXdlcklkOiAndXNlci0xJyxcclxuICAgICAgICByZXZpZXdlZUlkOiAndXNlci0yJyxcclxuICAgICAgICByYXRpbmc6IDUsXHJcbiAgICAgICAgY29tbWVudDogJ0V4Y2VsbGVudCB3b3JrIScsXHJcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgZXhwZWN0KHJldmlldy5pZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJldmlldy5yYXRpbmcpLnRvQmUoNSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHJhdGluZyByYW5nZScsICgpID0+IHtcclxuICAgICAgY29uc3QgdmFsaWRSYXRpbmcgPSA0O1xyXG4gICAgICBjb25zdCBpbnZhbGlkUmF0aW5nID0gNjtcclxuXHJcbiAgICAgIGV4cGVjdCh2YWxpZFJhdGluZyA+PSAxICYmIHZhbGlkUmF0aW5nIDw9IDUpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChpbnZhbGlkUmF0aW5nID49IDEgJiYgaW52YWxpZFJhdGluZyA8PSA1KS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmVxdWlyZSBjb21tZW50IGZvciBsb3cgcmF0aW5ncycsICgpID0+IHtcclxuICAgICAgY29uc3QgcmV2aWV3ID0ge1xyXG4gICAgICAgIHJhdGluZzogMixcclxuICAgICAgICBjb21tZW50OiAnJyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlcXVpcmVzQ29tbWVudCA9IHJldmlldy5yYXRpbmcgPD0gMztcclxuICAgICAgY29uc3QgaGFzQ29tbWVudCA9IHJldmlldy5jb21tZW50Lmxlbmd0aCA+IDA7XHJcblxyXG4gICAgICBleHBlY3QocmVxdWlyZXNDb21tZW50KS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoaGFzQ29tbWVudCkudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHByZXZlbnQgZHVwbGljYXRlIHJldmlld3MnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nUmV2aWV3cyA9IFtcclxuICAgICAgICB7IGpvYklkOiAnam9iLTEnLCByZXZpZXdlcklkOiAndXNlci0xJywgcmV2aWV3ZWVJZDogJ3VzZXItMicgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IG5ld1JldmlldyA9IHsgam9iSWQ6ICdqb2ItMScsIHJldmlld2VySWQ6ICd1c2VyLTEnLCByZXZpZXdlZUlkOiAndXNlci0yJyB9O1xyXG5cclxuICAgICAgY29uc3QgaXNEdXBsaWNhdGUgPSBleGlzdGluZ1Jldmlld3Muc29tZShyZXZpZXcgPT4gXHJcbiAgICAgICAgcmV2aWV3LmpvYklkID09PSBuZXdSZXZpZXcuam9iSWQgJiYgXHJcbiAgICAgICAgcmV2aWV3LnJldmlld2VySWQgPT09IG5ld1Jldmlldy5yZXZpZXdlcklkICYmXHJcbiAgICAgICAgcmV2aWV3LnJldmlld2VlSWQgPT09IG5ld1Jldmlldy5yZXZpZXdlZUlkXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QoaXNEdXBsaWNhdGUpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGFsbG93IHJldmlldyBvbmx5IGFmdGVyIGpvYiBjb21wbGV0aW9uJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBqb2IgPSB7XHJcbiAgICAgICAgaWQ6ICdqb2ItMScsXHJcbiAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IGNhblJldmlldyA9IGpvYi5zdGF0dXMgPT09ICdjb21wbGV0ZWQnO1xyXG5cclxuICAgICAgZXhwZWN0KGNhblJldmlldykudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUmF0aW5nIENhbGN1bGF0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgYXZlcmFnZSByYXRpbmcnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJldmlld3MgPSBbXHJcbiAgICAgICAgeyByYXRpbmc6IDUgfSxcclxuICAgICAgICB7IHJhdGluZzogNCB9LFxyXG4gICAgICAgIHsgcmF0aW5nOiA1IH0sXHJcbiAgICAgICAgeyByYXRpbmc6IDMgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IHRvdGFsUmF0aW5nID0gcmV2aWV3cy5yZWR1Y2UoKHN1bSwgcmV2aWV3KSA9PiBzdW0gKyByZXZpZXcucmF0aW5nLCAwKTtcclxuICAgICAgY29uc3QgYXZlcmFnZVJhdGluZyA9IHRvdGFsUmF0aW5nIC8gcmV2aWV3cy5sZW5ndGg7XHJcblxyXG4gICAgICBleHBlY3QoYXZlcmFnZVJhdGluZykudG9CZSg0LjI1KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIHdlaWdodGVkIHJhdGluZycsICgpID0+IHtcclxuICAgICAgY29uc3QgcmV2aWV3cyA9IFtcclxuICAgICAgICB7IHJhdGluZzogNSwgd2VpZ2h0OiAxLjAgfSxcclxuICAgICAgICB7IHJhdGluZzogMywgd2VpZ2h0OiAwLjUgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IHRvdGFsV2VpZ2h0ZWRSYXRpbmcgPSByZXZpZXdzLnJlZHVjZSgoc3VtLCByZXZpZXcpID0+IFxyXG4gICAgICAgIHN1bSArIChyZXZpZXcucmF0aW5nICogcmV2aWV3LndlaWdodCksIDBcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgdG90YWxXZWlnaHQgPSByZXZpZXdzLnJlZHVjZSgoc3VtLCByZXZpZXcpID0+IHN1bSArIHJldmlldy53ZWlnaHQsIDApO1xyXG4gICAgICBjb25zdCB3ZWlnaHRlZEF2ZXJhZ2UgPSB0b3RhbFdlaWdodGVkUmF0aW5nIC8gdG90YWxXZWlnaHQ7XHJcblxyXG4gICAgICBleHBlY3Qod2VpZ2h0ZWRBdmVyYWdlKS50b0JlQ2xvc2VUbyg0LjMzLCAyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcm91bmQgcmF0aW5nIHRvIG9uZSBkZWNpbWFsIHBsYWNlJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCByYXRpbmcgPSA0LjU2NztcclxuICAgICAgY29uc3Qgcm91bmRlZCA9IE1hdGgucm91bmQocmF0aW5nICogMTApIC8gMTA7XHJcblxyXG4gICAgICBleHBlY3Qocm91bmRlZCkudG9CZSg0LjYpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbm8gcmV2aWV3cyBjYXNlJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXZpZXdzOiBhbnlbXSA9IFtdO1xyXG4gICAgICBjb25zdCBhdmVyYWdlUmF0aW5nID0gcmV2aWV3cy5sZW5ndGggPiAwIFxyXG4gICAgICAgID8gcmV2aWV3cy5yZWR1Y2UoKHN1bSwgcikgPT4gc3VtICsgci5yYXRpbmcsIDApIC8gcmV2aWV3cy5sZW5ndGggXHJcbiAgICAgICAgOiAwO1xyXG5cclxuICAgICAgZXhwZWN0KGF2ZXJhZ2VSYXRpbmcpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1JldmlldyBEaXNwbGF5JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBsaXN0IHJldmlld3MgZm9yIHVzZXInLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJldmlld3MgPSBbXHJcbiAgICAgICAgeyBpZDogJ3Jldmlldy0xJywgcmV2aWV3ZWVJZDogJ3VzZXItMScsIHJhdGluZzogNSB9LFxyXG4gICAgICAgIHsgaWQ6ICdyZXZpZXctMicsIHJldmlld2VlSWQ6ICd1c2VyLTEnLCByYXRpbmc6IDQgfSxcclxuICAgICAgICB7IGlkOiAncmV2aWV3LTMnLCByZXZpZXdlZUlkOiAndXNlci0yJywgcmF0aW5nOiA1IH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCB1c2VyUmV2aWV3cyA9IHJldmlld3MuZmlsdGVyKHJldmlldyA9PiByZXZpZXcucmV2aWV3ZWVJZCA9PT0gJ3VzZXItMScpO1xyXG5cclxuICAgICAgZXhwZWN0KHVzZXJSZXZpZXdzLmxlbmd0aCkudG9CZSgyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgc29ydCByZXZpZXdzIGJ5IGRhdGUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJldmlld3MgPSBbXHJcbiAgICAgICAgeyBpZDogJ3Jldmlldy0xJywgY3JlYXRlZEF0OiBuZXcgRGF0ZSgnMjAyNC0wMS0wMycpIH0sXHJcbiAgICAgICAgeyBpZDogJ3Jldmlldy0yJywgY3JlYXRlZEF0OiBuZXcgRGF0ZSgnMjAyNC0wMS0wMScpIH0sXHJcbiAgICAgICAgeyBpZDogJ3Jldmlldy0zJywgY3JlYXRlZEF0OiBuZXcgRGF0ZSgnMjAyNC0wMS0wMicpIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCBzb3J0ZWQgPSByZXZpZXdzLnNvcnQoKGEsIGIpID0+IFxyXG4gICAgICAgIGIuY3JlYXRlZEF0LmdldFRpbWUoKSAtIGEuY3JlYXRlZEF0LmdldFRpbWUoKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHNvcnRlZFswXS5pZCkudG9CZSgncmV2aWV3LTEnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZmlsdGVyIHJldmlld3MgYnkgcmF0aW5nJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXZpZXdzID0gW1xyXG4gICAgICAgIHsgaWQ6ICdyZXZpZXctMScsIHJhdGluZzogNSB9LFxyXG4gICAgICAgIHsgaWQ6ICdyZXZpZXctMicsIHJhdGluZzogMyB9LFxyXG4gICAgICAgIHsgaWQ6ICdyZXZpZXctMycsIHJhdGluZzogNSB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3QgaGlnaFJhdGVkUmV2aWV3cyA9IHJldmlld3MuZmlsdGVyKHJldmlldyA9PiByZXZpZXcucmF0aW5nID49IDQpO1xyXG5cclxuICAgICAgZXhwZWN0KGhpZ2hSYXRlZFJldmlld3MubGVuZ3RoKS50b0JlKDIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBwYWdpbmF0ZSByZXZpZXdzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXZpZXdzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMjUgfSwgKF8sIGkpID0+ICh7XHJcbiAgICAgICAgaWQ6IGByZXZpZXctJHtpICsgMX1gLFxyXG4gICAgICAgIHJhdGluZzogNSxcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgY29uc3QgcGFnZSA9IDI7XHJcbiAgICAgIGNvbnN0IHBhZ2VTaXplID0gMTA7XHJcbiAgICAgIGNvbnN0IHN0YXJ0ID0gKHBhZ2UgLSAxKSAqIHBhZ2VTaXplO1xyXG4gICAgICBjb25zdCBlbmQgPSBzdGFydCArIHBhZ2VTaXplO1xyXG5cclxuICAgICAgY29uc3QgcGFnaW5hdGVkUmV2aWV3cyA9IHJldmlld3Muc2xpY2Uoc3RhcnQsIGVuZCk7XHJcblxyXG4gICAgICBleHBlY3QocGFnaW5hdGVkUmV2aWV3cy5sZW5ndGgpLnRvQmUoMTApO1xyXG4gICAgICBleHBlY3QocGFnaW5hdGVkUmV2aWV3c1swXS5pZCkudG9CZSgncmV2aWV3LTExJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1JldmlldyBNb2RlcmF0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBmbGFnIGluYXBwcm9wcmlhdGUgcmV2aWV3cycsICgpID0+IHtcclxuICAgICAgY29uc3QgcmV2aWV3ID0ge1xyXG4gICAgICAgIGlkOiAncmV2aWV3LTEnLFxyXG4gICAgICAgIGNvbW1lbnQ6ICdUaGlzIGNvbnRhaW5zIGluYXBwcm9wcmlhdGUgY29udGVudCcsXHJcbiAgICAgICAgZmxhZ2dlZDogZmFsc2UsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXZpZXcuZmxhZ2dlZCA9IHRydWU7XHJcblxyXG4gICAgICBleHBlY3QocmV2aWV3LmZsYWdnZWQpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGFsbG93IHJldmlldyBlZGl0aW5nIHdpdGhpbiB0aW1lIHdpbmRvdycsICgpID0+IHtcclxuICAgICAgY29uc3QgcmV2aWV3ID0ge1xyXG4gICAgICAgIGlkOiAncmV2aWV3LTEnLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDM2MDAwMDApLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgZWRpdFdpbmRvd0hvdXJzID0gMjQ7XHJcbiAgICAgIGNvbnN0IGhvdXJzU2luY2VDcmVhdGlvbiA9IChEYXRlLm5vdygpIC0gcmV2aWV3LmNyZWF0ZWRBdC5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwKTtcclxuXHJcbiAgICAgIGNvbnN0IGNhbkVkaXQgPSBob3Vyc1NpbmNlQ3JlYXRpb24gPD0gZWRpdFdpbmRvd0hvdXJzO1xyXG5cclxuICAgICAgZXhwZWN0KGNhbkVkaXQpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHByZXZlbnQgZWRpdGluZyBhZnRlciB0aW1lIHdpbmRvdycsICgpID0+IHtcclxuICAgICAgY29uc3QgcmV2aWV3ID0ge1xyXG4gICAgICAgIGlkOiAncmV2aWV3LTEnLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDQ4ICogMzYwMDAwMCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBlZGl0V2luZG93SG91cnMgPSAyNDtcclxuICAgICAgY29uc3QgaG91cnNTaW5jZUNyZWF0aW9uID0gKERhdGUubm93KCkgLSByZXZpZXcuY3JlYXRlZEF0LmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwICogNjApO1xyXG5cclxuICAgICAgY29uc3QgY2FuRWRpdCA9IGhvdXJzU2luY2VDcmVhdGlvbiA8PSBlZGl0V2luZG93SG91cnM7XHJcblxyXG4gICAgICBleHBlY3QoY2FuRWRpdCkudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGFsbG93IHJldmlldyBkZWxldGlvbiBieSBhdXRob3InLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJldmlldyA9IHtcclxuICAgICAgICBpZDogJ3Jldmlldy0xJyxcclxuICAgICAgICByZXZpZXdlcklkOiAndXNlci0xJyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSAndXNlci0xJztcclxuICAgICAgY29uc3QgY2FuRGVsZXRlID0gcmV2aWV3LnJldmlld2VySWQgPT09IGN1cnJlbnRVc2VySWQ7XHJcblxyXG4gICAgICBleHBlY3QoY2FuRGVsZXRlKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdSZXZpZXcgQW5hbHl0aWNzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgcmF0aW5nIGRpc3RyaWJ1dGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgcmV2aWV3cyA9IFtcclxuICAgICAgICB7IHJhdGluZzogNSB9LFxyXG4gICAgICAgIHsgcmF0aW5nOiA1IH0sXHJcbiAgICAgICAgeyByYXRpbmc6IDQgfSxcclxuICAgICAgICB7IHJhdGluZzogMyB9LFxyXG4gICAgICAgIHsgcmF0aW5nOiA1IH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCBkaXN0cmlidXRpb24gPSB7XHJcbiAgICAgICAgNTogcmV2aWV3cy5maWx0ZXIociA9PiByLnJhdGluZyA9PT0gNSkubGVuZ3RoLFxyXG4gICAgICAgIDQ6IHJldmlld3MuZmlsdGVyKHIgPT4gci5yYXRpbmcgPT09IDQpLmxlbmd0aCxcclxuICAgICAgICAzOiByZXZpZXdzLmZpbHRlcihyID0+IHIucmF0aW5nID09PSAzKS5sZW5ndGgsXHJcbiAgICAgICAgMjogcmV2aWV3cy5maWx0ZXIociA9PiByLnJhdGluZyA9PT0gMikubGVuZ3RoLFxyXG4gICAgICAgIDE6IHJldmlld3MuZmlsdGVyKHIgPT4gci5yYXRpbmcgPT09IDEpLmxlbmd0aCxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGV4cGVjdChkaXN0cmlidXRpb25bNV0pLnRvQmUoMyk7XHJcbiAgICAgIGV4cGVjdChkaXN0cmlidXRpb25bNF0pLnRvQmUoMSk7XHJcbiAgICAgIGV4cGVjdChkaXN0cmlidXRpb25bM10pLnRvQmUoMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSByZXZpZXcgcmVzcG9uc2UgcmF0ZScsICgpID0+IHtcclxuICAgICAgY29uc3QgcmV2aWV3cyA9IFtcclxuICAgICAgICB7IGlkOiAncmV2aWV3LTEnLCBoYXNSZXNwb25zZTogdHJ1ZSB9LFxyXG4gICAgICAgIHsgaWQ6ICdyZXZpZXctMicsIGhhc1Jlc3BvbnNlOiBmYWxzZSB9LFxyXG4gICAgICAgIHsgaWQ6ICdyZXZpZXctMycsIGhhc1Jlc3BvbnNlOiB0cnVlIH0sXHJcbiAgICAgICAgeyBpZDogJ3Jldmlldy00JywgaGFzUmVzcG9uc2U6IHRydWUgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlc0NvdW50ID0gcmV2aWV3cy5maWx0ZXIociA9PiByLmhhc1Jlc3BvbnNlKS5sZW5ndGg7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlUmF0ZSA9IChyZXNwb25zZXNDb3VudCAvIHJldmlld3MubGVuZ3RoKSAqIDEwMDtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZVJhdGUpLnRvQmUoNzUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBpZGVudGlmeSB0cmVuZGluZyByZXZpZXdlcnMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJldmlld3MgPSBbXHJcbiAgICAgICAgeyByZXZpZXdlcklkOiAndXNlci0xJyB9LFxyXG4gICAgICAgIHsgcmV2aWV3ZXJJZDogJ3VzZXItMicgfSxcclxuICAgICAgICB7IHJldmlld2VySWQ6ICd1c2VyLTEnIH0sXHJcbiAgICAgICAgeyByZXZpZXdlcklkOiAndXNlci0zJyB9LFxyXG4gICAgICAgIHsgcmV2aWV3ZXJJZDogJ3VzZXItMScgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IHJldmlld2VyQ291bnRzID0gcmV2aWV3cy5yZWR1Y2UoKGFjYywgcmV2aWV3KSA9PiB7XHJcbiAgICAgICAgYWNjW3Jldmlldy5yZXZpZXdlcklkXSA9IChhY2NbcmV2aWV3LnJldmlld2VySWRdIHx8IDApICsgMTtcclxuICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTtcclxuXHJcbiAgICAgIGNvbnN0IHRvcFJldmlld2VyID0gT2JqZWN0LmVudHJpZXMocmV2aWV3ZXJDb3VudHMpXHJcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGJbMV0gLSBhWzFdKVswXTtcclxuXHJcbiAgICAgIGV4cGVjdCh0b3BSZXZpZXdlclswXSkudG9CZSgndXNlci0xJyk7XHJcbiAgICAgIGV4cGVjdCh0b3BSZXZpZXdlclsxXSkudG9CZSgzKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUmV2aWV3IFJlc3BvbnNlcycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgYWxsb3cgcmV2aWV3ZWUgdG8gcmVzcG9uZCB0byByZXZpZXcnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xyXG4gICAgICAgIHJldmlld0lkOiAncmV2aWV3LTEnLFxyXG4gICAgICAgIHJlc3BvbmRlcklkOiAndXNlci0yJyxcclxuICAgICAgICBjb21tZW50OiAnVGhhbmsgeW91IGZvciB0aGUgZmVlZGJhY2shJyxcclxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2UucmV2aWV3SWQpLnRvQmUoJ3Jldmlldy0xJyk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5jb21tZW50KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBsaW1pdCBvbmUgcmVzcG9uc2UgcGVyIHJldmlldycsICgpID0+IHtcclxuICAgICAgY29uc3QgZXhpc3RpbmdSZXNwb25zZXMgPSBbXHJcbiAgICAgICAgeyByZXZpZXdJZDogJ3Jldmlldy0xJywgcmVzcG9uZGVySWQ6ICd1c2VyLTInIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCBuZXdSZXNwb25zZSA9IHsgcmV2aWV3SWQ6ICdyZXZpZXctMScsIHJlc3BvbmRlcklkOiAndXNlci0yJyB9O1xyXG5cclxuICAgICAgY29uc3QgaGFzUmVzcG9uc2UgPSBleGlzdGluZ1Jlc3BvbnNlcy5zb21lKHIgPT4gci5yZXZpZXdJZCA9PT0gbmV3UmVzcG9uc2UucmV2aWV3SWQpO1xyXG5cclxuICAgICAgZXhwZWN0KGhhc1Jlc3BvbnNlKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLFFBQVEsQ0FBQyw2QkFBNkIsRUFBRSxNQUFNO0VBQzVDQSxRQUFRLENBQUMsbUJBQW1CLEVBQUUsTUFBTTtJQUNsQ0MsRUFBRSxDQUFDLHdDQUF3QyxFQUFFLE1BQU07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