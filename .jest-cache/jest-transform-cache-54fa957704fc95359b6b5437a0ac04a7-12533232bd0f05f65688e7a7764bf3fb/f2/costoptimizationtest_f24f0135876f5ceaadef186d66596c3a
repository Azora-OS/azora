a917ac4d80bd35002a1081bab16682e0
"use strict";

describe('AI Routing Service - Cost Optimization', () => {
  describe('Cost Calculation', () => {
    it('should calculate cost for local LLM queries', () => {
      const localLLMCost = 0;
      const queryCount = 100;
      const totalCost = localLLMCost * queryCount;
      expect(totalCost).toBe(0);
    });
    it('should calculate cost for external LLM queries', () => {
      const costPerToken = 0.00002;
      const tokensUsed = 1000;
      const totalCost = costPerToken * tokensUsed;
      expect(totalCost).toBe(0.02);
      expect(totalCost).toBeGreaterThan(0);
    });
    it('should calculate cost for RAP system queries', () => {
      const baseCost = 0.001;
      const contextTokens = 500;
      const costPerContextToken = 0.00001;
      const totalCost = baseCost + contextTokens * costPerContextToken;
      expect(totalCost).toBeGreaterThan(baseCost);
      expect(totalCost).toBeLessThan(0.01);
    });
    it('should track cumulative costs', () => {
      const costs = [0.01, 0.02, 0.015, 0.03];
      const totalCost = costs.reduce((sum, cost) => sum + cost, 0);
      expect(totalCost).toBe(0.075);
    });
    it('should calculate average cost per query', () => {
      const totalCost = 1.50;
      const queryCount = 100;
      const avgCost = totalCost / queryCount;
      expect(avgCost).toBe(0.015);
    });
  });
  describe('Provider Cost Comparison', () => {
    it('should compare costs between providers', () => {
      const providers = {
        localLLM: {
          cost: 0,
          responseTime: 200
        },
        rapSystem: {
          cost: 0.002,
          responseTime: 500
        },
        externalLLM: {
          cost: 0.05,
          responseTime: 2000
        }
      };
      const cheapest = Object.entries(providers).sort(([, a], [, b]) => a.cost - b.cost)[0];
      expect(cheapest[0]).toBe('localLLM');
      expect(cheapest[1].cost).toBe(0);
    });
    it('should identify most cost-effective provider', () => {
      const providers = [{
        name: 'local',
        cost: 0,
        quality: 0.7
      }, {
        name: 'rap',
        cost: 0.002,
        quality: 0.85
      }, {
        name: 'external',
        cost: 0.05,
        quality: 0.95
      }];
      const costEffective = providers.map(p => ({
        ...p,
        efficiency: p.quality / (p.cost + 0.001)
      })).sort((a, b) => b.efficiency - a.efficiency)[0];
      expect(costEffective).toBeDefined();
      expect(costEffective.efficiency).toBeGreaterThan(0);
    });
    it('should calculate cost savings from routing optimization', () => {
      const unoptimizedCost = 10.00;
      const optimizedCost = 3.50;
      const savings = unoptimizedCost - optimizedCost;
      const savingsPercent = savings / unoptimizedCost * 100;
      expect(savings).toBe(6.50);
      expect(savingsPercent).toBe(65);
    });
  });
  describe('Budget Tracking', () => {
    it('should track budget usage', () => {
      const budget = 100.00;
      const spent = 45.50;
      const remaining = budget - spent;
      const usagePercent = spent / budget * 100;
      expect(remaining).toBe(54.50);
      expect(usagePercent).toBe(45.5);
    });
    it('should detect budget threshold exceeded', () => {
      const budget = 100.00;
      const spent = 95.00;
      const threshold = 0.90;
      const isNearLimit = spent / budget >= threshold;
      expect(isNearLimit).toBe(true);
    });
    it('should calculate projected costs', () => {
      const dailyCost = 5.00;
      const daysInMonth = 30;
      const projectedMonthlyCost = dailyCost * daysInMonth;
      expect(projectedMonthlyCost).toBe(150.00);
    });
    it('should track cost by time period', () => {
      const costs = {
        week1: 25.00,
        week2: 30.00,
        week3: 28.00,
        week4: 32.00
      };
      const totalMonthlyCost = Object.values(costs).reduce((sum, cost) => sum + cost, 0);
      const avgWeeklyCost = totalMonthlyCost / 4;
      expect(totalMonthlyCost).toBe(115.00);
      expect(avgWeeklyCost).toBe(28.75);
    });
  });
  describe('Cost Alerts', () => {
    it('should trigger alert when cost threshold exceeded', () => {
      const threshold = 50.00;
      const currentCost = 55.00;
      const shouldAlert = currentCost > threshold;
      expect(shouldAlert).toBe(true);
    });
    it('should calculate alert thresholds', () => {
      const budget = 1000.00;
      const warningThreshold = budget * 0.75;
      const criticalThreshold = budget * 0.90;
      expect(warningThreshold).toBe(750.00);
      expect(criticalThreshold).toBe(900.00);
    });
    it('should track alert history', () => {
      const alerts = [{
        timestamp: Date.now() - 3600000,
        level: 'warning',
        cost: 750
      }, {
        timestamp: Date.now() - 1800000,
        level: 'warning',
        cost: 800
      }, {
        timestamp: Date.now(),
        level: 'critical',
        cost: 950
      }];
      const criticalAlerts = alerts.filter(a => a.level === 'critical');
      expect(alerts.length).toBe(3);
      expect(criticalAlerts.length).toBe(1);
    });
    it('should calculate time until budget exhaustion', () => {
      const budget = 1000.00;
      const currentSpend = 500.00;
      const dailyRate = 50.00;
      const remaining = budget - currentSpend;
      const daysRemaining = remaining / dailyRate;
      expect(daysRemaining).toBe(10);
    });
  });
  describe('Cost Optimization Strategies', () => {
    it('should prefer cheaper providers for simple queries', () => {
      const query = {
        complexity: 'simple'
      };
      const providers = {
        local: {
          cost: 0,
          canHandle: true
        },
        external: {
          cost: 0.05,
          canHandle: true
        }
      };
      const selected = query.complexity === 'simple' && providers.local.canHandle ? 'local' : 'external';
      expect(selected).toBe('local');
    });
    it('should cache expensive queries', () => {
      const expensiveQueryCost = 0.10;
      const cacheHits = 10;
      const savedCost = expensiveQueryCost * cacheHits;
      expect(savedCost).toBe(1.00);
    });
    it('should batch similar queries', () => {
      const singleQueryCost = 0.02;
      const batchQueryCost = 0.05;
      const queriesInBatch = 5;
      const individualCost = singleQueryCost * queriesInBatch;
      const savings = individualCost - batchQueryCost;
      expect(savings).toBe(0.05);
      expect(batchQueryCost).toBeLessThan(individualCost);
    });
    it('should use cheaper models for non-critical queries', () => {
      const premiumModelCost = 0.10;
      const standardModelCost = 0.02;
      const query = {
        critical: false
      };
      const selectedCost = query.critical ? premiumModelCost : standardModelCost;
      expect(selectedCost).toBe(standardModelCost);
    });
  });
  describe('Cost Analytics', () => {
    it('should calculate cost per user', () => {
      const totalCost = 100.00;
      const activeUsers = 50;
      const costPerUser = totalCost / activeUsers;
      expect(costPerUser).toBe(2.00);
    });
    it('should calculate cost per query type', () => {
      const costs = {
        simple: {
          total: 0,
          count: 100
        },
        moderate: {
          total: 5.00,
          count: 50
        },
        complex: {
          total: 20.00,
          count: 20
        }
      };
      const avgCosts = Object.entries(costs).map(([type, data]) => ({
        type,
        avgCost: data.count > 0 ? data.total / data.count : 0
      }));
      expect(avgCosts[0].avgCost).toBe(0);
      expect(avgCosts[1].avgCost).toBe(0.10);
      expect(avgCosts[2].avgCost).toBe(1.00);
    });
    it('should identify cost trends', () => {
      const monthlyCosts = [80, 85, 90, 95, 100];
      const trend = monthlyCosts[monthlyCosts.length - 1] > monthlyCosts[0] ? 'increasing' : 'decreasing';
      expect(trend).toBe('increasing');
    });
    it('should calculate ROI for optimization', () => {
      const optimizationCost = 1000.00;
      const monthlySavings = 300.00;
      const monthsToROI = optimizationCost / monthlySavings;
      expect(monthsToROI).toBeCloseTo(3.33, 2);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwibG9jYWxMTE1Db3N0IiwicXVlcnlDb3VudCIsInRvdGFsQ29zdCIsImV4cGVjdCIsInRvQmUiLCJjb3N0UGVyVG9rZW4iLCJ0b2tlbnNVc2VkIiwidG9CZUdyZWF0ZXJUaGFuIiwiYmFzZUNvc3QiLCJjb250ZXh0VG9rZW5zIiwiY29zdFBlckNvbnRleHRUb2tlbiIsInRvQmVMZXNzVGhhbiIsImNvc3RzIiwicmVkdWNlIiwic3VtIiwiY29zdCIsImF2Z0Nvc3QiLCJwcm92aWRlcnMiLCJsb2NhbExMTSIsInJlc3BvbnNlVGltZSIsInJhcFN5c3RlbSIsImV4dGVybmFsTExNIiwiY2hlYXBlc3QiLCJPYmplY3QiLCJlbnRyaWVzIiwic29ydCIsImEiLCJiIiwibmFtZSIsInF1YWxpdHkiLCJjb3N0RWZmZWN0aXZlIiwibWFwIiwicCIsImVmZmljaWVuY3kiLCJ0b0JlRGVmaW5lZCIsInVub3B0aW1pemVkQ29zdCIsIm9wdGltaXplZENvc3QiLCJzYXZpbmdzIiwic2F2aW5nc1BlcmNlbnQiLCJidWRnZXQiLCJzcGVudCIsInJlbWFpbmluZyIsInVzYWdlUGVyY2VudCIsInRocmVzaG9sZCIsImlzTmVhckxpbWl0IiwiZGFpbHlDb3N0IiwiZGF5c0luTW9udGgiLCJwcm9qZWN0ZWRNb250aGx5Q29zdCIsIndlZWsxIiwid2VlazIiLCJ3ZWVrMyIsIndlZWs0IiwidG90YWxNb250aGx5Q29zdCIsInZhbHVlcyIsImF2Z1dlZWtseUNvc3QiLCJjdXJyZW50Q29zdCIsInNob3VsZEFsZXJ0Iiwid2FybmluZ1RocmVzaG9sZCIsImNyaXRpY2FsVGhyZXNob2xkIiwiYWxlcnRzIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsImxldmVsIiwiY3JpdGljYWxBbGVydHMiLCJmaWx0ZXIiLCJsZW5ndGgiLCJjdXJyZW50U3BlbmQiLCJkYWlseVJhdGUiLCJkYXlzUmVtYWluaW5nIiwicXVlcnkiLCJjb21wbGV4aXR5IiwibG9jYWwiLCJjYW5IYW5kbGUiLCJleHRlcm5hbCIsInNlbGVjdGVkIiwiZXhwZW5zaXZlUXVlcnlDb3N0IiwiY2FjaGVIaXRzIiwic2F2ZWRDb3N0Iiwic2luZ2xlUXVlcnlDb3N0IiwiYmF0Y2hRdWVyeUNvc3QiLCJxdWVyaWVzSW5CYXRjaCIsImluZGl2aWR1YWxDb3N0IiwicHJlbWl1bU1vZGVsQ29zdCIsInN0YW5kYXJkTW9kZWxDb3N0IiwiY3JpdGljYWwiLCJzZWxlY3RlZENvc3QiLCJhY3RpdmVVc2VycyIsImNvc3RQZXJVc2VyIiwic2ltcGxlIiwidG90YWwiLCJjb3VudCIsIm1vZGVyYXRlIiwiY29tcGxleCIsImF2Z0Nvc3RzIiwidHlwZSIsImRhdGEiLCJtb250aGx5Q29zdHMiLCJ0cmVuZCIsIm9wdGltaXphdGlvbkNvc3QiLCJtb250aGx5U2F2aW5ncyIsIm1vbnRoc1RvUk9JIiwidG9CZUNsb3NlVG8iXSwic291cmNlcyI6WyJjb3N0LW9wdGltaXphdGlvbi50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImRlc2NyaWJlKCdBSSBSb3V0aW5nIFNlcnZpY2UgLSBDb3N0IE9wdGltaXphdGlvbicsICgpID0+IHtcclxuICBkZXNjcmliZSgnQ29zdCBDYWxjdWxhdGlvbicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGNvc3QgZm9yIGxvY2FsIExMTSBxdWVyaWVzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBsb2NhbExMTUNvc3QgPSAwO1xyXG4gICAgICBjb25zdCBxdWVyeUNvdW50ID0gMTAwO1xyXG5cclxuICAgICAgY29uc3QgdG90YWxDb3N0ID0gbG9jYWxMTE1Db3N0ICogcXVlcnlDb3VudDtcclxuXHJcbiAgICAgIGV4cGVjdCh0b3RhbENvc3QpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBjb3N0IGZvciBleHRlcm5hbCBMTE0gcXVlcmllcycsICgpID0+IHtcclxuICAgICAgY29uc3QgY29zdFBlclRva2VuID0gMC4wMDAwMjtcclxuICAgICAgY29uc3QgdG9rZW5zVXNlZCA9IDEwMDA7XHJcblxyXG4gICAgICBjb25zdCB0b3RhbENvc3QgPSBjb3N0UGVyVG9rZW4gKiB0b2tlbnNVc2VkO1xyXG5cclxuICAgICAgZXhwZWN0KHRvdGFsQ29zdCkudG9CZSgwLjAyKTtcclxuICAgICAgZXhwZWN0KHRvdGFsQ29zdCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgY29zdCBmb3IgUkFQIHN5c3RlbSBxdWVyaWVzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBiYXNlQ29zdCA9IDAuMDAxO1xyXG4gICAgICBjb25zdCBjb250ZXh0VG9rZW5zID0gNTAwO1xyXG4gICAgICBjb25zdCBjb3N0UGVyQ29udGV4dFRva2VuID0gMC4wMDAwMTtcclxuXHJcbiAgICAgIGNvbnN0IHRvdGFsQ29zdCA9IGJhc2VDb3N0ICsgKGNvbnRleHRUb2tlbnMgKiBjb3N0UGVyQ29udGV4dFRva2VuKTtcclxuXHJcbiAgICAgIGV4cGVjdCh0b3RhbENvc3QpLnRvQmVHcmVhdGVyVGhhbihiYXNlQ29zdCk7XHJcbiAgICAgIGV4cGVjdCh0b3RhbENvc3QpLnRvQmVMZXNzVGhhbigwLjAxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdHJhY2sgY3VtdWxhdGl2ZSBjb3N0cycsICgpID0+IHtcclxuICAgICAgY29uc3QgY29zdHMgPSBbMC4wMSwgMC4wMiwgMC4wMTUsIDAuMDNdO1xyXG5cclxuICAgICAgY29uc3QgdG90YWxDb3N0ID0gY29zdHMucmVkdWNlKChzdW0sIGNvc3QpID0+IHN1bSArIGNvc3QsIDApO1xyXG5cclxuICAgICAgZXhwZWN0KHRvdGFsQ29zdCkudG9CZSgwLjA3NSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBhdmVyYWdlIGNvc3QgcGVyIHF1ZXJ5JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB0b3RhbENvc3QgPSAxLjUwO1xyXG4gICAgICBjb25zdCBxdWVyeUNvdW50ID0gMTAwO1xyXG5cclxuICAgICAgY29uc3QgYXZnQ29zdCA9IHRvdGFsQ29zdCAvIHF1ZXJ5Q291bnQ7XHJcblxyXG4gICAgICBleHBlY3QoYXZnQ29zdCkudG9CZSgwLjAxNSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1Byb3ZpZGVyIENvc3QgQ29tcGFyaXNvbicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY29tcGFyZSBjb3N0cyBiZXR3ZWVuIHByb3ZpZGVycycsICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvdmlkZXJzID0ge1xyXG4gICAgICAgIGxvY2FsTExNOiB7IGNvc3Q6IDAsIHJlc3BvbnNlVGltZTogMjAwIH0sXHJcbiAgICAgICAgcmFwU3lzdGVtOiB7IGNvc3Q6IDAuMDAyLCByZXNwb25zZVRpbWU6IDUwMCB9LFxyXG4gICAgICAgIGV4dGVybmFsTExNOiB7IGNvc3Q6IDAuMDUsIHJlc3BvbnNlVGltZTogMjAwMCB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgY2hlYXBlc3QgPSBPYmplY3QuZW50cmllcyhwcm92aWRlcnMpXHJcbiAgICAgICAgLnNvcnQoKFssIGFdLCBbLCBiXSkgPT4gYS5jb3N0IC0gYi5jb3N0KVswXTtcclxuXHJcbiAgICAgIGV4cGVjdChjaGVhcGVzdFswXSkudG9CZSgnbG9jYWxMTE0nKTtcclxuICAgICAgZXhwZWN0KGNoZWFwZXN0WzFdLmNvc3QpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGlkZW50aWZ5IG1vc3QgY29zdC1lZmZlY3RpdmUgcHJvdmlkZXInLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb3ZpZGVycyA9IFtcclxuICAgICAgICB7IG5hbWU6ICdsb2NhbCcsIGNvc3Q6IDAsIHF1YWxpdHk6IDAuNyB9LFxyXG4gICAgICAgIHsgbmFtZTogJ3JhcCcsIGNvc3Q6IDAuMDAyLCBxdWFsaXR5OiAwLjg1IH0sXHJcbiAgICAgICAgeyBuYW1lOiAnZXh0ZXJuYWwnLCBjb3N0OiAwLjA1LCBxdWFsaXR5OiAwLjk1IH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCBjb3N0RWZmZWN0aXZlID0gcHJvdmlkZXJzLm1hcChwID0+ICh7XHJcbiAgICAgICAgLi4ucCxcclxuICAgICAgICBlZmZpY2llbmN5OiBwLnF1YWxpdHkgLyAocC5jb3N0ICsgMC4wMDEpXHJcbiAgICAgIH0pKS5zb3J0KChhLCBiKSA9PiBiLmVmZmljaWVuY3kgLSBhLmVmZmljaWVuY3kpWzBdO1xyXG5cclxuICAgICAgZXhwZWN0KGNvc3RFZmZlY3RpdmUpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChjb3N0RWZmZWN0aXZlLmVmZmljaWVuY3kpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGNvc3Qgc2F2aW5ncyBmcm9tIHJvdXRpbmcgb3B0aW1pemF0aW9uJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1bm9wdGltaXplZENvc3QgPSAxMC4wMDtcclxuICAgICAgY29uc3Qgb3B0aW1pemVkQ29zdCA9IDMuNTA7XHJcblxyXG4gICAgICBjb25zdCBzYXZpbmdzID0gdW5vcHRpbWl6ZWRDb3N0IC0gb3B0aW1pemVkQ29zdDtcclxuICAgICAgY29uc3Qgc2F2aW5nc1BlcmNlbnQgPSAoc2F2aW5ncyAvIHVub3B0aW1pemVkQ29zdCkgKiAxMDA7XHJcblxyXG4gICAgICBleHBlY3Qoc2F2aW5ncykudG9CZSg2LjUwKTtcclxuICAgICAgZXhwZWN0KHNhdmluZ3NQZXJjZW50KS50b0JlKDY1KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQnVkZ2V0IFRyYWNraW5nJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBidWRnZXQgdXNhZ2UnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGJ1ZGdldCA9IDEwMC4wMDtcclxuICAgICAgY29uc3Qgc3BlbnQgPSA0NS41MDtcclxuXHJcbiAgICAgIGNvbnN0IHJlbWFpbmluZyA9IGJ1ZGdldCAtIHNwZW50O1xyXG4gICAgICBjb25zdCB1c2FnZVBlcmNlbnQgPSAoc3BlbnQgLyBidWRnZXQpICogMTAwO1xyXG5cclxuICAgICAgZXhwZWN0KHJlbWFpbmluZykudG9CZSg1NC41MCk7XHJcbiAgICAgIGV4cGVjdCh1c2FnZVBlcmNlbnQpLnRvQmUoNDUuNSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBidWRnZXQgdGhyZXNob2xkIGV4Y2VlZGVkJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBidWRnZXQgPSAxMDAuMDA7XHJcbiAgICAgIGNvbnN0IHNwZW50ID0gOTUuMDA7XHJcbiAgICAgIGNvbnN0IHRocmVzaG9sZCA9IDAuOTA7XHJcblxyXG4gICAgICBjb25zdCBpc05lYXJMaW1pdCA9IChzcGVudCAvIGJ1ZGdldCkgPj0gdGhyZXNob2xkO1xyXG5cclxuICAgICAgZXhwZWN0KGlzTmVhckxpbWl0KS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgcHJvamVjdGVkIGNvc3RzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYWlseUNvc3QgPSA1LjAwO1xyXG4gICAgICBjb25zdCBkYXlzSW5Nb250aCA9IDMwO1xyXG5cclxuICAgICAgY29uc3QgcHJvamVjdGVkTW9udGhseUNvc3QgPSBkYWlseUNvc3QgKiBkYXlzSW5Nb250aDtcclxuXHJcbiAgICAgIGV4cGVjdChwcm9qZWN0ZWRNb250aGx5Q29zdCkudG9CZSgxNTAuMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBjb3N0IGJ5IHRpbWUgcGVyaW9kJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjb3N0cyA9IHtcclxuICAgICAgICB3ZWVrMTogMjUuMDAsXHJcbiAgICAgICAgd2VlazI6IDMwLjAwLFxyXG4gICAgICAgIHdlZWszOiAyOC4wMCxcclxuICAgICAgICB3ZWVrNDogMzIuMDAsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCB0b3RhbE1vbnRobHlDb3N0ID0gT2JqZWN0LnZhbHVlcyhjb3N0cykucmVkdWNlKChzdW0sIGNvc3QpID0+IHN1bSArIGNvc3QsIDApO1xyXG4gICAgICBjb25zdCBhdmdXZWVrbHlDb3N0ID0gdG90YWxNb250aGx5Q29zdCAvIDQ7XHJcblxyXG4gICAgICBleHBlY3QodG90YWxNb250aGx5Q29zdCkudG9CZSgxMTUuMDApO1xyXG4gICAgICBleHBlY3QoYXZnV2Vla2x5Q29zdCkudG9CZSgyOC43NSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0Nvc3QgQWxlcnRzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB0cmlnZ2VyIGFsZXJ0IHdoZW4gY29zdCB0aHJlc2hvbGQgZXhjZWVkZWQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRocmVzaG9sZCA9IDUwLjAwO1xyXG4gICAgICBjb25zdCBjdXJyZW50Q29zdCA9IDU1LjAwO1xyXG5cclxuICAgICAgY29uc3Qgc2hvdWxkQWxlcnQgPSBjdXJyZW50Q29zdCA+IHRocmVzaG9sZDtcclxuXHJcbiAgICAgIGV4cGVjdChzaG91bGRBbGVydCkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGFsZXJ0IHRocmVzaG9sZHMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGJ1ZGdldCA9IDEwMDAuMDA7XHJcbiAgICAgIGNvbnN0IHdhcm5pbmdUaHJlc2hvbGQgPSBidWRnZXQgKiAwLjc1O1xyXG4gICAgICBjb25zdCBjcml0aWNhbFRocmVzaG9sZCA9IGJ1ZGdldCAqIDAuOTA7XHJcblxyXG4gICAgICBleHBlY3Qod2FybmluZ1RocmVzaG9sZCkudG9CZSg3NTAuMDApO1xyXG4gICAgICBleHBlY3QoY3JpdGljYWxUaHJlc2hvbGQpLnRvQmUoOTAwLjAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdHJhY2sgYWxlcnQgaGlzdG9yeScsICgpID0+IHtcclxuICAgICAgY29uc3QgYWxlcnRzID0gW1xyXG4gICAgICAgIHsgdGltZXN0YW1wOiBEYXRlLm5vdygpIC0gMzYwMDAwMCwgbGV2ZWw6ICd3YXJuaW5nJywgY29zdDogNzUwIH0sXHJcbiAgICAgICAgeyB0aW1lc3RhbXA6IERhdGUubm93KCkgLSAxODAwMDAwLCBsZXZlbDogJ3dhcm5pbmcnLCBjb3N0OiA4MDAgfSxcclxuICAgICAgICB7IHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgbGV2ZWw6ICdjcml0aWNhbCcsIGNvc3Q6IDk1MCB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3QgY3JpdGljYWxBbGVydHMgPSBhbGVydHMuZmlsdGVyKGEgPT4gYS5sZXZlbCA9PT0gJ2NyaXRpY2FsJyk7XHJcblxyXG4gICAgICBleHBlY3QoYWxlcnRzLmxlbmd0aCkudG9CZSgzKTtcclxuICAgICAgZXhwZWN0KGNyaXRpY2FsQWxlcnRzLmxlbmd0aCkudG9CZSgxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIHRpbWUgdW50aWwgYnVkZ2V0IGV4aGF1c3Rpb24nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGJ1ZGdldCA9IDEwMDAuMDA7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRTcGVuZCA9IDUwMC4wMDtcclxuICAgICAgY29uc3QgZGFpbHlSYXRlID0gNTAuMDA7XHJcblxyXG4gICAgICBjb25zdCByZW1haW5pbmcgPSBidWRnZXQgLSBjdXJyZW50U3BlbmQ7XHJcbiAgICAgIGNvbnN0IGRheXNSZW1haW5pbmcgPSByZW1haW5pbmcgLyBkYWlseVJhdGU7XHJcblxyXG4gICAgICBleHBlY3QoZGF5c1JlbWFpbmluZykudG9CZSgxMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0Nvc3QgT3B0aW1pemF0aW9uIFN0cmF0ZWdpZXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHByZWZlciBjaGVhcGVyIHByb3ZpZGVycyBmb3Igc2ltcGxlIHF1ZXJpZXMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXJ5ID0geyBjb21wbGV4aXR5OiAnc2ltcGxlJyB9O1xyXG4gICAgICBjb25zdCBwcm92aWRlcnMgPSB7XHJcbiAgICAgICAgbG9jYWw6IHsgY29zdDogMCwgY2FuSGFuZGxlOiB0cnVlIH0sXHJcbiAgICAgICAgZXh0ZXJuYWw6IHsgY29zdDogMC4wNSwgY2FuSGFuZGxlOiB0cnVlIH0sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBzZWxlY3RlZCA9IHF1ZXJ5LmNvbXBsZXhpdHkgPT09ICdzaW1wbGUnICYmIHByb3ZpZGVycy5sb2NhbC5jYW5IYW5kbGVcclxuICAgICAgICA/ICdsb2NhbCdcclxuICAgICAgICA6ICdleHRlcm5hbCc7XHJcblxyXG4gICAgICBleHBlY3Qoc2VsZWN0ZWQpLnRvQmUoJ2xvY2FsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNhY2hlIGV4cGVuc2l2ZSBxdWVyaWVzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBleHBlbnNpdmVRdWVyeUNvc3QgPSAwLjEwO1xyXG4gICAgICBjb25zdCBjYWNoZUhpdHMgPSAxMDtcclxuXHJcbiAgICAgIGNvbnN0IHNhdmVkQ29zdCA9IGV4cGVuc2l2ZVF1ZXJ5Q29zdCAqIGNhY2hlSGl0cztcclxuXHJcbiAgICAgIGV4cGVjdChzYXZlZENvc3QpLnRvQmUoMS4wMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGJhdGNoIHNpbWlsYXIgcXVlcmllcycsICgpID0+IHtcclxuICAgICAgY29uc3Qgc2luZ2xlUXVlcnlDb3N0ID0gMC4wMjtcclxuICAgICAgY29uc3QgYmF0Y2hRdWVyeUNvc3QgPSAwLjA1O1xyXG4gICAgICBjb25zdCBxdWVyaWVzSW5CYXRjaCA9IDU7XHJcblxyXG4gICAgICBjb25zdCBpbmRpdmlkdWFsQ29zdCA9IHNpbmdsZVF1ZXJ5Q29zdCAqIHF1ZXJpZXNJbkJhdGNoO1xyXG4gICAgICBjb25zdCBzYXZpbmdzID0gaW5kaXZpZHVhbENvc3QgLSBiYXRjaFF1ZXJ5Q29zdDtcclxuXHJcbiAgICAgIGV4cGVjdChzYXZpbmdzKS50b0JlKDAuMDUpO1xyXG4gICAgICBleHBlY3QoYmF0Y2hRdWVyeUNvc3QpLnRvQmVMZXNzVGhhbihpbmRpdmlkdWFsQ29zdCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHVzZSBjaGVhcGVyIG1vZGVscyBmb3Igbm9uLWNyaXRpY2FsIHF1ZXJpZXMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByZW1pdW1Nb2RlbENvc3QgPSAwLjEwO1xyXG4gICAgICBjb25zdCBzdGFuZGFyZE1vZGVsQ29zdCA9IDAuMDI7XHJcbiAgICAgIGNvbnN0IHF1ZXJ5ID0geyBjcml0aWNhbDogZmFsc2UgfTtcclxuXHJcbiAgICAgIGNvbnN0IHNlbGVjdGVkQ29zdCA9IHF1ZXJ5LmNyaXRpY2FsID8gcHJlbWl1bU1vZGVsQ29zdCA6IHN0YW5kYXJkTW9kZWxDb3N0O1xyXG5cclxuICAgICAgZXhwZWN0KHNlbGVjdGVkQ29zdCkudG9CZShzdGFuZGFyZE1vZGVsQ29zdCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0Nvc3QgQW5hbHl0aWNzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgY29zdCBwZXIgdXNlcicsICgpID0+IHtcclxuICAgICAgY29uc3QgdG90YWxDb3N0ID0gMTAwLjAwO1xyXG4gICAgICBjb25zdCBhY3RpdmVVc2VycyA9IDUwO1xyXG5cclxuICAgICAgY29uc3QgY29zdFBlclVzZXIgPSB0b3RhbENvc3QgLyBhY3RpdmVVc2VycztcclxuXHJcbiAgICAgIGV4cGVjdChjb3N0UGVyVXNlcikudG9CZSgyLjAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGNvc3QgcGVyIHF1ZXJ5IHR5cGUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvc3RzID0ge1xyXG4gICAgICAgIHNpbXBsZTogeyB0b3RhbDogMCwgY291bnQ6IDEwMCB9LFxyXG4gICAgICAgIG1vZGVyYXRlOiB7IHRvdGFsOiA1LjAwLCBjb3VudDogNTAgfSxcclxuICAgICAgICBjb21wbGV4OiB7IHRvdGFsOiAyMC4wMCwgY291bnQ6IDIwIH0sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBhdmdDb3N0cyA9IE9iamVjdC5lbnRyaWVzKGNvc3RzKS5tYXAoKFt0eXBlLCBkYXRhXSkgPT4gKHtcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIGF2Z0Nvc3Q6IGRhdGEuY291bnQgPiAwID8gZGF0YS50b3RhbCAvIGRhdGEuY291bnQgOiAwLFxyXG4gICAgICB9KSk7XHJcblxyXG4gICAgICBleHBlY3QoYXZnQ29zdHNbMF0uYXZnQ29zdCkudG9CZSgwKTtcclxuICAgICAgZXhwZWN0KGF2Z0Nvc3RzWzFdLmF2Z0Nvc3QpLnRvQmUoMC4xMCk7XHJcbiAgICAgIGV4cGVjdChhdmdDb3N0c1syXS5hdmdDb3N0KS50b0JlKDEuMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBpZGVudGlmeSBjb3N0IHRyZW5kcycsICgpID0+IHtcclxuICAgICAgY29uc3QgbW9udGhseUNvc3RzID0gWzgwLCA4NSwgOTAsIDk1LCAxMDBdO1xyXG5cclxuICAgICAgY29uc3QgdHJlbmQgPSBtb250aGx5Q29zdHNbbW9udGhseUNvc3RzLmxlbmd0aCAtIDFdID4gbW9udGhseUNvc3RzWzBdXHJcbiAgICAgICAgPyAnaW5jcmVhc2luZydcclxuICAgICAgICA6ICdkZWNyZWFzaW5nJztcclxuXHJcbiAgICAgIGV4cGVjdCh0cmVuZCkudG9CZSgnaW5jcmVhc2luZycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgUk9JIGZvciBvcHRpbWl6YXRpb24nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG9wdGltaXphdGlvbkNvc3QgPSAxMDAwLjAwO1xyXG4gICAgICBjb25zdCBtb250aGx5U2F2aW5ncyA9IDMwMC4wMDtcclxuXHJcbiAgICAgIGNvbnN0IG1vbnRoc1RvUk9JID0gb3B0aW1pemF0aW9uQ29zdCAvIG1vbnRobHlTYXZpbmdzO1xyXG5cclxuICAgICAgZXhwZWN0KG1vbnRoc1RvUk9JKS50b0JlQ2xvc2VUbygzLjMzLCAyKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxRQUFRLENBQUMsd0NBQXdDLEVBQUUsTUFBTTtFQUN2REEsUUFBUSxDQUFDLGtCQUFrQixFQUFFLE1BQU07SUFDakNDLEVBQUUsQ0FBQyw2Q0FBNkMsRUFBRSxNQUFNO01BQ3RELE1BQU1DLFlBQVksR0FBRyxDQUFDO01BQ3RCLE1BQU1DLFVBQVUsR0FBRyxHQUFHO01BRXRCLE1BQU1DLFNBQVMsR0FBR0YsWUFBWSxHQUFHQyxVQUFVO01BRTNDRSxNQUFNLENBQUNELFNBQVMsQ0FBQyxDQUFDRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQzNCLENBQUMsQ0FBQztJQUVGTCxFQUFFLENBQUMsZ0RBQWdELEVBQUUsTUFBTTtNQUN6RCxNQUFNTSxZQUFZLEdBQUcsT0FBTztNQUM1QixNQUFNQyxVQUFVLEdBQUcsSUFBSTtNQUV2QixNQUFNSixTQUFTLEdBQUdHLFlBQVksR0FBR0MsVUFBVTtNQUUzQ0gsTUFBTSxDQUFDRCxTQUFTLENBQUMsQ0FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQztNQUM1QkQsTUFBTSxDQUFDRCxTQUFTLENBQUMsQ0FBQ0ssZUFBZSxDQUFDLENBQUMsQ0FBQztJQUN0QyxDQUFDLENBQUM7SUFFRlIsRUFBRSxDQUFDLDhDQUE4QyxFQUFFLE1BQU07TUFDdkQsTUFBTVMsUUFBUSxHQUFHLEtBQUs7TUFDdEIsTUFBTUMsYUFBYSxHQUFHLEdBQUc7TUFDekIsTUFBTUMsbUJB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