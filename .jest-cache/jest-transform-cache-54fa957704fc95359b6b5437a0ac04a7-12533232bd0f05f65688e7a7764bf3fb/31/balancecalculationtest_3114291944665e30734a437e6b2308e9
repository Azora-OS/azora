f79a9bf17e4f22b42d71e9bc4267b50c
"use strict";

var _globals = require("@jest/globals");
var _supertest = _interopRequireDefault(require("supertest"));
var _database = require("../../../tests/utils/database");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const API_URL = process.env.LEDGER_SERVICE_URL || 'http://localhost:3012';
(0, _globals.describe)('Azora Ledger - Balance Calculation', () => {
  (0, _globals.beforeEach)(async () => {
    await (0, _database.setupTestDatabase)();
  });
  (0, _globals.afterEach)(async () => {
    await (0, _database.cleanupTestDatabase)();
  });
  (0, _globals.describe)('Account Balance', () => {
    (0, _globals.it)('should calculate account balance', async () => {
      const accountId = 'account-123';
      await (0, _supertest.default)(API_URL).post('/api/transactions').send({
        amount: 100,
        currency: 'USD',
        accountId,
        type: 'credit'
      });
      await (0, _supertest.default)(API_URL).post('/api/transactions').send({
        amount: 30,
        currency: 'USD',
        accountId,
        type: 'debit'
      });
      const res = await (0, _supertest.default)(API_URL).get(`/api/accounts/${accountId}/balance`);
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.balance).toBe(70);
    });
    (0, _globals.it)('should handle zero balance', async () => {
      const accountId = 'account-456';
      const res = await (0, _supertest.default)(API_URL).get(`/api/accounts/${accountId}/balance`);
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.balance).toBe(0);
    });
    (0, _globals.it)('should handle negative balance', async () => {
      const accountId = 'account-789';
      await (0, _supertest.default)(API_URL).post('/api/transactions').send({
        amount: 50,
        currency: 'USD',
        accountId,
        type: 'debit'
      });
      const res = await (0, _supertest.default)(API_URL).get(`/api/accounts/${accountId}/balance`);
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.balance).toBe(-50);
    });
    (0, _globals.it)('should calculate balance by currency', async () => {
      const accountId = 'account-multi';
      await (0, _supertest.default)(API_URL).post('/api/transactions').send({
        amount: 100,
        currency: 'USD',
        accountId,
        type: 'credit'
      });
      await (0, _supertest.default)(API_URL).post('/api/transactions').send({
        amount: 50,
        currency: 'EUR',
        accountId,
        type: 'credit'
      });
      const res = await (0, _supertest.default)(API_URL).get(`/api/accounts/${accountId}/balance`).query({
        currency: 'USD'
      });
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.balance).toBe(100);
    });
  });
  (0, _globals.describe)('Balance History', () => {
    (0, _globals.it)('should retrieve balance history', async () => {
      const accountId = 'account-history';
      await (0, _supertest.default)(API_URL).post('/api/transactions').send({
        amount: 100,
        currency: 'USD',
        accountId,
        type: 'credit'
      });
      const res = await (0, _supertest.default)(API_URL).get(`/api/accounts/${accountId}/balance-history`);
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(Array.isArray(res.body.history)).toBe(true);
      (0, _globals.expect)(res.body.history.length).toBeGreaterThan(0);
    });
    (0, _globals.it)('should filter balance history by date range', async () => {
      const accountId = 'account-date-filter';
      const res = await (0, _supertest.default)(API_URL).get(`/api/accounts/${accountId}/balance-history`).query({
        startDate: '2024-01-01',
        endDate: '2024-12-31'
      });
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(Array.isArray(res.body.history)).toBe(true);
    });
  });
  (0, _globals.describe)('Multi-Currency Balance', () => {
    (0, _globals.it)('should calculate balances for multiple currencies', async () => {
      const accountId = 'account-multi-currency';
      await (0, _supertest.default)(API_URL).post('/api/transactions').send({
        amount: 100,
        currency: 'USD',
        accountId,
        type: 'credit'
      });
      await (0, _supertest.default)(API_URL).post('/api/transactions').send({
        amount: 50,
        currency: 'EUR',
        accountId,
        type: 'credit'
      });
      const res = await (0, _supertest.default)(API_URL).get(`/api/accounts/${accountId}/balances`);
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.balances).toBeDefined();
      (0, _globals.expect)(res.body.balances.USD).toBe(100);
      (0, _globals.expect)(res.body.balances.EUR).toBe(50);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2xvYmFscyIsInJlcXVpcmUiLCJfc3VwZXJ0ZXN0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9kYXRhYmFzZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIkFQSV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTEVER0VSX1NFUlZJQ0VfVVJMIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwic2V0dXBUZXN0RGF0YWJhc2UiLCJhZnRlckVhY2giLCJjbGVhbnVwVGVzdERhdGFiYXNlIiwiaXQiLCJhY2NvdW50SWQiLCJyZXF1ZXN0IiwicG9zdCIsInNlbmQiLCJhbW91bnQiLCJjdXJyZW5jeSIsInR5cGUiLCJyZXMiLCJnZXQiLCJleHBlY3QiLCJzdGF0dXMiLCJ0b0JlIiwiYm9keSIsImJhbGFuY2UiLCJxdWVyeSIsIkFycmF5IiwiaXNBcnJheSIsImhpc3RvcnkiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJzdGFydERhdGUiLCJlbmREYXRlIiwiYmFsYW5jZXMiLCJ0b0JlRGVmaW5lZCIsIlVTRCIsIkVVUiJdLCJzb3VyY2VzIjpbImJhbGFuY2UtY2FsY3VsYXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgYmVmb3JlRWFjaCwgYWZ0ZXJFYWNoIH0gZnJvbSAnQGplc3QvZ2xvYmFscyc7XHJcbmltcG9ydCByZXF1ZXN0IGZyb20gJ3N1cGVydGVzdCc7XHJcbmltcG9ydCB7IHNldHVwVGVzdERhdGFiYXNlLCBjbGVhbnVwVGVzdERhdGFiYXNlIH0gZnJvbSAnLi4vLi4vLi4vdGVzdHMvdXRpbHMvZGF0YWJhc2UnO1xyXG5cclxuY29uc3QgQVBJX1VSTCA9IHByb2Nlc3MuZW52LkxFREdFUl9TRVJWSUNFX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDozMDEyJztcclxuXHJcbmRlc2NyaWJlKCdBem9yYSBMZWRnZXIgLSBCYWxhbmNlIENhbGN1bGF0aW9uJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xyXG4gICAgYXdhaXQgc2V0dXBUZXN0RGF0YWJhc2UoKTtcclxuICB9KTtcclxuXHJcbiAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IGNsZWFudXBUZXN0RGF0YWJhc2UoKTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0FjY291bnQgQmFsYW5jZScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGFjY291bnQgYmFsYW5jZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgYWNjb3VudElkID0gJ2FjY291bnQtMTIzJztcclxuXHJcbiAgICAgIGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAucG9zdCgnL2FwaS90cmFuc2FjdGlvbnMnKVxyXG4gICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgIGFtb3VudDogMTAwLFxyXG4gICAgICAgICAgY3VycmVuY3k6ICdVU0QnLFxyXG4gICAgICAgICAgYWNjb3VudElkLFxyXG4gICAgICAgICAgdHlwZTogJ2NyZWRpdCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvdHJhbnNhY3Rpb25zJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBhbW91bnQ6IDMwLFxyXG4gICAgICAgICAgY3VycmVuY3k6ICdVU0QnLFxyXG4gICAgICAgICAgYWNjb3VudElkLFxyXG4gICAgICAgICAgdHlwZTogJ2RlYml0JyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAuZ2V0KGAvYXBpL2FjY291bnRzLyR7YWNjb3VudElkfS9iYWxhbmNlYCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVzLmJvZHkuYmFsYW5jZSkudG9CZSg3MCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB6ZXJvIGJhbGFuY2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFjY291bnRJZCA9ICdhY2NvdW50LTQ1Nic7XHJcblxyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLmdldChgL2FwaS9hY2NvdW50cy8ke2FjY291bnRJZH0vYmFsYW5jZWApO1xyXG5cclxuICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlcy5ib2R5LmJhbGFuY2UpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBuZWdhdGl2ZSBiYWxhbmNlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBhY2NvdW50SWQgPSAnYWNjb3VudC03ODknO1xyXG5cclxuICAgICAgYXdhaXQgcmVxdWVzdChBUElfVVJMKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL3RyYW5zYWN0aW9ucycpXHJcbiAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgYW1vdW50OiA1MCxcclxuICAgICAgICAgIGN1cnJlbmN5OiAnVVNEJyxcclxuICAgICAgICAgIGFjY291bnRJZCxcclxuICAgICAgICAgIHR5cGU6ICdkZWJpdCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLmdldChgL2FwaS9hY2NvdW50cy8ke2FjY291bnRJZH0vYmFsYW5jZWApO1xyXG5cclxuICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlcy5ib2R5LmJhbGFuY2UpLnRvQmUoLTUwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGJhbGFuY2UgYnkgY3VycmVuY3knLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFjY291bnRJZCA9ICdhY2NvdW50LW11bHRpJztcclxuXHJcbiAgICAgIGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAucG9zdCgnL2FwaS90cmFuc2FjdGlvbnMnKVxyXG4gICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgIGFtb3VudDogMTAwLFxyXG4gICAgICAgICAgY3VycmVuY3k6ICdVU0QnLFxyXG4gICAgICAgICAgYWNjb3VudElkLFxyXG4gICAgICAgICAgdHlwZTogJ2NyZWRpdCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvdHJhbnNhY3Rpb25zJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBhbW91bnQ6IDUwLFxyXG4gICAgICAgICAgY3VycmVuY3k6ICdFVVInLFxyXG4gICAgICAgICAgYWNjb3VudElkLFxyXG4gICAgICAgICAgdHlwZTogJ2NyZWRpdCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLmdldChgL2FwaS9hY2NvdW50cy8ke2FjY291bnRJZH0vYmFsYW5jZWApXHJcbiAgICAgICAgLnF1ZXJ5KHsgY3VycmVuY3k6ICdVU0QnIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlcy5ib2R5LmJhbGFuY2UpLnRvQmUoMTAwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQmFsYW5jZSBIaXN0b3J5JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBiYWxhbmNlIGhpc3RvcnknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFjY291bnRJZCA9ICdhY2NvdW50LWhpc3RvcnknO1xyXG5cclxuICAgICAgYXdhaXQgcmVxdWVzdChBUElfVVJMKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL3RyYW5zYWN0aW9ucycpXHJcbiAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgYW1vdW50OiAxMDAsXHJcbiAgICAgICAgICBjdXJyZW5jeTogJ1VTRCcsXHJcbiAgICAgICAgICBhY2NvdW50SWQsXHJcbiAgICAgICAgICB0eXBlOiAnY3JlZGl0JyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAuZ2V0KGAvYXBpL2FjY291bnRzLyR7YWNjb3VudElkfS9iYWxhbmNlLWhpc3RvcnlgKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlcy5ib2R5Lmhpc3RvcnkpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzLmJvZHkuaGlzdG9yeS5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGJhbGFuY2UgaGlzdG9yeSBieSBkYXRlIHJhbmdlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBhY2NvdW50SWQgPSAnYWNjb3VudC1kYXRlLWZpbHRlcic7XHJcblxyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLmdldChgL2FwaS9hY2NvdW50cy8ke2FjY291bnRJZH0vYmFsYW5jZS1oaXN0b3J5YClcclxuICAgICAgICAucXVlcnkoe1xyXG4gICAgICAgICAgc3RhcnREYXRlOiAnMjAyNC0wMS0wMScsXHJcbiAgICAgICAgICBlbmREYXRlOiAnMjAyNC0xMi0zMScsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXMuYm9keS5oaXN0b3J5KSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnTXVsdGktQ3VycmVuY3kgQmFsYW5jZScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGJhbGFuY2VzIGZvciBtdWx0aXBsZSBjdXJyZW5jaWVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBhY2NvdW50SWQgPSAnYWNjb3VudC1tdWx0aS1jdXJyZW5jeSc7XHJcblxyXG4gICAgICBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvdHJhbnNhY3Rpb25zJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBhbW91bnQ6IDEwMCxcclxuICAgICAgICAgIGN1cnJlbmN5OiAnVVNEJyxcclxuICAgICAgICAgIGFjY291bnRJZCxcclxuICAgICAgICAgIHR5cGU6ICdjcmVkaXQnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgYXdhaXQgcmVxdWVzdChBUElfVVJMKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL3RyYW5zYWN0aW9ucycpXHJcbiAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgYW1vdW50OiA1MCxcclxuICAgICAgICAgIGN1cnJlbmN5OiAnRVVSJyxcclxuICAgICAgICAgIGFjY291bnRJZCxcclxuICAgICAgICAgIHR5cGU6ICdjcmVkaXQnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdChBUElfVVJMKVxyXG4gICAgICAgIC5nZXQoYC9hcGkvYWNjb3VudHMvJHthY2NvdW50SWR9L2JhbGFuY2VzYCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVzLmJvZHkuYmFsYW5jZXMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXMuYm9keS5iYWxhbmNlcy5VU0QpLnRvQmUoMTAwKTtcclxuICAgICAgZXhwZWN0KHJlcy5ib2R5LmJhbGFuY2VzLkVVUikudG9CZSg1MCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFILE9BQUE7QUFBdUYsU0FBQUUsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFdkYsTUFBTUcsT0FBTyxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0Msa0JBQWtCLElBQUksdUJBQXVCO0FBRXpFLElBQUFDLGlCQUFRLEVBQUMsb0NBQW9DLEVBQUUsTUFBTTtFQUNuRCxJQUFBQyxtQkFBVSxFQUFDLFlBQVk7SUFDckIsTUFBTSxJQUFBQywyQkFBaUIsRUFBQyxDQUFDO0VBQzNCLENBQUMsQ0FBQztFQUVGLElBQUFDLGtCQUFTLEVBQUMsWUFBWTtJQUNwQixNQUFNLElBQUFDLDZCQUFtQixFQUFDLENBQUM7RUFDN0IsQ0FBQyxDQUFDO0VBRUYsSUFBQUosaUJBQVEsRUFBQyxpQkFBaUIsRUFBRSxNQUFNO0lBQ2hDLElBQUFLLFdBQUUsRUFBQyxrQ0FBa0MsRUFBRSxZQUFZO01BQ2pELE1BQU1DLFNBQVMsR0FBRyxhQUFhO01BRS9CLE1BQU0sSUFBQUMsa0JBQU8sRUFBQ1gsT0FBTyxDQUFDLENBQ25CWSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FDekJDLElBQUksQ0FBQztRQUNKQyxNQUFNLEVBQUUsR0FBRztRQUNYQyxRQUFRLEVBQUUsS0FBSztRQUNmTCxTQUFTO1FBQ1RNLElBQUksRUFBRTtNQUNSLENBQUMsQ0FBQztNQUVKLE1BQU0sSUFBQUwsa0JBQU8sRUFBQ1gsT0FBTyxDQUFDLENBQ25CWSxJQUFJLENBQUMsbUJB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