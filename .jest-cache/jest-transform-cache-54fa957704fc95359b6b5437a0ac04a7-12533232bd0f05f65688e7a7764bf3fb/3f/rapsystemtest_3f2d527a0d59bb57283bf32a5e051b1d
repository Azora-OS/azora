75e5faefa1726d141991653598b59792
"use strict";

// Mock dependencies
_getJestObj().mock('../../../services/azora-sapiens/src/embeddings');
_getJestObj().mock('../../../services/azora-sapiens/src/vector-storage');
_getJestObj().mock('../../../services/azora-sapiens/src/knowledge-ocean');
var _rapSystem = require("../rap-system");
var _types = require("../types");
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
/**
 * RAP System Tests
 * Tests for Retrieval-Augmented Prompt system with Knowledge Ocean integration
 */
describe('RAPSystem', () => {
  let rapSystem;
  let mockConfig;
  beforeEach(() => {
    mockConfig = {
      internalSourceWeight: 0.7,
      externalSourceWeight: 0.3,
      maxContextTokens: 2000,
      maxRetrievalResults: 10,
      externalLLMProvider: 'openai',
      externalLLMModel: 'gpt-4',
      externalLLMApiKey: 'test-key',
      embeddingApiKey: 'test-embedding-key',
      vectorDbApiKey: 'test-vector-key',
      vectorDbIndexName: 'azora-knowledge'
    };
    rapSystem = new _rapSystem.RAPSystem(mockConfig);
  });
  describe('Initialization', () => {
    it('should initialize with default configuration', () => {
      const config = {
        internalSourceWeight: 0.7,
        externalSourceWeight: 0.3,
        maxContextTokens: 2000,
        maxRetrievalResults: 10,
        externalLLMProvider: 'openai',
        externalLLMModel: 'gpt-4',
        externalLLMApiKey: 'test-key',
        embeddingApiKey: 'test-embedding-key',
        vectorDbApiKey: 'test-vector-key'
      };
      const system = new _rapSystem.RAPSystem(config);
      expect(system).toBeDefined();
    });
    it('should set 70/30 rule weights correctly', () => {
      expect(rapSystem['config'].internalSourceWeight).toBe(0.7);
      expect(rapSystem['config'].externalSourceWeight).toBe(0.3);
    });
    it('should initialize external LLM client for OpenAI', () => {
      expect(rapSystem['externalLLMClient']).toBeDefined();
    });
  });
  describe('Query Processing', () => {
    it('should process a query and return AIResponse', async () => {
      const query = {
        query: 'What are the best practices for machine learning?',
        userId: 'user-123'
      };

      // Mock the embedding service
      jest.spyOn(rapSystem['embeddingService'], 'generateEmbedding').mockResolvedValue(new Array(1536).fill(0.1));

      // Mock vector storage search
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValue([{
        id: 'source-1',
        score: 0.95,
        metadata: {
          date: '2024-01-01',
          source: 'internal',
          category: 'ML',
          verified: true,
          relevance: 0.95,
          tags: ['machine-learning', 'best-practices'],
          title: 'ML Best Practices Guide',
          url: 'https://example.com/ml-guide'
        }
      }]);

      // Mock external LLM call
      jest.spyOn(rapSystem['externalLLMClient'].chat.completions, 'create').mockResolvedValue({
        choices: [{
          message: {
            content: 'Machine learning best practices include data validation, model evaluation, and hyperparameter tuning.'
          }
        }]
      });
      const response = await rapSystem.processQuery(query);
      expect(response).toBeDefined();
      expect(response.routingTier).toBe(_types.RoutingTier.RAP_SYSTEM);
      expect(response.content).toBeTruthy();
      expect(response.responseTime).toBeGreaterThan(0);
      expect(response.cached).toBe(false);
    });
    it('should return cached response on second query', async () => {
      const query = {
        query: 'What is artificial intelligence?',
        userId: 'user-123'
      };

      // Mock the embedding service
      jest.spyOn(rapSystem['embeddingService'], 'generateEmbedding').mockResolvedValue(new Array(1536).fill(0.1));

      // Mock vector storage search
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValue([]);

      // Mock external LLM call
      jest.spyOn(rapSystem['externalLLMClient'].chat.completions, 'create').mockResolvedValue({
        choices: [{
          message: {
            content: 'Artificial intelligence is the simulation of human intelligence by machines.'
          }
        }]
      });

      // First call
      const response1 = await rapSystem.processQuery(query);
      expect(response1.cached).toBe(false);

      // Second call should be cached
      const response2 = await rapSystem.processQuery(query);
      expect(response2.cached).toBe(true);
      expect(response2.cost).toBe(0);
    });
  });
  describe('Context Retrieval', () => {
    it('should retrieve context with 70/30 rule', async () => {
      const queryEmbedding = new Array(1536).fill(0.1);
      const query = 'Test query';

      // Mock vector storage search
      const mockInternalSources = [{
        id: 'internal-1',
        score: 0.95,
        metadata: {
          date: '2024-01-01',
          source: 'internal',
          category: 'Education',
          verified: true,
          relevance: 0.95,
          tags: ['education'],
          title: 'Internal Source',
          url: 'https://internal.example.com'
        }
      }];
      const mockExternalSources = [{
        id: 'external-1',
        score: 0.85,
        metadata: {
          date: '2024-01-02',
          source: 'external',
          category: 'Research',
          verified: false,
          relevance: 0.85,
          tags: ['research'],
          title: 'External Source',
          url: 'https://external.example.com'
        }
      }];
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValueOnce(mockInternalSources).mockResolvedValueOnce(mockExternalSources);
      const context = await rapSystem['retrieveContext'](queryEmbedding, query);
      expect(context).toBeDefined();
      expect(context.internalSources).toHaveLength(1);
      expect(context.externalSources).toHaveLength(1);
      expect(context.internalWeight).toBe(0.7);
      expect(context.externalWeight).toBe(0.3);
      expect(context.combinedContext).toContain('Internal Knowledge Sources (70% weight)');
      expect(context.combinedContext).toContain('External Knowledge Sources (30% weight)');
    });
    it('should format context correctly', () => {
      const internalSources = [{
        id: 'internal-1',
        score: 0.95,
        metadata: {
          date: '2024-01-01',
          source: 'internal',
          category: 'ML',
          verified: true,
          relevance: 0.95,
          tags: ['ml', 'ai'],
          title: 'ML Guide',
          url: 'https://example.com/ml'
        }
      }];
      const externalSources = [{
        id: 'external-1',
        score: 0.85,
        metadata: {
          date: '2024-01-02',
          source: 'external',
          category: 'Research',
          verified: false,
          relevance: 0.85,
          tags: ['research'],
          title: 'Research Paper',
          url: 'https://example.com/paper'
        }
      }];
      const formatted = rapSystem['formatContext'](internalSources, externalSources);
      expect(formatted).toContain('Internal Knowledge Sources (70% weight)');
      expect(formatted).toContain('External Knowledge Sources (30% weight)');
      expect(formatted).toContain('ML Guide');
      expect(formatted).toContain('Research Paper');
      expect(formatted).toContain('95.00%'); // Relevance score
      expect(formatted).toContain('85.00%'); // Relevance score
    });
  });
  describe('RAP Building', () => {
    it('should build RAP with context injection', () => {
      const query = 'What is the future of AI?';
      const context = {
        internalSources: [],
        externalSources: [],
        combinedContext: 'Sample context about AI',
        internalWeight: 0.7,
        externalWeight: 0.3
      };
      const rap = rapSystem['buildRAP'](query, context);
      expect(rap).toContain(query);
      expect(rap).toContain('Sample context about AI');
      expect(rap).toContain('Knowledge Ocean');
      expect(rap).toContain('70%');
      expect(rap).toContain('30%');
    });
    it('should prioritize internal sources in RAP', () => {
      const query = 'Test query';
      const context = {
        internalSources: [],
        externalSources: [],
        combinedContext: 'Internal: verified data\nExternal: supplementary data',
        internalWeight: 0.7,
        externalWeight: 0.3
      };
      const rap = rapSystem['buildRAP'](query, context);
      expect(rap).toContain('prioritize internal sources');
      expect(rap).toContain('70%');
    });
  });
  describe('Cost Calculation', () => {
    it('should calculate cost based on token count', () => {
      const prompt = 'This is a test prompt with some content';
      const response = 'This is a test response with some content';
      const cost = rapSystem['calculateCost'](prompt, response);
      expect(cost).toBeGreaterThan(0);
      expect(typeof cost).toBe('number');
    });
    it('should calculate higher cost for longer content', () => {
      const shortPrompt = 'Short';
      const shortResponse = 'Short';
      const shortCost = rapSystem['calculateCost'](shortPrompt, shortResponse);
      const longPrompt = 'This is a much longer prompt with significantly more content that will result in more tokens';
      const longResponse = 'This is a much longer response with significantly more content that will result in more tokens';
      const longCost = rapSystem['calculateCost'](longPrompt, longResponse);
      expect(longCost).toBeGreaterThan(shortCost);
    });
  });
  describe('Caching', () => {
    it('should cache responses', () => {
      const queryHash = 'test-hash-123';
      const response = 'Test response content';
      rapSystem['setInCache'](queryHash, response);
      const cached = rapSystem['getFromCache'](queryHash);
      expect(cached).toBe(response);
    });
    it('should return null for expired cache entries', async () => {
      const queryHash = 'test-hash-456';
      const response = 'Test response';
      rapSystem['setInCache'](queryHash, response);

      // Manually expire the cache
      const cacheEntry = rapSystem['responseCache'].get(queryHash);
      if (cacheEntry) {
        cacheEntry.timestamp = Date.now() - 4 * 3600000; // 4 hours ago
      }
      const cached = rapSystem['getFromCache'](queryHash);
      expect(cached).toBeNull();
    });
    it('should get cache statistics', () => {
      rapSystem.clearCache();
      rapSystem['setInCache']('hash-1', 'response-1');
      rapSystem['setInCache']('hash-2', 'response-2');
      const stats = rapSystem.getCacheStats();
      expect(stats.size).toBe(2);
      expect(stats.entries).toBe(2);
    });
    it('should clear cache', () => {
      rapSystem['setInCache']('hash-1', 'response-1');
      rapSystem['setInCache']('hash-2', 'response-2');
      rapSystem.clearCache();
      const stats = rapSystem.getCacheStats();
      expect(stats.size).toBe(0);
    });
  });
  describe('Knowledge Ocean Integration', () => {
    it('should get Knowledge Ocean statistics', () => {
      const stats = rapSystem.getKnowledgeOceanStats();
      expect(stats).toBeDefined();
      expect(stats.totalSources).toBe(0);
      expect(stats.verifiedSources).toBe(0);
    });
    it('should ingest knowledge source', async () => {
      const source = {
        type: 'research',
        source: 'academic',
        url: 'https://example.com/paper',
        title: 'Test Paper',
        content: 'Test content',
        metadata: {
          date: '2024-01-01',
          category: 'ML',
          verified: true,
          relevance: 0.9,
          tags: ['ml', 'ai']
        }
      };
      const result = await rapSystem.ingestKnowledgeSource(source);
      expect(result).toBeDefined();
      expect(result.id).toBeTruthy();
      expect(result.title).toBe('Test Paper');
    });
    it('should ingest multiple knowledge sources', async () => {
      const sources = [{
        type: 'research',
        source: 'academic',
        url: 'https://example.com/paper1',
        title: 'Paper 1',
        content: 'Content 1',
        metadata: {
          date: '2024-01-01',
          category: 'ML',
          verified: true,
          relevance: 0.9,
          tags: ['ml']
        }
      }, {
        type: 'news',
        source: 'news',
        url: 'https://example.com/news1',
        title: 'News 1',
        content: 'News content',
        metadata: {
          date: '2024-01-02',
          category: 'AI',
          verified: true,
          relevance: 0.8,
          tags: ['ai']
        }
      }];
      const results = await rapSystem.ingestKnowledgeSources(sources);
      expect(results).toHaveLength(2);
      expect(results[0].title).toBe('Paper 1');
      expect(results[1].title).toBe('News 1');
    });
  });
  describe('Error Handling', () => {
    it('should handle embedding generation errors', async () => {
      const query = {
        query: 'Test query',
        userId: 'user-123'
      };
      jest.spyOn(rapSystem['embeddingService'], 'generateEmbedding').mockRejectedValue(new Error('Embedding service error'));
      await expect(rapSystem.processQuery(query)).rejects.toThrow('RAP System processing failed');
    });
    it('should handle external LLM errors', async () => {
      const query = {
        query: 'Test query',
        userId: 'user-123'
      };
      jest.spyOn(rapSystem['embeddingService'], 'generateEmbedding').mockResolvedValue(new Array(1536).fill(0.1));
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValue([]);
      jest.spyOn(rapSystem['externalLLMClient'].chat.completions, 'create').mockRejectedValue(new Error('LLM API error'));
      await expect(rapSystem.processQuery(query)).rejects.toThrow('RAP System processing failed');
    });
  });
  describe('Metadata Tracking', () => {
    it('should include metadata in response', async () => {
      const query = {
        query: 'Test query',
        userId: 'user-123'
      };
      jest.spyOn(rapSystem['embeddingService'], 'generateEmbedding').mockResolvedValue(new Array(1536).fill(0.1));
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValueOnce([{
        id: 'internal-1',
        score: 0.95,
        metadata: {
          date: '2024-01-01',
          source: 'internal',
          category: 'ML',
          verified: true,
          relevance: 0.95,
          tags: ['ml'],
          title: 'ML Guide',
          url: 'https://example.com'
        }
      }]).mockResolvedValueOnce([]);
      jest.spyOn(rapSystem['externalLLMClient'].chat.completions, 'create').mockResolvedValue({
        choices: [{
          message: {
            content: 'Test response'
          }
        }]
      });
      const response = await rapSystem.processQuery(query);
      expect(response.metadata).toBeDefined();
      expect(response.metadata?.cacheHit).toBe(false);
      expect(response.metadata?.retrievalMethod).toBe('rap');
      expect(response.metadata?.internalSourcesCount).toBe(1);
      expect(response.metadata?.externalSourcesCount).toBe(0);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfcmFwU3lzdGVtIiwicmVxdWlyZSIsIl90eXBlcyIsImplc3QiLCJkZXNjcmliZSIsInJhcFN5c3RlbSIsIm1vY2tDb25maWciLCJiZWZvcmVFYWNoIiwiaW50ZXJuYWxTb3VyY2VXZWlnaHQiLCJleHRlcm5hbFNvdXJjZVdlaWdodCIsIm1heENvbnRleHRUb2tlbnMiLCJtYXhSZXRyaWV2YWxSZXN1bHRzIiwiZXh0ZXJuYWxMTE1Qcm92aWRlciIsImV4dGVybmFsTExNTW9kZWwiLCJleHRlcm5hbExMTUFwaUtleSIsImVtYmVkZGluZ0FwaUtleSIsInZlY3RvckRiQXBpS2V5IiwidmVjdG9yRGJJbmRleE5hbWUiLCJSQVBTeXN0ZW0iLCJpdCIsImNvbmZpZyIsInN5c3RlbSIsImV4cGVjdCIsInRvQmVEZWZpbmVkIiwidG9CZSIsInF1ZXJ5IiwidXNlcklkIiwic3B5T24iLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsIkFycmF5IiwiZmlsbCIsImlkIiwic2NvcmUiLCJtZXRhZGF0YSIsImRhdGUiLCJzb3VyY2UiLCJjYXRlZ29yeSIsInZlcmlmaWVkIiwicmVsZXZhbmNlIiwidGFncyIsInRpdGxlIiwidXJsIiwiY2hhdCIsImNvbXBsZXRpb25zIiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJjb250ZW50IiwicmVzcG9uc2UiLCJwcm9jZXNzUXVlcnkiLCJyb3V0aW5nVGllciIsIlJvdXRpbmdUaWVyIiwiUkFQX1NZU1RFTSIsInRvQmVUcnV0aHkiLCJyZXNwb25zZVRpbWUiLCJ0b0JlR3JlYXRlclRoYW4iLCJjYWNoZWQiLCJyZXNwb25zZTEiLCJyZXNwb25zZTIiLCJjb3N0IiwicXVlcnlFbWJlZGRpbmciLCJtb2NrSW50ZXJuYWxTb3VyY2VzIiwibW9ja0V4dGVybmFsU291cmNlcyIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsImNvbnRleHQiLCJpbnRlcm5hbFNvdXJjZXMiLCJ0b0hhdmVMZW5ndGgiLCJleHRlcm5hbFNvdXJjZXMiLCJpbnRlcm5hbFdlaWdodCIsImV4dGVybmFsV2VpZ2h0IiwiY29tYmluZWRDb250ZXh0IiwidG9Db250YWluIiwiZm9ybWF0dGVkIiwicmFwIiwicHJvbXB0Iiwic2hvcnRQcm9tcHQiLCJzaG9ydFJlc3BvbnNlIiwic2hvcnRDb3N0IiwibG9uZ1Byb21wdCIsImxvbmdSZXNwb25zZSIsImxvbmdDb3N0IiwicXVlcnlIYXNoIiwiY2FjaGVFbnRyeSIsImdldCIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJ0b0JlTnVsbCIsImNsZWFyQ2FjaGUiLCJzdGF0cyIsImdldENhY2hlU3RhdHMiLCJzaXplIiwiZW50cmllcyIsImdldEtub3dsZWRnZU9jZWFuU3RhdHMiLCJ0b3RhbFNvdXJjZXMiLCJ2ZXJpZmllZFNvdXJjZXMiLCJ0eXBlIiwicmVzdWx0IiwiaW5nZXN0S25vd2xlZGdlU291cmNlIiwic291cmNlcyIsInJlc3VsdHMiLCJpbmdlc3RLbm93bGVkZ2VTb3VyY2VzIiwibW9ja1JlamVjdGVkVmFsdWUiLCJFcnJvciIsInJlamVjdHMiLCJ0b1Rocm93IiwiY2FjaGVIaXQiLCJyZXRyaWV2YWxNZXRob2QiLCJpbnRlcm5hbFNvdXJjZXNDb3VudCIsImV4dGVybmFsU291cmNlc0NvdW50Il0sInNvdXJjZXMiOlsicmFwLXN5c3RlbS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBSQVAgU3lzdGVtIFRlc3RzXHJcbiAqIFRlc3RzIGZvciBSZXRyaWV2YWwtQXVnbWVudGVkIFByb21wdCBzeXN0ZW0gd2l0aCBLbm93bGVkZ2UgT2NlYW4gaW50ZWdyYXRpb25cclxuICovXHJcblxyXG5pbXBvcnQgeyBSQVBTeXN0ZW0sIFJBUFN5c3RlbUNvbmZpZywgUmV0cmlldmVkQ29udGV4dCB9IGZyb20gJy4uL3JhcC1zeXN0ZW0nO1xyXG5pbXBvcnQgeyBBSVF1ZXJ5LCBSb3V0aW5nVGllciB9IGZyb20gJy4uL3R5cGVzJztcclxuXHJcbi8vIE1vY2sgZGVwZW5kZW5jaWVzXHJcbmplc3QubW9jaygnLi4vLi4vLi4vc2VydmljZXMvYXpvcmEtc2FwaWVucy9zcmMvZW1iZWRkaW5ncycpO1xyXG5qZXN0Lm1vY2soJy4uLy4uLy4uL3NlcnZpY2VzL2F6b3JhLXNhcGllbnMvc3JjL3ZlY3Rvci1zdG9yYWdlJyk7XHJcbmplc3QubW9jaygnLi4vLi4vLi4vc2VydmljZXMvYXpvcmEtc2FwaWVucy9zcmMva25vd2xlZGdlLW9jZWFuJyk7XHJcblxyXG5kZXNjcmliZSgnUkFQU3lzdGVtJywgKCkgPT4ge1xyXG4gIGxldCByYXBTeXN0ZW06IFJBUFN5c3RlbTtcclxuICBsZXQgbW9ja0NvbmZpZzogUkFQU3lzdGVtQ29uZmlnO1xyXG5cclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIG1vY2tDb25maWcgPSB7XHJcbiAgICAgIGludGVybmFsU291cmNlV2VpZ2h0OiAwLjcsXHJcbiAgICAgIGV4dGVybmFsU291cmNlV2VpZ2h0OiAwLjMsXHJcbiAgICAgIG1heENvbnRleHRUb2tlbnM6IDIwMDAsXHJcbiAgICAgIG1heFJldHJpZXZhbFJlc3VsdHM6IDEwLFxyXG4gICAgICBleHRlcm5hbExMTVByb3ZpZGVyOiAnb3BlbmFpJyxcclxuICAgICAgZXh0ZXJuYWxMTE1Nb2RlbDogJ2dwdC00JyxcclxuICAgICAgZXh0ZXJuYWxMTE1BcGlLZXk6ICd0ZXN0LWtleScsXHJcbiAgICAgIGVtYmVkZGluZ0FwaUtleTogJ3Rlc3QtZW1iZWRkaW5nLWtleScsXHJcbiAgICAgIHZlY3RvckRiQXBpS2V5OiAndGVzdC12ZWN0b3Ita2V5JyxcclxuICAgICAgdmVjdG9yRGJJbmRleE5hbWU6ICdhem9yYS1rbm93bGVkZ2UnXHJcbiAgICB9O1xyXG5cclxuICAgIHJhcFN5c3RlbSA9IG5ldyBSQVBTeXN0ZW0obW9ja0NvbmZpZyk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdJbml0aWFsaXphdGlvbicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB3aXRoIGRlZmF1bHQgY29uZmlndXJhdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgY29uZmlnOiBSQVBTeXN0ZW1Db25maWcgPSB7XHJcbiAgICAgICAgaW50ZXJuYWxTb3VyY2VXZWlnaHQ6IDAuNyxcclxuICAgICAgICBleHRlcm5hbFNvdXJjZVdlaWdodDogMC4zLFxyXG4gICAgICAgIG1heENvbnRleHRUb2tlbnM6IDIwMDAsXHJcbiAgICAgICAgbWF4UmV0cmlldmFsUmVzdWx0czogMTAsXHJcbiAgICAgICAgZXh0ZXJuYWxMTE1Qcm92aWRlcjogJ29wZW5haScsXHJcbiAgICAgICAgZXh0ZXJuYWxMTE1Nb2RlbDogJ2dwdC00JyxcclxuICAgICAgICBleHRlcm5hbExMTUFwaUtleTogJ3Rlc3Qta2V5JyxcclxuICAgICAgICBlbWJlZGRpbmdBcGlLZXk6ICd0ZXN0LWVtYmVkZGluZy1rZXknLFxyXG4gICAgICAgIHZlY3RvckRiQXBpS2V5OiAndGVzdC12ZWN0b3Ita2V5J1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3Qgc3lzdGVtID0gbmV3IFJBUFN5c3RlbShjb25maWcpO1xyXG4gICAgICBleHBlY3Qoc3lzdGVtKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBzZXQgNzAvMzAgcnVsZSB3ZWlnaHRzIGNvcnJlY3RseScsICgpID0+IHtcclxuICAgICAgZXhwZWN0KHJhcFN5c3RlbVsnY29uZmlnJ10uaW50ZXJuYWxTb3VyY2VXZWlnaHQpLnRvQmUoMC43KTtcclxuICAgICAgZXhwZWN0KHJhcFN5c3RlbVsnY29uZmlnJ10uZXh0ZXJuYWxTb3VyY2VXZWlnaHQpLnRvQmUoMC4zKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSBleHRlcm5hbCBMTE0gY2xpZW50IGZvciBPcGVuQUknLCAoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChyYXBTeXN0ZW1bJ2V4dGVybmFsTExNQ2xpZW50J10pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1F1ZXJ5IFByb2Nlc3NpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHByb2Nlc3MgYSBxdWVyeSBhbmQgcmV0dXJuIEFJUmVzcG9uc2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXJ5OiBBSVF1ZXJ5ID0ge1xyXG4gICAgICAgIHF1ZXJ5OiAnV2hhdCBhcmUgdGhlIGJlc3QgcHJhY3RpY2VzIGZvciBtYWNoaW5lIGxlYXJuaW5nPycsXHJcbiAgICAgICAgdXNlcklkOiAndXNlci0xMjMnXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBNb2NrIHRoZSBlbWJlZGRpbmcgc2VydmljZVxyXG4gICAgICBqZXN0LnNweU9uKHJhcFN5c3RlbVsnZW1iZWRkaW5nU2VydmljZSddLCAnZ2VuZXJhdGVFbWJlZGRpbmcnKS5tb2NrUmVzb2x2ZWRWYWx1ZShcclxuICAgICAgICBuZXcgQXJyYXkoMTUzNikuZmlsbCgwLjEpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBNb2NrIHZlY3RvciBzdG9yYWdlIHNlYXJjaFxyXG4gICAgICBqZXN0LnNweU9uKHJhcFN5c3RlbVsndmVjdG9yU3RvcmFnZSddLCAnc2VtYW50aWNTZWFyY2gnKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6ICdzb3VyY2UtMScsXHJcbiAgICAgICAgICBzY29yZTogMC45NSxcclxuICAgICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAxJyxcclxuICAgICAgICAgICAgc291cmNlOiAnaW50ZXJuYWwnLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTogJ01MJyxcclxuICAgICAgICAgICAgdmVyaWZpZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHJlbGV2YW5jZTogMC45NSxcclxuICAgICAgICAgICAgdGFnczogWydtYWNoaW5lLWxlYXJuaW5nJywgJ2Jlc3QtcHJhY3RpY2VzJ10sXHJcbiAgICAgICAgICAgIHRpdGxlOiAnTUwgQmVzdCBQcmFjdGljZXMgR3VpZGUnLFxyXG4gICAgICAgICAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tL21sLWd1aWRlJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgXSk7XHJcblxyXG4gICAgICAvLyBNb2NrIGV4dGVybmFsIExMTSBjYWxsXHJcbiAgICAgIGplc3Quc3B5T24ocmFwU3lzdGVtWydleHRlcm5hbExMTUNsaWVudCddLmNoYXQuY29tcGxldGlvbnMsICdjcmVhdGUnKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgY2hvaWNlczogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBtZXNzYWdlOiB7XHJcbiAgICAgICAgICAgICAgY29udGVudDogJ01hY2hpbmUgbGVhcm5pbmcgYmVzdCBwcmFjdGljZXMgaW5jbHVkZSBkYXRhIHZhbGlkYXRpb24sIG1vZGVsIGV2YWx1YXRpb24sIGFuZCBoeXBlcnBhcmFtZXRlciB0dW5pbmcuJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmFwU3lzdGVtLnByb2Nlc3NRdWVyeShxdWVyeSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2UpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yb3V0aW5nVGllcikudG9CZShSb3V0aW5nVGllci5SQVBfU1lTVEVNKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmNvbnRlbnQpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3BvbnNlVGltZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuY2FjaGVkKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGNhY2hlZCByZXNwb25zZSBvbiBzZWNvbmQgcXVlcnknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXJ5OiBBSVF1ZXJ5ID0ge1xyXG4gICAgICAgIHF1ZXJ5OiAnV2hhdCBpcyBhcnRpZmljaWFsIGludGVsbGlnZW5jZT8nLFxyXG4gICAgICAgIHVzZXJJZDogJ3VzZXItMTIzJ1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gTW9jayB0aGUgZW1iZWRkaW5nIHNlcnZpY2VcclxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ2VtYmVkZGluZ1NlcnZpY2UnXSwgJ2dlbmVyYXRlRW1iZWRkaW5nJykubW9ja1Jlc29sdmVkVmFsdWUoXHJcbiAgICAgICAgbmV3IEFycmF5KDE1MzYpLmZpbGwoMC4xKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gTW9jayB2ZWN0b3Igc3RvcmFnZSBzZWFyY2hcclxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ3ZlY3RvclN0b3JhZ2UnXSwgJ3NlbWFudGljU2VhcmNoJykubW9ja1Jlc29sdmVkVmFsdWUoW10pO1xyXG5cclxuICAgICAgLy8gTW9jayBleHRlcm5hbCBMTE0gY2FsbFxyXG4gICAgICBqZXN0LnNweU9uKHJhcFN5c3RlbVsnZXh0ZXJuYWxMTE1DbGllbnQnXS5jaGF0LmNvbXBsZXRpb25zLCAnY3JlYXRlJykubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgICAgIGNob2ljZXM6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgbWVzc2FnZToge1xyXG4gICAgICAgICAgICAgIGNvbnRlbnQ6ICdBcnRpZmljaWFsIGludGVsbGlnZW5jZSBpcyB0aGUgc2ltdWxhdGlvbiBvZiBodW1hbiBpbnRlbGxpZ2VuY2UgYnkgbWFjaGluZXMuJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIEZpcnN0IGNhbGxcclxuICAgICAgY29uc3QgcmVzcG9uc2UxID0gYXdhaXQgcmFwU3lzdGVtLnByb2Nlc3NRdWVyeShxdWVyeSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZTEuY2FjaGVkKS50b0JlKGZhbHNlKTtcclxuXHJcbiAgICAgIC8vIFNlY29uZCBjYWxsIHNob3VsZCBiZSBjYWNoZWRcclxuICAgICAgY29uc3QgcmVzcG9uc2UyID0gYXdhaXQgcmFwU3lzdGVtLnByb2Nlc3NRdWVyeShxdWVyeSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZTIuY2FjaGVkKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UyLmNvc3QpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0NvbnRleHQgUmV0cmlldmFsJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBjb250ZXh0IHdpdGggNzAvMzAgcnVsZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnlFbWJlZGRpbmcgPSBuZXcgQXJyYXkoMTUzNikuZmlsbCgwLjEpO1xyXG4gICAgICBjb25zdCBxdWVyeSA9ICdUZXN0IHF1ZXJ5JztcclxuXHJcbiAgICAgIC8vIE1vY2sgdmVjdG9yIHN0b3JhZ2Ugc2VhcmNoXHJcbiAgICAgIGNvbnN0IG1vY2tJbnRlcm5hbFNvdXJjZXMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6ICdpbnRlcm5hbC0xJyxcclxuICAgICAgICAgIHNjb3JlOiAwLjk1LFxyXG4gICAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgZGF0ZTogJzIwMjQtMDEtMDEnLFxyXG4gICAgICAgICAgICBzb3VyY2U6ICdpbnRlcm5hbCcsXHJcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnRWR1Y2F0aW9uJyxcclxuICAgICAgICAgICAgdmVyaWZpZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHJlbGV2YW5jZTogMC45NSxcclxuICAgICAgICAgICAgdGFnczogWydlZHVjYXRpb24nXSxcclxuICAgICAgICAgICAgdGl0bGU6ICdJbnRlcm5hbCBTb3VyY2UnLFxyXG4gICAgICAgICAgICB1cmw6ICdodHRwczovL2ludGVybmFsLmV4YW1wbGUuY29tJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IG1vY2tFeHRlcm5hbFNvdXJjZXMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6ICdleHRlcm5hbC0xJyxcclxuICAgICAgICAgIHNjb3JlOiAwLjg1LFxyXG4gICAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgZGF0ZTogJzIwMjQtMDEtMDInLFxyXG4gICAgICAgICAgICBzb3VyY2U6ICdleHRlcm5hbCcsXHJcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnUmVzZWFyY2gnLFxyXG4gICAgICAgICAgICB2ZXJpZmllZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJlbGV2YW5jZTogMC44NSxcclxuICAgICAgICAgICAgdGFnczogWydyZXNlYXJjaCddLFxyXG4gICAgICAgICAgICB0aXRsZTogJ0V4dGVybmFsIFNvdXJjZScsXHJcbiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vZXh0ZXJuYWwuZXhhbXBsZS5jb20nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBdO1xyXG5cclxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ3ZlY3RvclN0b3JhZ2UnXSwgJ3NlbWFudGljU2VhcmNoJylcclxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKG1vY2tJbnRlcm5hbFNvdXJjZXMpXHJcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZShtb2NrRXh0ZXJuYWxTb3VyY2VzKTtcclxuXHJcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBhd2FpdCByYXBTeXN0ZW1bJ3JldHJpZXZlQ29udGV4dCddKHF1ZXJ5RW1iZWRkaW5nLCBxdWVyeSk7XHJcblxyXG4gICAgICBleHBlY3QoY29udGV4dCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGNvbnRleHQuaW50ZXJuYWxTb3VyY2VzKS50b0hhdmVMZW5ndGgoMSk7XHJcbiAgICAgIGV4cGVjdChjb250ZXh0LmV4dGVybmFsU291cmNlcykudG9IYXZlTGVuZ3RoKDEpO1xyXG4gICAgICBleHBlY3QoY29udGV4dC5pbnRlcm5hbFdlaWdodCkudG9CZSgwLjcpO1xyXG4gICAgICBleHBlY3QoY29udGV4dC5leHRlcm5hbFdlaWdodCkudG9CZSgwLjMpO1xyXG4gICAgICBleHBlY3QoY29udGV4dC5jb21iaW5lZENvbnRleHQpLnRvQ29udGFpbignSW50ZXJuYWwgS25vd2xlZGdlIFNvdXJjZXMgKDcwJSB3ZWlnaHQpJyk7XHJcbiAgICAgIGV4cGVjdChjb250ZXh0LmNvbWJpbmVkQ29udGV4dCkudG9Db250YWluKCdFeHRlcm5hbCBLbm93bGVkZ2UgU291cmNlcyAoMzAlIHdlaWdodCknKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZm9ybWF0IGNvbnRleHQgY29ycmVjdGx5JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBpbnRlcm5hbFNvdXJjZXMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6ICdpbnRlcm5hbC0xJyxcclxuICAgICAgICAgIHNjb3JlOiAwLjk1LFxyXG4gICAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgZGF0ZTogJzIwMjQtMDEtMDEnLFxyXG4gICAgICAgICAgICBzb3VyY2U6ICdpbnRlcm5hbCcsXHJcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnTUwnLFxyXG4gICAgICAgICAgICB2ZXJpZmllZDogdHJ1ZSxcclxuICAgICAgICAgICAgcmVsZXZhbmNlOiAwLjk1LFxyXG4gICAgICAgICAgICB0YWdzOiBbJ21sJywgJ2FpJ10sXHJcbiAgICAgICAgICAgIHRpdGxlOiAnTUwgR3VpZGUnLFxyXG4gICAgICAgICAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tL21sJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IGV4dGVybmFsU291cmNlcyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogJ2V4dGVybmFsLTEnLFxyXG4gICAgICAgICAgc2NvcmU6IDAuODUsXHJcbiAgICAgICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMicsXHJcbiAgICAgICAgICAgIHNvdXJjZTogJ2V4dGVybmFsJyxcclxuICAgICAgICAgICAgY2F0ZWdvcnk6ICdSZXNlYXJjaCcsXHJcbiAgICAgICAgICAgIHZlcmlmaWVkOiBmYWxzZSxcclxuICAgICAgICAgICAgcmVsZXZhbmNlOiAwLjg1LFxyXG4gICAgICAgICAgICB0YWdzOiBbJ3Jlc2VhcmNoJ10sXHJcbiAgICAgICAgICAgIHRpdGxlOiAnUmVzZWFyY2ggUGFwZXInLFxyXG4gICAgICAgICAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tL3BhcGVyJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IHJhcFN5c3RlbVsnZm9ybWF0Q29udGV4dCddKGludGVybmFsU291cmNlcywgZXh0ZXJuYWxTb3VyY2VzKTtcclxuXHJcbiAgICAgIGV4cGVjdChmb3JtYXR0ZWQpLnRvQ29udGFpbignSW50ZXJuYWwgS25vd2xlZGdlIFNvdXJjZXMgKDcwJSB3ZWlnaHQpJyk7XHJcbiAgICAgIGV4cGVjdChmb3JtYXR0ZWQpLnRvQ29udGFpbignRXh0ZXJuYWwgS25vd2xlZGdlIFNvdXJjZXMgKDMwJSB3ZWlnaHQpJyk7XHJcbiAgICAgIGV4cGVjdChmb3JtYXR0ZWQpLnRvQ29udGFpbignTUwgR3VpZGUnKTtcclxuICAgICAgZXhwZWN0KGZvcm1hdHRlZCkudG9Db250YWluKCdSZXNlYXJjaCBQYXBlcicpO1xyXG4gICAgICBleHBlY3QoZm9ybWF0dGVkKS50b0NvbnRhaW4oJzk1LjAwJScpOyAvLyBSZWxldmFuY2Ugc2NvcmVcclxuICAgICAgZXhwZWN0KGZvcm1hdHRlZCkudG9Db250YWluKCc4NS4wMCUnKTsgLy8gUmVsZXZhbmNlIHNjb3JlXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1JBUCBCdWlsZGluZycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgYnVpbGQgUkFQIHdpdGggY29udGV4dCBpbmplY3Rpb24nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1doYXQgaXMgdGhlIGZ1dHVyZSBvZiBBST8nO1xyXG4gICAgICBjb25zdCBjb250ZXh0OiBSZXRyaWV2ZWRDb250ZXh0ID0ge1xyXG4gICAgICAgIGludGVybmFsU291cmNlczogW10sXHJcbiAgICAgICAgZXh0ZXJuYWxTb3VyY2VzOiBbXSxcclxuICAgICAgICBjb21iaW5lZENvbnRleHQ6ICdTYW1wbGUgY29udGV4dCBhYm91dCBBSScsXHJcbiAgICAgICAgaW50ZXJuYWxXZWlnaHQ6IDAuNyxcclxuICAgICAgICBleHRlcm5hbFdlaWdodDogMC4zXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByYXAgPSByYXBTeXN0ZW1bJ2J1aWxkUkFQJ10ocXVlcnksIGNvbnRleHQpO1xyXG5cclxuICAgICAgZXhwZWN0KHJhcCkudG9Db250YWluKHF1ZXJ5KTtcclxuICAgICAgZXhwZWN0KHJhcCkudG9Db250YWluKCdTYW1wbGUgY29udGV4dCBhYm91dCBBSScpO1xyXG4gICAgICBleHBlY3QocmFwKS50b0NvbnRhaW4oJ0tub3dsZWRnZSBPY2VhbicpO1xyXG4gICAgICBleHBlY3QocmFwKS50b0NvbnRhaW4oJzcwJScpO1xyXG4gICAgICBleHBlY3QocmFwKS50b0NvbnRhaW4oJzMwJScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBwcmlvcml0aXplIGludGVybmFsIHNvdXJjZXMgaW4gUkFQJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWVyeSA9ICdUZXN0IHF1ZXJ5JztcclxuICAgICAgY29uc3QgY29udGV4dDogUmV0cmlldmVkQ29udGV4dCA9IHtcclxuICAgICAgICBpbnRlcm5hbFNvdXJjZXM6IFtdLFxyXG4gICAgICAgIGV4dGVybmFsU291cmNlczogW10sXHJcbiAgICAgICAgY29tYmluZWRDb250ZXh0OiAnSW50ZXJuYWw6IHZlcmlmaWVkIGRhdGFcXG5FeHRlcm5hbDogc3VwcGxlbWVudGFyeSBkYXRhJyxcclxuICAgICAgICBpbnRlcm5hbFdlaWdodDogMC43LFxyXG4gICAgICAgIGV4dGVybmFsV2VpZ2h0OiAwLjNcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJhcCA9IHJhcFN5c3RlbVsnYnVpbGRSQVAnXShxdWVyeSwgY29udGV4dCk7XHJcblxyXG4gICAgICBleHBlY3QocmFwKS50b0NvbnRhaW4oJ3ByaW9yaXRpemUgaW50ZXJuYWwgc291cmNlcycpO1xyXG4gICAgICBleHBlY3QocmFwKS50b0NvbnRhaW4oJzcwJScpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdDb3N0IENhbGN1bGF0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgY29zdCBiYXNlZCBvbiB0b2tlbiBjb3VudCcsICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvbXB0ID0gJ1RoaXMgaXMgYSB0ZXN0IHByb21wdCB3aXRoIHNvbWUgY29udGVudCc7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gJ1RoaXMgaXMgYSB0ZXN0IHJlc3BvbnNlIHdpdGggc29tZSBjb250ZW50JztcclxuXHJcbiAgICAgIGNvbnN0IGNvc3QgPSByYXBTeXN0ZW1bJ2NhbGN1bGF0ZUNvc3QnXShwcm9tcHQsIHJlc3BvbnNlKTtcclxuXHJcbiAgICAgIGV4cGVjdChjb3N0KS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICAgIGV4cGVjdCh0eXBlb2YgY29zdCkudG9CZSgnbnVtYmVyJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBoaWdoZXIgY29zdCBmb3IgbG9uZ2VyIGNvbnRlbnQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNob3J0UHJvbXB0ID0gJ1Nob3J0JztcclxuICAgICAgY29uc3Qgc2hvcnRSZXNwb25zZSA9ICdTaG9ydCc7XHJcbiAgICAgIGNvbnN0IHNob3J0Q29zdCA9IHJhcFN5c3RlbVsnY2FsY3VsYXRlQ29zdCddKHNob3J0UHJvbXB0LCBzaG9ydFJlc3BvbnNlKTtcclxuXHJcbiAgICAgIGNvbnN0IGxvbmdQcm9tcHQgPSAnVGhpcyBpcyBhIG11Y2ggbG9uZ2VyIHByb21wdCB3aXRoIHNpZ25pZmljYW50bHkgbW9yZSBjb250ZW50IHRoYXQgd2lsbCByZXN1bHQgaW4gbW9yZSB0b2tlbnMnO1xyXG4gICAgICBjb25zdCBsb25nUmVzcG9uc2UgPSAnVGhpcyBpcyBhIG11Y2ggbG9uZ2VyIHJlc3BvbnNlIHdpdGggc2lnbmlmaWNhbnRseSBtb3JlIGNvbnRlbnQgdGhhdCB3aWxsIHJlc3VsdCBpbiBtb3JlIHRva2Vucyc7XHJcbiAgICAgIGNvbnN0IGxvbmdDb3N0ID0gcmFwU3lzdGVtWydjYWxjdWxhdGVDb3N0J10obG9uZ1Byb21wdCwgbG9uZ1Jlc3BvbnNlKTtcclxuXHJcbiAgICAgIGV4cGVjdChsb25nQ29zdCkudG9CZUdyZWF0ZXJUaGFuKHNob3J0Q29zdCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0NhY2hpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGNhY2hlIHJlc3BvbnNlcycsICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnlIYXNoID0gJ3Rlc3QtaGFzaC0xMjMnO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9ICdUZXN0IHJlc3BvbnNlIGNvbnRlbnQnO1xyXG5cclxuICAgICAgcmFwU3lzdGVtWydzZXRJbkNhY2hlJ10ocXVlcnlIYXNoLCByZXNwb25zZSk7XHJcbiAgICAgIGNvbnN0IGNhY2hlZCA9IHJhcFN5c3RlbVsnZ2V0RnJvbUNhY2hlJ10ocXVlcnlIYXNoKTtcclxuXHJcbiAgICAgIGV4cGVjdChjYWNoZWQpLnRvQmUocmVzcG9uc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCBmb3IgZXhwaXJlZCBjYWNoZSBlbnRyaWVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWVyeUhhc2ggPSAndGVzdC1oYXNoLTQ1Nic7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gJ1Rlc3QgcmVzcG9uc2UnO1xyXG5cclxuICAgICAgcmFwU3lzdGVtWydzZXRJbkNhY2hlJ10ocXVlcnlIYXNoLCByZXNwb25zZSk7XHJcblxyXG4gICAgICAvLyBNYW51YWxseSBleHBpcmUgdGhlIGNhY2hlXHJcbiAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSByYXBTeXN0ZW1bJ3Jlc3BvbnNlQ2FjaGUnXS5nZXQocXVlcnlIYXNoKTtcclxuICAgICAgaWYgKGNhY2hlRW50cnkpIHtcclxuICAgICAgICBjYWNoZUVudHJ5LnRpbWVzdGFtcCA9IERhdGUubm93KCkgLSAoNCAqIDM2MDAwMDApOyAvLyA0IGhvdXJzIGFnb1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjYWNoZWQgPSByYXBTeXN0ZW1bJ2dldEZyb21DYWNoZSddKHF1ZXJ5SGFzaCk7XHJcbiAgICAgIGV4cGVjdChjYWNoZWQpLnRvQmVOdWxsKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGdldCBjYWNoZSBzdGF0aXN0aWNzJywgKCkgPT4ge1xyXG4gICAgICByYXBTeXN0ZW0uY2xlYXJDYWNoZSgpO1xyXG4gICAgICByYXBTeXN0ZW1bJ3NldEluQ2FjaGUnXSgnaGFzaC0xJywgJ3Jlc3BvbnNlLTEnKTtcclxuICAgICAgcmFwU3lzdGVtWydzZXRJbkNhY2hlJ10oJ2hhc2gtMicsICdyZXNwb25zZS0yJyk7XHJcblxyXG4gICAgICBjb25zdCBzdGF0cyA9IHJhcFN5c3RlbS5nZXRDYWNoZVN0YXRzKCk7XHJcblxyXG4gICAgICBleHBlY3Qoc3RhdHMuc2l6ZSkudG9CZSgyKTtcclxuICAgICAgZXhwZWN0KHN0YXRzLmVudHJpZXMpLnRvQmUoMik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNsZWFyIGNhY2hlJywgKCkgPT4ge1xyXG4gICAgICByYXBTeXN0ZW1bJ3NldEluQ2FjaGUnXSgnaGFzaC0xJywgJ3Jlc3BvbnNlLTEnKTtcclxuICAgICAgcmFwU3lzdGVtWydzZXRJbkNhY2hlJ10oJ2hhc2gtMicsICdyZXNwb25zZS0yJyk7XHJcblxyXG4gICAgICByYXBTeXN0ZW0uY2xlYXJDYWNoZSgpO1xyXG4gICAgICBjb25zdCBzdGF0cyA9IHJhcFN5c3RlbS5nZXRDYWNoZVN0YXRzKCk7XHJcblxyXG4gICAgICBleHBlY3Qoc3RhdHMuc2l6ZSkudG9CZSgwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnS25vd2xlZGdlIE9jZWFuIEludGVncmF0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBnZXQgS25vd2xlZGdlIE9jZWFuIHN0YXRpc3RpY3MnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN0YXRzID0gcmFwU3lzdGVtLmdldEtub3dsZWRnZU9jZWFuU3RhdHMoKTtcclxuXHJcbiAgICAgIGV4cGVjdChzdGF0cykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHN0YXRzLnRvdGFsU291cmNlcykudG9CZSgwKTtcclxuICAgICAgZXhwZWN0KHN0YXRzLnZlcmlmaWVkU291cmNlcykudG9CZSgwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaW5nZXN0IGtub3dsZWRnZSBzb3VyY2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHtcclxuICAgICAgICB0eXBlOiAncmVzZWFyY2gnLFxyXG4gICAgICAgIHNvdXJjZTogJ2FjYWRlbWljJyxcclxuICAgICAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tL3BhcGVyJyxcclxuICAgICAgICB0aXRsZTogJ1Rlc3QgUGFwZXInLFxyXG4gICAgICAgIGNvbnRlbnQ6ICdUZXN0IGNvbnRlbnQnLFxyXG4gICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMScsXHJcbiAgICAgICAgICBjYXRlZ29yeTogJ01MJyxcclxuICAgICAgICAgIHZlcmlmaWVkOiB0cnVlLFxyXG4gICAgICAgICAgcmVsZXZhbmNlOiAwLjksXHJcbiAgICAgICAgICB0YWdzOiBbJ21sJywgJ2FpJ11cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByYXBTeXN0ZW0uaW5nZXN0S25vd2xlZGdlU291cmNlKHNvdXJjZSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmlkKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQudGl0bGUpLnRvQmUoJ1Rlc3QgUGFwZXInKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaW5nZXN0IG11bHRpcGxlIGtub3dsZWRnZSBzb3VyY2VzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzb3VyY2VzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHR5cGU6ICdyZXNlYXJjaCcsXHJcbiAgICAgICAgICBzb3VyY2U6ICdhY2FkZW1pYycsXHJcbiAgICAgICAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tL3BhcGVyMScsXHJcbiAgICAgICAgICB0aXRsZTogJ1BhcGVyIDEnLFxyXG4gICAgICAgICAgY29udGVudDogJ0NvbnRlbnQgMScsXHJcbiAgICAgICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMScsXHJcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnTUwnLFxyXG4gICAgICAgICAgICB2ZXJpZmllZDogdHJ1ZSxcclxuICAgICAgICAgICAgcmVsZXZhbmNlOiAwLjksXHJcbiAgICAgICAgICAgIHRhZ3M6IFsnbWwnXVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdHlwZTogJ25ld3MnLFxyXG4gICAgICAgICAgc291cmNlOiAnbmV3cycsXHJcbiAgICAgICAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tL25ld3MxJyxcclxuICAgICAgICAgIHRpdGxlOiAnTmV3cyAxJyxcclxuICAgICAgICAgIGNvbnRlbnQ6ICdOZXdzIGNvbnRlbnQnLFxyXG4gICAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgZGF0ZTogJzIwMjQtMDEtMDInLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTogJ0FJJyxcclxuICAgICAgICAgICAgdmVyaWZpZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHJlbGV2YW5jZTogMC44LFxyXG4gICAgICAgICAgICB0YWdzOiBbJ2FpJ11cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcmFwU3lzdGVtLmluZ2VzdEtub3dsZWRnZVNvdXJjZXMoc291cmNlcyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0cykudG9IYXZlTGVuZ3RoKDIpO1xyXG4gICAgICBleHBlY3QocmVzdWx0c1swXS50aXRsZSkudG9CZSgnUGFwZXIgMScpO1xyXG4gICAgICBleHBlY3QocmVzdWx0c1sxXS50aXRsZSkudG9CZSgnTmV3cyAxJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1iZWRkaW5nIGdlbmVyYXRpb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWVyeTogQUlRdWVyeSA9IHtcclxuICAgICAgICBxdWVyeTogJ1Rlc3QgcXVlcnknLFxyXG4gICAgICAgIHVzZXJJZDogJ3VzZXItMTIzJ1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ2VtYmVkZGluZ1NlcnZpY2UnXSwgJ2dlbmVyYXRlRW1iZWRkaW5nJykubW9ja1JlamVjdGVkVmFsdWUoXHJcbiAgICAgICAgbmV3IEVycm9yKCdFbWJlZGRpbmcgc2VydmljZSBlcnJvcicpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBhd2FpdCBleHBlY3QocmFwU3lzdGVtLnByb2Nlc3NRdWVyeShxdWVyeSkpLnJlamVjdHMudG9UaHJvdygnUkFQIFN5c3RlbSBwcm9jZXNzaW5nIGZhaWxlZCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXh0ZXJuYWwgTExNIGVycm9ycycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnk6IEFJUXVlcnkgPSB7XHJcbiAgICAgICAgcXVlcnk6ICdUZXN0IHF1ZXJ5JyxcclxuICAgICAgICB1c2VySWQ6ICd1c2VyLTEyMydcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGplc3Quc3B5T24ocmFwU3lzdGVtWydlbWJlZGRpbmdTZXJ2aWNlJ10sICdnZW5lcmF0ZUVtYmVkZGluZycpLm1vY2tSZXNvbHZlZFZhbHVlKFxyXG4gICAgICAgIG5ldyBBcnJheSgxNTM2KS5maWxsKDAuMSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGplc3Quc3B5T24ocmFwU3lzdGVtWyd2ZWN0b3JTdG9yYWdlJ10sICdzZW1hbnRpY1NlYXJjaCcpLm1vY2tSZXNvbHZlZFZhbHVlKFtdKTtcclxuXHJcbiAgICAgIGplc3Quc3B5T24ocmFwU3lzdGVtWydleHRlcm5hbExMTUNsaWVudCddLmNoYXQuY29tcGxldGlvbnMsICdjcmVhdGUnKS5tb2NrUmVqZWN0ZWRWYWx1ZShcclxuICAgICAgICBuZXcgRXJyb3IoJ0xMTSBBUEkgZXJyb3InKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgYXdhaXQgZXhwZWN0KHJhcFN5c3RlbS5wcm9jZXNzUXVlcnkocXVlcnkpKS5yZWplY3RzLnRvVGhyb3coJ1JBUCBTeXN0ZW0gcHJvY2Vzc2luZyBmYWlsZWQnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnTWV0YWRhdGEgVHJhY2tpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgbWV0YWRhdGEgaW4gcmVzcG9uc2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXJ5OiBBSVF1ZXJ5ID0ge1xyXG4gICAgICAgIHF1ZXJ5OiAnVGVzdCBxdWVyeScsXHJcbiAgICAgICAgdXNlcklkOiAndXNlci0xMjMnXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBqZXN0LnNweU9uKHJhcFN5c3RlbVsnZW1iZWRkaW5nU2VydmljZSddLCAnZ2VuZXJhdGVFbWJlZGRpbmcnKS5tb2NrUmVzb2x2ZWRWYWx1ZShcclxuICAgICAgICBuZXcgQXJyYXkoMTUzNikuZmlsbCgwLjEpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBqZXN0LnNweU9uKHJhcFN5c3RlbVsndmVjdG9yU3RvcmFnZSddLCAnc2VtYW50aWNTZWFyY2gnKVxyXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBpZDogJ2ludGVybmFsLTEnLFxyXG4gICAgICAgICAgICBzY29yZTogMC45NSxcclxuICAgICAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMScsXHJcbiAgICAgICAgICAgICAgc291cmNlOiAnaW50ZXJuYWwnLFxyXG4gICAgICAgICAgICAgIGNhdGVnb3J5OiAnTUwnLFxyXG4gICAgICAgICAgICAgIHZlcmlmaWVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHJlbGV2YW5jZTogMC45NSxcclxuICAgICAgICAgICAgICB0YWdzOiBbJ21sJ10sXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdNTCBHdWlkZScsXHJcbiAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIF0pXHJcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZShbXSk7XHJcblxyXG4gICAgICBqZXN0LnNweU9uKHJhcFN5c3RlbVsnZXh0ZXJuYWxMTE1DbGllbnQnXS5jaGF0LmNvbXBsZXRpb25zLCAnY3JlYXRlJykubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgICAgIGNob2ljZXM6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgbWVzc2FnZToge1xyXG4gICAgICAgICAgICAgIGNvbnRlbnQ6ICdUZXN0IHJlc3BvbnNlJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmFwU3lzdGVtLnByb2Nlc3NRdWVyeShxdWVyeSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2UubWV0YWRhdGEpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5tZXRhZGF0YT8uY2FjaGVIaXQpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UubWV0YWRhdGE/LnJldHJpZXZhbE1ldGhvZCkudG9CZSgncmFwJyk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5tZXRhZGF0YT8uaW50ZXJuYWxTb3VyY2VzQ291bnQpLnRvQmUoMSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5tZXRhZGF0YT8uZXh0ZXJuYWxTb3VyY2VzQ291bnQpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7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