{"version":3,"names":["request","require","app","describe","it","response","get","expect","status","toBe","body","service","success","data","toBeDefined","count","toBeGreaterThanOrEqual","serviceId","lastChecked","error"],"sources":["health-monitor.test.js"],"sourcesContent":["const request = require('supertest');\r\nconst app = require('../server.js');\r\n\r\ndescribe('Health Monitor Service', () => {\r\n  describe('GET /health', () => {\r\n    it('should return health status', async () => {\r\n      const response = await request(app).get('/health');\r\n      expect(response.status).toBe(200);\r\n      expect(response.body.status).toBe('OK');\r\n      expect(response.body.service).toBe('health-monitor');\r\n    });\r\n  });\r\n\r\n  describe('GET /api/health', () => {\r\n    it('should return health status for all services', async () => {\r\n      const response = await request(app).get('/api/health');\r\n      expect(response.status).toBe(200);\r\n      expect(response.body.success).toBe(true);\r\n      expect(response.body.data).toBeDefined();\r\n      expect(response.body.count).toBeGreaterThanOrEqual(0);\r\n    });\r\n  });\r\n\r\n  describe('GET /api/health/:serviceId', () => {\r\n    it('should return health status for a specific service', async () => {\r\n      const serviceId = 'auth-service';\r\n      const response = await request(app).get(`/api/health/${serviceId}`);\r\n      expect(response.status).toBe(200);\r\n      expect(response.body.serviceId).toBe(serviceId);\r\n      expect(response.body.status).toBeDefined();\r\n      expect(response.body.lastChecked).toBeDefined();\r\n    });\r\n  });\r\n\r\n  describe('404 handling', () => {\r\n    it('should return 404 for unknown routes', async () => {\r\n      const response = await request(app).get('/non-existent-route');\r\n      expect(response.status).toBe(404);\r\n      expect(response.body.error).toBe('Route not found');\r\n    });\r\n  });\r\n});"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,WAAW,CAAC;AACpC,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAc,CAAC;AAEnCE,QAAQ,CAAC,wBAAwB,EAAE,MAAM;EACvCA,QAAQ,CAAC,aAAa,EAAE,MAAM;IAC5BC,EAAE,CAAC,6BAA6B,EAAE,YAAY;MAC5C,MAAMC,QAAQ,GAAG,MAAML,OAAO,CAACE,GAAG,CAAC,CAACI,GAAG,CAAC,SAAS,CAAC;MAClDC,MAAM,CAACF,QAAQ,CAACG,MAAM,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;MACjCF,MAAM,CAACF,QAAQ,CAACK,IAAI,CAACF,MAAM,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;MACvCF,MAAM,CAACF,QAAQ,CAACK,IAAI,CAACC,OAAO,CAAC,CAACF,IAAI,CAAC,gBAAgB,CAAC;IACtD,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFN,QAAQ,CAAC,iBAAiB,EAAE,MAAM;IAChCC,EAAE,CAAC,8CAA8C,EAAE,YAAY;MAC7D,MAAMC,QAAQ,GAAG,MAAML,OAAO,CAACE,GAAG,CAAC,CAACI,GAAG,CAAC,aAAa,CAAC;MACtDC,MAAM,CAACF,QAAQ,CAACG,MAAM,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;MACjCF,MAAM,CAACF,QAAQ,CAACK,IAAI,CAACE,OAAO,CAAC,CAACH,IAAI,CAAC,IAAI,CAAC;MACxCF,MAAM,CAACF,QAAQ,CAACK,IAAI,CAACG,IAAI,CAAC,CAACC,WAAW,CAAC,CAAC;MACxCP,MAAM,CAACF,QAAQ,CAACK,IAAI,CAACK,KAAK,CAAC,CAACC,sBAAsB,CAAC,CAAC,CAAC;IACvD,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFb,QAAQ,CAAC,4BAA4B,EAAE,MAAM;IAC3CC,EAAE,CAAC,oDAAoD,EAAE,YAAY;MACnE,MAAMa,SAAS,GAAG,cAAc;MAChC,MAAMZ,QAAQ,GAAG,MAAML,OAAO,CAACE,GAAG,CAAC,CAACI,GAAG,CAAC,eAAeW,SAAS,EAAE,CAAC;MACnEV,MAAM,CAACF,QAAQ,CAACG,MAAM,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;MACjCF,MAAM,CAACF,QAAQ,CAACK,IAAI,CAACO,SAAS,CAAC,CAACR,IAAI,CAACQ,SAAS,CAAC;MAC/CV,MAAM,CAACF,QAAQ,CAACK,IAAI,CAACF,MAAM,CAAC,CAACM,WAAW,CAAC,CAAC;MAC1CP,MAAM,CAACF,QAAQ,CAACK,IAAI,CAACQ,WAAW,CAAC,CAACJ,WAAW,CAAC,CAAC;IACjD,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFX,QAAQ,CAAC,cAAc,EAAE,MAAM;IAC7BC,EAAE,CAAC,sCAAsC,EAAE,YAAY;MACrD,MAAMC,QAAQ,GAAG,MAAML,OAAO,CAACE,GAAG,CAAC,CAACI,GAAG,CAAC,qBAAqB,CAAC;MAC9DC,MAAM,CAACF,QAAQ,CAACG,MAAM,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;MACjCF,MAAM,CAACF,QAAQ,CAACK,IAAI,CAACS,KAAK,CAAC,CAACV,IAAI,CAAC,iBAAiB,CAAC;IACrD,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}