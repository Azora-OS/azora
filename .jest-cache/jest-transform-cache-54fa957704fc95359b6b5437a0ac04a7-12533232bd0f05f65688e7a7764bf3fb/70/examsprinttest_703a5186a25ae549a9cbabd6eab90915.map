{"version":3,"names":["_getJestObj","mock","UserDB","getByType","jest","fn","mockResolvedValue","id","name","email","user_type","total_earned","country","language","metadata","interests","learningStyle","institution","created_at","updated_at","elaraIntegration","registerUser","logEvent","post","data","campaign","startTime","totalRecipients","sent","failed","results","status","messageId","_launchExamSprint","require","describe","beforeEach","clearAllMocks","it","expect","launchExamSprint","toBeDefined","toBe"],"sources":["exam-sprint.test.ts"],"sourcesContent":["/**\r\n * AZORA OS - Exam Sprint Launcher Tests\r\n */\r\n\r\nimport { launchExamSprint } from '../scripts/launch-exam-sprint';\r\n\r\n// Mock the Supabase client\r\njest.mock('../services/supabase-client', () => ({\r\n  UserDB: {\r\n    getByType: jest.fn().mockResolvedValue([\r\n      {\r\n        id: 'student-001',\r\n        name: 'Amara Johnson',\r\n        email: 'amara.johnson@example.com',\r\n        user_type: 'student',\r\n        total_earned: 1200,\r\n        country: 'Nigeria',\r\n        language: 'English',\r\n        metadata: {\r\n          interests: ['AI', 'Data Science'],\r\n          learningStyle: 'visual',\r\n          institution: 'University of Lagos',\r\n        },\r\n        created_at: '2025-01-15T10:30:00Z',\r\n        updated_at: '2025-10-20T14:45:00Z',\r\n      },\r\n      {\r\n        id: 'student-002',\r\n        name: 'Kwame Asante',\r\n        email: 'kwame.asante@example.com',\r\n        user_type: 'student',\r\n        total_earned: 850,\r\n        country: 'Ghana',\r\n        language: 'English',\r\n        metadata: {\r\n          interests: ['Blockchain', 'Cybersecurity'],\r\n          learningStyle: 'hands-on',\r\n          institution: 'Kwame Nkrumah University',\r\n        },\r\n        created_at: '2025-03-22T09:15:00Z',\r\n        updated_at: '2025-10-18T16:20:00Z',\r\n      },\r\n    ]),\r\n  },\r\n}));\r\n\r\n// Mock the Elara integration service\r\njest.mock('../services/elara-integration-service', () => ({\r\n  elaraIntegration: {\r\n    registerUser: jest.fn(),\r\n    logEvent: jest.fn(),\r\n  },\r\n}));\r\n\r\n// Mock axios\r\njest.mock('axios', () => ({\r\n  post: jest.fn().mockResolvedValue({\r\n    data: {\r\n      campaign: {\r\n        id: 'campaign_123',\r\n        name: 'Global University Examination Sprint',\r\n        startTime: '2025-11-03T10:00:00Z',\r\n        totalRecipients: 2,\r\n        sent: 2,\r\n        failed: 0,\r\n        results: [\r\n          {\r\n            email: 'amara.johnson@example.com',\r\n            status: 'sent',\r\n            messageId: 'msg_123',\r\n          },\r\n          {\r\n            email: 'kwame.asante@example.com',\r\n            status: 'sent',\r\n            messageId: 'msg_456',\r\n          },\r\n        ],\r\n      },\r\n    },\r\n  }),\r\n}));\r\n\r\ndescribe('Exam Sprint Launcher', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n  });\r\n\r\n  it('should launch exam sprint successfully', async () => {\r\n    // This test would require more complex mocking in a real implementation\r\n    // For now, we'll just verify the function exists and can be called\r\n    expect(launchExamSprint).toBeDefined();\r\n  });\r\n\r\n  it('should register students with Elara', async () => {\r\n    // This would be tested more thoroughly with proper mocking\r\n    expect(true).toBe(true);\r\n  });\r\n\r\n  it('should send personalized emails', async () => {\r\n    // This would be tested more thoroughly with proper mocking\r\n    expect(true).toBe(true);\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}