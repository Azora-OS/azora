{"version":3,"names":["fs","_interopRequireWildcard","require","path","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","DesignTokenManager","tokens","constructor","projectRoot","extractFromTailwind","tailwindConfigPath","findTailwindConfig","getDefaultTokens","configContent","promises","readFile","parseTailwindConfig","error","console","extractFromCSS","cssFilePath","cssContent","parseCSSVariables","extractFromAllCSS","cssFiles","findAllCSSFiles","allTokens","cssFile","assign","searchDirs","dir","fullPath","join","existsSync","scanForCSSFiles","results","entries","readdir","withFileTypes","entry","name","isDirectory","includes","isFile","endsWith","push","warn","updateTokens","mergeTokens","propagateTokenUpdates","updates","updateTailwindConfig","updateCSSVariables","updateGlobalStyles","updateThemeConfig","Promise","all","log","possibleGlobalStyles","stylePath","content","themeConfigPath","dirname","mkdir","recursive","themeConfig","generateThemeConfig","writeFile","JSON","stringify","getTokens","generateDocumentation","doc","scale","colors","capitalize","shade","value","cssVar","tailwindClass","size","spacing","typography","fontFamily","fontSize","weight","fontWeight","height","lineHeight","borderRadius","shadows","breakpoints","saveDocumentation","outputPath","docPath","possiblePaths","configPath","themeExtendMatch","match","themeContent","colorsMatch","colorsObj","parseObjectLiteral","spacingMatch","spacingObj","fontFamilyMatch","fontFamilyObj","fontSizeMatch","fontSizeObj","borderRadiusMatch","borderRadiusObj","boxShadowMatch","boxShadowObj","str","replace","parse","cssVarRegex","exec","varName","trim","varValue","startsWith","parts","split","length","colorName","family","parseInt","createTailwindConfig","config","generateTailwindConfig","cssPath","generateCSSVariables","css","existing","primary","secondary","accent","neutral","success","warning","info","xs","sm","md","lg","xl","sans","serif","mono","base","thin","light","normal","medium","semibold","bold","extrabold","tight","relaxed","loose","none","full","inner","charAt","toUpperCase","slice","exports"],"sources":["DesignTokenManager.ts"],"sourcesContent":["import * as fs from 'fs';\nimport * as path from 'path';\n\nexport interface ColorScale {\n  50: string;\n  100: string;\n  200: string;\n  300: string;\n  400: string;\n  500: string;\n  600: string;\n  700: string;\n  800: string;\n  900: string;\n  950: string;\n}\n\nexport interface DesignTokens {\n  colors: {\n    primary: ColorScale;\n    secondary: ColorScale;\n    accent: ColorScale;\n    neutral: ColorScale;\n    success: ColorScale;\n    warning: ColorScale;\n    error: ColorScale;\n    info: ColorScale;\n  };\n  spacing: {\n    xs: string;\n    sm: string;\n    md: string;\n    lg: string;\n    xl: string;\n    '2xl': string;\n    '3xl': string;\n    '4xl': string;\n  };\n  typography: {\n    fontFamily: {\n      sans: string;\n      serif: string;\n      mono: string;\n    };\n    fontSize: {\n      xs: string;\n      sm: string;\n      base: string;\n      lg: string;\n      xl: string;\n      '2xl': string;\n      '3xl': string;\n      '4xl': string;\n      '5xl': string;\n    };\n    fontWeight: {\n      thin: number;\n      light: number;\n      normal: number;\n      medium: number;\n      semibold: number;\n      bold: number;\n      extrabold: number;\n    };\n    lineHeight: {\n      tight: string;\n      normal: string;\n      relaxed: string;\n      loose: string;\n    };\n  };\n  borderRadius: {\n    none: string;\n    sm: string;\n    md: string;\n    lg: string;\n    xl: string;\n    '2xl': string;\n    full: string;\n  };\n  shadows: {\n    sm: string;\n    md: string;\n    lg: string;\n    xl: string;\n    '2xl': string;\n    inner: string;\n    none: string;\n  };\n  breakpoints: {\n    sm: string;\n    md: string;\n    lg: string;\n    xl: string;\n    '2xl': string;\n  };\n}\n\nexport interface TailwindConfig {\n  theme: {\n    extend: Record<string, any>;\n  };\n  plugins: string[];\n}\n\nexport class DesignTokenManager {\n  private projectRoot: string;\n  private tokens: DesignTokens | null = null;\n\n  constructor(projectRoot: string) {\n    this.projectRoot = projectRoot;\n  }\n\n  /**\n   * Extract design tokens from Tailwind config\n   */\n  async extractFromTailwind(): Promise<DesignTokens> {\n    const tailwindConfigPath = this.findTailwindConfig();\n    \n    if (!tailwindConfigPath) {\n      return this.getDefaultTokens();\n    }\n\n    try {\n      const configContent = await fs.promises.readFile(tailwindConfigPath, 'utf-8');\n      const tokens = this.parseTailwindConfig(configContent);\n      this.tokens = tokens;\n      return tokens;\n    } catch (error) {\n      console.error('Failed to extract tokens from Tailwind config:', error);\n      return this.getDefaultTokens();\n    }\n  }\n\n  /**\n   * Extract design tokens from CSS variables\n   */\n  async extractFromCSS(cssFilePath: string): Promise<Partial<DesignTokens>> {\n    try {\n      const cssContent = await fs.promises.readFile(cssFilePath, 'utf-8');\n      return this.parseCSSVariables(cssContent);\n    } catch (error) {\n      console.error('Failed to extract tokens from CSS:', error);\n      return {};\n    }\n  }\n\n  /**\n   * Extract design tokens from all CSS files in project\n   */\n  async extractFromAllCSS(): Promise<Partial<DesignTokens>> {\n    const cssFiles = await this.findAllCSSFiles();\n    const allTokens: Partial<DesignTokens> = {};\n\n    for (const cssFile of cssFiles) {\n      const tokens = await this.extractFromCSS(cssFile);\n      // Merge tokens from all files\n      Object.assign(allTokens, tokens);\n    }\n\n    return allTokens;\n  }\n\n  /**\n   * Find all CSS files in the project\n   */\n  private async findAllCSSFiles(): Promise<string[]> {\n    const cssFiles: string[] = [];\n    const searchDirs = ['src', 'styles', 'app', 'pages', 'components'];\n\n    for (const dir of searchDirs) {\n      const fullPath = path.join(this.projectRoot, dir);\n      if (fs.existsSync(fullPath)) {\n        await this.scanForCSSFiles(fullPath, cssFiles);\n      }\n    }\n\n    return cssFiles;\n  }\n\n  /**\n   * Recursively scan directory for CSS files\n   */\n  private async scanForCSSFiles(dir: string, results: string[]): Promise<void> {\n    try {\n      const entries = await fs.promises.readdir(dir, { withFileTypes: true });\n\n      for (const entry of entries) {\n        const fullPath = path.join(dir, entry.name);\n\n        if (entry.isDirectory()) {\n          // Skip node_modules and other common directories\n          if (!['node_modules', '.git', 'dist', 'build', '.next'].includes(entry.name)) {\n            await this.scanForCSSFiles(fullPath, results);\n          }\n        } else if (entry.isFile() && entry.name.endsWith('.css')) {\n          results.push(fullPath);\n        }\n      }\n    } catch (error) {\n      console.warn(`Failed to scan directory ${dir}:`, error);\n    }\n  }\n\n  /**\n   * Update design tokens and propagate changes\n   */\n  async updateTokens(tokens: Partial<DesignTokens>): Promise<void> {\n    if (!this.tokens) {\n      this.tokens = this.getDefaultTokens();\n    }\n\n    // Merge new tokens with existing\n    this.tokens = this.mergeTokens(this.tokens, tokens);\n\n    // Propagate changes to all relevant files\n    await this.propagateTokenUpdates(this.tokens);\n  }\n\n  /**\n   * Propagate token updates to all configuration files\n   */\n  private async propagateTokenUpdates(tokens: DesignTokens): Promise<void> {\n    const updates: Promise<void>[] = [];\n\n    // Update Tailwind config\n    updates.push(this.updateTailwindConfig(tokens));\n\n    // Update CSS variables\n    updates.push(this.updateCSSVariables(tokens));\n\n    // Update global CSS files that import tokens\n    updates.push(this.updateGlobalStyles(tokens));\n\n    // Update theme configuration files\n    updates.push(this.updateThemeConfig(tokens));\n\n    // Wait for all updates to complete\n    await Promise.all(updates);\n\n    console.log('Token updates propagated successfully');\n  }\n\n  /**\n   * Update global style files\n   */\n  private async updateGlobalStyles(tokens: DesignTokens): Promise<void> {\n    const possibleGlobalStyles = [\n      'src/styles/globals.css',\n      'src/app/globals.css',\n      'styles/globals.css',\n      'app/globals.css',\n    ];\n\n    for (const stylePath of possibleGlobalStyles) {\n      const fullPath = path.join(this.projectRoot, stylePath);\n      if (fs.existsSync(fullPath)) {\n        try {\n          let content = await fs.promises.readFile(fullPath, 'utf-8');\n          \n          // Check if it imports tokens\n          if (content.includes('@import') && content.includes('tokens')) {\n            // The tokens.css file will be updated separately\n            console.log(`Global styles at ${stylePath} will use updated tokens`);\n          }\n        } catch (error) {\n          console.warn(`Failed to update global styles at ${stylePath}:`, error);\n        }\n      }\n    }\n  }\n\n  /**\n   * Update theme configuration\n   */\n  private async updateThemeConfig(tokens: DesignTokens): Promise<void> {\n    const themeConfigPath = path.join(this.projectRoot, 'src', 'config', 'theme.ts');\n    \n    // Check if theme config exists\n    if (!fs.existsSync(themeConfigPath)) {\n      // Create theme config\n      const dir = path.dirname(themeConfigPath);\n      if (!fs.existsSync(dir)) {\n        await fs.promises.mkdir(dir, { recursive: true });\n      }\n\n      const themeConfig = this.generateThemeConfig(tokens);\n      await fs.promises.writeFile(themeConfigPath, themeConfig, 'utf-8');\n      console.log('Created theme configuration file');\n    } else {\n      // Update existing theme config\n      const themeConfig = this.generateThemeConfig(tokens);\n      await fs.promises.writeFile(themeConfigPath, themeConfig, 'utf-8');\n      console.log('Updated theme configuration file');\n    }\n  }\n\n  /**\n   * Generate theme configuration TypeScript file\n   */\n  private generateThemeConfig(tokens: DesignTokens): string {\n    return `// Auto-generated theme configuration\n// Do not edit manually - use DesignTokenManager to update\n\nexport const theme = ${JSON.stringify(tokens, null, 2)};\n\nexport type Theme = typeof theme;\n`;\n  }\n\n  /**\n   * Get current tokens\n   */\n  getTokens(): DesignTokens {\n    return this.tokens || this.getDefaultTokens();\n  }\n\n  /**\n   * Generate comprehensive token documentation\n   */\n  async generateDocumentation(): Promise<string> {\n    const tokens = this.getTokens();\n    \n    let doc = '# Design Tokens Documentation\\n\\n';\n    doc += 'This document describes all design tokens used in the project.\\n';\n    doc += 'These tokens ensure consistency across the application.\\n\\n';\n    doc += '---\\n\\n';\n\n    // Table of Contents\n    doc += '## Table of Contents\\n\\n';\n    doc += '- [Colors](#colors)\\n';\n    doc += '- [Spacing](#spacing)\\n';\n    doc += '- [Typography](#typography)\\n';\n    doc += '- [Border Radius](#border-radius)\\n';\n    doc += '- [Shadows](#shadows)\\n';\n    doc += '- [Breakpoints](#breakpoints)\\n';\n    doc += '- [Usage Examples](#usage-examples)\\n\\n';\n    doc += '---\\n\\n';\n\n    // Colors\n    doc += '## Colors\\n\\n';\n    doc += 'Color tokens organized by semantic meaning and shade.\\n\\n';\n    \n    for (const [name, scale] of Object.entries(tokens.colors)) {\n      doc += `### ${this.capitalize(name)}\\n\\n`;\n      doc += '| Shade | Hex Value | CSS Variable | Tailwind Class |\\n';\n      doc += '|-------|-----------|--------------|----------------|\\n';\n      for (const [shade, value] of Object.entries(scale)) {\n        const cssVar = `--color-${name}-${shade}`;\n        const tailwindClass = `${name}-${shade}`;\n        doc += `| ${shade} | \\`${value}\\` | \\`${cssVar}\\` | \\`bg-${tailwindClass}\\`, \\`text-${tailwindClass}\\` |\\n`;\n      }\n      doc += '\\n';\n    }\n\n    // Spacing\n    doc += '## Spacing\\n\\n';\n    doc += 'Spacing tokens for consistent margins, padding, and gaps.\\n\\n';\n    doc += '| Size | Value | CSS Variable | Tailwind Classes |\\n';\n    doc += '|------|-------|--------------|------------------|\\n';\n    for (const [size, value] of Object.entries(tokens.spacing)) {\n      const cssVar = `--spacing-${size}`;\n      doc += `| ${size} | \\`${value}\\` | \\`${cssVar}\\` | \\`p-${size}\\`, \\`m-${size}\\`, \\`gap-${size}\\` |\\n`;\n    }\n    doc += '\\n';\n\n    // Typography\n    doc += '## Typography\\n\\n';\n    \n    doc += '### Font Families\\n\\n';\n    doc += '| Name | Value | CSS Variable | Tailwind Class |\\n';\n    doc += '|------|-------|--------------|----------------|\\n';\n    for (const [name, value] of Object.entries(tokens.typography.fontFamily)) {\n      const cssVar = `--font-family-${name}`;\n      doc += `| ${name} | \\`${value}\\` | \\`${cssVar}\\` | \\`font-${name}\\` |\\n`;\n    }\n    doc += '\\n';\n\n    doc += '### Font Sizes\\n\\n';\n    doc += '| Size | Value | CSS Variable | Tailwind Class |\\n';\n    doc += '|------|-------|--------------|----------------|\\n';\n    for (const [size, value] of Object.entries(tokens.typography.fontSize)) {\n      const cssVar = `--font-size-${size}`;\n      doc += `| ${size} | \\`${value}\\` | \\`${cssVar}\\` | \\`text-${size}\\` |\\n`;\n    }\n    doc += '\\n';\n\n    doc += '### Font Weights\\n\\n';\n    doc += '| Weight | Value | CSS Variable | Tailwind Class |\\n';\n    doc += '|--------|-------|--------------|----------------|\\n';\n    for (const [weight, value] of Object.entries(tokens.typography.fontWeight)) {\n      const cssVar = `--font-weight-${weight}`;\n      doc += `| ${weight} | \\`${value}\\` | \\`${cssVar}\\` | \\`font-${weight}\\` |\\n`;\n    }\n    doc += '\\n';\n\n    doc += '### Line Heights\\n\\n';\n    doc += '| Height | Value | CSS Variable | Tailwind Class |\\n';\n    doc += '|--------|-------|--------------|----------------|\\n';\n    for (const [height, value] of Object.entries(tokens.typography.lineHeight)) {\n      const cssVar = `--line-height-${height}`;\n      doc += `| ${height} | \\`${value}\\` | \\`${cssVar}\\` | \\`leading-${height}\\` |\\n`;\n    }\n    doc += '\\n';\n\n    // Border Radius\n    doc += '## Border Radius\\n\\n';\n    doc += 'Border radius tokens for consistent rounded corners.\\n\\n';\n    doc += '| Size | Value | CSS Variable | Tailwind Class |\\n';\n    doc += '|------|-------|--------------|----------------|\\n';\n    for (const [size, value] of Object.entries(tokens.borderRadius)) {\n      const cssVar = `--radius-${size}`;\n      doc += `| ${size} | \\`${value}\\` | \\`${cssVar}\\` | \\`rounded-${size}\\` |\\n`;\n    }\n    doc += '\\n';\n\n    // Shadows\n    doc += '## Shadows\\n\\n';\n    doc += 'Shadow tokens for consistent elevation and depth.\\n\\n';\n    doc += '| Size | Value | CSS Variable | Tailwind Class |\\n';\n    doc += '|------|-------|--------------|----------------|\\n';\n    for (const [size, value] of Object.entries(tokens.shadows)) {\n      const cssVar = `--shadow-${size}`;\n      doc += `| ${size} | \\`${value}\\` | \\`${cssVar}\\` | \\`shadow-${size}\\` |\\n`;\n    }\n    doc += '\\n';\n\n    // Breakpoints\n    doc += '## Breakpoints\\n\\n';\n    doc += 'Responsive breakpoints for different screen sizes.\\n\\n';\n    doc += '| Size | Value | CSS Variable | Tailwind Prefix |\\n';\n    doc += '|------|-------|--------------|----------------|\\n';\n    for (const [size, value] of Object.entries(tokens.breakpoints)) {\n      const cssVar = `--breakpoint-${size}`;\n      doc += `| ${size} | \\`${value}\\` | \\`${cssVar}\\` | \\`${size}:\\` |\\n`;\n    }\n    doc += '\\n';\n\n    // Usage Examples\n    doc += '## Usage Examples\\n\\n';\n    doc += '### Using Tailwind Classes\\n\\n';\n    doc += '```jsx\\n';\n    doc += '// Colors\\n';\n    doc += '<div className=\"bg-primary-500 text-white\">\\n';\n    doc += '  Primary background with white text\\n';\n    doc += '</div>\\n\\n';\n    doc += '// Spacing\\n';\n    doc += '<div className=\"p-md m-lg gap-sm\">\\n';\n    doc += '  Medium padding, large margin, small gap\\n';\n    doc += '</div>\\n\\n';\n    doc += '// Typography\\n';\n    doc += '<h1 className=\"text-4xl font-bold leading-tight\">\\n';\n    doc += '  Large, bold heading\\n';\n    doc += '</h1>\\n\\n';\n    doc += '// Border Radius & Shadow\\n';\n    doc += '<div className=\"rounded-lg shadow-md\">\\n';\n    doc += '  Card with rounded corners and medium shadow\\n';\n    doc += '</div>\\n';\n    doc += '```\\n\\n';\n\n    doc += '### Using CSS Variables\\n\\n';\n    doc += '```css\\n';\n    doc += '.custom-component {\\n';\n    doc += '  background-color: var(--color-primary-500);\\n';\n    doc += '  padding: var(--spacing-md);\\n';\n    doc += '  font-size: var(--font-size-lg);\\n';\n    doc += '  border-radius: var(--radius-md);\\n';\n    doc += '  box-shadow: var(--shadow-lg);\\n';\n    doc += '}\\n';\n    doc += '```\\n\\n';\n\n    doc += '### Responsive Design\\n\\n';\n    doc += '```jsx\\n';\n    doc += '<div className=\"text-sm md:text-base lg:text-lg\">\\n';\n    doc += '  Responsive text size\\n';\n    doc += '</div>\\n';\n    doc += '```\\n\\n';\n\n    doc += '---\\n\\n';\n    doc += '*This documentation is auto-generated. To update tokens, use the DesignTokenManager.*\\n';\n\n    return doc;\n  }\n\n  /**\n   * Save documentation to file\n   */\n  async saveDocumentation(outputPath?: string): Promise<string> {\n    const doc = await this.generateDocumentation();\n    const docPath = outputPath || path.join(this.projectRoot, 'docs', 'design-tokens.md');\n\n    // Ensure directory exists\n    const dir = path.dirname(docPath);\n    if (!fs.existsSync(dir)) {\n      await fs.promises.mkdir(dir, { recursive: true });\n    }\n\n    await fs.promises.writeFile(docPath, doc, 'utf-8');\n    console.log(`Documentation saved to ${docPath}`);\n    \n    return docPath;\n  }\n\n  /**\n   * Find Tailwind config file\n   */\n  private findTailwindConfig(): string | null {\n    const possiblePaths = [\n      'tailwind.config.js',\n      'tailwind.config.ts',\n      'tailwind.config.cjs',\n      'tailwind.config.mjs',\n    ];\n\n    for (const configPath of possiblePaths) {\n      const fullPath = path.join(this.projectRoot, configPath);\n      if (fs.existsSync(fullPath)) {\n        return fullPath;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Parse Tailwind config content\n   */\n  private parseTailwindConfig(content: string): DesignTokens {\n    const tokens = this.getDefaultTokens();\n\n    try {\n      // Extract theme.extend section\n      const themeExtendMatch = content.match(/theme:\\s*{\\s*extend:\\s*{([^}]+(?:{[^}]*}[^}]*)*?)}/s);\n      \n      if (themeExtendMatch) {\n        const themeContent = themeExtendMatch[1];\n        \n        // Parse colors\n        const colorsMatch = themeContent.match(/colors:\\s*({[\\s\\S]*?})\\s*,/);\n        if (colorsMatch) {\n          try {\n            const colorsObj = this.parseObjectLiteral(colorsMatch[1]);\n            if (colorsObj) {\n              tokens.colors = { ...tokens.colors, ...colorsObj };\n            }\n          } catch (e) {\n            console.warn('Failed to parse colors:', e);\n          }\n        }\n\n        // Parse spacing\n        const spacingMatch = themeContent.match(/spacing:\\s*({[\\s\\S]*?})\\s*,/);\n        if (spacingMatch) {\n          try {\n            const spacingObj = this.parseObjectLiteral(spacingMatch[1]);\n            if (spacingObj) {\n              tokens.spacing = { ...tokens.spacing, ...spacingObj };\n            }\n          } catch (e) {\n            console.warn('Failed to parse spacing:', e);\n          }\n        }\n\n        // Parse fontFamily\n        const fontFamilyMatch = themeContent.match(/fontFamily:\\s*({[\\s\\S]*?})\\s*,/);\n        if (fontFamilyMatch) {\n          try {\n            const fontFamilyObj = this.parseObjectLiteral(fontFamilyMatch[1]);\n            if (fontFamilyObj) {\n              tokens.typography.fontFamily = { ...tokens.typography.fontFamily, ...fontFamilyObj };\n            }\n          } catch (e) {\n            console.warn('Failed to parse fontFamily:', e);\n          }\n        }\n\n        // Parse fontSize\n        const fontSizeMatch = themeContent.match(/fontSize:\\s*({[\\s\\S]*?})\\s*,/);\n        if (fontSizeMatch) {\n          try {\n            const fontSizeObj = this.parseObjectLiteral(fontSizeMatch[1]);\n            if (fontSizeObj) {\n              tokens.typography.fontSize = { ...tokens.typography.fontSize, ...fontSizeObj };\n            }\n          } catch (e) {\n            console.warn('Failed to parse fontSize:', e);\n          }\n        }\n\n        // Parse borderRadius\n        const borderRadiusMatch = themeContent.match(/borderRadius:\\s*({[\\s\\S]*?})\\s*,/);\n        if (borderRadiusMatch) {\n          try {\n            const borderRadiusObj = this.parseObjectLiteral(borderRadiusMatch[1]);\n            if (borderRadiusObj) {\n              tokens.borderRadius = { ...tokens.borderRadius, ...borderRadiusObj };\n            }\n          } catch (e) {\n            console.warn('Failed to parse borderRadius:', e);\n          }\n        }\n\n        // Parse boxShadow\n        const boxShadowMatch = themeContent.match(/boxShadow:\\s*({[\\s\\S]*?})\\s*,/);\n        if (boxShadowMatch) {\n          try {\n            const boxShadowObj = this.parseObjectLiteral(boxShadowMatch[1]);\n            if (boxShadowObj) {\n              tokens.shadows = { ...tokens.shadows, ...boxShadowObj };\n            }\n          } catch (e) {\n            console.warn('Failed to parse boxShadow:', e);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error parsing Tailwind config:', error);\n    }\n\n    return tokens;\n  }\n\n  /**\n   * Parse JavaScript object literal from string\n   */\n  private parseObjectLiteral(str: string): any {\n    try {\n      // Remove comments\n      str = str.replace(/\\/\\*[\\s\\S]*?\\*\\//g, '').replace(/\\/\\/.*/g, '');\n      \n      // Convert single quotes to double quotes for JSON compatibility\n      str = str.replace(/'/g, '\"');\n      \n      // Handle trailing commas\n      str = str.replace(/,(\\s*[}\\]])/g, '$1');\n      \n      // Try to parse as JSON\n      return JSON.parse(str);\n    } catch (e) {\n      // If JSON parsing fails, try a more lenient approach\n      console.warn('Failed to parse as JSON, using fallback parser');\n      return null;\n    }\n  }\n\n  /**\n   * Parse CSS variables\n   */\n  private parseCSSVariables(content: string): Partial<DesignTokens> {\n    const tokens: any = {\n      colors: {} as any,\n      spacing: {} as any,\n      typography: {\n        fontFamily: {} as any,\n        fontSize: {} as any,\n        fontWeight: {} as any,\n        lineHeight: {} as any,\n      },\n      borderRadius: {} as any,\n      shadows: {} as any,\n      breakpoints: {} as any,\n    };\n\n    const cssVarRegex = /--([^:]+):\\s*([^;]+);/g;\n    \n    let match;\n    while ((match = cssVarRegex.exec(content)) !== null) {\n      const varName = match[1].trim();\n      const varValue = match[2].trim();\n\n      // Map CSS variables to token structure\n      if (varName.startsWith('color-')) {\n        // Parse color variables: --color-primary-500\n        const parts = varName.split('-');\n        if (parts.length >= 3) {\n          const colorName = parts[1];\n          const shade = parts[2];\n          \n          if (!tokens.colors![colorName as keyof typeof tokens.colors]) {\n            tokens.colors![colorName as keyof typeof tokens.colors] = {} as ColorScale;\n          }\n          (tokens.colors![colorName as keyof typeof tokens.colors] as any)[shade] = varValue;\n        }\n      } else if (varName.startsWith('spacing-')) {\n        // Parse spacing variables: --spacing-md\n        const size = varName.replace('spacing-', '');\n        tokens.spacing![size as keyof typeof tokens.spacing] = varValue;\n      } else if (varName.startsWith('font-size-')) {\n        // Parse font size variables: --font-size-lg\n        const size = varName.replace('font-size-', '');\n        tokens.typography!.fontSize![size as keyof typeof tokens.typography.fontSize] = varValue;\n      } else if (varName.startsWith('font-family-')) {\n        // Parse font family variables: --font-family-sans\n        const family = varName.replace('font-family-', '');\n        tokens.typography!.fontFamily![family as keyof typeof tokens.typography.fontFamily] = varValue;\n      } else if (varName.startsWith('font-weight-')) {\n        // Parse font weight variables: --font-weight-bold\n        const weight = varName.replace('font-weight-', '');\n        tokens.typography!.fontWeight![weight as keyof typeof tokens.typography.fontWeight] = parseInt(varValue);\n      } else if (varName.startsWith('line-height-')) {\n        // Parse line height variables: --line-height-normal\n        const height = varName.replace('line-height-', '');\n        tokens.typography!.lineHeight![height as keyof typeof tokens.typography.lineHeight] = varValue;\n      } else if (varName.startsWith('radius-')) {\n        // Parse border radius variables: --radius-md\n        const size = varName.replace('radius-', '');\n        tokens.borderRadius![size as keyof typeof tokens.borderRadius] = varValue;\n      } else if (varName.startsWith('shadow-')) {\n        // Parse shadow variables: --shadow-lg\n        const size = varName.replace('shadow-', '');\n        tokens.shadows![size as keyof typeof tokens.shadows] = varValue;\n      } else if (varName.startsWith('breakpoint-')) {\n        // Parse breakpoint variables: --breakpoint-md\n        const size = varName.replace('breakpoint-', '');\n        tokens.breakpoints![size as keyof typeof tokens.breakpoints] = varValue;\n      }\n    }\n\n    return tokens;\n  }\n\n  /**\n   * Update Tailwind config file\n   */\n  private async updateTailwindConfig(tokens: DesignTokens): Promise<void> {\n    const configPath = this.findTailwindConfig();\n    if (!configPath) {\n      // Create new config\n      await this.createTailwindConfig(tokens);\n      return;\n    }\n\n    const config = this.generateTailwindConfig(tokens);\n    await fs.promises.writeFile(configPath, config, 'utf-8');\n  }\n\n  /**\n   * Create new Tailwind config\n   */\n  private async createTailwindConfig(tokens: DesignTokens): Promise<void> {\n    const configPath = path.join(this.projectRoot, 'tailwind.config.js');\n    const config = this.generateTailwindConfig(tokens);\n    await fs.promises.writeFile(configPath, config, 'utf-8');\n  }\n\n  /**\n   * Generate Tailwind config content\n   */\n  private generateTailwindConfig(tokens: DesignTokens): string {\n    return `/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\n    './src/**/*.{js,jsx,ts,tsx}',\n    './pages/**/*.{js,jsx,ts,tsx}',\n    './components/**/*.{js,jsx,ts,tsx}',\n  ],\n  theme: {\n    extend: {\n      colors: ${JSON.stringify(tokens.colors, null, 6)},\n      spacing: ${JSON.stringify(tokens.spacing, null, 6)},\n      fontFamily: ${JSON.stringify(tokens.typography.fontFamily, null, 6)},\n      fontSize: ${JSON.stringify(tokens.typography.fontSize, null, 6)},\n      fontWeight: ${JSON.stringify(tokens.typography.fontWeight, null, 6)},\n      lineHeight: ${JSON.stringify(tokens.typography.lineHeight, null, 6)},\n      borderRadius: ${JSON.stringify(tokens.borderRadius, null, 6)},\n      boxShadow: ${JSON.stringify(tokens.shadows, null, 6)},\n      screens: ${JSON.stringify(tokens.breakpoints, null, 6)},\n    },\n  },\n  plugins: [],\n};\n`;\n  }\n\n  /**\n   * Update CSS variables\n   */\n  private async updateCSSVariables(tokens: DesignTokens): Promise<void> {\n    const cssPath = path.join(this.projectRoot, 'src', 'styles', 'tokens.css');\n    const cssContent = this.generateCSSVariables(tokens);\n\n    // Ensure directory exists\n    const dir = path.dirname(cssPath);\n    if (!fs.existsSync(dir)) {\n      await fs.promises.mkdir(dir, { recursive: true });\n    }\n\n    await fs.promises.writeFile(cssPath, cssContent, 'utf-8');\n  }\n\n  /**\n   * Generate CSS variables content\n   */\n  private generateCSSVariables(tokens: DesignTokens): string {\n    let css = ':root {\\n';\n    css += '  /* Colors */\\n';\n\n    for (const [colorName, scale] of Object.entries(tokens.colors)) {\n      for (const [shade, value] of Object.entries(scale)) {\n        css += `  --color-${colorName}-${shade}: ${value};\\n`;\n      }\n    }\n\n    css += '\\n  /* Spacing */\\n';\n    for (const [size, value] of Object.entries(tokens.spacing)) {\n      css += `  --spacing-${size}: ${value};\\n`;\n    }\n\n    css += '\\n  /* Typography */\\n';\n    for (const [size, value] of Object.entries(tokens.typography.fontSize)) {\n      css += `  --font-size-${size}: ${value};\\n`;\n    }\n\n    css += '\\n  /* Border Radius */\\n';\n    for (const [size, value] of Object.entries(tokens.borderRadius)) {\n      css += `  --radius-${size}: ${value};\\n`;\n    }\n\n    css += '\\n  /* Shadows */\\n';\n    for (const [size, value] of Object.entries(tokens.shadows)) {\n      css += `  --shadow-${size}: ${value};\\n`;\n    }\n\n    css += '}\\n';\n    return css;\n  }\n\n  /**\n   * Merge tokens\n   */\n  private mergeTokens(existing: DesignTokens, updates: Partial<DesignTokens>): DesignTokens {\n    return {\n      colors: { ...existing.colors, ...updates.colors },\n      spacing: { ...existing.spacing, ...updates.spacing },\n      typography: {\n        fontFamily: { ...existing.typography.fontFamily, ...updates.typography?.fontFamily },\n        fontSize: { ...existing.typography.fontSize, ...updates.typography?.fontSize },\n        fontWeight: { ...existing.typography.fontWeight, ...updates.typography?.fontWeight },\n        lineHeight: { ...existing.typography.lineHeight, ...updates.typography?.lineHeight },\n      },\n      borderRadius: { ...existing.borderRadius, ...updates.borderRadius },\n      shadows: { ...existing.shadows, ...updates.shadows },\n      breakpoints: { ...existing.breakpoints, ...updates.breakpoints },\n    };\n  }\n\n  /**\n   * Get default design tokens\n   */\n  private getDefaultTokens(): DesignTokens {\n    return {\n      colors: {\n        primary: {\n          50: '#f0f9ff',\n          100: '#e0f2fe',\n          200: '#bae6fd',\n          300: '#7dd3fc',\n          400: '#38bdf8',\n          500: '#0ea5e9',\n          600: '#0284c7',\n          700: '#0369a1',\n          800: '#075985',\n          900: '#0c4a6e',\n          950: '#082f49',\n        },\n        secondary: {\n          50: '#faf5ff',\n          100: '#f3e8ff',\n          200: '#e9d5ff',\n          300: '#d8b4fe',\n          400: '#c084fc',\n          500: '#a855f7',\n          600: '#9333ea',\n          700: '#7e22ce',\n          800: '#6b21a8',\n          900: '#581c87',\n          950: '#3b0764',\n        },\n        accent: {\n          50: '#fef2f2',\n          100: '#fee2e2',\n          200: '#fecaca',\n          300: '#fca5a5',\n          400: '#f87171',\n          500: '#ef4444',\n          600: '#dc2626',\n          700: '#b91c1c',\n          800: '#991b1b',\n          900: '#7f1d1d',\n          950: '#450a0a',\n        },\n        neutral: {\n          50: '#fafafa',\n          100: '#f5f5f5',\n          200: '#e5e5e5',\n          300: '#d4d4d4',\n          400: '#a3a3a3',\n          500: '#737373',\n          600: '#525252',\n          700: '#404040',\n          800: '#262626',\n          900: '#171717',\n          950: '#0a0a0a',\n        },\n        success: {\n          50: '#f0fdf4',\n          100: '#dcfce7',\n          200: '#bbf7d0',\n          300: '#86efac',\n          400: '#4ade80',\n          500: '#22c55e',\n          600: '#16a34a',\n          700: '#15803d',\n          800: '#166534',\n          900: '#14532d',\n          950: '#052e16',\n        },\n        warning: {\n          50: '#fffbeb',\n          100: '#fef3c7',\n          200: '#fde68a',\n          300: '#fcd34d',\n          400: '#fbbf24',\n          500: '#f59e0b',\n          600: '#d97706',\n          700: '#b45309',\n          800: '#92400e',\n          900: '#78350f',\n          950: '#451a03',\n        },\n        error: {\n          50: '#fef2f2',\n          100: '#fee2e2',\n          200: '#fecaca',\n          300: '#fca5a5',\n          400: '#f87171',\n          500: '#ef4444',\n          600: '#dc2626',\n          700: '#b91c1c',\n          800: '#991b1b',\n          900: '#7f1d1d',\n          950: '#450a0a',\n        },\n        info: {\n          50: '#eff6ff',\n          100: '#dbeafe',\n          200: '#bfdbfe',\n          300: '#93c5fd',\n          400: '#60a5fa',\n          500: '#3b82f6',\n          600: '#2563eb',\n          700: '#1d4ed8',\n          800: '#1e40af',\n          900: '#1e3a8a',\n          950: '#172554',\n        },\n      },\n      spacing: {\n        xs: '0.25rem',\n        sm: '0.5rem',\n        md: '1rem',\n        lg: '1.5rem',\n        xl: '2rem',\n        '2xl': '3rem',\n        '3xl': '4rem',\n        '4xl': '6rem',\n      },\n      typography: {\n        fontFamily: {\n          sans: 'ui-sans-serif, system-ui, sans-serif',\n          serif: 'ui-serif, Georgia, serif',\n          mono: 'ui-monospace, monospace',\n        },\n        fontSize: {\n          xs: '0.75rem',\n          sm: '0.875rem',\n          base: '1rem',\n          lg: '1.125rem',\n          xl: '1.25rem',\n          '2xl': '1.5rem',\n          '3xl': '1.875rem',\n          '4xl': '2.25rem',\n          '5xl': '3rem',\n        },\n        fontWeight: {\n          thin: 100,\n          light: 300,\n          normal: 400,\n          medium: 500,\n          semibold: 600,\n          bold: 700,\n          extrabold: 800,\n        },\n        lineHeight: {\n          tight: '1.25',\n          normal: '1.5',\n          relaxed: '1.75',\n          loose: '2',\n        },\n      },\n      borderRadius: {\n        none: '0',\n        sm: '0.125rem',\n        md: '0.375rem',\n        lg: '0.5rem',\n        xl: '0.75rem',\n        '2xl': '1rem',\n        full: '9999px',\n      },\n      shadows: {\n        sm: '0 1px 2px 0 rgb(0 0 0 / 0.05)',\n        md: '0 4px 6px -1px rgb(0 0 0 / 0.1)',\n        lg: '0 10px 15px -3px rgb(0 0 0 / 0.1)',\n        xl: '0 20px 25px -5px rgb(0 0 0 / 0.1)',\n        '2xl': '0 25px 50px -12px rgb(0 0 0 / 0.25)',\n        inner: 'inset 0 2px 4px 0 rgb(0 0 0 / 0.05)',\n        none: 'none',\n      },\n      breakpoints: {\n        sm: '640px',\n        md: '768px',\n        lg: '1024px',\n        xl: '1280px',\n        '2xl': '1536px',\n      },\n    };\n  }\n\n  /**\n   * Capitalize string\n   */\n  private capitalize(str: string): string {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  }\n}\n"],"mappings":";;;;;;AAAA,IAAAA,EAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,IAAA,GAAAF,uBAAA,CAAAC,OAAA;AAA6B,SAAAD,wBAAAG,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAL,uBAAA,YAAAA,CAAAG,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,QAAAC,OAAA,EAAAV,CAAA,iBAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,gBAAAP,CAAA,IAAAD,CAAA,gBAAAC,CAAA,OAAAa,cAAA,CAAAC,IAAA,CAAAf,CAAA,EAAAC,CAAA,OAAAM,CAAA,IAAAD,CAAA,GAAAU,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAlB,CAAA,EAAAC,CAAA,OAAAM,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAP,CAAA,EAAAM,CAAA,IAAAC,CAAA,CAAAP,CAAA,IAAAD,CAAA,CAAAC,CAAA,WAAAO,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAwGtB,MAAMkB,kBAAkB,CAAC;EAEtBC,MAAM,GAAwB,IAAI;EAE1CC,WAAWA,CAACC,WAAmB,EAAE;IAC/B,IAAI,CAACA,WAAW,GAAGA,WAAW;EAChC;;EAEA;AACF;AACA;EACE,MAAMC,mBAAmBA,CAAA,EAA0B;IACjD,MAAMC,kBAAkB,GAAG,IAAI,CAACC,kBAAkB,CAAC,CAAC;IAEpD,IAAI,CAACD,kBAAkB,EAAE;MACvB,OAAO,IAAI,CAACE,gBAAgB,CAAC,CAAC;IAChC;IAEA,IAAI;MACF,MAAMC,aAAa,GAAG,MAAM/B,EAAE,CAACgC,QAAQ,CAACC,QAAQ,CAACL,kBAAkB,EAAE,OAAO,CAAC;MAC7E,MAAMJ,MAAM,GAAG,IAAI,CAACU,mBAAmB,CAACH,aAAa,CAAC;MACtD,IAAI,CAACP,MAAM,GAAGA,MAAM;MACpB,OAAOA,MAAM;IACf,CAAC,CAAC,OAAOW,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gDAAgD,EAAEA,KAAK,CAAC;MACtE,OAAO,IAAI,CAACL,gBAAgB,CAAC,CAAC;IAChC;EACF;;EAEA;AACF;AACA;EACE,MAAMO,cAAcA,CAACC,WAAmB,EAAkC;IACxE,IAAI;MACF,MAAMC,UAAU,GAAG,MAAMvC,EAAE,CAACgC,QAAQ,CAACC,QAAQ,CAACK,WAAW,EAAE,OAAO,CAAC;MACnE,OAAO,IAAI,CAACE,iBAAiB,CAACD,UAAU,CAAC;IAC3C,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;MAC1D,OAAO,CAAC,CAAC;IACX;EACF;;EAEA;AACF;AACA;EACE,MAAMM,iBAAiBA,CAAA,EAAmC;IACxD,MAAMC,QAAQ,GAAG,MAAM,IAAI,CAACC,eAAe,CAAC,CAAC;IAC7C,MAAMC,SAAgC,GAAG,CAAC,CAAC;IAE3C,KAAK,MAAMC,OAAO,IAAIH,QAAQ,EAAE;MAC9B,MAAMlB,MAAM,GAAG,MAAM,IAAI,CAACa,cAAc,CAACQ,OAAO,CAAC;MACjD;MACAzB,MAAM,CAAC0B,MAAM,CAACF,SAAS,EAAEpB,MAAM,CAAC;IAClC;IAEA,OAAOoB,SAAS;EAClB;;EAEA;AACF;AACA;EACE,MAAcD,eAAeA,CAAA,EAAsB;IACjD,MAAMD,QAAkB,GAAG,EAAE;IAC7B,MAAMK,UAAU,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,YAAY,CAAC;IAElE,KAAK,MAAMC,GAAG,IAAID,UAAU,EAAE;MAC5B,MAAME,QAAQ,GAAG9C,IAAI,CAAC+C,IAAI,CAAC,IAAI,CAACxB,WAAW,EAAEsB,GAAG,CAAC;MACjD,IAAIhD,EAAE,CAACmD,UAAU,CAACF,QAAQ,CAAC,EAAE;QAC3B,MAAM,IAAI,CAACG,eAAe,CAACH,QAAQ,EAAEP,QAAQ,CAAC;MAChD;IACF;IAEA,OAAOA,QAAQ;EACjB;;EAEA;AACF;AACA;EACE,MAAcU,eAAeA,CAACJ,GAAW,EAAEK,OAAiB,EAAiB;IAC3E,IAAI;MACF,MAAMC,OAAO,GAAG,MAAMtD,EAAE,CAACgC,QAAQ,CAACuB,OAAO,CAACP,GAAG,EAAE;QAAEQ,aAAa,EAAE;MAAK,CAAC,CAAC;MAEvE,KAAK,MAAMC,KAAK,IAAIH,OAAO,EAAE;QAC3B,MAAML,QAAQ,GAAG9C,IAAI,CAAC+C,IAAI,CAACF,GAAG,EAAES,KAAK,CAACC,IAAI,CAAC;QAE3C,IAAID,KAAK,CAACE,WAAW,CAAC,CAAC,EAAE;UACvB;UACA,IAAI,CAAC,CAAC,cAAc,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC,CAACC,QAAQ,CAACH,KAAK,CAACC,IAAI,CAAC,EAAE;YAC5E,MAAM,IAAI,CAACN,eAAe,CAACH,QAAQ,EAAEI,OAAO,CAAC;UAC/C;QACF,CAAC,MAAM,IAAII,KAAK,CAACI,MAAM,CAAC,CAAC,IAAIJ,KAAK,CAACC,IAAI,CAACI,QAAQ,CAAC,MAAM,CAAC,EAAE;UACxDT,OAAO,CAACU,IAAI,CAACd,QAAQ,CAAC;QACxB;MACF;IACF,CAAC,CAAC,OAAOd,KAAK,EAAE;MACdC,OAAO,CAAC4B,IAAI,CAAC,4BAA4BhB,GAAG,GAAG,EAAEb,KAAK,CAAC;IACzD;EACF;;EAEA;AACF;AACA;EACE,MAAM8B,YAAYA,CAACzC,MAA6B,EAAiB;IAC/D,IAAI,CAAC,IAAI,CAACA,MAAM,EAAE;MAChB,IAAI,CAACA,MAAM,GAAG,IAAI,CAACM,gBAAgB,CAAC,CAAC;IACvC;;IAEA;IACA,IAAI,CAACN,MAAM,GAAG,IAAI,CAAC0C,WAAW,CAAC,IAAI,CAAC1C,MAAM,EAAEA,MAAM,CAAC;;IAEnD;IACA,MAAM,IAAI,CAAC2C,qBAAqB,CAAC,IAAI,CAAC3C,MAAM,CAAC;EAC/C;;EAEA;AACF;AACA;EACE,MAAc2C,qBAAqBA,CAAC3C,MAAoB,EAAiB;IACvE,MAAM4C,OAAwB,GAAG,EAAE;;IAEnC;IACAA,OAAO,CAACL,IAAI,CAAC,IAAI,CAACM,oBAAoB,CAAC7C,MAAM,CAAC,CAAC;;IAE/C;IACA4C,OAAO,CAACL,IAAI,CAAC,IAAI,CAACO,kBAAkB,CAAC9C,MAAM,CAAC,CAAC;;IAE7C;IACA4C,OAAO,CAACL,IAAI,CAAC,IAAI,CAACQ,kBAAkB,CAAC/C,MAAM,CAAC,CAAC;;IAE7C;IACA4C,OAAO,CAACL,IAAI,CAAC,IAAI,CAACS,iBAAiB,CAAChD,MAAM,CAAC,CAAC;;IAE5C;IACA,MAAMiD,OAAO,CAACC,GAAG,CAACN,OAAO,CAAC;IAE1BhC,OAAO,CAACuC,GAAG,CAAC,uCAAuC,CAAC;EACtD;;EAEA;AACF;AACA;EACE,MAAcJ,kBAAkBA,CAAC/C,MAAoB,EAAiB;IACpE,MAAMoD,oBAAoB,GAAG,CAC3B,wBAAwB,EACxB,qBAAqB,EACrB,oBAAoB,EACpB,iBAAiB,CAClB;IAED,KAAK,MAAMC,SAAS,IAAID,oBAAoB,EAAE;MAC5C,MAAM3B,QAAQ,GAAG9C,IAAI,CAAC+C,IAAI,CAAC,IAAI,CAACxB,WAAW,EAAEmD,SAAS,CAAC;MACvD,IAAI7E,EAAE,CAACmD,UAAU,CAACF,QAAQ,CAAC,EAAE;QAC3B,IAAI;UACF,IAAI6B,OAAO,GAAG,MAAM9E,EAAE,CAACgC,QAAQ,CAACC,QAAQ,CAACgB,QAAQ,EAAE,OAAO,CAAC;;UAE3D;UACA,IAAI6B,OAAO,CAAClB,QAAQ,CAAC,SAAS,CAAC,IAAIkB,OAAO,CAAClB,QAAQ,CAAC,QAAQ,CAAC,EAAE;YAC7D;YACAxB,OAAO,CAACuC,GAAG,CAAC,oBAAoBE,SAAS,0BAA0B,CAAC;UACtE;QACF,CAAC,CAAC,OAAO1C,KAAK,EAAE;UACdC,OAAO,CAAC4B,IAAI,CAAC,qCAAqCa,SAAS,GAAG,EAAE1C,KAAK,CAAC;QACxE;MACF;IACF;EACF;;EAEA;AACF;AACA;EACE,MAAcqC,iBAAiBA,CAAChD,MAAoB,EAAiB;IACnE,MAAMuD,eAAe,GAAG5E,IAAI,CAAC+C,IAAI,CAAC,IAAI,CAACxB,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,UAAU,CAAC;;IAEhF;IACA,IAAI,CAAC1B,EAAE,CAACmD,UAAU,CAAC4B,eAAe,CAAC,EAAE;MACnC;MACA,MAAM/B,GAAG,GAAG7C,IAAI,CAAC6E,OAAO,CAACD,eAAe,CAAC;MACzC,IAAI,CAAC/E,EAAE,CAACmD,UAAU,CAACH,GAAG,CAAC,EAAE;QACvB,MAAMhD,EAAE,CAACgC,QAAQ,CAACiD,KAAK,CAACjC,GAAG,EAAE;UAAEkC,SAAS,EAAE;QAAK,CAAC,CAAC;MACnD;MAEA,MAAMC,WAAW,GAAG,IAAI,CAACC,mBAAmB,CAAC5D,MAAM,CAAC;MACpD,MAAMxB,EAAE,CAACgC,QAAQ,CAACqD,SAAS,CAACN,eAAe,EAAEI,WAAW,EAAE,OAAO,CAAC;MAClE/C,OAAO,CAACuC,GAAG,CAAC,kCAAkC,CAAC;IACjD,CAAC,MAAM;MACL;MACA,MAAMQ,WAAW,GAAG,IAAI,CAACC,mBAAmB,CAAC5D,MAAM,CAAC;MACpD,MAAMxB,EAAE,CAACgC,QAAQ,CAACqD,SAAS,CAACN,eAAe,EAAEI,WAAW,EAAE,OAAO,CAAC;MAClE/C,OAAO,CAACuC,GAAG,CAAC,kCAAkC,CAAC;IACjD;EACF;;EAEA;AACF;AACA;EACUS,mBAAmBA,CAAC5D,MAAoB,EAAU;IACxD,OAAO;AACX;AACA;AACA,uBAAuB8D,IAAI,CAACC,SAAS,CAAC/D,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;AACtD;AACA;AACA,CAAC;EACC;;EAEA;AACF;AACA;EACEgE,SAASA,CAAA,EAAiB;IACxB,OAAO,IAAI,CAAChE,MAAM,IAAI,IAAI,CAACM,gBAAgB,CAAC,CAAC;EAC/C;;EAEA;AACF;AACA;EACE,MAAM2D,qBAAqBA,CAAA,EAAoB;IAC7C,MAAMjE,MAAM,GAAG,IAAI,CAACgE,SAAS,CAAC,CAAC;IAE/B,IAAIE,GAAG,GAAG,mCAAmC;IAC7CA,GAAG,IAAI,kEAAkE;IACzEA,GAAG,IAAI,6DAA6D;IACpEA,GAAG,IAAI,SAAS;;IAEhB;IACAA,GAAG,IAAI,0BAA0B;IACjCA,GAAG,IAAI,uBAAuB;IAC9BA,GAAG,IAAI,yBAAyB;IAChCA,GAAG,IAAI,+BAA+B;IACtCA,GAAG,IAAI,qCAAqC;IAC5CA,GAAG,IAAI,yBAAyB;IAChCA,GAAG,IAAI,iCAAiC;IACxCA,GAAG,IAAI,yCAAyC;IAChDA,GAAG,IAAI,SAAS;;IAEhB;IACAA,GAAG,IAAI,eAAe;IACtBA,GAAG,IAAI,2DAA2D;IAElE,KAAK,MAAM,CAAChC,IAAI,EAAEiC,KAAK,CAAC,IAAIvE,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAACoE,MAAM,CAAC,EAAE;MACzDF,GAAG,IAAI,OAAO,IAAI,CAACG,UAAU,CAACnC,IAAI,CAAC,MAAM;MACzCgC,GAAG,IAAI,yDAAyD;MAChEA,GAAG,IAAI,yDAAyD;MAChE,KAAK,MAAM,CAACI,KAAK,EAAEC,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAACqC,KAAK,CAAC,EAAE;QAClD,MAAMK,MAAM,GAAG,WAAWtC,IAAI,IAAIoC,KAAK,EAAE;QACzC,MAAMG,aAAa,GAAG,GAAGvC,IAAI,IAAIoC,KAAK,EAAE;QACxCJ,GAAG,IAAI,KAAKI,KAAK,QAAQC,KAAK,UAAUC,MAAM,aAAaC,aAAa,cAAcA,aAAa,QAAQ;MAC7G;MACAP,GAAG,IAAI,IAAI;IACb;;IAEA;IACAA,GAAG,IAAI,gBAAgB;IACvBA,GAAG,IAAI,+DAA+D;IACtEA,GAAG,IAAI,sDAAsD;IAC7DA,GAAG,IAAI,sDAAsD;IAC7D,KAAK,MAAM,CAACQ,IAAI,EAAEH,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAAC2E,OAAO,CAAC,EAAE;MAC1D,MAAMH,MAAM,GAAG,aAAaE,IAAI,EAAE;MAClCR,GAAG,IAAI,KAAKQ,IAAI,QAAQH,KAAK,UAAUC,MAAM,YAAYE,IAAI,WAAWA,IAAI,aAAaA,IAAI,QAAQ;IACvG;IACAR,GAAG,IAAI,IAAI;;IAEX;IACAA,GAAG,IAAI,mBAAmB;IAE1BA,GAAG,IAAI,uBAAuB;IAC9BA,GAAG,IAAI,oDAAoD;IAC3DA,GAAG,IAAI,oDAAoD;IAC3D,KAAK,MAAM,CAAChC,IAAI,EAAEqC,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAAC4E,UAAU,CAACC,UAAU,CAAC,EAAE;MACxE,MAAML,MAAM,GAAG,iBAAiBtC,IAAI,EAAE;MACtCgC,GAAG,IAAI,KAAKhC,IAAI,QAAQqC,KAAK,UAAUC,MAAM,eAAetC,IAAI,QAAQ;IAC1E;IACAgC,GAAG,IAAI,IAAI;IAEXA,GAAG,IAAI,oBAAoB;IAC3BA,GAAG,IAAI,oDAAoD;IAC3DA,GAAG,IAAI,oDAAoD;IAC3D,KAAK,MAAM,CAACQ,IAAI,EAAEH,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAAC4E,UAAU,CAACE,QAAQ,CAAC,EAAE;MACtE,MAAMN,MAAM,GAAG,eAAeE,IAAI,EAAE;MACpCR,GAAG,IAAI,KAAKQ,IAAI,QAAQH,KAAK,UAAUC,MAAM,eAAeE,IAAI,QAAQ;IAC1E;IACAR,GAAG,IAAI,IAAI;IAEXA,GAAG,IAAI,sBAAsB;IAC7BA,GAAG,IAAI,sDAAsD;IAC7DA,GAAG,IAAI,sDAAsD;IAC7D,KAAK,MAAM,CAACa,MAAM,EAAER,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAAC4E,UAAU,CAACI,UAAU,CAAC,EAAE;MAC1E,MAAMR,MAAM,GAAG,iBAAiBO,MAAM,EAAE;MACxCb,GAAG,IAAI,KAAKa,MAAM,QAAQR,KAAK,UAAUC,MAAM,eAAeO,MAAM,QAAQ;IAC9E;IACAb,GAAG,IAAI,IAAI;IAEXA,GAAG,IAAI,sBAAsB;IAC7BA,GAAG,IAAI,sDAAsD;IAC7DA,GAAG,IAAI,sDAAsD;IAC7D,KAAK,MAAM,CAACe,MAAM,EAAEV,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAAC4E,UAAU,CAACM,UAAU,CAAC,EAAE;MAC1E,MAAMV,MAAM,GAAG,iBAAiBS,MAAM,EAAE;MACxCf,GAAG,IAAI,KAAKe,MAAM,QAAQV,KAAK,UAAUC,MAAM,kBAAkBS,MAAM,QAAQ;IACjF;IACAf,GAAG,IAAI,IAAI;;IAEX;IACAA,GAAG,IAAI,sBAAsB;IAC7BA,GAAG,IAAI,0DAA0D;IACjEA,GAAG,IAAI,oDAAoD;IAC3DA,GAAG,IAAI,oDAAoD;IAC3D,KAAK,MAAM,CAACQ,IAAI,EAAEH,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAACmF,YAAY,CAAC,EAAE;MAC/D,MAAMX,MAAM,GAAG,YAAYE,IAAI,EAAE;MACjCR,GAAG,IAAI,KAAKQ,IAAI,QAAQH,KAAK,UAAUC,MAAM,kBAAkBE,IAAI,QAAQ;IAC7E;IACAR,GAAG,IAAI,IAAI;;IAEX;IACAA,GAAG,IAAI,gBAAgB;IACvBA,GAAG,IAAI,uDAAuD;IAC9DA,GAAG,IAAI,oDAAoD;IAC3DA,GAAG,IAAI,oDAAoD;IAC3D,KAAK,MAAM,CAACQ,IAAI,EAAEH,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAACoF,OAAO,CAAC,EAAE;MAC1D,MAAMZ,MAAM,GAAG,YAAYE,IAAI,EAAE;MACjCR,GAAG,IAAI,KAAKQ,IAAI,QAAQH,KAAK,UAAUC,MAAM,iBAAiBE,IAAI,QAAQ;IAC5E;IACAR,GAAG,IAAI,IAAI;;IAEX;IACAA,GAAG,IAAI,oBAAoB;IAC3BA,GAAG,IAAI,wDAAwD;IAC/DA,GAAG,IAAI,qDAAqD;IAC5DA,GAAG,IAAI,oDAAoD;IAC3D,KAAK,MAAM,CAACQ,IAAI,EAAEH,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAACqF,WAAW,CAAC,EAAE;MAC9D,MAAMb,MAAM,GAAG,gBAAgBE,IAAI,EAAE;MACrCR,GAAG,IAAI,KAAKQ,IAAI,QAAQH,KAAK,UAAUC,MAAM,UAAUE,IAAI,SAAS;IACtE;IACAR,GAAG,IAAI,IAAI;;IAEX;IACAA,GAAG,IAAI,uBAAuB;IAC9BA,GAAG,IAAI,gCAAgC;IACvCA,GAAG,IAAI,UAAU;IACjBA,GAAG,IAAI,aAAa;IACpBA,GAAG,IAAI,+CAA+C;IACtDA,GAAG,IAAI,wCAAwC;IAC/CA,GAAG,IAAI,YAAY;IACnBA,GAAG,IAAI,cAAc;IACrBA,GAAG,IAAI,sCAAsC;IAC7CA,GAAG,IAAI,6CAA6C;IACpDA,GAAG,IAAI,YAAY;IACnBA,GAAG,IAAI,iBAAiB;IACxBA,GAAG,IAAI,qDAAqD;IAC5DA,GAAG,IAAI,yBAAyB;IAChCA,GAAG,IAAI,WAAW;IAClBA,GAAG,IAAI,6BAA6B;IACpCA,GAAG,IAAI,0CAA0C;IACjDA,GAAG,IAAI,iDAAiD;IACxDA,GAAG,IAAI,UAAU;IACjBA,GAAG,IAAI,SAAS;IAEhBA,GAAG,IAAI,6BAA6B;IACpCA,GAAG,IAAI,UAAU;IACjBA,GAAG,IAAI,uBAAuB;IAC9BA,GAAG,IAAI,iDAAiD;IACxDA,GAAG,IAAI,iCAAiC;IACxCA,GAAG,IAAI,qCAAqC;IAC5CA,GAAG,IAAI,sCAAsC;IAC7CA,GAAG,IAAI,mCAAmC;IAC1CA,GAAG,IAAI,KAAK;IACZA,GAAG,IAAI,SAAS;IAEhBA,GAAG,IAAI,2BAA2B;IAClCA,GAAG,IAAI,UAAU;IACjBA,GAAG,IAAI,qDAAqD;IAC5DA,GAAG,IAAI,0BAA0B;IACjCA,GAAG,IAAI,UAAU;IACjBA,GAAG,IAAI,SAAS;IAEhBA,GAAG,IAAI,SAAS;IAChBA,GAAG,IAAI,yFAAyF;IAEhG,OAAOA,GAAG;EACZ;;EAEA;AACF;AACA;EACE,MAAMoB,iBAAiBA,CAACC,UAAmB,EAAmB;IAC5D,MAAMrB,GAAG,GAAG,MAAM,IAAI,CAACD,qBAAqB,CAAC,CAAC;IAC9C,MAAMuB,OAAO,GAAGD,UAAU,IAAI5G,IAAI,CAAC+C,IAAI,CAAC,IAAI,CAACxB,WAAW,EAAE,MAAM,EAAE,kBAAkB,CAAC;;IAErF;IACA,MAAMsB,GAAG,GAAG7C,IAAI,CAAC6E,OAAO,CAACgC,OAAO,CAAC;IACjC,IAAI,CAAChH,EAAE,CAACmD,UAAU,CAACH,GAAG,CAAC,EAAE;MACvB,MAAMhD,EAAE,CAACgC,QAAQ,CAACiD,KAAK,CAACjC,GAAG,EAAE;QAAEkC,SAAS,EAAE;MAAK,CAAC,CAAC;IACnD;IAEA,MAAMlF,EAAE,CAACgC,QAAQ,CAACqD,SAAS,CAAC2B,OAAO,EAAEtB,GAAG,EAAE,OAAO,CAAC;IAClDtD,OAAO,CAACuC,GAAG,CAAC,0BAA0BqC,OAAO,EAAE,CAAC;IAEhD,OAAOA,OAAO;EAChB;;EAEA;AACF;AACA;EACUnF,kBAAkBA,CAAA,EAAkB;IAC1C,MAAMoF,aAAa,GAAG,CACpB,oBAAoB,EACpB,oBAAoB,EACpB,qBAAqB,EACrB,qBAAqB,CACtB;IAED,KAAK,MAAMC,UAAU,IAAID,aAAa,EAAE;MACtC,MAAMhE,QAAQ,GAAG9C,IAAI,CAAC+C,IAAI,CAAC,IAAI,CAACxB,WAAW,EAAEwF,UAAU,CAAC;MACxD,IAAIlH,EAAE,CAACmD,UAAU,CAACF,QAAQ,CAAC,EAAE;QAC3B,OAAOA,QAAQ;MACjB;IACF;IAEA,OAAO,IAAI;EACb;;EAEA;AACF;AACA;EACUf,mBAAmBA,CAAC4C,OAAe,EAAgB;IACzD,MAAMtD,MAAM,GAAG,IAAI,CAACM,gBAAgB,CAAC,CAAC;IAEtC,IAAI;MACF;MACA,MAAMqF,gBAAgB,GAAGrC,OAAO,CAACsC,KAAK,CAAC,qDAAqD,CAAC;MAE7F,IAAID,gBAAgB,EAAE;QACpB,MAAME,YAAY,GAAGF,gBAAgB,CAAC,CAAC,CAAC;;QAExC;QACA,MAAMG,WAAW,GAAGD,YAAY,CAACD,KAAK,CAAC,4BAA4B,CAAC;QACpE,IAAIE,WAAW,EAAE;UACf,IAAI;YACF,MAAMC,SAAS,GAAG,IAAI,CAACC,kBAAkB,CAACF,WAAW,CAAC,CAAC,CAAC,CAAC;YACzD,IAAIC,SAAS,EAAE;cACb/F,MAAM,CAACoE,MAAM,GAAG;gBAAE,GAAGpE,MAAM,CAACoE,MAAM;gBAAE,GAAG2B;cAAU,CAAC;YACpD;UACF,CAAC,CAAC,OAAOnH,CAAC,EAAE;YACVgC,OAAO,CAAC4B,IAAI,CAAC,yBAAyB,EAAE5D,CAAC,CAAC;UAC5C;QACF;;QAEA;QACA,MAAMqH,YAAY,GAAGJ,YAAY,CAACD,KAAK,CAAC,6BAA6B,CAAC;QACtE,IAAIK,YAAY,EAAE;UAChB,IAAI;YACF,MAAMC,UAAU,GAAG,IAAI,CAACF,kBAAkB,CAACC,YAAY,CAAC,CAAC,CAAC,CAAC;YAC3D,IAAIC,UAAU,EAAE;cACdlG,MAAM,CAAC2E,OAAO,GAAG;gBAAE,GAAG3E,MAAM,CAAC2E,OAAO;gBAAE,GAAGuB;cAAW,CAAC;YACvD;UACF,CAAC,CAAC,OAAOtH,CAAC,EAAE;YACVgC,OAAO,CAAC4B,IAAI,CAAC,0BAA0B,EAAE5D,CAAC,CAAC;UAC7C;QACF;;QAEA;QACA,MAAMuH,eAAe,GAAGN,YAAY,CAACD,KAAK,CAAC,gCAAgC,CAAC;QAC5E,IAAIO,eAAe,EAAE;UACnB,IAAI;YACF,MAAMC,aAAa,GAAG,IAAI,CAACJ,kBAAkB,CAACG,eAAe,CAAC,CAAC,CAAC,CAAC;YACjE,IAAIC,aAAa,EAAE;cACjBpG,MAAM,CAAC4E,UAAU,CAACC,UAAU,GAAG;gBAAE,GAAG7E,MAAM,CAAC4E,UAAU,CAACC,UAAU;gBAAE,GAAGuB;cAAc,CAAC;YACtF;UACF,CAAC,CAAC,OAAOxH,CAAC,EAAE;YACVgC,OAAO,CAAC4B,IAAI,CAAC,6BAA6B,EAAE5D,CAAC,CAAC;UAChD;QACF;;QAEA;QACA,MAAMyH,aAAa,GAAGR,YAAY,CAACD,KAAK,CAAC,8BAA8B,CAAC;QACxE,IAAIS,aAAa,EAAE;UACjB,IAAI;YACF,MAAMC,WAAW,GAAG,IAAI,CAACN,kBAAkB,CAACK,aAAa,CAAC,CAAC,CAAC,CAAC;YAC7D,IAAIC,WAAW,EAAE;cACftG,MAAM,CAAC4E,UAAU,CAACE,QAAQ,GAAG;gBAAE,GAAG9E,MAAM,CAAC4E,UAAU,CAACE,QAAQ;gBAAE,GAAGwB;cAAY,CAAC;YAChF;UACF,CAAC,CAAC,OAAO1H,CAAC,EAAE;YACVgC,OAAO,CAAC4B,IAAI,CAAC,2BAA2B,EAAE5D,CAAC,CAAC;UAC9C;QACF;;QAEA;QACA,MAAM2H,iBAAiB,GAAGV,YAAY,CAACD,KAAK,CAAC,kCAAkC,CAAC;QAChF,IAAIW,iBAAiB,EAAE;UACrB,IAAI;YACF,MAAMC,eAAe,GAAG,IAAI,CAACR,kBAAkB,CAACO,iBAAiB,CAAC,CAAC,CAAC,CAAC;YACrE,IAAIC,eAAe,EAAE;cACnBxG,MAAM,CAACmF,YAAY,GAAG;gBAAE,GAAGnF,MAAM,CAACmF,YAAY;gBAAE,GAAGqB;cAAgB,CAAC;YACtE;UACF,CAAC,CAAC,OAAO5H,CAAC,EAAE;YACVgC,OAAO,CAAC4B,IAAI,CAAC,+BAA+B,EAAE5D,CAAC,CAAC;UAClD;QACF;;QAEA;QACA,MAAM6H,cAAc,GAAGZ,YAAY,CAACD,KAAK,CAAC,+BAA+B,CAAC;QAC1E,IAAIa,cAAc,EAAE;UAClB,IAAI;YACF,MAAMC,YAAY,GAAG,IAAI,CAACV,kBAAkB,CAACS,cAAc,CAAC,CAAC,CAAC,CAAC;YAC/D,IAAIC,YAAY,EAAE;cAChB1G,MAAM,CAACoF,OAAO,GAAG;gBAAE,GAAGpF,MAAM,CAACoF,OAAO;gBAAE,GAAGsB;cAAa,CAAC;YACzD;UACF,CAAC,CAAC,OAAO9H,CAAC,EAAE;YACVgC,OAAO,CAAC4B,IAAI,CAAC,4BAA4B,EAAE5D,CAAC,CAAC;UAC/C;QACF;MACF;IACF,CAAC,CAAC,OAAO+B,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD;IAEA,OAAOX,MAAM;EACf;;EAEA;AACF;AACA;EACUgG,kBAAkBA,CAACW,GAAW,EAAO;IAC3C,IAAI;MACF;MACAA,GAAG,GAAGA,GAAG,CAACC,OAAO,CAAC,mBAAmB,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;;MAEjE;MACAD,GAAG,GAAGA,GAAG,CAACC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;;MAE5B;MACAD,GAAG,GAAGA,GAAG,CAACC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC;;MAEvC;MACA,OAAO9C,IAAI,CAAC+C,KAAK,CAACF,GAAG,CAAC;IACxB,CAAC,CAAC,OAAO/H,CAAC,EAAE;MACV;MACAgC,OAAO,CAAC4B,IAAI,CAAC,gDAAgD,CAAC;MAC9D,OAAO,IAAI;IACb;EACF;;EAEA;AACF;AACA;EACUxB,iBAAiBA,CAACsC,OAAe,EAAyB;IAChE,MAAMtD,MAAW,GAAG;MAClBoE,MAAM,EAAE,CAAC,CAAQ;MACjBO,OAAO,EAAE,CAAC,CAAQ;MAClBC,UAAU,EAAE;QACVC,UAAU,EAAE,CAAC,CAAQ;QACrBC,QAAQ,EAAE,CAAC,CAAQ;QACnBE,UAAU,EAAE,CAAC,CAAQ;QACrBE,UAAU,EAAE,CAAC;MACf,CAAC;MACDC,YAAY,EAAE,CAAC,CAAQ;MACvBC,OAAO,EAAE,CAAC,CAAQ;MAClBC,WAAW,EAAE,CAAC;IAChB,CAAC;IAED,MAAMyB,WAAW,GAAG,wBAAwB;IAE5C,IAAIlB,KAAK;IACT,OAAO,CAACA,KAAK,GAAGkB,WAAW,CAACC,IAAI,CAACzD,OAAO,CAAC,MAAM,IAAI,EAAE;MACnD,MAAM0D,OAAO,GAAGpB,KAAK,CAAC,CAAC,CAAC,CAACqB,IAAI,CAAC,CAAC;MAC/B,MAAMC,QAAQ,GAAGtB,KAAK,CAAC,CAAC,CAAC,CAACqB,IAAI,CAAC,CAAC;;MAEhC;MACA,IAAID,OAAO,CAACG,UAAU,CAAC,QAAQ,CAAC,EAAE;QAChC;QACA,MAAMC,KAAK,GAAGJ,OAAO,CAACK,KAAK,CAAC,GAAG,CAAC;QAChC,IAAID,KAAK,CAACE,MAAM,IAAI,CAAC,EAAE;UACrB,MAAMC,SAAS,GAAGH,KAAK,CAAC,CAAC,CAAC;UAC1B,MAAM9C,KAAK,GAAG8C,KAAK,CAAC,CAAC,CAAC;UAEtB,IAAI,CAACpH,MAAM,CAACoE,MAAM,CAAEmD,SAAS,CAA+B,EAAE;YAC5DvH,MAAM,CAACoE,MAAM,CAAEmD,SAAS,CAA+B,GAAG,CAAC,CAAe;UAC5E;UACCvH,MAAM,CAACoE,MAAM,CAAEmD,SAAS,CAA+B,CAASjD,KAAK,CAAC,GAAG4C,QAAQ;QACpF;MACF,CAAC,MAAM,IAAIF,OAAO,CAACG,UAAU,CAAC,UAAU,CAAC,EAAE;QACzC;QACA,MAAMzC,IAAI,GAAGsC,OAAO,CAACJ,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC;QAC5C5G,MAAM,CAAC2E,OAAO,CAAED,IAAI,CAAgC,GAAGwC,QAAQ;MACjE,CAAC,MAAM,IAAIF,OAAO,CAACG,UAAU,CAAC,YAAY,CAAC,EAAE;QAC3C;QACA,MAAMzC,IAAI,GAAGsC,OAAO,CAACJ,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;QAC9C5G,MAAM,CAAC4E,UAAU,CAAEE,QAAQ,CAAEJ,IAAI,CAA4C,GAAGwC,QAAQ;MAC1F,CAAC,MAAM,IAAIF,OAAO,CAACG,UAAU,CAAC,cAAc,CAAC,EAAE;QAC7C;QACA,MAAMK,MAAM,GAAGR,OAAO,CAACJ,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC;QAClD5G,MAAM,CAAC4E,UAAU,CAAEC,UAAU,CAAE2C,MAAM,CAA8C,GAAGN,QAAQ;MAChG,CAAC,MAAM,IAAIF,OAAO,CAACG,UAAU,CAAC,cAAc,CAAC,EAAE;QAC7C;QACA,MAAMpC,MAAM,GAAGiC,OAAO,CAACJ,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC;QAClD5G,MAAM,CAAC4E,UAAU,CAAEI,UAAU,CAAED,MAAM,CAA8C,GAAG0C,QAAQ,CAACP,QAAQ,CAAC;MAC1G,CAAC,MAAM,IAAIF,OAAO,CAACG,UAAU,CAAC,cAAc,CAAC,EAAE;QAC7C;QACA,MAAMlC,MAAM,GAAG+B,OAAO,CAACJ,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC;QAClD5G,MAAM,CAAC4E,UAAU,CAAEM,UAAU,CAAED,MAAM,CAA8C,GAAGiC,QAAQ;MAChG,CAAC,MAAM,IAAIF,OAAO,CAACG,UAAU,CAAC,SAAS,CAAC,EAAE;QACxC;QACA,MAAMzC,IAAI,GAAGsC,OAAO,CAACJ,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;QAC3C5G,MAAM,CAACmF,YAAY,CAAET,IAAI,CAAqC,GAAGwC,QAAQ;MAC3E,CAAC,MAAM,IAAIF,OAAO,CAACG,UAAU,CAAC,SAAS,CAAC,EAAE;QACxC;QACA,MAAMzC,IAAI,GAAGsC,OAAO,CAACJ,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;QAC3C5G,MAAM,CAACoF,OAAO,CAAEV,IAAI,CAAgC,GAAGwC,QAAQ;MACjE,CAAC,MAAM,IAAIF,OAAO,CAACG,UAAU,CAAC,aAAa,CAAC,EAAE;QAC5C;QACA,MAAMzC,IAAI,GAAGsC,OAAO,CAACJ,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC;QAC/C5G,MAAM,CAACqF,WAAW,CAAEX,IAAI,CAAoC,GAAGwC,QAAQ;MACzE;IACF;IAEA,OAAOlH,MAAM;EACf;;EAEA;AACF;AACA;EACE,MAAc6C,oBAAoBA,CAAC7C,MAAoB,EAAiB;IACtE,MAAM0F,UAAU,GAAG,IAAI,CAACrF,kBAAkB,CAAC,CAAC;IAC5C,IAAI,CAACqF,UAAU,EAAE;MACf;MACA,MAAM,IAAI,CAACgC,oBAAoB,CAAC1H,MAAM,CAAC;MACvC;IACF;IAEA,MAAM2H,MAAM,GAAG,IAAI,CAACC,sBAAsB,CAAC5H,MAAM,CAAC;IAClD,MAAMxB,EAAE,CAACgC,QAAQ,CAACqD,SAAS,CAAC6B,UAAU,EAAEiC,MAAM,EAAE,OAAO,CAAC;EAC1D;;EAEA;AACF;AACA;EACE,MAAcD,oBAAoBA,CAAC1H,MAAoB,EAAiB;IACtE,MAAM0F,UAAU,GAAG/G,IAAI,CAAC+C,IAAI,CAAC,IAAI,CAACxB,WAAW,EAAE,oBAAoB,CAAC;IACpE,MAAMyH,MAAM,GAAG,IAAI,CAACC,sBAAsB,CAAC5H,MAAM,CAAC;IAClD,MAAMxB,EAAE,CAACgC,QAAQ,CAACqD,SAAS,CAAC6B,UAAU,EAAEiC,MAAM,EAAE,OAAO,CAAC;EAC1D;;EAEA;AACF;AACA;EACUC,sBAAsBA,CAAC5H,MAAoB,EAAU;IAC3D,OAAO;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB8D,IAAI,CAACC,SAAS,CAAC/D,MAAM,CAACoE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;AACtD,iBAAiBN,IAAI,CAACC,SAAS,CAAC/D,MAAM,CAAC2E,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;AACxD,oBAAoBb,IAAI,CAACC,SAAS,CAAC/D,MAAM,CAAC4E,UAAU,CAACC,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;AACzE,kBAAkBf,IAAI,CAACC,SAAS,CAAC/D,MAAM,CAAC4E,UAAU,CAACE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;AACrE,oBAAoBhB,IAAI,CAACC,SAAS,CAAC/D,MAAM,CAAC4E,UAAU,CAACI,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;AACzE,oBAAoBlB,IAAI,CAACC,SAAS,CAAC/D,MAAM,CAAC4E,UAAU,CAACM,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;AACzE,sBAAsBpB,IAAI,CAACC,SAAS,CAAC/D,MAAM,CAACmF,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC;AAClE,mBAAmBrB,IAAI,CAACC,SAAS,CAAC/D,MAAM,CAACoF,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;AAC1D,iBAAiBtB,IAAI,CAACC,SAAS,CAAC/D,MAAM,CAACqF,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5D;AACA;AACA;AACA;AACA,CAAC;EACC;;EAEA;AACF;AACA;EACE,MAAcvC,kBAAkBA,CAAC9C,MAAoB,EAAiB;IACpE,MAAM6H,OAAO,GAAGlJ,IAAI,CAAC+C,IAAI,CAAC,IAAI,CAACxB,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,YAAY,CAAC;IAC1E,MAAMa,UAAU,GAAG,IAAI,CAAC+G,oBAAoB,CAAC9H,MAAM,CAAC;;IAEpD;IACA,MAAMwB,GAAG,GAAG7C,IAAI,CAAC6E,OAAO,CAACqE,OAAO,CAAC;IACjC,IAAI,CAACrJ,EAAE,CAACmD,UAAU,CAACH,GAAG,CAAC,EAAE;MACvB,MAAMhD,EAAE,CAACgC,QAAQ,CAACiD,KAAK,CAACjC,GAAG,EAAE;QAAEkC,SAAS,EAAE;MAAK,CAAC,CAAC;IACnD;IAEA,MAAMlF,EAAE,CAACgC,QAAQ,CAACqD,SAAS,CAACgE,OAAO,EAAE9G,UAAU,EAAE,OAAO,CAAC;EAC3D;;EAEA;AACF;AACA;EACU+G,oBAAoBA,CAAC9H,MAAoB,EAAU;IACzD,IAAI+H,GAAG,GAAG,WAAW;IACrBA,GAAG,IAAI,kBAAkB;IAEzB,KAAK,MAAM,CAACR,SAAS,EAAEpD,KAAK,CAAC,IAAIvE,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAACoE,MAAM,CAAC,EAAE;MAC9D,KAAK,MAAM,CAACE,KAAK,EAAEC,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAACqC,KAAK,CAAC,EAAE;QAClD4D,GAAG,IAAI,aAAaR,SAAS,IAAIjD,KAAK,KAAKC,KAAK,KAAK;MACvD;IACF;IAEAwD,GAAG,IAAI,qBAAqB;IAC5B,KAAK,MAAM,CAACrD,IAAI,EAAEH,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAAC2E,OAAO,CAAC,EAAE;MAC1DoD,GAAG,IAAI,eAAerD,IAAI,KAAKH,KAAK,KAAK;IAC3C;IAEAwD,GAAG,IAAI,wBAAwB;IAC/B,KAAK,MAAM,CAACrD,IAAI,EAAEH,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAAC4E,UAAU,CAACE,QAAQ,CAAC,EAAE;MACtEiD,GAAG,IAAI,iBAAiBrD,IAAI,KAAKH,KAAK,KAAK;IAC7C;IAEAwD,GAAG,IAAI,2BAA2B;IAClC,KAAK,MAAM,CAACrD,IAAI,EAAEH,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAACmF,YAAY,CAAC,EAAE;MAC/D4C,GAAG,IAAI,cAAcrD,IAAI,KAAKH,KAAK,KAAK;IAC1C;IAEAwD,GAAG,IAAI,qBAAqB;IAC5B,KAAK,MAAM,CAACrD,IAAI,EAAEH,KAAK,CAAC,IAAI3E,MAAM,CAACkC,OAAO,CAAC9B,MAAM,CAACoF,OAAO,CAAC,EAAE;MAC1D2C,GAAG,IAAI,cAAcrD,IAAI,KAAKH,KAAK,KAAK;IAC1C;IAEAwD,GAAG,IAAI,KAAK;IACZ,OAAOA,GAAG;EACZ;;EAEA;AACF;AACA;EACUrF,WAAWA,CAACsF,QAAsB,EAAEpF,OAA8B,EAAgB;IACxF,OAAO;MACLwB,MAAM,EAAE;QAAE,GAAG4D,QAAQ,CAAC5D,MAAM;QAAE,GAAGxB,OAAO,CAACwB;MAAO,CAAC;MACjDO,OAAO,EAAE;QAAE,GAAGqD,QAAQ,CAACrD,OAAO;QAAE,GAAG/B,OAAO,CAAC+B;MAAQ,CAAC;MACpDC,UAAU,EAAE;QACVC,UAAU,EAAE;UAAE,GAAGmD,QAAQ,CAACpD,UAAU,CAACC,UAAU;UAAE,GAAGjC,OAAO,CAACgC,UAAU,EAAEC;QAAW,CAAC;QACpFC,QAAQ,EAAE;UAAE,GAAGkD,QAAQ,CAACpD,UAAU,CAACE,QAAQ;UAAE,GAAGlC,OAAO,CAACgC,UAAU,EAAEE;QAAS,CAAC;QAC9EE,UAAU,EAAE;UAAE,GAAGgD,QAAQ,CAACpD,UAAU,CAACI,UAAU;UAAE,GAAGpC,OAAO,CAACgC,UAAU,EAAEI;QAAW,CAAC;QACpFE,UAAU,EAAE;UAAE,GAAG8C,QAAQ,CAACpD,UAAU,CAACM,UAAU;UAAE,GAAGtC,OAAO,CAACgC,UAAU,EAAEM;QAAW;MACrF,CAAC;MACDC,YAAY,EAAE;QAAE,GAAG6C,QAAQ,CAAC7C,YAAY;QAAE,GAAGvC,OAAO,CAACuC;MAAa,CAAC;MACnEC,OAAO,EAAE;QAAE,GAAG4C,QAAQ,CAAC5C,OAAO;QAAE,GAAGxC,OAAO,CAACwC;MAAQ,CAAC;MACpDC,WAAW,EAAE;QAAE,GAAG2C,QAAQ,CAAC3C,WAAW;QAAE,GAAGzC,OAAO,CAACyC;MAAY;IACjE,CAAC;EACH;;EAEA;AACF;AACA;EACU/E,gBAAgBA,CAAA,EAAiB;IACvC,OAAO;MACL8D,MAAM,EAAE;QACN6D,OAAO,EAAE;UACP,EAAE,EAAE,SAAS;UACb,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE;QACP,CAAC;QACDC,SAAS,EAAE;UACT,EAAE,EAAE,SAAS;UACb,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE;QACP,CAAC;QACDC,MAAM,EAAE;UACN,EAAE,EAAE,SAAS;UACb,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE;QACP,CAAC;QACDC,OAAO,EAAE;UACP,EAAE,EAAE,SAAS;UACb,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE;QACP,CAAC;QACDC,OAAO,EAAE;UACP,EAAE,EAAE,SAAS;UACb,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE;QACP,CAAC;QACDC,OAAO,EAAE;UACP,EAAE,EAAE,SAAS;UACb,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE;QACP,CAAC;QACD3H,KAAK,EAAE;UACL,EAAE,EAAE,SAAS;UACb,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE;QACP,CAAC;QACD4H,IAAI,EAAE;UACJ,EAAE,EAAE,SAAS;UACb,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE,SAAS;UACd,GAAG,EAAE;QACP;MACF,CAAC;MACD5D,OAAO,EAAE;QACP6D,EAAE,EAAE,SAAS;QACbC,EAAE,EAAE,QAAQ;QACZC,EAAE,EAAE,MAAM;QACVC,EAAE,EAAE,QAAQ;QACZC,EAAE,EAAE,MAAM;QACV,KAAK,EAAE,MAAM;QACb,KAAK,EAAE,MAAM;QACb,KAAK,EAAE;MACT,CAAC;MACDhE,UAAU,EAAE;QACVC,UAAU,EAAE;UACVgE,IAAI,EAAE,sCAAsC;UAC5CC,KAAK,EAAE,0BAA0B;UACjCC,IAAI,EAAE;QACR,CAAC;QACDjE,QAAQ,EAAE;UACR0D,EAAE,EAAE,SAAS;UACbC,EAAE,EAAE,UAAU;UACdO,IAAI,EAAE,MAAM;UACZL,EAAE,EAAE,UAAU;UACdC,EAAE,EAAE,SAAS;UACb,KAAK,EAAE,QAAQ;UACf,KAAK,EAAE,UAAU;UACjB,KAAK,EAAE,SAAS;UAChB,KAAK,EAAE;QACT,CAAC;QACD5D,UAAU,EAAE;UACViE,IAAI,EAAE,GAAG;UACTC,KAAK,EAAE,GAAG;UACVC,MAAM,EAAE,GAAG;UACXC,MAAM,EAAE,GAAG;UACXC,QAAQ,EAAE,GAAG;UACbC,IAAI,EAAE,GAAG;UACTC,SAAS,EAAE;QACb,CAAC;QACDrE,UAAU,EAAE;UACVsE,KAAK,EAAE,MAAM;UACbL,MAAM,EAAE,KAAK;UACbM,OAAO,EAAE,MAAM;UACfC,KAAK,EAAE;QACT;MACF,CAAC;MACDvE,YAAY,EAAE;QACZwE,IAAI,EAAE,GAAG;QACTlB,EAAE,EAAE,UAAU;QACdC,EAAE,EAAE,UAAU;QACdC,EAAE,EAAE,QAAQ;QACZC,EAAE,EAAE,SAAS;QACb,KAAK,EAAE,MAAM;QACbgB,IAAI,EAAE;MACR,CAAC;MACDxE,OAAO,EAAE;QACPqD,EAAE,EAAE,+BAA+B;QACnCC,EAAE,EAAE,iCAAiC;QACrCC,EAAE,EAAE,mCAAmC;QACvCC,EAAE,EAAE,mCAAmC;QACvC,KAAK,EAAE,qCAAqC;QAC5CiB,KAAK,EAAE,qCAAqC;QAC5CF,IAAI,EAAE;MACR,CAAC;MACDtE,WAAW,EAAE;QACXoD,EAAE,EAAE,OAAO;QACXC,EAAE,EAAE,OAAO;QACXC,EAAE,EAAE,QAAQ;QACZC,EAAE,EAAE,QAAQ;QACZ,KAAK,EAAE;MACT;IACF,CAAC;EACH;;EAEA;AACF;AACA;EACUvE,UAAUA,CAACsC,GAAW,EAAU;IACtC,OAAOA,GAAG,CAACmD,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGpD,GAAG,CAACqD,KAAK,CAAC,CAAC,CAAC;EACnD;AACF;AAACC,OAAA,CAAAlK,kBAAA,GAAAA,kBAAA","ignoreList":[]}