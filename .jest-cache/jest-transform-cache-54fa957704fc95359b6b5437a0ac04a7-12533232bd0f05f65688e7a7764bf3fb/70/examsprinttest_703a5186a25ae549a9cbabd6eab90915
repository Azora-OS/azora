5a38780a686e770a7799e6bcd4afed63
"use strict";

// Mock the Supabase client
_getJestObj().mock('../services/supabase-client', () => ({
  UserDB: {
    getByType: jest.fn().mockResolvedValue([{
      id: 'student-001',
      name: 'Amara Johnson',
      email: 'amara.johnson@example.com',
      user_type: 'student',
      total_earned: 1200,
      country: 'Nigeria',
      language: 'English',
      metadata: {
        interests: ['AI', 'Data Science'],
        learningStyle: 'visual',
        institution: 'University of Lagos'
      },
      created_at: '2025-01-15T10:30:00Z',
      updated_at: '2025-10-20T14:45:00Z'
    }, {
      id: 'student-002',
      name: 'Kwame Asante',
      email: 'kwame.asante@example.com',
      user_type: 'student',
      total_earned: 850,
      country: 'Ghana',
      language: 'English',
      metadata: {
        interests: ['Blockchain', 'Cybersecurity'],
        learningStyle: 'hands-on',
        institution: 'Kwame Nkrumah University'
      },
      created_at: '2025-03-22T09:15:00Z',
      updated_at: '2025-10-18T16:20:00Z'
    }])
  }
}));

// Mock the Elara integration service
_getJestObj().mock('../services/elara-integration-service', () => ({
  elaraIntegration: {
    registerUser: jest.fn(),
    logEvent: jest.fn()
  }
}));

// Mock axios
_getJestObj().mock('axios', () => ({
  post: jest.fn().mockResolvedValue({
    data: {
      campaign: {
        id: 'campaign_123',
        name: 'Global University Examination Sprint',
        startTime: '2025-11-03T10:00:00Z',
        totalRecipients: 2,
        sent: 2,
        failed: 0,
        results: [{
          email: 'amara.johnson@example.com',
          status: 'sent',
          messageId: 'msg_123'
        }, {
          email: 'kwame.asante@example.com',
          status: 'sent',
          messageId: 'msg_456'
        }]
      }
    }
  })
}));
var _launchExamSprint = require("../scripts/launch-exam-sprint");
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
/**
 * AZORA OS - Exam Sprint Launcher Tests
 */
describe('Exam Sprint Launcher', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });
  it('should launch exam sprint successfully', async () => {
    // This test would require more complex mocking in a real implementation
    // For now, we'll just verify the function exists and can be called
    expect(_launchExamSprint.launchExamSprint).toBeDefined();
  });
  it('should register students with Elara', async () => {
    // This would be tested more thoroughly with proper mocking
    expect(true).toBe(true);
  });
  it('should send personalized emails', async () => {
    // This would be tested more thoroughly with proper mocking
    expect(true).toBe(true);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJVc2VyREIiLCJnZXRCeVR5cGUiLCJqZXN0IiwiZm4iLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImlkIiwibmFtZSIsImVtYWlsIiwidXNlcl90eXBlIiwidG90YWxfZWFybmVkIiwiY291bnRyeSIsImxhbmd1YWdlIiwibWV0YWRhdGEiLCJpbnRlcmVzdHMiLCJsZWFybmluZ1N0eWxlIiwiaW5zdGl0dXRpb24iLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsImVsYXJhSW50ZWdyYXRpb24iLCJyZWdpc3RlclVzZXIiLCJsb2dFdmVudCIsInBvc3QiLCJkYXRhIiwiY2FtcGFpZ24iLCJzdGFydFRpbWUiLCJ0b3RhbFJlY2lwaWVudHMiLCJzZW50IiwiZmFpbGVkIiwicmVzdWx0cyIsInN0YXR1cyIsIm1lc3NhZ2VJZCIsIl9sYXVuY2hFeGFtU3ByaW50IiwicmVxdWlyZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsImV4cGVjdCIsImxhdW5jaEV4YW1TcHJpbnQiLCJ0b0JlRGVmaW5lZCIsInRvQmUiXSwic291cmNlcyI6WyJleGFtLXNwcmludC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBWk9SQSBPUyAtIEV4YW0gU3ByaW50IExhdW5jaGVyIFRlc3RzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgbGF1bmNoRXhhbVNwcmludCB9IGZyb20gJy4uL3NjcmlwdHMvbGF1bmNoLWV4YW0tc3ByaW50JztcclxuXHJcbi8vIE1vY2sgdGhlIFN1cGFiYXNlIGNsaWVudFxyXG5qZXN0Lm1vY2soJy4uL3NlcnZpY2VzL3N1cGFiYXNlLWNsaWVudCcsICgpID0+ICh7XHJcbiAgVXNlckRCOiB7XHJcbiAgICBnZXRCeVR5cGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ3N0dWRlbnQtMDAxJyxcclxuICAgICAgICBuYW1lOiAnQW1hcmEgSm9obnNvbicsXHJcbiAgICAgICAgZW1haWw6ICdhbWFyYS5qb2huc29uQGV4YW1wbGUuY29tJyxcclxuICAgICAgICB1c2VyX3R5cGU6ICdzdHVkZW50JyxcclxuICAgICAgICB0b3RhbF9lYXJuZWQ6IDEyMDAsXHJcbiAgICAgICAgY291bnRyeTogJ05pZ2VyaWEnLFxyXG4gICAgICAgIGxhbmd1YWdlOiAnRW5nbGlzaCcsXHJcbiAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgIGludGVyZXN0czogWydBSScsICdEYXRhIFNjaWVuY2UnXSxcclxuICAgICAgICAgIGxlYXJuaW5nU3R5bGU6ICd2aXN1YWwnLFxyXG4gICAgICAgICAgaW5zdGl0dXRpb246ICdVbml2ZXJzaXR5IG9mIExhZ29zJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTAxLTE1VDEwOjMwOjAwWicsXHJcbiAgICAgICAgdXBkYXRlZF9hdDogJzIwMjUtMTAtMjBUMTQ6NDU6MDBaJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnc3R1ZGVudC0wMDInLFxyXG4gICAgICAgIG5hbWU6ICdLd2FtZSBBc2FudGUnLFxyXG4gICAgICAgIGVtYWlsOiAna3dhbWUuYXNhbnRlQGV4YW1wbGUuY29tJyxcclxuICAgICAgICB1c2VyX3R5cGU6ICdzdHVkZW50JyxcclxuICAgICAgICB0b3RhbF9lYXJuZWQ6IDg1MCxcclxuICAgICAgICBjb3VudHJ5OiAnR2hhbmEnLFxyXG4gICAgICAgIGxhbmd1YWdlOiAnRW5nbGlzaCcsXHJcbiAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgIGludGVyZXN0czogWydCbG9ja2NoYWluJywgJ0N5YmVyc2VjdXJpdHknXSxcclxuICAgICAgICAgIGxlYXJuaW5nU3R5bGU6ICdoYW5kcy1vbicsXHJcbiAgICAgICAgICBpbnN0aXR1dGlvbjogJ0t3YW1lIE5rcnVtYWggVW5pdmVyc2l0eScsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wMy0yMlQwOToxNTowMFonLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI1LTEwLTE4VDE2OjIwOjAwWicsXHJcbiAgICAgIH0sXHJcbiAgICBdKSxcclxuICB9LFxyXG59KSk7XHJcblxyXG4vLyBNb2NrIHRoZSBFbGFyYSBpbnRlZ3JhdGlvbiBzZXJ2aWNlXHJcbmplc3QubW9jaygnLi4vc2VydmljZXMvZWxhcmEtaW50ZWdyYXRpb24tc2VydmljZScsICgpID0+ICh7XHJcbiAgZWxhcmFJbnRlZ3JhdGlvbjoge1xyXG4gICAgcmVnaXN0ZXJVc2VyOiBqZXN0LmZuKCksXHJcbiAgICBsb2dFdmVudDogamVzdC5mbigpLFxyXG4gIH0sXHJcbn0pKTtcclxuXHJcbi8vIE1vY2sgYXhpb3NcclxuamVzdC5tb2NrKCdheGlvcycsICgpID0+ICh7XHJcbiAgcG9zdDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgIGRhdGE6IHtcclxuICAgICAgY2FtcGFpZ246IHtcclxuICAgICAgICBpZDogJ2NhbXBhaWduXzEyMycsXHJcbiAgICAgICAgbmFtZTogJ0dsb2JhbCBVbml2ZXJzaXR5IEV4YW1pbmF0aW9uIFNwcmludCcsXHJcbiAgICAgICAgc3RhcnRUaW1lOiAnMjAyNS0xMS0wM1QxMDowMDowMFonLFxyXG4gICAgICAgIHRvdGFsUmVjaXBpZW50czogMixcclxuICAgICAgICBzZW50OiAyLFxyXG4gICAgICAgIGZhaWxlZDogMCxcclxuICAgICAgICByZXN1bHRzOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGVtYWlsOiAnYW1hcmEuam9obnNvbkBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgICAgIHN0YXR1czogJ3NlbnQnLFxyXG4gICAgICAgICAgICBtZXNzYWdlSWQ6ICdtc2dfMTIzJyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGVtYWlsOiAna3dhbWUuYXNhbnRlQGV4YW1wbGUuY29tJyxcclxuICAgICAgICAgICAgc3RhdHVzOiAnc2VudCcsXHJcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogJ21zZ180NTYnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9KSxcclxufSkpO1xyXG5cclxuZGVzY3JpYmUoJ0V4YW0gU3ByaW50IExhdW5jaGVyJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgbGF1bmNoIGV4YW0gc3ByaW50IHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcclxuICAgIC8vIFRoaXMgdGVzdCB3b3VsZCByZXF1aXJlIG1vcmUgY29tcGxleCBtb2NraW5nIGluIGEgcmVhbCBpbXBsZW1lbnRhdGlvblxyXG4gICAgLy8gRm9yIG5vdywgd2UnbGwganVzdCB2ZXJpZnkgdGhlIGZ1bmN0aW9uIGV4aXN0cyBhbmQgY2FuIGJlIGNhbGxlZFxyXG4gICAgZXhwZWN0KGxhdW5jaEV4YW1TcHJpbnQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgcmVnaXN0ZXIgc3R1ZGVudHMgd2l0aCBFbGFyYScsIGFzeW5jICgpID0+IHtcclxuICAgIC8vIFRoaXMgd291bGQgYmUgdGVzdGVkIG1vcmUgdGhvcm91Z2hseSB3aXRoIHByb3BlciBtb2NraW5nXHJcbiAgICBleHBlY3QodHJ1ZSkudG9CZSh0cnVlKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBzZW5kIHBlcnNvbmFsaXplZCBlbWFpbHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAvLyBUaGlzIHdvdWxkIGJlIHRlc3RlZCBtb3JlIHRob3JvdWdobHkgd2l0aCBwcm9wZXIgbW9ja2luZ1xyXG4gICAgZXhwZWN0KHRydWUpLnRvQmUodHJ1ZSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4i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