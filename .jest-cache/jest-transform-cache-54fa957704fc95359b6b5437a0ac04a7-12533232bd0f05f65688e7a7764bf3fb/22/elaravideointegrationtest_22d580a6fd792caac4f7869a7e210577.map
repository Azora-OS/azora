{"version":3,"names":["_getJestObj","mock","elaraIntegration","logEvent","jest","fn","registerUser","getUserContext","_elaraIntegrationService","require","_unifiedVideoPlatform","describe","service","beforeEach","UnifiedVideoPlatformService","defaultVideoPlatformConfig","afterEach","cleanup","it","progress","userId","videoId","platform","completed","trackProgress","expect","toHaveBeenCalledWith","type","data","recommendations","getRecommendations","recommendationCount","length","completedVideoCount","syncContent","platformCount","contentCount","any","Number","userContext","id","email","name","role","preferences","learningStyle","communicationPreference"],"sources":["elara-video-integration.test.ts"],"sourcesContent":["/**\r\n * AZORA OS - Elara Video Platform Integration Tests\r\n */\r\n\r\nimport { elaraIntegration } from '../services/elara-integration-service';\r\nimport {\r\n  UnifiedVideoPlatformService,\r\n  defaultVideoPlatformConfig,\r\n} from '../services/unified-video-platform';\r\n\r\n// Mock the elaraIntegration to avoid external dependencies\r\njest.mock('../services/elara-integration-service', () => ({\r\n  elaraIntegration: {\r\n    logEvent: jest.fn(),\r\n    registerUser: jest.fn(),\r\n    getUserContext: jest.fn(),\r\n  },\r\n}));\r\n\r\ndescribe('Elara Video Platform Integration', () => {\r\n  let service: UnifiedVideoPlatformService;\r\n\r\n  beforeEach(() => {\r\n    service = new UnifiedVideoPlatformService(defaultVideoPlatformConfig);\r\n  });\r\n\r\n  afterEach(async () => {\r\n    await service.cleanup();\r\n  });\r\n\r\n  describe('Elara Event Logging', () => {\r\n    it('should log progress updates to Elara', async () => {\r\n      const progress = {\r\n        userId: 'test-user',\r\n        videoId: 'yt-sample-001',\r\n        platform: 'youtube',\r\n        progress: 75,\r\n        completed: false,\r\n      };\r\n\r\n      await service.trackProgress(progress);\r\n\r\n      expect(elaraIntegration.logEvent).toHaveBeenCalledWith({\r\n        type: 'video-progress-updated',\r\n        data: {\r\n          userId: 'test-user',\r\n          videoId: 'yt-sample-001',\r\n          platform: 'youtube',\r\n          progress: 75,\r\n          completed: false,\r\n        },\r\n        userId: 'test-user',\r\n      });\r\n    });\r\n\r\n    it('should log recommendations to Elara', () => {\r\n      const recommendations = service.getRecommendations('test-user');\r\n\r\n      expect(elaraIntegration.logEvent).toHaveBeenCalledWith({\r\n        type: 'video-recommendations-generated',\r\n        data: {\r\n          userId: 'test-user',\r\n          recommendationCount: recommendations.length,\r\n          completedVideoCount: 0,\r\n        },\r\n        userId: 'test-user',\r\n      });\r\n    });\r\n\r\n    it('should log content sync to Elara', async () => {\r\n      await service.syncContent();\r\n\r\n      expect(elaraIntegration.logEvent).toHaveBeenCalledWith({\r\n        type: 'video-content-synced',\r\n        data: {\r\n          platformCount: 0, // No platforms configured in default config\r\n          contentCount: expect.any(Number),\r\n        },\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('User Registration with Elara', () => {\r\n    it('should register users with Elara', () => {\r\n      const userContext = {\r\n        id: 'test-user',\r\n        email: 'test@example.com',\r\n        name: 'Test User',\r\n        role: 'student',\r\n        preferences: {\r\n          learningStyle: 'visual',\r\n          communicationPreference: 'email',\r\n        },\r\n      };\r\n\r\n      elaraIntegration.registerUser(userContext);\r\n\r\n      expect(elaraIntegration.registerUser).toHaveBeenCalledWith(userContext);\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}