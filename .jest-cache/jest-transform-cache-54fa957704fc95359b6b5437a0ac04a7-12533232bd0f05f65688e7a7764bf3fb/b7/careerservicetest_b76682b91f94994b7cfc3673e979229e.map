{"version":3,"names":["_getJestObj","mock","PrismaClient","jest","fn","user","findUnique","update","_career","require","_client","describe","mockPrisma","beforeEach","clearAllMocks","it","mockStudent","id","firstName","lastName","enrollments","course","title","outcomes","mockResolvedValue","profile","careerService","generateCareerProfile","expect","toHaveProperty","certifications","toContain","rejects","toThrow","getCareerProfile","toBeDefined","studentId","toBe","toBeNull","matches","matchStudentWithJobs","Array","isArray","length","toBeGreaterThan","opportunities","getJobOpportunities","coaching","getCareerCoaching","topics","topic","trackEmploymentOutcome","resolves","not"],"sources":["career.service.test.ts"],"sourcesContent":["import { careerService } from '../career.service';\r\nimport { PrismaClient } from '@prisma/client';\r\n\r\njest.mock('@prisma/client', () => ({\r\n  PrismaClient: jest.fn(() => ({\r\n    user: {\r\n      findUnique: jest.fn(),\r\n      update: jest.fn(),\r\n    },\r\n  })),\r\n}));\r\n\r\ndescribe('CareerService', () => {\r\n  let mockPrisma: any;\r\n\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    mockPrisma = new PrismaClient();\r\n  });\r\n\r\n  describe('generateCareerProfile', () => {\r\n    it('should generate career profile from completed courses', async () => {\r\n      const mockStudent = {\r\n        id: 'student-1',\r\n        firstName: 'John',\r\n        lastName: 'Doe',\r\n        enrollments: [\r\n          {\r\n            course: { title: 'Advanced TypeScript' },\r\n            outcomes: [],\r\n          },\r\n          {\r\n            course: { title: 'React Mastery' },\r\n            outcomes: [],\r\n          },\r\n        ],\r\n      };\r\n\r\n      mockPrisma.user.findUnique.mockResolvedValue(mockStudent);\r\n      mockPrisma.user.update.mockResolvedValue(mockStudent);\r\n\r\n      const profile = await careerService.generateCareerProfile('student-1');\r\n\r\n      expect(profile).toHaveProperty('studentId', 'student-1');\r\n      expect(profile).toHaveProperty('skills');\r\n      expect(profile).toHaveProperty('certifications');\r\n      expect(profile.certifications).toContain('Advanced TypeScript');\r\n    });\r\n\r\n    it('should throw error if student not found', async () => {\r\n      mockPrisma.user.findUnique.mockResolvedValue(null);\r\n\r\n      await expect(careerService.generateCareerProfile('invalid-id')).rejects.toThrow(\r\n        'Student not found'\r\n      );\r\n    });\r\n  });\r\n\r\n  describe('getCareerProfile', () => {\r\n    it('should retrieve career profile', async () => {\r\n      const mockStudent = {\r\n        id: 'student-1',\r\n        firstName: 'Jane',\r\n        lastName: 'Smith',\r\n        enrollments: [],\r\n      };\r\n\r\n      mockPrisma.user.findUnique.mockResolvedValue(mockStudent);\r\n      mockPrisma.user.update.mockResolvedValue(mockStudent);\r\n\r\n      const profile = await careerService.getCareerProfile('student-1');\r\n\r\n      expect(profile).toBeDefined();\r\n      expect(profile?.studentId).toBe('student-1');\r\n    });\r\n\r\n    it('should return null if student not found', async () => {\r\n      mockPrisma.user.findUnique.mockResolvedValue(null);\r\n\r\n      const profile = await careerService.getCareerProfile('invalid-id');\r\n\r\n      expect(profile).toBeNull();\r\n    });\r\n  });\r\n\r\n  describe('matchStudentWithJobs', () => {\r\n    it('should match student with job opportunities', async () => {\r\n      const mockStudent = {\r\n        id: 'student-1',\r\n        firstName: 'John',\r\n        lastName: 'Doe',\r\n        enrollments: [\r\n          {\r\n            course: { title: 'TypeScript Fundamentals' },\r\n            outcomes: [],\r\n          },\r\n        ],\r\n      };\r\n\r\n      mockPrisma.user.findUnique.mockResolvedValue(mockStudent);\r\n      mockPrisma.user.update.mockResolvedValue(mockStudent);\r\n\r\n      const matches = await careerService.matchStudentWithJobs('student-1');\r\n\r\n      expect(Array.isArray(matches)).toBe(true);\r\n      expect(matches.length).toBeGreaterThan(0);\r\n      expect(matches[0]).toHaveProperty('matchScore');\r\n    });\r\n  });\r\n\r\n  describe('getJobOpportunities', () => {\r\n    it('should return job opportunities for student', async () => {\r\n      const mockStudent = {\r\n        id: 'student-1',\r\n        firstName: 'John',\r\n        lastName: 'Doe',\r\n        enrollments: [],\r\n      };\r\n\r\n      mockPrisma.user.findUnique.mockResolvedValue(mockStudent);\r\n      mockPrisma.user.update.mockResolvedValue(mockStudent);\r\n\r\n      const opportunities = await careerService.getJobOpportunities('student-1');\r\n\r\n      expect(Array.isArray(opportunities)).toBe(true);\r\n    });\r\n  });\r\n\r\n  describe('getCareerCoaching', () => {\r\n    it('should provide career coaching', async () => {\r\n      const coaching = await careerService.getCareerCoaching('student-1', 'resume');\r\n\r\n      expect(typeof coaching).toBe('string');\r\n      expect(coaching.length).toBeGreaterThan(0);\r\n    });\r\n\r\n    it('should support multiple coaching topics', async () => {\r\n      const topics = ['resume', 'interview', 'networking', 'salary', 'career-path'];\r\n\r\n      for (const topic of topics) {\r\n        const coaching = await careerService.getCareerCoaching('student-1', topic);\r\n        expect(coaching).toBeDefined();\r\n      }\r\n    });\r\n  });\r\n\r\n  describe('trackEmploymentOutcome', () => {\r\n    it('should track employment outcome', async () => {\r\n      await expect(\r\n        careerService.trackEmploymentOutcome('student-1', 'job-1', true, 120000)\r\n      ).resolves.not.toThrow();\r\n    });\r\n  });\r\n});\r\n"],"mappings":";;AAGAA,WAAA,GAAKC,IAAI,CAAC,gBAAgB,EAAE,OAAO;EACjCC,YAAY,EAAEC,IAAI,CAACC,EAAE,CAAC,OAAO;IAC3BC,IAAI,EAAE;MACJC,UAAU,EAAEH,IAAI,CAACC,EAAE,CAAC,CAAC;MACrBG,MAAM,EAAEJ,IAAI,CAACC,EAAE,CAAC;IAClB;EACF,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC;AAVH,IAAAI,OAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AAA8C,SAAAT,YAAA;EAAA;IAAAG;EAAA,IAAAM,OAAA;EAAAT,WAAA,GAAAA,CAAA,KAAAG,IAAA;EAAA,OAAAA,IAAA;AAAA;AAW9CQ,QAAQ,CAAC,eAAe,EAAE,MAAM;EAC9B,IAAIC,UAAe;EAEnBC,UAAU,CAAC,MAAM;IACfV,IAAI,CAACW,aAAa,CAAC,CAAC;IACpBF,UAAU,GAAG,IAAIV,oBAAY,CAAC,CAAC;EACjC,CAAC,CAAC;EAEFS,QAAQ,CAAC,uBAAuB,EAAE,MAAM;IACtCI,EAAE,CAAC,uDAAuD,EAAE,YAAY;MACtE,MAAMC,WAAW,GAAG;QAClBC,EAAE,EAAE,WAAW;QACfC,SAAS,EAAE,MAAM;QACjBC,QAAQ,EAAE,KAAK;QACfC,WAAW,EAAE,CACX;UACEC,MAAM,EAAE;YAAEC,KAAK,EAAE;UAAsB,CAAC;UACxCC,QAAQ,EAAE;QACZ,CAAC,EACD;UACEF,MAAM,EAAE;YAAEC,KAAK,EAAE;UAAgB,CAAC;UAClCC,QAAQ,EAAE;QACZ,CAAC;MAEL,CAAC;MAEDX,UAAU,CAACP,IAAI,CAACC,UAAU,CAACkB,iBAAiB,CAACR,WAAW,CAAC;MACzDJ,UAAU,CAACP,IAAI,CAACE,MAAM,CAACiB,iBAAiB,CAACR,WAAW,CAAC;MAErD,MAAMS,OAAO,GAAG,MAAMC,qBAAa,CAACC,qBAAqB,CAAC,WAAW,CAAC;MAEtEC,MAAM,CAACH,OAAO,CAAC,CAACI,cAAc,CAAC,WAAW,EAAE,WAAW,CAAC;MACxDD,MAAM,CAACH,OAAO,CAAC,CAACI,cAAc,CAAC,QAAQ,CAAC;MACxCD,MAAM,CAACH,OAAO,CAAC,CAACI,cAAc,CAAC,gBAAgB,CAAC;MAChDD,MAAM,CAACH,OAAO,CAACK,cAAc,CAAC,CAACC,SAAS,CAAC,qBAAqB,CAAC;IACjE,CAAC,CAAC;IAEFhB,EAAE,CAAC,yCAAyC,EAAE,YAAY;MACxDH,UAAU,CAACP,IAAI,CAACC,UAAU,CAACkB,iBAAiB,CAAC,IAAI,CAAC;MAElD,MAAMI,MAAM,CAACF,qBAAa,CAACC,qBAAqB,CAAC,YAAY,CAAC,CAAC,CAACK,OAAO,CAACC,OAAO,CAC7E,mBACF,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFtB,QAAQ,CAAC,kBAAkB,EAAE,MAAM;IACjCI,EAAE,CAAC,gCAAgC,EAAE,YAAY;MAC/C,MAAMC,WAAW,GAAG;QAClBC,EAAE,EAAE,WAAW;QACfC,SAAS,EAAE,MAAM;QACjBC,QAAQ,EAAE,OAAO;QACjBC,WAAW,EAAE;MACf,CAAC;MAEDR,UAAU,CAACP,IAAI,CAACC,UAAU,CAACkB,iBAAiB,CAACR,WAAW,CAAC;MACzDJ,UAAU,CAACP,IAAI,CAACE,MAAM,CAACiB,iBAAiB,CAACR,WAAW,CAAC;MAErD,MAAMS,OAAO,GAAG,MAAMC,qBAAa,CAACQ,gBAAgB,CAAC,WAAW,CAAC;MAEjEN,MAAM,CAACH,OAAO,CAAC,CAACU,WAAW,CAAC,CAAC;MAC7BP,MAAM,CAACH,OAAO,EAAEW,SAAS,CAAC,CAACC,IAAI,CAAC,WAAW,CAAC;IAC9C,CAAC,CAAC;IAEFtB,EAAE,CAAC,yCAAyC,EAAE,YAAY;MACxDH,UAAU,CAACP,IAAI,CAACC,UAAU,CAACkB,iBAAiB,CAAC,IAAI,CAAC;MAElD,MAAMC,OAAO,GAAG,MAAMC,qBAAa,CAACQ,gBAAgB,CAAC,YAAY,CAAC;MAElEN,MAAM,CAACH,OAAO,CAAC,CAACa,QAAQ,CAAC,CAAC;IAC5B,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF3B,QAAQ,CAAC,sBAAsB,EAAE,MAAM;IACrCI,EAAE,CAAC,6CAA6C,EAAE,YAAY;MAC5D,MAAMC,WAAW,GAAG;QAClBC,EAAE,EAAE,WAAW;QACfC,SAAS,EAAE,MAAM;QACjBC,QAAQ,EAAE,KAAK;QACfC,WAAW,EAAE,CACX;UACEC,MAAM,EAAE;YAAEC,KAAK,EAAE;UAA0B,CAAC;UAC5CC,QAAQ,EAAE;QACZ,CAAC;MAEL,CAAC;MAEDX,UAAU,CAACP,IAAI,CAACC,UAAU,CAACkB,iBAAiB,CAACR,WAAW,CAAC;MACzDJ,UAAU,CAACP,IAAI,CAACE,MAAM,CAACiB,iBAAiB,CAACR,WAAW,CAAC;MAErD,MAAMuB,OAAO,GAAG,MAAMb,qBAAa,CAACc,oBAAoB,CAAC,WAAW,CAAC;MAErEZ,MAAM,CAACa,KAAK,CAACC,OAAO,CAACH,OAAO,CAAC,CAAC,CAACF,IAAI,CAAC,IAAI,CAAC;MACzCT,MAAM,CAACW,OAAO,CAACI,MAAM,CAAC,CAACC,eAAe,CAAC,CAAC,CAAC;MACzChB,MAAM,CAACW,OAAO,CAAC,CAAC,CAAC,CAAC,CAACV,cAAc,CAAC,YAAY,CAAC;IACjD,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFlB,QAAQ,CAAC,qBAAqB,EAAE,MAAM;IACpCI,EAAE,CAAC,6CAA6C,EAAE,YAAY;MAC5D,MAAMC,WAAW,GAAG;QAClBC,EAAE,EAAE,WAAW;QACfC,SAAS,EAAE,MAAM;QACjBC,QAAQ,EAAE,KAAK;QACfC,WAAW,EAAE;MACf,CAAC;MAEDR,UAAU,CAACP,IAAI,CAACC,UAAU,CAACkB,iBAAiB,CAACR,WAAW,CAAC;MACzDJ,UAAU,CAACP,IAAI,CAACE,MAAM,CAACiB,iBAAiB,CAACR,WAAW,CAAC;MAErD,MAAM6B,aAAa,GAAG,MAAMnB,qBAAa,CAACoB,mBAAmB,CAAC,WAAW,CAAC;MAE1ElB,MAAM,CAACa,KAAK,CAACC,OAAO,CAACG,aAAa,CAAC,CAAC,CAACR,IAAI,CAAC,IAAI,CAAC;IACjD,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF1B,QAAQ,CAAC,mBAAmB,EAAE,MAAM;IAClCI,EAAE,CAAC,gCAAgC,EAAE,YAAY;MAC/C,MAAMgC,QAAQ,GAAG,MAAMrB,qBAAa,CAACsB,iBAAiB,CAAC,WAAW,EAAE,QAAQ,CAAC;MAE7EpB,MAAM,CAAC,OAAOmB,QAAQ,CAAC,CAACV,IAAI,CAAC,QAAQ,CAAC;MACtCT,MAAM,CAACmB,QAAQ,CAACJ,MAAM,CAAC,CAACC,eAAe,CAAC,CAAC,CAAC;IAC5C,CAAC,CAAC;IAEF7B,EAAE,CAAC,yCAAyC,EAAE,YAAY;MACxD,MAAMkC,MAAM,GAAG,CAAC,QAAQ,EAAE,WAAW,EAAE,YAAY,EAAE,QAAQ,EAAE,aAAa,CAAC;MAE7E,KAAK,MAAMC,KAAK,IAAID,MAAM,EAAE;QAC1B,MAAMF,QAAQ,GAAG,MAAMrB,qBAAa,CAACsB,iBAAiB,CAAC,WAAW,EAAEE,KAAK,CAAC;QAC1EtB,MAAM,CAACmB,QAAQ,CAAC,CAACZ,WAAW,CAAC,CAAC;MAChC;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFxB,QAAQ,CAAC,wBAAwB,EAAE,MAAM;IACvCI,EAAE,CAAC,iCAAiC,EAAE,YAAY;MAChD,MAAMa,MAAM,CACVF,qBAAa,CAACyB,sBAAsB,CAAC,WAAW,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,CACzE,CAAC,CAACC,QAAQ,CAACC,GAAG,CAACpB,OAAO,CAAC,CAAC;IAC1B,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}