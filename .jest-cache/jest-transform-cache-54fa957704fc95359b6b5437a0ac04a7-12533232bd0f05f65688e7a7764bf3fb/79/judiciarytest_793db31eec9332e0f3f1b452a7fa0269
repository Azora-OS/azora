e0d191a4e1292a85f8b12732e121e556
"use strict";

const request = require('supertest');
const app = require('../index.js');
describe('Azora Judiciary Service', () => {
  // Health check test
  describe('GET /health', () => {
    it('should return health status', async () => {
      const response = await request(app).get('/health').expect(200);
      expect(response.body.status).toBe('healthy');
      expect(response.body.service).toBe('azora-judiciary-service');
    });
  });

  // Get all legal cases test
  describe('GET /api/cases', () => {
    it('should return all legal cases', async () => {
      const response = await request(app).get('/api/cases').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
      expect(response.body.count).toBeGreaterThanOrEqual(0);
    });
  });

  // Get specific legal case test
  describe('GET /api/cases/:caseId', () => {
    it('should return specific legal case', async () => {
      const response = await request(app).get('/api/cases/legal_1').expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.id).toBe('legal_1');
    });
    it('should return 404 for non-existent case', async () => {
      const response = await request(app).get('/api/cases/non-existent').expect(404);
      expect(response.body.error).toBe('Legal case not found');
    });
  });

  // File a new legal case test
  describe('POST /api/cases', () => {
    it('should file a new legal case', async () => {
      const caseData = {
        title: 'New Contract Dispute',
        type: 'civil',
        description: 'Dispute regarding contract terms',
        priority: 'high',
        parties: ['Party X', 'Party Y']
      };
      const response = await request(app).post('/api/cases').send(caseData).expect(201);
      expect(response.body.success).toBe(true);
      expect(response.body.data.title).toBe('New Contract Dispute');
      expect(response.body.data.type).toBe('civil');
    });
    it('should return 400 for missing required fields', async () => {
      const caseData = {
        title: 'New Case',
        type: 'civil'
        // Missing description
      };
      const response = await request(app).post('/api/cases').send(caseData).expect(400);
      expect(response.body.error).toBe('Title, type, and description are required');
    });
  });

  // Update legal case status test
  describe('PUT /api/cases/:caseId', () => {
    let caseId;
    beforeAll(async () => {
      // Create a case first
      const caseData = {
        title: 'Test Case',
        type: 'administrative',
        description: 'Test case for updating'
      };
      const response = await request(app).post('/api/cases').send(caseData);
      caseId = response.body.data.id;
    });
    it('should update legal case status', async () => {
      const updateData = {
        status: 'in_progress',
        resolution: 'Parties are negotiating',
        priority: 'high'
      };
      const response = await request(app).put(`/api/cases/${caseId}`).send(updateData).expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.status).toBe('in_progress');
      expect(response.body.data.resolution).toBe('Parties are negotiating');
      expect(response.body.data.priority).toBe('high');
    });
    it('should return 404 for non-existent case', async () => {
      const updateData = {
        status: 'resolved'
      };
      const response = await request(app).put('/api/cases/non-existent').send(updateData).expect(404);
      expect(response.body.error).toBe('Legal case not found');
    });
  });

  // Get all legal documents test
  describe('GET /api/documents', () => {
    it('should return all legal documents', async () => {
      const response = await request(app).get('/api/documents').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
      expect(response.body.count).toBeGreaterThanOrEqual(0);
    });
  });

  // Get specific legal document test
  describe('GET /api/documents/:documentId', () => {
    it('should return specific legal document', async () => {
      const response = await request(app).get('/api/documents/doc_1').expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.id).toBe('doc_1');
    });
    it('should return 404 for non-existent document', async () => {
      const response = await request(app).get('/api/documents/non-existent').expect(404);
      expect(response.body.error).toBe('Legal document not found');
    });
  });

  // Upload a new legal document test
  describe('POST /api/documents', () => {
    it('should upload a new legal document', async () => {
      const documentData = {
        title: 'New Agreement',
        type: 'contract',
        version: '1.0',
        content: 'This is the content of the new agreement'
      };
      const response = await request(app).post('/api/documents').send(documentData).expect(201);
      expect(response.body.success).toBe(true);
      expect(response.body.data.title).toBe('New Agreement');
      expect(response.body.data.type).toBe('contract');
    });
    it('should return 400 for missing required fields', async () => {
      const documentData = {
        title: 'New Document'
        // Missing type
      };
      const response = await request(app).post('/api/documents').send(documentData).expect(400);
      expect(response.body.error).toBe('Title and type are required');
    });
  });

  // Update legal document metadata test
  describe('PUT /api/documents/:documentId', () => {
    let documentId;
    beforeAll(async () => {
      // Create a document first
      const documentData = {
        title: 'Test Document',
        type: 'policy',
        version: '1.0'
      };
      const response = await request(app).post('/api/documents').send(documentData);
      documentId = response.body.data.id;
    });
    it('should update legal document metadata', async () => {
      const updateData = {
        title: 'Updated Document',
        type: 'contract',
        version: '2.0',
        status: 'inactive'
      };
      const response = await request(app).put(`/api/documents/${documentId}`).send(updateData).expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.title).toBe('Updated Document');
      expect(response.body.data.type).toBe('contract');
      expect(response.body.data.version).toBe('2.0');
      expect(response.body.data.status).toBe('inactive');
    });
    it('should return 404 for non-existent document', async () => {
      const updateData = {
        title: 'Updated Document'
      };
      const response = await request(app).put('/api/documents/non-existent').send(updateData).expect(404);
      expect(response.body.error).toBe('Legal document not found');
    });
  });

  // Search cases test
  describe('GET /api/cases/search', () => {
    it('should search cases by type', async () => {
      const response = await request(app).get('/api/cases/search?type=civil').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
    });
    it('should search cases by status', async () => {
      const response = await request(app).get('/api/cases/search?status=closed').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
    });
  });

  // Search documents test
  describe('GET /api/documents/search', () => {
    it('should search documents by type', async () => {
      const response = await request(app).get('/api/documents/search?type=contract').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
    });
    it('should search documents by title', async () => {
      const response = await request(app).get('/api/documents/search?title=Agreement').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImFwcCIsImRlc2NyaWJlIiwiaXQiLCJyZXNwb25zZSIsImdldCIsImV4cGVjdCIsImJvZHkiLCJzdGF0dXMiLCJ0b0JlIiwic2VydmljZSIsInN1Y2Nlc3MiLCJBcnJheSIsImlzQXJyYXkiLCJkYXRhIiwiY291bnQiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwiaWQiLCJlcnJvciIsImNhc2VEYXRhIiwidGl0bGUiLCJ0eXBlIiwiZGVzY3JpcHRpb24iLCJwcmlvcml0eSIsInBhcnRpZXMiLCJwb3N0Iiwic2VuZCIsImNhc2VJZCIsImJlZm9yZUFsbCIsInVwZGF0ZURhdGEiLCJyZXNvbHV0aW9uIiwicHV0IiwiZG9jdW1lbnREYXRhIiwidmVyc2lvbiIsImNvbnRlbnQiLCJkb2N1bWVudElkIl0sInNvdXJjZXMiOlsianVkaWNpYXJ5LnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpO1xyXG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi9pbmRleC5qcycpO1xyXG5cclxuZGVzY3JpYmUoJ0F6b3JhIEp1ZGljaWFyeSBTZXJ2aWNlJywgKCkgPT4ge1xyXG4gIC8vIEhlYWx0aCBjaGVjayB0ZXN0XHJcbiAgZGVzY3JpYmUoJ0dFVCAvaGVhbHRoJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gaGVhbHRoIHN0YXR1cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAuZ2V0KCcvaGVhbHRoJylcclxuICAgICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdGF0dXMpLnRvQmUoJ2hlYWx0aHknKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc2VydmljZSkudG9CZSgnYXpvcmEtanVkaWNpYXJ5LXNlcnZpY2UnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBHZXQgYWxsIGxlZ2FsIGNhc2VzIHRlc3RcclxuICBkZXNjcmliZSgnR0VUIC9hcGkvY2FzZXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBhbGwgbGVnYWwgY2FzZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLmdldCgnL2FwaS9jYXNlcycpXHJcbiAgICAgICAgLmV4cGVjdCgyMDApO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzcG9uc2UuYm9keS5kYXRhKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuY291bnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8gR2V0IHNwZWNpZmljIGxlZ2FsIGNhc2UgdGVzdFxyXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9jYXNlcy86Y2FzZUlkJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3BlY2lmaWMgbGVnYWwgY2FzZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAuZ2V0KCcvYXBpL2Nhc2VzL2xlZ2FsXzEnKVxyXG4gICAgICAgIC5leHBlY3QoMjAwKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEuaWQpLnRvQmUoJ2xlZ2FsXzEnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNCBmb3Igbm9uLWV4aXN0ZW50IGNhc2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLmdldCgnL2FwaS9jYXNlcy9ub24tZXhpc3RlbnQnKVxyXG4gICAgICAgIC5leHBlY3QoNDA0KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0JlKCdMZWdhbCBjYXNlIG5vdCBmb3VuZCcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEZpbGUgYSBuZXcgbGVnYWwgY2FzZSB0ZXN0XHJcbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS9jYXNlcycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZmlsZSBhIG5ldyBsZWdhbCBjYXNlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjYXNlRGF0YSA9IHtcclxuICAgICAgICB0aXRsZTogJ05ldyBDb250cmFjdCBEaXNwdXRlJyxcclxuICAgICAgICB0eXBlOiAnY2l2aWwnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRGlzcHV0ZSByZWdhcmRpbmcgY29udHJhY3QgdGVybXMnLFxyXG4gICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXHJcbiAgICAgICAgcGFydGllczogWydQYXJ0eSBYJywgJ1BhcnR5IFknXVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucG9zdCgnL2FwaS9jYXNlcycpXHJcbiAgICAgICAgLnNlbmQoY2FzZURhdGEpXHJcbiAgICAgICAgLmV4cGVjdCgyMDEpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS50aXRsZSkudG9CZSgnTmV3IENvbnRyYWN0IERpc3B1dGUnKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS50eXBlKS50b0JlKCdjaXZpbCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIGZvciBtaXNzaW5nIHJlcXVpcmVkIGZpZWxkcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgY2FzZURhdGEgPSB7XHJcbiAgICAgICAgdGl0bGU6ICdOZXcgQ2FzZScsXHJcbiAgICAgICAgdHlwZTogJ2NpdmlsJ1xyXG4gICAgICAgIC8vIE1pc3NpbmcgZGVzY3JpcHRpb25cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvY2FzZXMnKVxyXG4gICAgICAgIC5zZW5kKGNhc2VEYXRhKVxyXG4gICAgICAgIC5leHBlY3QoNDAwKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0JlKCdUaXRsZSwgdHlwZSwgYW5kIGRlc2NyaXB0aW9uIGFyZSByZXF1aXJlZCcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFVwZGF0ZSBsZWdhbCBjYXNlIHN0YXR1cyB0ZXN0XHJcbiAgZGVzY3JpYmUoJ1BVVCAvYXBpL2Nhc2VzLzpjYXNlSWQnLCAoKSA9PiB7XHJcbiAgICBsZXQgY2FzZUlkO1xyXG5cclxuICAgIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIENyZWF0ZSBhIGNhc2UgZmlyc3RcclxuICAgICAgY29uc3QgY2FzZURhdGEgPSB7XHJcbiAgICAgICAgdGl0bGU6ICdUZXN0IENhc2UnLFxyXG4gICAgICAgIHR5cGU6ICdhZG1pbmlzdHJhdGl2ZScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdUZXN0IGNhc2UgZm9yIHVwZGF0aW5nJ1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucG9zdCgnL2FwaS9jYXNlcycpXHJcbiAgICAgICAgLnNlbmQoY2FzZURhdGEpO1xyXG5cclxuICAgICAgY2FzZUlkID0gcmVzcG9uc2UuYm9keS5kYXRhLmlkO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgbGVnYWwgY2FzZSBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnLFxyXG4gICAgICAgIHJlc29sdXRpb246ICdQYXJ0aWVzIGFyZSBuZWdvdGlhdGluZycsXHJcbiAgICAgICAgcHJpb3JpdHk6ICdoaWdoJ1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucHV0KGAvYXBpL2Nhc2VzLyR7Y2FzZUlkfWApXHJcbiAgICAgICAgLnNlbmQodXBkYXRlRGF0YSlcclxuICAgICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLnN0YXR1cykudG9CZSgnaW5fcHJvZ3Jlc3MnKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5yZXNvbHV0aW9uKS50b0JlKCdQYXJ0aWVzIGFyZSBuZWdvdGlhdGluZycpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLnByaW9yaXR5KS50b0JlKCdoaWdoJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDQgZm9yIG5vbi1leGlzdGVudCBjYXNlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgIHN0YXR1czogJ3Jlc29sdmVkJ1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucHV0KCcvYXBpL2Nhc2VzL25vbi1leGlzdGVudCcpXHJcbiAgICAgICAgLnNlbmQodXBkYXRlRGF0YSlcclxuICAgICAgICAuZXhwZWN0KDQwNCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnTGVnYWwgY2FzZSBub3QgZm91bmQnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBHZXQgYWxsIGxlZ2FsIGRvY3VtZW50cyB0ZXN0XHJcbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL2RvY3VtZW50cycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGFsbCBsZWdhbCBkb2N1bWVudHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLmdldCgnL2FwaS9kb2N1bWVudHMnKVxyXG4gICAgICAgIC5leHBlY3QoMjAwKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3BvbnNlLmJvZHkuZGF0YSkpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmNvdW50KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEdldCBzcGVjaWZpYyBsZWdhbCBkb2N1bWVudCB0ZXN0XHJcbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL2RvY3VtZW50cy86ZG9jdW1lbnRJZCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHNwZWNpZmljIGxlZ2FsIGRvY3VtZW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5nZXQoJy9hcGkvZG9jdW1lbnRzL2RvY18xJylcclxuICAgICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLmlkKS50b0JlKCdkb2NfMScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDA0IGZvciBub24tZXhpc3RlbnQgZG9jdW1lbnQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLmdldCgnL2FwaS9kb2N1bWVudHMvbm9uLWV4aXN0ZW50JylcclxuICAgICAgICAuZXhwZWN0KDQwNCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnTGVnYWwgZG9jdW1lbnQgbm90IGZvdW5kJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8gVXBsb2FkIGEgbmV3IGxlZ2FsIGRvY3VtZW50IHRlc3RcclxuICBkZXNjcmliZSgnUE9TVCAvYXBpL2RvY3VtZW50cycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgdXBsb2FkIGEgbmV3IGxlZ2FsIGRvY3VtZW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkb2N1bWVudERhdGEgPSB7XHJcbiAgICAgICAgdGl0bGU6ICdOZXcgQWdyZWVtZW50JyxcclxuICAgICAgICB0eXBlOiAnY29udHJhY3QnLFxyXG4gICAgICAgIHZlcnNpb246ICcxLjAnLFxyXG4gICAgICAgIGNvbnRlbnQ6ICdUaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSBuZXcgYWdyZWVtZW50J1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucG9zdCgnL2FwaS9kb2N1bWVudHMnKVxyXG4gICAgICAgIC5zZW5kKGRvY3VtZW50RGF0YSlcclxuICAgICAgICAuZXhwZWN0KDIwMSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLnRpdGxlKS50b0JlKCdOZXcgQWdyZWVtZW50Jyk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEudHlwZSkudG9CZSgnY29udHJhY3QnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCBmb3IgbWlzc2luZyByZXF1aXJlZCBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRvY3VtZW50RGF0YSA9IHtcclxuICAgICAgICB0aXRsZTogJ05ldyBEb2N1bWVudCdcclxuICAgICAgICAvLyBNaXNzaW5nIHR5cGVcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvZG9jdW1lbnRzJylcclxuICAgICAgICAuc2VuZChkb2N1bWVudERhdGEpXHJcbiAgICAgICAgLmV4cGVjdCg0MDApO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ1RpdGxlIGFuZCB0eXBlIGFyZSByZXF1aXJlZCcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFVwZGF0ZSBsZWdhbCBkb2N1bWVudCBtZXRhZGF0YSB0ZXN0XHJcbiAgZGVzY3JpYmUoJ1BVVCAvYXBpL2RvY3VtZW50cy86ZG9jdW1lbnRJZCcsICgpID0+IHtcclxuICAgIGxldCBkb2N1bWVudElkO1xyXG5cclxuICAgIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIENyZWF0ZSBhIGRvY3VtZW50IGZpcnN0XHJcbiAgICAgIGNvbnN0IGRvY3VtZW50RGF0YSA9IHtcclxuICAgICAgICB0aXRsZTogJ1Rlc3QgRG9jdW1lbnQnLFxyXG4gICAgICAgIHR5cGU6ICdwb2xpY3knLFxyXG4gICAgICAgIHZlcnNpb246ICcxLjAnXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL2RvY3VtZW50cycpXHJcbiAgICAgICAgLnNlbmQoZG9jdW1lbnREYXRhKTtcclxuXHJcbiAgICAgIGRvY3VtZW50SWQgPSByZXNwb25zZS5ib2R5LmRhdGEuaWQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBsZWdhbCBkb2N1bWVudCBtZXRhZGF0YScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHtcclxuICAgICAgICB0aXRsZTogJ1VwZGF0ZWQgRG9jdW1lbnQnLFxyXG4gICAgICAgIHR5cGU6ICdjb250cmFjdCcsXHJcbiAgICAgICAgdmVyc2lvbjogJzIuMCcsXHJcbiAgICAgICAgc3RhdHVzOiAnaW5hY3RpdmUnXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wdXQoYC9hcGkvZG9jdW1lbnRzLyR7ZG9jdW1lbnRJZH1gKVxyXG4gICAgICAgIC5zZW5kKHVwZGF0ZURhdGEpXHJcbiAgICAgICAgLmV4cGVjdCgyMDApO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS50aXRsZSkudG9CZSgnVXBkYXRlZCBEb2N1bWVudCcpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLnR5cGUpLnRvQmUoJ2NvbnRyYWN0Jyk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEudmVyc2lvbikudG9CZSgnMi4wJyk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEuc3RhdHVzKS50b0JlKCdpbmFjdGl2ZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDA0IGZvciBub24tZXhpc3RlbnQgZG9jdW1lbnQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICAgdGl0bGU6ICdVcGRhdGVkIERvY3VtZW50J1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucHV0KCcvYXBpL2RvY3VtZW50cy9ub24tZXhpc3RlbnQnKVxyXG4gICAgICAgIC5zZW5kKHVwZGF0ZURhdGEpXHJcbiAgICAgICAgLmV4cGVjdCg0MDQpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ0xlZ2FsIGRvY3VtZW50IG5vdCBmb3VuZCcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFNlYXJjaCBjYXNlcyB0ZXN0XHJcbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL2Nhc2VzL3NlYXJjaCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgc2VhcmNoIGNhc2VzIGJ5IHR5cGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLmdldCgnL2FwaS9jYXNlcy9zZWFyY2g/dHlwZT1jaXZpbCcpXHJcbiAgICAgICAgLmV4cGVjdCgyMDApO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzcG9uc2UuYm9keS5kYXRhKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgc2VhcmNoIGNhc2VzIGJ5IHN0YXR1cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAuZ2V0KCcvYXBpL2Nhc2VzL3NlYXJjaD9zdGF0dXM9Y2xvc2VkJylcclxuICAgICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXNwb25zZS5ib2R5LmRhdGEpKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFNlYXJjaCBkb2N1bWVudHMgdGVzdFxyXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9kb2N1bWVudHMvc2VhcmNoJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBzZWFyY2ggZG9jdW1lbnRzIGJ5IHR5cGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLmdldCgnL2FwaS9kb2N1bWVudHMvc2VhcmNoP3R5cGU9Y29udHJhY3QnKVxyXG4gICAgICAgIC5leHBlY3QoMjAwKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3BvbnNlLmJvZHkuZGF0YSkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHNlYXJjaCBkb2N1bWVudHMgYnkgdGl0bGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLmdldCgnL2FwaS9kb2N1bWVudHMvc2VhcmNoP3RpdGxlPUFncmVlbWVudCcpXHJcbiAgICAgICAgLmV4cGVjdCgyMDApO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzcG9uc2UuYm9keS5kYXRhKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTsiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3BDLE1BQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLGFBQWEsQ0FBQztBQUVsQ0UsUUFBUSxDQUFDLHlCQUF5QixFQUFFLE1BQU07RUFDeEM7RUFDQUEsUUFBUSxDQUFDLGFBQWEsRUFBRSxNQUFNO0lBQzVCQyxFQUFFLENBQUMsNkJBQTZCLEVBQUUsWUFBWTtNQUM1QyxNQUFNQyxRQUFRLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaENJLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FDZEMsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkQSxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDQyxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLFNBQVMsQ0FBQztNQUM1Q0gsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ0csT0FBTyxDQUFDLENBQUNELElBQUksQ0FBQyx5QkFBeUIsQ0FBQztJQUMvRCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7O0VBRUY7RUFDQVAsUUFBUSxDQUFDLGdCQUFnQixFQUFFLE1BQU07SUFDL0JDLEVBQUUsQ0FBQywrQkFBK0IsRUFBRSxZQUFZO01BQzlDLE1BQU1DLFFBQVEsR0FBRyxNQUFNTCxPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNoQ0ksR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUNqQkMsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkQSxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDSSxPQUFPLENBQUMsQ0FBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQztN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