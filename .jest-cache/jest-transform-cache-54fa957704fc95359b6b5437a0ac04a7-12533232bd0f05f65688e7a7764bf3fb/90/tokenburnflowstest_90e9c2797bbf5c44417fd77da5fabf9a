b9eff44d5ecaee02902cb2726ed481b0
"use strict";

// Mock Prisma
_getJestObj().mock('@prisma/client');
var _library = require("@prisma/client/runtime/library");
var _tokenBurnCalculator = require("../../services/tokens/token-burn-calculator");
var _burnTracker = require("../../services/tokens/burn-tracker");
var _leaderboardUpdater = require("../../services/tokens/leaderboard-updater");
var _tokenBurn = require("../../services/tokens/token-burn.types");
var _tokenBurnRepository = require("../../services/tokens/token-burn-repository");
var _client = require("@prisma/client");
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
/**
 * Token Burn Integration Tests
 * Tests for complete token burn flows integrated into payment operations
 * 
 * Covers:
 * - Sale → Burn → Supply Update flow
 * - Withdrawal → Burn → Balance Update flow
 * - Redemption → Burn → Feature Access flow
 * - Leaderboard Ranking Updates
 */
describe('Token Burn Integration Flows', () => {
  let calculator;
  let burnTracker;
  let leaderboardUpdater;
  let repository;
  let prisma;
  beforeEach(() => {
    calculator = new _tokenBurnCalculator.TokenBurnCalculator();
    repository = new _tokenBurnRepository.TokenBurnRepository();
    burnTracker = new _burnTracker.BurnTracker(repository);
    leaderboardUpdater = new _leaderboardUpdater.LeaderboardUpdater();
    prisma = new _client.PrismaClient();
  });
  describe('Complete Sale → Burn → Supply Update Flow', () => {
    it('should execute complete course sale burn flow', async () => {
      const userId = 'user-123';
      const saleAmount = new _library.Decimal(100);
      const initialSupply = new _library.Decimal(1000000);
      const initialCirculating = new _library.Decimal(900000);

      // Step 1: Calculate burn on sale
      const burnCalculation = calculator.calculateBurn(saleAmount, _tokenBurn.BurnTransactionType.COURSE_SALE);
      expect(burnCalculation.burnRate).toBe(0.05);
      expect(burnCalculation.burnedAmount.toString()).toBe('5');
      expect(burnCalculation.netAmount.toString()).toBe('95');

      // Step 2: Log burn transaction
      const mockTransaction = {
        id: 'burn-tx-1',
        userId,
        amount: saleAmount,
        burnRate: burnCalculation.burnRate,
        burnedAmount: burnCalculation.burnedAmount,
        transactionType: _tokenBurn.BurnTransactionType.COURSE_SALE,
        reason: 'Course sale',
        blockchainTxHash: null,
        blockchainStatus: _tokenBurn.BlockchainStatus.PENDING,
        createdAt: new Date(),
        updatedAt: new Date()
      };
      jest.spyOn(repository, 'createBurnTransaction').mockResolvedValue(mockTransaction);
      const transaction = await burnTracker.logBurnTransaction(userId, saleAmount, burnCalculation.burnRate, burnCalculation.burnedAmount, _tokenBurn.BurnTransactionType.COURSE_SALE, 'Course sale');
      expect(transaction.id).toBe('burn-tx-1');
      expect(transaction.burnedAmount.toString()).toBe('5');

      // Step 3: Confirm blockchain transaction
      const confirmedTransaction = {
        ...mockTransaction,
        blockchainTxHash: '0x123abc',
        blockchainStatus: _tokenBurn.BlockchainStatus.CONFIRMED
      };
      jest.spyOn(repository, 'updateBurnTransactionHash').mockResolvedValue(confirmedTransaction);
      const confirmed = await burnTracker.confirmBurnTransaction('burn-tx-1', '0x123abc', _tokenBurn.BlockchainStatus.CONFIRMED);
      expect(confirmed.blockchainStatus).toBe(_tokenBurn.BlockchainStatus.CONFIRMED);
      expect(confirmed.blockchainTxHash).toBe('0x123abc');

      // Step 4: Update token supply
      const mockSupply = {
        id: 'supply-1',
        totalSupply: initialSupply,
        circulatingSupply: initialCirculating,
        burnedSupply: new _library.Decimal(100000),
        createdAt: new Date(),
        updatedAt: new Date()
      };
      jest.spyOn(repository, 'getTokenSupply').mockResolvedValue(mockSupply);
      jest.spyOn(repository, 'updateTokenSupply').mockResolvedValue({
        ...mockSupply,
        burnedSupply: new _library.Decimal(100005),
        circulatingSupply: initialCirculating.minus(new _library.Decimal(5))
      });
      const updatedSupply = await burnTracker.updateSupplyAfterBurn(initialSupply, initialCirculating, burnCalculation.burnedAmount);
      expect(updatedSupply.burnedSupply.toString()).toBe('100005');
      expect(updatedSupply.circulatingSupply.toString()).toBe('899995');
    });
    it('should handle multiple concurrent sales with burns', async () => {
      const sales = [{
        userId: 'user-1',
        amount: new _library.Decimal(100)
      }, {
        userId: 'user-2',
        amount: new _library.Decimal(200)
      }, {
        userId: 'user-3',
        amount: new _library.Decimal(150)
      }];
      const burns = sales.map(sale => calculator.calculateBurn(sale.amount, _tokenBurn.BurnTransactionType.COURSE_SALE));
      const totalBurned = burns.reduce((sum, burn) => sum.plus(burn.burnedAmount), new _library.Decimal(0));
      expect(burns).toHaveLength(3);
      expect(burns[0].burnedAmount.toString()).toBe('5'); // 5% of 100
      expect(burns[1].burnedAmount.toString()).toBe('10'); // 5% of 200
      expect(burns[2].burnedAmount.toString()).toBe('7.5'); // 5% of 150
      expect(totalBurned.toString()).toBe('22.5');
    });
    it('should track cumulative burns across multiple sales', async () => {
      const userId = 'user-123';
      const transactions = [{
        amount: new _library.Decimal(100),
        type: _tokenBurn.BurnTransactionType.COURSE_SALE
      }, {
        amount: new _library.Decimal(200),
        type: _tokenBurn.BurnTransactionType.COURSE_SALE
      }, {
        amount: new _library.Decimal(150),
        type: _tokenBurn.BurnTransactionType.COURSE_SALE
      }];
      const mockHistory = {
        transactions: transactions.map((tx, i) => ({
          id: `burn-tx-${i}`,
          userId,
          amount: tx.amount,
          burnRate: 0.05,
          burnedAmount: tx.amount.times(0.05),
          transactionType: tx.type,
          reason: 'Course sale',
          blockchainTxHash: '0x123',
          blockchainStatus: _tokenBurn.BlockchainStatus.CONFIRMED,
          createdAt: new Date(),
          updatedAt: new Date()
        })),
        total: 3,
        totalBurned: new _library.Decimal(22.5)
      };
      jest.spyOn(repository, 'getBurnHistory').mockResolvedValue(mockHistory);
      const history = await burnTracker.getBurnHistory({
        userId
      });
      expect(history.transactions).toHaveLength(3);
      expect(history.totalBurned.toString()).toBe('22.5');
    });
  });
  describe('Complete Withdrawal → Burn → Balance Update Flow', () => {
    it('should execute complete earnings withdrawal burn flow', async () => {
      const userId = 'user-456';
      const withdrawalAmount = new _library.Decimal(1000);
      const userBalance = new _library.Decimal(5000);

      // Step 1: Calculate burn on withdrawal
      const burnCalculation = calculator.calculateBurn(withdrawalAmount, _tokenBurn.BurnTransactionType.EARNINGS_WITHDRAWAL);
      expect(burnCalculation.burnRate).toBe(0.03);
      expect(burnCalculation.burnedAmount.toString()).toBe('30');
      expect(burnCalculation.netAmount.toString()).toBe('970');

      // Step 2: Validate user has sufficient balance
      const validation = calculator.validateBurnTransaction(withdrawalAmount, _tokenBurn.BurnTransactionType.EARNINGS_WITHDRAWAL, userBalance);
      expect(validation.isValid).toBe(true);
      expect(validation.errors).toHaveLength(0);

      // Step 3: Log burn transaction
      const mockTransaction = {
        id: 'burn-tx-2',
        userId,
        amount: withdrawalAmount,
        burnRate: burnCalculation.burnRate,
        burnedAmount: burnCalculation.burnedAmount,
        transactionType: _tokenBurn.BurnTransactionType.EARNINGS_WITHDRAWAL,
        reason: 'Earnings withdrawal',
        blockchainTxHash: null,
        blockchainStatus: _tokenBurn.BlockchainStatus.PENDING,
        createdAt: new Date(),
        updatedAt: new Date()
      };
      jest.spyOn(repository, 'createBurnTransaction').mockResolvedValue(mockTransaction);
      const transaction = await burnTracker.logBurnTransaction(userId, withdrawalAmount, burnCalculation.burnRate, burnCalculation.burnedAmount, _tokenBurn.BurnTransactionType.EARNINGS_WITHDRAWAL, 'Earnings withdrawal');
      expect(transaction.burnedAmount.toString()).toBe('30');

      // Step 4: Update user balance (net amount after burn)
      const newBalance = userBalance.minus(withdrawalAmount);
      const burnedFromBalance = burnCalculation.burnedAmount;
      expect(newBalance.toString()).toBe('4000');
      expect(burnedFromBalance.toString()).toBe('30');
    });
    it('should reject withdrawal if insufficient balance for burn', async () => {
      const withdrawalAmount = new _library.Decimal(1000);
      const insufficientBalance = new _library.Decimal(500); // Less than withdrawal amount

      const validation = calculator.validateBurnTransaction(withdrawalAmount, _tokenBurn.BurnTransactionType.EARNINGS_WITHDRAWAL, insufficientBalance);
      expect(validation.isValid).toBe(false);
      expect(validation.errors).toContain('Insufficient balance. Required: 1000, Available: 500');
    });
    it('should warn on significant burn relative to balance', async () => {
      const withdrawalAmount = new _library.Decimal(100);
      const smallBalance = new _library.Decimal(5); // Only 5 tokens

      const validation = calculator.validateBurnTransaction(withdrawalAmount, _tokenBurn.BurnTransactionType.EARNINGS_WITHDRAWAL, smallBalance);
      expect(validation.isValid).toBe(false);
      expect(validation.warnings.length).toBeGreaterThan(0);
    });
    it('should handle large withdrawal amounts correctly', async () => {
      const largeWithdrawal = new _library.Decimal('50000');
      const largeBalance = new _library.Decimal('100000');
      const burnCalculation = calculator.calculateBurn(largeWithdrawal, _tokenBurn.BurnTransactionType.EARNINGS_WITHDRAWAL);
      expect(burnCalculation.burnedAmount.toString()).toBe('1500'); // 3% of 50000
      expect(burnCalculation.netAmount.toString()).toBe('48500');
      const validation = calculator.validateBurnTransaction(largeWithdrawal, _tokenBurn.BurnTransactionType.EARNINGS_WITHDRAWAL, largeBalance);
      expect(validation.isValid).toBe(true);
    });
  });
  describe('Complete Redemption → Burn → Feature Access Flow', () => {
    it('should execute complete token redemption burn flow', async () => {
      const userId = 'user-789';
      const redemptionAmount = new _library.Decimal(500);
      const userBalance = new _library.Decimal(1000);

      // Step 1: Calculate burn on redemption
      const burnCalculation = calculator.calculateBurn(redemptionAmount, _tokenBurn.BurnTransactionType.TOKEN_REDEMPTION);
      expect(burnCalculation.burnRate).toBe(0.02);
      expect(burnCalculation.burnedAmount.toString()).toBe('10');
      expect(burnCalculation.netAmount.toString()).toBe('490');

      // Step 2: Validate user has sufficient balance
      const validation = calculator.validateBurnTransaction(redemptionAmount, _tokenBurn.BurnTransactionType.TOKEN_REDEMPTION, userBalance);
      expect(validation.isValid).toBe(true);

      // Step 3: Log burn transaction
      const mockTransaction = {
        id: 'burn-tx-3',
        userId,
        amount: redemptionAmount,
        burnRate: burnCalculation.burnRate,
        burnedAmount: burnCalculation.burnedAmount,
        transactionType: _tokenBurn.BurnTransactionType.TOKEN_REDEMPTION,
        reason: 'Premium feature redemption',
        blockchainTxHash: null,
        blockchainStatus: _tokenBurn.BlockchainStatus.PENDING,
        createdAt: new Date(),
        updatedAt: new Date()
      };
      jest.spyOn(repository, 'createBurnTransaction').mockResolvedValue(mockTransaction);
      const transaction = await burnTracker.logBurnTransaction(userId, redemptionAmount, burnCalculation.burnRate, burnCalculation.burnedAmount, _tokenBurn.BurnTransactionType.TOKEN_REDEMPTION, 'Premium feature redemption');
      expect(transaction.burnedAmount.toString()).toBe('10');

      // Step 4: Deduct tokens from user balance
      const newBalance = userBalance.minus(redemptionAmount);
      expect(newBalance.toString()).toBe('500');

      // Step 5: Grant feature access (simulated)
      const featureAccess = {
        userId,
        feature: 'premium_analytics',
        grantedAt: new Date(),
        expiresAt: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000) // 30 days
      };
      expect(featureAccess.userId).toBe(userId);
      expect(featureAccess.feature).toBe('premium_analytics');
    });
    it('should handle small redemption amounts', async () => {
      const smallRedemption = new _library.Decimal('10');
      const userBalance = new _library.Decimal('100');
      const burnCalculation = calculator.calculateBurn(smallRedemption, _tokenBurn.BurnTransactionType.TOKEN_REDEMPTION);
      expect(burnCalculation.burnedAmount.toString()).toBe('0.2'); // 2% of 10
      expect(burnCalculation.netAmount.toString()).toBe('9.8');
      const validation = calculator.validateBurnTransaction(smallRedemption, _tokenBurn.BurnTransactionType.TOKEN_REDEMPTION, userBalance);
      expect(validation.isValid).toBe(true);
    });
    it('should track redemption burns separately from other burns', async () => {
      const userId = 'user-123';
      const mockHistory = {
        transactions: [{
          id: 'burn-tx-1',
          userId,
          amount: new _library.Decimal(100),
          burnRate: 0.02,
          burnedAmount: new _library.Decimal(2),
          transactionType: _tokenBurn.BurnTransactionType.TOKEN_REDEMPTION,
          reason: 'Premium feature',
          blockchainTxHash: '0x123',
          blockchainStatus: _tokenBurn.BlockchainStatus.CONFIRMED,
          createdAt: new Date(),
          updatedAt: new Date()
        }, {
          id: 'burn-tx-2',
          userId,
          amount: new _library.Decimal(200),
          burnRate: 0.02,
          burnedAmount: new _library.Decimal(4),
          transactionType: _tokenBurn.BurnTransactionType.TOKEN_REDEMPTION,
          reason: 'Premium feature',
          blockchainTxHash: '0x124',
          blockchainStatus: _tokenBurn.BlockchainStatus.CONFIRMED,
          createdAt: new Date(),
          updatedAt: new Date()
        }],
        total: 2,
        totalBurned: new _library.Decimal(6)
      };
      jest.spyOn(repository, 'getBurnHistory').mockResolvedValue(mockHistory);
      const history = await burnTracker.getBurnHistory({
        userId,
        transactionType: _tokenBurn.BurnTransactionType.TOKEN_REDEMPTION
      });
      expect(history.transactions).toHaveLength(2);
      expect(history.totalBurned.toString()).toBe('6');
    });
  });
  describe('Leaderboard Ranking Updates on Burn', () => {
    it('should update leaderboard rankings after burn', async () => {
      const users = [{
        userId: 'user-1',
        tokens: new _library.Decimal(10000)
      }, {
        userId: 'user-2',
        tokens: new _library.Decimal(5000)
      }, {
        userId: 'user-3',
        tokens: new _library.Decimal(2000)
      }];
      const totalSupply = new _library.Decimal(20000);

      // Calculate ownership percentages
      const ownerships = users.map(u => ({
        userId: u.userId,
        percentage: u.tokens.dividedBy(totalSupply).times(100).toNumber()
      }));

      // Sort by ownership (descending)
      ownerships.sort((a, b) => b.percentage - a.percentage);
      expect(ownerships[0].userId).toBe('user-1');
      expect(ownerships[0].percentage).toBeCloseTo(50, 1);
      expect(ownerships[1].userId).toBe('user-2');
      expect(ownerships[1].percentage).toBeCloseTo(25, 1);
      expect(ownerships[2].userId).toBe('user-3');
      expect(ownerships[2].percentage).toBeCloseTo(10, 1);
    });
    it('should recalculate rankings when supply changes due to burn', async () => {
      const initialSupply = new _library.Decimal(20000);
      const userTokens = new _library.Decimal(5000);

      // Initial ownership
      const initialOwnership = userTokens.dividedBy(initialSupply).times(100).toNumber();
      expect(initialOwnership).toBeCloseTo(25, 1);

      // After burn: supply decreases to 19000
      const burnedAmount = new _library.Decimal(1000);
      const newSupply = initialSupply.minus(burnedAmount);

      // New ownership (user tokens unchanged, but supply decreased)
      const newOwnership = userTokens.dividedBy(newSupply).times(100).toNumber();
      expect(newOwnership).toBeCloseTo(26.3, 1); // Increased due to lower supply
      expect(newOwnership).toBeGreaterThan(initialOwnership);
    });
    it('should handle ranking changes for multiple users', async () => {
      const mockRankingUpdates = [{
        userId: 'user-1',
        newRank: 1,
        previousRank: 2,
        ownershipPercentage: 30,
        changed: true
      }, {
        userId: 'user-2',
        newRank: 2,
        previousRank: 1,
        ownershipPercentage: 25,
        changed: true
      }, {
        userId: 'user-3',
        newRank: 3,
        previousRank: 3,
        ownershipPercentage: 20,
        changed: false
      }];
      const changedCount = mockRankingUpdates.filter(r => r.changed).length;
      expect(mockRankingUpdates).toHaveLength(3);
      expect(changedCount).toBe(2);
      expect(mockRankingUpdates[0].newRank).toBe(1);
      expect(mockRankingUpdates[1].newRank).toBe(2);
    });
    it('should track historical ranking changes', async () => {
      const userId = 'user-123';
      const mockHistory = [{
        date: new Date('2024-01-01'),
        rank: 100,
        ownershipPercentage: 0.5
      }, {
        date: new Date('2024-01-02'),
        rank: 95,
        ownershipPercentage: 0.52
      }, {
        date: new Date('2024-01-03'),
        rank: 90,
        ownershipPercentage: 0.55
      }];
      expect(mockHistory).toHaveLength(3);
      expect(mockHistory[0].rank).toBe(100);
      expect(mockHistory[2].rank).toBe(90);
      expect(mockHistory[2].ownershipPercentage).toBeGreaterThan(mockHistory[0].ownershipPercentage);
    });
    it('should calculate ranking percentile correctly', async () => {
      const totalUsers = 1000;
      const userRank = 100;
      const percentile = (totalUsers - userRank) / totalUsers * 100;
      expect(percentile).toBe(90); // Top 10%
    });
    it('should handle edge case of single user', async () => {
      const totalUsers = 1;
      const userRank = 1;
      const percentile = (totalUsers - userRank) / totalUsers * 100;
      expect(percentile).toBe(0); // Only user, no percentile
    });
  });
  describe('Cross-Flow Integration', () => {
    it('should handle mixed transaction types in single flow', async () => {
      const userId = 'user-123';
      const transactions = [{
        amount: new _library.Decimal(100),
        type: _tokenBurn.BurnTransactionType.COURSE_SALE
      }, {
        amount: new _library.Decimal(1000),
        type: _tokenBurn.BurnTransactionType.EARNINGS_WITHDRAWAL
      }, {
        amount: new _library.Decimal(500),
        type: _tokenBurn.BurnTransactionType.TOKEN_REDEMPTION
      }];
      const burns = transactions.map(tx => calculator.calculateBurn(tx.amount, tx.type));
      const totalBurned = burns.reduce((sum, burn) => sum.plus(burn.burnedAmount), new _library.Decimal(0));
      expect(burns[0].burnedAmount.toString()).toBe('5'); // 5% of 100
      expect(burns[1].burnedAmount.toString()).toBe('30'); // 3% of 1000
      expect(burns[2].burnedAmount.toString()).toBe('10'); // 2% of 500
      expect(totalBurned.toString()).toBe('45');
    });
    it('should maintain consistency across supply updates', async () => {
      const initialSupply = new _library.Decimal(1000000);
      const initialCirculating = new _library.Decimal(900000);
      let currentBurned = new _library.Decimal(0);

      // Simulate multiple burns
      const burns = [new _library.Decimal(100),
      // 5% of 2000 sale
      new _library.Decimal(30),
      // 3% of 1000 withdrawal
      new _library.Decimal(10) // 2% of 500 redemption
      ];
      burns.forEach(burn => {
        currentBurned = currentBurned.plus(burn);
      });
      const finalCirculating = initialCirculating.minus(currentBurned);
      expect(currentBurned.toString()).toBe('140');
      expect(finalCirculating.toString()).toBe('899860');
    });
    it('should handle concurrent burns without data loss', async () => {
      const concurrentBurns = Array.from({
        length: 10
      }, (_, i) => ({
        userId: `user-${i}`,
        amount: new _library.Decimal(100 * (i + 1)),
        type: _tokenBurn.BurnTransactionType.COURSE_SALE
      }));
      const burns = concurrentBurns.map(burn => calculator.calculateBurn(burn.amount, burn.type));
      const totalBurned = burns.reduce((sum, burn) => sum.plus(burn.burnedAmount), new _library.Decimal(0));

      // Sum of 5% of (100, 200, 300, ..., 1000)
      const expectedTotal = new _library.Decimal(2750); // 5% of 55000

      expect(totalBurned.toString()).toBe(expectedTotal.toString());
    });
  });
  describe('Error Handling and Edge Cases', () => {
    it('should handle zero burn amount gracefully', async () => {
      expect(() => {
        calculator.calculateBurn(new _library.Decimal(0), _tokenBurn.BurnTransactionType.COURSE_SALE);
      }).toThrow('Amount must be greater than 0');
    });
    it('should handle negative amounts', async () => {
      expect(() => {
        calculator.calculateBurn(new _library.Decimal(-100), _tokenBurn.BurnTransactionType.COURSE_SALE);
      }).toThrow('Amount must be greater than 0');
    });
    it('should handle very large amounts', async () => {
      const largeAmount = new _library.Decimal('999999999999.99');
      const burn = calculator.calculateBurn(largeAmount, _tokenBurn.BurnTransactionType.COURSE_SALE);
      expect(burn.burnedAmount.toString()).toBe('49999999999.9995');
      expect(burn.netAmount.toString()).toBe('949999999999.9905');
    });
    it('should handle very small amounts', async () => {
      const smallAmount = new _library.Decimal('0.01');
      const burn = calculator.calculateBurn(smallAmount, _tokenBurn.BurnTransactionType.COURSE_SALE);
      expect(burn.burnedAmount.toString()).toBe('0.0005');
      expect(burn.netAmount.toString()).toBe('0.0095');
    });
    it('should validate transaction type', async () => {
      const validation = calculator.validateBurnTransaction(new _library.Decimal(100), 'INVALID_TYPE', new _library.Decimal(200));
      expect(validation.isValid).toBe(false);
      expect(validation.errors.length).toBeGreaterThan(0);
    });
    it('should handle pending blockchain transactions', async () => {
      const mockTransaction = {
        id: 'burn-tx-1',
        userId: 'user-123',
        amount: new _library.Decimal(100),
        burnRate: 0.05,
        burnedAmount: new _library.Decimal(5),
        transactionType: _tokenBurn.BurnTransactionType.COURSE_SALE,
        reason: 'Course sale',
        blockchainTxHash: null,
        blockchainStatus: _tokenBurn.BlockchainStatus.PENDING,
        createdAt: new Date(),
        updatedAt: new Date()
      };
      jest.spyOn(repository, 'createBurnTransaction').mockResolvedValue(mockTransaction);
      const transaction = await burnTracker.logBurnTransaction('user-123', new _library.Decimal(100), 0.05, new _library.Decimal(5), _tokenBurn.BurnTransactionType.COURSE_SALE, 'Course sale');
      expect(transaction.blockchainStatus).toBe(_tokenBurn.BlockchainStatus.PENDING);
      expect(transaction.blockchainTxHash).toBeNull();
    });
    it('should handle failed blockchain transactions', async () => {
      const mockTransaction = {
        id: 'burn-tx-1',
        userId: 'user-123',
        amount: new _library.Decimal(100),
        burnRate: 0.05,
        burnedAmount: new _library.Decimal(5),
        transactionType: _tokenBurn.BurnTransactionType.COURSE_SALE,
        reason: 'Course sale',
        blockchainTxHash: null,
        blockchainStatus: _tokenBurn.BlockchainStatus.FAILED,
        createdAt: new Date(),
        updatedAt: new Date()
      };
      jest.spyOn(repository, 'createBurnTransaction').mockResolvedValue(mockTransaction);
      const transaction = await burnTracker.logBurnTransaction('user-123', new _library.Decimal(100), 0.05, new _library.Decimal(5), _tokenBurn.BurnTransactionType.COURSE_SALE, 'Course sale');
      expect(transaction.blockchainStatus).toBe(_tokenBurn.BlockchainStatus.FAILED);
    });
  });
  describe('Performance and Scalability', () => {
    it('should calculate burns efficiently for bulk operations', async () => {
      const startTime = Date.now();
      const transactions = Array.from({
        length: 1000
      }, (_, i) => ({
        amount: new _library.Decimal(100 * (i + 1)),
        type: _tokenBurn.BurnTransactionType.COURSE_SALE
      }));
      const burns = calculator.calculateBulkBurns(transactions);
      const endTime = Date.now();
      const duration = endTime - startTime;
      expect(burns).toHaveLength(1000);
      expect(duration).toBeLessThan(1000); // Should complete in less than 1 second
    });
    it('should calculate total burn efficiently', async () => {
      const transactions = Array.from({
        length: 1000
      }, (_, i) => ({
        amount: new _library.Decimal(100 * (i + 1)),
        type: _tokenBurn.BurnTransactionType.COURSE_SALE
      }));
      const totalBurn = calculator.calculateTotalBurn(transactions);
      expect(totalBurn).toBeDefined();
      expect(totalBurn.toNumber()).toBeGreaterThan(0);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfbGlicmFyeSIsInJlcXVpcmUiLCJfdG9rZW5CdXJuQ2FsY3VsYXRvciIsIl9idXJuVHJhY2tlciIsIl9sZWFkZXJib2FyZFVwZGF0ZXIiLCJfdG9rZW5CdXJuIiwiX3Rva2VuQnVyblJlcG9zaXRvcnkiLCJfY2xpZW50IiwiamVzdCIsImRlc2NyaWJlIiwiY2FsY3VsYXRvciIsImJ1cm5UcmFja2VyIiwibGVhZGVyYm9hcmRVcGRhdGVyIiwicmVwb3NpdG9yeSIsInByaXNtYSIsImJlZm9yZUVhY2giLCJUb2tlbkJ1cm5DYWxjdWxhdG9yIiwiVG9rZW5CdXJuUmVwb3NpdG9yeSIsIkJ1cm5UcmFja2VyIiwiTGVhZGVyYm9hcmRVcGRhdGVyIiwiUHJpc21hQ2xpZW50IiwiaXQiLCJ1c2VySWQiLCJzYWxlQW1vdW50IiwiRGVjaW1hbCIsImluaXRpYWxTdXBwbHkiLCJpbml0aWFsQ2lyY3VsYXRpbmciLCJidXJuQ2FsY3VsYXRpb24iLCJjYWxjdWxhdGVCdXJuIiwiQnVyblRyYW5zYWN0aW9uVHlwZSIsIkNPVVJTRV9TQUxFIiwiZXhwZWN0IiwiYnVyblJhdGUiLCJ0b0JlIiwiYnVybmVkQW1vdW50IiwidG9TdHJpbmciLCJuZXRBbW91bnQiLCJtb2NrVHJhbnNhY3Rpb24iLCJpZCIsImFtb3VudCIsInRyYW5zYWN0aW9uVHlwZSIsInJlYXNvbiIsImJsb2NrY2hhaW5UeEhhc2giLCJibG9ja2NoYWluU3RhdHVzIiwiQmxvY2tjaGFpblN0YXR1cyIsIlBFTkRJTkciLCJjcmVhdGVkQXQiLCJEYXRlIiwidXBkYXRlZEF0Iiwic3B5T24iLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInRyYW5zYWN0aW9uIiwibG9nQnVyblRyYW5zYWN0aW9uIiwiY29uZmlybWVkVHJhbnNhY3Rpb24iLCJDT05GSVJNRUQiLCJjb25maXJtZWQiLCJjb25maXJtQnVyblRyYW5zYWN0aW9uIiwibW9ja1N1cHBseSIsInRvdGFsU3VwcGx5IiwiY2lyY3VsYXRpbmdTdXBwbHkiLCJidXJuZWRTdXBwbHkiLCJtaW51cyIsInVwZGF0ZWRTdXBwbHkiLCJ1cGRhdGVTdXBwbHlBZnRlckJ1cm4iLCJzYWxlcyIsImJ1cm5zIiwibWFwIiwic2FsZSIsInRvdGFsQnVybmVkIiwicmVkdWNlIiwic3VtIiwiYnVybiIsInBsdXMiLCJ0b0hhdmVMZW5ndGgiLCJ0cmFuc2FjdGlvbnMiLCJ0eXBlIiwibW9ja0hpc3RvcnkiLCJ0eCIsImkiLCJ0aW1lcyIsInRvdGFsIiwiaGlzdG9yeSIsImdldEJ1cm5IaXN0b3J5Iiwid2l0aGRyYXdhbEFtb3VudCIsInVzZXJCYWxhbmNlIiwiRUFSTklOR1NfV0lUSERSQVdBTCIsInZhbGlkYXRpb24iLCJ2YWxpZGF0ZUJ1cm5UcmFuc2FjdGlvbiIsImlzVmFsaWQiLCJlcnJvcnMiLCJuZXdCYWxhbmNlIiwiYnVybmVkRnJvbUJhbGFuY2UiLCJpbnN1ZmZpY2llbnRCYWxhbmNlIiwidG9Db250YWluIiwic21hbGxCYWxhbmNlIiwid2FybmluZ3MiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJsYXJnZVdpdGhkcmF3YWwiLCJsYXJnZUJhbGFuY2UiLCJyZWRlbXB0aW9uQW1vdW50IiwiVE9LRU5fUkVERU1QVElPTiIsImZlYXR1cmVBY2Nlc3MiLCJmZWF0dXJlIiwiZ3JhbnRlZEF0IiwiZXhwaXJlc0F0Iiwibm93Iiwic21hbGxSZWRlbXB0aW9uIiwidXNlcnMiLCJ0b2tlbnMiLCJvd25lcnNoaXBzIiwidSIsInBlcmNlbnRhZ2UiLCJkaXZpZGVkQnkiLCJ0b051bWJlciIsInNvcnQiLCJhIiwiYiIsInRvQmVDbG9zZVRvIiwidXNlclRva2VucyIsImluaXRpYWxPd25lcnNoaXAiLCJuZXdTdXBwbHkiLCJuZXdPd25lcnNoaXAiLCJtb2NrUmFua2luZ1VwZGF0ZXMiLCJuZXdSYW5rIiwicHJldmlvdXNSYW5rIiwib3duZXJzaGlwUGVyY2VudGFnZSIsImNoYW5nZWQiLCJjaGFuZ2VkQ291bnQiLCJmaWx0ZXIiLCJyIiwiZGF0ZSIsInJhbmsiLCJ0b3RhbFVzZXJzIiwidXNlclJhbmsiLCJwZXJjZW50aWxlIiwiY3VycmVudEJ1cm5lZCIsImZvckVhY2giLCJmaW5hbENpcmN1bGF0aW5nIiwiY29uY3VycmVudEJ1cm5zIiwiQXJyYXkiLCJmcm9tIiwiXyIsImV4cGVjdGVkVG90YWwiLCJ0b1Rocm93IiwibGFyZ2VBbW91bnQiLCJzbWFsbEFtb3VudCIsInRvQmVOdWxsIiwiRkFJTEVEIiwic3RhcnRUaW1lIiwiY2FsY3VsYXRlQnVsa0J1cm5zIiwiZW5kVGltZSIsImR1cmF0aW9uIiwidG9CZUxlc3NUaGFuIiwidG90YWxCdXJuIiwiY2FsY3VsYXRlVG90YWxCdXJuIiwidG9CZURlZmluZWQiXSwic291cmNlcyI6WyJ0b2tlbi1idXJuLWZsb3dzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRva2VuIEJ1cm4gSW50ZWdyYXRpb24gVGVzdHNcclxuICogVGVzdHMgZm9yIGNvbXBsZXRlIHRva2VuIGJ1cm4gZmxvd3MgaW50ZWdyYXRlZCBpbnRvIHBheW1lbnQgb3BlcmF0aW9uc1xyXG4gKiBcclxuICogQ292ZXJzOlxyXG4gKiAtIFNhbGUg4oaSIEJ1cm4g4oaSIFN1cHBseSBVcGRhdGUgZmxvd1xyXG4gKiAtIFdpdGhkcmF3YWwg4oaSIEJ1cm4g4oaSIEJhbGFuY2UgVXBkYXRlIGZsb3dcclxuICogLSBSZWRlbXB0aW9uIOKGkiBCdXJuIOKGkiBGZWF0dXJlIEFjY2VzcyBmbG93XHJcbiAqIC0gTGVhZGVyYm9hcmQgUmFua2luZyBVcGRhdGVzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgRGVjaW1hbCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50L3J1bnRpbWUvbGlicmFyeSc7XHJcbmltcG9ydCB7IFRva2VuQnVybkNhbGN1bGF0b3IgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy90b2tlbnMvdG9rZW4tYnVybi1jYWxjdWxhdG9yJztcclxuaW1wb3J0IHsgQnVyblRyYWNrZXIgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy90b2tlbnMvYnVybi10cmFja2VyJztcclxuaW1wb3J0IHsgTGVhZGVyYm9hcmRVcGRhdGVyIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvdG9rZW5zL2xlYWRlcmJvYXJkLXVwZGF0ZXInO1xyXG5pbXBvcnQgeyBCdXJuVHJhbnNhY3Rpb25UeXBlLCBCbG9ja2NoYWluU3RhdHVzIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvdG9rZW5zL3Rva2VuLWJ1cm4udHlwZXMnO1xyXG5pbXBvcnQgeyBUb2tlbkJ1cm5SZXBvc2l0b3J5IH0gZnJvbSAnLi4vLi4vc2VydmljZXMvdG9rZW5zL3Rva2VuLWJ1cm4tcmVwb3NpdG9yeSc7XHJcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcclxuXHJcbi8vIE1vY2sgUHJpc21hXHJcbmplc3QubW9jaygnQHByaXNtYS9jbGllbnQnKTtcclxuXHJcbmRlc2NyaWJlKCdUb2tlbiBCdXJuIEludGVncmF0aW9uIEZsb3dzJywgKCkgPT4ge1xyXG4gIGxldCBjYWxjdWxhdG9yOiBUb2tlbkJ1cm5DYWxjdWxhdG9yO1xyXG4gIGxldCBidXJuVHJhY2tlcjogQnVyblRyYWNrZXI7XHJcbiAgbGV0IGxlYWRlcmJvYXJkVXBkYXRlcjogTGVhZGVyYm9hcmRVcGRhdGVyO1xyXG4gIGxldCByZXBvc2l0b3J5OiBUb2tlbkJ1cm5SZXBvc2l0b3J5O1xyXG4gIGxldCBwcmlzbWE6IGplc3QuTW9ja2VkPFByaXNtYUNsaWVudD47XHJcblxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgY2FsY3VsYXRvciA9IG5ldyBUb2tlbkJ1cm5DYWxjdWxhdG9yKCk7XHJcbiAgICByZXBvc2l0b3J5ID0gbmV3IFRva2VuQnVyblJlcG9zaXRvcnkoKTtcclxuICAgIGJ1cm5UcmFja2VyID0gbmV3IEJ1cm5UcmFja2VyKHJlcG9zaXRvcnkpO1xyXG4gICAgbGVhZGVyYm9hcmRVcGRhdGVyID0gbmV3IExlYWRlcmJvYXJkVXBkYXRlcigpO1xyXG4gICAgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpIGFzIGplc3QuTW9ja2VkPFByaXNtYUNsaWVudD47XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdDb21wbGV0ZSBTYWxlIOKGkiBCdXJuIOKGkiBTdXBwbHkgVXBkYXRlIEZsb3cnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgY29tcGxldGUgY291cnNlIHNhbGUgYnVybiBmbG93JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VySWQgPSAndXNlci0xMjMnO1xyXG4gICAgICBjb25zdCBzYWxlQW1vdW50ID0gbmV3IERlY2ltYWwoMTAwKTtcclxuICAgICAgY29uc3QgaW5pdGlhbFN1cHBseSA9IG5ldyBEZWNpbWFsKDEwMDAwMDApO1xyXG4gICAgICBjb25zdCBpbml0aWFsQ2lyY3VsYXRpbmcgPSBuZXcgRGVjaW1hbCg5MDAwMDApO1xyXG5cclxuICAgICAgLy8gU3RlcCAxOiBDYWxjdWxhdGUgYnVybiBvbiBzYWxlXHJcbiAgICAgIGNvbnN0IGJ1cm5DYWxjdWxhdGlvbiA9IGNhbGN1bGF0b3IuY2FsY3VsYXRlQnVybihcclxuICAgICAgICBzYWxlQW1vdW50LFxyXG4gICAgICAgIEJ1cm5UcmFuc2FjdGlvblR5cGUuQ09VUlNFX1NBTEVcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChidXJuQ2FsY3VsYXRpb24uYnVyblJhdGUpLnRvQmUoMC4wNSk7XHJcbiAgICAgIGV4cGVjdChidXJuQ2FsY3VsYXRpb24uYnVybmVkQW1vdW50LnRvU3RyaW5nKCkpLnRvQmUoJzUnKTtcclxuICAgICAgZXhwZWN0KGJ1cm5DYWxjdWxhdGlvbi5uZXRBbW91bnQudG9TdHJpbmcoKSkudG9CZSgnOTUnKTtcclxuXHJcbiAgICAgIC8vIFN0ZXAgMjogTG9nIGJ1cm4gdHJhbnNhY3Rpb25cclxuICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uID0ge1xyXG4gICAgICAgIGlkOiAnYnVybi10eC0xJyxcclxuICAgICAgICB1c2VySWQsXHJcbiAgICAgICAgYW1vdW50OiBzYWxlQW1vdW50LFxyXG4gICAgICAgIGJ1cm5SYXRlOiBidXJuQ2FsY3VsYXRpb24uYnVyblJhdGUsXHJcbiAgICAgICAgYnVybmVkQW1vdW50OiBidXJuQ2FsY3VsYXRpb24uYnVybmVkQW1vdW50LFxyXG4gICAgICAgIHRyYW5zYWN0aW9uVHlwZTogQnVyblRyYW5zYWN0aW9uVHlwZS5DT1VSU0VfU0FMRSxcclxuICAgICAgICByZWFzb246ICdDb3Vyc2Ugc2FsZScsXHJcbiAgICAgICAgYmxvY2tjaGFpblR4SGFzaDogbnVsbCxcclxuICAgICAgICBibG9ja2NoYWluU3RhdHVzOiBCbG9ja2NoYWluU3RhdHVzLlBFTkRJTkcsXHJcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGplc3Quc3B5T24ocmVwb3NpdG9yeSwgJ2NyZWF0ZUJ1cm5UcmFuc2FjdGlvbicpLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tUcmFuc2FjdGlvbik7XHJcblxyXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IGJ1cm5UcmFja2VyLmxvZ0J1cm5UcmFuc2FjdGlvbihcclxuICAgICAgICB1c2VySWQsXHJcbiAgICAgICAgc2FsZUFtb3VudCxcclxuICAgICAgICBidXJuQ2FsY3VsYXRpb24uYnVyblJhdGUsXHJcbiAgICAgICAgYnVybkNhbGN1bGF0aW9uLmJ1cm5lZEFtb3VudCxcclxuICAgICAgICBCdXJuVHJhbnNhY3Rpb25UeXBlLkNPVVJTRV9TQUxFLFxyXG4gICAgICAgICdDb3Vyc2Ugc2FsZSdcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdCh0cmFuc2FjdGlvbi5pZCkudG9CZSgnYnVybi10eC0xJyk7XHJcbiAgICAgIGV4cGVjdCh0cmFuc2FjdGlvbi5idXJuZWRBbW91bnQudG9TdHJpbmcoKSkudG9CZSgnNScpO1xyXG5cclxuICAgICAgLy8gU3RlcCAzOiBDb25maXJtIGJsb2NrY2hhaW4gdHJhbnNhY3Rpb25cclxuICAgICAgY29uc3QgY29uZmlybWVkVHJhbnNhY3Rpb24gPSB7XHJcbiAgICAgICAgLi4ubW9ja1RyYW5zYWN0aW9uLFxyXG4gICAgICAgIGJsb2NrY2hhaW5UeEhhc2g6ICcweDEyM2FiYycsXHJcbiAgICAgICAgYmxvY2tjaGFpblN0YXR1czogQmxvY2tjaGFpblN0YXR1cy5DT05GSVJNRUQsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBqZXN0LnNweU9uKHJlcG9zaXRvcnksICd1cGRhdGVCdXJuVHJhbnNhY3Rpb25IYXNoJykubW9ja1Jlc29sdmVkVmFsdWUoY29uZmlybWVkVHJhbnNhY3Rpb24pO1xyXG5cclxuICAgICAgY29uc3QgY29uZmlybWVkID0gYXdhaXQgYnVyblRyYWNrZXIuY29uZmlybUJ1cm5UcmFuc2FjdGlvbihcclxuICAgICAgICAnYnVybi10eC0xJyxcclxuICAgICAgICAnMHgxMjNhYmMnLFxyXG4gICAgICAgIEJsb2NrY2hhaW5TdGF0dXMuQ09ORklSTUVEXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QoY29uZmlybWVkLmJsb2NrY2hhaW5TdGF0dXMpLnRvQmUoQmxvY2tjaGFpblN0YXR1cy5DT05GSVJNRUQpO1xyXG4gICAgICBleHBlY3QoY29uZmlybWVkLmJsb2NrY2hhaW5UeEhhc2gpLnRvQmUoJzB4MTIzYWJjJyk7XHJcblxyXG4gICAgICAvLyBTdGVwIDQ6IFVwZGF0ZSB0b2tlbiBzdXBwbHlcclxuICAgICAgY29uc3QgbW9ja1N1cHBseSA9IHtcclxuICAgICAgICBpZDogJ3N1cHBseS0xJyxcclxuICAgICAgICB0b3RhbFN1cHBseTogaW5pdGlhbFN1cHBseSxcclxuICAgICAgICBjaXJjdWxhdGluZ1N1cHBseTogaW5pdGlhbENpcmN1bGF0aW5nLFxyXG4gICAgICAgIGJ1cm5lZFN1cHBseTogbmV3IERlY2ltYWwoMTAwMDAwKSxcclxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgamVzdC5zcHlPbihyZXBvc2l0b3J5LCAnZ2V0VG9rZW5TdXBwbHknKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrU3VwcGx5KTtcclxuICAgICAgamVzdC5zcHlPbihyZXBvc2l0b3J5LCAndXBkYXRlVG9rZW5TdXBwbHknKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgLi4ubW9ja1N1cHBseSxcclxuICAgICAgICBidXJuZWRTdXBwbHk6IG5ldyBEZWNpbWFsKDEwMDAwNSksXHJcbiAgICAgICAgY2lyY3VsYXRpbmdTdXBwbHk6IGluaXRpYWxDaXJjdWxhdGluZy5taW51cyhuZXcgRGVjaW1hbCg1KSksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgdXBkYXRlZFN1cHBseSA9IGF3YWl0IGJ1cm5UcmFja2VyLnVwZGF0ZVN1cHBseUFmdGVyQnVybihcclxuICAgICAgICBpbml0aWFsU3VwcGx5LFxyXG4gICAgICAgIGluaXRpYWxDaXJjdWxhdGluZyxcclxuICAgICAgICBidXJuQ2FsY3VsYXRpb24uYnVybmVkQW1vdW50XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QodXBkYXRlZFN1cHBseS5idXJuZWRTdXBwbHkudG9TdHJpbmcoKSkudG9CZSgnMTAwMDA1Jyk7XHJcbiAgICAgIGV4cGVjdCh1cGRhdGVkU3VwcGx5LmNpcmN1bGF0aW5nU3VwcGx5LnRvU3RyaW5nKCkpLnRvQmUoJzg5OTk5NScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbXVsdGlwbGUgY29uY3VycmVudCBzYWxlcyB3aXRoIGJ1cm5zJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzYWxlcyA9IFtcclxuICAgICAgICB7IHVzZXJJZDogJ3VzZXItMScsIGFtb3VudDogbmV3IERlY2ltYWwoMTAwKSB9LFxyXG4gICAgICAgIHsgdXNlcklkOiAndXNlci0yJywgYW1vdW50OiBuZXcgRGVjaW1hbCgyMDApIH0sXHJcbiAgICAgICAgeyB1c2VySWQ6ICd1c2VyLTMnLCBhbW91bnQ6IG5ldyBEZWNpbWFsKDE1MCkgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IGJ1cm5zID0gc2FsZXMubWFwKChzYWxlKSA9PlxyXG4gICAgICAgIGNhbGN1bGF0b3IuY2FsY3VsYXRlQnVybihzYWxlLmFtb3VudCwgQnVyblRyYW5zYWN0aW9uVHlwZS5DT1VSU0VfU0FMRSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IHRvdGFsQnVybmVkID0gYnVybnMucmVkdWNlKFxyXG4gICAgICAgIChzdW0sIGJ1cm4pID0+IHN1bS5wbHVzKGJ1cm4uYnVybmVkQW1vdW50KSxcclxuICAgICAgICBuZXcgRGVjaW1hbCgwKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KGJ1cm5zKS50b0hhdmVMZW5ndGgoMyk7XHJcbiAgICAgIGV4cGVjdChidXJuc1swXS5idXJuZWRBbW91bnQudG9TdHJpbmcoKSkudG9CZSgnNScpOyAvLyA1JSBvZiAxMDBcclxuICAgICAgZXhwZWN0KGJ1cm5zWzFdLmJ1cm5lZEFtb3VudC50b1N0cmluZygpKS50b0JlKCcxMCcpOyAvLyA1JSBvZiAyMDBcclxuICAgICAgZXhwZWN0KGJ1cm5zWzJdLmJ1cm5lZEFtb3VudC50b1N0cmluZygpKS50b0JlKCc3LjUnKTsgLy8gNSUgb2YgMTUwXHJcbiAgICAgIGV4cGVjdCh0b3RhbEJ1cm5lZC50b1N0cmluZygpKS50b0JlKCcyMi41Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRyYWNrIGN1bXVsYXRpdmUgYnVybnMgYWNyb3NzIG11bHRpcGxlIHNhbGVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VySWQgPSAndXNlci0xMjMnO1xyXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbnMgPSBbXHJcbiAgICAgICAgeyBhbW91bnQ6IG5ldyBEZWNpbWFsKDEwMCksIHR5cGU6IEJ1cm5UcmFuc2FjdGlvblR5cGUuQ09VUlNFX1NBTEUgfSxcclxuICAgICAgICB7IGFtb3VudDogbmV3IERlY2ltYWwoMjAwKSwgdHlwZTogQnVyblRyYW5zYWN0aW9uVHlwZS5DT1VSU0VfU0FMRSB9LFxyXG4gICAgICAgIHsgYW1vdW50OiBuZXcgRGVjaW1hbCgxNTApLCB0eXBlOiBCdXJuVHJhbnNhY3Rpb25UeXBlLkNPVVJTRV9TQUxFIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCBtb2NrSGlzdG9yeSA9IHtcclxuICAgICAgICB0cmFuc2FjdGlvbnM6IHRyYW5zYWN0aW9ucy5tYXAoKHR4LCBpKSA9PiAoe1xyXG4gICAgICAgICAgaWQ6IGBidXJuLXR4LSR7aX1gLFxyXG4gICAgICAgICAgdXNlcklkLFxyXG4gICAgICAgICAgYW1vdW50OiB0eC5hbW91bnQsXHJcbiAgICAgICAgICBidXJuUmF0ZTogMC4wNSxcclxuICAgICAgICAgIGJ1cm5lZEFtb3VudDogdHguYW1vdW50LnRpbWVzKDAuMDUpLFxyXG4gICAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiB0eC50eXBlLFxyXG4gICAgICAgICAgcmVhc29uOiAnQ291cnNlIHNhbGUnLFxyXG4gICAgICAgICAgYmxvY2tjaGFpblR4SGFzaDogJzB4MTIzJyxcclxuICAgICAgICAgIGJsb2NrY2hhaW5TdGF0dXM6IEJsb2NrY2hhaW5TdGF0dXMuQ09ORklSTUVELFxyXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIH0pKSxcclxuICAgICAgICB0b3RhbDogMyxcclxuICAgICAgICB0b3RhbEJ1cm5lZDogbmV3IERlY2ltYWwoMjIuNSksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBqZXN0LnNweU9uKHJlcG9zaXRvcnksICdnZXRCdXJuSGlzdG9yeScpLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tIaXN0b3J5KTtcclxuXHJcbiAgICAgIGNvbnN0IGhpc3RvcnkgPSBhd2FpdCBidXJuVHJhY2tlci5nZXRCdXJuSGlzdG9yeSh7IHVzZXJJZCB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChoaXN0b3J5LnRyYW5zYWN0aW9ucykudG9IYXZlTGVuZ3RoKDMpO1xyXG4gICAgICBleHBlY3QoaGlzdG9yeS50b3RhbEJ1cm5lZC50b1N0cmluZygpKS50b0JlKCcyMi41Jyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0NvbXBsZXRlIFdpdGhkcmF3YWwg4oaSIEJ1cm4g4oaSIEJhbGFuY2UgVXBkYXRlIEZsb3cnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgY29tcGxldGUgZWFybmluZ3Mgd2l0aGRyYXdhbCBidXJuIGZsb3cnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXJJZCA9ICd1c2VyLTQ1Nic7XHJcbiAgICAgIGNvbnN0IHdpdGhkcmF3YWxBbW91bnQgPSBuZXcgRGVjaW1hbCgxMDAwKTtcclxuICAgICAgY29uc3QgdXNlckJhbGFuY2UgPSBuZXcgRGVjaW1hbCg1MDAwKTtcclxuXHJcbiAgICAgIC8vIFN0ZXAgMTogQ2FsY3VsYXRlIGJ1cm4gb24gd2l0aGRyYXdhbFxyXG4gICAgICBjb25zdCBidXJuQ2FsY3VsYXRpb24gPSBjYWxjdWxhdG9yLmNhbGN1bGF0ZUJ1cm4oXHJcbiAgICAgICAgd2l0aGRyYXdhbEFtb3VudCxcclxuICAgICAgICBCdXJuVHJhbnNhY3Rpb25UeXBlLkVBUk5JTkdTX1dJVEhEUkFXQUxcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChidXJuQ2FsY3VsYXRpb24uYnVyblJhdGUpLnRvQmUoMC4wMyk7XHJcbiAgICAgIGV4cGVjdChidXJuQ2FsY3VsYXRpb24uYnVybmVkQW1vdW50LnRvU3RyaW5nKCkpLnRvQmUoJzMwJyk7XHJcbiAgICAgIGV4cGVjdChidXJuQ2FsY3VsYXRpb24ubmV0QW1vdW50LnRvU3RyaW5nKCkpLnRvQmUoJzk3MCcpO1xyXG5cclxuICAgICAgLy8gU3RlcCAyOiBWYWxpZGF0ZSB1c2VyIGhhcyBzdWZmaWNpZW50IGJhbGFuY2VcclxuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IGNhbGN1bGF0b3IudmFsaWRhdGVCdXJuVHJhbnNhY3Rpb24oXHJcbiAgICAgICAgd2l0aGRyYXdhbEFtb3VudCxcclxuICAgICAgICBCdXJuVHJhbnNhY3Rpb25UeXBlLkVBUk5JTkdTX1dJVEhEUkFXQUwsXHJcbiAgICAgICAgdXNlckJhbGFuY2VcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLmlzVmFsaWQpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLmVycm9ycykudG9IYXZlTGVuZ3RoKDApO1xyXG5cclxuICAgICAgLy8gU3RlcCAzOiBMb2cgYnVybiB0cmFuc2FjdGlvblxyXG4gICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb24gPSB7XHJcbiAgICAgICAgaWQ6ICdidXJuLXR4LTInLFxyXG4gICAgICAgIHVzZXJJZCxcclxuICAgICAgICBhbW91bnQ6IHdpdGhkcmF3YWxBbW91bnQsXHJcbiAgICAgICAgYnVyblJhdGU6IGJ1cm5DYWxjdWxhdGlvbi5idXJuUmF0ZSxcclxuICAgICAgICBidXJuZWRBbW91bnQ6IGJ1cm5DYWxjdWxhdGlvbi5idXJuZWRBbW91bnQsXHJcbiAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiBCdXJuVHJhbnNhY3Rpb25UeXBlLkVBUk5JTkdTX1dJVEhEUkFXQUwsXHJcbiAgICAgICAgcmVhc29uOiAnRWFybmluZ3Mgd2l0aGRyYXdhbCcsXHJcbiAgICAgICAgYmxvY2tjaGFpblR4SGFzaDogbnVsbCxcclxuICAgICAgICBibG9ja2NoYWluU3RhdHVzOiBCbG9ja2NoYWluU3RhdHVzLlBFTkRJTkcsXHJcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGplc3Quc3B5T24ocmVwb3NpdG9yeSwgJ2NyZWF0ZUJ1cm5UcmFuc2FjdGlvbicpLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tUcmFuc2FjdGlvbik7XHJcblxyXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IGJ1cm5UcmFja2VyLmxvZ0J1cm5UcmFuc2FjdGlvbihcclxuICAgICAgICB1c2VySWQsXHJcbiAgICAgICAgd2l0aGRyYXdhbEFtb3VudCxcclxuICAgICAgICBidXJuQ2FsY3VsYXRpb24uYnVyblJhdGUsXHJcbiAgICAgICAgYnVybkNhbGN1bGF0aW9uLmJ1cm5lZEFtb3VudCxcclxuICAgICAgICBCdXJuVHJhbnNhY3Rpb25UeXBlLkVBUk5JTkdTX1dJVEhEUkFXQUwsXHJcbiAgICAgICAgJ0Vhcm5pbmdzIHdpdGhkcmF3YWwnXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QodHJhbnNhY3Rpb24uYnVybmVkQW1vdW50LnRvU3RyaW5nKCkpLnRvQmUoJzMwJyk7XHJcblxyXG4gICAgICAvLyBTdGVwIDQ6IFVwZGF0ZSB1c2VyIGJhbGFuY2UgKG5ldCBhbW91bnQgYWZ0ZXIgYnVybilcclxuICAgICAgY29uc3QgbmV3QmFsYW5jZSA9IHVzZXJCYWxhbmNlLm1pbnVzKHdpdGhkcmF3YWxBbW91bnQpO1xyXG4gICAgICBjb25zdCBidXJuZWRGcm9tQmFsYW5jZSA9IGJ1cm5DYWxjdWxhdGlvbi5idXJuZWRBbW91bnQ7XHJcblxyXG4gICAgICBleHBlY3QobmV3QmFsYW5jZS50b1N0cmluZygpKS50b0JlKCc0MDAwJyk7XHJcbiAgICAgIGV4cGVjdChidXJuZWRGcm9tQmFsYW5jZS50b1N0cmluZygpKS50b0JlKCczMCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZWplY3Qgd2l0aGRyYXdhbCBpZiBpbnN1ZmZpY2llbnQgYmFsYW5jZSBmb3IgYnVybicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgd2l0aGRyYXdhbEFtb3VudCA9IG5ldyBEZWNpbWFsKDEwMDApO1xyXG4gICAgICBjb25zdCBpbnN1ZmZpY2llbnRCYWxhbmNlID0gbmV3IERlY2ltYWwoNTAwKTsgLy8gTGVzcyB0aGFuIHdpdGhkcmF3YWwgYW1vdW50XHJcblxyXG4gICAgICBjb25zdCB2YWxpZGF0aW9uID0gY2FsY3VsYXRvci52YWxpZGF0ZUJ1cm5UcmFuc2FjdGlvbihcclxuICAgICAgICB3aXRoZHJhd2FsQW1vdW50LFxyXG4gICAgICAgIEJ1cm5UcmFuc2FjdGlvblR5cGUuRUFSTklOR1NfV0lUSERSQVdBTCxcclxuICAgICAgICBpbnN1ZmZpY2llbnRCYWxhbmNlXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcclxuICAgICAgZXhwZWN0KHZhbGlkYXRpb24uZXJyb3JzKS50b0NvbnRhaW4oXHJcbiAgICAgICAgJ0luc3VmZmljaWVudCBiYWxhbmNlLiBSZXF1aXJlZDogMTAwMCwgQXZhaWxhYmxlOiA1MDAnXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHdhcm4gb24gc2lnbmlmaWNhbnQgYnVybiByZWxhdGl2ZSB0byBiYWxhbmNlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB3aXRoZHJhd2FsQW1vdW50ID0gbmV3IERlY2ltYWwoMTAwKTtcclxuICAgICAgY29uc3Qgc21hbGxCYWxhbmNlID0gbmV3IERlY2ltYWwoNSk7IC8vIE9ubHkgNSB0b2tlbnNcclxuXHJcbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBjYWxjdWxhdG9yLnZhbGlkYXRlQnVyblRyYW5zYWN0aW9uKFxyXG4gICAgICAgIHdpdGhkcmF3YWxBbW91bnQsXHJcbiAgICAgICAgQnVyblRyYW5zYWN0aW9uVHlwZS5FQVJOSU5HU19XSVRIRFJBV0FMLFxyXG4gICAgICAgIHNtYWxsQmFsYW5jZVxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHZhbGlkYXRpb24uaXNWYWxpZCkudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uLndhcm5pbmdzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbGFyZ2Ugd2l0aGRyYXdhbCBhbW91bnRzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbGFyZ2VXaXRoZHJhd2FsID0gbmV3IERlY2ltYWwoJzUwMDAwJyk7XHJcbiAgICAgIGNvbnN0IGxhcmdlQmFsYW5jZSA9IG5ldyBEZWNpbWFsKCcxMDAwMDAnKTtcclxuXHJcbiAgICAgIGNvbnN0IGJ1cm5DYWxjdWxhdGlvbiA9IGNhbGN1bGF0b3IuY2FsY3VsYXRlQnVybihcclxuICAgICAgICBsYXJnZVdpdGhkcmF3YWwsXHJcbiAgICAgICAgQnVyblRyYW5zYWN0aW9uVHlwZS5FQVJOSU5HU19XSVRIRFJBV0FMXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QoYnVybkNhbGN1bGF0aW9uLmJ1cm5lZEFtb3VudC50b1N0cmluZygpKS50b0JlKCcxNTAwJyk7IC8vIDMlIG9mIDUwMDAwXHJcbiAgICAgIGV4cGVjdChidXJuQ2FsY3VsYXRpb24ubmV0QW1vdW50LnRvU3RyaW5nKCkpLnRvQmUoJzQ4NTAwJyk7XHJcblxyXG4gICAgICBjb25zdCB2YWxpZGF0aW9uID0gY2FsY3VsYXRvci52YWxpZGF0ZUJ1cm5UcmFuc2FjdGlvbihcclxuICAgICAgICBsYXJnZVdpdGhkcmF3YWwsXHJcbiAgICAgICAgQnVyblRyYW5zYWN0aW9uVHlwZS5FQVJOSU5HU19XSVRIRFJBV0FMLFxyXG4gICAgICAgIGxhcmdlQmFsYW5jZVxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHZhbGlkYXRpb24uaXNWYWxpZCkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQ29tcGxldGUgUmVkZW1wdGlvbiDihpIgQnVybiDihpIgRmVhdHVyZSBBY2Nlc3MgRmxvdycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBjb21wbGV0ZSB0b2tlbiByZWRlbXB0aW9uIGJ1cm4gZmxvdycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlcklkID0gJ3VzZXItNzg5JztcclxuICAgICAgY29uc3QgcmVkZW1wdGlvbkFtb3VudCA9IG5ldyBEZWNpbWFsKDUwMCk7XHJcbiAgICAgIGNvbnN0IHVzZXJCYWxhbmNlID0gbmV3IERlY2ltYWwoMTAwMCk7XHJcblxyXG4gICAgICAvLyBTdGVwIDE6IENhbGN1bGF0ZSBidXJuIG9uIHJlZGVtcHRpb25cclxuICAgICAgY29uc3QgYnVybkNhbGN1bGF0aW9uID0gY2FsY3VsYXRvci5jYWxjdWxhdGVCdXJuKFxyXG4gICAgICAgIHJlZGVtcHRpb25BbW91bnQsXHJcbiAgICAgICAgQnVyblRyYW5zYWN0aW9uVHlwZS5UT0tFTl9SRURFTVBUSU9OXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QoYnVybkNhbGN1bGF0aW9uLmJ1cm5SYXRlKS50b0JlKDAuMDIpO1xyXG4gICAgICBleHBlY3QoYnVybkNhbGN1bGF0aW9uLmJ1cm5lZEFtb3VudC50b1N0cmluZygpKS50b0JlKCcxMCcpO1xyXG4gICAgICBleHBlY3QoYnVybkNhbGN1bGF0aW9uLm5ldEFtb3VudC50b1N0cmluZygpKS50b0JlKCc0OTAnKTtcclxuXHJcbiAgICAgIC8vIFN0ZXAgMjogVmFsaWRhdGUgdXNlciBoYXMgc3VmZmljaWVudCBiYWxhbmNlXHJcbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBjYWxjdWxhdG9yLnZhbGlkYXRlQnVyblRyYW5zYWN0aW9uKFxyXG4gICAgICAgIHJlZGVtcHRpb25BbW91bnQsXHJcbiAgICAgICAgQnVyblRyYW5zYWN0aW9uVHlwZS5UT0tFTl9SRURFTVBUSU9OLFxyXG4gICAgICAgIHVzZXJCYWxhbmNlXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5pc1ZhbGlkKS50b0JlKHRydWUpO1xyXG5cclxuICAgICAgLy8gU3RlcCAzOiBMb2cgYnVybiB0cmFuc2FjdGlvblxyXG4gICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb24gPSB7XHJcbiAgICAgICAgaWQ6ICdidXJuLXR4LTMnLFxyXG4gICAgICAgIHVzZXJJZCxcclxuICAgICAgICBhbW91bnQ6IHJlZGVtcHRpb25BbW91bnQsXHJcbiAgICAgICAgYnVyblJhdGU6IGJ1cm5DYWxjdWxhdGlvbi5idXJuUmF0ZSxcclxuICAgICAgICBidXJuZWRBbW91bnQ6IGJ1cm5DYWxjdWxhdGlvbi5idXJuZWRBbW91bnQsXHJcbiAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiBCdXJuVHJhbnNhY3Rpb25UeXBlLlRPS0VOX1JFREVNUFRJT04sXHJcbiAgICAgICAgcmVhc29uOiAnUHJlbWl1bSBmZWF0dXJlIHJlZGVtcHRpb24nLFxyXG4gICAgICAgIGJsb2NrY2hhaW5UeEhhc2g6IG51bGwsXHJcbiAgICAgICAgYmxvY2tjaGFpblN0YXR1czogQmxvY2tjaGFpblN0YXR1cy5QRU5ESU5HLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBqZXN0LnNweU9uKHJlcG9zaXRvcnksICdjcmVhdGVCdXJuVHJhbnNhY3Rpb24nKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVHJhbnNhY3Rpb24pO1xyXG5cclxuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBhd2FpdCBidXJuVHJhY2tlci5sb2dCdXJuVHJhbnNhY3Rpb24oXHJcbiAgICAgICAgdXNlcklkLFxyXG4gICAgICAgIHJlZGVtcHRpb25BbW91bnQsXHJcbiAgICAgICAgYnVybkNhbGN1bGF0aW9uLmJ1cm5SYXRlLFxyXG4gICAgICAgIGJ1cm5DYWxjdWxhdGlvbi5idXJuZWRBbW91bnQsXHJcbiAgICAgICAgQnVyblRyYW5zYWN0aW9uVHlwZS5UT0tFTl9SRURFTVBUSU9OLFxyXG4gICAgICAgICdQcmVtaXVtIGZlYXR1cmUgcmVkZW1wdGlvbidcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdCh0cmFuc2FjdGlvbi5idXJuZWRBbW91bnQudG9TdHJpbmcoKSkudG9CZSgnMTAnKTtcclxuXHJcbiAgICAgIC8vIFN0ZXAgNDogRGVkdWN0IHRva2VucyBmcm9tIHVzZXIgYmFsYW5jZVxyXG4gICAgICBjb25zdCBuZXdCYWxhbmNlID0gdXNlckJhbGFuY2UubWludXMocmVkZW1wdGlvbkFtb3VudCk7XHJcblxyXG4gICAgICBleHBlY3QobmV3QmFsYW5jZS50b1N0cmluZygpKS50b0JlKCc1MDAnKTtcclxuXHJcbiAgICAgIC8vIFN0ZXAgNTogR3JhbnQgZmVhdHVyZSBhY2Nlc3MgKHNpbXVsYXRlZClcclxuICAgICAgY29uc3QgZmVhdHVyZUFjY2VzcyA9IHtcclxuICAgICAgICB1c2VySWQsXHJcbiAgICAgICAgZmVhdHVyZTogJ3ByZW1pdW1fYW5hbHl0aWNzJyxcclxuICAgICAgICBncmFudGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSwgLy8gMzAgZGF5c1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgZXhwZWN0KGZlYXR1cmVBY2Nlc3MudXNlcklkKS50b0JlKHVzZXJJZCk7XHJcbiAgICAgIGV4cGVjdChmZWF0dXJlQWNjZXNzLmZlYXR1cmUpLnRvQmUoJ3ByZW1pdW1fYW5hbHl0aWNzJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzbWFsbCByZWRlbXB0aW9uIGFtb3VudHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNtYWxsUmVkZW1wdGlvbiA9IG5ldyBEZWNpbWFsKCcxMCcpO1xyXG4gICAgICBjb25zdCB1c2VyQmFsYW5jZSA9IG5ldyBEZWNpbWFsKCcxMDAnKTtcclxuXHJcbiAgICAgIGNvbnN0IGJ1cm5DYWxjdWxhdGlvbiA9IGNhbGN1bGF0b3IuY2FsY3VsYXRlQnVybihcclxuICAgICAgICBzbWFsbFJlZGVtcHRpb24sXHJcbiAgICAgICAgQnVyblRyYW5zYWN0aW9uVHlwZS5UT0tFTl9SRURFTVBUSU9OXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QoYnVybkNhbGN1bGF0aW9uLmJ1cm5lZEFtb3VudC50b1N0cmluZygpKS50b0JlKCcwLjInKTsgLy8gMiUgb2YgMTBcclxuICAgICAgZXhwZWN0KGJ1cm5DYWxjdWxhdGlvbi5uZXRBbW91bnQudG9TdHJpbmcoKSkudG9CZSgnOS44Jyk7XHJcblxyXG4gICAgICBjb25zdCB2YWxpZGF0aW9uID0gY2FsY3VsYXRvci52YWxpZGF0ZUJ1cm5UcmFuc2FjdGlvbihcclxuICAgICAgICBzbWFsbFJlZGVtcHRpb24sXHJcbiAgICAgICAgQnVyblRyYW5zYWN0aW9uVHlwZS5UT0tFTl9SRURFTVBUSU9OLFxyXG4gICAgICAgIHVzZXJCYWxhbmNlXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5pc1ZhbGlkKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayByZWRlbXB0aW9uIGJ1cm5zIHNlcGFyYXRlbHkgZnJvbSBvdGhlciBidXJucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlcklkID0gJ3VzZXItMTIzJztcclxuXHJcbiAgICAgIGNvbnN0IG1vY2tIaXN0b3J5ID0ge1xyXG4gICAgICAgIHRyYW5zYWN0aW9uczogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBpZDogJ2J1cm4tdHgtMScsXHJcbiAgICAgICAgICAgIHVzZXJJZCxcclxuICAgICAgICAgICAgYW1vdW50OiBuZXcgRGVjaW1hbCgxMDApLFxyXG4gICAgICAgICAgICBidXJuUmF0ZTogMC4wMixcclxuICAgICAgICAgICAgYnVybmVkQW1vdW50OiBuZXcgRGVjaW1hbCgyKSxcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiBCdXJuVHJhbnNhY3Rpb25UeXBlLlRPS0VOX1JFREVNUFRJT04sXHJcbiAgICAgICAgICAgIHJlYXNvbjogJ1ByZW1pdW0gZmVhdHVyZScsXHJcbiAgICAgICAgICAgIGJsb2NrY2hhaW5UeEhhc2g6ICcweDEyMycsXHJcbiAgICAgICAgICAgIGJsb2NrY2hhaW5TdGF0dXM6IEJsb2NrY2hhaW5TdGF0dXMuQ09ORklSTUVELFxyXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGlkOiAnYnVybi10eC0yJyxcclxuICAgICAgICAgICAgdXNlcklkLFxyXG4gICAgICAgICAgICBhbW91bnQ6IG5ldyBEZWNpbWFsKDIwMCksXHJcbiAgICAgICAgICAgIGJ1cm5SYXRlOiAwLjAyLFxyXG4gICAgICAgICAgICBidXJuZWRBbW91bnQ6IG5ldyBEZWNpbWFsKDQpLFxyXG4gICAgICAgICAgICB0cmFuc2FjdGlvblR5cGU6IEJ1cm5UcmFuc2FjdGlvblR5cGUuVE9LRU5fUkVERU1QVElPTixcclxuICAgICAgICAgICAgcmVhc29uOiAnUHJlbWl1bSBmZWF0dXJlJyxcclxuICAgICAgICAgICAgYmxvY2tjaGFpblR4SGFzaDogJzB4MTI0JyxcclxuICAgICAgICAgICAgYmxvY2tjaGFpblN0YXR1czogQmxvY2tjaGFpblN0YXR1cy5DT05GSVJNRUQsXHJcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIHRvdGFsOiAyLFxyXG4gICAgICAgIHRvdGFsQnVybmVkOiBuZXcgRGVjaW1hbCg2KSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGplc3Quc3B5T24ocmVwb3NpdG9yeSwgJ2dldEJ1cm5IaXN0b3J5JykubW9ja1Jlc29sdmVkVmFsdWUobW9ja0hpc3RvcnkpO1xyXG5cclxuICAgICAgY29uc3QgaGlzdG9yeSA9IGF3YWl0IGJ1cm5UcmFja2VyLmdldEJ1cm5IaXN0b3J5KHtcclxuICAgICAgICB1c2VySWQsXHJcbiAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiBCdXJuVHJhbnNhY3Rpb25UeXBlLlRPS0VOX1JFREVNUFRJT04sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KGhpc3RvcnkudHJhbnNhY3Rpb25zKS50b0hhdmVMZW5ndGgoMik7XHJcbiAgICAgIGV4cGVjdChoaXN0b3J5LnRvdGFsQnVybmVkLnRvU3RyaW5nKCkpLnRvQmUoJzYnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnTGVhZGVyYm9hcmQgUmFua2luZyBVcGRhdGVzIG9uIEJ1cm4nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBsZWFkZXJib2FyZCByYW5raW5ncyBhZnRlciBidXJuJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VycyA9IFtcclxuICAgICAgICB7IHVzZXJJZDogJ3VzZXItMScsIHRva2VuczogbmV3IERlY2ltYWwoMTAwMDApIH0sXHJcbiAgICAgICAgeyB1c2VySWQ6ICd1c2VyLTInLCB0b2tlbnM6IG5ldyBEZWNpbWFsKDUwMDApIH0sXHJcbiAgICAgICAgeyB1c2VySWQ6ICd1c2VyLTMnLCB0b2tlbnM6IG5ldyBEZWNpbWFsKDIwMDApIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCB0b3RhbFN1cHBseSA9IG5ldyBEZWNpbWFsKDIwMDAwKTtcclxuXHJcbiAgICAgIC8vIENhbGN1bGF0ZSBvd25lcnNoaXAgcGVyY2VudGFnZXNcclxuICAgICAgY29uc3Qgb3duZXJzaGlwcyA9IHVzZXJzLm1hcCgodSkgPT4gKHtcclxuICAgICAgICB1c2VySWQ6IHUudXNlcklkLFxyXG4gICAgICAgIHBlcmNlbnRhZ2U6IHUudG9rZW5zLmRpdmlkZWRCeSh0b3RhbFN1cHBseSkudGltZXMoMTAwKS50b051bWJlcigpLFxyXG4gICAgICB9KSk7XHJcblxyXG4gICAgICAvLyBTb3J0IGJ5IG93bmVyc2hpcCAoZGVzY2VuZGluZylcclxuICAgICAgb3duZXJzaGlwcy5zb3J0KChhLCBiKSA9PiBiLnBlcmNlbnRhZ2UgLSBhLnBlcmNlbnRhZ2UpO1xyXG5cclxuICAgICAgZXhwZWN0KG93bmVyc2hpcHNbMF0udXNlcklkKS50b0JlKCd1c2VyLTEnKTtcclxuICAgICAgZXhwZWN0KG93bmVyc2hpcHNbMF0ucGVyY2VudGFnZSkudG9CZUNsb3NlVG8oNTAsIDEpO1xyXG4gICAgICBleHBlY3Qob3duZXJzaGlwc1sxXS51c2VySWQpLnRvQmUoJ3VzZXItMicpO1xyXG4gICAgICBleHBlY3Qob3duZXJzaGlwc1sxXS5wZXJjZW50YWdlKS50b0JlQ2xvc2VUbygyNSwgMSk7XHJcbiAgICAgIGV4cGVjdChvd25lcnNoaXBzWzJdLnVzZXJJZCkudG9CZSgndXNlci0zJyk7XHJcbiAgICAgIGV4cGVjdChvd25lcnNoaXBzWzJdLnBlcmNlbnRhZ2UpLnRvQmVDbG9zZVRvKDEwLCAxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmVjYWxjdWxhdGUgcmFua2luZ3Mgd2hlbiBzdXBwbHkgY2hhbmdlcyBkdWUgdG8gYnVybicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgaW5pdGlhbFN1cHBseSA9IG5ldyBEZWNpbWFsKDIwMDAwKTtcclxuICAgICAgY29uc3QgdXNlclRva2VucyA9IG5ldyBEZWNpbWFsKDUwMDApO1xyXG5cclxuICAgICAgLy8gSW5pdGlhbCBvd25lcnNoaXBcclxuICAgICAgY29uc3QgaW5pdGlhbE93bmVyc2hpcCA9IHVzZXJUb2tlbnNcclxuICAgICAgICAuZGl2aWRlZEJ5KGluaXRpYWxTdXBwbHkpXHJcbiAgICAgICAgLnRpbWVzKDEwMClcclxuICAgICAgICAudG9OdW1iZXIoKTtcclxuXHJcbiAgICAgIGV4cGVjdChpbml0aWFsT3duZXJzaGlwKS50b0JlQ2xvc2VUbygyNSwgMSk7XHJcblxyXG4gICAgICAvLyBBZnRlciBidXJuOiBzdXBwbHkgZGVjcmVhc2VzIHRvIDE5MDAwXHJcbiAgICAgIGNvbnN0IGJ1cm5lZEFtb3VudCA9IG5ldyBEZWNpbWFsKDEwMDApO1xyXG4gICAgICBjb25zdCBuZXdTdXBwbHkgPSBpbml0aWFsU3VwcGx5Lm1pbnVzKGJ1cm5lZEFtb3VudCk7XHJcblxyXG4gICAgICAvLyBOZXcgb3duZXJzaGlwICh1c2VyIHRva2VucyB1bmNoYW5nZWQsIGJ1dCBzdXBwbHkgZGVjcmVhc2VkKVxyXG4gICAgICBjb25zdCBuZXdPd25lcnNoaXAgPSB1c2VyVG9rZW5zXHJcbiAgICAgICAgLmRpdmlkZWRCeShuZXdTdXBwbHkpXHJcbiAgICAgICAgLnRpbWVzKDEwMClcclxuICAgICAgICAudG9OdW1iZXIoKTtcclxuXHJcbiAgICAgIGV4cGVjdChuZXdPd25lcnNoaXApLnRvQmVDbG9zZVRvKDI2LjMsIDEpOyAvLyBJbmNyZWFzZWQgZHVlIHRvIGxvd2VyIHN1cHBseVxyXG4gICAgICBleHBlY3QobmV3T3duZXJzaGlwKS50b0JlR3JlYXRlclRoYW4oaW5pdGlhbE93bmVyc2hpcCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSByYW5raW5nIGNoYW5nZXMgZm9yIG11bHRpcGxlIHVzZXJzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2NrUmFua2luZ1VwZGF0ZXMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdXNlcklkOiAndXNlci0xJyxcclxuICAgICAgICAgIG5ld1Jhbms6IDEsXHJcbiAgICAgICAgICBwcmV2aW91c1Jhbms6IDIsXHJcbiAgICAgICAgICBvd25lcnNoaXBQZXJjZW50YWdlOiAzMCxcclxuICAgICAgICAgIGNoYW5nZWQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB1c2VySWQ6ICd1c2VyLTInLFxyXG4gICAgICAgICAgbmV3UmFuazogMixcclxuICAgICAgICAgIHByZXZpb3VzUmFuazogMSxcclxuICAgICAgICAgIG93bmVyc2hpcFBlcmNlbnRhZ2U6IDI1LFxyXG4gICAgICAgICAgY2hhbmdlZDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHVzZXJJZDogJ3VzZXItMycsXHJcbiAgICAgICAgICBuZXdSYW5rOiAzLFxyXG4gICAgICAgICAgcHJldmlvdXNSYW5rOiAzLFxyXG4gICAgICAgICAgb3duZXJzaGlwUGVyY2VudGFnZTogMjAsXHJcbiAgICAgICAgICBjaGFuZ2VkOiBmYWxzZSxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3QgY2hhbmdlZENvdW50ID0gbW9ja1JhbmtpbmdVcGRhdGVzLmZpbHRlcigocikgPT4gci5jaGFuZ2VkKS5sZW5ndGg7XHJcblxyXG4gICAgICBleHBlY3QobW9ja1JhbmtpbmdVcGRhdGVzKS50b0hhdmVMZW5ndGgoMyk7XHJcbiAgICAgIGV4cGVjdChjaGFuZ2VkQ291bnQpLnRvQmUoMik7XHJcbiAgICAgIGV4cGVjdChtb2NrUmFua2luZ1VwZGF0ZXNbMF0ubmV3UmFuaykudG9CZSgxKTtcclxuICAgICAgZXhwZWN0KG1vY2tSYW5raW5nVXBkYXRlc1sxXS5uZXdSYW5rKS50b0JlKDIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBoaXN0b3JpY2FsIHJhbmtpbmcgY2hhbmdlcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlcklkID0gJ3VzZXItMTIzJztcclxuICAgICAgY29uc3QgbW9ja0hpc3RvcnkgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZGF0ZTogbmV3IERhdGUoJzIwMjQtMDEtMDEnKSxcclxuICAgICAgICAgIHJhbms6IDEwMCxcclxuICAgICAgICAgIG93bmVyc2hpcFBlcmNlbnRhZ2U6IDAuNSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCcyMDI0LTAxLTAyJyksXHJcbiAgICAgICAgICByYW5rOiA5NSxcclxuICAgICAgICAgIG93bmVyc2hpcFBlcmNlbnRhZ2U6IDAuNTIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgnMjAyNC0wMS0wMycpLFxyXG4gICAgICAgICAgcmFuazogOTAsXHJcbiAgICAgICAgICBvd25lcnNoaXBQZXJjZW50YWdlOiAwLjU1LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBleHBlY3QobW9ja0hpc3RvcnkpLnRvSGF2ZUxlbmd0aCgzKTtcclxuICAgICAgZXhwZWN0KG1vY2tIaXN0b3J5WzBdLnJhbmspLnRvQmUoMTAwKTtcclxuICAgICAgZXhwZWN0KG1vY2tIaXN0b3J5WzJdLnJhbmspLnRvQmUoOTApO1xyXG4gICAgICBleHBlY3QobW9ja0hpc3RvcnlbMl0ub3duZXJzaGlwUGVyY2VudGFnZSkudG9CZUdyZWF0ZXJUaGFuKG1vY2tIaXN0b3J5WzBdLm93bmVyc2hpcFBlcmNlbnRhZ2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgcmFua2luZyBwZXJjZW50aWxlIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdG90YWxVc2VycyA9IDEwMDA7XHJcbiAgICAgIGNvbnN0IHVzZXJSYW5rID0gMTAwO1xyXG5cclxuICAgICAgY29uc3QgcGVyY2VudGlsZSA9ICgodG90YWxVc2VycyAtIHVzZXJSYW5rKSAvIHRvdGFsVXNlcnMpICogMTAwO1xyXG5cclxuICAgICAgZXhwZWN0KHBlcmNlbnRpbGUpLnRvQmUoOTApOyAvLyBUb3AgMTAlXHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlZGdlIGNhc2Ugb2Ygc2luZ2xlIHVzZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRvdGFsVXNlcnMgPSAxO1xyXG4gICAgICBjb25zdCB1c2VyUmFuayA9IDE7XHJcblxyXG4gICAgICBjb25zdCBwZXJjZW50aWxlID0gKCh0b3RhbFVzZXJzIC0gdXNlclJhbmspIC8gdG90YWxVc2VycykgKiAxMDA7XHJcblxyXG4gICAgICBleHBlY3QocGVyY2VudGlsZSkudG9CZSgwKTsgLy8gT25seSB1c2VyLCBubyBwZXJjZW50aWxlXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0Nyb3NzLUZsb3cgSW50ZWdyYXRpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXhlZCB0cmFuc2FjdGlvbiB0eXBlcyBpbiBzaW5nbGUgZmxvdycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlcklkID0gJ3VzZXItMTIzJztcclxuICAgICAgY29uc3QgdHJhbnNhY3Rpb25zID0gW1xyXG4gICAgICAgIHsgYW1vdW50OiBuZXcgRGVjaW1hbCgxMDApLCB0eXBlOiBCdXJuVHJhbnNhY3Rpb25UeXBlLkNPVVJTRV9TQUxFIH0sXHJcbiAgICAgICAgeyBhbW91bnQ6IG5ldyBEZWNpbWFsKDEwMDApLCB0eXBlOiBCdXJuVHJhbnNhY3Rpb25UeXBlLkVBUk5JTkdTX1dJVEhEUkFXQUwgfSxcclxuICAgICAgICB7IGFtb3VudDogbmV3IERlY2ltYWwoNTAwKSwgdHlwZTogQnVyblRyYW5zYWN0aW9uVHlwZS5UT0tFTl9SRURFTVBUSU9OIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCBidXJucyA9IHRyYW5zYWN0aW9ucy5tYXAoKHR4KSA9PlxyXG4gICAgICAgIGNhbGN1bGF0b3IuY2FsY3VsYXRlQnVybih0eC5hbW91bnQsIHR4LnR5cGUpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCB0b3RhbEJ1cm5lZCA9IGJ1cm5zLnJlZHVjZShcclxuICAgICAgICAoc3VtLCBidXJuKSA9PiBzdW0ucGx1cyhidXJuLmJ1cm5lZEFtb3VudCksXHJcbiAgICAgICAgbmV3IERlY2ltYWwoMClcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChidXJuc1swXS5idXJuZWRBbW91bnQudG9TdHJpbmcoKSkudG9CZSgnNScpOyAvLyA1JSBvZiAxMDBcclxuICAgICAgZXhwZWN0KGJ1cm5zWzFdLmJ1cm5lZEFtb3VudC50b1N0cmluZygpKS50b0JlKCczMCcpOyAvLyAzJSBvZiAxMDAwXHJcbiAgICAgIGV4cGVjdChidXJuc1syXS5idXJuZWRBbW91bnQudG9TdHJpbmcoKSkudG9CZSgnMTAnKTsgLy8gMiUgb2YgNTAwXHJcbiAgICAgIGV4cGVjdCh0b3RhbEJ1cm5lZC50b1N0cmluZygpKS50b0JlKCc0NScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBtYWludGFpbiBjb25zaXN0ZW5jeSBhY3Jvc3Mgc3VwcGx5IHVwZGF0ZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGluaXRpYWxTdXBwbHkgPSBuZXcgRGVjaW1hbCgxMDAwMDAwKTtcclxuICAgICAgY29uc3QgaW5pdGlhbENpcmN1bGF0aW5nID0gbmV3IERlY2ltYWwoOTAwMDAwKTtcclxuICAgICAgbGV0IGN1cnJlbnRCdXJuZWQgPSBuZXcgRGVjaW1hbCgwKTtcclxuXHJcbiAgICAgIC8vIFNpbXVsYXRlIG11bHRpcGxlIGJ1cm5zXHJcbiAgICAgIGNvbnN0IGJ1cm5zID0gW1xyXG4gICAgICAgIG5ldyBEZWNpbWFsKDEwMCksIC8vIDUlIG9mIDIwMDAgc2FsZVxyXG4gICAgICAgIG5ldyBEZWNpbWFsKDMwKSwgLy8gMyUgb2YgMTAwMCB3aXRoZHJhd2FsXHJcbiAgICAgICAgbmV3IERlY2ltYWwoMTApLCAvLyAyJSBvZiA1MDAgcmVkZW1wdGlvblxyXG4gICAgICBdO1xyXG5cclxuICAgICAgYnVybnMuZm9yRWFjaCgoYnVybikgPT4ge1xyXG4gICAgICAgIGN1cnJlbnRCdXJuZWQgPSBjdXJyZW50QnVybmVkLnBsdXMoYnVybik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgZmluYWxDaXJjdWxhdGluZyA9IGluaXRpYWxDaXJjdWxhdGluZy5taW51cyhjdXJyZW50QnVybmVkKTtcclxuXHJcbiAgICAgIGV4cGVjdChjdXJyZW50QnVybmVkLnRvU3RyaW5nKCkpLnRvQmUoJzE0MCcpO1xyXG4gICAgICBleHBlY3QoZmluYWxDaXJjdWxhdGluZy50b1N0cmluZygpKS50b0JlKCc4OTk4NjAnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgYnVybnMgd2l0aG91dCBkYXRhIGxvc3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbmN1cnJlbnRCdXJucyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwIH0sIChfLCBpKSA9PiAoe1xyXG4gICAgICAgIHVzZXJJZDogYHVzZXItJHtpfWAsXHJcbiAgICAgICAgYW1vdW50OiBuZXcgRGVjaW1hbCgxMDAgKiAoaSArIDEpKSxcclxuICAgICAgICB0eXBlOiBCdXJuVHJhbnNhY3Rpb25UeXBlLkNPVVJTRV9TQUxFLFxyXG4gICAgICB9KSk7XHJcblxyXG4gICAgICBjb25zdCBidXJucyA9IGNvbmN1cnJlbnRCdXJucy5tYXAoKGJ1cm4pID0+XHJcbiAgICAgICAgY2FsY3VsYXRvci5jYWxjdWxhdGVCdXJuKGJ1cm4uYW1vdW50LCBidXJuLnR5cGUpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCB0b3RhbEJ1cm5lZCA9IGJ1cm5zLnJlZHVjZShcclxuICAgICAgICAoc3VtLCBidXJuKSA9PiBzdW0ucGx1cyhidXJuLmJ1cm5lZEFtb3VudCksXHJcbiAgICAgICAgbmV3IERlY2ltYWwoMClcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIFN1bSBvZiA1JSBvZiAoMTAwLCAyMDAsIDMwMCwgLi4uLCAxMDAwKVxyXG4gICAgICBjb25zdCBleHBlY3RlZFRvdGFsID0gbmV3IERlY2ltYWwoMjc1MCk7IC8vIDUlIG9mIDU1MDAwXHJcblxyXG4gICAgICBleHBlY3QodG90YWxCdXJuZWQudG9TdHJpbmcoKSkudG9CZShleHBlY3RlZFRvdGFsLnRvU3RyaW5nKCkpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdFcnJvciBIYW5kbGluZyBhbmQgRWRnZSBDYXNlcycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHplcm8gYnVybiBhbW91bnQgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgZXhwZWN0KCgpID0+IHtcclxuICAgICAgICBjYWxjdWxhdG9yLmNhbGN1bGF0ZUJ1cm4obmV3IERlY2ltYWwoMCksIEJ1cm5UcmFuc2FjdGlvblR5cGUuQ09VUlNFX1NBTEUpO1xyXG4gICAgICB9KS50b1Rocm93KCdBbW91bnQgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbmVnYXRpdmUgYW1vdW50cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgZXhwZWN0KCgpID0+IHtcclxuICAgICAgICBjYWxjdWxhdG9yLmNhbGN1bGF0ZUJ1cm4obmV3IERlY2ltYWwoLTEwMCksIEJ1cm5UcmFuc2FjdGlvblR5cGUuQ09VUlNFX1NBTEUpO1xyXG4gICAgICB9KS50b1Rocm93KCdBbW91bnQgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmVyeSBsYXJnZSBhbW91bnRzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBsYXJnZUFtb3VudCA9IG5ldyBEZWNpbWFsKCc5OTk5OTk5OTk5OTkuOTknKTtcclxuICAgICAgY29uc3QgYnVybiA9IGNhbGN1bGF0b3IuY2FsY3VsYXRlQnVybihsYXJnZUFtb3VudCwgQnVyblRyYW5zYWN0aW9uVHlwZS5DT1VSU0VfU0FMRSk7XHJcblxyXG4gICAgICBleHBlY3QoYnVybi5idXJuZWRBbW91bnQudG9TdHJpbmcoKSkudG9CZSgnNDk5OTk5OTk5OTkuOTk5NScpO1xyXG4gICAgICBleHBlY3QoYnVybi5uZXRBbW91bnQudG9TdHJpbmcoKSkudG9CZSgnOTQ5OTk5OTk5OTk5Ljk5MDUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHZlcnkgc21hbGwgYW1vdW50cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc21hbGxBbW91bnQgPSBuZXcgRGVjaW1hbCgnMC4wMScpO1xyXG4gICAgICBjb25zdCBidXJuID0gY2FsY3VsYXRvci5jYWxjdWxhdGVCdXJuKHNtYWxsQW1vdW50LCBCdXJuVHJhbnNhY3Rpb25UeXBlLkNPVVJTRV9TQUxFKTtcclxuXHJcbiAgICAgIGV4cGVjdChidXJuLmJ1cm5lZEFtb3VudC50b1N0cmluZygpKS50b0JlKCcwLjAwMDUnKTtcclxuICAgICAgZXhwZWN0KGJ1cm4ubmV0QW1vdW50LnRvU3RyaW5nKCkpLnRvQmUoJzAuMDA5NScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB0cmFuc2FjdGlvbiB0eXBlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB2YWxpZGF0aW9uID0gY2FsY3VsYXRvci52YWxpZGF0ZUJ1cm5UcmFuc2FjdGlvbihcclxuICAgICAgICBuZXcgRGVjaW1hbCgxMDApLFxyXG4gICAgICAgICdJTlZBTElEX1RZUEUnIGFzIGFueSxcclxuICAgICAgICBuZXcgRGVjaW1hbCgyMDApXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QodmFsaWRhdGlvbi5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcclxuICAgICAgZXhwZWN0KHZhbGlkYXRpb24uZXJyb3JzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGVuZGluZyBibG9ja2NoYWluIHRyYW5zYWN0aW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja1RyYW5zYWN0aW9uID0ge1xyXG4gICAgICAgIGlkOiAnYnVybi10eC0xJyxcclxuICAgICAgICB1c2VySWQ6ICd1c2VyLTEyMycsXHJcbiAgICAgICAgYW1vdW50OiBuZXcgRGVjaW1hbCgxMDApLFxyXG4gICAgICAgIGJ1cm5SYXRlOiAwLjA1LFxyXG4gICAgICAgIGJ1cm5lZEFtb3VudDogbmV3IERlY2ltYWwoNSksXHJcbiAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiBCdXJuVHJhbnNhY3Rpb25UeXBlLkNPVVJTRV9TQUxFLFxyXG4gICAgICAgIHJlYXNvbjogJ0NvdXJzZSBzYWxlJyxcclxuICAgICAgICBibG9ja2NoYWluVHhIYXNoOiBudWxsLFxyXG4gICAgICAgIGJsb2NrY2hhaW5TdGF0dXM6IEJsb2NrY2hhaW5TdGF0dXMuUEVORElORyxcclxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgamVzdC5zcHlPbihyZXBvc2l0b3J5LCAnY3JlYXRlQnVyblRyYW5zYWN0aW9uJykubW9ja1Jlc29sdmVkVmFsdWUobW9ja1RyYW5zYWN0aW9uKTtcclxuXHJcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgYnVyblRyYWNrZXIubG9nQnVyblRyYW5zYWN0aW9uKFxyXG4gICAgICAgICd1c2VyLTEyMycsXHJcbiAgICAgICAgbmV3IERlY2ltYWwoMTAwKSxcclxuICAgICAgICAwLjA1LFxyXG4gICAgICAgIG5ldyBEZWNpbWFsKDUpLFxyXG4gICAgICAgIEJ1cm5UcmFuc2FjdGlvblR5cGUuQ09VUlNFX1NBTEUsXHJcbiAgICAgICAgJ0NvdXJzZSBzYWxlJ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHRyYW5zYWN0aW9uLmJsb2NrY2hhaW5TdGF0dXMpLnRvQmUoQmxvY2tjaGFpblN0YXR1cy5QRU5ESU5HKTtcclxuICAgICAgZXhwZWN0KHRyYW5zYWN0aW9uLmJsb2NrY2hhaW5UeEhhc2gpLnRvQmVOdWxsKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBmYWlsZWQgYmxvY2tjaGFpbiB0cmFuc2FjdGlvbnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tUcmFuc2FjdGlvbiA9IHtcclxuICAgICAgICBpZDogJ2J1cm4tdHgtMScsXHJcbiAgICAgICAgdXNlcklkOiAndXNlci0xMjMnLFxyXG4gICAgICAgIGFtb3VudDogbmV3IERlY2ltYWwoMTAwKSxcclxuICAgICAgICBidXJuUmF0ZTogMC4wNSxcclxuICAgICAgICBidXJuZWRBbW91bnQ6IG5ldyBEZWNpbWFsKDUpLFxyXG4gICAgICAgIHRyYW5zYWN0aW9uVHlwZTogQnVyblRyYW5zYWN0aW9uVHlwZS5DT1VSU0VfU0FMRSxcclxuICAgICAgICByZWFzb246ICdDb3Vyc2Ugc2FsZScsXHJcbiAgICAgICAgYmxvY2tjaGFpblR4SGFzaDogbnVsbCxcclxuICAgICAgICBibG9ja2NoYWluU3RhdHVzOiBCbG9ja2NoYWluU3RhdHVzLkZBSUxFRCxcclxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgamVzdC5zcHlPbihyZXBvc2l0b3J5LCAnY3JlYXRlQnVyblRyYW5zYWN0aW9uJykubW9ja1Jlc29sdmVkVmFsdWUobW9ja1RyYW5zYWN0aW9uKTtcclxuXHJcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgYnVyblRyYWNrZXIubG9nQnVyblRyYW5zYWN0aW9uKFxyXG4gICAgICAgICd1c2VyLTEyMycsXHJcbiAgICAgICAgbmV3IERlY2ltYWwoMTAwKSxcclxuICAgICAgICAwLjA1LFxyXG4gICAgICAgIG5ldyBEZWNpbWFsKDUpLFxyXG4gICAgICAgIEJ1cm5UcmFuc2FjdGlvblR5cGUuQ09VUlNFX1NBTEUsXHJcbiAgICAgICAgJ0NvdXJzZSBzYWxlJ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHRyYW5zYWN0aW9uLmJsb2NrY2hhaW5TdGF0dXMpLnRvQmUoQmxvY2tjaGFpblN0YXR1cy5GQUlMRUQpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZSBhbmQgU2NhbGFiaWxpdHknLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBidXJucyBlZmZpY2llbnRseSBmb3IgYnVsayBvcGVyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgY29uc3QgdHJhbnNhY3Rpb25zID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwMCB9LCAoXywgaSkgPT4gKHtcclxuICAgICAgICBhbW91bnQ6IG5ldyBEZWNpbWFsKDEwMCAqIChpICsgMSkpLFxyXG4gICAgICAgIHR5cGU6IEJ1cm5UcmFuc2FjdGlvblR5cGUuQ09VUlNFX1NBTEUsXHJcbiAgICAgIH0pKTtcclxuXHJcbiAgICAgIGNvbnN0IGJ1cm5zID0gY2FsY3VsYXRvci5jYWxjdWxhdGVCdWxrQnVybnModHJhbnNhY3Rpb25zKTtcclxuXHJcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICBjb25zdCBkdXJhdGlvbiA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XHJcblxyXG4gICAgICBleHBlY3QoYnVybnMpLnRvSGF2ZUxlbmd0aCgxMDAwKTtcclxuICAgICAgZXhwZWN0KGR1cmF0aW9uKS50b0JlTGVzc1RoYW4oMTAwMCk7IC8vIFNob3VsZCBjb21wbGV0ZSBpbiBsZXNzIHRoYW4gMSBzZWNvbmRcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIHRvdGFsIGJ1cm4gZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9ucyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMDAgfSwgKF8sIGkpID0+ICh7XHJcbiAgICAgICAgYW1vdW50OiBuZXcgRGVjaW1hbCgxMDAgKiAoaSArIDEpKSxcclxuICAgICAgICB0eXBlOiBCdXJuVHJhbnNhY3Rpb25UeXBlLkNPVVJTRV9TQUxFLFxyXG4gICAgICB9KSk7XHJcblxyXG4gICAgICBjb25zdCB0b3RhbEJ1cm4gPSBjYWxjdWxhdG9yLmNhbGN1bGF0ZVRvdGFsQnVybih0cmFuc2FjdGlvbnMpO1xyXG5cclxuICAgICAgZXhwZWN0KHRvdGFsQnVybikudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHRvdGFsQnVybi50b051bWJlcigpKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFtQkE7QUFDQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7QUFUM0IsSUFBQUMsUUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsb0JBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLFlBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLG1CQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxVQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxvQkFBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sT0FBQSxHQUFBTixPQUFBO0FBQThDLFNBQUFILFlBQUE7RUFBQTtJQUFBVTtFQUFBLElBQUFQLE9BQUE7RUFBQUgsV0FBQSxHQUFBQSxDQUFBLEtBQUFVLElBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFqQjlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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