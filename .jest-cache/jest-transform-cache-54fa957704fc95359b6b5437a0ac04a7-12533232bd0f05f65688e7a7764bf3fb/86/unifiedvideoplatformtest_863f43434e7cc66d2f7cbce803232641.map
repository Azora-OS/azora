{"version":3,"names":["_unifiedVideoPlatform","require","describe","service","beforeEach","UnifiedVideoPlatformService","defaultVideoPlatformConfig","afterEach","cleanup","it","expect","toBeDefined","content","getAllContent","length","toBeGreaterThan","Array","isArray","toBe","firstContent","retrievedContent","getContentById","id","youtubeContent","platform","forEach","techContent","category","userId","videoId","progress","completed","trackProgress","userProgress","getUserProgress","videoProgress","getUserVideoProgress","recommendations","getRecommendations","health","getHealthStatus","status"],"sources":["unified-video-platform.test.ts"],"sourcesContent":["/**\r\n * AZORA OS - Unified Video Platform Service Tests\r\n */\r\n\r\nimport {\r\n  UnifiedVideoPlatformService,\r\n  defaultVideoPlatformConfig,\r\n} from '../services/unified-video-platform';\r\n\r\ndescribe('UnifiedVideoPlatformService', () => {\r\n  let service: UnifiedVideoPlatformService;\r\n\r\n  beforeEach(() => {\r\n    service = new UnifiedVideoPlatformService(defaultVideoPlatformConfig);\r\n  });\r\n\r\n  afterEach(async () => {\r\n    await service.cleanup();\r\n  });\r\n\r\n  describe('Initialization', () => {\r\n    it('should initialize successfully', () => {\r\n      expect(service).toBeDefined();\r\n    });\r\n\r\n    it('should load sample content', () => {\r\n      const content = service.getAllContent();\r\n      expect(content.length).toBeGreaterThan(0);\r\n    });\r\n  });\r\n\r\n  describe('Content Management', () => {\r\n    it('should get all content', () => {\r\n      const content = service.getAllContent();\r\n      expect(Array.isArray(content)).toBe(true);\r\n    });\r\n\r\n    it('should get content by ID', () => {\r\n      const content = service.getAllContent();\r\n      if (content.length > 0) {\r\n        const firstContent = content[0];\r\n        const retrievedContent = service.getContentById(firstContent.id);\r\n        expect(retrievedContent).toBeDefined();\r\n        expect(retrievedContent?.id).toBe(firstContent.id);\r\n      }\r\n    });\r\n\r\n    it('should filter content by platform', () => {\r\n      const youtubeContent = service.getAllContent({ platform: 'youtube' });\r\n      youtubeContent.forEach(content => {\r\n        expect(content.platform).toBe('youtube');\r\n      });\r\n    });\r\n\r\n    it('should filter content by category', () => {\r\n      const techContent = service.getAllContent({ category: 'Technology' });\r\n      techContent.forEach(content => {\r\n        expect(content.category).toBe('Technology');\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('User Progress', () => {\r\n    const userId = 'test-user';\r\n    const videoId = 'yt-sample-001';\r\n\r\n    it('should track user progress', async () => {\r\n      const progress = {\r\n        videoId,\r\n        platform: 'youtube',\r\n        progress: 50,\r\n        completed: false,\r\n      };\r\n\r\n      await service.trackProgress({ userId, ...progress });\r\n      const userProgress = service.getUserProgress(userId);\r\n\r\n      expect(userProgress.length).toBe(1);\r\n      expect(userProgress[0].videoId).toBe(videoId);\r\n      expect(userProgress[0].progress).toBe(50);\r\n    });\r\n\r\n    it('should get user progress', () => {\r\n      const userProgress = service.getUserProgress(userId);\r\n      expect(Array.isArray(userProgress)).toBe(true);\r\n    });\r\n\r\n    it('should get user video progress', () => {\r\n      const videoProgress = service.getUserVideoProgress(userId, videoId);\r\n      expect(videoProgress).toBeDefined();\r\n      expect(videoProgress?.videoId).toBe(videoId);\r\n    });\r\n  });\r\n\r\n  describe('Recommendations', () => {\r\n    it('should generate recommendations', () => {\r\n      const recommendations = service.getRecommendations('test-user');\r\n      expect(Array.isArray(recommendations)).toBe(true);\r\n    });\r\n  });\r\n\r\n  describe('Health Status', () => {\r\n    it('should return health status', async () => {\r\n      const health = await service.getHealthStatus();\r\n      expect(health).toBeDefined();\r\n      expect(health.service).toBe('Unified Video Platform Service');\r\n      expect(health.status).toBe('healthy');\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}