2bfa226c83df15069fd746ea7e0b60af
"use strict";

const request = require('supertest');
const app = require('../server');
describe('azora-studyspaces E2E Tests', () => {
  it('should complete full user workflow', async () => {
    // Health check
    const health = await request(app).get('/health').expect(200);
    expect(health.body.status).toBe('healthy');

    // Service info
    const info = await request(app).get('/').expect(200);
    expect(info.body.service).toBe('azora-studyspaces');

    // Ubuntu philosophy check
    expect(info.body.ubuntu).toBe('I serve because we prosper together');
  });
  it('should maintain service availability', async () => {
    const checks = [];
    for (let i = 0; i < 60; i++) {
      const res = await request(app).get('/health');
      checks.push(res.status === 200);
      await new Promise(resolve => setTimeout(resolve, 1000));
    }
    const uptime = checks.filter(Boolean).length / checks.length;
    expect(uptime).toBeGreaterThan(0.99); // 99% uptime
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImFwcCIsImRlc2NyaWJlIiwiaXQiLCJoZWFsdGgiLCJnZXQiLCJleHBlY3QiLCJib2R5Iiwic3RhdHVzIiwidG9CZSIsImluZm8iLCJzZXJ2aWNlIiwidWJ1bnR1IiwiY2hlY2tzIiwiaSIsInJlcyIsInB1c2giLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ1cHRpbWUiLCJmaWx0ZXIiLCJCb29sZWFuIiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIl0sInNvdXJjZXMiOlsiYXpvcmEtc3R1ZHlzcGFjZXMuZTJlLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpO1xuY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vc2VydmVyJyk7XG5cbmRlc2NyaWJlKCdhem9yYS1zdHVkeXNwYWNlcyBFMkUgVGVzdHMnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgY29tcGxldGUgZnVsbCB1c2VyIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIEhlYWx0aCBjaGVja1xuICAgIGNvbnN0IGhlYWx0aCA9IGF3YWl0IHJlcXVlc3QoYXBwKS5nZXQoJy9oZWFsdGgnKS5leHBlY3QoMjAwKTtcbiAgICBleHBlY3QoaGVhbHRoLmJvZHkuc3RhdHVzKS50b0JlKCdoZWFsdGh5Jyk7XG5cbiAgICAvLyBTZXJ2aWNlIGluZm9cbiAgICBjb25zdCBpbmZvID0gYXdhaXQgcmVxdWVzdChhcHApLmdldCgnLycpLmV4cGVjdCgyMDApO1xuICAgIGV4cGVjdChpbmZvLmJvZHkuc2VydmljZSkudG9CZSgnYXpvcmEtc3R1ZHlzcGFjZXMnKTtcblxuICAgIC8vIFVidW50dSBwaGlsb3NvcGh5IGNoZWNrXG4gICAgZXhwZWN0KGluZm8uYm9keS51YnVudHUpLnRvQmUoJ0kgc2VydmUgYmVjYXVzZSB3ZSBwcm9zcGVyIHRvZ2V0aGVyJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgbWFpbnRhaW4gc2VydmljZSBhdmFpbGFiaWxpdHknLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2MDsgaSsrKSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvaGVhbHRoJyk7XG4gICAgICBjaGVja3MucHVzaChyZXMuc3RhdHVzID09PSAyMDApO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTtcbiAgICB9XG4gICAgY29uc3QgdXB0aW1lID0gY2hlY2tzLmZpbHRlcihCb29sZWFuKS5sZW5ndGggLyBjaGVja3MubGVuZ3RoO1xuICAgIGV4cGVjdCh1cHRpbWUpLnRvQmVHcmVhdGVyVGhhbigwLjk5KTsgLy8gOTklIHVwdGltZVxuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDcEMsTUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBRWhDRSxRQUFRLENBQUMsNkJBQTZCLEVBQUUsTUFBTTtFQUM1Q0MsRUFBRSxDQUFDLG9DQUFvQyxFQUFFLFlBQVk7SUFDbkQ7SUFDQSxNQUFNQyxNQUFNLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FBQ0ksR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDQyxNQUFNLENBQUMsR0FBRyxDQUFDO0lBQzVEQSxNQUFNLENBQUNGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDQyxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLFNBQVMsQ0FBQzs7SUFFMUM7SUFDQSxNQUFNQyxJQUFJLEdBQUcsTUFBTVgsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FBQ0ksR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxNQUFNLENBQUMsR0FBRyxDQUFDO0lBQ3BEQSxNQUFNLENBQUNJLElBQUksQ0FBQ0gsSUFBSSxDQUFDSSxPQUFPLENBQUMsQ0FBQ0YsSUFBSSxDQUFDLG1CQUFtQixDQUFDOztJQUVuRDtJQUNBSCxNQUFNLENBQUNJLElBQUksQ0FBQ0gsSUFBSSxDQUFDSyxNQUFNLENBQUMsQ0FBQ0gsSUFBSSxDQUFDLHFDQUFxQyxDQUFDO0VBQ3RFLENBQUMsQ0FBQztFQUVGTixFQUFFLENBQUMsc0NBQXNDLEVBQUUsWUFBWTtJQUNyRCxNQUFNVSxNQUFNLEdBQUcsRUFBRTtJQUNqQixLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBRyxFQUFFLEVBQUVBLENBQUMsRUFBRSxFQUFFO01BQzNCLE1BQU1DLEdBQUcsR0FBRyxNQUFNaEIsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FBQ0ksR0FBRyxDQUFDLFNBQVMsQ0FBQztNQUM3Q1EsTUFBTSxDQUFDRyxJQUFJLENBQUNELEdBQUcsQ0FBQ1AsTUFBTSxLQUFLLEdBQUcsQ0FBQztNQUMvQixNQUFNLElBQUlTLE9BQU8sQ0FBQ0MsT0FBTyxJQUFJQyxVQUFVLENBQUNELE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN6RDtJQUNBLE1BQU1FLE1BQU0sR0FBR1AsTUFBTSxDQUFDUSxNQUFNLENBQUNDLE9BQU8sQ0FBQyxDQUFDQyxNQUFNLEdBQUdWLE1BQU0sQ0FBQ1UsTUFBTTtJQUM1RGpCLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLENBQUNJLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0VBQ3hDLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==