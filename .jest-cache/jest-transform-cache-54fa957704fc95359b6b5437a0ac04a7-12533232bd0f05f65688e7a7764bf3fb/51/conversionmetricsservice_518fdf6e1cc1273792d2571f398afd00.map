{"version":3,"names":["_client","require","_logger","cov_1h9lltcinx","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","_coverageSchema","coverage","actualCoverage","prisma","PrismaClient","ConversionMetricsService","getConversionMetrics","period","startDate","endDate","parsePeriod","usersByTier","user","groupBy","by","_count","id","where","createdAt","gte","lte","tierCounts","free","premium","pro","forEach","group","tier","conversionRate","calculateConversionRate","churnRate","calculateChurnRate","lifetimeValue","calculateLifetimeValue","customerAcquisitionCost","calculateCAC","paybackPeriod","calculatePaybackPeriod","freeUsers","premiumUsers","proUsers","error","logger","totalFreeAndPremium","premiumAtStart","count","lt","downgraded","updatedAt","result","payment","aggregate","_avg","amount","_sum","totalRevenue","totalUsers","Number","newUsers","estimatedMarketingSpend","cac","ltv","now","Date","includes","year","quarter","split","q","parseInt","startMonth","month","exports","conversionMetricsService"],"sources":["conversion-metrics.service.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\nimport { logger } from '../utils/logger';\r\n\r\nconst prisma = new PrismaClient();\r\n\r\nexport interface ConversionMetricsResponse {\r\n  period: string;\r\n  freeUsers: number;\r\n  premiumUsers: number;\r\n  proUsers: number;\r\n  conversionRate: number;\r\n  churnRate: number;\r\n  lifetimeValue: number;\r\n  customerAcquisitionCost: number;\r\n  paybackPeriod: number;\r\n}\r\n\r\nexport class ConversionMetricsService {\r\n  /**\r\n   * Calculate conversion metrics for a given period\r\n   * Requirements: 5.1, 5.2\r\n   */\r\n  async getConversionMetrics(period: string): Promise<ConversionMetricsResponse> {\r\n    try {\r\n      const [startDate, endDate] = this.parsePeriod(period);\r\n\r\n      // Get user counts by tier\r\n      const usersByTier = await prisma.user.groupBy({\r\n        by: ['tier'],\r\n        _count: {\r\n          id: true,\r\n        },\r\n        where: {\r\n          createdAt: {\r\n            gte: startDate,\r\n            lte: endDate,\r\n          },\r\n        },\r\n      });\r\n\r\n      const tierCounts = {\r\n        free: 0,\r\n        premium: 0,\r\n        pro: 0,\r\n      };\r\n\r\n      usersByTier.forEach((group: any) => {\r\n        tierCounts[group.tier as keyof typeof tierCounts] = group._count.id;\r\n      });\r\n\r\n      // Calculate conversion rate (free to premium)\r\n      const conversionRate = this.calculateConversionRate(tierCounts);\r\n\r\n      // Calculate churn rate\r\n      const churnRate = await this.calculateChurnRate(startDate, endDate);\r\n\r\n      // Calculate lifetime value\r\n      const lifetimeValue = await this.calculateLifetimeValue();\r\n\r\n      // Calculate customer acquisition cost\r\n      const customerAcquisitionCost = await this.calculateCAC(startDate, endDate);\r\n\r\n      // Calculate payback period\r\n      const paybackPeriod = this.calculatePaybackPeriod(customerAcquisitionCost, lifetimeValue);\r\n\r\n      return {\r\n        period,\r\n        freeUsers: tierCounts.free,\r\n        premiumUsers: tierCounts.premium,\r\n        proUsers: tierCounts.pro,\r\n        conversionRate,\r\n        churnRate,\r\n        lifetimeValue,\r\n        customerAcquisitionCost,\r\n        paybackPeriod,\r\n      };\r\n    } catch (error) {\r\n      logger.error('Error calculating conversion metrics', { error, period });\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate free to premium conversion rate\r\n   * Requirements: 5.1, 5.2\r\n   */\r\n  private calculateConversionRate(tierCounts: Record<string, number>): number {\r\n    const totalFreeAndPremium = tierCounts.free + tierCounts.premium;\r\n    if (totalFreeAndPremium === 0) {return 0;}\r\n    return (tierCounts.premium / totalFreeAndPremium) * 100;\r\n  }\r\n\r\n  /**\r\n   * Calculate churn rate (users who downgraded or became inactive)\r\n   * Requirements: 5.1, 5.2\r\n   */\r\n  private async calculateChurnRate(startDate: Date, endDate: Date): Promise<number> {\r\n    try {\r\n      // Get users who were premium at start of period\r\n      const premiumAtStart = await prisma.user.count({\r\n        where: {\r\n          tier: 'premium',\r\n          createdAt: {\r\n            lt: startDate,\r\n          },\r\n        },\r\n      });\r\n\r\n      if (premiumAtStart === 0) {return 0;}\r\n\r\n      // Get users who downgraded to free during period\r\n      const downgraded = await prisma.user.count({\r\n        where: {\r\n          tier: 'free',\r\n          updatedAt: {\r\n            gte: startDate,\r\n            lte: endDate,\r\n          },\r\n        },\r\n      });\r\n\r\n      return (downgraded / premiumAtStart) * 100;\r\n    } catch (error) {\r\n      logger.error('Error calculating churn rate', { error });\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate average lifetime value per student\r\n   * Requirements: 5.1, 5.2\r\n   */\r\n  private async calculateLifetimeValue(): Promise<number> {\r\n    try {\r\n      const result = await prisma.payment.aggregate({\r\n        _avg: {\r\n          amount: true,\r\n        },\r\n        _sum: {\r\n          amount: true,\r\n        },\r\n        _count: {\r\n          id: true,\r\n        },\r\n      });\r\n\r\n      if (!result._count.id || result._count.id === 0) {return 0;}\r\n\r\n      // Calculate average revenue per user\r\n      const totalRevenue = result._sum.amount || 0;\r\n      const totalUsers = await prisma.user.count();\r\n\r\n      if (totalUsers === 0) {return 0;}\r\n\r\n      return Number(totalRevenue) / totalUsers;\r\n    } catch (error) {\r\n      logger.error('Error calculating lifetime value', { error });\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate customer acquisition cost\r\n   * Requirements: 5.1, 5.2\r\n   */\r\n  private async calculateCAC(startDate: Date, endDate: Date): Promise<number> {\r\n    try {\r\n      // Estimate marketing spend (this would come from actual marketing data)\r\n      // For now, we'll use a simplified calculation based on conversion events\r\n      const newUsers = await prisma.user.count({\r\n        where: {\r\n          createdAt: {\r\n            gte: startDate,\r\n            lte: endDate,\r\n          },\r\n        },\r\n      });\r\n\r\n      if (newUsers === 0) {return 0;}\r\n\r\n      // Assume average marketing spend per user acquisition\r\n      // This should be replaced with actual marketing spend data\r\n      const estimatedMarketingSpend = newUsers * 10; // $10 per user estimate\r\n\r\n      return estimatedMarketingSpend / newUsers;\r\n    } catch (error) {\r\n      logger.error('Error calculating CAC', { error });\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate payback period in months\r\n   * Requirements: 5.1, 5.2\r\n   */\r\n  private calculatePaybackPeriod(cac: number, ltv: number): number {\r\n    if (ltv === 0) {return 0;}\r\n    return cac / (ltv / 12); // Convert annual LTV to monthly\r\n  }\r\n\r\n  /**\r\n   * Parse period string (e.g., \"2024-01\" or \"2024-Q1\")\r\n   */\r\n  private parsePeriod(period: string): [Date, Date] {\r\n    const now = new Date();\r\n\r\n    if (period.includes('-Q')) {\r\n      // Quarter format: 2024-Q1\r\n      const [year, quarter] = period.split('-Q');\r\n      const q = parseInt(quarter);\r\n      const startMonth = (q - 1) * 3;\r\n      const startDate = new Date(parseInt(year), startMonth, 1);\r\n      const endDate = new Date(parseInt(year), startMonth + 3, 0, 23, 59, 59);\r\n      return [startDate, endDate];\r\n    } else if (period.includes('-')) {\r\n      // Month format: 2024-01\r\n      const [year, month] = period.split('-');\r\n      const startDate = new Date(parseInt(year), parseInt(month) - 1, 1);\r\n      const endDate = new Date(parseInt(year), parseInt(month), 0, 23, 59, 59);\r\n      return [startDate, endDate];\r\n    } else {\r\n      // Year format: 2024\r\n      const year = parseInt(period);\r\n      const startDate = new Date(year, 0, 1);\r\n      const endDate = new Date(year, 11, 31, 23, 59, 59);\r\n      return [startDate, endDate];\r\n    }\r\n  }\r\n}\r\n\r\nexport const conversionMetricsService = new ConversionMetricsService();\r\n"],"mappings":";;;;;;;AAAA;AAAA;AAAAA,OAAA,GAAAC,OAAA;AACA;AAAA;AAAAC,OAAA,GAAAD,OAAA;AAAyC;AAAA,SAAAE,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAA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","ignoreList":[]}