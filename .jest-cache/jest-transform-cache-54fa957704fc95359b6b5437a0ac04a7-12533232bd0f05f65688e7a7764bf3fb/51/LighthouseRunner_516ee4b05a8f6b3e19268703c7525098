120e3fbf925d3f8699ba3258b433098c
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LighthouseRunner = void 0;
var _child_process = require("child_process");
var _util = require("util");
var path = _interopRequireWildcard(require("path"));
var fs = _interopRequireWildcard(require("fs/promises"));
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) "default" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }
const execAsync = (0, _util.promisify)(_child_process.exec);
class LighthouseRunner {
  constructor(projectRoot) {
    this.projectRoot = projectRoot;
    this.historyPath = path.join(projectRoot, '.azstudio', 'performance-history.json');
    this.history = new Map();
  }

  /**
   * Initialize Lighthouse and load history
   */
  async initialize() {
    try {
      // Ensure Lighthouse is installed
      await execAsync('npm list lighthouse', {
        cwd: this.projectRoot
      });
    } catch {
      // Install Lighthouse if not present
      console.log('Installing Lighthouse...');
      await execAsync('npm install --save-dev lighthouse', {
        cwd: this.projectRoot
      });
    }

    // Load performance history
    await this.loadHistory();
  }

  /**
   * Run Lighthouse audit on a preview page
   */
  async runAudit(url, options = {}) {
    try {
      const {
        formFactor = 'desktop',
        throttling = 'none',
        onlyCategories = ['performance', 'accessibility', 'best-practices', 'seo'],
        output = 'json',
        outputPath
      } = options;

      // Build Lighthouse command
      const outputFile = outputPath || path.join(this.projectRoot, '.azstudio', 'lighthouse', `report-${Date.now()}.json`);
      await fs.mkdir(path.dirname(outputFile), {
        recursive: true
      });
      const command = ['npx lighthouse', url, `--output=${output}`, `--output-path=${outputFile}`, `--form-factor=${formFactor}`, `--throttling-method=${throttling}`, `--only-categories=${onlyCategories.join(',')}`, '--chrome-flags="--headless --no-sandbox --disable-gpu"', '--quiet'].join(' ');
      console.log(`Running Lighthouse audit on ${url}...`);
      await execAsync(command, {
        cwd: this.projectRoot,
        timeout: 120000 // 2 minutes
      });

      // Read and parse the report
      const reportContent = await fs.readFile(outputFile, 'utf-8');
      const rawReport = JSON.parse(reportContent);
      const report = this.parseReport(url, rawReport);

      // Save to history
      await this.addToHistory(report);
      return report;
    } catch (error) {
      throw new Error(`Lighthouse audit failed: ${error.message}`);
    }
  }

  /**
   * Parse Lighthouse report into our format
   */
  parseReport(url, rawReport) {
    const categories = rawReport.categories || {};
    const audits = rawReport.audits || {};

    // Extract scores
    const scores = {
      performance: Math.round((categories.performance?.score || 0) * 100),
      accessibility: Math.round((categories.accessibility?.score || 0) * 100),
      bestPractices: Math.round((categories['best-practices']?.score || 0) * 100),
      seo: Math.round((categories.seo?.score || 0) * 100),
      pwa: Math.round((categories.pwa?.score || 0) * 100)
    };

    // Extract Core Web Vitals
    const coreWebVitals = {
      LCP: audits['largest-contentful-paint']?.numericValue || 0,
      FID: audits['max-potential-fid']?.numericValue || 0,
      CLS: audits['cumulative-layout-shift']?.numericValue || 0,
      FCP: audits['first-contentful-paint']?.numericValue || 0,
      TTI: audits['interactive']?.numericValue || 0,
      TBT: audits['total-blocking-time']?.numericValue || 0,
      SI: audits['speed-index']?.numericValue || 0
    };

    // Extract recommendations (failed or warning audits)
    const recommendations = [];
    for (const [id, audit] of Object.entries(audits)) {
      if (audit.score !== null && audit.score < 0.9) {
        recommendations.push({
          id,
          title: audit.title,
          description: audit.description,
          score: Math.round((audit.score || 0) * 100),
          displayValue: audit.displayValue,
          numericValue: audit.numericValue,
          numericUnit: audit.numericUnit,
          details: audit.details
        });
      }
    }

    // Sort recommendations by score (worst first)
    recommendations.sort((a, b) => a.score - b.score);

    // Determine if passed (performance score >= 90)
    const passed = scores.performance >= 90;
    return {
      url,
      timestamp: new Date(),
      scores,
      coreWebVitals,
      recommendations,
      passed,
      rawReport
    };
  }

  /**
   * Measure Core Web Vitals specifically
   */
  async measureCoreWebVitals(url) {
    const report = await this.runAudit(url, {
      onlyCategories: ['performance']
    });
    return report.coreWebVitals;
  }

  /**
   * Get performance scores
   */
  async getPerformanceScores(url) {
    const report = await this.runAudit(url);
    return report.scores;
  }

  /**
   * Get performance recommendations
   */
  async getRecommendations(url) {
    const report = await this.runAudit(url);
    return report.recommendations;
  }

  /**
   * Run audit on multiple pages
   */
  async runMultipleAudits(urls, options) {
    const reports = [];
    for (const url of urls) {
      try {
        const report = await this.runAudit(url, options);
        reports.push(report);
      } catch (error) {
        console.error(`Failed to audit ${url}:`, error.message);
        // Continue with other URLs
      }
    }
    return reports;
  }

  /**
   * Add report to performance history
   */
  async addToHistory(report) {
    let history = this.history.get(report.url);
    if (!history) {
      history = {
        url: report.url,
        reports: [],
        trend: {
          performance: [],
          LCP: [],
          FID: [],
          CLS: []
        }
      };
      this.history.set(report.url, history);
    }

    // Add report
    history.reports.push(report);

    // Update trends (keep last 30 reports)
    if (history.reports.length > 30) {
      history.reports = history.reports.slice(-30);
    }
    history.trend.performance = history.reports.map(r => r.scores.performance);
    history.trend.LCP = history.reports.map(r => r.coreWebVitals.LCP);
    history.trend.FID = history.reports.map(r => r.coreWebVitals.FID);
    history.trend.CLS = history.reports.map(r => r.coreWebVitals.CLS);

    // Save to disk
    await this.saveHistory();
  }

  /**
   * Get performance history for a URL
   */
  getHistory(url) {
    return this.history.get(url);
  }

  /**
   * Get all performance history
   */
  getAllHistory() {
    return Array.from(this.history.values());
  }

  /**
   * Get performance trend for a URL
   */
  getTrend(url) {
    return this.history.get(url)?.trend;
  }

  /**
   * Compare two reports
   */
  compareReports(baseline, current) {
    const scoreDiff = {
      performance: current.scores.performance - baseline.scores.performance,
      accessibility: current.scores.accessibility - baseline.scores.accessibility,
      bestPractices: current.scores.bestPractices - baseline.scores.bestPractices,
      seo: current.scores.seo - baseline.scores.seo
    };
    const vitalsDiff = {
      LCP: current.coreWebVitals.LCP - baseline.coreWebVitals.LCP,
      FID: current.coreWebVitals.FID - baseline.coreWebVitals.FID,
      CLS: current.coreWebVitals.CLS - baseline.coreWebVitals.CLS,
      FCP: current.coreWebVitals.FCP - baseline.coreWebVitals.FCP,
      TTI: current.coreWebVitals.TTI - baseline.coreWebVitals.TTI
    };

    // Consider improved if performance score increased or stayed same
    // and Core Web Vitals didn't regress significantly
    const improved = scoreDiff.performance >= 0 && vitalsDiff.LCP <= 200 &&
    // Allow 200ms regression
    vitalsDiff.CLS <= 0.05; // Allow 0.05 CLS regression

    return {
      scores: scoreDiff,
      coreWebVitals: vitalsDiff,
      improved
    };
  }

  /**
   * Generate HTML report
   */
  async generateHTMLReport(report, outputPath) {
    const html = this.generateReportHTML(report);
    await fs.writeFile(outputPath, html, 'utf-8');
  }

  /**
   * Generate HTML content for report
   */
  generateReportHTML(report) {
    const {
      scores,
      coreWebVitals,
      recommendations
    } = report;
    const getScoreColor = score => {
      if (score >= 90) return '#0cce6b';
      if (score >= 50) return '#ffa400';
      return '#ff4e42';
    };
    const getVitalStatus = (metric, value) => {
      const thresholds = {
        LCP: {
          good: 2500,
          poor: 4000
        },
        FID: {
          good: 100,
          poor: 300
        },
        CLS: {
          good: 0.1,
          poor: 0.25
        },
        FCP: {
          good: 1800,
          poor: 3000
        },
        TTI: {
          good: 3800,
          poor: 7300
        }
      };
      const threshold = thresholds[metric];
      if (!threshold) return 'unknown';
      if (value <= threshold.good) return 'good';
      if (value <= threshold.poor) return 'needs-improvement';
      return 'poor';
    };
    return `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Performance Report - ${report.url}</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }
    .container { max-width: 1200px; margin: 0 auto; }
    .header {
      background: white;
      padding: 30px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 { font-size: 24px; margin-bottom: 10px; }
    .url { color: #666; font-size: 14px; }
    .timestamp { color: #999; font-size: 12px; margin-top: 5px; }
    
    .scores {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }
    .score-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      text-align: center;
    }
    .score-value {
      font-size: 48px;
      font-weight: bold;
      margin: 10px 0;
    }
    .score-label {
      color: #666;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .vitals {
      background: white;
      padding: 30px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h2 { font-size: 20px; margin-bottom: 20px; }
    .vital-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 0;
      border-bottom: 1px solid #eee;
    }
    .vital-item:last-child { border-bottom: none; }
    .vital-name { font-weight: 500; }
    .vital-value {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .vital-badge {
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
    }
    .vital-badge.good { background: #0cce6b; color: white; }
    .vital-badge.needs-improvement { background: #ffa400; color: white; }
    .vital-badge.poor { background: #ff4e42; color: white; }
    
    .recommendations {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .recommendation {
      padding: 20px 0;
      border-bottom: 1px solid #eee;
    }
    .recommendation:last-child { border-bottom: none; }
    .recommendation-title {
      font-weight: 500;
      margin-bottom: 5px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .recommendation-score {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: bold;
      color: white;
    }
    .recommendation-description {
      color: #666;
      font-size: 14px;
      line-height: 1.5;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Performance Report</h1>
      <div class="url">${report.url}</div>
      <div class="timestamp">${report.timestamp.toLocaleString()}</div>
    </div>
    
    <div class="scores">
      ${Object.entries(scores).map(([key, value]) => `
        <div class="score-card">
          <div class="score-label">${key}</div>
          <div class="score-value" style="color: ${getScoreColor(value)}">${value}</div>
        </div>
      `).join('')}
    </div>
    
    <div class="vitals">
      <h2>Core Web Vitals</h2>
      ${Object.entries(coreWebVitals).map(([key, value]) => {
      const status = getVitalStatus(key, value);
      const displayValue = key === 'CLS' ? value.toFixed(3) : `${Math.round(value)}ms`;
      return `
          <div class="vital-item">
            <div class="vital-name">${key}</div>
            <div class="vital-value">
              <span>${displayValue}</span>
              <span class="vital-badge ${status}">${status.replace('-', ' ')}</span>
            </div>
          </div>
        `;
    }).join('')}
    </div>
    
    <div class="recommendations">
      <h2>Recommendations (${recommendations.length})</h2>
      ${recommendations.slice(0, 10).map(rec => `
        <div class="recommendation">
          <div class="recommendation-title">
            <span class="recommendation-score" style="background: ${getScoreColor(rec.score)}">${rec.score}</span>
            <span>${rec.title}</span>
          </div>
          <div class="recommendation-description">${rec.description}</div>
          ${rec.displayValue ? `<div style="margin-top: 5px; font-size: 13px; color: #999;">${rec.displayValue}</div>` : ''}
        </div>
      `).join('')}
    </div>
  </div>
</body>
</html>`;
  }

  /**
   * Load performance history from disk
   */
  async loadHistory() {
    try {
      const content = await fs.readFile(this.historyPath, 'utf-8');
      const data = JSON.parse(content);
      this.history = new Map(data.map(h => [h.url, h]));
    } catch {
      // No history file yet
      this.history = new Map();
    }
  }

  /**
   * Save performance history to disk
   */
  async saveHistory() {
    try {
      await fs.mkdir(path.dirname(this.historyPath), {
        recursive: true
      });
      const data = Array.from(this.history.values());
      await fs.writeFile(this.historyPath, JSON.stringify(data, null, 2), 'utf-8');
    } catch (error) {
      console.error('Failed to save performance history:', error.message);
    }
  }

  /**
   * Clear history for a URL
   */
  async clearHistory(url) {
    this.history.delete(url);
    await this.saveHistory();
  }

  /**
   * Clear all history
   */
  async clearAllHistory() {
    this.history.clear();
    await this.saveHistory();
  }
}
exports.LighthouseRunner = LighthouseRunner;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2hpbGRfcHJvY2VzcyIsInJlcXVpcmUiLCJfdXRpbCIsInBhdGgiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsImZzIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZXhlY0FzeW5jIiwicHJvbWlzaWZ5IiwiZXhlYyIsIkxpZ2h0aG91c2VSdW5uZXIiLCJjb25zdHJ1Y3RvciIsInByb2plY3RSb290IiwiaGlzdG9yeVBhdGgiLCJqb2luIiwiaGlzdG9yeSIsIk1hcCIsImluaXRpYWxpemUiLCJjd2QiLCJjb25zb2xlIiwibG9nIiwibG9hZEhpc3RvcnkiLCJydW5BdWRpdCIsInVybCIsIm9wdGlvbnMiLCJmb3JtRmFjdG9yIiwidGhyb3R0bGluZyIsIm9ubHlDYXRlZ29yaWVzIiwib3V0cHV0Iiwib3V0cHV0UGF0aCIsIm91dHB1dEZpbGUiLCJEYXRlIiwibm93IiwibWtkaXIiLCJkaXJuYW1lIiwicmVjdXJzaXZlIiwiY29tbWFuZCIsInRpbWVvdXQiLCJyZXBvcnRDb250ZW50IiwicmVhZEZpbGUiLCJyYXdSZXBvcnQiLCJKU09OIiwicGFyc2UiLCJyZXBvcnQiLCJwYXJzZVJlcG9ydCIsImFkZFRvSGlzdG9yeSIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwiY2F0ZWdvcmllcyIsImF1ZGl0cyIsInNjb3JlcyIsInBlcmZvcm1hbmNlIiwiTWF0aCIsInJvdW5kIiwic2NvcmUiLCJhY2Nlc3NpYmlsaXR5IiwiYmVzdFByYWN0aWNlcyIsInNlbyIsInB3YSIsImNvcmVXZWJWaXRhbHMiLCJMQ1AiLCJudW1lcmljVmFsdWUiLCJGSUQiLCJDTFMiLCJGQ1AiLCJUVEkiLCJUQlQiLCJTSSIsInJlY29tbWVuZGF0aW9ucyIsImlkIiwiYXVkaXQiLCJlbnRyaWVzIiwicHVzaCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkaXNwbGF5VmFsdWUiLCJudW1lcmljVW5pdCIsImRldGFpbHMiLCJzb3J0IiwiYSIsImIiLCJwYXNzZWQiLCJ0aW1lc3RhbXAiLCJtZWFzdXJlQ29yZVdlYlZpdGFscyIsImdldFBlcmZvcm1hbmNlU2NvcmVzIiwiZ2V0UmVjb21tZW5kYXRpb25zIiwicnVuTXVsdGlwbGVBdWRpdHMiLCJ1cmxzIiwicmVwb3J0cyIsInRyZW5kIiwibGVuZ3RoIiwic2xpY2UiLCJtYXAiLCJzYXZlSGlzdG9yeSIsImdldEhpc3RvcnkiLCJnZXRBbGxIaXN0b3J5IiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZ2V0VHJlbmQiLCJjb21wYXJlUmVwb3J0cyIsImJhc2VsaW5lIiwiY3VycmVudCIsInNjb3JlRGlmZiIsInZpdGFsc0RpZmYiLCJpbXByb3ZlZCIsImdlbmVyYXRlSFRNTFJlcG9ydCIsImh0bWwiLCJnZW5lcmF0ZVJlcG9ydEhUTUwiLCJ3cml0ZUZpbGUiLCJnZXRTY29yZUNvbG9yIiwiZ2V0Vml0YWxTdGF0dXMiLCJtZXRyaWMiLCJ2YWx1ZSIsInRocmVzaG9sZHMiLCJnb29kIiwicG9vciIsInRocmVzaG9sZCIsInRvTG9jYWxlU3RyaW5nIiwia2V5Iiwic3RhdHVzIiwidG9GaXhlZCIsInJlcGxhY2UiLCJyZWMiLCJjb250ZW50IiwiZGF0YSIsImgiLCJzdHJpbmdpZnkiLCJjbGVhckhpc3RvcnkiLCJkZWxldGUiLCJjbGVhckFsbEhpc3RvcnkiLCJjbGVhciIsImV4cG9ydHMiXSwic291cmNlcyI6WyJMaWdodGhvdXNlUnVubmVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4ZWMgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gJ3V0aWwnO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzL3Byb21pc2VzJztcblxuY29uc3QgZXhlY0FzeW5jID0gcHJvbWlzaWZ5KGV4ZWMpO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvcmVXZWJWaXRhbHMge1xuICBMQ1A6IG51bWJlcjsgLy8gTGFyZ2VzdCBDb250ZW50ZnVsIFBhaW50IChtcylcbiAgRklEOiBudW1iZXI7IC8vIEZpcnN0IElucHV0IERlbGF5IChtcylcbiAgQ0xTOiBudW1iZXI7IC8vIEN1bXVsYXRpdmUgTGF5b3V0IFNoaWZ0IChzY29yZSlcbiAgRkNQOiBudW1iZXI7IC8vIEZpcnN0IENvbnRlbnRmdWwgUGFpbnQgKG1zKVxuICBUVEk6IG51bWJlcjsgLy8gVGltZSB0byBJbnRlcmFjdGl2ZSAobXMpXG4gIFRCVDogbnVtYmVyOyAvLyBUb3RhbCBCbG9ja2luZyBUaW1lIChtcylcbiAgU0k6IG51bWJlcjsgIC8vIFNwZWVkIEluZGV4IChtcylcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJmb3JtYW5jZVNjb3JlcyB7XG4gIHBlcmZvcm1hbmNlOiBudW1iZXI7ICAgICAgLy8gMC0xMDBcbiAgYWNjZXNzaWJpbGl0eTogbnVtYmVyOyAgICAvLyAwLTEwMFxuICBiZXN0UHJhY3RpY2VzOiBudW1iZXI7ICAgIC8vIDAtMTAwXG4gIHNlbzogbnVtYmVyOyAgICAgICAgICAgICAgLy8gMC0xMDBcbiAgcHdhOiBudW1iZXI7ICAgICAgICAgICAgICAvLyAwLTEwMFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlcmZvcm1hbmNlUmVjb21tZW5kYXRpb24ge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBzY29yZTogbnVtYmVyO1xuICBkaXNwbGF5VmFsdWU/OiBzdHJpbmc7XG4gIG51bWVyaWNWYWx1ZT86IG51bWJlcjtcbiAgbnVtZXJpY1VuaXQ/OiBzdHJpbmc7XG4gIGRldGFpbHM/OiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyZm9ybWFuY2VSZXBvcnQge1xuICB1cmw6IHN0cmluZztcbiAgdGltZXN0YW1wOiBEYXRlO1xuICBzY29yZXM6IFBlcmZvcm1hbmNlU2NvcmVzO1xuICBjb3JlV2ViVml0YWxzOiBDb3JlV2ViVml0YWxzO1xuICByZWNvbW1lbmRhdGlvbnM6IFBlcmZvcm1hbmNlUmVjb21tZW5kYXRpb25bXTtcbiAgcGFzc2VkOiBib29sZWFuO1xuICByZXBvcnRQYXRoPzogc3RyaW5nO1xuICByYXdSZXBvcnQ/OiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyZm9ybWFuY2VIaXN0b3J5IHtcbiAgdXJsOiBzdHJpbmc7XG4gIHJlcG9ydHM6IFBlcmZvcm1hbmNlUmVwb3J0W107XG4gIHRyZW5kOiB7XG4gICAgcGVyZm9ybWFuY2U6IG51bWJlcltdO1xuICAgIExDUDogbnVtYmVyW107XG4gICAgRklEOiBudW1iZXJbXTtcbiAgICBDTFM6IG51bWJlcltdO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpZ2h0aG91c2VPcHRpb25zIHtcbiAgZm9ybUZhY3Rvcj86ICdtb2JpbGUnIHwgJ2Rlc2t0b3AnO1xuICB0aHJvdHRsaW5nPzogJ21vYmlsZTNHJyB8ICdtb2JpbGU0RycgfCAnbm9uZSc7XG4gIG9ubHlDYXRlZ29yaWVzPzogc3RyaW5nW107XG4gIHNraXBBdWRpdHM/OiBzdHJpbmdbXTtcbiAgb3V0cHV0PzogJ2pzb24nIHwgJ2h0bWwnIHwgJ2Nzdic7XG4gIG91dHB1dFBhdGg/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBMaWdodGhvdXNlUnVubmVyIHtcbiAgcHJpdmF0ZSBwcm9qZWN0Um9vdDogc3RyaW5nO1xuICBwcml2YXRlIGhpc3RvcnlQYXRoOiBzdHJpbmc7XG4gIHByaXZhdGUgaGlzdG9yeTogTWFwPHN0cmluZywgUGVyZm9ybWFuY2VIaXN0b3J5PjtcblxuICBjb25zdHJ1Y3Rvcihwcm9qZWN0Um9vdDogc3RyaW5nKSB7XG4gICAgdGhpcy5wcm9qZWN0Um9vdCA9IHByb2plY3RSb290O1xuICAgIHRoaXMuaGlzdG9yeVBhdGggPSBwYXRoLmpvaW4ocHJvamVjdFJvb3QsICcuYXpzdHVkaW8nLCAncGVyZm9ybWFuY2UtaGlzdG9yeS5qc29uJyk7XG4gICAgdGhpcy5oaXN0b3J5ID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgTGlnaHRob3VzZSBhbmQgbG9hZCBoaXN0b3J5XG4gICAqL1xuICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBFbnN1cmUgTGlnaHRob3VzZSBpcyBpbnN0YWxsZWRcbiAgICAgIGF3YWl0IGV4ZWNBc3luYygnbnBtIGxpc3QgbGlnaHRob3VzZScsIHtcbiAgICAgICAgY3dkOiB0aGlzLnByb2plY3RSb290LFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBJbnN0YWxsIExpZ2h0aG91c2UgaWYgbm90IHByZXNlbnRcbiAgICAgIGNvbnNvbGUubG9nKCdJbnN0YWxsaW5nIExpZ2h0aG91c2UuLi4nKTtcbiAgICAgIGF3YWl0IGV4ZWNBc3luYygnbnBtIGluc3RhbGwgLS1zYXZlLWRldiBsaWdodGhvdXNlJywge1xuICAgICAgICBjd2Q6IHRoaXMucHJvamVjdFJvb3QsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBMb2FkIHBlcmZvcm1hbmNlIGhpc3RvcnlcbiAgICBhd2FpdCB0aGlzLmxvYWRIaXN0b3J5KCk7XG4gIH1cblxuICAvKipcbiAgICogUnVuIExpZ2h0aG91c2UgYXVkaXQgb24gYSBwcmV2aWV3IHBhZ2VcbiAgICovXG4gIGFzeW5jIHJ1bkF1ZGl0KFxuICAgIHVybDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IExpZ2h0aG91c2VPcHRpb25zID0ge31cbiAgKTogUHJvbWlzZTxQZXJmb3JtYW5jZVJlcG9ydD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZvcm1GYWN0b3IgPSAnZGVza3RvcCcsXG4gICAgICAgIHRocm90dGxpbmcgPSAnbm9uZScsXG4gICAgICAgIG9ubHlDYXRlZ29yaWVzID0gWydwZXJmb3JtYW5jZScsICdhY2Nlc3NpYmlsaXR5JywgJ2Jlc3QtcHJhY3RpY2VzJywgJ3NlbyddLFxuICAgICAgICBvdXRwdXQgPSAnanNvbicsXG4gICAgICAgIG91dHB1dFBhdGgsXG4gICAgICB9ID0gb3B0aW9ucztcblxuICAgICAgLy8gQnVpbGQgTGlnaHRob3VzZSBjb21tYW5kXG4gICAgICBjb25zdCBvdXRwdXRGaWxlID0gb3V0cHV0UGF0aCB8fCBwYXRoLmpvaW4oXG4gICAgICAgIHRoaXMucHJvamVjdFJvb3QsXG4gICAgICAgICcuYXpzdHVkaW8nLFxuICAgICAgICAnbGlnaHRob3VzZScsXG4gICAgICAgIGByZXBvcnQtJHtEYXRlLm5vdygpfS5qc29uYFxuICAgICAgKTtcblxuICAgICAgYXdhaXQgZnMubWtkaXIocGF0aC5kaXJuYW1lKG91dHB1dEZpbGUpLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcblxuICAgICAgY29uc3QgY29tbWFuZCA9IFtcbiAgICAgICAgJ25weCBsaWdodGhvdXNlJyxcbiAgICAgICAgdXJsLFxuICAgICAgICBgLS1vdXRwdXQ9JHtvdXRwdXR9YCxcbiAgICAgICAgYC0tb3V0cHV0LXBhdGg9JHtvdXRwdXRGaWxlfWAsXG4gICAgICAgIGAtLWZvcm0tZmFjdG9yPSR7Zm9ybUZhY3Rvcn1gLFxuICAgICAgICBgLS10aHJvdHRsaW5nLW1ldGhvZD0ke3Rocm90dGxpbmd9YCxcbiAgICAgICAgYC0tb25seS1jYXRlZ29yaWVzPSR7b25seUNhdGVnb3JpZXMuam9pbignLCcpfWAsXG4gICAgICAgICctLWNocm9tZS1mbGFncz1cIi0taGVhZGxlc3MgLS1uby1zYW5kYm94IC0tZGlzYWJsZS1ncHVcIicsXG4gICAgICAgICctLXF1aWV0JyxcbiAgICAgIF0uam9pbignICcpO1xuXG4gICAgICBjb25zb2xlLmxvZyhgUnVubmluZyBMaWdodGhvdXNlIGF1ZGl0IG9uICR7dXJsfS4uLmApO1xuICAgICAgXG4gICAgICBhd2FpdCBleGVjQXN5bmMoY29tbWFuZCwge1xuICAgICAgICBjd2Q6IHRoaXMucHJvamVjdFJvb3QsXG4gICAgICAgIHRpbWVvdXQ6IDEyMDAwMCwgLy8gMiBtaW51dGVzXG4gICAgICB9KTtcblxuICAgICAgLy8gUmVhZCBhbmQgcGFyc2UgdGhlIHJlcG9ydFxuICAgICAgY29uc3QgcmVwb3J0Q29udGVudCA9IGF3YWl0IGZzLnJlYWRGaWxlKG91dHB1dEZpbGUsICd1dGYtOCcpO1xuICAgICAgY29uc3QgcmF3UmVwb3J0ID0gSlNPTi5wYXJzZShyZXBvcnRDb250ZW50KTtcblxuICAgICAgY29uc3QgcmVwb3J0ID0gdGhpcy5wYXJzZVJlcG9ydCh1cmwsIHJhd1JlcG9ydCk7XG4gICAgICBcbiAgICAgIC8vIFNhdmUgdG8gaGlzdG9yeVxuICAgICAgYXdhaXQgdGhpcy5hZGRUb0hpc3RvcnkocmVwb3J0KTtcblxuICAgICAgcmV0dXJuIHJlcG9ydDtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYExpZ2h0aG91c2UgYXVkaXQgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIExpZ2h0aG91c2UgcmVwb3J0IGludG8gb3VyIGZvcm1hdFxuICAgKi9cbiAgcHJpdmF0ZSBwYXJzZVJlcG9ydCh1cmw6IHN0cmluZywgcmF3UmVwb3J0OiBhbnkpOiBQZXJmb3JtYW5jZVJlcG9ydCB7XG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IHJhd1JlcG9ydC5jYXRlZ29yaWVzIHx8IHt9O1xuICAgIGNvbnN0IGF1ZGl0cyA9IHJhd1JlcG9ydC5hdWRpdHMgfHwge307XG5cbiAgICAvLyBFeHRyYWN0IHNjb3Jlc1xuICAgIGNvbnN0IHNjb3JlczogUGVyZm9ybWFuY2VTY29yZXMgPSB7XG4gICAgICBwZXJmb3JtYW5jZTogTWF0aC5yb3VuZCgoY2F0ZWdvcmllcy5wZXJmb3JtYW5jZT8uc2NvcmUgfHwgMCkgKiAxMDApLFxuICAgICAgYWNjZXNzaWJpbGl0eTogTWF0aC5yb3VuZCgoY2F0ZWdvcmllcy5hY2Nlc3NpYmlsaXR5Py5zY29yZSB8fCAwKSAqIDEwMCksXG4gICAgICBiZXN0UHJhY3RpY2VzOiBNYXRoLnJvdW5kKChjYXRlZ29yaWVzWydiZXN0LXByYWN0aWNlcyddPy5zY29yZSB8fCAwKSAqIDEwMCksXG4gICAgICBzZW86IE1hdGgucm91bmQoKGNhdGVnb3JpZXMuc2VvPy5zY29yZSB8fCAwKSAqIDEwMCksXG4gICAgICBwd2E6IE1hdGgucm91bmQoKGNhdGVnb3JpZXMucHdhPy5zY29yZSB8fCAwKSAqIDEwMCksXG4gICAgfTtcblxuICAgIC8vIEV4dHJhY3QgQ29yZSBXZWIgVml0YWxzXG4gICAgY29uc3QgY29yZVdlYlZpdGFsczogQ29yZVdlYlZpdGFscyA9IHtcbiAgICAgIExDUDogYXVkaXRzWydsYXJnZXN0LWNvbnRlbnRmdWwtcGFpbnQnXT8ubnVtZXJpY1ZhbHVlIHx8IDAsXG4gICAgICBGSUQ6IGF1ZGl0c1snbWF4LXBvdGVudGlhbC1maWQnXT8ubnVtZXJpY1ZhbHVlIHx8IDAsXG4gICAgICBDTFM6IGF1ZGl0c1snY3VtdWxhdGl2ZS1sYXlvdXQtc2hpZnQnXT8ubnVtZXJpY1ZhbHVlIHx8IDAsXG4gICAgICBGQ1A6IGF1ZGl0c1snZmlyc3QtY29udGVudGZ1bC1wYWludCddPy5udW1lcmljVmFsdWUgfHwgMCxcbiAgICAgIFRUSTogYXVkaXRzWydpbnRlcmFjdGl2ZSddPy5udW1lcmljVmFsdWUgfHwgMCxcbiAgICAgIFRCVDogYXVkaXRzWyd0b3RhbC1ibG9ja2luZy10aW1lJ10/Lm51bWVyaWNWYWx1ZSB8fCAwLFxuICAgICAgU0k6IGF1ZGl0c1snc3BlZWQtaW5kZXgnXT8ubnVtZXJpY1ZhbHVlIHx8IDAsXG4gICAgfTtcblxuICAgIC8vIEV4dHJhY3QgcmVjb21tZW5kYXRpb25zIChmYWlsZWQgb3Igd2FybmluZyBhdWRpdHMpXG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zOiBQZXJmb3JtYW5jZVJlY29tbWVuZGF0aW9uW10gPSBbXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IFtpZCwgYXVkaXRdIG9mIE9iamVjdC5lbnRyaWVzKGF1ZGl0cykgYXMgW3N0cmluZywgYW55XVtdKSB7XG4gICAgICBpZiAoYXVkaXQuc2NvcmUgIT09IG51bGwgJiYgYXVkaXQuc2NvcmUgPCAwLjkpIHtcbiAgICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goe1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHRpdGxlOiBhdWRpdC50aXRsZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYXVkaXQuZGVzY3JpcHRpb24sXG4gICAgICAgICAgc2NvcmU6IE1hdGgucm91bmQoKGF1ZGl0LnNjb3JlIHx8IDApICogMTAwKSxcbiAgICAgICAgICBkaXNwbGF5VmFsdWU6IGF1ZGl0LmRpc3BsYXlWYWx1ZSxcbiAgICAgICAgICBudW1lcmljVmFsdWU6IGF1ZGl0Lm51bWVyaWNWYWx1ZSxcbiAgICAgICAgICBudW1lcmljVW5pdDogYXVkaXQubnVtZXJpY1VuaXQsXG4gICAgICAgICAgZGV0YWlsczogYXVkaXQuZGV0YWlscyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU29ydCByZWNvbW1lbmRhdGlvbnMgYnkgc2NvcmUgKHdvcnN0IGZpcnN0KVxuICAgIHJlY29tbWVuZGF0aW9ucy5zb3J0KChhLCBiKSA9PiBhLnNjb3JlIC0gYi5zY29yZSk7XG5cbiAgICAvLyBEZXRlcm1pbmUgaWYgcGFzc2VkIChwZXJmb3JtYW5jZSBzY29yZSA+PSA5MClcbiAgICBjb25zdCBwYXNzZWQgPSBzY29yZXMucGVyZm9ybWFuY2UgPj0gOTA7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdXJsLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgc2NvcmVzLFxuICAgICAgY29yZVdlYlZpdGFscyxcbiAgICAgIHJlY29tbWVuZGF0aW9ucyxcbiAgICAgIHBhc3NlZCxcbiAgICAgIHJhd1JlcG9ydCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIE1lYXN1cmUgQ29yZSBXZWIgVml0YWxzIHNwZWNpZmljYWxseVxuICAgKi9cbiAgYXN5bmMgbWVhc3VyZUNvcmVXZWJWaXRhbHModXJsOiBzdHJpbmcpOiBQcm9taXNlPENvcmVXZWJWaXRhbHM+IHtcbiAgICBjb25zdCByZXBvcnQgPSBhd2FpdCB0aGlzLnJ1bkF1ZGl0KHVybCwge1xuICAgICAgb25seUNhdGVnb3JpZXM6IFsncGVyZm9ybWFuY2UnXSxcbiAgICB9KTtcblxuICAgIHJldHVybiByZXBvcnQuY29yZVdlYlZpdGFscztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcGVyZm9ybWFuY2Ugc2NvcmVzXG4gICAqL1xuICBhc3luYyBnZXRQZXJmb3JtYW5jZVNjb3Jlcyh1cmw6IHN0cmluZyk6IFByb21pc2U8UGVyZm9ybWFuY2VTY29yZXM+IHtcbiAgICBjb25zdCByZXBvcnQgPSBhd2FpdCB0aGlzLnJ1bkF1ZGl0KHVybCk7XG4gICAgcmV0dXJuIHJlcG9ydC5zY29yZXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHBlcmZvcm1hbmNlIHJlY29tbWVuZGF0aW9uc1xuICAgKi9cbiAgYXN5bmMgZ2V0UmVjb21tZW5kYXRpb25zKHVybDogc3RyaW5nKTogUHJvbWlzZTxQZXJmb3JtYW5jZVJlY29tbWVuZGF0aW9uW10+IHtcbiAgICBjb25zdCByZXBvcnQgPSBhd2FpdCB0aGlzLnJ1bkF1ZGl0KHVybCk7XG4gICAgcmV0dXJuIHJlcG9ydC5yZWNvbW1lbmRhdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogUnVuIGF1ZGl0IG9uIG11bHRpcGxlIHBhZ2VzXG4gICAqL1xuICBhc3luYyBydW5NdWx0aXBsZUF1ZGl0cyhcbiAgICB1cmxzOiBzdHJpbmdbXSxcbiAgICBvcHRpb25zPzogTGlnaHRob3VzZU9wdGlvbnNcbiAgKTogUHJvbWlzZTxQZXJmb3JtYW5jZVJlcG9ydFtdPiB7XG4gICAgY29uc3QgcmVwb3J0czogUGVyZm9ybWFuY2VSZXBvcnRbXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCB1cmwgb2YgdXJscykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgdGhpcy5ydW5BdWRpdCh1cmwsIG9wdGlvbnMpO1xuICAgICAgICByZXBvcnRzLnB1c2gocmVwb3J0KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGF1ZGl0ICR7dXJsfTpgLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgLy8gQ29udGludWUgd2l0aCBvdGhlciBVUkxzXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcG9ydHM7XG4gIH1cblxuICAvKipcbiAgICogQWRkIHJlcG9ydCB0byBwZXJmb3JtYW5jZSBoaXN0b3J5XG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGFkZFRvSGlzdG9yeShyZXBvcnQ6IFBlcmZvcm1hbmNlUmVwb3J0KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgbGV0IGhpc3RvcnkgPSB0aGlzLmhpc3RvcnkuZ2V0KHJlcG9ydC51cmwpO1xuXG4gICAgaWYgKCFoaXN0b3J5KSB7XG4gICAgICBoaXN0b3J5ID0ge1xuICAgICAgICB1cmw6IHJlcG9ydC51cmwsXG4gICAgICAgIHJlcG9ydHM6IFtdLFxuICAgICAgICB0cmVuZDoge1xuICAgICAgICAgIHBlcmZvcm1hbmNlOiBbXSxcbiAgICAgICAgICBMQ1A6IFtdLFxuICAgICAgICAgIEZJRDogW10sXG4gICAgICAgICAgQ0xTOiBbXSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICB0aGlzLmhpc3Rvcnkuc2V0KHJlcG9ydC51cmwsIGhpc3RvcnkpO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXBvcnRcbiAgICBoaXN0b3J5LnJlcG9ydHMucHVzaChyZXBvcnQpO1xuXG4gICAgLy8gVXBkYXRlIHRyZW5kcyAoa2VlcCBsYXN0IDMwIHJlcG9ydHMpXG4gICAgaWYgKGhpc3RvcnkucmVwb3J0cy5sZW5ndGggPiAzMCkge1xuICAgICAgaGlzdG9yeS5yZXBvcnRzID0gaGlzdG9yeS5yZXBvcnRzLnNsaWNlKC0zMCk7XG4gICAgfVxuXG4gICAgaGlzdG9yeS50cmVuZC5wZXJmb3JtYW5jZSA9IGhpc3RvcnkucmVwb3J0cy5tYXAociA9PiByLnNjb3Jlcy5wZXJmb3JtYW5jZSk7XG4gICAgaGlzdG9yeS50cmVuZC5MQ1AgPSBoaXN0b3J5LnJlcG9ydHMubWFwKHIgPT4gci5jb3JlV2ViVml0YWxzLkxDUCk7XG4gICAgaGlzdG9yeS50cmVuZC5GSUQgPSBoaXN0b3J5LnJlcG9ydHMubWFwKHIgPT4gci5jb3JlV2ViVml0YWxzLkZJRCk7XG4gICAgaGlzdG9yeS50cmVuZC5DTFMgPSBoaXN0b3J5LnJlcG9ydHMubWFwKHIgPT4gci5jb3JlV2ViVml0YWxzLkNMUyk7XG5cbiAgICAvLyBTYXZlIHRvIGRpc2tcbiAgICBhd2FpdCB0aGlzLnNhdmVIaXN0b3J5KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHBlcmZvcm1hbmNlIGhpc3RvcnkgZm9yIGEgVVJMXG4gICAqL1xuICBnZXRIaXN0b3J5KHVybDogc3RyaW5nKTogUGVyZm9ybWFuY2VIaXN0b3J5IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5oaXN0b3J5LmdldCh1cmwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgcGVyZm9ybWFuY2UgaGlzdG9yeVxuICAgKi9cbiAgZ2V0QWxsSGlzdG9yeSgpOiBQZXJmb3JtYW5jZUhpc3RvcnlbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5oaXN0b3J5LnZhbHVlcygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcGVyZm9ybWFuY2UgdHJlbmQgZm9yIGEgVVJMXG4gICAqL1xuICBnZXRUcmVuZCh1cmw6IHN0cmluZyk6IFBlcmZvcm1hbmNlSGlzdG9yeVsndHJlbmQnXSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuaGlzdG9yeS5nZXQodXJsKT8udHJlbmQ7XG4gIH1cblxuICAvKipcbiAgICogQ29tcGFyZSB0d28gcmVwb3J0c1xuICAgKi9cbiAgY29tcGFyZVJlcG9ydHMoXG4gICAgYmFzZWxpbmU6IFBlcmZvcm1hbmNlUmVwb3J0LFxuICAgIGN1cnJlbnQ6IFBlcmZvcm1hbmNlUmVwb3J0XG4gICk6IHtcbiAgICBzY29yZXM6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gICAgY29yZVdlYlZpdGFsczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgICBpbXByb3ZlZDogYm9vbGVhbjtcbiAgfSB7XG4gICAgY29uc3Qgc2NvcmVEaWZmID0ge1xuICAgICAgcGVyZm9ybWFuY2U6IGN1cnJlbnQuc2NvcmVzLnBlcmZvcm1hbmNlIC0gYmFzZWxpbmUuc2NvcmVzLnBlcmZvcm1hbmNlLFxuICAgICAgYWNjZXNzaWJpbGl0eTogY3VycmVudC5zY29yZXMuYWNjZXNzaWJpbGl0eSAtIGJhc2VsaW5lLnNjb3Jlcy5hY2Nlc3NpYmlsaXR5LFxuICAgICAgYmVzdFByYWN0aWNlczogY3VycmVudC5zY29yZXMuYmVzdFByYWN0aWNlcyAtIGJhc2VsaW5lLnNjb3Jlcy5iZXN0UHJhY3RpY2VzLFxuICAgICAgc2VvOiBjdXJyZW50LnNjb3Jlcy5zZW8gLSBiYXNlbGluZS5zY29yZXMuc2VvLFxuICAgIH07XG5cbiAgICBjb25zdCB2aXRhbHNEaWZmID0ge1xuICAgICAgTENQOiBjdXJyZW50LmNvcmVXZWJWaXRhbHMuTENQIC0gYmFzZWxpbmUuY29yZVdlYlZpdGFscy5MQ1AsXG4gICAgICBGSUQ6IGN1cnJlbnQuY29yZVdlYlZpdGFscy5GSUQgLSBiYXNlbGluZS5jb3JlV2ViVml0YWxzLkZJRCxcbiAgICAgIENMUzogY3VycmVudC5jb3JlV2ViVml0YWxzLkNMUyAtIGJhc2VsaW5lLmNvcmVXZWJWaXRhbHMuQ0xTLFxuICAgICAgRkNQOiBjdXJyZW50LmNvcmVXZWJWaXRhbHMuRkNQIC0gYmFzZWxpbmUuY29yZVdlYlZpdGFscy5GQ1AsXG4gICAgICBUVEk6IGN1cnJlbnQuY29yZVdlYlZpdGFscy5UVEkgLSBiYXNlbGluZS5jb3JlV2ViVml0YWxzLlRUSSxcbiAgICB9O1xuXG4gICAgLy8gQ29uc2lkZXIgaW1wcm92ZWQgaWYgcGVyZm9ybWFuY2Ugc2NvcmUgaW5jcmVhc2VkIG9yIHN0YXllZCBzYW1lXG4gICAgLy8gYW5kIENvcmUgV2ViIFZpdGFscyBkaWRuJ3QgcmVncmVzcyBzaWduaWZpY2FudGx5XG4gICAgY29uc3QgaW1wcm92ZWQgPSBcbiAgICAgIHNjb3JlRGlmZi5wZXJmb3JtYW5jZSA+PSAwICYmXG4gICAgICB2aXRhbHNEaWZmLkxDUCA8PSAyMDAgJiYgLy8gQWxsb3cgMjAwbXMgcmVncmVzc2lvblxuICAgICAgdml0YWxzRGlmZi5DTFMgPD0gMC4wNTsgIC8vIEFsbG93IDAuMDUgQ0xTIHJlZ3Jlc3Npb25cblxuICAgIHJldHVybiB7XG4gICAgICBzY29yZXM6IHNjb3JlRGlmZixcbiAgICAgIGNvcmVXZWJWaXRhbHM6IHZpdGFsc0RpZmYsXG4gICAgICBpbXByb3ZlZCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIEhUTUwgcmVwb3J0XG4gICAqL1xuICBhc3luYyBnZW5lcmF0ZUhUTUxSZXBvcnQoXG4gICAgcmVwb3J0OiBQZXJmb3JtYW5jZVJlcG9ydCxcbiAgICBvdXRwdXRQYXRoOiBzdHJpbmdcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgaHRtbCA9IHRoaXMuZ2VuZXJhdGVSZXBvcnRIVE1MKHJlcG9ydCk7XG4gICAgYXdhaXQgZnMud3JpdGVGaWxlKG91dHB1dFBhdGgsIGh0bWwsICd1dGYtOCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIEhUTUwgY29udGVudCBmb3IgcmVwb3J0XG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlUmVwb3J0SFRNTChyZXBvcnQ6IFBlcmZvcm1hbmNlUmVwb3J0KTogc3RyaW5nIHtcbiAgICBjb25zdCB7IHNjb3JlcywgY29yZVdlYlZpdGFscywgcmVjb21tZW5kYXRpb25zIH0gPSByZXBvcnQ7XG5cbiAgICBjb25zdCBnZXRTY29yZUNvbG9yID0gKHNjb3JlOiBudW1iZXIpID0+IHtcbiAgICAgIGlmIChzY29yZSA+PSA5MCkgcmV0dXJuICcjMGNjZTZiJztcbiAgICAgIGlmIChzY29yZSA+PSA1MCkgcmV0dXJuICcjZmZhNDAwJztcbiAgICAgIHJldHVybiAnI2ZmNGU0Mic7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldFZpdGFsU3RhdHVzID0gKG1ldHJpYzogc3RyaW5nLCB2YWx1ZTogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCB0aHJlc2hvbGRzOiB7IFtrZXk6IHN0cmluZ106IHsgZ29vZDogbnVtYmVyOyBwb29yOiBudW1iZXIgfSB9ID0ge1xuICAgICAgICBMQ1A6IHsgZ29vZDogMjUwMCwgcG9vcjogNDAwMCB9LFxuICAgICAgICBGSUQ6IHsgZ29vZDogMTAwLCBwb29yOiAzMDAgfSxcbiAgICAgICAgQ0xTOiB7IGdvb2Q6IDAuMSwgcG9vcjogMC4yNSB9LFxuICAgICAgICBGQ1A6IHsgZ29vZDogMTgwMCwgcG9vcjogMzAwMCB9LFxuICAgICAgICBUVEk6IHsgZ29vZDogMzgwMCwgcG9vcjogNzMwMCB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdGhyZXNob2xkID0gdGhyZXNob2xkc1ttZXRyaWNdO1xuICAgICAgaWYgKCF0aHJlc2hvbGQpIHJldHVybiAndW5rbm93bic7XG5cbiAgICAgIGlmICh2YWx1ZSA8PSB0aHJlc2hvbGQuZ29vZCkgcmV0dXJuICdnb29kJztcbiAgICAgIGlmICh2YWx1ZSA8PSB0aHJlc2hvbGQucG9vcikgcmV0dXJuICduZWVkcy1pbXByb3ZlbWVudCc7XG4gICAgICByZXR1cm4gJ3Bvb3InO1xuICAgIH07XG5cbiAgICByZXR1cm4gYDwhRE9DVFlQRSBodG1sPlxuPGh0bWwgbGFuZz1cImVuXCI+XG48aGVhZD5cbiAgPG1ldGEgY2hhcnNldD1cIlVURi04XCI+XG4gIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+XG4gIDx0aXRsZT5QZXJmb3JtYW5jZSBSZXBvcnQgLSAke3JlcG9ydC51cmx9PC90aXRsZT5cbiAgPHN0eWxlPlxuICAgICogeyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH1cbiAgICBib2R5IHtcbiAgICAgIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsIFJvYm90bywgc2Fucy1zZXJpZjtcbiAgICAgIGJhY2tncm91bmQ6ICNmNWY1ZjU7XG4gICAgICBwYWRkaW5nOiAyMHB4O1xuICAgIH1cbiAgICAuY29udGFpbmVyIHsgbWF4LXdpZHRoOiAxMjAwcHg7IG1hcmdpbjogMCBhdXRvOyB9XG4gICAgLmhlYWRlciB7XG4gICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgIHBhZGRpbmc6IDMwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwwLDAsMC4xKTtcbiAgICB9XG4gICAgaDEgeyBmb250LXNpemU6IDI0cHg7IG1hcmdpbi1ib3R0b206IDEwcHg7IH1cbiAgICAudXJsIHsgY29sb3I6ICM2NjY7IGZvbnQtc2l6ZTogMTRweDsgfVxuICAgIC50aW1lc3RhbXAgeyBjb2xvcjogIzk5OTsgZm9udC1zaXplOiAxMnB4OyBtYXJnaW4tdG9wOiA1cHg7IH1cbiAgICBcbiAgICAuc2NvcmVzIHtcbiAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTtcbiAgICAgIGdhcDogMjBweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgfVxuICAgIC5zY29yZS1jYXJkIHtcbiAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMSk7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICAgIC5zY29yZS12YWx1ZSB7XG4gICAgICBmb250LXNpemU6IDQ4cHg7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgIH1cbiAgICAuc2NvcmUtbGFiZWwge1xuICAgICAgY29sb3I6ICM2NjY7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgbGV0dGVyLXNwYWNpbmc6IDFweDtcbiAgICB9XG4gICAgXG4gICAgLnZpdGFscyB7XG4gICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgIHBhZGRpbmc6IDMwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwwLDAsMC4xKTtcbiAgICB9XG4gICAgaDIgeyBmb250LXNpemU6IDIwcHg7IG1hcmdpbi1ib3R0b206IDIwcHg7IH1cbiAgICAudml0YWwtaXRlbSB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIHBhZGRpbmc6IDE1cHggMDtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlO1xuICAgIH1cbiAgICAudml0YWwtaXRlbTpsYXN0LWNoaWxkIHsgYm9yZGVyLWJvdHRvbTogbm9uZTsgfVxuICAgIC52aXRhbC1uYW1lIHsgZm9udC13ZWlnaHQ6IDUwMDsgfVxuICAgIC52aXRhbC12YWx1ZSB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGdhcDogMTBweDtcbiAgICB9XG4gICAgLnZpdGFsLWJhZGdlIHtcbiAgICAgIHBhZGRpbmc6IDRweCAxMnB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgfVxuICAgIC52aXRhbC1iYWRnZS5nb29kIHsgYmFja2dyb3VuZDogIzBjY2U2YjsgY29sb3I6IHdoaXRlOyB9XG4gICAgLnZpdGFsLWJhZGdlLm5lZWRzLWltcHJvdmVtZW50IHsgYmFja2dyb3VuZDogI2ZmYTQwMDsgY29sb3I6IHdoaXRlOyB9XG4gICAgLnZpdGFsLWJhZGdlLnBvb3IgeyBiYWNrZ3JvdW5kOiAjZmY0ZTQyOyBjb2xvcjogd2hpdGU7IH1cbiAgICBcbiAgICAucmVjb21tZW5kYXRpb25zIHtcbiAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgcGFkZGluZzogMzBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMSk7XG4gICAgfVxuICAgIC5yZWNvbW1lbmRhdGlvbiB7XG4gICAgICBwYWRkaW5nOiAyMHB4IDA7XG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTtcbiAgICB9XG4gICAgLnJlY29tbWVuZGF0aW9uOmxhc3QtY2hpbGQgeyBib3JkZXItYm90dG9tOiBub25lOyB9XG4gICAgLnJlY29tbWVuZGF0aW9uLXRpdGxlIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGdhcDogMTBweDtcbiAgICB9XG4gICAgLnJlY29tbWVuZGF0aW9uLXNjb3JlIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHBhZGRpbmc6IDJweCA4cHg7XG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG4gICAgLnJlY29tbWVuZGF0aW9uLWRlc2NyaXB0aW9uIHtcbiAgICAgIGNvbG9yOiAjNjY2O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2hlYWQ+XG48Ym9keT5cbiAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgIDxoMT5QZXJmb3JtYW5jZSBSZXBvcnQ8L2gxPlxuICAgICAgPGRpdiBjbGFzcz1cInVybFwiPiR7cmVwb3J0LnVybH08L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lc3RhbXBcIj4ke3JlcG9ydC50aW1lc3RhbXAudG9Mb2NhbGVTdHJpbmcoKX08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBcbiAgICA8ZGl2IGNsYXNzPVwic2NvcmVzXCI+XG4gICAgICAke09iamVjdC5lbnRyaWVzKHNjb3JlcykubWFwKChba2V5LCB2YWx1ZV0pID0+IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInNjb3JlLWNhcmRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2NvcmUtbGFiZWxcIj4ke2tleX08L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2NvcmUtdmFsdWVcIiBzdHlsZT1cImNvbG9yOiAke2dldFNjb3JlQ29sb3IodmFsdWUpfVwiPiR7dmFsdWV9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYCkuam9pbignJyl9XG4gICAgPC9kaXY+XG4gICAgXG4gICAgPGRpdiBjbGFzcz1cInZpdGFsc1wiPlxuICAgICAgPGgyPkNvcmUgV2ViIFZpdGFsczwvaDI+XG4gICAgICAke09iamVjdC5lbnRyaWVzKGNvcmVXZWJWaXRhbHMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGdldFZpdGFsU3RhdHVzKGtleSwgdmFsdWUpO1xuICAgICAgICBjb25zdCBkaXNwbGF5VmFsdWUgPSBrZXkgPT09ICdDTFMnIFxuICAgICAgICAgID8gdmFsdWUudG9GaXhlZCgzKSBcbiAgICAgICAgICA6IGAke01hdGgucm91bmQodmFsdWUpfW1zYDtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInZpdGFsLWl0ZW1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2aXRhbC1uYW1lXCI+JHtrZXl9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidml0YWwtdmFsdWVcIj5cbiAgICAgICAgICAgICAgPHNwYW4+JHtkaXNwbGF5VmFsdWV9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInZpdGFsLWJhZGdlICR7c3RhdHVzfVwiPiR7c3RhdHVzLnJlcGxhY2UoJy0nLCAnICcpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfSkuam9pbignJyl9XG4gICAgPC9kaXY+XG4gICAgXG4gICAgPGRpdiBjbGFzcz1cInJlY29tbWVuZGF0aW9uc1wiPlxuICAgICAgPGgyPlJlY29tbWVuZGF0aW9ucyAoJHtyZWNvbW1lbmRhdGlvbnMubGVuZ3RofSk8L2gyPlxuICAgICAgJHtyZWNvbW1lbmRhdGlvbnMuc2xpY2UoMCwgMTApLm1hcChyZWMgPT4gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwicmVjb21tZW5kYXRpb25cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjb21tZW5kYXRpb24tdGl0bGVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVjb21tZW5kYXRpb24tc2NvcmVcIiBzdHlsZT1cImJhY2tncm91bmQ6ICR7Z2V0U2NvcmVDb2xvcihyZWMuc2NvcmUpfVwiPiR7cmVjLnNjb3JlfTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuPiR7cmVjLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVjb21tZW5kYXRpb24tZGVzY3JpcHRpb25cIj4ke3JlYy5kZXNjcmlwdGlvbn08L2Rpdj5cbiAgICAgICAgICAke3JlYy5kaXNwbGF5VmFsdWUgPyBgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6IDVweDsgZm9udC1zaXplOiAxM3B4OyBjb2xvcjogIzk5OTtcIj4ke3JlYy5kaXNwbGF5VmFsdWV9PC9kaXY+YCA6ICcnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIGApLmpvaW4oJycpfVxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvYm9keT5cbjwvaHRtbD5gO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgcGVyZm9ybWFuY2UgaGlzdG9yeSBmcm9tIGRpc2tcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgbG9hZEhpc3RvcnkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBmcy5yZWFkRmlsZSh0aGlzLmhpc3RvcnlQYXRoLCAndXRmLTgnKTtcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xuICAgICAgXG4gICAgICB0aGlzLmhpc3RvcnkgPSBuZXcgTWFwKFxuICAgICAgICBkYXRhLm1hcCgoaDogUGVyZm9ybWFuY2VIaXN0b3J5KSA9PiBbaC51cmwsIGhdKVxuICAgICAgKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIE5vIGhpc3RvcnkgZmlsZSB5ZXRcbiAgICAgIHRoaXMuaGlzdG9yeSA9IG5ldyBNYXAoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBwZXJmb3JtYW5jZSBoaXN0b3J5IHRvIGRpc2tcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgc2F2ZUhpc3RvcnkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZzLm1rZGlyKHBhdGguZGlybmFtZSh0aGlzLmhpc3RvcnlQYXRoKSwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBBcnJheS5mcm9tKHRoaXMuaGlzdG9yeS52YWx1ZXMoKSk7XG4gICAgICBhd2FpdCBmcy53cml0ZUZpbGUoXG4gICAgICAgIHRoaXMuaGlzdG9yeVBhdGgsXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpLFxuICAgICAgICAndXRmLTgnXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIHBlcmZvcm1hbmNlIGhpc3Rvcnk6JywgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGhpc3RvcnkgZm9yIGEgVVJMXG4gICAqL1xuICBhc3luYyBjbGVhckhpc3RvcnkodXJsOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmhpc3RvcnkuZGVsZXRlKHVybCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlSGlzdG9yeSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBoaXN0b3J5XG4gICAqL1xuICBhc3luYyBjbGVhckFsbEhpc3RvcnkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5oaXN0b3J5LmNsZWFyKCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlSGlzdG9yeSgpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGNBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLElBQUEsR0FBQUMsdUJBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFJLEVBQUEsR0FBQUQsdUJBQUEsQ0FBQUgsT0FBQTtBQUFrQyxTQUFBRyx3QkFBQUUsQ0FBQSxFQUFBQyxDQUFBLDZCQUFBQyxPQUFBLE1BQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUosdUJBQUEsWUFBQUEsQ0FBQUUsQ0FBQSxFQUFBQyxDQUFBLFNBQUFBLENBQUEsSUFBQUQsQ0FBQSxJQUFBQSxDQUFBLENBQUFLLFVBQUEsU0FBQUwsQ0FBQSxNQUFBTSxDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxLQUFBQyxTQUFBLFFBQUFDLE9BQUEsRUFBQVYsQ0FBQSxpQkFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxTQUFBUSxDQUFBLE1BQUFGLENBQUEsR0FBQUwsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsUUFBQUcsQ0FBQSxDQUFBSyxHQUFBLENBQUFYLENBQUEsVUFBQU0sQ0FBQSxDQUFBTSxHQUFBLENBQUFaLENBQUEsR0FBQU0sQ0FBQSxDQUFBTyxHQUFBLENBQUFiLENBQUEsRUFBQVEsQ0FBQSxnQkFBQVAsQ0FBQSxJQUFBRCxDQUFBLGdCQUFBQyxDQUFBLE9BQUFhLGNBQUEsQ0FBQUMsSUFBQSxDQUFBZixDQUFBLEVBQUFDLENBQUEsT0FBQU0sQ0FBQSxJQUFBRCxDQUFBLEdBQUFVLE1BQUEsQ0FBQUMsY0FBQSxLQUFBRCxNQUFBLENBQUFFLHdCQUFBLENBQUFsQixDQUFBLEVBQUFDLENBQUEsT0FBQU0sQ0FBQSxDQUFBSyxHQUFBLElBQUFMLENBQUEsQ0FBQU0sR0FBQSxJQUFBUCxDQUFBLENBQUFFLENBQUEsRUFBQVAsQ0FBQSxFQUFBTSxDQUFBLElBQUFDLENBQUEsQ0FBQVAsQ0FBQSxJQUFBRCxDQUFBLENBQUFDLENBQUEsV0FBQU8sQ0FBQSxLQUFBUixDQUFBLEVBQUFDLENBQUE7QUFFbEMsTUFBTWtCLFNBQVMsR0FBRyxJQUFBQyxlQUFTLEVBQUNDLG1CQUFJLENBQUM7QUE4RDFCLE1BQU1DLGdCQUFnQixDQUFDO0VBSzVCQyxXQUFXQSxDQUFDQyxXQUFtQixFQUFFO0lBQy9CLElBQUksQ0FBQ0EsV0FBVyxHQUFHQSxXQUFXO0lBQzlCLElBQUksQ0FBQ0MsV0FBVyxHQUFHNUIsSUFBSSxDQUFDNkIsSUFBSSxDQUFDRixXQUFXLEVBQUUsV0FBVyxFQUFFLDBCQUEwQixDQUFDO0lBQ2xGLElBQUksQ0FBQ0csT0FBTyxHQUFHLElBQUlDLEdBQUcsQ0FBQyxDQUFDO0VBQzFCOztFQUVBO0FBQ0Y7QUFDQTtFQUNFLE1BQU1DLFVBQVVBLENBQUEsRUFBa0I7SUFDaEMsSUFBSTtNQUNGO01BQ0EsTUFBTVYsU0FBUyxDQUFDLHFCQUFxQixFQUFFO1FBQ3JDVyxHQUFHLEVBQUUsSUFBSSxDQUFDTjtNQUNaLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxNQUFNO01BQ047TUFDQU8sT0FBTyxDQUFDQyxHQUFHLENBQUMsMEJBQTBCLENBQUM7TUFDdkMsTUFBTWIsU0FBUyxDQUFDLG1DQUFtQyxFQUFFO1FBQ25EVyxHQUFHLEVBQUUsSUFBSSxDQUFDTjtNQUNaLENBQUMsQ0FBQztJQUNKOztJQUVBO0lBQ0EsTUFBTSxJQUFJLENBQUNTLFdBQVcsQ0FBQyxDQUFDO0VBQzFCOztFQUVBO0FBQ0Y7QUFDQTtFQUNFLE1BQU1DLFFBQVFBLENBQ1pDLEdBQVcsRUFDWEMsT0FBMEIsR0FBRyxDQUFDLENBQUMsRUFDSDtJQUM1QixJQUFJO01BQ0YsTUFBTTtRQUNKQyxVQUFVLEdBQUcsU0FBUztRQUN0QkMsVUFBVSxHQUFHLE1BQU07UUFDbkJDLGNBQWMsR0FBRyxDQUFDLGFBQWEsRUFBRSxlQUFlLEVBQUUsZ0JBQWdCLEVBQUUsS0FBSyxDQUFDO1FBQzFFQyxNQUFNLEdBQUcsTUFBTTtRQUNmQztNQUNGLENBQUMsR0FBR0wsT0FBTzs7TUFFWDtNQUNBLE1BQU1NLFVBQVUsR0FBR0QsVUFBVSxJQUFJNUMsSUFBSSxDQUFDNkIsSUFBSSxDQUN4QyxJQUFJLENBQUNGLFdBQVcsRUFDaEIsV0FBVyxFQUNYLFlBQVksRUFDWixVQUFVbUIsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxPQUN0QixDQUFDO01BRUQsTUFBTTdDLEVBQUUsQ0FBQzhDLEtBQUssQ0FBQ2hELElBQUksQ0FBQ2lELE9BQU8sQ0FBQ0osVUFBVSxDQUFDLEVBQUU7UUFBRUssU0FBUyxFQUFFO01BQUssQ0FBQyxDQUFDO01BRTdELE1BQU1DLE9BQU8sR0FBRyxDQUNkLGdCQUFnQixFQUNoQmIsR0FBRyxFQUNILFlBQVlLLE1BQU0sRUFBRSxFQUNwQixpQkFBaUJFLFVBQVUsRUFBRSxFQUM3QixpQkFBaUJMLFVBQVUsRUFBRSxFQUM3Qix1QkFBdUJDLFVBQVUsRUFBRSxFQUNuQyxxQkFBcUJDLGNBQWMsQ0FBQ2IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQy9DLHdEQUF3RCxFQUN4RCxTQUFTLENBQ1YsQ0FBQ0EsSUFBSSxDQUFDLEdBQUcsQ0FBQztNQUVYSyxPQUFPLENBQUNDLEdBQUcsQ0FBQywrQkFBK0JHLEdBQUcsS0FBSyxDQUFDO01BRXBELE1BQU1oQixTQUFTLENBQUM2QixPQUFPLEVBQUU7UUFDdkJsQixHQUFHLEVBQUUsSUFBSSxDQUFDTixXQUFXO1FBQ3JCeUIsT0FBTyxFQUFFLE1BQU0sQ0FBRTtNQUNuQixDQUFDLENBQUM7O01BRUY7TUFDQSxNQUFNQyxhQUFhLEdBQUcsTUFBTW5ELEVBQUUsQ0FBQ29ELFFBQVEsQ0FBQ1QsVUFBVSxFQUFFLE9BQU8sQ0FBQztNQUM1RCxNQUFNVSxTQUFTLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDSixhQUFhLENBQUM7TUFFM0MsTUFBTUssTUFBTSxHQUFHLElBQUksQ0FBQ0MsV0FBVyxDQUFDckIsR0FBRyxFQUFFaUIsU0FBUyxDQUFDOztNQUUvQztNQUNBLE1BQU0sSUFBSSxDQUFDSyxZQUFZLENBQUNGLE1BQU0sQ0FBQztNQUUvQixPQUFPQSxNQUFNO0lBQ2YsQ0FBQyxDQUFDLE9BQU9HLEtBQVUsRUFBRTtNQUNuQixNQUFNLElBQUlDLEtBQUssQ0FBQyw0QkFBNEJELEtBQUssQ0FBQ0UsT0FBTyxFQUFFLENBQUM7SUFDOUQ7RUFDRjs7RUFFQTtBQUNGO0FBQ0E7RUFDVUosV0FBV0EsQ0FBQ3JCLEdBQVcsRUFBRWlCLFNBQWMsRUFBcUI7SUFDbEUsTUFBTVMsVUFBVSxHQUFHVCxTQUFTLENBQUNTLFVBQVUsSUFBSSxDQUFDLENBQUM7SUFDN0MsTUFBTUMsTUFBTSxHQUFHVixTQUFTLENBQUNVLE1BQU0sSUFBSSxDQUFDLENBQUM7O0lBRXJDO0lBQ0EsTUFBTUMsTUFBeUIsR0FBRztNQUNoQ0MsV0FBVyxFQUFFQyxJQUFJLENBQUNDLEtBQUssQ0FBQyxDQUFDTCxVQUFVLENBQUNHLFdBQVcsRUFBRUcsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUM7TUFDbkVDLGFBQWEsRUFBRUgsSUFBSSxDQUFDQyxLQUFLLENBQUMsQ0FBQ0wsVUFBVSxDQUFDTyxhQUFhLEVBQUVELEtBQUssSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDO01BQ3ZFRSxhQUFhLEVBQUVKLElBQUksQ0FBQ0MsS0FBSyxDQUFDLENBQUNMLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFTSxLQUFLLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQztNQUMzRUcsR0FBRyxFQUFFTCxJQUFJLENBQUNDLEtBQUssQ0FBQyxDQUFDTCxVQUFVLENBQUNTLEdBQUcsRUFBRUgsS0FBSyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUM7TUFDbkRJLEdBQUcsRUFBRU4sSUFBSSxDQUFDQyxLQUFLLENBQUMsQ0FBQ0wsVUFBVSxDQUFDVSxHQUFHLEVBQUVKLEtBQUssSUFBSSxDQUFDLElBQUksR0FBRztJQUNwRCxDQUFDOztJQUVEO0lBQ0EsTUFBTUssYUFBNEIsR0FBRztNQUNuQ0MsR0FBRyxFQUFFWCxNQUFNLENBQUMsMEJBQTBCLENBQUMsRUFBRVksWUFBWSxJQUFJLENBQUM7TUFDMURDLEdBQUcsRUFBRWIsTUFBTSxDQUFDLG1CQUFtQixDQUFDLEVBQUVZLFlBQVksSUFBSSxDQUFDO01BQ25ERSxHQUFHLEVBQUVkLE1BQU0sQ0FBQyx5QkFBeUIsQ0FBQyxFQUFFWSxZQUFZLElBQUksQ0FBQztNQUN6REcsR0FBRyxFQUFFZixNQUFNLENBQUMsd0JBQXdCLENBQUMsRUFBRVksWUFBWSxJQUFJLENBQUM7TUFDeERJLEdBQUcsRUFBRWhCLE1BQU0sQ0FBQyxhQUFhLENBQUMsRUFBRVksWUFBWSxJQUFJLENBQUM7TUFDN0NLLEdBQUcsRUFBRWpCLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFWSxZQUFZLElBQUksQ0FBQztNQUNyRE0sRUFBRSxFQUFFbEIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxFQUFFWSxZQUFZLElBQUk7SUFDN0MsQ0FBQzs7SUFFRDtJQUNBLE1BQU1PLGVBQTRDLEdBQUcsRUFBRTtJQUV2RCxLQUFLLE1BQU0sQ0FBQ0MsRUFBRSxFQUFFQyxLQUFLLENBQUMsSUFBSW5FLE1BQU0sQ0FBQ29FLE9BQU8sQ0FBQ3RCLE1BQU0sQ0FBQyxFQUFxQjtNQUNuRSxJQUFJcUIsS0FBSyxDQUFDaEIsS0FBSyxLQUFLLElBQUksSUFBSWdCLEtBQUssQ0FBQ2hCLEtBQUssR0FBRyxHQUFHLEVBQUU7UUFDN0NjLGVBQWUsQ0FBQ0ksSUFBSSxDQUFDO1VBQ25CSCxFQUFFO1VBQ0ZJLEtBQUssRUFBRUgsS0FBSyxDQUFDRyxLQUFLO1VBQ2xCQyxXQUFXLEVBQUVKLEtBQUssQ0FBQ0ksV0FBVztVQUM5QnBCLEtBQUssRUFBRUYsSUFBSSxDQUFDQyxLQUFLLENBQUMsQ0FBQ2lCLEtBQUssQ0FBQ2hCLEtBQUssSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDO1VBQzNDcUIsWUFBWSxFQUFFTCxLQUFLLENBQUNLLFlBQVk7VUFDaENkLFlBQVksRUFBRVMsS0FBSyxDQUFDVCxZQUFZO1VBQ2hDZSxXQUFXLEVBQUVOLEtBQUssQ0FBQ00sV0FBVztVQUM5QkMsT0FBTyxFQUFFUCxLQUFLLENBQUNPO1FBQ2pCLENBQUMsQ0FBQztNQUNKO0lBQ0Y7O0lBRUE7SUFDQVQsZUFBZSxDQUFDVSxJQUFJLENBQUMsQ0FBQ0MsQ0FBQyxFQUFFQyxDQUFDLEtBQUtELENBQUMsQ0FBQ3pCLEtBQUssR0FBRzBCLENBQUMsQ0FBQzFCLEtBQUssQ0FBQzs7SUFFakQ7SUFDQSxNQUFNMkIsTUFBTSxHQUFHL0IsTUFBTSxDQUFDQyxXQUFXLElBQUksRUFBRTtJQUV2QyxPQUFPO01BQ0w3QixHQUFHO01BQ0g0RCxTQUFTLEVBQUUsSUFBSXBELElBQUksQ0FBQyxDQUFDO01BQ3JCb0IsTUFBTTtNQUNOUyxhQUFhO01BQ2JTLGVBQWU7TUFDZmEsTUFBTTtNQUNOMUM7SUFDRixDQUFDO0VBQ0g7O0VBRUE7QUFDRjtBQUNBO0VBQ0UsTUFBTTRDLG9CQUFvQkEsQ0FBQzdELEdBQVcsRUFBMEI7SUFDOUQsTUFBTW9CLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQ3JCLFFBQVEsQ0FBQ0MsR0FBRyxFQUFFO01BQ3RDSSxjQUFjLEVBQUUsQ0FBQyxhQUFhO0lBQ2hDLENBQUMsQ0FBQztJQUVGLE9BQU9nQixNQUFNLENBQUNpQixhQUFhO0VBQzdCOztFQUVBO0FBQ0Y7QUFDQTtFQUNFLE1BQU15QixvQkFBb0JBLENBQUM5RCxHQUFXLEVBQThCO0lBQ2xFLE1BQU1vQixNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUNyQixRQUFRLENBQUNDLEdBQUcsQ0FBQztJQUN2QyxPQUFPb0IsTUFBTSxDQUFDUSxNQUFNO0VBQ3RCOztFQUVBO0FBQ0Y7QUFDQTtFQUNFLE1BQU1tQyxrQkFBa0JBLENBQUMvRCxHQUFXLEVBQXdDO0lBQzFFLE1BQU1vQixNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUNyQixRQUFRLENBQUNDLEdBQUcsQ0FBQztJQUN2QyxPQUFPb0IsTUFBTSxDQUFDMEIsZUFBZTtFQUMvQjs7RUFFQTtBQUNGO0FBQ0E7RUFDRSxNQUFNa0IsaUJBQWlCQSxDQUNyQkMsSUFBYyxFQUNkaEUsT0FBMkIsRUFDRztJQUM5QixNQUFNaUUsT0FBNEIsR0FBRyxFQUFFO0lBRXZDLEtBQUssTUFBTWxFLEdBQUcsSUFBSWlFLElBQUksRUFBRTtNQUN0QixJQUFJO1FBQ0YsTUFBTTdDLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQ3JCLFFBQVEsQ0FBQ0MsR0FBRyxFQUFFQyxPQUFPLENBQUM7UUFDaERpRSxPQUFPLENBQUNoQixJQUFJLENBQUM5QixNQUFNLENBQUM7TUFDdEIsQ0FBQyxDQUFDLE9BQU9HLEtBQVUsRUFBRTtRQUNuQjNCLE9BQU8sQ0FBQzJCLEtBQUssQ0FBQyxtQkFBbUJ2QixHQUFHLEdBQUcsRUFBRXVCLEtBQUssQ0FBQ0UsT0FBTyxDQUFDO1FBQ3ZEO01BQ0Y7SUFDRjtJQUVBLE9BQU95QyxPQUFPO0VBQ2hCOztFQUVBO0FBQ0Y7QUFDQTtFQUNFLE1BQWM1QyxZQUFZQSxDQUFDRixNQUF5QixFQUFpQjtJQUNuRSxJQUFJNUIsT0FBTyxHQUFHLElBQUksQ0FBQ0EsT0FBTyxDQUFDZixHQUFHLENBQUMyQyxNQUFNLENBQUNwQixHQUFHLENBQUM7SUFFMUMsSUFBSSxDQUFDUixPQUFPLEVBQUU7TUFDWkEsT0FBTyxHQUFHO1FBQ1JRLEdBQUcsRUFBRW9CLE1BQU0sQ0FBQ3BCLEdBQUc7UUFDZmtFLE9BQU8sRUFBRSxFQUFFO1FBQ1hDLEtBQUssRUFBRTtVQUNMdEMsV0FBVyxFQUFFLEVBQUU7VUFDZlMsR0FBRyxFQUFFLEVBQUU7VUFDUEUsR0FBRyxFQUFFLEVBQUU7VUFDUEMsR0FBRyxFQUFFO1FBQ1A7TUFDRixDQUFDO01BQ0QsSUFBSSxDQUFDakQsT0FBTyxDQUFDZCxHQUFHLENBQUMwQyxNQUFNLENBQUNwQixHQUFHLEVBQUVSLE9BQU8sQ0FBQztJQUN2Qzs7SUFFQTtJQUNBQSxPQUFPLENBQUMwRSxPQUFPLENBQUNoQixJQUFJLENBQUM5QixNQUFNLENBQUM7O0lBRTVCO0lBQ0EsSUFBSTVCLE9BQU8sQ0FBQzBFLE9BQU8sQ0FBQ0UsTUFBTSxHQUFHLEVBQUUsRUFBRTtNQUMvQjVFLE9BQU8sQ0FBQzBFLE9BQU8sR0FBRzFFLE9BQU8sQ0FBQzBFLE9BQU8sQ0FBQ0csS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQzlDO0lBRUE3RSxPQUFPLENBQUMyRSxLQUFLLENBQUN0QyxXQUFXLEdBQUdyQyxPQUFPLENBQUMwRSxPQUFPLENBQUNJLEdBQUcsQ0FBQ3RHLENBQUMsSUFBSUEsQ0FBQyxDQUFDNEQsTUFBTSxDQUFDQyxXQUFXLENBQUM7SUFDMUVyQyxPQUFPLENBQUMyRSxLQUFLLENBQUM3QixHQUFHLEdBQUc5QyxPQUFPLENBQUMwRSxPQUFPLENBQUNJLEdBQUcsQ0FBQ3RHLENBQUMsSUFBSUEsQ0FBQyxDQUFDcUUsYUFBYSxDQUFDQyxHQUFHLENBQUM7SUFDakU5QyxPQUFPLENBQUMyRSxLQUFLLENBQUMzQixHQUFHLEdBQUdoRCxPQUFPLENBQUMwRSxPQUFPLENBQUNJLEdBQUcsQ0FBQ3RHLENBQUMsSUFBSUEsQ0FBQyxDQUFDcUUsYUFBYSxDQUFDRyxHQUFHLENBQUM7SUFDakVoRCxPQUFPLENBQUMyRSxLQUFLLENBQUMxQixHQUFHLEdBQUdqRCxPQUFPLENBQUMwRSxPQUFPLENBQUNJLEdBQUcsQ0FBQ3RHLENBQUMsSUFBSUEsQ0FBQyxDQUFDcUUsYUFBYSxDQUFDSSxHQUFHLENBQUM7O0lBRWpFO0lBQ0EsTUFBTSxJQUFJLENBQUM4QixXQUFXLENBQUMsQ0FBQztFQUMxQjs7RUFFQTtBQUNGO0FBQ0E7RUFDRUMsVUFBVUEsQ0FBQ3hFLEdBQVcsRUFBa0M7SUFDdEQsT0FBTyxJQUFJLENBQUNSLE9BQU8sQ0FBQ2YsR0FBRyxDQUFDdUIsR0FBRyxDQUFDO0VBQzlCOztFQUVBO0FBQ0Y7QUFDQTtFQUNFeUUsYUFBYUEsQ0FBQSxFQUF5QjtJQUNwQyxPQUFPQyxLQUFLLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUNuRixPQUFPLENBQUNvRixNQUFNLENBQUMsQ0FBQyxDQUFDO0VBQzFDOztFQUVBO0FBQ0Y7QUFDQTtFQUNFQyxRQUFRQSxDQUFDN0UsR0FBVyxFQUEyQztJQUM3RCxPQUFPLElBQUksQ0FBQ1IsT0FBTyxDQUFDZixHQUFHLENBQUN1QixHQUFHLENBQUMsRUFBRW1FLEtBQUs7RUFDckM7O0VBRUE7QUFDRjtBQUNBO0VBQ0VXLGNBQWNBLENBQ1pDLFFBQTJCLEVBQzNCQyxPQUEwQixFQUsxQjtJQUNBLE1BQU1DLFNBQVMsR0FBRztNQUNoQnBELFdBQVcsRUFBRW1ELE9BQU8sQ0FBQ3BELE1BQU0sQ0FBQ0MsV0FBVyxHQUFHa0QsUUFBUSxDQUFDbkQsTUFBTSxDQUFDQyxXQUFXO01BQ3JFSSxhQUFhLEVBQUUrQyxPQUFPLENBQUNwRCxNQUFNLENBQUNLLGFBQWEsR0FBRzhDLFFBQVEsQ0FBQ25ELE1BQU0sQ0FBQ0ssYUFBYTtNQUMzRUMsYUFBYSxFQUFFOEMsT0FBTyxDQUFDcEQsTUFBTSxDQUFDTSxhQUFhLEdBQUc2QyxRQUFRLENBQUNuRCxNQUFNLENBQUNNLGFBQWE7TUFDM0VDLEdBQUcsRUFBRTZDLE9BQU8sQ0FBQ3BELE1BQU0sQ0FBQ08sR0FBRyxHQUFHNEMsUUFBUSxDQUFDbkQsTUFBTSxDQUFDTztJQUM1QyxDQUFDO0lBRUQsTUFBTStDLFVBQVUsR0FBRztNQUNqQjVDLEdBQUcsRUFBRTBDLE9BQU8sQ0FBQzNDLGFBQWEsQ0FBQ0MsR0FBRyxHQUFHeUMsUUFBUSxDQUFDMUMsYUFBYSxDQUFDQyxHQUFHO01BQzNERSxHQUFHLEVBQUV3QyxPQUFPLENBQUMzQyxhQUFhLENBQUNHLEdBQUcsR0FBR3VDLFFBQVEsQ0FBQzFDLGFBQWEsQ0FBQ0csR0FBRztNQUMzREMsR0FBRyxFQUFFdUMsT0FBTyxDQUFDM0MsYUFBYSxDQUFDSSxHQUFHLEdBQUdzQyxRQUFRLENBQUMxQyxhQUFhLENBQUNJLEdBQUc7TUFDM0RDLEdBQUcsRUFBRXNDLE9BQU8sQ0FBQzNDLGFBQWEsQ0FBQ0ssR0FBRyxHQUFHcUMsUUFBUSxDQUFDMUMsYUFBYSxDQUFDSyxHQUFHO01BQzNEQyxHQUFHLEVBQUVxQyxPQUFPLENBQUMzQyxhQUFhLENBQUNNLEdBQUcsR0FBR29DLFFBQVEsQ0FBQzFDLGFBQWEsQ0FBQ007SUFDMUQsQ0FBQzs7SUFFRDtJQUNBO0lBQ0EsTUFBTXdDLFFBQVEsR0FDWkYsU0FBUyxDQUFDcEQsV0FBVyxJQUFJLENBQUMsSUFDMUJxRCxVQUFVLENBQUM1QyxHQUFHLElBQUksR0FBRztJQUFJO0lBQ3pCNEMsVUFBVSxDQUFDekMsR0FBRyxJQUFJLElBQUksQ0FBQyxDQUFFOztJQUUzQixPQUFPO01BQ0xiLE1BQU0sRUFBRXFELFNBQVM7TUFDakI1QyxhQUFhLEVBQUU2QyxVQUFVO01BQ3pCQztJQUNGLENBQUM7RUFDSDs7RUFFQTtBQUNGO0FBQ0E7RUFDRSxNQUFNQyxrQkFBa0JBLENBQ3RCaEUsTUFBeUIsRUFDekJkLFVBQWtCLEVBQ0g7SUFDZixNQUFNK0UsSUFBSSxHQUFHLElBQUksQ0FBQ0Msa0JBQWtCLENBQUNsRSxNQUFNLENBQUM7SUFDNUMsTUFBTXhELEVBQUUsQ0FBQzJILFNBQVMsQ0FBQ2pGLFVBQVUsRUFBRStFLElBQUksRUFBRSxPQUFPLENBQUM7RUFDL0M7O0VBRUE7QUFDRjtBQUNBO0VBQ1VDLGtCQUFrQkEsQ0FBQ2xFLE1BQXlCLEVBQVU7SUFDNUQsTUFBTTtNQUFFUSxNQUFNO01BQUVTLGFBQWE7TUFBRVM7SUFBZ0IsQ0FBQyxHQUFHMUIsTUFBTTtJQUV6RCxNQUFNb0UsYUFBYSxHQUFJeEQsS0FBYSxJQUFLO01BQ3ZDLElBQUlBLEtBQUssSUFBSSxFQUFFLEVBQUUsT0FBTyxTQUFTO01BQ2pDLElBQUlBLEtBQUssSUFBSSxFQUFFLEVBQUUsT0FBTyxTQUFTO01BQ2pDLE9BQU8sU0FBUztJQUNsQixDQUFDO0lBRUQsTUFBTXlELGNBQWMsR0FBR0EsQ0FBQ0MsTUFBYyxFQUFFQyxLQUFhLEtBQUs7TUFDeEQsTUFBTUMsVUFBNkQsR0FBRztRQUNwRXRELEdBQUcsRUFBRTtVQUFFdUQsSUFBSSxFQUFFLElBQUk7VUFBRUMsSUFBSSxFQUFFO1FBQUssQ0FBQztRQUMvQnRELEdBQUcsRUFBRTtVQUFFcUQsSUFBSSxFQUFFLEdBQUc7VUFBRUMsSUFBSSxFQUFFO1FBQUksQ0FBQztRQUM3QnJELEdBQUcsRUFBRTtVQUFFb0QsSUFBSSxFQUFFLEdBQUc7VUFBRUMsSUFBSSxFQUFFO1FBQUssQ0FBQztRQUM5QnBELEdBQUcsRUFBRTtVQUFFbUQsSUFBSSxFQUFFLElBQUk7VUFBRUMsSUFBSSxFQUFFO1FBQUssQ0FBQztRQUMvQm5ELEdBQUcsRUFBRTtVQUFFa0QsSUFBSSxFQUFFLElBQUk7VUFBRUMsSUFBSSxFQUFFO1FBQUs7TUFDaEMsQ0FBQztNQUVELE1BQU1DLFNBQVMsR0FBR0gsVUFBVSxDQUFDRixNQUFNLENBQUM7TUFDcEMsSUFBSSxDQUFDSyxTQUFTLEVBQUUsT0FBTyxTQUFTO01BRWhDLElBQUlKLEtBQUssSUFBSUksU0FBUyxDQUFDRixJQUFJLEVBQUUsT0FBTyxNQUFNO01BQzFDLElBQUlGLEtBQUssSUFBSUksU0FBUyxDQUFDRCxJQUFJLEVBQUUsT0FBTyxtQkFBbUI7TUFDdkQsT0FBTyxNQUFNO0lBQ2YsQ0FBQztJQUVELE9BQU87QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQzFFLE1BQU0sQ0FBQ3BCLEdBQUc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qm9CLE1BQU0sQ0FBQ3BCLEdBQUc7QUFDbkMsK0JBQStCb0IsTUFBTSxDQUFDd0MsU0FBUyxDQUFDb0MsY0FBYyxDQUFDLENBQUM7QUFDaEU7QUFDQTtBQUNBO0FBQ0EsUUFBUW5ILE1BQU0sQ0FBQ29FLE9BQU8sQ0FBQ3JCLE1BQU0sQ0FBQyxDQUFDMEMsR0FBRyxDQUFDLENBQUMsQ0FBQzJCLEdBQUcsRUFBRU4sS0FBSyxDQUFDLEtBQUs7QUFDckQ7QUFDQSxxQ0FBcUNNLEdBQUc7QUFDeEMsbURBQW1EVCxhQUFhLENBQUNHLEtBQUssQ0FBQyxLQUFLQSxLQUFLO0FBQ2pGO0FBQ0EsT0FBTyxDQUFDLENBQUNwRyxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUVYsTUFBTSxDQUFDb0UsT0FBTyxDQUFDWixhQUFhLENBQUMsQ0FBQ2lDLEdBQUcsQ0FBQyxDQUFDLENBQUMyQixHQUFHLEVBQUVOLEtBQUssQ0FBQyxLQUFLO01BQ3BELE1BQU1PLE1BQU0sR0FBR1QsY0FBYyxDQUFDUSxHQUFHLEVBQUVOLEtBQUssQ0FBQztNQUN6QyxNQUFNdEMsWUFBWSxHQUFHNEMsR0FBRyxLQUFLLEtBQUssR0FDOUJOLEtBQUssQ0FBQ1EsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUNoQixHQUFHckUsSUFBSSxDQUFDQyxLQUFLLENBQUM0RCxLQUFLLENBQUMsSUFBSTtNQUU1QixPQUFPO0FBQ2Y7QUFDQSxzQ0FBc0NNLEdBQUc7QUFDekM7QUFDQSxzQkFBc0I1QyxZQUFZO0FBQ2xDLHlDQUF5QzZDLE1BQU0sS0FBS0EsTUFBTSxDQUFDRSxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztBQUM1RTtBQUNBO0FBQ0EsU0FBUztJQUNILENBQUMsQ0FBQyxDQUFDN0csSUFBSSxDQUFDLEVBQUUsQ0FBQztBQUNqQjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkJ1RCxlQUFlLENBQUNzQixNQUFNO0FBQ25ELFFBQVF0QixlQUFlLENBQUN1QixLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDQyxHQUFHLENBQUMrQixHQUFHLElBQUk7QUFDaEQ7QUFDQTtBQUNBLG9FQUFvRWIsYUFBYSxDQUFDYSxHQUFHLENBQUNyRSxLQUFLLENBQUMsS0FBS3FFLEdBQUcsQ0FBQ3JFLEtBQUs7QUFDMUcsb0JBQW9CcUUsR0FBRyxDQUFDbEQsS0FBSztBQUM3QjtBQUNBLG9EQUFvRGtELEdBQUcsQ0FBQ2pELFdBQVc7QUFDbkUsWUFBWWlELEdBQUcsQ0FBQ2hELFlBQVksR0FBRywrREFBK0RnRCxHQUFHLENBQUNoRCxZQUFZLFFBQVEsR0FBRyxFQUFFO0FBQzNIO0FBQ0EsT0FBTyxDQUFDLENBQUM5RCxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLFFBQVE7RUFDTjs7RUFFQTtBQUNGO0FBQ0E7RUFDRSxNQUFjTyxXQUFXQSxDQUFBLEVBQWtCO0lBQ3pDLElBQUk7TUFDRixNQUFNd0csT0FBTyxHQUFHLE1BQU0xSSxFQUFFLENBQUNvRCxRQUFRLENBQUMsSUFBSSxDQUFDMUIsV0FBVyxFQUFFLE9BQU8sQ0FBQztNQUM1RCxNQUFNaUgsSUFBSSxHQUFHckYsSUFBSSxDQUFDQyxLQUFLLENBQUNtRixPQUFPLENBQUM7TUFFaEMsSUFBSSxDQUFDOUcsT0FBTyxHQUFHLElBQUlDLEdBQUcsQ0FDcEI4RyxJQUFJLENBQUNqQyxHQUFHLENBQUVrQyxDQUFxQixJQUFLLENBQUNBLENBQUMsQ0FBQ3hHLEdBQUcsRUFBRXdHLENBQUMsQ0FBQyxDQUNoRCxDQUFDO0lBQ0gsQ0FBQyxDQUFDLE1BQU07TUFDTjtNQUNBLElBQUksQ0FBQ2hILE9BQU8sR0FBRyxJQUFJQyxHQUFHLENBQUMsQ0FBQztJQUMxQjtFQUNGOztFQUVBO0FBQ0Y7QUFDQTtFQUNFLE1BQWM4RSxXQUFXQSxDQUFBLEVBQWtCO0lBQ3pDLElBQUk7TUFDRixNQUFNM0csRUFBRSxDQUFDOEMsS0FBSyxDQUFDaEQsSUFBSSxDQUFDaUQsT0FBTyxDQUFDLElBQUksQ0FBQ3JCLFdBQVcsQ0FBQyxFQUFFO1FBQUVzQixTQUFTLEVBQUU7TUFBSyxDQUFDLENBQUM7TUFFbkUsTUFBTTJGLElBQUksR0FBRzdCLEtBQUssQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQ25GLE9BQU8sQ0FBQ29GLE1BQU0sQ0FBQyxDQUFDLENBQUM7TUFDOUMsTUFBTWhILEVBQUUsQ0FBQzJILFNBQVMsQ0FDaEIsSUFBSSxDQUFDakcsV0FBVyxFQUNoQjRCLElBQUksQ0FBQ3VGLFNBQVMsQ0FBQ0YsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsRUFDN0IsT0FDRixDQUFDO0lBQ0gsQ0FBQyxDQUFDLE9BQU9oRixLQUFVLEVBQUU7TUFDbkIzQixPQUFPLENBQUMyQixLQUFLLENBQUMscUNBQXFDLEVBQUVBLEtBQUssQ0FBQ0UsT0FBTyxDQUFDO0lBQ3JFO0VBQ0Y7O0VBRUE7QUFDRjtBQUNBO0VBQ0UsTUFBTWlGLFlBQVlBLENBQUMxRyxHQUFXLEVBQWlCO0lBQzdDLElBQUksQ0FBQ1IsT0FBTyxDQUFDbUgsTUFBTSxDQUFDM0csR0FBRyxDQUFDO0lBQ3hCLE1BQU0sSUFBSSxDQUFDdUUsV0FBVyxDQUFDLENBQUM7RUFDMUI7O0VBRUE7QUFDRjtBQUNBO0VBQ0UsTUFBTXFDLGVBQWVBLENBQUEsRUFBa0I7SUFDckMsSUFBSSxDQUFDcEgsT0FBTyxDQUFDcUgsS0FBSyxDQUFDLENBQUM7SUFDcEIsTUFBTSxJQUFJLENBQUN0QyxXQUFXLENBQUMsQ0FBQztFQUMxQjtBQUNGO0FBQUN1QyxPQUFBLENBQUEzSCxnQkFBQSxHQUFBQSxnQkFBQSIsImlnbm9yZUxpc3QiOltdfQ==