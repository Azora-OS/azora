91016808e0bcfda23249a78f1a0f61cf
"use strict";

// Mock Prisma and Stripe before importing the service
_getJestObj().mock('../../index', () => ({
  prisma: {
    user: {
      findUnique: jest.fn()
    },
    course: {
      findUnique: jest.fn()
    },
    payment: {
      create: jest.fn(),
      findMany: jest.fn(),
      findUnique: jest.fn(),
      update: jest.fn()
    },
    pricingTier: {
      findUnique: jest.fn()
    }
  }
}));
_getJestObj().mock('stripe', () => {
  return jest.fn(() => mockStripeInstance);
});
var _payment = require("../payment.service");
var _index = require("../../index");
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const mockStripeInstance = {
  paymentIntents: {
    create: jest.fn()
  },
  refunds: {
    create: jest.fn()
  }
};
describe('PaymentService', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });
  describe('processPayment', () => {
    it('should process a payment successfully', async () => {
      const mockStudent = {
        id: 'student-1',
        email: 'student@example.com'
      };
      const mockCourse = {
        id: 'course-1',
        title: 'Test Course'
      };
      const mockPaymentIntent = {
        id: 'pi_123',
        status: 'succeeded',
        amount: 2999
      };
      const mockPayment = {
        id: 'payment-1',
        studentId: 'student-1',
        courseId: 'course-1',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        status: 'completed',
        stripePaymentId: 'pi_123',
        createdAt: new Date()
      };
      _index.prisma.user.findUnique.mockResolvedValue(mockStudent);
      _index.prisma.course.findUnique.mockResolvedValue(mockCourse);
      mockStripeInstance.paymentIntents.create.mockResolvedValue(mockPaymentIntent);
      _index.prisma.payment.create.mockResolvedValue(mockPayment);
      const result = await _payment.paymentService.processPayment({
        studentId: 'student-1',
        courseId: 'course-1',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        paymentMethodId: 'pm_123'
      });
      expect(result).toEqual(mockPayment);
      expect(_index.prisma.user.findUnique).toHaveBeenCalledWith({
        where: {
          id: 'student-1'
        }
      });
      expect(_index.prisma.course.findUnique).toHaveBeenCalledWith({
        where: {
          id: 'course-1'
        }
      });
      expect(_index.prisma.payment.create).toHaveBeenCalled();
    });
    it('should throw error if student not found', async () => {
      _index.prisma.user.findUnique.mockResolvedValue(null);
      await expect(_payment.paymentService.processPayment({
        studentId: 'invalid-student',
        courseId: 'course-1',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        paymentMethodId: 'pm_123'
      })).rejects.toThrow('Student with ID invalid-student not found');
    });
    it('should throw error if course not found', async () => {
      const mockStudent = {
        id: 'student-1',
        email: 'student@example.com'
      };
      _index.prisma.user.findUnique.mockResolvedValue(mockStudent);
      _index.prisma.course.findUnique.mockResolvedValue(null);
      await expect(_payment.paymentService.processPayment({
        studentId: 'student-1',
        courseId: 'invalid-course',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        paymentMethodId: 'pm_123'
      })).rejects.toThrow('Course with ID invalid-course not found');
    });
    it('should throw error if payment intent fails', async () => {
      const mockStudent = {
        id: 'student-1',
        email: 'student@example.com'
      };
      const mockCourse = {
        id: 'course-1',
        title: 'Test Course'
      };
      const mockPaymentIntent = {
        id: 'pi_123',
        status: 'requires_payment_method'
      };
      _index.prisma.user.findUnique.mockResolvedValue(mockStudent);
      _index.prisma.course.findUnique.mockResolvedValue(mockCourse);
      mockStripeInstance.paymentIntents.create.mockResolvedValue(mockPaymentIntent);
      await expect(_payment.paymentService.processPayment({
        studentId: 'student-1',
        courseId: 'course-1',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        paymentMethodId: 'pm_123'
      })).rejects.toThrow('Payment failed with status: requires_payment_method');
    });
    it('should validate required fields', async () => {
      await expect(_payment.paymentService.processPayment({
        studentId: '',
        courseId: 'course-1',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        paymentMethodId: 'pm_123'
      })).rejects.toThrow();
    });
  });
  describe('getStudentPayments', () => {
    it('should return all payments for a student', async () => {
      const mockStudent = {
        id: 'student-1',
        email: 'student@example.com'
      };
      const mockPayments = [{
        id: 'payment-1',
        studentId: 'student-1',
        courseId: 'course-1',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        status: 'completed',
        stripePaymentId: 'pi_123',
        createdAt: new Date()
      }, {
        id: 'payment-2',
        studentId: 'student-1',
        courseId: 'course-2',
        amount: 99.99,
        tier: 'pro',
        period: '2024-02',
        status: 'completed',
        stripePaymentId: 'pi_124',
        createdAt: new Date()
      }];
      _index.prisma.user.findUnique.mockResolvedValue(mockStudent);
      _index.prisma.payment.findMany.mockResolvedValue(mockPayments);
      const result = await _payment.paymentService.getStudentPayments('student-1');
      expect(result).toHaveLength(2);
      expect(result[0].id).toBe('payment-1');
      expect(_index.prisma.payment.findMany).toHaveBeenCalledWith({
        where: {
          studentId: 'student-1'
        },
        orderBy: {
          createdAt: 'desc'
        }
      });
    });
    it('should throw error if student not found', async () => {
      _index.prisma.user.findUnique.mockResolvedValue(null);
      await expect(_payment.paymentService.getStudentPayments('invalid-student')).rejects.toThrow('Student with ID invalid-student not found');
    });
  });
  describe('getPaymentById', () => {
    it('should return a specific payment', async () => {
      const mockPayment = {
        id: 'payment-1',
        studentId: 'student-1',
        courseId: 'course-1',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        status: 'completed',
        stripePaymentId: 'pi_123',
        createdAt: new Date()
      };
      _index.prisma.payment.findUnique.mockResolvedValue(mockPayment);
      const result = await _payment.paymentService.getPaymentById('payment-1');
      expect(result).toEqual(mockPayment);
      expect(_index.prisma.payment.findUnique).toHaveBeenCalledWith({
        where: {
          id: 'payment-1'
        }
      });
    });
    it('should throw error if payment not found', async () => {
      _index.prisma.payment.findUnique.mockResolvedValue(null);
      await expect(_payment.paymentService.getPaymentById('invalid-payment')).rejects.toThrow('Payment with ID invalid-payment not found');
    });
  });
  describe('refundPayment', () => {
    it('should refund a completed payment', async () => {
      const mockPayment = {
        id: 'payment-1',
        studentId: 'student-1',
        courseId: 'course-1',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        status: 'completed',
        stripePaymentId: 'pi_123',
        createdAt: new Date()
      };
      const mockRefund = {
        id: 'ref_123',
        status: 'succeeded',
        amount: 2999
      };
      const mockUpdatedPayment = {
        ...mockPayment,
        status: 'refunded'
      };
      _index.prisma.payment.findUnique.mockResolvedValue(mockPayment);
      mockStripeInstance.refunds.create.mockResolvedValue(mockRefund);
      _index.prisma.payment.update.mockResolvedValue(mockUpdatedPayment);
      const result = await _payment.paymentService.refundPayment('payment-1', {
        reason: 'customer_request'
      });
      expect(result.status).toBe('refunded');
      expect(_index.prisma.payment.update).toHaveBeenCalledWith({
        where: {
          id: 'payment-1'
        },
        data: {
          status: 'refunded'
        }
      });
    });
    it('should throw error if payment already refunded', async () => {
      const mockPayment = {
        id: 'payment-1',
        studentId: 'student-1',
        courseId: 'course-1',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        status: 'refunded',
        stripePaymentId: 'pi_123',
        createdAt: new Date()
      };
      _index.prisma.payment.findUnique.mockResolvedValue(mockPayment);
      await expect(_payment.paymentService.refundPayment('payment-1')).rejects.toThrow('Payment has already been refunded');
    });
    it('should throw error if payment is pending', async () => {
      const mockPayment = {
        id: 'payment-1',
        studentId: 'student-1',
        courseId: 'course-1',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        status: 'pending',
        stripePaymentId: 'pi_123',
        createdAt: new Date()
      };
      _index.prisma.payment.findUnique.mockResolvedValue(mockPayment);
      await expect(_payment.paymentService.refundPayment('payment-1')).rejects.toThrow('Cannot refund a pending payment');
    });
    it('should throw error if payment not found', async () => {
      _index.prisma.payment.findUnique.mockResolvedValue(null);
      await expect(_payment.paymentService.refundPayment('invalid-payment')).rejects.toThrow('Payment with ID invalid-payment not found');
    });
  });
  describe('getPaymentStats', () => {
    it('should return payment statistics for a period', async () => {
      const mockPayments = [{
        id: 'payment-1',
        studentId: 'student-1',
        courseId: 'course-1',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        status: 'completed',
        stripePaymentId: 'pi_123',
        createdAt: new Date()
      }, {
        id: 'payment-2',
        studentId: 'student-2',
        courseId: 'course-2',
        amount: 99.99,
        tier: 'pro',
        period: '2024-01',
        status: 'completed',
        stripePaymentId: 'pi_124',
        createdAt: new Date()
      }, {
        id: 'payment-3',
        studentId: 'student-3',
        courseId: 'course-3',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        status: 'refunded',
        stripePaymentId: 'pi_125',
        createdAt: new Date()
      }];
      _index.prisma.payment.findMany.mockResolvedValue(mockPayments);
      const result = await _payment.paymentService.getPaymentStats('2024-01');
      expect(result.totalPayments).toBe(3);
      expect(result.completedPayments).toBe(2);
      expect(result.refundedPayments).toBe(1);
      expect(result.pendingPayments).toBe(0);
      expect(result.totalAmount).toBe(159.97);
    });
  });
  describe('getCoursePaymentHistory', () => {
    it('should return payment history for a course', async () => {
      const mockCourse = {
        id: 'course-1',
        title: 'Test Course'
      };
      const mockPayments = [{
        id: 'payment-1',
        studentId: 'student-1',
        courseId: 'course-1',
        amount: 29.99,
        tier: 'premium',
        period: '2024-01',
        status: 'completed',
        stripePaymentId: 'pi_123',
        createdAt: new Date()
      }];
      _index.prisma.course.findUnique.mockResolvedValue(mockCourse);
      _index.prisma.payment.findMany.mockResolvedValue(mockPayments);
      const result = await _payment.paymentService.getCoursePaymentHistory('course-1');
      expect(result).toHaveLength(1);
      expect(result[0].courseId).toBe('course-1');
      expect(_index.prisma.payment.findMany).toHaveBeenCalledWith({
        where: {
          courseId: 'course-1'
        },
        orderBy: {
          createdAt: 'desc'
        }
      });
    });
    it('should throw error if course not found', async () => {
      _index.prisma.course.findUnique.mockResolvedValue(null);
      await expect(_payment.paymentService.getCoursePaymentHistory('invalid-course')).rejects.toThrow('Course with ID invalid-course not found');
    });
  });
  describe('validatePaymentAmount', () => {
    it('should validate payment amount within acceptable range', async () => {
      const mockCourse = {
        id: 'course-1',
        title: 'Test Course'
      };
      const mockTier = {
        id: 'tier-1',
        name: 'premium',
        monthlyPrice: 29.99
      };
      _index.prisma.course.findUnique.mockResolvedValue(mockCourse);
      _index.prisma.pricingTier.findUnique.mockResolvedValue(mockTier);
      const result = await _payment.paymentService.validatePaymentAmount('course-1', 29.99, 'premium');
      expect(result).toBe(true);
    });
    it('should reject payment amount outside acceptable range', async () => {
      const mockCourse = {
        id: 'course-1',
        title: 'Test Course'
      };
      const mockTier = {
        id: 'tier-1',
        name: 'premium',
        monthlyPrice: 29.99
      };
      _index.prisma.course.findUnique.mockResolvedValue(mockCourse);
      _index.prisma.pricingTier.findUnique.mockResolvedValue(mockTier);
      const result = await _payment.paymentService.validatePaymentAmount('course-1', 50.0, 'premium');
      expect(result).toBe(false);
    });
    it('should throw error if course not found', async () => {
      _index.prisma.course.findUnique.mockResolvedValue(null);
      await expect(_payment.paymentService.validatePaymentAmount('invalid-course', 29.99, 'premium')).rejects.toThrow('Course with ID invalid-course not found');
    });
    it('should throw error if tier not found', async () => {
      const mockCourse = {
        id: 'course-1',
        title: 'Test Course'
      };
      _index.prisma.course.findUnique.mockResolvedValue(mockCourse);
      _index.prisma.pricingTier.findUnique.mockResolvedValue(null);
      await expect(_payment.paymentService.validatePaymentAmount('course-1', 29.99, 'invalid-tier')).rejects.toThrow('Pricing tier with ID invalid-tier not found');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJwcmlzbWEiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsImplc3QiLCJmbiIsImNvdXJzZSIsInBheW1lbnQiLCJjcmVhdGUiLCJmaW5kTWFueSIsInVwZGF0ZSIsInByaWNpbmdUaWVyIiwibW9ja1N0cmlwZUluc3RhbmNlIiwiX3BheW1lbnQiLCJyZXF1aXJlIiwiX2luZGV4IiwicGF5bWVudEludGVudHMiLCJyZWZ1bmRzIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwibW9ja1N0dWRlbnQiLCJpZCIsImVtYWlsIiwibW9ja0NvdXJzZSIsInRpdGxlIiwibW9ja1BheW1lbnRJbnRlbnQiLCJzdGF0dXMiLCJhbW91bnQiLCJtb2NrUGF5bWVudCIsInN0dWRlbnRJZCIsImNvdXJzZUlkIiwidGllciIsInBlcmlvZCIsInN0cmlwZVBheW1lbnRJZCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInJlc3VsdCIsInBheW1lbnRTZXJ2aWNlIiwicHJvY2Vzc1BheW1lbnQiLCJwYXltZW50TWV0aG9kSWQiLCJleHBlY3QiLCJ0b0VxdWFsIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJ3aGVyZSIsInRvSGF2ZUJlZW5DYWxsZWQiLCJyZWplY3RzIiwidG9UaHJvdyIsIm1vY2tQYXltZW50cyIsImdldFN0dWRlbnRQYXltZW50cyIsInRvSGF2ZUxlbmd0aCIsInRvQmUiLCJvcmRlckJ5IiwiZ2V0UGF5bWVudEJ5SWQiLCJtb2NrUmVmdW5kIiwibW9ja1VwZGF0ZWRQYXltZW50IiwicmVmdW5kUGF5bWVudCIsInJlYXNvbiIsImRhdGEiLCJnZXRQYXltZW50U3RhdHMiLCJ0b3RhbFBheW1lbnRzIiwiY29tcGxldGVkUGF5bWVudHMiLCJyZWZ1bmRlZFBheW1lbnRzIiwicGVuZGluZ1BheW1lbnRzIiwidG90YWxBbW91bnQiLCJnZXRDb3Vyc2VQYXltZW50SGlzdG9yeSIsIm1vY2tUaWVyIiwibmFtZSIsIm1vbnRobHlQcmljZSIsInZhbGlkYXRlUGF5bWVudEFtb3VudCJdLCJzb3VyY2VzIjpbInBheW1lbnQuc2VydmljZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE1vY2sgUHJpc21hIGFuZCBTdHJpcGUgYmVmb3JlIGltcG9ydGluZyB0aGUgc2VydmljZVxyXG5qZXN0Lm1vY2soJy4uLy4uL2luZGV4JywgKCkgPT4gKHtcclxuICBwcmlzbWE6IHtcclxuICAgIHVzZXI6IHtcclxuICAgICAgZmluZFVuaXF1ZTogamVzdC5mbigpLFxyXG4gICAgfSxcclxuICAgIGNvdXJzZToge1xyXG4gICAgICBmaW5kVW5pcXVlOiBqZXN0LmZuKCksXHJcbiAgICB9LFxyXG4gICAgcGF5bWVudDoge1xyXG4gICAgICBjcmVhdGU6IGplc3QuZm4oKSxcclxuICAgICAgZmluZE1hbnk6IGplc3QuZm4oKSxcclxuICAgICAgZmluZFVuaXF1ZTogamVzdC5mbigpLFxyXG4gICAgICB1cGRhdGU6IGplc3QuZm4oKSxcclxuICAgIH0sXHJcbiAgICBwcmljaW5nVGllcjoge1xyXG4gICAgICBmaW5kVW5pcXVlOiBqZXN0LmZuKCksXHJcbiAgICB9LFxyXG4gIH0sXHJcbn0pKTtcclxuXHJcbmNvbnN0IG1vY2tTdHJpcGVJbnN0YW5jZSA9IHtcclxuICBwYXltZW50SW50ZW50czoge1xyXG4gICAgY3JlYXRlOiBqZXN0LmZuKCksXHJcbiAgfSxcclxuICByZWZ1bmRzOiB7XHJcbiAgICBjcmVhdGU6IGplc3QuZm4oKSxcclxuICB9LFxyXG59O1xyXG5cclxuamVzdC5tb2NrKCdzdHJpcGUnLCAoKSA9PiB7XHJcbiAgcmV0dXJuIGplc3QuZm4oKCkgPT4gbW9ja1N0cmlwZUluc3RhbmNlKTtcclxufSk7XHJcblxyXG5pbXBvcnQgeyBwYXltZW50U2VydmljZSB9IGZyb20gJy4uL3BheW1lbnQuc2VydmljZSc7XHJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJy4uLy4uL2luZGV4JztcclxuXHJcbmRlc2NyaWJlKCdQYXltZW50U2VydmljZScsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgncHJvY2Vzc1BheW1lbnQnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHByb2Nlc3MgYSBwYXltZW50IHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja1N0dWRlbnQgPSB7IGlkOiAnc3R1ZGVudC0xJywgZW1haWw6ICdzdHVkZW50QGV4YW1wbGUuY29tJyB9O1xyXG4gICAgICBjb25zdCBtb2NrQ291cnNlID0geyBpZDogJ2NvdXJzZS0xJywgdGl0bGU6ICdUZXN0IENvdXJzZScgfTtcclxuICAgICAgY29uc3QgbW9ja1BheW1lbnRJbnRlbnQgPSB7XHJcbiAgICAgICAgaWQ6ICdwaV8xMjMnLFxyXG4gICAgICAgIHN0YXR1czogJ3N1Y2NlZWRlZCcsXHJcbiAgICAgICAgYW1vdW50OiAyOTk5LFxyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCBtb2NrUGF5bWVudCA9IHtcclxuICAgICAgICBpZDogJ3BheW1lbnQtMScsXHJcbiAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC0xJyxcclxuICAgICAgICBjb3Vyc2VJZDogJ2NvdXJzZS0xJyxcclxuICAgICAgICBhbW91bnQ6IDI5Ljk5LFxyXG4gICAgICAgIHRpZXI6ICdwcmVtaXVtJyxcclxuICAgICAgICBwZXJpb2Q6ICcyMDI0LTAxJyxcclxuICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxyXG4gICAgICAgIHN0cmlwZVBheW1lbnRJZDogJ3BpXzEyMycsXHJcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgKHByaXNtYS51c2VyLmZpbmRVbmlxdWUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrU3R1ZGVudCk7XHJcbiAgICAgIChwcmlzbWEuY291cnNlLmZpbmRVbmlxdWUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQ291cnNlKTtcclxuICAgICAgKG1vY2tTdHJpcGVJbnN0YW5jZS5wYXltZW50SW50ZW50cy5jcmVhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUGF5bWVudEludGVudCk7XHJcbiAgICAgIChwcmlzbWEucGF5bWVudC5jcmVhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUGF5bWVudCk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwYXltZW50U2VydmljZS5wcm9jZXNzUGF5bWVudCh7XHJcbiAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC0xJyxcclxuICAgICAgICBjb3Vyc2VJZDogJ2NvdXJzZS0xJyxcclxuICAgICAgICBhbW91bnQ6IDI5Ljk5LFxyXG4gICAgICAgIHRpZXI6ICdwcmVtaXVtJyxcclxuICAgICAgICBwZXJpb2Q6ICcyMDI0LTAxJyxcclxuICAgICAgICBwYXltZW50TWV0aG9kSWQ6ICdwbV8xMjMnLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja1BheW1lbnQpO1xyXG4gICAgICBleHBlY3QocHJpc21hLnVzZXIuZmluZFVuaXF1ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiAnc3R1ZGVudC0xJyB9LFxyXG4gICAgICB9KTtcclxuICAgICAgZXhwZWN0KHByaXNtYS5jb3Vyc2UuZmluZFVuaXF1ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiAnY291cnNlLTEnIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBleHBlY3QocHJpc21hLnBheW1lbnQuY3JlYXRlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRocm93IGVycm9yIGlmIHN0dWRlbnQgbm90IGZvdW5kJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAocHJpc21hLnVzZXIuZmluZFVuaXF1ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpO1xyXG5cclxuICAgICAgYXdhaXQgZXhwZWN0KFxyXG4gICAgICAgIHBheW1lbnRTZXJ2aWNlLnByb2Nlc3NQYXltZW50KHtcclxuICAgICAgICAgIHN0dWRlbnRJZDogJ2ludmFsaWQtc3R1ZGVudCcsXHJcbiAgICAgICAgICBjb3Vyc2VJZDogJ2NvdXJzZS0xJyxcclxuICAgICAgICAgIGFtb3VudDogMjkuOTksXHJcbiAgICAgICAgICB0aWVyOiAncHJlbWl1bScsXHJcbiAgICAgICAgICBwZXJpb2Q6ICcyMDI0LTAxJyxcclxuICAgICAgICAgIHBheW1lbnRNZXRob2RJZDogJ3BtXzEyMycsXHJcbiAgICAgICAgfSlcclxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coJ1N0dWRlbnQgd2l0aCBJRCBpbnZhbGlkLXN0dWRlbnQgbm90IGZvdW5kJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRocm93IGVycm9yIGlmIGNvdXJzZSBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tTdHVkZW50ID0geyBpZDogJ3N0dWRlbnQtMScsIGVtYWlsOiAnc3R1ZGVudEBleGFtcGxlLmNvbScgfTtcclxuICAgICAgKHByaXNtYS51c2VyLmZpbmRVbmlxdWUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrU3R1ZGVudCk7XHJcbiAgICAgIChwcmlzbWEuY291cnNlLmZpbmRVbmlxdWUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcclxuXHJcbiAgICAgIGF3YWl0IGV4cGVjdChcclxuICAgICAgICBwYXltZW50U2VydmljZS5wcm9jZXNzUGF5bWVudCh7XHJcbiAgICAgICAgICBzdHVkZW50SWQ6ICdzdHVkZW50LTEnLFxyXG4gICAgICAgICAgY291cnNlSWQ6ICdpbnZhbGlkLWNvdXJzZScsXHJcbiAgICAgICAgICBhbW91bnQ6IDI5Ljk5LFxyXG4gICAgICAgICAgdGllcjogJ3ByZW1pdW0nLFxyXG4gICAgICAgICAgcGVyaW9kOiAnMjAyNC0wMScsXHJcbiAgICAgICAgICBwYXltZW50TWV0aG9kSWQ6ICdwbV8xMjMnLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICkucmVqZWN0cy50b1Rocm93KCdDb3Vyc2Ugd2l0aCBJRCBpbnZhbGlkLWNvdXJzZSBub3QgZm91bmQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdGhyb3cgZXJyb3IgaWYgcGF5bWVudCBpbnRlbnQgZmFpbHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tTdHVkZW50ID0geyBpZDogJ3N0dWRlbnQtMScsIGVtYWlsOiAnc3R1ZGVudEBleGFtcGxlLmNvbScgfTtcclxuICAgICAgY29uc3QgbW9ja0NvdXJzZSA9IHsgaWQ6ICdjb3Vyc2UtMScsIHRpdGxlOiAnVGVzdCBDb3Vyc2UnIH07XHJcbiAgICAgIGNvbnN0IG1vY2tQYXltZW50SW50ZW50ID0ge1xyXG4gICAgICAgIGlkOiAncGlfMTIzJyxcclxuICAgICAgICBzdGF0dXM6ICdyZXF1aXJlc19wYXltZW50X21ldGhvZCcsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAocHJpc21hLnVzZXIuZmluZFVuaXF1ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTdHVkZW50KTtcclxuICAgICAgKHByaXNtYS5jb3Vyc2UuZmluZFVuaXF1ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tDb3Vyc2UpO1xyXG4gICAgICAobW9ja1N0cmlwZUluc3RhbmNlLnBheW1lbnRJbnRlbnRzLmNyZWF0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQYXltZW50SW50ZW50KTtcclxuXHJcbiAgICAgIGF3YWl0IGV4cGVjdChcclxuICAgICAgICBwYXltZW50U2VydmljZS5wcm9jZXNzUGF5bWVudCh7XHJcbiAgICAgICAgICBzdHVkZW50SWQ6ICdzdHVkZW50LTEnLFxyXG4gICAgICAgICAgY291cnNlSWQ6ICdjb3Vyc2UtMScsXHJcbiAgICAgICAgICBhbW91bnQ6IDI5Ljk5LFxyXG4gICAgICAgICAgdGllcjogJ3ByZW1pdW0nLFxyXG4gICAgICAgICAgcGVyaW9kOiAnMjAyNC0wMScsXHJcbiAgICAgICAgICBwYXltZW50TWV0aG9kSWQ6ICdwbV8xMjMnLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICkucmVqZWN0cy50b1Rocm93KCdQYXltZW50IGZhaWxlZCB3aXRoIHN0YXR1czogcmVxdWlyZXNfcGF5bWVudF9tZXRob2QnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCBleHBlY3QoXHJcbiAgICAgICAgcGF5bWVudFNlcnZpY2UucHJvY2Vzc1BheW1lbnQoe1xyXG4gICAgICAgICAgc3R1ZGVudElkOiAnJyxcclxuICAgICAgICAgIGNvdXJzZUlkOiAnY291cnNlLTEnLFxyXG4gICAgICAgICAgYW1vdW50OiAyOS45OSxcclxuICAgICAgICAgIHRpZXI6ICdwcmVtaXVtJyxcclxuICAgICAgICAgIHBlcmlvZDogJzIwMjQtMDEnLFxyXG4gICAgICAgICAgcGF5bWVudE1ldGhvZElkOiAncG1fMTIzJyxcclxuICAgICAgICB9KVxyXG4gICAgICApLnJlamVjdHMudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdnZXRTdHVkZW50UGF5bWVudHMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBhbGwgcGF5bWVudHMgZm9yIGEgc3R1ZGVudCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja1N0dWRlbnQgPSB7IGlkOiAnc3R1ZGVudC0xJywgZW1haWw6ICdzdHVkZW50QGV4YW1wbGUuY29tJyB9O1xyXG4gICAgICBjb25zdCBtb2NrUGF5bWVudHMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6ICdwYXltZW50LTEnLFxyXG4gICAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC0xJyxcclxuICAgICAgICAgIGNvdXJzZUlkOiAnY291cnNlLTEnLFxyXG4gICAgICAgICAgYW1vdW50OiAyOS45OSxcclxuICAgICAgICAgIHRpZXI6ICdwcmVtaXVtJyxcclxuICAgICAgICAgIHBlcmlvZDogJzIwMjQtMDEnLFxyXG4gICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcclxuICAgICAgICAgIHN0cmlwZVBheW1lbnRJZDogJ3BpXzEyMycsXHJcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogJ3BheW1lbnQtMicsXHJcbiAgICAgICAgICBzdHVkZW50SWQ6ICdzdHVkZW50LTEnLFxyXG4gICAgICAgICAgY291cnNlSWQ6ICdjb3Vyc2UtMicsXHJcbiAgICAgICAgICBhbW91bnQ6IDk5Ljk5LFxyXG4gICAgICAgICAgdGllcjogJ3BybycsXHJcbiAgICAgICAgICBwZXJpb2Q6ICcyMDI0LTAyJyxcclxuICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXHJcbiAgICAgICAgICBzdHJpcGVQYXltZW50SWQ6ICdwaV8xMjQnLFxyXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICAocHJpc21hLnVzZXIuZmluZFVuaXF1ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTdHVkZW50KTtcclxuICAgICAgKHByaXNtYS5wYXltZW50LmZpbmRNYW55IGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja1BheW1lbnRzKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBheW1lbnRTZXJ2aWNlLmdldFN0dWRlbnRQYXltZW50cygnc3R1ZGVudC0xJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoMik7XHJcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0uaWQpLnRvQmUoJ3BheW1lbnQtMScpO1xyXG4gICAgICBleHBlY3QocHJpc21hLnBheW1lbnQuZmluZE1hbnkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcclxuICAgICAgICB3aGVyZTogeyBzdHVkZW50SWQ6ICdzdHVkZW50LTEnIH0sXHJcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdGhyb3cgZXJyb3IgaWYgc3R1ZGVudCBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChwcmlzbWEudXNlci5maW5kVW5pcXVlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XHJcblxyXG4gICAgICBhd2FpdCBleHBlY3QocGF5bWVudFNlcnZpY2UuZ2V0U3R1ZGVudFBheW1lbnRzKCdpbnZhbGlkLXN0dWRlbnQnKSkucmVqZWN0cy50b1Rocm93KFxyXG4gICAgICAgICdTdHVkZW50IHdpdGggSUQgaW52YWxpZC1zdHVkZW50IG5vdCBmb3VuZCdcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0UGF5bWVudEJ5SWQnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBhIHNwZWNpZmljIHBheW1lbnQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tQYXltZW50ID0ge1xyXG4gICAgICAgIGlkOiAncGF5bWVudC0xJyxcclxuICAgICAgICBzdHVkZW50SWQ6ICdzdHVkZW50LTEnLFxyXG4gICAgICAgIGNvdXJzZUlkOiAnY291cnNlLTEnLFxyXG4gICAgICAgIGFtb3VudDogMjkuOTksXHJcbiAgICAgICAgdGllcjogJ3ByZW1pdW0nLFxyXG4gICAgICAgIHBlcmlvZDogJzIwMjQtMDEnLFxyXG4gICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXHJcbiAgICAgICAgc3RyaXBlUGF5bWVudElkOiAncGlfMTIzJyxcclxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAocHJpc21hLnBheW1lbnQuZmluZFVuaXF1ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQYXltZW50KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBheW1lbnRTZXJ2aWNlLmdldFBheW1lbnRCeUlkKCdwYXltZW50LTEnKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja1BheW1lbnQpO1xyXG4gICAgICBleHBlY3QocHJpc21hLnBheW1lbnQuZmluZFVuaXF1ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiAncGF5bWVudC0xJyB9LFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdGhyb3cgZXJyb3IgaWYgcGF5bWVudCBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChwcmlzbWEucGF5bWVudC5maW5kVW5pcXVlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XHJcblxyXG4gICAgICBhd2FpdCBleHBlY3QocGF5bWVudFNlcnZpY2UuZ2V0UGF5bWVudEJ5SWQoJ2ludmFsaWQtcGF5bWVudCcpKS5yZWplY3RzLnRvVGhyb3coXHJcbiAgICAgICAgJ1BheW1lbnQgd2l0aCBJRCBpbnZhbGlkLXBheW1lbnQgbm90IGZvdW5kJ1xyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdyZWZ1bmRQYXltZW50JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZWZ1bmQgYSBjb21wbGV0ZWQgcGF5bWVudCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja1BheW1lbnQgPSB7XHJcbiAgICAgICAgaWQ6ICdwYXltZW50LTEnLFxyXG4gICAgICAgIHN0dWRlbnRJZDogJ3N0dWRlbnQtMScsXHJcbiAgICAgICAgY291cnNlSWQ6ICdjb3Vyc2UtMScsXHJcbiAgICAgICAgYW1vdW50OiAyOS45OSxcclxuICAgICAgICB0aWVyOiAncHJlbWl1bScsXHJcbiAgICAgICAgcGVyaW9kOiAnMjAyNC0wMScsXHJcbiAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcclxuICAgICAgICBzdHJpcGVQYXltZW50SWQ6ICdwaV8xMjMnLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgfTtcclxuICAgICAgY29uc3QgbW9ja1JlZnVuZCA9IHtcclxuICAgICAgICBpZDogJ3JlZl8xMjMnLFxyXG4gICAgICAgIHN0YXR1czogJ3N1Y2NlZWRlZCcsXHJcbiAgICAgICAgYW1vdW50OiAyOTk5LFxyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCBtb2NrVXBkYXRlZFBheW1lbnQgPSB7XHJcbiAgICAgICAgLi4ubW9ja1BheW1lbnQsXHJcbiAgICAgICAgc3RhdHVzOiAncmVmdW5kZWQnLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgKHByaXNtYS5wYXltZW50LmZpbmRVbmlxdWUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUGF5bWVudCk7XHJcbiAgICAgIChtb2NrU3RyaXBlSW5zdGFuY2UucmVmdW5kcy5jcmVhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUmVmdW5kKTtcclxuICAgICAgKHByaXNtYS5wYXltZW50LnVwZGF0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVcGRhdGVkUGF5bWVudCk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwYXltZW50U2VydmljZS5yZWZ1bmRQYXltZW50KCdwYXltZW50LTEnLCB7XHJcbiAgICAgICAgcmVhc29uOiAnY3VzdG9tZXJfcmVxdWVzdCcsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ3JlZnVuZGVkJyk7XHJcbiAgICAgIGV4cGVjdChwcmlzbWEucGF5bWVudC51cGRhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogJ3BheW1lbnQtMScgfSxcclxuICAgICAgICBkYXRhOiB7IHN0YXR1czogJ3JlZnVuZGVkJyB9LFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdGhyb3cgZXJyb3IgaWYgcGF5bWVudCBhbHJlYWR5IHJlZnVuZGVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2NrUGF5bWVudCA9IHtcclxuICAgICAgICBpZDogJ3BheW1lbnQtMScsXHJcbiAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC0xJyxcclxuICAgICAgICBjb3Vyc2VJZDogJ2NvdXJzZS0xJyxcclxuICAgICAgICBhbW91bnQ6IDI5Ljk5LFxyXG4gICAgICAgIHRpZXI6ICdwcmVtaXVtJyxcclxuICAgICAgICBwZXJpb2Q6ICcyMDI0LTAxJyxcclxuICAgICAgICBzdGF0dXM6ICdyZWZ1bmRlZCcsXHJcbiAgICAgICAgc3RyaXBlUGF5bWVudElkOiAncGlfMTIzJyxcclxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAocHJpc21hLnBheW1lbnQuZmluZFVuaXF1ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQYXltZW50KTtcclxuXHJcbiAgICAgIGF3YWl0IGV4cGVjdChwYXltZW50U2VydmljZS5yZWZ1bmRQYXltZW50KCdwYXltZW50LTEnKSkucmVqZWN0cy50b1Rocm93KFxyXG4gICAgICAgICdQYXltZW50IGhhcyBhbHJlYWR5IGJlZW4gcmVmdW5kZWQnXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRocm93IGVycm9yIGlmIHBheW1lbnQgaXMgcGVuZGluZycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja1BheW1lbnQgPSB7XHJcbiAgICAgICAgaWQ6ICdwYXltZW50LTEnLFxyXG4gICAgICAgIHN0dWRlbnRJZDogJ3N0dWRlbnQtMScsXHJcbiAgICAgICAgY291cnNlSWQ6ICdjb3Vyc2UtMScsXHJcbiAgICAgICAgYW1vdW50OiAyOS45OSxcclxuICAgICAgICB0aWVyOiAncHJlbWl1bScsXHJcbiAgICAgICAgcGVyaW9kOiAnMjAyNC0wMScsXHJcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXHJcbiAgICAgICAgc3RyaXBlUGF5bWVudElkOiAncGlfMTIzJyxcclxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAocHJpc21hLnBheW1lbnQuZmluZFVuaXF1ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQYXltZW50KTtcclxuXHJcbiAgICAgIGF3YWl0IGV4cGVjdChwYXltZW50U2VydmljZS5yZWZ1bmRQYXltZW50KCdwYXltZW50LTEnKSkucmVqZWN0cy50b1Rocm93KFxyXG4gICAgICAgICdDYW5ub3QgcmVmdW5kIGEgcGVuZGluZyBwYXltZW50J1xyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBlcnJvciBpZiBwYXltZW50IG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgKHByaXNtYS5wYXltZW50LmZpbmRVbmlxdWUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcclxuXHJcbiAgICAgIGF3YWl0IGV4cGVjdChwYXltZW50U2VydmljZS5yZWZ1bmRQYXltZW50KCdpbnZhbGlkLXBheW1lbnQnKSkucmVqZWN0cy50b1Rocm93KFxyXG4gICAgICAgICdQYXltZW50IHdpdGggSUQgaW52YWxpZC1wYXltZW50IG5vdCBmb3VuZCdcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0UGF5bWVudFN0YXRzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcGF5bWVudCBzdGF0aXN0aWNzIGZvciBhIHBlcmlvZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja1BheW1lbnRzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAncGF5bWVudC0xJyxcclxuICAgICAgICAgIHN0dWRlbnRJZDogJ3N0dWRlbnQtMScsXHJcbiAgICAgICAgICBjb3Vyc2VJZDogJ2NvdXJzZS0xJyxcclxuICAgICAgICAgIGFtb3VudDogMjkuOTksXHJcbiAgICAgICAgICB0aWVyOiAncHJlbWl1bScsXHJcbiAgICAgICAgICBwZXJpb2Q6ICcyMDI0LTAxJyxcclxuICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXHJcbiAgICAgICAgICBzdHJpcGVQYXltZW50SWQ6ICdwaV8xMjMnLFxyXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6ICdwYXltZW50LTInLFxyXG4gICAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC0yJyxcclxuICAgICAgICAgIGNvdXJzZUlkOiAnY291cnNlLTInLFxyXG4gICAgICAgICAgYW1vdW50OiA5OS45OSxcclxuICAgICAgICAgIHRpZXI6ICdwcm8nLFxyXG4gICAgICAgICAgcGVyaW9kOiAnMjAyNC0wMScsXHJcbiAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxyXG4gICAgICAgICAgc3RyaXBlUGF5bWVudElkOiAncGlfMTI0JyxcclxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAncGF5bWVudC0zJyxcclxuICAgICAgICAgIHN0dWRlbnRJZDogJ3N0dWRlbnQtMycsXHJcbiAgICAgICAgICBjb3Vyc2VJZDogJ2NvdXJzZS0zJyxcclxuICAgICAgICAgIGFtb3VudDogMjkuOTksXHJcbiAgICAgICAgICB0aWVyOiAncHJlbWl1bScsXHJcbiAgICAgICAgICBwZXJpb2Q6ICcyMDI0LTAxJyxcclxuICAgICAgICAgIHN0YXR1czogJ3JlZnVuZGVkJyxcclxuICAgICAgICAgIHN0cmlwZVBheW1lbnRJZDogJ3BpXzEyNScsXHJcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIChwcmlzbWEucGF5bWVudC5maW5kTWFueSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQYXltZW50cyk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwYXltZW50U2VydmljZS5nZXRQYXltZW50U3RhdHMoJzIwMjQtMDEnKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQudG90YWxQYXltZW50cykudG9CZSgzKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jb21wbGV0ZWRQYXltZW50cykudG9CZSgyKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5yZWZ1bmRlZFBheW1lbnRzKS50b0JlKDEpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnBlbmRpbmdQYXltZW50cykudG9CZSgwKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC50b3RhbEFtb3VudCkudG9CZSgxNTkuOTcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdnZXRDb3Vyc2VQYXltZW50SGlzdG9yeScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHBheW1lbnQgaGlzdG9yeSBmb3IgYSBjb3Vyc2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tDb3Vyc2UgPSB7IGlkOiAnY291cnNlLTEnLCB0aXRsZTogJ1Rlc3QgQ291cnNlJyB9O1xyXG4gICAgICBjb25zdCBtb2NrUGF5bWVudHMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6ICdwYXltZW50LTEnLFxyXG4gICAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC0xJyxcclxuICAgICAgICAgIGNvdXJzZUlkOiAnY291cnNlLTEnLFxyXG4gICAgICAgICAgYW1vdW50OiAyOS45OSxcclxuICAgICAgICAgIHRpZXI6ICdwcmVtaXVtJyxcclxuICAgICAgICAgIHBlcmlvZDogJzIwMjQtMDEnLFxyXG4gICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcclxuICAgICAgICAgIHN0cmlwZVBheW1lbnRJZDogJ3BpXzEyMycsXHJcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIChwcmlzbWEuY291cnNlLmZpbmRVbmlxdWUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQ291cnNlKTtcclxuICAgICAgKHByaXNtYS5wYXltZW50LmZpbmRNYW55IGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja1BheW1lbnRzKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBheW1lbnRTZXJ2aWNlLmdldENvdXJzZVBheW1lbnRIaXN0b3J5KCdjb3Vyc2UtMScpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlTGVuZ3RoKDEpO1xyXG4gICAgICBleHBlY3QocmVzdWx0WzBdLmNvdXJzZUlkKS50b0JlKCdjb3Vyc2UtMScpO1xyXG4gICAgICBleHBlY3QocHJpc21hLnBheW1lbnQuZmluZE1hbnkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcclxuICAgICAgICB3aGVyZTogeyBjb3Vyc2VJZDogJ2NvdXJzZS0xJyB9LFxyXG4gICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRocm93IGVycm9yIGlmIGNvdXJzZSBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChwcmlzbWEuY291cnNlLmZpbmRVbmlxdWUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcclxuXHJcbiAgICAgIGF3YWl0IGV4cGVjdChwYXltZW50U2VydmljZS5nZXRDb3Vyc2VQYXltZW50SGlzdG9yeSgnaW52YWxpZC1jb3Vyc2UnKSkucmVqZWN0cy50b1Rocm93KFxyXG4gICAgICAgICdDb3Vyc2Ugd2l0aCBJRCBpbnZhbGlkLWNvdXJzZSBub3QgZm91bmQnXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ3ZhbGlkYXRlUGF5bWVudEFtb3VudCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgcGF5bWVudCBhbW91bnQgd2l0aGluIGFjY2VwdGFibGUgcmFuZ2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tDb3Vyc2UgPSB7IGlkOiAnY291cnNlLTEnLCB0aXRsZTogJ1Rlc3QgQ291cnNlJyB9O1xyXG4gICAgICBjb25zdCBtb2NrVGllciA9IHtcclxuICAgICAgICBpZDogJ3RpZXItMScsXHJcbiAgICAgICAgbmFtZTogJ3ByZW1pdW0nLFxyXG4gICAgICAgIG1vbnRobHlQcmljZTogMjkuOTksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAocHJpc21hLmNvdXJzZS5maW5kVW5pcXVlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja0NvdXJzZSk7XHJcbiAgICAgIChwcmlzbWEucHJpY2luZ1RpZXIuZmluZFVuaXF1ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tUaWVyKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBheW1lbnRTZXJ2aWNlLnZhbGlkYXRlUGF5bWVudEFtb3VudCgnY291cnNlLTEnLCAyOS45OSwgJ3ByZW1pdW0nKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJlamVjdCBwYXltZW50IGFtb3VudCBvdXRzaWRlIGFjY2VwdGFibGUgcmFuZ2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tDb3Vyc2UgPSB7IGlkOiAnY291cnNlLTEnLCB0aXRsZTogJ1Rlc3QgQ291cnNlJyB9O1xyXG4gICAgICBjb25zdCBtb2NrVGllciA9IHtcclxuICAgICAgICBpZDogJ3RpZXItMScsXHJcbiAgICAgICAgbmFtZTogJ3ByZW1pdW0nLFxyXG4gICAgICAgIG1vbnRobHlQcmljZTogMjkuOTksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAocHJpc21hLmNvdXJzZS5maW5kVW5pcXVlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja0NvdXJzZSk7XHJcbiAgICAgIChwcmlzbWEucHJpY2luZ1RpZXIuZmluZFVuaXF1ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tUaWVyKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBheW1lbnRTZXJ2aWNlLnZhbGlkYXRlUGF5bWVudEFtb3VudCgnY291cnNlLTEnLCA1MC4wLCAncHJlbWl1bScpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRocm93IGVycm9yIGlmIGNvdXJzZSBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChwcmlzbWEuY291cnNlLmZpbmRVbmlxdWUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcclxuXHJcbiAgICAgIGF3YWl0IGV4cGVjdChcclxuICAgICAgICBwYXltZW50U2VydmljZS52YWxpZGF0ZVBheW1lbnRBbW91bnQoJ2ludmFsaWQtY291cnNlJywgMjkuOTksICdwcmVtaXVtJylcclxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coJ0NvdXJzZSB3aXRoIElEIGludmFsaWQtY291cnNlIG5vdCBmb3VuZCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBlcnJvciBpZiB0aWVyIG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja0NvdXJzZSA9IHsgaWQ6ICdjb3Vyc2UtMScsIHRpdGxlOiAnVGVzdCBDb3Vyc2UnIH07XHJcbiAgICAgIChwcmlzbWEuY291cnNlLmZpbmRVbmlxdWUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQ291cnNlKTtcclxuICAgICAgKHByaXNtYS5wcmljaW5nVGllci5maW5kVW5pcXVlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XHJcblxyXG4gICAgICBhd2FpdCBleHBlY3QoXHJcbiAgICAgICAgcGF5bWVudFNlcnZpY2UudmFsaWRhdGVQYXltZW50QW1vdW50KCdjb3Vyc2UtMScsIDI5Ljk5LCAnaW52YWxpZC10aWVyJylcclxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coJ1ByaWNpbmcgdGllciB3aXRoIElEIGludmFsaWQtdGllciBub3QgZm91bmQnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGFBQWEsRUFBRSxPQUFPO0VBQzlCQyxNQUFNLEVBQUU7SUFDTkMsSUFBSSxFQUFFO01BQ0pDLFVBQVUsRUFBRUMsSUFBSSxDQUFDQyxFQUFF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