{"version":3,"names":["_types","require","describe","it","requests","timestamp","Date","now","windowSize","recentRequests","filter","r","expect","length","toBe","limits","RoutingTier","LOCAL_LLM","RAP_SYSTEM","EXTERNAL_LLM","currentCount","tier","isWithinLimit","exceededCount","isExceeded","userRequests","Map","userId","userLimit","set","get","canMakeRequest","limit","userTierLimits","free","basic","premium","enterprise","freeUserCount","premiumUserCount","remaining","resetTime","headers","toBeGreaterThan","cost","totalCost","reduce","sum","toBeCloseTo","userCostLimit","currentCost","exceededCost","estimatedCosts","estimatedCost","remainingBudget","canAfford","baseLimit","burstLimit","isWithinBurst","burstCapacity","burstUsed","burstRemaining","replenishRate","timePassed","replenished","Math","floor","currentBurst","min","queue","request","id","query","push","processed","shift","maxQueueSize","currentQueueSize","canQueue","fullQueueSize","canQueueFull","priority","sorted","sort","a","b"],"sources":["rate-limiting.test.ts"],"sourcesContent":["import { RoutingTier } from '../types';\r\n\r\ndescribe('AI Routing - Rate Limiting', () => {\r\n  describe('Request Rate Limiting', () => {\r\n    it('should track requests per time window', () => {\r\n      const requests = [\r\n        { timestamp: Date.now() - 5000 },\r\n        { timestamp: Date.now() - 3000 },\r\n        { timestamp: Date.now() - 1000 },\r\n      ];\r\n\r\n      const windowSize = 60000;\r\n      const now = Date.now();\r\n\r\n      const recentRequests = requests.filter(\r\n        r => now - r.timestamp < windowSize\r\n      );\r\n\r\n      expect(recentRequests.length).toBe(3);\r\n    });\r\n\r\n    it('should enforce rate limit per tier', () => {\r\n      const limits = {\r\n        [RoutingTier.LOCAL_LLM]: 100,\r\n        [RoutingTier.RAP_SYSTEM]: 50,\r\n        [RoutingTier.EXTERNAL_LLM]: 20,\r\n      };\r\n\r\n      const currentCount = 15;\r\n      const tier = RoutingTier.EXTERNAL_LLM;\r\n\r\n      const isWithinLimit = currentCount < limits[tier];\r\n      expect(isWithinLimit).toBe(true);\r\n\r\n      const exceededCount = 25;\r\n      const isExceeded = exceededCount >= limits[tier];\r\n      expect(isExceeded).toBe(true);\r\n    });\r\n\r\n    it('should enforce rate limit per user', () => {\r\n      const userRequests = new Map<string, number>();\r\n      const userId = 'user-123';\r\n      const userLimit = 10;\r\n\r\n      userRequests.set(userId, 5);\r\n\r\n      const currentCount = userRequests.get(userId) || 0;\r\n      const canMakeRequest = currentCount < userLimit;\r\n\r\n      expect(canMakeRequest).toBe(true);\r\n    });\r\n\r\n    it('should reset rate limit after time window', () => {\r\n      const requests = [\r\n        { timestamp: Date.now() - 70000 },\r\n        { timestamp: Date.now() - 65000 },\r\n      ];\r\n\r\n      const windowSize = 60000;\r\n      const now = Date.now();\r\n\r\n      const recentRequests = requests.filter(\r\n        r => now - r.timestamp < windowSize\r\n      );\r\n\r\n      expect(recentRequests.length).toBe(0);\r\n    });\r\n\r\n    it('should implement sliding window rate limiting', () => {\r\n      const requests = [\r\n        { timestamp: Date.now() - 55000 },\r\n        { timestamp: Date.now() - 45000 },\r\n        { timestamp: Date.now() - 35000 },\r\n        { timestamp: Date.now() - 25000 },\r\n        { timestamp: Date.now() - 15000 },\r\n      ];\r\n\r\n      const windowSize = 60000;\r\n      const limit = 5;\r\n      const now = Date.now();\r\n\r\n      const recentRequests = requests.filter(\r\n        r => now - r.timestamp < windowSize\r\n      );\r\n\r\n      const isWithinLimit = recentRequests.length < limit;\r\n      expect(isWithinLimit).toBe(false);\r\n    });\r\n\r\n    it('should apply different limits for different user tiers', () => {\r\n      const userTierLimits = {\r\n        free: 10,\r\n        basic: 50,\r\n        premium: 200,\r\n        enterprise: 1000,\r\n      };\r\n\r\n      const freeUserCount = 8;\r\n      const premiumUserCount = 150;\r\n\r\n      expect(freeUserCount < userTierLimits.free).toBe(true);\r\n      expect(premiumUserCount < userTierLimits.premium).toBe(true);\r\n    });\r\n\r\n    it('should return rate limit headers', () => {\r\n      const limit = 100;\r\n      const remaining = 75;\r\n      const resetTime = Date.now() + 60000;\r\n\r\n      const headers = {\r\n        'X-RateLimit-Limit': limit,\r\n        'X-RateLimit-Remaining': remaining,\r\n        'X-RateLimit-Reset': resetTime,\r\n      };\r\n\r\n      expect(headers['X-RateLimit-Limit']).toBe(100);\r\n      expect(headers['X-RateLimit-Remaining']).toBe(75);\r\n      expect(headers['X-RateLimit-Reset']).toBeGreaterThan(Date.now());\r\n    });\r\n  });\r\n\r\n  describe('Cost-Based Rate Limiting', () => {\r\n    it('should track cost per time window', () => {\r\n      const requests = [\r\n        { cost: 0.01, timestamp: Date.now() - 5000 },\r\n        { cost: 0.02, timestamp: Date.now() - 3000 },\r\n        { cost: 0.015, timestamp: Date.now() - 1000 },\r\n      ];\r\n\r\n      const windowSize = 60000;\r\n      const now = Date.now();\r\n\r\n      const recentRequests = requests.filter(\r\n        r => now - r.timestamp < windowSize\r\n      );\r\n\r\n      const totalCost = recentRequests.reduce((sum, r) => sum + r.cost, 0);\r\n\r\n      expect(totalCost).toBeCloseTo(0.045, 3);\r\n    });\r\n\r\n    it('should enforce cost limit per user', () => {\r\n      const userCostLimit = 1.0;\r\n      const currentCost = 0.75;\r\n\r\n      const canMakeRequest = currentCost < userCostLimit;\r\n      expect(canMakeRequest).toBe(true);\r\n\r\n      const exceededCost = 1.25;\r\n      const isExceeded = exceededCost >= userCostLimit;\r\n      expect(isExceeded).toBe(true);\r\n    });\r\n\r\n    it('should estimate request cost before execution', () => {\r\n      const estimatedCosts = {\r\n        [RoutingTier.LOCAL_LLM]: 0.0001,\r\n        [RoutingTier.RAP_SYSTEM]: 0.001,\r\n        [RoutingTier.EXTERNAL_LLM]: 0.01,\r\n      };\r\n\r\n      const tier = RoutingTier.EXTERNAL_LLM;\r\n      const estimatedCost = estimatedCosts[tier];\r\n\r\n      expect(estimatedCost).toBe(0.01);\r\n    });\r\n\r\n    it('should reject request if estimated cost exceeds budget', () => {\r\n      const remainingBudget = 0.005;\r\n      const estimatedCost = 0.01;\r\n\r\n      const canAfford = estimatedCost <= remainingBudget;\r\n      expect(canAfford).toBe(false);\r\n    });\r\n  });\r\n\r\n  describe('Burst Handling', () => {\r\n    it('should allow burst requests up to burst limit', () => {\r\n      const baseLimit = 10;\r\n      const burstLimit = 20;\r\n      const currentCount = 15;\r\n\r\n      const isWithinBurst = currentCount < burstLimit;\r\n      expect(isWithinBurst).toBe(true);\r\n    });\r\n\r\n    it('should track burst capacity consumption', () => {\r\n      const burstCapacity = 10;\r\n      const burstUsed = 7;\r\n      const burstRemaining = burstCapacity - burstUsed;\r\n\r\n      expect(burstRemaining).toBe(3);\r\n    });\r\n\r\n    it('should replenish burst capacity over time', () => {\r\n      const burstCapacity = 10;\r\n      const burstUsed = 8;\r\n      const replenishRate = 1;\r\n      const timePassed = 3000;\r\n\r\n      const replenished = Math.floor(timePassed / 1000) * replenishRate;\r\n      const currentBurst = Math.min(\r\n        burstCapacity,\r\n        burstCapacity - burstUsed + replenished\r\n      );\r\n\r\n      expect(currentBurst).toBe(5);\r\n    });\r\n  });\r\n\r\n  describe('Queue Management', () => {\r\n    it('should queue requests when rate limit exceeded', () => {\r\n      const queue: any[] = [];\r\n      const request = { id: 'req-1', query: 'test' };\r\n\r\n      queue.push(request);\r\n\r\n      expect(queue.length).toBe(1);\r\n      expect(queue[0].id).toBe('req-1');\r\n    });\r\n\r\n    it('should process queued requests when capacity available', () => {\r\n      const queue = [\r\n        { id: 'req-1', query: 'test1' },\r\n        { id: 'req-2', query: 'test2' },\r\n      ];\r\n\r\n      const processed = queue.shift();\r\n\r\n      expect(processed?.id).toBe('req-1');\r\n      expect(queue.length).toBe(1);\r\n    });\r\n\r\n    it('should enforce maximum queue size', () => {\r\n      const maxQueueSize = 100;\r\n      const currentQueueSize = 95;\r\n\r\n      const canQueue = currentQueueSize < maxQueueSize;\r\n      expect(canQueue).toBe(true);\r\n\r\n      const fullQueueSize = 100;\r\n      const canQueueFull = fullQueueSize < maxQueueSize;\r\n      expect(canQueueFull).toBe(false);\r\n    });\r\n\r\n    it('should prioritize queued requests', () => {\r\n      const queue = [\r\n        { id: 'req-1', priority: 2 },\r\n        { id: 'req-2', priority: 1 },\r\n        { id: 'req-3', priority: 3 },\r\n      ];\r\n\r\n      const sorted = queue.sort((a, b) => a.priority - b.priority);\r\n\r\n      expect(sorted[0].id).toBe('req-2');\r\n      expect(sorted[1].id).toBe('req-1');\r\n      expect(sorted[2].id).toBe('req-3');\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}