{"version":3,"names":["_express","_interopRequireDefault","require","_helmet","_cors","_morgan","_dotenv","_client","_structuredLogger","_enrollment","_course","_assessment","_tutoring","_context","_validation","_pricing","_conversion","_payment","_revenue","_learningOutcomes","_cohortAnalytics","_monitoring","_alerts","_pricing2","_alerts2","_monitoring2","e","__esModule","default","cov_1iuurjgwl1","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","_coverageSchema","coverage","actualCoverage","dotenv","config","prisma","exports","PrismaClient","app","express","PORT","process","env","use","helmet","cors","morgan","json","urlencoded","extended","requestIdMiddleware","systemMetricsMiddleware","httpLoggingMiddleware","slowRequestMiddleware","requestBodyLoggingMiddleware","monitoringRoutes","alertsRoutes","enrollmentRoutes","courseRoutes","assessmentRoutes","tutoringRoutes","contextRoutes","validationRoutes","pricingRoutes","conversionRoutes","paymentRoutes","revenueRoutes","learningOutcomesRoutes","cohortAnalyticsRoutes","errorHandlingMiddleware","_req","res","status","success","error","timestamp","Date","startServer","$queryRaw","structuredLogger","info","pricingService","initializeDefaultTiers","alertCheckInterval","parseInt","ALERT_CHECK_INTERVAL","alertsService","startAlertChecking","intervalMs","listen","port","environment","NODE_ENV","exit","on","stopAlertChecking","$disconnect","_default"],"sources":["index.ts"],"sourcesContent":["import express, { Express, Request, Response } from 'express';\r\nimport helmet from 'helmet';\r\nimport cors from 'cors';\r\nimport morgan from 'morgan';\r\nimport dotenv from 'dotenv';\r\nimport { PrismaClient } from '@prisma/client';\r\nimport { structuredLogger } from './utils/structured-logger';\r\nimport enrollmentRoutes from './routes/enrollment.routes';\r\nimport courseRoutes from './routes/course.routes';\r\nimport assessmentRoutes from './routes/assessment.routes';\r\nimport tutoringRoutes from './routes/tutoring.routes';\r\nimport contextRoutes from './routes/context.routes';\r\nimport validationRoutes from './routes/validation.routes';\r\nimport pricingRoutes from './routes/pricing.routes';\r\nimport conversionRoutes from './routes/conversion.routes';\r\nimport paymentRoutes from './routes/payment.routes';\r\nimport revenueRoutes from './routes/revenue.routes';\r\nimport learningOutcomesRoutes from './routes/learning-outcomes.routes';\r\nimport cohortAnalyticsRoutes from './routes/cohort-analytics.routes';\r\nimport monitoringRoutes from './routes/monitoring.routes';\r\nimport alertsRoutes from './routes/alerts.routes';\r\nimport { pricingService } from './services/pricing.service';\r\nimport { alertsService } from './services/alerts.service';\r\nimport {\r\n  requestIdMiddleware,\r\n  httpLoggingMiddleware,\r\n  errorHandlingMiddleware,\r\n  systemMetricsMiddleware,\r\n  slowRequestMiddleware,\r\n  requestBodyLoggingMiddleware,\r\n} from './middleware/monitoring.middleware';\r\n\r\n// Load environment variables\r\ndotenv.config();\r\n\r\n// Initialize Prisma\r\nexport const prisma = new PrismaClient();\r\n\r\n// Initialize Express\r\nconst app: Express = express();\r\nconst PORT = process.env.PORT || 3020;\r\n\r\n// Middleware\r\napp.use(helmet());\r\napp.use(cors());\r\napp.use(morgan('combined'));\r\napp.use(express.json());\r\napp.use(express.urlencoded({ extended: true }));\r\n\r\n// Monitoring middleware\r\napp.use(requestIdMiddleware);\r\napp.use(systemMetricsMiddleware);\r\napp.use(httpLoggingMiddleware);\r\napp.use(slowRequestMiddleware(1000)); // Log requests slower than 1 second\r\napp.use(requestBodyLoggingMiddleware);\r\n\r\n// Monitoring Routes (before API routes)\r\napp.use('/monitoring', monitoringRoutes);\r\napp.use('/alerts', alertsRoutes);\r\n\r\n// API Routes\r\napp.use('/api/v1/enrollments', enrollmentRoutes);\r\napp.use('/api/v1/courses', courseRoutes);\r\napp.use('/api/v1/assessments', assessmentRoutes);\r\napp.use('/api/v1/tutoring', tutoringRoutes);\r\napp.use('/api/v1/context', contextRoutes);\r\napp.use('/api/v1/validation', validationRoutes);\r\napp.use('/api/v1/pricing', pricingRoutes);\r\napp.use('/api/v1/conversions', conversionRoutes);\r\napp.use('/api/v1/payments', paymentRoutes);\r\napp.use('/api/v1/revenue', revenueRoutes);\r\napp.use('/api/v1/analytics', learningOutcomesRoutes);\r\napp.use('/api/v1/analytics', cohortAnalyticsRoutes);\r\n\r\n// Error handling middleware\r\napp.use(errorHandlingMiddleware);\r\n\r\n// 404 handler\r\napp.use((_req: Request, res: Response) => {\r\n  res.status(404).json({\r\n    success: false,\r\n    error: 'Not found',\r\n    timestamp: new Date()\r\n  });\r\n});\r\n\r\n// Start server\r\nconst startServer = async () => {\r\n  try {\r\n    // Test database connection\r\n    await prisma.$queryRaw`SELECT 1`;\r\n    structuredLogger.info('Database connection successful');\r\n\r\n    // Initialize default pricing tiers\r\n    await pricingService.initializeDefaultTiers();\r\n    structuredLogger.info('Pricing tiers initialized');\r\n\r\n    // Start alert checking\r\n    const alertCheckInterval = parseInt(process.env.ALERT_CHECK_INTERVAL || '60000');\r\n    alertsService.startAlertChecking(alertCheckInterval);\r\n    structuredLogger.info('Alert checking started', undefined, {\r\n      intervalMs: alertCheckInterval,\r\n    });\r\n\r\n    app.listen(PORT, () => {\r\n      structuredLogger.info(`Education Revenue Engine running on port ${PORT}`, undefined, {\r\n        port: PORT,\r\n        environment: process.env.NODE_ENV || 'development',\r\n      });\r\n    });\r\n  } catch (error) {\r\n    structuredLogger.error('Failed to start server:', error as Error);\r\n    process.exit(1);\r\n  }\r\n};\r\n\r\n// Graceful shutdown\r\nprocess.on('SIGINT', async () => {\r\n  structuredLogger.info('Shutting down gracefully...');\r\n  alertsService.stopAlertChecking();\r\n  await prisma.$disconnect();\r\n  process.exit(0);\r\n});\r\n\r\n// Only start server if not in test environment\r\nif (process.env.NODE_ENV !== 'test') {\r\n  startServer();\r\n}\r\n\r\nexport default app;\r\n"],"mappings":"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QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAA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","ignoreList":[]}