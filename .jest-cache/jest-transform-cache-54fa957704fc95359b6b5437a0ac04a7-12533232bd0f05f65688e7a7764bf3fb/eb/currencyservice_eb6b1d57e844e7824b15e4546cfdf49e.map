{"version":3,"names":["_index","require","_logger","_joi","_interopRequireDefault","e","__esModule","default","cov_ddx9raqi5","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","_coverageSchema","coverage","actualCoverage","COUNTRY_CURRENCY_MAP","US","GB","CA","AU","IN","ZA","NG","KE","GH","EG","BR","MX","DE","FR","IT","ES","JP","CN","SG","MY","TH","PH","ID","VN","PK","BD","COUNTRY_PRICE_MULTIPLIERS","countryPricingSchema","Joi","object","pricingTierId","string","required","countryCode","length","uppercase","currency","monthlyPrice","number","min","studentDiscount","max","CurrencyService","getCurrencyForCountry","toUpperCase","calculateLocalizedPrice","basePrice","multiplier","Math","round","createCountryPricing","data","error","value","validate","Error","message","existingPricing","prisma","countryPricing","findUnique","where","pricingTierId_countryCode","pricing","create","logger","info","Number","getCountryPricing","getAllCountryPricing","findMany","map","p","updateCountryPricing","updateSchema","update","initializeCountryPricing","countries","Object","keys","localizedPrice","getLocalizedPricing","tierName","pricingService","tier","getTierByName","id","originalPrice","studentPrice","calculateStudentPrice","savings","features","limits","discountAmount","exports","currencyService"],"sources":["currency.service.ts"],"sourcesContent":["import { prisma } from '../index';\r\nimport { CountryPricing, LocalizedPricing } from '../types';\r\nimport { logger } from '../utils/logger';\r\nimport Joi from 'joi';\r\n\r\n// Country to currency mapping\r\nconst COUNTRY_CURRENCY_MAP: Record<string, string> = {\r\n  US: 'USD',\r\n  GB: 'GBP',\r\n  CA: 'CAD',\r\n  AU: 'AUD',\r\n  IN: 'INR',\r\n  ZA: 'ZAR',\r\n  NG: 'NGN',\r\n  KE: 'KES',\r\n  GH: 'GHS',\r\n  EG: 'EGP',\r\n  BR: 'BRL',\r\n  MX: 'MXN',\r\n  DE: 'EUR',\r\n  FR: 'EUR',\r\n  IT: 'EUR',\r\n  ES: 'EUR',\r\n  JP: 'JPY',\r\n  CN: 'CNY',\r\n  SG: 'SGD',\r\n  MY: 'MYR',\r\n  TH: 'THB',\r\n  PH: 'PHP',\r\n  ID: 'IDR',\r\n  VN: 'VND',\r\n  PK: 'PKR',\r\n  BD: 'BDT',\r\n};\r\n\r\n// Default pricing multipliers by country (relative to USD)\r\nconst COUNTRY_PRICE_MULTIPLIERS: Record<string, number> = {\r\n  US: 1.0,\r\n  GB: 0.85,\r\n  CA: 1.35,\r\n  AU: 1.55,\r\n  IN: 0.012, // INR to USD conversion\r\n  ZA: 0.053,\r\n  NG: 0.0013,\r\n  KE: 0.0077,\r\n  GH: 0.065,\r\n  EG: 0.032,\r\n  BR: 0.2,\r\n  MX: 0.058,\r\n  DE: 0.92,\r\n  FR: 0.92,\r\n  IT: 0.92,\r\n  ES: 0.92,\r\n  JP: 0.0067,\r\n  CN: 0.14,\r\n  SG: 0.74,\r\n  MY: 0.21,\r\n  TH: 0.028,\r\n  PH: 0.018,\r\n  ID: 0.000063,\r\n  VN: 0.000039,\r\n  PK: 0.0036,\r\n  BD: 0.0095,\r\n};\r\n\r\nconst countryPricingSchema = Joi.object({\r\n  pricingTierId: Joi.string().required(),\r\n  countryCode: Joi.string().length(2).uppercase().required(),\r\n  currency: Joi.string().length(3).uppercase().required(),\r\n  monthlyPrice: Joi.number().min(0).required(),\r\n  studentDiscount: Joi.number().min(0).max(100).default(0),\r\n});\r\n\r\nexport class CurrencyService {\r\n  /**\r\n   * Get currency for a country\r\n   */\r\n  getCurrencyForCountry(countryCode: string): string {\r\n    return COUNTRY_CURRENCY_MAP[countryCode.toUpperCase()] || 'USD';\r\n  }\r\n\r\n  /**\r\n   * Calculate localized price for a country\r\n   */\r\n  calculateLocalizedPrice(basePrice: number, countryCode: string): number {\r\n    const multiplier = COUNTRY_PRICE_MULTIPLIERS[countryCode.toUpperCase()] || 1.0;\r\n    return Math.round(basePrice * multiplier * 100) / 100;\r\n  }\r\n\r\n  /**\r\n   * Create country-specific pricing\r\n   */\r\n  async createCountryPricing(data: any): Promise<CountryPricing> {\r\n    try {\r\n      const { error, value } = countryPricingSchema.validate(data);\r\n      if (error) {\r\n        throw new Error(`Validation error: ${error.message}`);\r\n      }\r\n\r\n      // Check if pricing already exists for this country\r\n      const existingPricing = await prisma.countryPricing.findUnique({\r\n        where: {\r\n          pricingTierId_countryCode: {\r\n            pricingTierId: value.pricingTierId,\r\n            countryCode: value.countryCode,\r\n          },\r\n        },\r\n      });\r\n\r\n      if (existingPricing) {\r\n        throw new Error(\r\n          `Pricing already exists for tier ${value.pricingTierId} in country ${value.countryCode}`\r\n        );\r\n      }\r\n\r\n      const pricing = await prisma.countryPricing.create({\r\n        data: {\r\n          pricingTierId: value.pricingTierId,\r\n          countryCode: value.countryCode.toUpperCase(),\r\n          currency: value.currency.toUpperCase(),\r\n          monthlyPrice: value.monthlyPrice,\r\n          studentDiscount: value.studentDiscount,\r\n        },\r\n      });\r\n\r\n      logger.info(\r\n        `Country pricing created: ${value.countryCode} - ${value.currency} ${value.monthlyPrice}`\r\n      );\r\n      return {\r\n        ...pricing,\r\n        monthlyPrice: Number(pricing.monthlyPrice),\r\n      } as CountryPricing;\r\n    } catch (error) {\r\n      logger.error('Error creating country pricing:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get pricing for a specific country and tier\r\n   */\r\n  async getCountryPricing(\r\n    pricingTierId: string,\r\n    countryCode: string\r\n  ): Promise<CountryPricing | null> {\r\n    try {\r\n      const pricing = await prisma.countryPricing.findUnique({\r\n        where: {\r\n          pricingTierId_countryCode: {\r\n            pricingTierId,\r\n            countryCode: countryCode.toUpperCase(),\r\n          },\r\n        },\r\n      });\r\n\r\n      return pricing\r\n        ? ({\r\n            ...pricing,\r\n            monthlyPrice: Number(pricing.monthlyPrice),\r\n          } as CountryPricing)\r\n        : null;\r\n    } catch (error) {\r\n      logger.error(`Error getting country pricing for ${countryCode}:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get all country pricing for a tier\r\n   */\r\n  async getAllCountryPricing(pricingTierId: string): Promise<CountryPricing[]> {\r\n    try {\r\n      const pricing = await prisma.countryPricing.findMany({\r\n        where: { pricingTierId },\r\n      });\r\n\r\n      return pricing.map((p: any) => ({\r\n        ...p,\r\n        monthlyPrice: Number(p.monthlyPrice),\r\n      })) as CountryPricing[];\r\n    } catch (error) {\r\n      logger.error(`Error getting all country pricing for tier ${pricingTierId}:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update country pricing\r\n   */\r\n  async updateCountryPricing(\r\n    pricingTierId: string,\r\n    countryCode: string,\r\n    data: any\r\n  ): Promise<CountryPricing> {\r\n    try {\r\n      const updateSchema = Joi.object({\r\n        monthlyPrice: Joi.number().min(0),\r\n        studentDiscount: Joi.number().min(0).max(100),\r\n        currency: Joi.string().length(3).uppercase(),\r\n      });\r\n\r\n      const { error, value } = updateSchema.validate(data);\r\n      if (error) {\r\n        throw new Error(`Validation error: ${error.message}`);\r\n      }\r\n\r\n      const pricing = await prisma.countryPricing.update({\r\n        where: {\r\n          pricingTierId_countryCode: {\r\n            pricingTierId,\r\n            countryCode: countryCode.toUpperCase(),\r\n          },\r\n        },\r\n        data: {\r\n          ...(value.monthlyPrice !== undefined && { monthlyPrice: value.monthlyPrice }),\r\n          ...(value.studentDiscount !== undefined && { studentDiscount: value.studentDiscount }),\r\n          ...(value.currency && { currency: value.currency.toUpperCase() }),\r\n        },\r\n      });\r\n\r\n      logger.info(`Country pricing updated: ${countryCode}`);\r\n      return {\r\n        ...pricing,\r\n        monthlyPrice: Number(pricing.monthlyPrice),\r\n      } as CountryPricing;\r\n    } catch (error) {\r\n      logger.error(`Error updating country pricing for ${countryCode}:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialize country pricing for all tiers\r\n   */\r\n  async initializeCountryPricing(pricingTierId: string, basePrice: number): Promise<void> {\r\n    try {\r\n      const countries = Object.keys(COUNTRY_CURRENCY_MAP);\r\n\r\n      for (const countryCode of countries) {\r\n        const existingPricing = await prisma.countryPricing.findUnique({\r\n          where: {\r\n            pricingTierId_countryCode: {\r\n              pricingTierId,\r\n              countryCode,\r\n            },\r\n          },\r\n        });\r\n\r\n        if (!existingPricing) {\r\n          const localizedPrice = this.calculateLocalizedPrice(basePrice, countryCode);\r\n          const currency = this.getCurrencyForCountry(countryCode);\r\n\r\n          await prisma.countryPricing.create({\r\n            data: {\r\n              pricingTierId,\r\n              countryCode,\r\n              currency,\r\n              monthlyPrice: localizedPrice,\r\n              studentDiscount: 0,\r\n            },\r\n          });\r\n        }\r\n      }\r\n\r\n      logger.info(`Country pricing initialized for tier ${pricingTierId}`);\r\n    } catch (error) {\r\n      logger.error('Error initializing country pricing:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get localized pricing for a student\r\n   */\r\n  async getLocalizedPricing(\r\n    tierName: string,\r\n    countryCode: string,\r\n    pricingService: any\r\n  ): Promise<LocalizedPricing | null> {\r\n    try {\r\n      const tier = await pricingService.getTierByName(tierName);\r\n      if (!tier) {\r\n        return null;\r\n      }\r\n\r\n      const countryPricing = await this.getCountryPricing(tier.id, countryCode);\r\n\r\n      if (!countryPricing) {\r\n        // Fallback to calculated pricing if not explicitly set\r\n        const localizedPrice = this.calculateLocalizedPrice(tier.monthlyPrice, countryCode);\r\n        const currency = this.getCurrencyForCountry(countryCode);\r\n\r\n        return {\r\n          tier: tierName,\r\n          countryCode: countryCode.toUpperCase(),\r\n          currency,\r\n          originalPrice: localizedPrice,\r\n          studentDiscount: tier.studentDiscount,\r\n          studentPrice: this.calculateStudentPrice(localizedPrice, tier.studentDiscount),\r\n          savings: localizedPrice - this.calculateStudentPrice(localizedPrice, tier.studentDiscount),\r\n          features: tier.features,\r\n          limits: tier.limits,\r\n        };\r\n      }\r\n\r\n      return {\r\n        tier: tierName,\r\n        countryCode: countryPricing.countryCode,\r\n        currency: countryPricing.currency,\r\n        originalPrice: Number(countryPricing.monthlyPrice),\r\n        studentDiscount: countryPricing.studentDiscount,\r\n        studentPrice: this.calculateStudentPrice(\r\n          Number(countryPricing.monthlyPrice),\r\n          countryPricing.studentDiscount\r\n        ),\r\n        savings:\r\n          Number(countryPricing.monthlyPrice) -\r\n          this.calculateStudentPrice(\r\n            Number(countryPricing.monthlyPrice),\r\n            countryPricing.studentDiscount\r\n          ),\r\n        features: tier.features,\r\n        limits: tier.limits,\r\n      };\r\n    } catch (error) {\r\n      logger.error(`Error getting localized pricing for ${countryCode}:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate student price with discount\r\n   */\r\n  private calculateStudentPrice(monthlyPrice: number, studentDiscount: number): number {\r\n    const discountAmount = (monthlyPrice * studentDiscount) / 100;\r\n    return Math.round((monthlyPrice - discountAmount) * 100) / 100;\r\n  }\r\n}\r\n\r\nexport const currencyService = new CurrencyService();\r\n"],"mappings":";;;;;;;AAAA;AAAA;AAAAA,MAAA,GAAAC,OAAA;AAEA;AAAA;AAAAC,OAAA,GAAAD,OAAA;AACA;AAAA;AAAAE,IAAA,GAAAC,sBAAA,CAAAH,OAAA;AAAsB,oCAAAG,uBAAAC,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,SAAAG,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAA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","ignoreList":[]}