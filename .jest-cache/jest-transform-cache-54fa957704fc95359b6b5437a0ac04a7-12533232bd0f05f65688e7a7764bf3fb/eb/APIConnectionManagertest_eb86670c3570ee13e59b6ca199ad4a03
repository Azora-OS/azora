1f250a61ce492bb6688aec77c3c93271
"use strict";

var _APIConnectionManager = require("../APIConnectionManager");
describe('APIConnectionManager', () => {
  let manager;
  beforeEach(() => {
    manager = new _APIConnectionManager.APIConnectionManager();
  });
  describe('generateReactQueryHook', () => {
    it('should generate a query hook for GET endpoint', () => {
      const endpoint = {
        id: 'getUsers',
        method: 'GET',
        path: '/api/users',
        responseSchema: {
          id: {
            type: 'string'
          },
          name: {
            type: 'string'
          },
          email: {
            type: 'string'
          }
        }
      };
      const connection = {
        componentId: 'user-list',
        endpointId: 'getUsers',
        operation: 'query'
      };
      const changes = manager.generateReactQueryHook({
        hookName: 'useGetUsers',
        endpoint,
        connection
      }, '/test/output');
      expect(changes).toHaveLength(1);
      expect(changes[0].path).toContain('hooks');
      expect(changes[0].path).toContain('use-get-users.ts');
      expect(changes[0].content).toContain('useQuery');
      expect(changes[0].content).toContain('export function useGetUsers');
      expect(changes[0].content).toContain("queryKey: ['users']");
    });
    it('should generate a mutation hook for POST endpoint', () => {
      const endpoint = {
        id: 'createUser',
        method: 'POST',
        path: '/api/users',
        requestSchema: {
          name: {
            type: 'string'
          },
          email: {
            type: 'string'
          }
        },
        responseSchema: {
          id: {
            type: 'string'
          },
          name: {
            type: 'string'
          },
          email: {
            type: 'string'
          }
        }
      };
      const connection = {
        componentId: 'user-form',
        endpointId: 'createUser',
        operation: 'mutation'
      };
      const changes = manager.generateReactQueryHook({
        hookName: 'useCreateUser',
        endpoint,
        connection
      }, '/test/output');
      expect(changes).toHaveLength(1);
      expect(changes[0].content).toContain('useMutation');
      expect(changes[0].content).toContain('export function useCreateUser');
      expect(changes[0].content).toContain('mutationFn');
    });
    it('should handle path parameters in query hooks', () => {
      const endpoint = {
        id: 'getUserById',
        method: 'GET',
        path: '/api/users/:id',
        responseSchema: {
          id: {
            type: 'string'
          },
          name: {
            type: 'string'
          }
        }
      };
      const connection = {
        componentId: 'user-detail',
        endpointId: 'getUserById',
        operation: 'query'
      };
      const changes = manager.generateReactQueryHook({
        hookName: 'useGetUserById',
        endpoint,
        connection
      }, '/test/output');
      expect(changes[0].content).toContain('id: string | number');
      expect(changes[0].content).toContain("queryKey: ['users', id]");
      expect(changes[0].content).toContain('${id}');
    });
    it('should include authorization header when requiresAuth is true', () => {
      const endpoint = {
        id: 'getProfile',
        method: 'GET',
        path: '/api/profile',
        requiresAuth: true,
        responseSchema: {
          id: {
            type: 'string'
          },
          name: {
            type: 'string'
          }
        }
      };
      const connection = {
        componentId: 'profile',
        endpointId: 'getProfile',
        operation: 'query'
      };
      const changes = manager.generateReactQueryHook({
        hookName: 'useGetProfile',
        endpoint,
        connection
      }, '/test/output');
      expect(changes[0].content).toContain('Authorization');
      expect(changes[0].content).toContain('Bearer');
      expect(changes[0].content).toContain("localStorage.getItem('token')");
    });
    it('should generate optimistic updates for mutations when enabled', () => {
      const endpoint = {
        id: 'updateUser',
        method: 'PUT',
        path: '/api/users/:id',
        requestSchema: {
          name: {
            type: 'string'
          }
        },
        responseSchema: {
          id: {
            type: 'string'
          },
          name: {
            type: 'string'
          }
        }
      };
      const connection = {
        componentId: 'user-form',
        endpointId: 'updateUser',
        operation: 'mutation',
        optimisticUpdate: true
      };
      const changes = manager.generateReactQueryHook({
        hookName: 'useUpdateUser',
        endpoint,
        connection
      }, '/test/output');
      expect(changes[0].content).toContain('onMutate');
      expect(changes[0].content).toContain('cancelQueries');
      expect(changes[0].content).toContain('previousData');
      expect(changes[0].content).toContain('setQueryData');
    });
    it('should generate TypeScript interfaces from schemas', () => {
      const endpoint = {
        id: 'createPost',
        method: 'POST',
        path: '/api/posts',
        requestSchema: {
          title: {
            type: 'string'
          },
          content: {
            type: 'string'
          },
          published: {
            type: 'boolean',
            optional: true
          }
        },
        responseSchema: {
          id: {
            type: 'string'
          },
          title: {
            type: 'string'
          },
          content: {
            type: 'string'
          },
          published: {
            type: 'boolean'
          },
          createdAt: {
            type: 'date'
          }
        }
      };
      const connection = {
        componentId: 'post-form',
        endpointId: 'createPost',
        operation: 'mutation'
      };
      const changes = manager.generateReactQueryHook({
        hookName: 'useCreatePost',
        endpoint,
        connection
      }, '/test/output');
      expect(changes[0].content).toContain('export interface CreatePostRequest');
      expect(changes[0].content).toContain('title: string');
      expect(changes[0].content).toContain('published?: boolean');
      expect(changes[0].content).toContain('export interface CreatePostResponse');
      expect(changes[0].content).toContain('createdAt: Date');
    });
    it('should handle array types in schemas', () => {
      const endpoint = {
        id: 'getUsers',
        method: 'GET',
        path: '/api/users',
        responseSchema: {
          users: {
            type: 'array',
            items: {
              type: 'object'
            }
          },
          total: {
            type: 'number'
          }
        }
      };
      const connection = {
        componentId: 'user-list',
        endpointId: 'getUsers',
        operation: 'query'
      };
      const changes = manager.generateReactQueryHook({
        hookName: 'useGetUsers',
        endpoint,
        connection
      }, '/test/output');
      expect(changes[0].content).toContain('users: Record<string, any>[]');
    });
  });
  describe('generateConnectedComponent', () => {
    it('should generate component with query hook', () => {
      const endpoint = {
        id: 'getUsers',
        method: 'GET',
        path: '/api/users',
        responseSchema: {
          id: {
            type: 'string'
          },
          name: {
            type: 'string'
          }
        }
      };
      const connection = {
        componentId: 'user-list',
        endpointId: 'getUsers',
        operation: 'query'
      };
      const changes = manager.generateConnectedComponent('user-list', endpoint, connection, '/test/output');

      // Should generate both hook and component
      expect(changes.length).toBeGreaterThan(1);
      const componentChange = changes.find(c => c.path.includes('components'));
      expect(componentChange).toBeDefined();
      expect(componentChange?.content).toContain('useGetUsers');
      expect(componentChange?.content).toContain('isLoading');
      expect(componentChange?.content).toContain('error');
      expect(componentChange?.content).toContain('data');
    });
    it('should generate loading state UI', () => {
      const endpoint = {
        id: 'getUsers',
        method: 'GET',
        path: '/api/users',
        responseSchema: {}
      };
      const connection = {
        componentId: 'user-list',
        endpointId: 'getUsers',
        operation: 'query'
      };
      const changes = manager.generateConnectedComponent('user-list', endpoint, connection, '/test/output');
      const componentChange = changes.find(c => c.path.includes('components'));
      expect(componentChange?.content).toContain('if (isLoading)');
      expect(componentChange?.content).toContain('animate-spin');
    });
    it('should generate error state UI with retry', () => {
      const endpoint = {
        id: 'getUsers',
        method: 'GET',
        path: '/api/users',
        responseSchema: {}
      };
      const connection = {
        componentId: 'user-list',
        endpointId: 'getUsers',
        operation: 'query'
      };
      const changes = manager.generateConnectedComponent('user-list', endpoint, connection, '/test/output');
      const componentChange = changes.find(c => c.path.includes('components'));
      expect(componentChange?.content).toContain('if (error)');
      expect(componentChange?.content).toContain('refetch');
      expect(componentChange?.content).toContain('Retry');
    });
    it('should generate component with mutation hook', () => {
      const endpoint = {
        id: 'createUser',
        method: 'POST',
        path: '/api/users',
        requestSchema: {
          name: {
            type: 'string'
          }
        },
        responseSchema: {
          id: {
            type: 'string'
          }
        }
      };
      const connection = {
        componentId: 'user-form',
        endpointId: 'createUser',
        operation: 'mutation'
      };
      const changes = manager.generateConnectedComponent('user-form', endpoint, connection, '/test/output');
      const componentChange = changes.find(c => c.path.includes('components'));
      expect(componentChange?.content).toContain('mutation.mutate');
      expect(componentChange?.content).toContain('mutation.isPending');
      expect(componentChange?.content).toContain('mutation.isError');
      expect(componentChange?.content).toContain('mutation.isSuccess');
    });
    it('should generate form with submit handler for mutations', () => {
      const endpoint = {
        id: 'createUser',
        method: 'POST',
        path: '/api/users',
        requestSchema: {},
        responseSchema: {}
      };
      const connection = {
        componentId: 'user-form',
        endpointId: 'createUser',
        operation: 'mutation'
      };
      const changes = manager.generateConnectedComponent('user-form', endpoint, connection, '/test/output');
      const componentChange = changes.find(c => c.path.includes('components'));
      expect(componentChange?.content).toContain('handleSubmit');
      expect(componentChange?.content).toContain('onSubmit={handleSubmit}');
      expect(componentChange?.content).toContain('e.preventDefault()');
    });
    it('should include success and error feedback for mutations', () => {
      const endpoint = {
        id: 'createUser',
        method: 'POST',
        path: '/api/users',
        requestSchema: {},
        responseSchema: {}
      };
      const connection = {
        componentId: 'user-form',
        endpointId: 'createUser',
        operation: 'mutation'
      };
      const changes = manager.generateConnectedComponent('user-form', endpoint, connection, '/test/output');
      const componentChange = changes.find(c => c.path.includes('components'));
      expect(componentChange?.content).toContain('mutation.isError');
      expect(componentChange?.content).toContain('mutation.isSuccess');
      expect(componentChange?.content).toContain('Success!');
    });
  });
  describe('edge cases', () => {
    it('should handle endpoints without schemas', () => {
      const endpoint = {
        id: 'ping',
        method: 'GET',
        path: '/api/ping'
      };
      const connection = {
        componentId: 'health-check',
        endpointId: 'ping',
        operation: 'query'
      };
      const changes = manager.generateReactQueryHook({
        hookName: 'usePing',
        endpoint,
        connection
      }, '/test/output');
      expect(changes).toHaveLength(1);
      expect(changes[0].content).toContain('Promise<any>');
    });
    it('should handle complex nested paths', () => {
      const endpoint = {
        id: 'getUserPosts',
        method: 'GET',
        path: '/api/users/:userId/posts/:postId',
        responseSchema: {}
      };
      const connection = {
        componentId: 'post-detail',
        endpointId: 'getUserPosts',
        operation: 'query'
      };
      const changes = manager.generateReactQueryHook({
        hookName: 'useGetUserPosts',
        endpoint,
        connection
      }, '/test/output');
      expect(changes[0].content).toContain('userId: string | number');
      expect(changes[0].content).toContain('postId: string | number');
      expect(changes[0].content).toContain("queryKey: ['users', userId, postId]");
    });
    it('should handle DELETE method', () => {
      const endpoint = {
        id: 'deleteUser',
        method: 'DELETE',
        path: '/api/users/:id'
      };
      const connection = {
        componentId: 'user-actions',
        endpointId: 'deleteUser',
        operation: 'mutation'
      };
      const changes = manager.generateReactQueryHook({
        hookName: 'useDeleteUser',
        endpoint,
        connection
      }, '/test/output');
      expect(changes[0].content).toContain("method: 'DELETE'");
      expect(changes[0].content).toContain('useMutation');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQVBJQ29ubmVjdGlvbk1hbmFnZXIiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJtYW5hZ2VyIiwiYmVmb3JlRWFjaCIsIkFQSUNvbm5lY3Rpb25NYW5hZ2VyIiwiaXQiLCJlbmRwb2ludCIsImlkIiwibWV0aG9kIiwicGF0aCIsInJlc3BvbnNlU2NoZW1hIiwidHlwZSIsIm5hbWUiLCJlbWFpbCIsImNvbm5lY3Rpb24iLCJjb21wb25lbnRJZCIsImVuZHBvaW50SWQiLCJvcGVyYXRpb24iLCJjaGFuZ2VzIiwiZ2VuZXJhdGVSZWFjdFF1ZXJ5SG9vayIsImhvb2tOYW1lIiwiZXhwZWN0IiwidG9IYXZlTGVuZ3RoIiwidG9Db250YWluIiwiY29udGVudCIsInJlcXVlc3RTY2hlbWEiLCJyZXF1aXJlc0F1dGgiLCJvcHRpbWlzdGljVXBkYXRlIiwidGl0bGUiLCJwdWJsaXNoZWQiLCJvcHRpb25hbCIsImNyZWF0ZWRBdCIsInVzZXJzIiwiaXRlbXMiLCJ0b3RhbCIsImdlbmVyYXRlQ29ubmVjdGVkQ29tcG9uZW50IiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwiY29tcG9uZW50Q2hhbmdlIiwiZmluZCIsImMiLCJpbmNsdWRlcyIsInRvQmVEZWZpbmVkIl0sInNvdXJjZXMiOlsiQVBJQ29ubmVjdGlvbk1hbmFnZXIudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBUElDb25uZWN0aW9uTWFuYWdlciwgQVBJRW5kcG9pbnQsIEFQSUNvbm5lY3Rpb24gfSBmcm9tICcuLi9BUElDb25uZWN0aW9uTWFuYWdlcic7XG5cbmRlc2NyaWJlKCdBUElDb25uZWN0aW9uTWFuYWdlcicsICgpID0+IHtcbiAgbGV0IG1hbmFnZXI6IEFQSUNvbm5lY3Rpb25NYW5hZ2VyO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1hbmFnZXIgPSBuZXcgQVBJQ29ubmVjdGlvbk1hbmFnZXIoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dlbmVyYXRlUmVhY3RRdWVyeUhvb2snLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBhIHF1ZXJ5IGhvb2sgZm9yIEdFVCBlbmRwb2ludCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGVuZHBvaW50OiBBUElFbmRwb2ludCA9IHtcbiAgICAgICAgaWQ6ICdnZXRVc2VycycsXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhdGg6ICcvYXBpL3VzZXJzJyxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHtcbiAgICAgICAgICBpZDogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgIG5hbWU6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICBlbWFpbDogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY29ubmVjdGlvbjogQVBJQ29ubmVjdGlvbiA9IHtcbiAgICAgICAgY29tcG9uZW50SWQ6ICd1c2VyLWxpc3QnLFxuICAgICAgICBlbmRwb2ludElkOiAnZ2V0VXNlcnMnLFxuICAgICAgICBvcGVyYXRpb246ICdxdWVyeScsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gbWFuYWdlci5nZW5lcmF0ZVJlYWN0UXVlcnlIb29rKFxuICAgICAgICB7IGhvb2tOYW1lOiAndXNlR2V0VXNlcnMnLCBlbmRwb2ludCwgY29ubmVjdGlvbiB9LFxuICAgICAgICAnL3Rlc3Qvb3V0cHV0J1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGNoYW5nZXMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLnBhdGgpLnRvQ29udGFpbignaG9va3MnKTtcbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLnBhdGgpLnRvQ29udGFpbigndXNlLWdldC11c2Vycy50cycpO1xuICAgICAgZXhwZWN0KGNoYW5nZXNbMF0uY29udGVudCkudG9Db250YWluKCd1c2VRdWVyeScpO1xuICAgICAgZXhwZWN0KGNoYW5nZXNbMF0uY29udGVudCkudG9Db250YWluKCdleHBvcnQgZnVuY3Rpb24gdXNlR2V0VXNlcnMnKTtcbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLmNvbnRlbnQpLnRvQ29udGFpbihcInF1ZXJ5S2V5OiBbJ3VzZXJzJ11cIik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGEgbXV0YXRpb24gaG9vayBmb3IgUE9TVCBlbmRwb2ludCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGVuZHBvaW50OiBBUElFbmRwb2ludCA9IHtcbiAgICAgICAgaWQ6ICdjcmVhdGVVc2VyJyxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHBhdGg6ICcvYXBpL3VzZXJzJyxcbiAgICAgICAgcmVxdWVzdFNjaGVtYToge1xuICAgICAgICAgIG5hbWU6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICBlbWFpbDogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICB9LFxuICAgICAgICByZXNwb25zZVNjaGVtYToge1xuICAgICAgICAgIGlkOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgbmFtZTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgIGVtYWlsOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjb25uZWN0aW9uOiBBUElDb25uZWN0aW9uID0ge1xuICAgICAgICBjb21wb25lbnRJZDogJ3VzZXItZm9ybScsXG4gICAgICAgIGVuZHBvaW50SWQ6ICdjcmVhdGVVc2VyJyxcbiAgICAgICAgb3BlcmF0aW9uOiAnbXV0YXRpb24nLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IG1hbmFnZXIuZ2VuZXJhdGVSZWFjdFF1ZXJ5SG9vayhcbiAgICAgICAgeyBob29rTmFtZTogJ3VzZUNyZWF0ZVVzZXInLCBlbmRwb2ludCwgY29ubmVjdGlvbiB9LFxuICAgICAgICAnL3Rlc3Qvb3V0cHV0J1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGNoYW5nZXMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLmNvbnRlbnQpLnRvQ29udGFpbigndXNlTXV0YXRpb24nKTtcbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLmNvbnRlbnQpLnRvQ29udGFpbignZXhwb3J0IGZ1bmN0aW9uIHVzZUNyZWF0ZVVzZXInKTtcbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLmNvbnRlbnQpLnRvQ29udGFpbignbXV0YXRpb25GbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGF0aCBwYXJhbWV0ZXJzIGluIHF1ZXJ5IGhvb2tzJywgKCkgPT4ge1xuICAgICAgY29uc3QgZW5kcG9pbnQ6IEFQSUVuZHBvaW50ID0ge1xuICAgICAgICBpZDogJ2dldFVzZXJCeUlkJyxcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgcGF0aDogJy9hcGkvdXNlcnMvOmlkJyxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHtcbiAgICAgICAgICBpZDogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgIG5hbWU6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNvbm5lY3Rpb246IEFQSUNvbm5lY3Rpb24gPSB7XG4gICAgICAgIGNvbXBvbmVudElkOiAndXNlci1kZXRhaWwnLFxuICAgICAgICBlbmRwb2ludElkOiAnZ2V0VXNlckJ5SWQnLFxuICAgICAgICBvcGVyYXRpb246ICdxdWVyeScsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gbWFuYWdlci5nZW5lcmF0ZVJlYWN0UXVlcnlIb29rKFxuICAgICAgICB7IGhvb2tOYW1lOiAndXNlR2V0VXNlckJ5SWQnLCBlbmRwb2ludCwgY29ubmVjdGlvbiB9LFxuICAgICAgICAnL3Rlc3Qvb3V0cHV0J1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGNoYW5nZXNbMF0uY29udGVudCkudG9Db250YWluKCdpZDogc3RyaW5nIHwgbnVtYmVyJyk7XG4gICAgICBleHBlY3QoY2hhbmdlc1swXS5jb250ZW50KS50b0NvbnRhaW4oXCJxdWVyeUtleTogWyd1c2VycycsIGlkXVwiKTtcbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLmNvbnRlbnQpLnRvQ29udGFpbignJHtpZH0nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSBhdXRob3JpemF0aW9uIGhlYWRlciB3aGVuIHJlcXVpcmVzQXV0aCBpcyB0cnVlJywgKCkgPT4ge1xuICAgICAgY29uc3QgZW5kcG9pbnQ6IEFQSUVuZHBvaW50ID0ge1xuICAgICAgICBpZDogJ2dldFByb2ZpbGUnLFxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXRoOiAnL2FwaS9wcm9maWxlJyxcbiAgICAgICAgcmVxdWlyZXNBdXRoOiB0cnVlLFxuICAgICAgICByZXNwb25zZVNjaGVtYToge1xuICAgICAgICAgIGlkOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgbmFtZTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY29ubmVjdGlvbjogQVBJQ29ubmVjdGlvbiA9IHtcbiAgICAgICAgY29tcG9uZW50SWQ6ICdwcm9maWxlJyxcbiAgICAgICAgZW5kcG9pbnRJZDogJ2dldFByb2ZpbGUnLFxuICAgICAgICBvcGVyYXRpb246ICdxdWVyeScsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gbWFuYWdlci5nZW5lcmF0ZVJlYWN0UXVlcnlIb29rKFxuICAgICAgICB7IGhvb2tOYW1lOiAndXNlR2V0UHJvZmlsZScsIGVuZHBvaW50LCBjb25uZWN0aW9uIH0sXG4gICAgICAgICcvdGVzdC9vdXRwdXQnXG4gICAgICApO1xuXG4gICAgICBleHBlY3QoY2hhbmdlc1swXS5jb250ZW50KS50b0NvbnRhaW4oJ0F1dGhvcml6YXRpb24nKTtcbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLmNvbnRlbnQpLnRvQ29udGFpbignQmVhcmVyJyk7XG4gICAgICBleHBlY3QoY2hhbmdlc1swXS5jb250ZW50KS50b0NvbnRhaW4oXCJsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKVwiKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgb3B0aW1pc3RpYyB1cGRhdGVzIGZvciBtdXRhdGlvbnMgd2hlbiBlbmFibGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgZW5kcG9pbnQ6IEFQSUVuZHBvaW50ID0ge1xuICAgICAgICBpZDogJ3VwZGF0ZVVzZXInLFxuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBwYXRoOiAnL2FwaS91c2Vycy86aWQnLFxuICAgICAgICByZXF1ZXN0U2NoZW1hOiB7XG4gICAgICAgICAgbmFtZTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICB9LFxuICAgICAgICByZXNwb25zZVNjaGVtYToge1xuICAgICAgICAgIGlkOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgbmFtZTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY29ubmVjdGlvbjogQVBJQ29ubmVjdGlvbiA9IHtcbiAgICAgICAgY29tcG9uZW50SWQ6ICd1c2VyLWZvcm0nLFxuICAgICAgICBlbmRwb2ludElkOiAndXBkYXRlVXNlcicsXG4gICAgICAgIG9wZXJhdGlvbjogJ211dGF0aW9uJyxcbiAgICAgICAgb3B0aW1pc3RpY1VwZGF0ZTogdHJ1ZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBtYW5hZ2VyLmdlbmVyYXRlUmVhY3RRdWVyeUhvb2soXG4gICAgICAgIHsgaG9va05hbWU6ICd1c2VVcGRhdGVVc2VyJywgZW5kcG9pbnQsIGNvbm5lY3Rpb24gfSxcbiAgICAgICAgJy90ZXN0L291dHB1dCdcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLmNvbnRlbnQpLnRvQ29udGFpbignb25NdXRhdGUnKTtcbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLmNvbnRlbnQpLnRvQ29udGFpbignY2FuY2VsUXVlcmllcycpO1xuICAgICAgZXhwZWN0KGNoYW5nZXNbMF0uY29udGVudCkudG9Db250YWluKCdwcmV2aW91c0RhdGEnKTtcbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLmNvbnRlbnQpLnRvQ29udGFpbignc2V0UXVlcnlEYXRhJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIFR5cGVTY3JpcHQgaW50ZXJmYWNlcyBmcm9tIHNjaGVtYXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbmRwb2ludDogQVBJRW5kcG9pbnQgPSB7XG4gICAgICAgIGlkOiAnY3JlYXRlUG9zdCcsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBwYXRoOiAnL2FwaS9wb3N0cycsXG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHtcbiAgICAgICAgICB0aXRsZTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgIGNvbnRlbnQ6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICBwdWJsaXNoZWQ6IHsgdHlwZTogJ2Jvb2xlYW4nLCBvcHRpb25hbDogdHJ1ZSB9LFxuICAgICAgICB9LFxuICAgICAgICByZXNwb25zZVNjaGVtYToge1xuICAgICAgICAgIGlkOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgdGl0bGU6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICBjb250ZW50OiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgcHVibGlzaGVkOiB7IHR5cGU6ICdib29sZWFuJyB9LFxuICAgICAgICAgIGNyZWF0ZWRBdDogeyB0eXBlOiAnZGF0ZScgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNvbm5lY3Rpb246IEFQSUNvbm5lY3Rpb24gPSB7XG4gICAgICAgIGNvbXBvbmVudElkOiAncG9zdC1mb3JtJyxcbiAgICAgICAgZW5kcG9pbnRJZDogJ2NyZWF0ZVBvc3QnLFxuICAgICAgICBvcGVyYXRpb246ICdtdXRhdGlvbicsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gbWFuYWdlci5nZW5lcmF0ZVJlYWN0UXVlcnlIb29rKFxuICAgICAgICB7IGhvb2tOYW1lOiAndXNlQ3JlYXRlUG9zdCcsIGVuZHBvaW50LCBjb25uZWN0aW9uIH0sXG4gICAgICAgICcvdGVzdC9vdXRwdXQnXG4gICAgICApO1xuXG4gICAgICBleHBlY3QoY2hhbmdlc1swXS5jb250ZW50KS50b0NvbnRhaW4oJ2V4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlUG9zdFJlcXVlc3QnKTtcbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLmNvbnRlbnQpLnRvQ29udGFpbigndGl0bGU6IHN0cmluZycpO1xuICAgICAgZXhwZWN0KGNoYW5nZXNbMF0uY29udGVudCkudG9Db250YWluKCdwdWJsaXNoZWQ/OiBib29sZWFuJyk7XG4gICAgICBleHBlY3QoY2hhbmdlc1swXS5jb250ZW50KS50b0NvbnRhaW4oJ2V4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlUG9zdFJlc3BvbnNlJyk7XG4gICAgICBleHBlY3QoY2hhbmdlc1swXS5jb250ZW50KS50b0NvbnRhaW4oJ2NyZWF0ZWRBdDogRGF0ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYXJyYXkgdHlwZXMgaW4gc2NoZW1hcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVuZHBvaW50OiBBUElFbmRwb2ludCA9IHtcbiAgICAgICAgaWQ6ICdnZXRVc2VycycsXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhdGg6ICcvYXBpL3VzZXJzJyxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHtcbiAgICAgICAgICB1c2VyczogeyB0eXBlOiAnYXJyYXknLCBpdGVtczogeyB0eXBlOiAnb2JqZWN0JyB9IH0sXG4gICAgICAgICAgdG90YWw6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNvbm5lY3Rpb246IEFQSUNvbm5lY3Rpb24gPSB7XG4gICAgICAgIGNvbXBvbmVudElkOiAndXNlci1saXN0JyxcbiAgICAgICAgZW5kcG9pbnRJZDogJ2dldFVzZXJzJyxcbiAgICAgICAgb3BlcmF0aW9uOiAncXVlcnknLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IG1hbmFnZXIuZ2VuZXJhdGVSZWFjdFF1ZXJ5SG9vayhcbiAgICAgICAgeyBob29rTmFtZTogJ3VzZUdldFVzZXJzJywgZW5kcG9pbnQsIGNvbm5lY3Rpb24gfSxcbiAgICAgICAgJy90ZXN0L291dHB1dCdcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLmNvbnRlbnQpLnRvQ29udGFpbigndXNlcnM6IFJlY29yZDxzdHJpbmcsIGFueT5bXScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2VuZXJhdGVDb25uZWN0ZWRDb21wb25lbnQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBjb21wb25lbnQgd2l0aCBxdWVyeSBob29rJywgKCkgPT4ge1xuICAgICAgY29uc3QgZW5kcG9pbnQ6IEFQSUVuZHBvaW50ID0ge1xuICAgICAgICBpZDogJ2dldFVzZXJzJyxcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgcGF0aDogJy9hcGkvdXNlcnMnLFxuICAgICAgICByZXNwb25zZVNjaGVtYToge1xuICAgICAgICAgIGlkOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgbmFtZTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY29ubmVjdGlvbjogQVBJQ29ubmVjdGlvbiA9IHtcbiAgICAgICAgY29tcG9uZW50SWQ6ICd1c2VyLWxpc3QnLFxuICAgICAgICBlbmRwb2ludElkOiAnZ2V0VXNlcnMnLFxuICAgICAgICBvcGVyYXRpb246ICdxdWVyeScsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gbWFuYWdlci5nZW5lcmF0ZUNvbm5lY3RlZENvbXBvbmVudChcbiAgICAgICAgJ3VzZXItbGlzdCcsXG4gICAgICAgIGVuZHBvaW50LFxuICAgICAgICBjb25uZWN0aW9uLFxuICAgICAgICAnL3Rlc3Qvb3V0cHV0J1xuICAgICAgKTtcblxuICAgICAgLy8gU2hvdWxkIGdlbmVyYXRlIGJvdGggaG9vayBhbmQgY29tcG9uZW50XG4gICAgICBleHBlY3QoY2hhbmdlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigxKTtcbiAgICAgIFxuICAgICAgY29uc3QgY29tcG9uZW50Q2hhbmdlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdjb21wb25lbnRzJykpO1xuICAgICAgZXhwZWN0KGNvbXBvbmVudENoYW5nZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjb21wb25lbnRDaGFuZ2U/LmNvbnRlbnQpLnRvQ29udGFpbigndXNlR2V0VXNlcnMnKTtcbiAgICAgIGV4cGVjdChjb21wb25lbnRDaGFuZ2U/LmNvbnRlbnQpLnRvQ29udGFpbignaXNMb2FkaW5nJyk7XG4gICAgICBleHBlY3QoY29tcG9uZW50Q2hhbmdlPy5jb250ZW50KS50b0NvbnRhaW4oJ2Vycm9yJyk7XG4gICAgICBleHBlY3QoY29tcG9uZW50Q2hhbmdlPy5jb250ZW50KS50b0NvbnRhaW4oJ2RhdGEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgbG9hZGluZyBzdGF0ZSBVSScsICgpID0+IHtcbiAgICAgIGNvbnN0IGVuZHBvaW50OiBBUElFbmRwb2ludCA9IHtcbiAgICAgICAgaWQ6ICdnZXRVc2VycycsXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhdGg6ICcvYXBpL3VzZXJzJyxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHt9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY29ubmVjdGlvbjogQVBJQ29ubmVjdGlvbiA9IHtcbiAgICAgICAgY29tcG9uZW50SWQ6ICd1c2VyLWxpc3QnLFxuICAgICAgICBlbmRwb2ludElkOiAnZ2V0VXNlcnMnLFxuICAgICAgICBvcGVyYXRpb246ICdxdWVyeScsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gbWFuYWdlci5nZW5lcmF0ZUNvbm5lY3RlZENvbXBvbmVudChcbiAgICAgICAgJ3VzZXItbGlzdCcsXG4gICAgICAgIGVuZHBvaW50LFxuICAgICAgICBjb25uZWN0aW9uLFxuICAgICAgICAnL3Rlc3Qvb3V0cHV0J1xuICAgICAgKTtcblxuICAgICAgY29uc3QgY29tcG9uZW50Q2hhbmdlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdjb21wb25lbnRzJykpO1xuICAgICAgZXhwZWN0KGNvbXBvbmVudENoYW5nZT8uY29udGVudCkudG9Db250YWluKCdpZiAoaXNMb2FkaW5nKScpO1xuICAgICAgZXhwZWN0KGNvbXBvbmVudENoYW5nZT8uY29udGVudCkudG9Db250YWluKCdhbmltYXRlLXNwaW4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZXJyb3Igc3RhdGUgVUkgd2l0aCByZXRyeScsICgpID0+IHtcbiAgICAgIGNvbnN0IGVuZHBvaW50OiBBUElFbmRwb2ludCA9IHtcbiAgICAgICAgaWQ6ICdnZXRVc2VycycsXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhdGg6ICcvYXBpL3VzZXJzJyxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHt9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY29ubmVjdGlvbjogQVBJQ29ubmVjdGlvbiA9IHtcbiAgICAgICAgY29tcG9uZW50SWQ6ICd1c2VyLWxpc3QnLFxuICAgICAgICBlbmRwb2ludElkOiAnZ2V0VXNlcnMnLFxuICAgICAgICBvcGVyYXRpb246ICdxdWVyeScsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gbWFuYWdlci5nZW5lcmF0ZUNvbm5lY3RlZENvbXBvbmVudChcbiAgICAgICAgJ3VzZXItbGlzdCcsXG4gICAgICAgIGVuZHBvaW50LFxuICAgICAgICBjb25uZWN0aW9uLFxuICAgICAgICAnL3Rlc3Qvb3V0cHV0J1xuICAgICAgKTtcblxuICAgICAgY29uc3QgY29tcG9uZW50Q2hhbmdlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdjb21wb25lbnRzJykpO1xuICAgICAgZXhwZWN0KGNvbXBvbmVudENoYW5nZT8uY29udGVudCkudG9Db250YWluKCdpZiAoZXJyb3IpJyk7XG4gICAgICBleHBlY3QoY29tcG9uZW50Q2hhbmdlPy5jb250ZW50KS50b0NvbnRhaW4oJ3JlZmV0Y2gnKTtcbiAgICAgIGV4cGVjdChjb21wb25lbnRDaGFuZ2U/LmNvbnRlbnQpLnRvQ29udGFpbignUmV0cnknKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgY29tcG9uZW50IHdpdGggbXV0YXRpb24gaG9vaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVuZHBvaW50OiBBUElFbmRwb2ludCA9IHtcbiAgICAgICAgaWQ6ICdjcmVhdGVVc2VyJyxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHBhdGg6ICcvYXBpL3VzZXJzJyxcbiAgICAgICAgcmVxdWVzdFNjaGVtYToge1xuICAgICAgICAgIG5hbWU6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHtcbiAgICAgICAgICBpZDogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY29ubmVjdGlvbjogQVBJQ29ubmVjdGlvbiA9IHtcbiAgICAgICAgY29tcG9uZW50SWQ6ICd1c2VyLWZvcm0nLFxuICAgICAgICBlbmRwb2ludElkOiAnY3JlYXRlVXNlcicsXG4gICAgICAgIG9wZXJhdGlvbjogJ211dGF0aW9uJyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBtYW5hZ2VyLmdlbmVyYXRlQ29ubmVjdGVkQ29tcG9uZW50KFxuICAgICAgICAndXNlci1mb3JtJyxcbiAgICAgICAgZW5kcG9pbnQsXG4gICAgICAgIGNvbm5lY3Rpb24sXG4gICAgICAgICcvdGVzdC9vdXRwdXQnXG4gICAgICApO1xuXG4gICAgICBjb25zdCBjb21wb25lbnRDaGFuZ2UgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ2NvbXBvbmVudHMnKSk7XG4gICAgICBleHBlY3QoY29tcG9uZW50Q2hhbmdlPy5jb250ZW50KS50b0NvbnRhaW4oJ211dGF0aW9uLm11dGF0ZScpO1xuICAgICAgZXhwZWN0KGNvbXBvbmVudENoYW5nZT8uY29udGVudCkudG9Db250YWluKCdtdXRhdGlvbi5pc1BlbmRpbmcnKTtcbiAgICAgIGV4cGVjdChjb21wb25lbnRDaGFuZ2U/LmNvbnRlbnQpLnRvQ29udGFpbignbXV0YXRpb24uaXNFcnJvcicpO1xuICAgICAgZXhwZWN0KGNvbXBvbmVudENoYW5nZT8uY29udGVudCkudG9Db250YWluKCdtdXRhdGlvbi5pc1N1Y2Nlc3MnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZm9ybSB3aXRoIHN1Ym1pdCBoYW5kbGVyIGZvciBtdXRhdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbmRwb2ludDogQVBJRW5kcG9pbnQgPSB7XG4gICAgICAgIGlkOiAnY3JlYXRlVXNlcicsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBwYXRoOiAnL2FwaS91c2VycycsXG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHt9LFxuICAgICAgICByZXNwb25zZVNjaGVtYToge30sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjb25uZWN0aW9uOiBBUElDb25uZWN0aW9uID0ge1xuICAgICAgICBjb21wb25lbnRJZDogJ3VzZXItZm9ybScsXG4gICAgICAgIGVuZHBvaW50SWQ6ICdjcmVhdGVVc2VyJyxcbiAgICAgICAgb3BlcmF0aW9uOiAnbXV0YXRpb24nLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IG1hbmFnZXIuZ2VuZXJhdGVDb25uZWN0ZWRDb21wb25lbnQoXG4gICAgICAgICd1c2VyLWZvcm0nLFxuICAgICAgICBlbmRwb2ludCxcbiAgICAgICAgY29ubmVjdGlvbixcbiAgICAgICAgJy90ZXN0L291dHB1dCdcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGNvbXBvbmVudENoYW5nZSA9IGNoYW5nZXMuZmluZChjID0+IGMucGF0aC5pbmNsdWRlcygnY29tcG9uZW50cycpKTtcbiAgICAgIGV4cGVjdChjb21wb25lbnRDaGFuZ2U/LmNvbnRlbnQpLnRvQ29udGFpbignaGFuZGxlU3VibWl0Jyk7XG4gICAgICBleHBlY3QoY29tcG9uZW50Q2hhbmdlPy5jb250ZW50KS50b0NvbnRhaW4oJ29uU3VibWl0PXtoYW5kbGVTdWJtaXR9Jyk7XG4gICAgICBleHBlY3QoY29tcG9uZW50Q2hhbmdlPy5jb250ZW50KS50b0NvbnRhaW4oJ2UucHJldmVudERlZmF1bHQoKScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIHN1Y2Nlc3MgYW5kIGVycm9yIGZlZWRiYWNrIGZvciBtdXRhdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbmRwb2ludDogQVBJRW5kcG9pbnQgPSB7XG4gICAgICAgIGlkOiAnY3JlYXRlVXNlcicsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBwYXRoOiAnL2FwaS91c2VycycsXG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHt9LFxuICAgICAgICByZXNwb25zZVNjaGVtYToge30sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjb25uZWN0aW9uOiBBUElDb25uZWN0aW9uID0ge1xuICAgICAgICBjb21wb25lbnRJZDogJ3VzZXItZm9ybScsXG4gICAgICAgIGVuZHBvaW50SWQ6ICdjcmVhdGVVc2VyJyxcbiAgICAgICAgb3BlcmF0aW9uOiAnbXV0YXRpb24nLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IG1hbmFnZXIuZ2VuZXJhdGVDb25uZWN0ZWRDb21wb25lbnQoXG4gICAgICAgICd1c2VyLWZvcm0nLFxuICAgICAgICBlbmRwb2ludCxcbiAgICAgICAgY29ubmVjdGlvbixcbiAgICAgICAgJy90ZXN0L291dHB1dCdcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGNvbXBvbmVudENoYW5nZSA9IGNoYW5nZXMuZmluZChjID0+IGMucGF0aC5pbmNsdWRlcygnY29tcG9uZW50cycpKTtcbiAgICAgIGV4cGVjdChjb21wb25lbnRDaGFuZ2U/LmNvbnRlbnQpLnRvQ29udGFpbignbXV0YXRpb24uaXNFcnJvcicpO1xuICAgICAgZXhwZWN0KGNvbXBvbmVudENoYW5nZT8uY29udGVudCkudG9Db250YWluKCdtdXRhdGlvbi5pc1N1Y2Nlc3MnKTtcbiAgICAgIGV4cGVjdChjb21wb25lbnRDaGFuZ2U/LmNvbnRlbnQpLnRvQ29udGFpbignU3VjY2VzcyEnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2VkZ2UgY2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW5kcG9pbnRzIHdpdGhvdXQgc2NoZW1hcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVuZHBvaW50OiBBUElFbmRwb2ludCA9IHtcbiAgICAgICAgaWQ6ICdwaW5nJyxcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgcGF0aDogJy9hcGkvcGluZycsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjb25uZWN0aW9uOiBBUElDb25uZWN0aW9uID0ge1xuICAgICAgICBjb21wb25lbnRJZDogJ2hlYWx0aC1jaGVjaycsXG4gICAgICAgIGVuZHBvaW50SWQ6ICdwaW5nJyxcbiAgICAgICAgb3BlcmF0aW9uOiAncXVlcnknLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IG1hbmFnZXIuZ2VuZXJhdGVSZWFjdFF1ZXJ5SG9vayhcbiAgICAgICAgeyBob29rTmFtZTogJ3VzZVBpbmcnLCBlbmRwb2ludCwgY29ubmVjdGlvbiB9LFxuICAgICAgICAnL3Rlc3Qvb3V0cHV0J1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGNoYW5nZXMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLmNvbnRlbnQpLnRvQ29udGFpbignUHJvbWlzZTxhbnk+Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb21wbGV4IG5lc3RlZCBwYXRocycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVuZHBvaW50OiBBUElFbmRwb2ludCA9IHtcbiAgICAgICAgaWQ6ICdnZXRVc2VyUG9zdHMnLFxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXRoOiAnL2FwaS91c2Vycy86dXNlcklkL3Bvc3RzLzpwb3N0SWQnLFxuICAgICAgICByZXNwb25zZVNjaGVtYToge30sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjb25uZWN0aW9uOiBBUElDb25uZWN0aW9uID0ge1xuICAgICAgICBjb21wb25lbnRJZDogJ3Bvc3QtZGV0YWlsJyxcbiAgICAgICAgZW5kcG9pbnRJZDogJ2dldFVzZXJQb3N0cycsXG4gICAgICAgIG9wZXJhdGlvbjogJ3F1ZXJ5JyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBtYW5hZ2VyLmdlbmVyYXRlUmVhY3RRdWVyeUhvb2soXG4gICAgICAgIHsgaG9va05hbWU6ICd1c2VHZXRVc2VyUG9zdHMnLCBlbmRwb2ludCwgY29ubmVjdGlvbiB9LFxuICAgICAgICAnL3Rlc3Qvb3V0cHV0J1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGNoYW5nZXNbMF0uY29udGVudCkudG9Db250YWluKCd1c2VySWQ6IHN0cmluZyB8IG51bWJlcicpO1xuICAgICAgZXhwZWN0KGNoYW5nZXNbMF0uY29udGVudCkudG9Db250YWluKCdwb3N0SWQ6IHN0cmluZyB8IG51bWJlcicpO1xuICAgICAgZXhwZWN0KGNoYW5nZXNbMF0uY29udGVudCkudG9Db250YWluKFwicXVlcnlLZXk6IFsndXNlcnMnLCB1c2VySWQsIHBvc3RJZF1cIik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBERUxFVEUgbWV0aG9kJywgKCkgPT4ge1xuICAgICAgY29uc3QgZW5kcG9pbnQ6IEFQSUVuZHBvaW50ID0ge1xuICAgICAgICBpZDogJ2RlbGV0ZVVzZXInLFxuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICBwYXRoOiAnL2FwaS91c2Vycy86aWQnLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY29ubmVjdGlvbjogQVBJQ29ubmVjdGlvbiA9IHtcbiAgICAgICAgY29tcG9uZW50SWQ6ICd1c2VyLWFjdGlvbnMnLFxuICAgICAgICBlbmRwb2ludElkOiAnZGVsZXRlVXNlcicsXG4gICAgICAgIG9wZXJhdGlvbjogJ211dGF0aW9uJyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBtYW5hZ2VyLmdlbmVyYXRlUmVhY3RRdWVyeUhvb2soXG4gICAgICAgIHsgaG9va05hbWU6ICd1c2VEZWxldGVVc2VyJywgZW5kcG9pbnQsIGNvbm5lY3Rpb24gfSxcbiAgICAgICAgJy90ZXN0L291dHB1dCdcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChjaGFuZ2VzWzBdLmNvbnRlbnQpLnRvQ29udGFpbihcIm1ldGhvZDogJ0RFTEVURSdcIik7XG4gICAgICBleHBlY3QoY2hhbmdlc1swXS5jb250ZW50KS50b0NvbnRhaW4oJ3VzZU11dGF0aW9uJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsT0FBQTtBQUVBQyxR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