7484d6364ea213369fb02c8dc1499142
"use strict";

var _documentGenerationService = require("../services/document-generation.service.js");
var _legalService = require("../services/legal.service.js");
describe('DocumentGenerationService', () => {
  const mockBusinessId = 'test-business-123';
  const mockUserId = 'test-user-123';
  let templateId;
  beforeAll(async () => {
    // Get a template to use for testing
    const templates = await _legalService.legalService.getTemplates();
    templateId = templates[0].id;
  });
  describe('generateDocument', () => {
    it('should generate a document from template with data population', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'Test Business',
          businessType: 'e-commerce',
          ownerName: 'John Doe',
          date: '2024-01-01',
          additionalTerms: 'Standard terms apply'
        }
      };
      const document = await _documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId);
      expect(document).toBeDefined();
      expect(document.id).toBeDefined();
      expect(document.businessId).toBe(mockBusinessId);
      expect(document.templateId).toBe(templateId);
      expect(document.status).toBe('draft');
      expect(document.content).toContain('Test Business');
      expect(document.content).toContain('John Doe');
    });
    it('should throw error when required fields are missing', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'Test Business'
          // Missing other required fields
        }
      };
      await expect(_documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId)).rejects.toThrow();
    });
    it('should throw error when template does not exist', async () => {
      const documentData = {
        templateId: 'non-existent-template',
        data: {
          businessName: 'Test Business'
        }
      };
      await expect(_documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId)).rejects.toThrow();
    });
  });
  describe('generatePDF', () => {
    it('should generate PDF from document content', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'PDF Test Business',
          businessType: 'tutoring',
          ownerName: 'Jane Doe',
          date: '2024-01-01',
          additionalTerms: 'PDF test terms'
        }
      };
      const document = await _documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId);
      const pdfBuffer = await _documentGenerationService.documentGenerationService.generatePDF(document.id, mockUserId);
      expect(pdfBuffer).toBeDefined();
      expect(Buffer.isBuffer(pdfBuffer)).toBe(true);
      expect(pdfBuffer.length).toBeGreaterThan(0);
    });
    it('should throw error when document does not exist', async () => {
      await expect(_documentGenerationService.documentGenerationService.generatePDF('non-existent-doc', mockUserId)).rejects.toThrow();
    });
  });
  describe('generateBatchDocuments', () => {
    it('should generate multiple documents in batch', async () => {
      const templates = await _legalService.legalService.getTemplates();
      const batchData = [{
        templateId: templates[0].id,
        data: {
          businessName: 'Batch Business 1',
          businessType: 'ride-sharing',
          ownerName: 'Owner 1',
          date: '2024-01-01',
          additionalTerms: 'Terms 1'
        }
      }, {
        templateId: templates[1].id,
        data: {
          businessName: 'Batch Business 2',
          businessActivity: 'Operations',
          location: 'New York',
          fiscalYear: '2024',
          managementStructure: 'Solo',
          decisionMaking: 'Owner decides',
          amendmentProcedures: 'Written notice'
        }
      }];
      const documents = await _documentGenerationService.documentGenerationService.generateBatchDocuments(mockBusinessId, batchData, mockUserId);
      expect(documents).toBeDefined();
      expect(documents.length).toBeGreaterThan(0);
      expect(documents[0].content).toContain('Batch Business 1');
    });
  });
  describe('updateGeneratedDocument', () => {
    it('should update document content', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'Update Test Business',
          businessType: 'gig-platform',
          ownerName: 'Update Owner',
          date: '2024-01-01',
          additionalTerms: 'Update terms'
        }
      };
      const document = await _documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId);
      const updatedContent = document.content + '\n\nUpdated content added.';
      const updated = await _documentGenerationService.documentGenerationService.updateGeneratedDocument(document.id, mockUserId, {
        content: updatedContent
      });
      expect(updated.content).toContain('Updated content added');
      expect(updated.updatedAt.getTime()).toBeGreaterThanOrEqual(document.updatedAt.getTime());
    });
    it('should update document status', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'Status Test Business',
          businessType: 'e-commerce',
          ownerName: 'Status Owner',
          date: '2024-01-01',
          additionalTerms: 'Status terms'
        }
      };
      const document = await _documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId);
      const updated = await _documentGenerationService.documentGenerationService.updateGeneratedDocument(document.id, mockUserId, {
        status: 'signed'
      });
      expect(updated.status).toBe('signed');
    });
  });
  describe('exportAsText', () => {
    it('should export document as text', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'Export Test Business',
          businessType: 'tutoring',
          ownerName: 'Export Owner',
          date: '2024-01-01',
          additionalTerms: 'Export terms'
        }
      };
      const document = await _documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId);
      const text = await _documentGenerationService.documentGenerationService.exportAsText(document.id, mockUserId);
      expect(typeof text).toBe('string');
      expect(text).toContain('Export Test Business');
    });
  });
  describe('exportAsJSON', () => {
    it('should export document as JSON', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'JSON Export Business',
          businessType: 'ride-sharing',
          ownerName: 'JSON Owner',
          date: '2024-01-01',
          additionalTerms: 'JSON terms'
        }
      };
      const document = await _documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId);
      const json = await _documentGenerationService.documentGenerationService.exportAsJSON(document.id, mockUserId);
      expect(json).toBeDefined();
      expect(json.id).toBe(document.id);
      expect(json.businessId).toBe(mockBusinessId);
      expect(json.status).toBe('draft');
      expect(json.content).toContain('JSON Export Business');
    });
  });
  describe('getGenerationHistory', () => {
    it('should retrieve generation history for a business', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'History Test Business',
          businessType: 'e-commerce',
          ownerName: 'History Owner',
          date: '2024-01-01',
          additionalTerms: 'History terms'
        }
      };
      await _documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId);
      const history = await _documentGenerationService.documentGenerationService.getGenerationHistory(mockBusinessId);
      expect(Array.isArray(history)).toBe(true);
      expect(history.length).toBeGreaterThan(0);
      expect(history[0]).toHaveProperty('documentId');
      expect(history[0]).toHaveProperty('templateId');
      expect(history[0]).toHaveProperty('generatedAt');
      expect(history[0]).toHaveProperty('status');
    });
  });
  describe('getDocumentVersions', () => {
    it('should retrieve version history for a document', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'Version Test Business',
          businessType: 'gig-platform',
          ownerName: 'Version Owner',
          date: '2024-01-01',
          additionalTerms: 'Version terms'
        }
      };
      const document = await _documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId);

      // Update document to create a new version
      await _documentGenerationService.documentGenerationService.updateGeneratedDocument(document.id, mockUserId, {
        content: document.content + '\n\nVersion 2 content'
      });
      const versions = await _documentGenerationService.documentGenerationService.getDocumentVersions(document.id, mockUserId);
      expect(Array.isArray(versions)).toBe(true);
      expect(versions.length).toBeGreaterThanOrEqual(1);
      expect(versions[0]).toHaveProperty('version');
      expect(versions[0]).toHaveProperty('content');
      expect(versions[0]).toHaveProperty('status');
      expect(versions[0]).toHaveProperty('updatedAt');
    });
  });
  describe('restoreDocumentVersion', () => {
    it('should restore document to previous version', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'Restore Test Business',
          businessType: 'tutoring',
          ownerName: 'Restore Owner',
          date: '2024-01-01',
          additionalTerms: 'Restore terms'
        }
      };
      const document = await _documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId);
      const originalContent = document.content;

      // Update document
      await _documentGenerationService.documentGenerationService.updateGeneratedDocument(document.id, mockUserId, {
        content: originalContent + '\n\nModified content'
      });

      // Restore to version 1
      const restored = await _documentGenerationService.documentGenerationService.restoreDocumentVersion(document.id, mockUserId, 1);
      expect(restored.content).toBe(originalContent);
    });
    it('should throw error for invalid version number', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'Invalid Version Business',
          businessType: 'e-commerce',
          ownerName: 'Invalid Owner',
          date: '2024-01-01',
          additionalTerms: 'Invalid terms'
        }
      };
      const document = await _documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId);
      await expect(_documentGenerationService.documentGenerationService.restoreDocumentVersion(document.id, mockUserId, 999)).rejects.toThrow();
    });
  });
  describe('storePDF and retrievePDF', () => {
    it('should store and retrieve PDF', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'PDF Storage Business',
          businessType: 'ride-sharing',
          ownerName: 'PDF Owner',
          date: '2024-01-01',
          additionalTerms: 'PDF storage terms'
        }
      };
      const document = await _documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId);
      const pdfBuffer = await _documentGenerationService.documentGenerationService.generatePDF(document.id, mockUserId);
      await _documentGenerationService.documentGenerationService.storePDF(document.id, pdfBuffer);
      const retrieved = await _documentGenerationService.documentGenerationService.retrievePDF(document.id, mockUserId);
      expect(Buffer.isBuffer(retrieved)).toBe(true);
      expect(retrieved.length).toBe(pdfBuffer.length);
    });
    it('should throw error when retrieving non-existent PDF', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'No PDF Business',
          businessType: 'tutoring',
          ownerName: 'No PDF Owner',
          date: '2024-01-01',
          additionalTerms: 'No PDF terms'
        }
      };
      const document = await _documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId);

      // Don't store PDF, just try to retrieve
      await expect(_documentGenerationService.documentGenerationService.retrievePDF(document.id, mockUserId)).rejects.toThrow();
    });
  });
  describe('validateDocumentData', () => {
    it('should validate document data successfully', async () => {
      const data = {
        businessName: 'Valid Business',
        businessType: 'e-commerce',
        ownerName: 'Valid Owner',
        date: '2024-01-01',
        additionalTerms: 'Valid terms'
      };
      const result = await _documentGenerationService.documentGenerationService.validateDocumentData(templateId, data);
      expect(result.valid).toBe(true);
      expect(result.errors.length).toBe(0);
    });
    it('should detect missing required fields', async () => {
      const data = {
        businessName: 'Incomplete Business'
        // Missing other required fields
      };
      const result = await _documentGenerationService.documentGenerationService.validateDocumentData(templateId, data);
      expect(result.valid).toBe(false);
      expect(result.errors.length).toBeGreaterThan(0);
    });
    it('should detect empty field values', async () => {
      const data = {
        businessName: '',
        businessType: 'e-commerce',
        ownerName: 'Owner',
        date: '2024-01-01',
        additionalTerms: 'Terms'
      };
      const result = await _documentGenerationService.documentGenerationService.validateDocumentData(templateId, data);
      expect(result.warnings.length).toBeGreaterThan(0);
    });
  });
  describe('getGenerationStats', () => {
    it('should retrieve generation statistics', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'Stats Test Business',
          businessType: 'gig-platform',
          ownerName: 'Stats Owner',
          date: '2024-01-01',
          additionalTerms: 'Stats terms'
        }
      };
      await _documentGenerationService.documentGenerationService.generateDocument(mockBusinessId, documentData, mockUserId);
      const stats = await _documentGenerationService.documentGenerationService.getGenerationStats(mockBusinessId);
      expect(stats).toBeDefined();
      expect(stats.totalGenerated).toBeGreaterThan(0);
      expect(stats.byStatus).toBeDefined();
      expect(stats.byTemplate).toBeDefined();
      expect(stats.byStatus['draft']).toBeGreaterThan(0);
    });
  });
  describe('generateStyledDocument', () => {
    it('should generate document with custom styling', async () => {
      const documentData = {
        templateId,
        data: {
          businessName: 'Styled Business',
          businessType: 'e-commerce',
          ownerName: 'Styled Owner',
          date: '2024-01-01',
          additionalTerms: 'Styled terms'
        }
      };
      const styling = {
        fontSize: 12,
        fontFamily: 'Arial',
        headerText: 'OFFICIAL DOCUMENT',
        footerText: 'Page 1 of 1'
      };
      const document = await _documentGenerationService.documentGenerationService.generateStyledDocument(mockBusinessId, documentData, styling);
      expect(document).toBeDefined();
      expect(document.content).toContain('OFFICIAL DOCUMENT');
      expect(document.content).toContain('Page 1 of 1');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZSIsInJlcXVpcmUiLCJfbGVnYWxTZXJ2aWNlIiwiZGVzY3JpYmUiLCJtb2NrQnVzaW5lc3NJZCIsIm1vY2tVc2VySWQiLCJ0ZW1wbGF0ZUlkIiwiYmVmb3JlQWxsIiwidGVtcGxhdGVzIiwibGVnYWxTZXJ2aWNlIiwiZ2V0VGVtcGxhdGVzIiwiaWQiLCJpdCIsImRvY3VtZW50RGF0YSIsImRhdGEiLCJidXNpbmVzc05hbWUiLCJidXNpbmVzc1R5cGUiLCJvd25lck5hbWUiLCJkYXRlIiwiYWRkaXRpb25hbFRlcm1zIiwiZG9jdW1lbnQiLCJkb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlIiwiZ2VuZXJhdGVEb2N1bWVudCIsImV4cGVjdCIsInRvQmVEZWZpbmVkIiwiYnVzaW5lc3NJZCIsInRvQmUiLCJzdGF0dXMiLCJjb250ZW50IiwidG9Db250YWluIiwicmVqZWN0cyIsInRvVGhyb3ciLCJwZGZCdWZmZXIiLCJnZW5lcmF0ZVBERiIsIkJ1ZmZlciIsImlzQnVmZmVyIiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwiYmF0Y2hEYXRhIiwiYnVzaW5lc3NBY3Rpdml0eSIsImxvY2F0aW9uIiwiZmlzY2FsWWVhciIsIm1hbmFnZW1lbnRTdHJ1Y3R1cmUiLCJkZWNpc2lvbk1ha2luZyIsImFtZW5kbWVudFByb2NlZHVyZXMiLCJkb2N1bWVudHMiLCJnZW5lcmF0ZUJhdGNoRG9jdW1lbnRzIiwidXBkYXRlZENvbnRlbnQiLCJ1cGRhdGVkIiwidXBkYXRlR2VuZXJhdGVkRG9jdW1lbnQiLCJ1cGRhdGVkQXQiLCJnZXRUaW1lIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsInRleHQiLCJleHBvcnRBc1RleHQiLCJqc29uIiwiZXhwb3J0QXNKU09OIiwiaGlzdG9yeSIsImdldEdlbmVyYXRpb25IaXN0b3J5IiwiQXJyYXkiLCJpc0FycmF5IiwidG9IYXZlUHJvcGVydHkiLCJ2ZXJzaW9ucyIsImdldERvY3VtZW50VmVyc2lvbnMiLCJvcmlnaW5hbENvbnRlbnQiLCJyZXN0b3JlZCIsInJlc3RvcmVEb2N1bWVudFZlcnNpb24iLCJzdG9yZVBERiIsInJldHJpZXZlZCIsInJldHJpZXZlUERGIiwicmVzdWx0IiwidmFsaWRhdGVEb2N1bWVudERhdGEiLCJ2YWxpZCIsImVycm9ycyIsIndhcm5pbmdzIiwic3RhdHMiLCJnZXRHZW5lcmF0aW9uU3RhdHMiLCJ0b3RhbEdlbmVyYXRlZCIsImJ5U3RhdHVzIiwiYnlUZW1wbGF0ZSIsInN0eWxpbmciLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJoZWFkZXJUZXh0IiwiZm9vdGVyVGV4dCIsImdlbmVyYXRlU3R5bGVkRG9jdW1lbnQiXSwic291cmNlcyI6WyJkb2N1bWVudC1nZW5lcmF0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2RvY3VtZW50LWdlbmVyYXRpb24uc2VydmljZS5qcyc7XHJcbmltcG9ydCB7IGxlZ2FsU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2xlZ2FsLnNlcnZpY2UuanMnO1xyXG5cclxuZGVzY3JpYmUoJ0RvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UnLCAoKSA9PiB7XHJcbiAgY29uc3QgbW9ja0J1c2luZXNzSWQgPSAndGVzdC1idXNpbmVzcy0xMjMnO1xyXG4gIGNvbnN0IG1vY2tVc2VySWQgPSAndGVzdC11c2VyLTEyMyc7XHJcbiAgbGV0IHRlbXBsYXRlSWQ6IHN0cmluZztcclxuXHJcbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcclxuICAgIC8vIEdldCBhIHRlbXBsYXRlIHRvIHVzZSBmb3IgdGVzdGluZ1xyXG4gICAgY29uc3QgdGVtcGxhdGVzID0gYXdhaXQgbGVnYWxTZXJ2aWNlLmdldFRlbXBsYXRlcygpO1xyXG4gICAgdGVtcGxhdGVJZCA9IHRlbXBsYXRlc1swXS5pZDtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dlbmVyYXRlRG9jdW1lbnQnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGEgZG9jdW1lbnQgZnJvbSB0ZW1wbGF0ZSB3aXRoIGRhdGEgcG9wdWxhdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZG9jdW1lbnREYXRhID0ge1xyXG4gICAgICAgIHRlbXBsYXRlSWQsXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgYnVzaW5lc3NOYW1lOiAnVGVzdCBCdXNpbmVzcycsXHJcbiAgICAgICAgICBidXNpbmVzc1R5cGU6ICdlLWNvbW1lcmNlJyxcclxuICAgICAgICAgIG93bmVyTmFtZTogJ0pvaG4gRG9lJyxcclxuICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAxJyxcclxuICAgICAgICAgIGFkZGl0aW9uYWxUZXJtczogJ1N0YW5kYXJkIHRlcm1zIGFwcGx5JyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgZG9jdW1lbnQgPSBhd2FpdCBkb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlLmdlbmVyYXRlRG9jdW1lbnQoXHJcbiAgICAgICAgbW9ja0J1c2luZXNzSWQsXHJcbiAgICAgICAgZG9jdW1lbnREYXRhLFxyXG4gICAgICAgIG1vY2tVc2VySWRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChkb2N1bWVudCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGRvY3VtZW50LmlkKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoZG9jdW1lbnQuYnVzaW5lc3NJZCkudG9CZShtb2NrQnVzaW5lc3NJZCk7XHJcbiAgICAgIGV4cGVjdChkb2N1bWVudC50ZW1wbGF0ZUlkKS50b0JlKHRlbXBsYXRlSWQpO1xyXG4gICAgICBleHBlY3QoZG9jdW1lbnQuc3RhdHVzKS50b0JlKCdkcmFmdCcpO1xyXG4gICAgICBleHBlY3QoZG9jdW1lbnQuY29udGVudCkudG9Db250YWluKCdUZXN0IEJ1c2luZXNzJyk7XHJcbiAgICAgIGV4cGVjdChkb2N1bWVudC5jb250ZW50KS50b0NvbnRhaW4oJ0pvaG4gRG9lJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRocm93IGVycm9yIHdoZW4gcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkb2N1bWVudERhdGEgPSB7XHJcbiAgICAgICAgdGVtcGxhdGVJZCxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBidXNpbmVzc05hbWU6ICdUZXN0IEJ1c2luZXNzJyxcclxuICAgICAgICAgIC8vIE1pc3Npbmcgb3RoZXIgcmVxdWlyZWQgZmllbGRzXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGF3YWl0IGV4cGVjdChcclxuICAgICAgICBkb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlLmdlbmVyYXRlRG9jdW1lbnQobW9ja0J1c2luZXNzSWQsIGRvY3VtZW50RGF0YSwgbW9ja1VzZXJJZClcclxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdGhyb3cgZXJyb3Igd2hlbiB0ZW1wbGF0ZSBkb2VzIG5vdCBleGlzdCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZG9jdW1lbnREYXRhID0ge1xyXG4gICAgICAgIHRlbXBsYXRlSWQ6ICdub24tZXhpc3RlbnQtdGVtcGxhdGUnLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGJ1c2luZXNzTmFtZTogJ1Rlc3QgQnVzaW5lc3MnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhd2FpdCBleHBlY3QoXHJcbiAgICAgICAgZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZS5nZW5lcmF0ZURvY3VtZW50KG1vY2tCdXNpbmVzc0lkLCBkb2N1bWVudERhdGEsIG1vY2tVc2VySWQpXHJcbiAgICAgICkucmVqZWN0cy50b1Rocm93KCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dlbmVyYXRlUERGJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBQREYgZnJvbSBkb2N1bWVudCBjb250ZW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkb2N1bWVudERhdGEgPSB7XHJcbiAgICAgICAgdGVtcGxhdGVJZCxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBidXNpbmVzc05hbWU6ICdQREYgVGVzdCBCdXNpbmVzcycsXHJcbiAgICAgICAgICBidXNpbmVzc1R5cGU6ICd0dXRvcmluZycsXHJcbiAgICAgICAgICBvd25lck5hbWU6ICdKYW5lIERvZScsXHJcbiAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMScsXHJcbiAgICAgICAgICBhZGRpdGlvbmFsVGVybXM6ICdQREYgdGVzdCB0ZXJtcycsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IGRvY3VtZW50ID0gYXdhaXQgZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZS5nZW5lcmF0ZURvY3VtZW50KFxyXG4gICAgICAgIG1vY2tCdXNpbmVzc0lkLFxyXG4gICAgICAgIGRvY3VtZW50RGF0YSxcclxuICAgICAgICBtb2NrVXNlcklkXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCBwZGZCdWZmZXIgPSBhd2FpdCBkb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlLmdlbmVyYXRlUERGKGRvY3VtZW50LmlkLCBtb2NrVXNlcklkKTtcclxuXHJcbiAgICAgIGV4cGVjdChwZGZCdWZmZXIpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChCdWZmZXIuaXNCdWZmZXIocGRmQnVmZmVyKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHBkZkJ1ZmZlci5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdGhyb3cgZXJyb3Igd2hlbiBkb2N1bWVudCBkb2VzIG5vdCBleGlzdCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgZXhwZWN0KFxyXG4gICAgICAgIGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UuZ2VuZXJhdGVQREYoJ25vbi1leGlzdGVudC1kb2MnLCBtb2NrVXNlcklkKVxyXG4gICAgICApLnJlamVjdHMudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdnZW5lcmF0ZUJhdGNoRG9jdW1lbnRzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBtdWx0aXBsZSBkb2N1bWVudHMgaW4gYmF0Y2gnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IGF3YWl0IGxlZ2FsU2VydmljZS5nZXRUZW1wbGF0ZXMoKTtcclxuICAgICAgY29uc3QgYmF0Y2hEYXRhID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRlbXBsYXRlSWQ6IHRlbXBsYXRlc1swXS5pZCxcclxuICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgYnVzaW5lc3NOYW1lOiAnQmF0Y2ggQnVzaW5lc3MgMScsXHJcbiAgICAgICAgICAgIGJ1c2luZXNzVHlwZTogJ3JpZGUtc2hhcmluZycsXHJcbiAgICAgICAgICAgIG93bmVyTmFtZTogJ093bmVyIDEnLFxyXG4gICAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMScsXHJcbiAgICAgICAgICAgIGFkZGl0aW9uYWxUZXJtczogJ1Rlcm1zIDEnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRlbXBsYXRlSWQ6IHRlbXBsYXRlc1sxXS5pZCxcclxuICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgYnVzaW5lc3NOYW1lOiAnQmF0Y2ggQnVzaW5lc3MgMicsXHJcbiAgICAgICAgICAgIGJ1c2luZXNzQWN0aXZpdHk6ICdPcGVyYXRpb25zJyxcclxuICAgICAgICAgICAgbG9jYXRpb246ICdOZXcgWW9yaycsXHJcbiAgICAgICAgICAgIGZpc2NhbFllYXI6ICcyMDI0JyxcclxuICAgICAgICAgICAgbWFuYWdlbWVudFN0cnVjdHVyZTogJ1NvbG8nLFxyXG4gICAgICAgICAgICBkZWNpc2lvbk1ha2luZzogJ093bmVyIGRlY2lkZXMnLFxyXG4gICAgICAgICAgICBhbWVuZG1lbnRQcm9jZWR1cmVzOiAnV3JpdHRlbiBub3RpY2UnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3QgZG9jdW1lbnRzID0gYXdhaXQgZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZS5nZW5lcmF0ZUJhdGNoRG9jdW1lbnRzKFxyXG4gICAgICAgIG1vY2tCdXNpbmVzc0lkLFxyXG4gICAgICAgIGJhdGNoRGF0YSxcclxuICAgICAgICBtb2NrVXNlcklkXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QoZG9jdW1lbnRzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoZG9jdW1lbnRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3QoZG9jdW1lbnRzWzBdLmNvbnRlbnQpLnRvQ29udGFpbignQmF0Y2ggQnVzaW5lc3MgMScpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCd1cGRhdGVHZW5lcmF0ZWREb2N1bWVudCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgdXBkYXRlIGRvY3VtZW50IGNvbnRlbnQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRvY3VtZW50RGF0YSA9IHtcclxuICAgICAgICB0ZW1wbGF0ZUlkLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGJ1c2luZXNzTmFtZTogJ1VwZGF0ZSBUZXN0IEJ1c2luZXNzJyxcclxuICAgICAgICAgIGJ1c2luZXNzVHlwZTogJ2dpZy1wbGF0Zm9ybScsXHJcbiAgICAgICAgICBvd25lck5hbWU6ICdVcGRhdGUgT3duZXInLFxyXG4gICAgICAgICAgZGF0ZTogJzIwMjQtMDEtMDEnLFxyXG4gICAgICAgICAgYWRkaXRpb25hbFRlcm1zOiAnVXBkYXRlIHRlcm1zJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgZG9jdW1lbnQgPSBhd2FpdCBkb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlLmdlbmVyYXRlRG9jdW1lbnQoXHJcbiAgICAgICAgbW9ja0J1c2luZXNzSWQsXHJcbiAgICAgICAgZG9jdW1lbnREYXRhLFxyXG4gICAgICAgIG1vY2tVc2VySWRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRDb250ZW50ID0gZG9jdW1lbnQuY29udGVudCArICdcXG5cXG5VcGRhdGVkIGNvbnRlbnQgYWRkZWQuJztcclxuICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UudXBkYXRlR2VuZXJhdGVkRG9jdW1lbnQoXHJcbiAgICAgICAgZG9jdW1lbnQuaWQsXHJcbiAgICAgICAgbW9ja1VzZXJJZCxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBjb250ZW50OiB1cGRhdGVkQ29udGVudCxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QodXBkYXRlZC5jb250ZW50KS50b0NvbnRhaW4oJ1VwZGF0ZWQgY29udGVudCBhZGRlZCcpO1xyXG4gICAgICBleHBlY3QodXBkYXRlZC51cGRhdGVkQXQuZ2V0VGltZSgpKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKGRvY3VtZW50LnVwZGF0ZWRBdC5nZXRUaW1lKCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgZG9jdW1lbnQgc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkb2N1bWVudERhdGEgPSB7XHJcbiAgICAgICAgdGVtcGxhdGVJZCxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBidXNpbmVzc05hbWU6ICdTdGF0dXMgVGVzdCBCdXNpbmVzcycsXHJcbiAgICAgICAgICBidXNpbmVzc1R5cGU6ICdlLWNvbW1lcmNlJyxcclxuICAgICAgICAgIG93bmVyTmFtZTogJ1N0YXR1cyBPd25lcicsXHJcbiAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMScsXHJcbiAgICAgICAgICBhZGRpdGlvbmFsVGVybXM6ICdTdGF0dXMgdGVybXMnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UuZ2VuZXJhdGVEb2N1bWVudChcclxuICAgICAgICBtb2NrQnVzaW5lc3NJZCxcclxuICAgICAgICBkb2N1bWVudERhdGEsXHJcbiAgICAgICAgbW9ja1VzZXJJZFxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UudXBkYXRlR2VuZXJhdGVkRG9jdW1lbnQoXHJcbiAgICAgICAgZG9jdW1lbnQuaWQsXHJcbiAgICAgICAgbW9ja1VzZXJJZCxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBzdGF0dXM6ICdzaWduZWQnLFxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdCh1cGRhdGVkLnN0YXR1cykudG9CZSgnc2lnbmVkJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2V4cG9ydEFzVGV4dCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZXhwb3J0IGRvY3VtZW50IGFzIHRleHQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRvY3VtZW50RGF0YSA9IHtcclxuICAgICAgICB0ZW1wbGF0ZUlkLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGJ1c2luZXNzTmFtZTogJ0V4cG9ydCBUZXN0IEJ1c2luZXNzJyxcclxuICAgICAgICAgIGJ1c2luZXNzVHlwZTogJ3R1dG9yaW5nJyxcclxuICAgICAgICAgIG93bmVyTmFtZTogJ0V4cG9ydCBPd25lcicsXHJcbiAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMScsXHJcbiAgICAgICAgICBhZGRpdGlvbmFsVGVybXM6ICdFeHBvcnQgdGVybXMnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UuZ2VuZXJhdGVEb2N1bWVudChcclxuICAgICAgICBtb2NrQnVzaW5lc3NJZCxcclxuICAgICAgICBkb2N1bWVudERhdGEsXHJcbiAgICAgICAgbW9ja1VzZXJJZFxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UuZXhwb3J0QXNUZXh0KGRvY3VtZW50LmlkLCBtb2NrVXNlcklkKTtcclxuXHJcbiAgICAgIGV4cGVjdCh0eXBlb2YgdGV4dCkudG9CZSgnc3RyaW5nJyk7XHJcbiAgICAgIGV4cGVjdCh0ZXh0KS50b0NvbnRhaW4oJ0V4cG9ydCBUZXN0IEJ1c2luZXNzJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2V4cG9ydEFzSlNPTicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZXhwb3J0IGRvY3VtZW50IGFzIEpTT04nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRvY3VtZW50RGF0YSA9IHtcclxuICAgICAgICB0ZW1wbGF0ZUlkLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGJ1c2luZXNzTmFtZTogJ0pTT04gRXhwb3J0IEJ1c2luZXNzJyxcclxuICAgICAgICAgIGJ1c2luZXNzVHlwZTogJ3JpZGUtc2hhcmluZycsXHJcbiAgICAgICAgICBvd25lck5hbWU6ICdKU09OIE93bmVyJyxcclxuICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAxJyxcclxuICAgICAgICAgIGFkZGl0aW9uYWxUZXJtczogJ0pTT04gdGVybXMnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UuZ2VuZXJhdGVEb2N1bWVudChcclxuICAgICAgICBtb2NrQnVzaW5lc3NJZCxcclxuICAgICAgICBkb2N1bWVudERhdGEsXHJcbiAgICAgICAgbW9ja1VzZXJJZFxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QganNvbiA9IGF3YWl0IGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UuZXhwb3J0QXNKU09OKGRvY3VtZW50LmlkLCBtb2NrVXNlcklkKTtcclxuXHJcbiAgICAgIGV4cGVjdChqc29uKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoanNvbi5pZCkudG9CZShkb2N1bWVudC5pZCk7XHJcbiAgICAgIGV4cGVjdChqc29uLmJ1c2luZXNzSWQpLnRvQmUobW9ja0J1c2luZXNzSWQpO1xyXG4gICAgICBleHBlY3QoanNvbi5zdGF0dXMpLnRvQmUoJ2RyYWZ0Jyk7XHJcbiAgICAgIGV4cGVjdChqc29uLmNvbnRlbnQpLnRvQ29udGFpbignSlNPTiBFeHBvcnQgQnVzaW5lc3MnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0R2VuZXJhdGlvbkhpc3RvcnknLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHJpZXZlIGdlbmVyYXRpb24gaGlzdG9yeSBmb3IgYSBidXNpbmVzcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZG9jdW1lbnREYXRhID0ge1xyXG4gICAgICAgIHRlbXBsYXRlSWQsXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgYnVzaW5lc3NOYW1lOiAnSGlzdG9yeSBUZXN0IEJ1c2luZXNzJyxcclxuICAgICAgICAgIGJ1c2luZXNzVHlwZTogJ2UtY29tbWVyY2UnLFxyXG4gICAgICAgICAgb3duZXJOYW1lOiAnSGlzdG9yeSBPd25lcicsXHJcbiAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMScsXHJcbiAgICAgICAgICBhZGRpdGlvbmFsVGVybXM6ICdIaXN0b3J5IHRlcm1zJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgYXdhaXQgZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZS5nZW5lcmF0ZURvY3VtZW50KG1vY2tCdXNpbmVzc0lkLCBkb2N1bWVudERhdGEsIG1vY2tVc2VySWQpO1xyXG5cclxuICAgICAgY29uc3QgaGlzdG9yeSA9IGF3YWl0IGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UuZ2V0R2VuZXJhdGlvbkhpc3RvcnkobW9ja0J1c2luZXNzSWQpO1xyXG5cclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkoaGlzdG9yeSkpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChoaXN0b3J5Lmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3QoaGlzdG9yeVswXSkudG9IYXZlUHJvcGVydHkoJ2RvY3VtZW50SWQnKTtcclxuICAgICAgZXhwZWN0KGhpc3RvcnlbMF0pLnRvSGF2ZVByb3BlcnR5KCd0ZW1wbGF0ZUlkJyk7XHJcbiAgICAgIGV4cGVjdChoaXN0b3J5WzBdKS50b0hhdmVQcm9wZXJ0eSgnZ2VuZXJhdGVkQXQnKTtcclxuICAgICAgZXhwZWN0KGhpc3RvcnlbMF0pLnRvSGF2ZVByb3BlcnR5KCdzdGF0dXMnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0RG9jdW1lbnRWZXJzaW9ucycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0cmlldmUgdmVyc2lvbiBoaXN0b3J5IGZvciBhIGRvY3VtZW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkb2N1bWVudERhdGEgPSB7XHJcbiAgICAgICAgdGVtcGxhdGVJZCxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBidXNpbmVzc05hbWU6ICdWZXJzaW9uIFRlc3QgQnVzaW5lc3MnLFxyXG4gICAgICAgICAgYnVzaW5lc3NUeXBlOiAnZ2lnLXBsYXRmb3JtJyxcclxuICAgICAgICAgIG93bmVyTmFtZTogJ1ZlcnNpb24gT3duZXInLFxyXG4gICAgICAgICAgZGF0ZTogJzIwMjQtMDEtMDEnLFxyXG4gICAgICAgICAgYWRkaXRpb25hbFRlcm1zOiAnVmVyc2lvbiB0ZXJtcycsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IGRvY3VtZW50ID0gYXdhaXQgZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZS5nZW5lcmF0ZURvY3VtZW50KFxyXG4gICAgICAgIG1vY2tCdXNpbmVzc0lkLFxyXG4gICAgICAgIGRvY3VtZW50RGF0YSxcclxuICAgICAgICBtb2NrVXNlcklkXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBVcGRhdGUgZG9jdW1lbnQgdG8gY3JlYXRlIGEgbmV3IHZlcnNpb25cclxuICAgICAgYXdhaXQgZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZS51cGRhdGVHZW5lcmF0ZWREb2N1bWVudChkb2N1bWVudC5pZCwgbW9ja1VzZXJJZCwge1xyXG4gICAgICAgIGNvbnRlbnQ6IGRvY3VtZW50LmNvbnRlbnQgKyAnXFxuXFxuVmVyc2lvbiAyIGNvbnRlbnQnLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHZlcnNpb25zID0gYXdhaXQgZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZS5nZXREb2N1bWVudFZlcnNpb25zKFxyXG4gICAgICAgIGRvY3VtZW50LmlkLFxyXG4gICAgICAgIG1vY2tVc2VySWRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHZlcnNpb25zKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHZlcnNpb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgxKTtcclxuICAgICAgZXhwZWN0KHZlcnNpb25zWzBdKS50b0hhdmVQcm9wZXJ0eSgndmVyc2lvbicpO1xyXG4gICAgICBleHBlY3QodmVyc2lvbnNbMF0pLnRvSGF2ZVByb3BlcnR5KCdjb250ZW50Jyk7XHJcbiAgICAgIGV4cGVjdCh2ZXJzaW9uc1swXSkudG9IYXZlUHJvcGVydHkoJ3N0YXR1cycpO1xyXG4gICAgICBleHBlY3QodmVyc2lvbnNbMF0pLnRvSGF2ZVByb3BlcnR5KCd1cGRhdGVkQXQnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgncmVzdG9yZURvY3VtZW50VmVyc2lvbicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmVzdG9yZSBkb2N1bWVudCB0byBwcmV2aW91cyB2ZXJzaW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkb2N1bWVudERhdGEgPSB7XHJcbiAgICAgICAgdGVtcGxhdGVJZCxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBidXNpbmVzc05hbWU6ICdSZXN0b3JlIFRlc3QgQnVzaW5lc3MnLFxyXG4gICAgICAgICAgYnVzaW5lc3NUeXBlOiAndHV0b3JpbmcnLFxyXG4gICAgICAgICAgb3duZXJOYW1lOiAnUmVzdG9yZSBPd25lcicsXHJcbiAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMScsXHJcbiAgICAgICAgICBhZGRpdGlvbmFsVGVybXM6ICdSZXN0b3JlIHRlcm1zJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgZG9jdW1lbnQgPSBhd2FpdCBkb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlLmdlbmVyYXRlRG9jdW1lbnQoXHJcbiAgICAgICAgbW9ja0J1c2luZXNzSWQsXHJcbiAgICAgICAgZG9jdW1lbnREYXRhLFxyXG4gICAgICAgIG1vY2tVc2VySWRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IG9yaWdpbmFsQ29udGVudCA9IGRvY3VtZW50LmNvbnRlbnQ7XHJcblxyXG4gICAgICAvLyBVcGRhdGUgZG9jdW1lbnRcclxuICAgICAgYXdhaXQgZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZS51cGRhdGVHZW5lcmF0ZWREb2N1bWVudChkb2N1bWVudC5pZCwgbW9ja1VzZXJJZCwge1xyXG4gICAgICAgIGNvbnRlbnQ6IG9yaWdpbmFsQ29udGVudCArICdcXG5cXG5Nb2RpZmllZCBjb250ZW50JyxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBSZXN0b3JlIHRvIHZlcnNpb24gMVxyXG4gICAgICBjb25zdCByZXN0b3JlZCA9IGF3YWl0IGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UucmVzdG9yZURvY3VtZW50VmVyc2lvbihcclxuICAgICAgICBkb2N1bWVudC5pZCxcclxuICAgICAgICBtb2NrVXNlcklkLFxyXG4gICAgICAgIDFcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN0b3JlZC5jb250ZW50KS50b0JlKG9yaWdpbmFsQ29udGVudCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRocm93IGVycm9yIGZvciBpbnZhbGlkIHZlcnNpb24gbnVtYmVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkb2N1bWVudERhdGEgPSB7XHJcbiAgICAgICAgdGVtcGxhdGVJZCxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBidXNpbmVzc05hbWU6ICdJbnZhbGlkIFZlcnNpb24gQnVzaW5lc3MnLFxyXG4gICAgICAgICAgYnVzaW5lc3NUeXBlOiAnZS1jb21tZXJjZScsXHJcbiAgICAgICAgICBvd25lck5hbWU6ICdJbnZhbGlkIE93bmVyJyxcclxuICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAxJyxcclxuICAgICAgICAgIGFkZGl0aW9uYWxUZXJtczogJ0ludmFsaWQgdGVybXMnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UuZ2VuZXJhdGVEb2N1bWVudChcclxuICAgICAgICBtb2NrQnVzaW5lc3NJZCxcclxuICAgICAgICBkb2N1bWVudERhdGEsXHJcbiAgICAgICAgbW9ja1VzZXJJZFxyXG4gICAgICApO1xyXG5cclxuICAgICAgYXdhaXQgZXhwZWN0KFxyXG4gICAgICAgIGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UucmVzdG9yZURvY3VtZW50VmVyc2lvbihkb2N1bWVudC5pZCwgbW9ja1VzZXJJZCwgOTk5KVxyXG4gICAgICApLnJlamVjdHMudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdzdG9yZVBERiBhbmQgcmV0cmlldmVQREYnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHN0b3JlIGFuZCByZXRyaWV2ZSBQREYnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRvY3VtZW50RGF0YSA9IHtcclxuICAgICAgICB0ZW1wbGF0ZUlkLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGJ1c2luZXNzTmFtZTogJ1BERiBTdG9yYWdlIEJ1c2luZXNzJyxcclxuICAgICAgICAgIGJ1c2luZXNzVHlwZTogJ3JpZGUtc2hhcmluZycsXHJcbiAgICAgICAgICBvd25lck5hbWU6ICdQREYgT3duZXInLFxyXG4gICAgICAgICAgZGF0ZTogJzIwMjQtMDEtMDEnLFxyXG4gICAgICAgICAgYWRkaXRpb25hbFRlcm1zOiAnUERGIHN0b3JhZ2UgdGVybXMnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UuZ2VuZXJhdGVEb2N1bWVudChcclxuICAgICAgICBtb2NrQnVzaW5lc3NJZCxcclxuICAgICAgICBkb2N1bWVudERhdGEsXHJcbiAgICAgICAgbW9ja1VzZXJJZFxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgcGRmQnVmZmVyID0gYXdhaXQgZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZS5nZW5lcmF0ZVBERihkb2N1bWVudC5pZCwgbW9ja1VzZXJJZCk7XHJcbiAgICAgIGF3YWl0IGRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2Uuc3RvcmVQREYoZG9jdW1lbnQuaWQsIHBkZkJ1ZmZlcik7XHJcblxyXG4gICAgICBjb25zdCByZXRyaWV2ZWQgPSBhd2FpdCBkb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlLnJldHJpZXZlUERGKGRvY3VtZW50LmlkLCBtb2NrVXNlcklkKTtcclxuXHJcbiAgICAgIGV4cGVjdChCdWZmZXIuaXNCdWZmZXIocmV0cmlldmVkKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJldHJpZXZlZC5sZW5ndGgpLnRvQmUocGRmQnVmZmVyLmxlbmd0aCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRocm93IGVycm9yIHdoZW4gcmV0cmlldmluZyBub24tZXhpc3RlbnQgUERGJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkb2N1bWVudERhdGEgPSB7XHJcbiAgICAgICAgdGVtcGxhdGVJZCxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBidXNpbmVzc05hbWU6ICdObyBQREYgQnVzaW5lc3MnLFxyXG4gICAgICAgICAgYnVzaW5lc3NUeXBlOiAndHV0b3JpbmcnLFxyXG4gICAgICAgICAgb3duZXJOYW1lOiAnTm8gUERGIE93bmVyJyxcclxuICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAxJyxcclxuICAgICAgICAgIGFkZGl0aW9uYWxUZXJtczogJ05vIFBERiB0ZXJtcycsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IGRvY3VtZW50ID0gYXdhaXQgZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZS5nZW5lcmF0ZURvY3VtZW50KFxyXG4gICAgICAgIG1vY2tCdXNpbmVzc0lkLFxyXG4gICAgICAgIGRvY3VtZW50RGF0YSxcclxuICAgICAgICBtb2NrVXNlcklkXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBEb24ndCBzdG9yZSBQREYsIGp1c3QgdHJ5IHRvIHJldHJpZXZlXHJcbiAgICAgIGF3YWl0IGV4cGVjdChcclxuICAgICAgICBkb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlLnJldHJpZXZlUERGKGRvY3VtZW50LmlkLCBtb2NrVXNlcklkKVxyXG4gICAgICApLnJlamVjdHMudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCd2YWxpZGF0ZURvY3VtZW50RGF0YScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgZG9jdW1lbnQgZGF0YSBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgICAgYnVzaW5lc3NOYW1lOiAnVmFsaWQgQnVzaW5lc3MnLFxyXG4gICAgICAgIGJ1c2luZXNzVHlwZTogJ2UtY29tbWVyY2UnLFxyXG4gICAgICAgIG93bmVyTmFtZTogJ1ZhbGlkIE93bmVyJyxcclxuICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMScsXHJcbiAgICAgICAgYWRkaXRpb25hbFRlcm1zOiAnVmFsaWQgdGVybXMnLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZS52YWxpZGF0ZURvY3VtZW50RGF0YSh0ZW1wbGF0ZUlkLCBkYXRhKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzLmxlbmd0aCkudG9CZSgwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IG1pc3NpbmcgcmVxdWlyZWQgZmllbGRzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIGJ1c2luZXNzTmFtZTogJ0luY29tcGxldGUgQnVzaW5lc3MnLFxyXG4gICAgICAgIC8vIE1pc3Npbmcgb3RoZXIgcmVxdWlyZWQgZmllbGRzXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlLnZhbGlkYXRlRG9jdW1lbnREYXRhKHRlbXBsYXRlSWQsIGRhdGEpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgZW1wdHkgZmllbGQgdmFsdWVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIGJ1c2luZXNzTmFtZTogJycsXHJcbiAgICAgICAgYnVzaW5lc3NUeXBlOiAnZS1jb21tZXJjZScsXHJcbiAgICAgICAgb3duZXJOYW1lOiAnT3duZXInLFxyXG4gICAgICAgIGRhdGU6ICcyMDI0LTAxLTAxJyxcclxuICAgICAgICBhZGRpdGlvbmFsVGVybXM6ICdUZXJtcycsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlLnZhbGlkYXRlRG9jdW1lbnREYXRhKHRlbXBsYXRlSWQsIGRhdGEpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC53YXJuaW5ncy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0R2VuZXJhdGlvblN0YXRzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBnZW5lcmF0aW9uIHN0YXRpc3RpY3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRvY3VtZW50RGF0YSA9IHtcclxuICAgICAgICB0ZW1wbGF0ZUlkLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGJ1c2luZXNzTmFtZTogJ1N0YXRzIFRlc3QgQnVzaW5lc3MnLFxyXG4gICAgICAgICAgYnVzaW5lc3NUeXBlOiAnZ2lnLXBsYXRmb3JtJyxcclxuICAgICAgICAgIG93bmVyTmFtZTogJ1N0YXRzIE93bmVyJyxcclxuICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAxJyxcclxuICAgICAgICAgIGFkZGl0aW9uYWxUZXJtczogJ1N0YXRzIHRlcm1zJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgYXdhaXQgZG9jdW1lbnRHZW5lcmF0aW9uU2VydmljZS5nZW5lcmF0ZURvY3VtZW50KG1vY2tCdXNpbmVzc0lkLCBkb2N1bWVudERhdGEsIG1vY2tVc2VySWQpO1xyXG5cclxuICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBkb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlLmdldEdlbmVyYXRpb25TdGF0cyhtb2NrQnVzaW5lc3NJZCk7XHJcblxyXG4gICAgICBleHBlY3Qoc3RhdHMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChzdGF0cy50b3RhbEdlbmVyYXRlZCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3Qoc3RhdHMuYnlTdGF0dXMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChzdGF0cy5ieVRlbXBsYXRlKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3Qoc3RhdHMuYnlTdGF0dXNbJ2RyYWZ0J10pLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2VuZXJhdGVTdHlsZWREb2N1bWVudCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZG9jdW1lbnQgd2l0aCBjdXN0b20gc3R5bGluZycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZG9jdW1lbnREYXRhID0ge1xyXG4gICAgICAgIHRlbXBsYXRlSWQsXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgYnVzaW5lc3NOYW1lOiAnU3R5bGVkIEJ1c2luZXNzJyxcclxuICAgICAgICAgIGJ1c2luZXNzVHlwZTogJ2UtY29tbWVyY2UnLFxyXG4gICAgICAgICAgb3duZXJOYW1lOiAnU3R5bGVkIE93bmVyJyxcclxuICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAxJyxcclxuICAgICAgICAgIGFkZGl0aW9uYWxUZXJtczogJ1N0eWxlZCB0ZXJtcycsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHN0eWxpbmcgPSB7XHJcbiAgICAgICAgZm9udFNpemU6IDEyLFxyXG4gICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgaGVhZGVyVGV4dDogJ09GRklDSUFMIERPQ1VNRU5UJyxcclxuICAgICAgICBmb290ZXJUZXh0OiAnUGFnZSAxIG9mIDEnLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgZG9jdW1lbnQgPSBhd2FpdCBkb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlLmdlbmVyYXRlU3R5bGVkRG9jdW1lbnQoXHJcbiAgICAgICAgbW9ja0J1c2luZXNzSWQsXHJcbiAgICAgICAgZG9jdW1lbnREYXRhLFxyXG4gICAgICAgIHN0eWxpbmdcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChkb2N1bWVudCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGRvY3VtZW50LmNvbnRlbnQpLnRvQ29udGFpbignT0ZGSUNJQUwgRE9DVU1FTlQnKTtcclxuICAgICAgZXhwZWN0KGRvY3VtZW50LmNvbnRlbnQpLnRvQ29udGFpbignUGFnZSAxIG9mIDEnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiOztB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