666a9a31bb4b03f3f29989efe549b293
"use strict";

var _types = require("../types");
describe('AI Routing - Rate Limiting', () => {
  describe('Request Rate Limiting', () => {
    it('should track requests per time window', () => {
      const requests = [{
        timestamp: Date.now() - 5000
      }, {
        timestamp: Date.now() - 3000
      }, {
        timestamp: Date.now() - 1000
      }];
      const windowSize = 60000;
      const now = Date.now();
      const recentRequests = requests.filter(r => now - r.timestamp < windowSize);
      expect(recentRequests.length).toBe(3);
    });
    it('should enforce rate limit per tier', () => {
      const limits = {
        [_types.RoutingTier.LOCAL_LLM]: 100,
        [_types.RoutingTier.RAP_SYSTEM]: 50,
        [_types.RoutingTier.EXTERNAL_LLM]: 20
      };
      const currentCount = 15;
      const tier = _types.RoutingTier.EXTERNAL_LLM;
      const isWithinLimit = currentCount < limits[tier];
      expect(isWithinLimit).toBe(true);
      const exceededCount = 25;
      const isExceeded = exceededCount >= limits[tier];
      expect(isExceeded).toBe(true);
    });
    it('should enforce rate limit per user', () => {
      const userRequests = new Map();
      const userId = 'user-123';
      const userLimit = 10;
      userRequests.set(userId, 5);
      const currentCount = userRequests.get(userId) || 0;
      const canMakeRequest = currentCount < userLimit;
      expect(canMakeRequest).toBe(true);
    });
    it('should reset rate limit after time window', () => {
      const requests = [{
        timestamp: Date.now() - 70000
      }, {
        timestamp: Date.now() - 65000
      }];
      const windowSize = 60000;
      const now = Date.now();
      const recentRequests = requests.filter(r => now - r.timestamp < windowSize);
      expect(recentRequests.length).toBe(0);
    });
    it('should implement sliding window rate limiting', () => {
      const requests = [{
        timestamp: Date.now() - 55000
      }, {
        timestamp: Date.now() - 45000
      }, {
        timestamp: Date.now() - 35000
      }, {
        timestamp: Date.now() - 25000
      }, {
        timestamp: Date.now() - 15000
      }];
      const windowSize = 60000;
      const limit = 5;
      const now = Date.now();
      const recentRequests = requests.filter(r => now - r.timestamp < windowSize);
      const isWithinLimit = recentRequests.length < limit;
      expect(isWithinLimit).toBe(false);
    });
    it('should apply different limits for different user tiers', () => {
      const userTierLimits = {
        free: 10,
        basic: 50,
        premium: 200,
        enterprise: 1000
      };
      const freeUserCount = 8;
      const premiumUserCount = 150;
      expect(freeUserCount < userTierLimits.free).toBe(true);
      expect(premiumUserCount < userTierLimits.premium).toBe(true);
    });
    it('should return rate limit headers', () => {
      const limit = 100;
      const remaining = 75;
      const resetTime = Date.now() + 60000;
      const headers = {
        'X-RateLimit-Limit': limit,
        'X-RateLimit-Remaining': remaining,
        'X-RateLimit-Reset': resetTime
      };
      expect(headers['X-RateLimit-Limit']).toBe(100);
      expect(headers['X-RateLimit-Remaining']).toBe(75);
      expect(headers['X-RateLimit-Reset']).toBeGreaterThan(Date.now());
    });
  });
  describe('Cost-Based Rate Limiting', () => {
    it('should track cost per time window', () => {
      const requests = [{
        cost: 0.01,
        timestamp: Date.now() - 5000
      }, {
        cost: 0.02,
        timestamp: Date.now() - 3000
      }, {
        cost: 0.015,
        timestamp: Date.now() - 1000
      }];
      const windowSize = 60000;
      const now = Date.now();
      const recentRequests = requests.filter(r => now - r.timestamp < windowSize);
      const totalCost = recentRequests.reduce((sum, r) => sum + r.cost, 0);
      expect(totalCost).toBeCloseTo(0.045, 3);
    });
    it('should enforce cost limit per user', () => {
      const userCostLimit = 1.0;
      const currentCost = 0.75;
      const canMakeRequest = currentCost < userCostLimit;
      expect(canMakeRequest).toBe(true);
      const exceededCost = 1.25;
      const isExceeded = exceededCost >= userCostLimit;
      expect(isExceeded).toBe(true);
    });
    it('should estimate request cost before execution', () => {
      const estimatedCosts = {
        [_types.RoutingTier.LOCAL_LLM]: 0.0001,
        [_types.RoutingTier.RAP_SYSTEM]: 0.001,
        [_types.RoutingTier.EXTERNAL_LLM]: 0.01
      };
      const tier = _types.RoutingTier.EXTERNAL_LLM;
      const estimatedCost = estimatedCosts[tier];
      expect(estimatedCost).toBe(0.01);
    });
    it('should reject request if estimated cost exceeds budget', () => {
      const remainingBudget = 0.005;
      const estimatedCost = 0.01;
      const canAfford = estimatedCost <= remainingBudget;
      expect(canAfford).toBe(false);
    });
  });
  describe('Burst Handling', () => {
    it('should allow burst requests up to burst limit', () => {
      const baseLimit = 10;
      const burstLimit = 20;
      const currentCount = 15;
      const isWithinBurst = currentCount < burstLimit;
      expect(isWithinBurst).toBe(true);
    });
    it('should track burst capacity consumption', () => {
      const burstCapacity = 10;
      const burstUsed = 7;
      const burstRemaining = burstCapacity - burstUsed;
      expect(burstRemaining).toBe(3);
    });
    it('should replenish burst capacity over time', () => {
      const burstCapacity = 10;
      const burstUsed = 8;
      const replenishRate = 1;
      const timePassed = 3000;
      const replenished = Math.floor(timePassed / 1000) * replenishRate;
      const currentBurst = Math.min(burstCapacity, burstCapacity - burstUsed + replenished);
      expect(currentBurst).toBe(5);
    });
  });
  describe('Queue Management', () => {
    it('should queue requests when rate limit exceeded', () => {
      const queue = [];
      const request = {
        id: 'req-1',
        query: 'test'
      };
      queue.push(request);
      expect(queue.length).toBe(1);
      expect(queue[0].id).toBe('req-1');
    });
    it('should process queued requests when capacity available', () => {
      const queue = [{
        id: 'req-1',
        query: 'test1'
      }, {
        id: 'req-2',
        query: 'test2'
      }];
      const processed = queue.shift();
      expect(processed?.id).toBe('req-1');
      expect(queue.length).toBe(1);
    });
    it('should enforce maximum queue size', () => {
      const maxQueueSize = 100;
      const currentQueueSize = 95;
      const canQueue = currentQueueSize < maxQueueSize;
      expect(canQueue).toBe(true);
      const fullQueueSize = 100;
      const canQueueFull = fullQueueSize < maxQueueSize;
      expect(canQueueFull).toBe(false);
    });
    it('should prioritize queued requests', () => {
      const queue = [{
        id: 'req-1',
        priority: 2
      }, {
        id: 'req-2',
        priority: 1
      }, {
        id: 'req-3',
        priority: 3
      }];
      const sorted = queue.sort((a, b) => a.priority - b.priority);
      expect(sorted[0].id).toBe('req-2');
      expect(sorted[1].id).toBe('req-1');
      expect(sorted[2].id).toBe('req-3');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdHlwZXMiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJpdCIsInJlcXVlc3RzIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsIndpbmRvd1NpemUiLCJyZWNlbnRSZXF1ZXN0cyIsImZpbHRlciIsInIiLCJleHBlY3QiLCJsZW5ndGgiLCJ0b0JlIiwibGltaXRzIiwiUm91dGluZ1RpZXIiLCJMT0NBTF9MTE0iLCJSQVBfU1lTVEVNIiwiRVhURVJOQUxfTExNIiwiY3VycmVudENvdW50IiwidGllciIsImlzV2l0aGluTGltaXQiLCJleGNlZWRlZENvdW50IiwiaXNFeGNlZWRlZCIsInVzZXJSZXF1ZXN0cyIsIk1hcCIsInVzZXJJZCIsInVzZXJMaW1pdCIsInNldCIsImdldCIsImNhbk1ha2VSZXF1ZXN0IiwibGltaXQiLCJ1c2VyVGllckxpbWl0cyIsImZyZWUiLCJiYXNpYyIsInByZW1pdW0iLCJlbnRlcnByaXNlIiwiZnJlZVVzZXJDb3VudCIsInByZW1pdW1Vc2VyQ291bnQiLCJyZW1haW5pbmciLCJyZXNldFRpbWUiLCJoZWFkZXJzIiwidG9CZUdyZWF0ZXJUaGFuIiwiY29zdCIsInRvdGFsQ29zdCIsInJlZHVjZSIsInN1bSIsInRvQmVDbG9zZVRvIiwidXNlckNvc3RMaW1pdCIsImN1cnJlbnRDb3N0IiwiZXhjZWVkZWRDb3N0IiwiZXN0aW1hdGVkQ29zdHMiLCJlc3RpbWF0ZWRDb3N0IiwicmVtYWluaW5nQnVkZ2V0IiwiY2FuQWZmb3JkIiwiYmFzZUxpbWl0IiwiYnVyc3RMaW1pdCIsImlzV2l0aGluQnVyc3QiLCJidXJzdENhcGFjaXR5IiwiYnVyc3RVc2VkIiwiYnVyc3RSZW1haW5pbmciLCJyZXBsZW5pc2hSYXRlIiwidGltZVBhc3NlZCIsInJlcGxlbmlzaGVkIiwiTWF0aCIsImZsb29yIiwiY3VycmVudEJ1cnN0IiwibWluIiwicXVldWUiLCJyZXF1ZXN0IiwiaWQiLCJxdWVyeSIsInB1c2giLCJwcm9jZXNzZWQiLCJzaGlmdCIsIm1heFF1ZXVlU2l6ZSIsImN1cnJlbnRRdWV1ZVNpemUiLCJjYW5RdWV1ZSIsImZ1bGxRdWV1ZVNpemUiLCJjYW5RdWV1ZUZ1bGwiLCJwcmlvcml0eSIsInNvcnRlZCIsInNvcnQiLCJhIiwiYiJdLCJzb3VyY2VzIjpbInJhdGUtbGltaXRpbmcudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0aW5nVGllciB9IGZyb20gJy4uL3R5cGVzJztcclxuXHJcbmRlc2NyaWJlKCdBSSBSb3V0aW5nIC0gUmF0ZSBMaW1pdGluZycsICgpID0+IHtcclxuICBkZXNjcmliZSgnUmVxdWVzdCBSYXRlIExpbWl0aW5nJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayByZXF1ZXN0cyBwZXIgdGltZSB3aW5kb3cnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3RzID0gW1xyXG4gICAgICAgIHsgdGltZXN0YW1wOiBEYXRlLm5vdygpIC0gNTAwMCB9LFxyXG4gICAgICAgIHsgdGltZXN0YW1wOiBEYXRlLm5vdygpIC0gMzAwMCB9LFxyXG4gICAgICAgIHsgdGltZXN0YW1wOiBEYXRlLm5vdygpIC0gMTAwMCB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3Qgd2luZG93U2l6ZSA9IDYwMDAwO1xyXG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgY29uc3QgcmVjZW50UmVxdWVzdHMgPSByZXF1ZXN0cy5maWx0ZXIoXHJcbiAgICAgICAgciA9PiBub3cgLSByLnRpbWVzdGFtcCA8IHdpbmRvd1NpemVcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZWNlbnRSZXF1ZXN0cy5sZW5ndGgpLnRvQmUoMyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGVuZm9yY2UgcmF0ZSBsaW1pdCBwZXIgdGllcicsICgpID0+IHtcclxuICAgICAgY29uc3QgbGltaXRzID0ge1xyXG4gICAgICAgIFtSb3V0aW5nVGllci5MT0NBTF9MTE1dOiAxMDAsXHJcbiAgICAgICAgW1JvdXRpbmdUaWVyLlJBUF9TWVNURU1dOiA1MCxcclxuICAgICAgICBbUm91dGluZ1RpZXIuRVhURVJOQUxfTExNXTogMjAsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBjdXJyZW50Q291bnQgPSAxNTtcclxuICAgICAgY29uc3QgdGllciA9IFJvdXRpbmdUaWVyLkVYVEVSTkFMX0xMTTtcclxuXHJcbiAgICAgIGNvbnN0IGlzV2l0aGluTGltaXQgPSBjdXJyZW50Q291bnQgPCBsaW1pdHNbdGllcl07XHJcbiAgICAgIGV4cGVjdChpc1dpdGhpbkxpbWl0KS50b0JlKHRydWUpO1xyXG5cclxuICAgICAgY29uc3QgZXhjZWVkZWRDb3VudCA9IDI1O1xyXG4gICAgICBjb25zdCBpc0V4Y2VlZGVkID0gZXhjZWVkZWRDb3VudCA+PSBsaW1pdHNbdGllcl07XHJcbiAgICAgIGV4cGVjdChpc0V4Y2VlZGVkKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBlbmZvcmNlIHJhdGUgbGltaXQgcGVyIHVzZXInLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXJSZXF1ZXN0cyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XHJcbiAgICAgIGNvbnN0IHVzZXJJZCA9ICd1c2VyLTEyMyc7XHJcbiAgICAgIGNvbnN0IHVzZXJMaW1pdCA9IDEwO1xyXG5cclxuICAgICAgdXNlclJlcXVlc3RzLnNldCh1c2VySWQsIDUpO1xyXG5cclxuICAgICAgY29uc3QgY3VycmVudENvdW50ID0gdXNlclJlcXVlc3RzLmdldCh1c2VySWQpIHx8IDA7XHJcbiAgICAgIGNvbnN0IGNhbk1ha2VSZXF1ZXN0ID0gY3VycmVudENvdW50IDwgdXNlckxpbWl0O1xyXG5cclxuICAgICAgZXhwZWN0KGNhbk1ha2VSZXF1ZXN0KS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXNldCByYXRlIGxpbWl0IGFmdGVyIHRpbWUgd2luZG93JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0cyA9IFtcclxuICAgICAgICB7IHRpbWVzdGFtcDogRGF0ZS5ub3coKSAtIDcwMDAwIH0sXHJcbiAgICAgICAgeyB0aW1lc3RhbXA6IERhdGUubm93KCkgLSA2NTAwMCB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3Qgd2luZG93U2l6ZSA9IDYwMDAwO1xyXG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgY29uc3QgcmVjZW50UmVxdWVzdHMgPSByZXF1ZXN0cy5maWx0ZXIoXHJcbiAgICAgICAgciA9PiBub3cgLSByLnRpbWVzdGFtcCA8IHdpbmRvd1NpemVcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZWNlbnRSZXF1ZXN0cy5sZW5ndGgpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGltcGxlbWVudCBzbGlkaW5nIHdpbmRvdyByYXRlIGxpbWl0aW5nJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0cyA9IFtcclxuICAgICAgICB7IHRpbWVzdGFtcDogRGF0ZS5ub3coKSAtIDU1MDAwIH0sXHJcbiAgICAgICAgeyB0aW1lc3RhbXA6IERhdGUubm93KCkgLSA0NTAwMCB9LFxyXG4gICAgICAgIHsgdGltZXN0YW1wOiBEYXRlLm5vdygpIC0gMzUwMDAgfSxcclxuICAgICAgICB7IHRpbWVzdGFtcDogRGF0ZS5ub3coKSAtIDI1MDAwIH0sXHJcbiAgICAgICAgeyB0aW1lc3RhbXA6IERhdGUubm93KCkgLSAxNTAwMCB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgY29uc3Qgd2luZG93U2l6ZSA9IDYwMDAwO1xyXG4gICAgICBjb25zdCBsaW1pdCA9IDU7XHJcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICBjb25zdCByZWNlbnRSZXF1ZXN0cyA9IHJlcXVlc3RzLmZpbHRlcihcclxuICAgICAgICByID0+IG5vdyAtIHIudGltZXN0YW1wIDwgd2luZG93U2l6ZVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgaXNXaXRoaW5MaW1pdCA9IHJlY2VudFJlcXVlc3RzLmxlbmd0aCA8IGxpbWl0O1xyXG4gICAgICBleHBlY3QoaXNXaXRoaW5MaW1pdCkudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGFwcGx5IGRpZmZlcmVudCBsaW1pdHMgZm9yIGRpZmZlcmVudCB1c2VyIHRpZXJzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyVGllckxpbWl0cyA9IHtcclxuICAgICAgICBmcmVlOiAxMCxcclxuICAgICAgICBiYXNpYzogNTAsXHJcbiAgICAgICAgcHJlbWl1bTogMjAwLFxyXG4gICAgICAgIGVudGVycHJpc2U6IDEwMDAsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBmcmVlVXNlckNvdW50ID0gODtcclxuICAgICAgY29uc3QgcHJlbWl1bVVzZXJDb3VudCA9IDE1MDtcclxuXHJcbiAgICAgIGV4cGVjdChmcmVlVXNlckNvdW50IDwgdXNlclRpZXJMaW1pdHMuZnJlZSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHByZW1pdW1Vc2VyQ291bnQgPCB1c2VyVGllckxpbWl0cy5wcmVtaXVtKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcmF0ZSBsaW1pdCBoZWFkZXJzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBsaW1pdCA9IDEwMDtcclxuICAgICAgY29uc3QgcmVtYWluaW5nID0gNzU7XHJcbiAgICAgIGNvbnN0IHJlc2V0VGltZSA9IERhdGUubm93KCkgKyA2MDAwMDtcclxuXHJcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgICAgICAgJ1gtUmF0ZUxpbWl0LUxpbWl0JzogbGltaXQsXHJcbiAgICAgICAgJ1gtUmF0ZUxpbWl0LVJlbWFpbmluZyc6IHJlbWFpbmluZyxcclxuICAgICAgICAnWC1SYXRlTGltaXQtUmVzZXQnOiByZXNldFRpbWUsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBleHBlY3QoaGVhZGVyc1snWC1SYXRlTGltaXQtTGltaXQnXSkudG9CZSgxMDApO1xyXG4gICAgICBleHBlY3QoaGVhZGVyc1snWC1SYXRlTGltaXQtUmVtYWluaW5nJ10pLnRvQmUoNzUpO1xyXG4gICAgICBleHBlY3QoaGVhZGVyc1snWC1SYXRlTGltaXQtUmVzZXQnXSkudG9CZUdyZWF0ZXJUaGFuKERhdGUubm93KCkpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdDb3N0LUJhc2VkIFJhdGUgTGltaXRpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHRyYWNrIGNvc3QgcGVyIHRpbWUgd2luZG93JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0cyA9IFtcclxuICAgICAgICB7IGNvc3Q6IDAuMDEsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSAtIDUwMDAgfSxcclxuICAgICAgICB7IGNvc3Q6IDAuMDIsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSAtIDMwMDAgfSxcclxuICAgICAgICB7IGNvc3Q6IDAuMDE1LCB0aW1lc3RhbXA6IERhdGUubm93KCkgLSAxMDAwIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCB3aW5kb3dTaXplID0gNjAwMDA7XHJcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICBjb25zdCByZWNlbnRSZXF1ZXN0cyA9IHJlcXVlc3RzLmZpbHRlcihcclxuICAgICAgICByID0+IG5vdyAtIHIudGltZXN0YW1wIDwgd2luZG93U2l6ZVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgdG90YWxDb3N0ID0gcmVjZW50UmVxdWVzdHMucmVkdWNlKChzdW0sIHIpID0+IHN1bSArIHIuY29zdCwgMCk7XHJcblxyXG4gICAgICBleHBlY3QodG90YWxDb3N0KS50b0JlQ2xvc2VUbygwLjA0NSwgMyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGVuZm9yY2UgY29zdCBsaW1pdCBwZXIgdXNlcicsICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlckNvc3RMaW1pdCA9IDEuMDtcclxuICAgICAgY29uc3QgY3VycmVudENvc3QgPSAwLjc1O1xyXG5cclxuICAgICAgY29uc3QgY2FuTWFrZVJlcXVlc3QgPSBjdXJyZW50Q29zdCA8IHVzZXJDb3N0TGltaXQ7XHJcbiAgICAgIGV4cGVjdChjYW5NYWtlUmVxdWVzdCkudG9CZSh0cnVlKTtcclxuXHJcbiAgICAgIGNvbnN0IGV4Y2VlZGVkQ29zdCA9IDEuMjU7XHJcbiAgICAgIGNvbnN0IGlzRXhjZWVkZWQgPSBleGNlZWRlZENvc3QgPj0gdXNlckNvc3RMaW1pdDtcclxuICAgICAgZXhwZWN0KGlzRXhjZWVkZWQpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGVzdGltYXRlIHJlcXVlc3QgY29zdCBiZWZvcmUgZXhlY3V0aW9uJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBlc3RpbWF0ZWRDb3N0cyA9IHtcclxuICAgICAgICBbUm91dGluZ1RpZXIuTE9DQUxfTExNXTogMC4wMDAxLFxyXG4gICAgICAgIFtSb3V0aW5nVGllci5SQVBfU1lTVEVNXTogMC4wMDEsXHJcbiAgICAgICAgW1JvdXRpbmdUaWVyLkVYVEVSTkFMX0xMTV06IDAuMDEsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCB0aWVyID0gUm91dGluZ1RpZXIuRVhURVJOQUxfTExNO1xyXG4gICAgICBjb25zdCBlc3RpbWF0ZWRDb3N0ID0gZXN0aW1hdGVkQ29zdHNbdGllcl07XHJcblxyXG4gICAgICBleHBlY3QoZXN0aW1hdGVkQ29zdCkudG9CZSgwLjAxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmVqZWN0IHJlcXVlc3QgaWYgZXN0aW1hdGVkIGNvc3QgZXhjZWVkcyBidWRnZXQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlbWFpbmluZ0J1ZGdldCA9IDAuMDA1O1xyXG4gICAgICBjb25zdCBlc3RpbWF0ZWRDb3N0ID0gMC4wMTtcclxuXHJcbiAgICAgIGNvbnN0IGNhbkFmZm9yZCA9IGVzdGltYXRlZENvc3QgPD0gcmVtYWluaW5nQnVkZ2V0O1xyXG4gICAgICBleHBlY3QoY2FuQWZmb3JkKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQnVyc3QgSGFuZGxpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGFsbG93IGJ1cnN0IHJlcXVlc3RzIHVwIHRvIGJ1cnN0IGxpbWl0JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBiYXNlTGltaXQgPSAxMDtcclxuICAgICAgY29uc3QgYnVyc3RMaW1pdCA9IDIwO1xyXG4gICAgICBjb25zdCBjdXJyZW50Q291bnQgPSAxNTtcclxuXHJcbiAgICAgIGNvbnN0IGlzV2l0aGluQnVyc3QgPSBjdXJyZW50Q291bnQgPCBidXJzdExpbWl0O1xyXG4gICAgICBleHBlY3QoaXNXaXRoaW5CdXJzdCkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdHJhY2sgYnVyc3QgY2FwYWNpdHkgY29uc3VtcHRpb24nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGJ1cnN0Q2FwYWNpdHkgPSAxMDtcclxuICAgICAgY29uc3QgYnVyc3RVc2VkID0gNztcclxuICAgICAgY29uc3QgYnVyc3RSZW1haW5pbmcgPSBidXJzdENhcGFjaXR5IC0gYnVyc3RVc2VkO1xyXG5cclxuICAgICAgZXhwZWN0KGJ1cnN0UmVtYWluaW5nKS50b0JlKDMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXBsZW5pc2ggYnVyc3QgY2FwYWNpdHkgb3ZlciB0aW1lJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBidXJzdENhcGFjaXR5ID0gMTA7XHJcbiAgICAgIGNvbnN0IGJ1cnN0VXNlZCA9IDg7XHJcbiAgICAgIGNvbnN0IHJlcGxlbmlzaFJhdGUgPSAxO1xyXG4gICAgICBjb25zdCB0aW1lUGFzc2VkID0gMzAwMDtcclxuXHJcbiAgICAgIGNvbnN0IHJlcGxlbmlzaGVkID0gTWF0aC5mbG9vcih0aW1lUGFzc2VkIC8gMTAwMCkgKiByZXBsZW5pc2hSYXRlO1xyXG4gICAgICBjb25zdCBjdXJyZW50QnVyc3QgPSBNYXRoLm1pbihcclxuICAgICAgICBidXJzdENhcGFjaXR5LFxyXG4gICAgICAgIGJ1cnN0Q2FwYWNpdHkgLSBidXJzdFVzZWQgKyByZXBsZW5pc2hlZFxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KGN1cnJlbnRCdXJzdCkudG9CZSg1KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUXVldWUgTWFuYWdlbWVudCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcXVldWUgcmVxdWVzdHMgd2hlbiByYXRlIGxpbWl0IGV4Y2VlZGVkJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWV1ZTogYW55W10gPSBbXTtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IHsgaWQ6ICdyZXEtMScsIHF1ZXJ5OiAndGVzdCcgfTtcclxuXHJcbiAgICAgIHF1ZXVlLnB1c2gocmVxdWVzdCk7XHJcblxyXG4gICAgICBleHBlY3QocXVldWUubGVuZ3RoKS50b0JlKDEpO1xyXG4gICAgICBleHBlY3QocXVldWVbMF0uaWQpLnRvQmUoJ3JlcS0xJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHByb2Nlc3MgcXVldWVkIHJlcXVlc3RzIHdoZW4gY2FwYWNpdHkgYXZhaWxhYmxlJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWV1ZSA9IFtcclxuICAgICAgICB7IGlkOiAncmVxLTEnLCBxdWVyeTogJ3Rlc3QxJyB9LFxyXG4gICAgICAgIHsgaWQ6ICdyZXEtMicsIHF1ZXJ5OiAndGVzdDInIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCBwcm9jZXNzZWQgPSBxdWV1ZS5zaGlmdCgpO1xyXG5cclxuICAgICAgZXhwZWN0KHByb2Nlc3NlZD8uaWQpLnRvQmUoJ3JlcS0xJyk7XHJcbiAgICAgIGV4cGVjdChxdWV1ZS5sZW5ndGgpLnRvQmUoMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGVuZm9yY2UgbWF4aW11bSBxdWV1ZSBzaXplJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtYXhRdWV1ZVNpemUgPSAxMDA7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRRdWV1ZVNpemUgPSA5NTtcclxuXHJcbiAgICAgIGNvbnN0IGNhblF1ZXVlID0gY3VycmVudFF1ZXVlU2l6ZSA8IG1heFF1ZXVlU2l6ZTtcclxuICAgICAgZXhwZWN0KGNhblF1ZXVlKS50b0JlKHRydWUpO1xyXG5cclxuICAgICAgY29uc3QgZnVsbFF1ZXVlU2l6ZSA9IDEwMDtcclxuICAgICAgY29uc3QgY2FuUXVldWVGdWxsID0gZnVsbFF1ZXVlU2l6ZSA8IG1heFF1ZXVlU2l6ZTtcclxuICAgICAgZXhwZWN0KGNhblF1ZXVlRnVsbCkudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHByaW9yaXRpemUgcXVldWVkIHJlcXVlc3RzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWV1ZSA9IFtcclxuICAgICAgICB7IGlkOiAncmVxLTEnLCBwcmlvcml0eTogMiB9LFxyXG4gICAgICAgIHsgaWQ6ICdyZXEtMicsIHByaW9yaXR5OiAxIH0sXHJcbiAgICAgICAgeyBpZDogJ3JlcS0zJywgcHJpb3JpdHk6IDMgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IHNvcnRlZCA9IHF1ZXVlLnNvcnQoKGEsIGIpID0+IGEucHJpb3JpdHkgLSBiLnByaW9yaXR5KTtcclxuXHJcbiAgICAgIGV4cGVjdChzb3J0ZWRbMF0uaWQpLnRvQmUoJ3JlcS0yJyk7XHJcbiAgICAgIGV4cGVjdChzb3J0ZWRbMV0uaWQpLnRvQmUoJ3JlcS0xJyk7XHJcbiAgICAgIGV4cGVjdChzb3J0ZWRbMl0uaWQpLnRvQmUoJ3JlcS0zJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFFQUMsUUFBUSxDQUFDLDRCQUE0QixFQUFFLE1BQU07RUFDM0NBLFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxNQUFNO0lBQ3RDQyxFQUFFLENBQUMsdUNBQXVDLEVBQUUsTUFBTTtNQUNoRCxNQUFNQyxRQUFRLEdBQUcsQ0FDZjtRQUFFQyxTQUFTLEVBQUVDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRztNQUFLLENBQUMsRUFDaEM7UUFBRUYsU0FBUyxFQUFFQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEdBQUc7TUFBSyxDQUFDLEVBQ2hDO1FBQUVGLFNBQVMsRUFBRUMsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHO01BQUssQ0FBQyxDQUNqQztNQUVELE1BQU1DLFVBQVUsR0FBRyxLQUFLO01BQ3hCLE1BQU1ELEdBQUcsR0FBR0QsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztNQUV0QixNQUFNRSxjQUFjLEdBQUdMLFFBQVEsQ0FBQ00sTUFBTSxDQUNwQ0MsQ0FBQyxJQUFJSixHQUFHLEdBQUdJLENBQUMsQ0FBQ04sU0FBUyxHQUFHRyxVQUMzQixDQUFDO01BRURJLE1BQU0sQ0FBQ0gsY0FBYyxDQUFDSSxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN2QyxDQUFDLENBQUM7SUFFRlgsRUFBRSxDQUFDLG9DQUFvQyxFQUFFLE1BQU07TUFDN0MsTUFBTVksTUFBTSxHQUFHO1FBQ2IsQ0FBQ0Msa0JBQVcsQ0FBQ0MsU0FBUyxHQUFHLEdBQUc7UUFDNUIsQ0FBQ0Qsa0JBQVcsQ0FBQ0UsVUFBVSxHQUFHLEVBQUU7UUFDNUIsQ0FBQ0Ysa0JBQVcsQ0FBQ0csWUFBWSxHQUFHO01BQzlCLENBQUM7TUFFRCxNQUFNQyxZ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