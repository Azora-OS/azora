{"version":3,"names":["request","require","app","describe","it","start","Date","now","get","expect","duration","toBeLessThan","promises","Array","fill","map","Promise","all","memBefore","process","memoryUsage","heapUsed","i","obj","data","repeat","memAfter","memIncrease"],"sources":["subscription.performance.test.js"],"sourcesContent":["const request = require('supertest');\nconst app = require('../server');\n\ndescribe('subscription Performance Tests', () => {\n  it('should respond within 100ms', async () => {\n    const start = Date.now();\n    await request(app).get('/health').expect(200);\n    const duration = Date.now() - start;\n    expect(duration).toBeLessThan(100);\n  });\n\n  it('should handle 1000 requests per second', async () => {\n    const start = Date.now();\n    const promises = Array(1000).fill().map(() => \n      request(app).get('/health')\n    );\n    await Promise.all(promises);\n    const duration = Date.now() - start;\n    expect(duration).toBeLessThan(1000);\n  });\n\n  it('should have low memory usage', () => {\n    const memBefore = process.memoryUsage().heapUsed;\n    // Simulate workload\n    for (let i = 0; i < 10000; i++) {\n      const obj = { data: 'test'.repeat(100) };\n    }\n    const memAfter = process.memoryUsage().heapUsed;\n    const memIncrease = memAfter - memBefore;\n    expect(memIncrease).toBeLessThan(50 * 1024 * 1024); // 50MB\n  });\n});"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,WAAW,CAAC;AACpC,MAAMC,GAAG,GAAGD,OAAO,CAAC,WAAW,CAAC;AAEhCE,QAAQ,CAAC,gCAAgC,EAAE,MAAM;EAC/CC,EAAE,CAAC,6BAA6B,EAAE,YAAY;IAC5C,MAAMC,KAAK,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IACxB,MAAMP,OAAO,CAACE,GAAG,CAAC,CAACM,GAAG,CAAC,SAAS,CAAC,CAACC,MAAM,CAAC,GAAG,CAAC;IAC7C,MAAMC,QAAQ,GAAGJ,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,KAAK;IACnCI,MAAM,CAACC,QAAQ,CAAC,CAACC,YAAY,CAAC,GAAG,CAAC;EACpC,CAAC,CAAC;EAEFP,EAAE,CAAC,wCAAwC,EAAE,YAAY;IACvD,MAAMC,KAAK,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IACxB,MAAMK,QAAQ,GAAGC,KAAK,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,CAAC,CAACC,GAAG,CAAC,MACtCf,OAAO,CAACE,GAAG,CAAC,CAACM,GAAG,CAAC,SAAS,CAC5B,CAAC;IACD,MAAMQ,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;IAC3B,MAAMF,QAAQ,GAAGJ,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,KAAK;IACnCI,MAAM,CAACC,QAAQ,CAAC,CAACC,YAAY,CAAC,IAAI,CAAC;EACrC,CAAC,CAAC;EAEFP,EAAE,CAAC,8BAA8B,EAAE,MAAM;IACvC,MAAMc,SAAS,GAAGC,OAAO,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ;IAChD;IACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,KAAK,EAAEA,CAAC,EAAE,EAAE;MAC9B,MAAMC,GAAG,GAAG;QAAEC,IAAI,EAAE,MAAM,CAACC,MAAM,CAAC,GAAG;MAAE,CAAC;IAC1C;IACA,MAAMC,QAAQ,GAAGP,OAAO,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ;IAC/C,MAAMM,WAAW,GAAGD,QAAQ,GAAGR,SAAS;IACxCT,MAAM,CAACkB,WAAW,CAAC,CAAChB,YAAY,CAAC,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;EACtD,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}