dcf62bcdea5e2108ea9af1e6794c3ad9
"use strict";

var _masterSystemIntegrator = require("../../services/master-system-integrator");
/**
 * SYSTEM INTEGRATION TESTS
 * Tests complete system integration and health
 */

describe('System Integration', () => {
  beforeAll(async () => {
    await _masterSystemIntegrator.masterSystem.initialize();
  });
  afterAll(async () => {
    await _masterSystemIntegrator.masterSystem.shutdown();
  });
  test('system initializes successfully', () => {
    const status = _masterSystemIntegrator.masterSystem.getStatus();
    expect(status.initialized).toBe(true);
    expect(status.servicesOnline).toBeGreaterThan(0);
  });
  test('all services are registered', () => {
    const status = _masterSystemIntegrator.masterSystem.getStatus();
    expect(status.totalServices).toBeGreaterThanOrEqual(13);
  });
  test('health check passes', async () => {
    const healthy = await _masterSystemIntegrator.masterSystem.healthCheck();
    expect(healthy).toBe(true);
  });
  test('system health score is acceptable', () => {
    const status = _masterSystemIntegrator.masterSystem.getStatus();
    expect(status.health).toBeGreaterThanOrEqual(70);
  });
  test('chronicle protocol is accessible', () => {
    const chronicle = _masterSystemIntegrator.masterSystem.getService('chronicle-protocol');
    expect(chronicle).toBeDefined();
    expect(chronicle.url).toBeDefined();
  });
  test('constitutional services are registered', () => {
    const court = _masterSystemIntegrator.masterSystem.getService('constitutional-court');
    const ai = _masterSystemIntegrator.masterSystem.getService('constitutional-ai');
    expect(court).toBeDefined();
    expect(ai).toBeDefined();
  });
  test('design infrastructure is integrated', () => {
    const design = _masterSystemIntegrator.masterSystem.getService('design-infrastructure');
    expect(design).toBeDefined();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbWFzdGVyU3lzdGVtSW50ZWdyYXRvciIsInJlcXVpcmUiLCJkZXNjcmliZSIsImJlZm9yZUFsbCIsIm1hc3RlclN5c3RlbSIsImluaXRpYWxpemUiLCJhZnRlckFsbCIsInNodXRkb3duIiwidGVzdCIsInN0YXR1cyIsImdldFN0YXR1cyIsImV4cGVjdCIsImluaXRpYWxpemVkIiwidG9CZSIsInNlcnZpY2VzT25saW5lIiwidG9CZUdyZWF0ZXJUaGFuIiwidG90YWxTZXJ2aWNlcyIsInRvQmVHcmVhdGVyVGhhbk9yRXF1YWwiLCJoZWFsdGh5IiwiaGVhbHRoQ2hlY2siLCJoZWFsdGgiLCJjaHJvbmljbGUiLCJnZXRTZXJ2aWNlIiwidG9CZURlZmluZWQiLCJ1cmwiLCJjb3VydCIsImFpIiwiZGVzaWduIl0sInNvdXJjZXMiOlsic3lzdGVtLWludGVncmF0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFNZU1RFTSBJTlRFR1JBVElPTiBURVNUU1xyXG4gKiBUZXN0cyBjb21wbGV0ZSBzeXN0ZW0gaW50ZWdyYXRpb24gYW5kIGhlYWx0aFxyXG4gKi9cclxuXHJcbmltcG9ydCB7IG1hc3RlclN5c3RlbSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL21hc3Rlci1zeXN0ZW0taW50ZWdyYXRvcidcclxuXHJcbmRlc2NyaWJlKCdTeXN0ZW0gSW50ZWdyYXRpb24nLCAoKSA9PiB7XHJcbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IG1hc3RlclN5c3RlbS5pbml0aWFsaXplKClcclxuICB9KVxyXG5cclxuICBhZnRlckFsbChhc3luYyAoKSA9PiB7XHJcbiAgICBhd2FpdCBtYXN0ZXJTeXN0ZW0uc2h1dGRvd24oKVxyXG4gIH0pXHJcblxyXG4gIHRlc3QoJ3N5c3RlbSBpbml0aWFsaXplcyBzdWNjZXNzZnVsbHknLCAoKSA9PiB7XHJcbiAgICBjb25zdCBzdGF0dXMgPSBtYXN0ZXJTeXN0ZW0uZ2V0U3RhdHVzKClcclxuICAgIGV4cGVjdChzdGF0dXMuaW5pdGlhbGl6ZWQpLnRvQmUodHJ1ZSlcclxuICAgIGV4cGVjdChzdGF0dXMuc2VydmljZXNPbmxpbmUpLnRvQmVHcmVhdGVyVGhhbigwKVxyXG4gIH0pXHJcblxyXG4gIHRlc3QoJ2FsbCBzZXJ2aWNlcyBhcmUgcmVnaXN0ZXJlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IHN0YXR1cyA9IG1hc3RlclN5c3RlbS5nZXRTdGF0dXMoKVxyXG4gICAgZXhwZWN0KHN0YXR1cy50b3RhbFNlcnZpY2VzKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDEzKVxyXG4gIH0pXHJcblxyXG4gIHRlc3QoJ2hlYWx0aCBjaGVjayBwYXNzZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBoZWFsdGh5ID0gYXdhaXQgbWFzdGVyU3lzdGVtLmhlYWx0aENoZWNrKClcclxuICAgIGV4cGVjdChoZWFsdGh5KS50b0JlKHRydWUpXHJcbiAgfSlcclxuXHJcbiAgdGVzdCgnc3lzdGVtIGhlYWx0aCBzY29yZSBpcyBhY2NlcHRhYmxlJywgKCkgPT4ge1xyXG4gICAgY29uc3Qgc3RhdHVzID0gbWFzdGVyU3lzdGVtLmdldFN0YXR1cygpXHJcbiAgICBleHBlY3Qoc3RhdHVzLmhlYWx0aCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCg3MClcclxuICB9KVxyXG5cclxuICB0ZXN0KCdjaHJvbmljbGUgcHJvdG9jb2wgaXMgYWNjZXNzaWJsZScsICgpID0+IHtcclxuICAgIGNvbnN0IGNocm9uaWNsZSA9IG1hc3RlclN5c3RlbS5nZXRTZXJ2aWNlKCdjaHJvbmljbGUtcHJvdG9jb2wnKVxyXG4gICAgZXhwZWN0KGNocm9uaWNsZSkudG9CZURlZmluZWQoKVxyXG4gICAgZXhwZWN0KGNocm9uaWNsZS51cmwpLnRvQmVEZWZpbmVkKClcclxuICB9KVxyXG5cclxuICB0ZXN0KCdjb25zdGl0dXRpb25hbCBzZXJ2aWNlcyBhcmUgcmVnaXN0ZXJlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IGNvdXJ0ID0gbWFzdGVyU3lzdGVtLmdldFNlcnZpY2UoJ2NvbnN0aXR1dGlvbmFsLWNvdXJ0JylcclxuICAgIGNvbnN0IGFpID0gbWFzdGVyU3lzdGVtLmdldFNlcnZpY2UoJ2NvbnN0aXR1dGlvbmFsLWFpJylcclxuICAgIFxyXG4gICAgZXhwZWN0KGNvdXJ0KS50b0JlRGVmaW5lZCgpXHJcbiAgICBleHBlY3QoYWkpLnRvQmVEZWZpbmVkKClcclxuICB9KVxyXG5cclxuICB0ZXN0KCdkZXNpZ24gaW5mcmFzdHJ1Y3R1cmUgaXMgaW50ZWdyYXRlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IGRlc2lnbiA9IG1hc3RlclN5c3RlbS5nZXRTZXJ2aWNlKCdkZXNpZ24taW5mcmFzdHJ1Y3R1cmUnKVxyXG4gICAgZXhwZWN0KGRlc2lnbikudG9CZURlZmluZWQoKVxyXG4gIH0pXHJcbn0pXHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFLQSxJQUFBQSx1QkFBQSxHQUFBQyxPQUFBO0FBTEE7QUFDQTtBQUNBO0FBQ0E7O0FBSUFDLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxNQUFNO0VBQ25DQyxTQUFTLENBQUMsWUFBWTtJQUNwQixNQUFNQyxvQ0FBWSxDQUFDQyxVQUFVLENBQUMsQ0FBQztFQUNqQyxDQUFDLENBQUM7RUFFRkMsUUFBUSxDQUFDLFlBQVk7SUFDbkIsTUFBTUYsb0NBQVksQ0FBQ0csUUFBUSxDQUFDLENBQUM7RUFDL0IsQ0FBQyxDQUFDO0VBRUZDLElBQUksQ0FBQyxpQ0FBaUMsRUFBRSxNQUFNO0lBQzVDLE1BQU1DLE1BQU0sR0FBR0wsb0NBQVksQ0FBQ00sU0FBUyxDQUFDLENBQUM7SUFDdkNDLE1BQU0sQ0FBQ0YsTUFBTSxDQUFDRyxXQUFXLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNyQ0YsTUFBTSxDQUFDRixNQUFNLENBQUNLLGNBQWMsQ0FBQyxDQUFDQyxlQUFlLENBQUMsQ0FBQyxDQUFDO0VBQ2xELENBQUMsQ0FBQztFQUVGUCxJQUFJLENBQUMsNkJBQTZCLEVBQUUsTUFBTTtJQUN4QyxNQUFNQyxNQUFNLEdBQUdMLG9DQUFZLENBQUNNLFNBQVMsQ0FBQyxDQUFDO0lBQ3ZDQyxNQUFNLENBQUNGLE1BQU0sQ0FBQ08sYUFBYSxDQUFDLENBQUNDLHNCQUFzQixDQUFDLEVBQUUsQ0FBQztFQUN6RCxDQUFDLENBQUM7RUFFRlQsSUFBSSxDQUFDLHFCQUFxQixFQUFFLFlBQVk7SUFDdEMsTUFBTVUsT0FBTyxHQUFHLE1BQU1kLG9DQUFZLENBQUNlLFdBQVcsQ0FBQyxDQUFDO0lBQ2hEUixNQUFNLENBQUNPLE9BQU8sQ0FBQyxDQUFDTCxJQUFJLENBQUMsSUFBSSxDQUFDO0VBQzVCLENBQUMsQ0FBQztFQUVGTCxJQUFJLENBQUMsbUNBQW1DLEVBQUUsTUFBTTtJQUM5QyxNQUFNQyxNQUFNLEdBQUdMLG9DQUFZLENBQUNNLFNBQVMsQ0FBQyxDQUFDO0lBQ3ZDQyxNQUFNLENBQUNGLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLENBQUNILHNCQUFzQixDQUFDLEVBQUUsQ0FBQztFQUNsRCxDQUFDLENBQUM7RUFFRlQsSUFBSSxDQUFDLGtDQUFrQyxFQUFFLE1BQU07SUFDN0MsTUFBTWEsU0FBUyxHQUFHakIsb0NBQVksQ0FBQ2tCLFVBQVUsQ0FBQyxvQkFBb0IsQ0FBQztJQUMvRFgsTUFBTSxDQUFDVSxTQUFTLENBQUMsQ0FBQ0UsV0FBVyxDQUFDLENBQUM7SUFDL0JaLE1BQU0sQ0FBQ1UsU0FBUyxDQUFDRyxHQUFHLENBQUMsQ0FBQ0QsV0FBVyxDQUFDLENBQUM7RUFDckMsQ0FBQyxDQUFDO0VBRUZmLElBQUksQ0FBQyx3Q0FBd0MsRUFBRSxNQUFNO0lBQ25ELE1BQU1pQixLQUFLLEdBQUdyQixvQ0FBWSxDQUFDa0IsVUFBVSxDQUFDLHNCQUFzQixDQUFDO0lBQzdELE1BQU1JLEVBQUUsR0FBR3RCLG9DQUFZLENBQUNrQixVQUFVLENBQUMsbUJBQW1CLENBQUM7SUFFdkRYLE1BQU0sQ0FBQ2MsS0FBSyxDQUFDLENBQUNGLFdBQVcsQ0FBQyxDQUFDO0lBQzNCWixNQUFNLENBQUNlLEVBQUUsQ0FBQyxDQUFDSCxXQUFXLENBQUMsQ0FBQztFQUMxQixDQUFDLENBQUM7RUFFRmYsSUFBSSxDQUFDLHFDQUFxQyxFQUFFLE1BQU07SUFDaEQsTUFBTW1CLE1BQU0sR0FBR3ZCLG9DQUFZLENBQUNrQixVQUFVLENBQUMsdUJBQXVCLENBQUM7SUFDL0RYLE1BQU0sQ0FBQ2dCLE1BQU0sQ0FBQyxDQUFDSixXQUFXLENBQUMsQ0FBQztFQUM5QixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=