b5640708f01b9198261082c5e413a34e
"use strict";

var _rapSystem = require("../../services/ai-routing/rap-system");
var _types = require("../../services/ai-routing/types");
/**
 * RAP System Integration Tests
 * Tests for Retrieval-Augmented Prompt system integration with AI routing
 */

describe('RAP System Integration', () => {
  let rapSystem;
  let mockConfig;
  beforeEach(() => {
    mockConfig = {
      internalSourceWeight: 0.7,
      externalSourceWeight: 0.3,
      maxContextTokens: 2000,
      maxRetrievalResults: 10,
      externalLLMProvider: 'openai',
      externalLLMModel: 'gpt-4',
      externalLLMApiKey: process.env.OPENAI_API_KEY || 'test-key',
      embeddingApiKey: process.env.OPENAI_API_KEY || 'test-embedding-key',
      vectorDbApiKey: process.env.PINECONE_API_KEY || 'test-vector-key',
      vectorDbIndexName: 'azora-knowledge'
    };
    rapSystem = new _rapSystem.RAPSystem(mockConfig);
  });
  describe('Complete RAP Flow', () => {
    it('should process query through complete RAP pipeline', async () => {
      const query = {
        query: 'What are the key principles of machine learning?',
        userId: 'test-user-123',
        context: {
          courseId: 'ml-101',
          difficulty: 'intermediate'
        }
      };

      // Mock the services
      jest.spyOn(rapSystem['embeddingService'], 'generateEmbedding').mockResolvedValue(new Array(1536).fill(0.1));
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValue([{
        id: 'source-1',
        score: 0.95,
        metadata: {
          date: '2024-01-01',
          source: 'internal',
          category: 'ML',
          verified: true,
          relevance: 0.95,
          tags: ['machine-learning', 'principles'],
          title: 'ML Fundamentals',
          url: 'https://azora.example.com/ml-fundamentals'
        }
      }, {
        id: 'source-2',
        score: 0.88,
        metadata: {
          date: '2024-01-02',
          source: 'external',
          category: 'Research',
          verified: false,
          relevance: 0.88,
          tags: ['ml', 'research'],
          title: 'Recent ML Research',
          url: 'https://research.example.com/ml-2024'
        }
      }]);
      jest.spyOn(rapSystem['externalLLMClient'].chat.completions, 'create').mockResolvedValue({
        choices: [{
          message: {
            content: `The key principles of machine learning include:

1. **Supervised Learning**: Learning from labeled data to make predictions
2. **Unsupervised Learning**: Finding patterns in unlabeled data
3. **Reinforcement Learning**: Learning through interaction and rewards
4. **Generalization**: Models should perform well on unseen data
5. **Regularization**: Preventing overfitting through constraints
6. **Feature Engineering**: Selecting and transforming relevant features
7. **Cross-validation**: Evaluating model performance reliably

These principles are fundamental to building effective ML systems.`
          }
        }]
      });
      const response = await rapSystem.processQuery(query);
      expect(response).toBeDefined();
      expect(response.routingTier).toBe(_types.RoutingTier.RAP_SYSTEM);
      expect(response.content).toContain('machine learning');
      expect(response.responseTime).toBeGreaterThan(0);
      expect(response.cost).toBeGreaterThan(0);
      expect(response.cached).toBe(false);
      expect(response.metadata?.internalSourcesCount).toBeGreaterThan(0);
    });
    it('should handle context injection correctly', async () => {
      const query = {
        query: 'Explain neural networks',
        userId: 'test-user-456',
        context: {
          userLevel: 'beginner',
          language: 'en'
        }
      };
      jest.spyOn(rapSystem['embeddingService'], 'generateEmbedding').mockResolvedValue(new Array(1536).fill(0.1));
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValue([{
        id: 'nn-guide',
        score: 0.92,
        metadata: {
          date: '2024-01-01',
          source: 'internal',
          category: 'AI',
          verified: true,
          relevance: 0.92,
          tags: ['neural-networks', 'beginner'],
          title: 'Neural Networks for Beginners',
          url: 'https://azora.example.com/nn-beginner'
        }
      }]);
      jest.spyOn(rapSystem['externalLLMClient'].chat.completions, 'create').mockResolvedValue({
        choices: [{
          message: {
            content: 'Neural networks are computational models inspired by biological neurons...'
          }
        }]
      });
      const response = await rapSystem.processQuery(query);
      expect(response).toBeDefined();
      expect(response.metadata?.contextLength).toBeGreaterThan(0);
    });
  });
  describe('70/30 Rule Enforcement', () => {
    it('should weight internal sources at 70%', async () => {
      const queryEmbedding = new Array(1536).fill(0.1);
      const query = 'Test query';
      const mockInternalSources = Array(7).fill(null).map((_, i) => ({
        id: `internal-${i}`,
        score: 0.9 - i * 0.01,
        metadata: {
          date: '2024-01-01',
          source: 'internal',
          category: 'Education',
          verified: true,
          relevance: 0.9 - i * 0.01,
          tags: ['education'],
          title: `Internal Source ${i}`,
          url: `https://internal.example.com/${i}`
        }
      }));
      const mockExternalSources = Array(3).fill(null).map((_, i) => ({
        id: `external-${i}`,
        score: 0.85 - i * 0.01,
        metadata: {
          date: '2024-01-02',
          source: 'external',
          category: 'Research',
          verified: false,
          relevance: 0.85 - i * 0.01,
          tags: ['research'],
          title: `External Source ${i}`,
          url: `https://external.example.com/${i}`
        }
      }));
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValueOnce(mockInternalSources).mockResolvedValueOnce(mockExternalSources);
      const context = await rapSystem['retrieveContext'](queryEmbedding);
      expect(context.internalSources).toHaveLength(7);
      expect(context.externalSources).toHaveLength(3);
      expect(context.internalWeight).toBe(0.7);
      expect(context.externalWeight).toBe(0.3);
    });
    it('should format context with proper weighting labels', () => {
      const internalSources = [{
        id: 'internal-1',
        score: 0.95,
        metadata: {
          date: '2024-01-01',
          source: 'internal',
          category: 'ML',
          verified: true,
          relevance: 0.95,
          tags: ['ml'],
          title: 'Internal ML Guide',
          url: 'https://example.com/ml'
        }
      }];
      const externalSources = [{
        id: 'external-1',
        score: 0.85,
        metadata: {
          date: '2024-01-02',
          source: 'external',
          category: 'Research',
          verified: false,
          relevance: 0.85,
          tags: ['research'],
          title: 'External Research',
          url: 'https://example.com/research'
        }
      }];
      const formatted = rapSystem['formatContext'](internalSources, externalSources);

      // Verify 70% label
      expect(formatted).toContain('70% weight');
      // Verify 30% label
      expect(formatted).toContain('30% weight');
      // Verify internal sources come first
      expect(formatted.indexOf('70% weight')).toBeLessThan(formatted.indexOf('30% weight'));
    });
  });
  describe('Response Synthesis', () => {
    it('should synthesize response from multiple sources', async () => {
      const query = {
        query: 'Compare supervised and unsupervised learning'
      };
      jest.spyOn(rapSystem['embeddingService'], 'generateEmbedding').mockResolvedValue(new Array(1536).fill(0.1));
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValue([{
        id: 'supervised-guide',
        score: 0.93,
        metadata: {
          date: '2024-01-01',
          source: 'internal',
          category: 'ML',
          verified: true,
          relevance: 0.93,
          tags: ['supervised-learning'],
          title: 'Supervised Learning Guide',
          url: 'https://azora.example.com/supervised'
        }
      }, {
        id: 'unsupervised-guide',
        score: 0.91,
        metadata: {
          date: '2024-01-01',
          source: 'internal',
          category: 'ML',
          verified: true,
          relevance: 0.91,
          tags: ['unsupervised-learning'],
          title: 'Unsupervised Learning Guide',
          url: 'https://azora.example.com/unsupervised'
        }
      }]);
      jest.spyOn(rapSystem['externalLLMClient'].chat.completions, 'create').mockResolvedValue({
        choices: [{
          message: {
            content: `Supervised vs Unsupervised Learning:

**Supervised Learning:**
- Uses labeled training data
- Goal: Predict output for new inputs
- Examples: Classification, Regression

**Unsupervised Learning:**
- Uses unlabeled data
- Goal: Discover hidden patterns
- Examples: Clustering, Dimensionality Reduction

**Key Differences:**
- Data labeling requirement
- Problem formulation
- Evaluation metrics`
          }
        }]
      });
      const response = await rapSystem.processQuery(query);
      expect(response.content).toContain('Supervised');
      expect(response.content).toContain('Unsupervised');
      expect(response.metadata?.internalSourcesCount).toBeGreaterThan(0);
    });
  });
  describe('Caching and Performance', () => {
    it('should cache responses for identical queries', async () => {
      const query = {
        query: 'What is deep learning?'
      };
      jest.spyOn(rapSystem['embeddingService'], 'generateEmbedding').mockResolvedValue(new Array(1536).fill(0.1));
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValue([]);
      jest.spyOn(rapSystem['externalLLMClient'].chat.completions, 'create').mockResolvedValue({
        choices: [{
          message: {
            content: 'Deep learning is a subset of machine learning...'
          }
        }]
      });

      // First call
      const response1 = await rapSystem.processQuery(query);
      const time1 = response1.responseTime;

      // Second call (should be cached)
      const response2 = await rapSystem.processQuery(query);
      const time2 = response2.responseTime;
      expect(response2.cached).toBe(true);
      expect(time2).toBeLessThan(time1);
      expect(response2.cost).toBe(0);
    });
    it('should track cache statistics', async () => {
      rapSystem.clearCache();
      const query1 = {
        query: 'Query 1'
      };
      const query2 = {
        query: 'Query 2'
      };
      jest.spyOn(rapSystem['embeddingService'], 'generateEmbedding').mockResolvedValue(new Array(1536).fill(0.1));
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValue([]);
      jest.spyOn(rapSystem['externalLLMClient'].chat.completions, 'create').mockResolvedValue({
        choices: [{
          message: {
            content: 'Response'
          }
        }]
      });
      await rapSystem.processQuery(query1);
      await rapSystem.processQuery(query2);
      const stats = rapSystem.getCacheStats();
      expect(stats.size).toBe(2);
      expect(stats.entries).toBe(2);
    });
  });
  describe('Cost Tracking', () => {
    it('should calculate and track costs', async () => {
      const query = {
        query: 'Explain the transformer architecture in detail with examples'
      };
      jest.spyOn(rapSystem['embeddingService'], 'generateEmbedding').mockResolvedValue(new Array(1536).fill(0.1));
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValue([{
        id: 'transformer-guide',
        score: 0.94,
        metadata: {
          date: '2024-01-01',
          source: 'internal',
          category: 'AI',
          verified: true,
          relevance: 0.94,
          tags: ['transformers', 'architecture'],
          title: 'Transformer Architecture Guide',
          url: 'https://azora.example.com/transformers'
        }
      }]);
      jest.spyOn(rapSystem['externalLLMClient'].chat.completions, 'create').mockResolvedValue({
        choices: [{
          message: {
            content: 'The transformer architecture is a deep learning model that uses self-attention mechanisms...'
          }
        }]
      });
      const response = await rapSystem.processQuery(query);
      expect(response.cost).toBeGreaterThan(0);
      expect(typeof response.cost).toBe('number');
    });
  });
  describe('Error Handling and Resilience', () => {
    it('should handle missing context gracefully', async () => {
      const query = {
        query: 'Test query'
      };
      jest.spyOn(rapSystem['embeddingService'], 'generateEmbedding').mockResolvedValue(new Array(1536).fill(0.1));
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValue([]);
      jest.spyOn(rapSystem['externalLLMClient'].chat.completions, 'create').mockResolvedValue({
        choices: [{
          message: {
            content: 'Response without context'
          }
        }]
      });
      const response = await rapSystem.processQuery(query);
      expect(response).toBeDefined();
      expect(response.content).toBeTruthy();
      expect(response.metadata?.internalSourcesCount).toBe(0);
    });
    it('should handle partial retrieval failures', async () => {
      const query = {
        query: 'Test query'
      };
      jest.spyOn(rapSystem['embeddingService'], 'generateEmbedding').mockResolvedValue(new Array(1536).fill(0.1));

      // First call succeeds, second fails
      jest.spyOn(rapSystem['vectorStorage'], 'semanticSearch').mockResolvedValueOnce([{
        id: 'source-1',
        score: 0.9,
        metadata: {
          date: '2024-01-01',
          source: 'internal',
          category: 'Test',
          verified: true,
          relevance: 0.9,
          tags: ['test'],
          title: 'Test Source',
          url: 'https://example.com'
        }
      }]).mockRejectedValueOnce(new Error('Retrieval failed'));
      jest.spyOn(rapSystem['externalLLMClient'].chat.completions, 'create').mockResolvedValue({
        choices: [{
          message: {
            content: 'Response'
          }
        }]
      });
      await expect(rapSystem.processQuery(query)).rejects.toThrow();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmFwU3lzdGVtIiwicmVxdWlyZSIsIl90eXBlcyIsImRlc2NyaWJlIiwicmFwU3lzdGVtIiwibW9ja0NvbmZpZyIsImJlZm9yZUVhY2giLCJpbnRlcm5hbFNvdXJjZVdlaWdodCIsImV4dGVybmFsU291cmNlV2VpZ2h0IiwibWF4Q29udGV4dFRva2VucyIsIm1heFJldHJpZXZhbFJlc3VsdHMiLCJleHRlcm5hbExMTVByb3ZpZGVyIiwiZXh0ZXJuYWxMTE1Nb2RlbCIsImV4dGVybmFsTExNQXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwiZW1iZWRkaW5nQXBpS2V5IiwidmVjdG9yRGJBcGlLZXkiLCJQSU5FQ09ORV9BUElfS0VZIiwidmVjdG9yRGJJbmRleE5hbWUiLCJSQVBTeXN0ZW0iLCJpdCIsInF1ZXJ5IiwidXNlcklkIiwiY29udGV4dCIsImNvdXJzZUlkIiwiZGlmZmljdWx0eSIsImplc3QiLCJzcHlPbiIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiQXJyYXkiLCJmaWxsIiwiaWQiLCJzY29yZSIsIm1ldGFkYXRhIiwiZGF0ZSIsInNvdXJjZSIsImNhdGVnb3J5IiwidmVyaWZpZWQiLCJyZWxldmFuY2UiLCJ0YWdzIiwidGl0bGUiLCJ1cmwiLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjaG9pY2VzIiwibWVzc2FnZSIsImNvbnRlbnQiLCJyZXNwb25zZSIsInByb2Nlc3NRdWVyeSIsImV4cGVjdCIsInRvQmVEZWZpbmVkIiwicm91dGluZ1RpZXIiLCJ0b0JlIiwiUm91dGluZ1RpZXIiLCJSQVBfU1lTVEVNIiwidG9Db250YWluIiwicmVzcG9uc2VUaW1lIiwidG9CZUdyZWF0ZXJUaGFuIiwiY29zdCIsImNhY2hlZCIsImludGVybmFsU291cmNlc0NvdW50IiwidXNlckxldmVsIiwibGFuZ3VhZ2UiLCJjb250ZXh0TGVuZ3RoIiwicXVlcnlFbWJlZGRpbmciLCJtb2NrSW50ZXJuYWxTb3VyY2VzIiwibWFwIiwiXyIsImkiLCJtb2NrRXh0ZXJuYWxTb3VyY2VzIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwiaW50ZXJuYWxTb3VyY2VzIiwidG9IYXZlTGVuZ3RoIiwiZXh0ZXJuYWxTb3VyY2VzIiwiaW50ZXJuYWxXZWlnaHQiLCJleHRlcm5hbFdlaWdodCIsImZvcm1hdHRlZCIsImluZGV4T2YiLCJ0b0JlTGVzc1RoYW4iLCJyZXNwb25zZTEiLCJ0aW1lMSIsInJlc3BvbnNlMiIsInRpbWUyIiwiY2xlYXJDYWNoZSIsInF1ZXJ5MSIsInF1ZXJ5MiIsInN0YXRzIiwiZ2V0Q2FjaGVTdGF0cyIsInNpemUiLCJlbnRyaWVzIiwidG9CZVRydXRoeSIsIm1vY2tSZWplY3RlZFZhbHVlT25jZSIsIkVycm9yIiwicmVqZWN0cyIsInRvVGhyb3ciXSwic291cmNlcyI6WyJyYXAtc3lzdGVtLWludGVncmF0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSQVAgU3lzdGVtIEludGVncmF0aW9uIFRlc3RzXG4gKiBUZXN0cyBmb3IgUmV0cmlldmFsLUF1Z21lbnRlZCBQcm9tcHQgc3lzdGVtIGludGVncmF0aW9uIHdpdGggQUkgcm91dGluZ1xuICovXG5cbmltcG9ydCB7IFJBUFN5c3RlbSwgUkFQU3lzdGVtQ29uZmlnIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYWktcm91dGluZy9yYXAtc3lzdGVtJztcbmltcG9ydCB7IEFJUXVlcnksIFJvdXRpbmdUaWVyIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYWktcm91dGluZy90eXBlcyc7XG5cbmRlc2NyaWJlKCdSQVAgU3lzdGVtIEludGVncmF0aW9uJywgKCkgPT4ge1xuICBsZXQgcmFwU3lzdGVtOiBSQVBTeXN0ZW07XG4gIGxldCBtb2NrQ29uZmlnOiBSQVBTeXN0ZW1Db25maWc7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgbW9ja0NvbmZpZyA9IHtcbiAgICAgIGludGVybmFsU291cmNlV2VpZ2h0OiAwLjcsXG4gICAgICBleHRlcm5hbFNvdXJjZVdlaWdodDogMC4zLFxuICAgICAgbWF4Q29udGV4dFRva2VuczogMjAwMCxcbiAgICAgIG1heFJldHJpZXZhbFJlc3VsdHM6IDEwLFxuICAgICAgZXh0ZXJuYWxMTE1Qcm92aWRlcjogJ29wZW5haScsXG4gICAgICBleHRlcm5hbExMTU1vZGVsOiAnZ3B0LTQnLFxuICAgICAgZXh0ZXJuYWxMTE1BcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZIHx8ICd0ZXN0LWtleScsXG4gICAgICBlbWJlZGRpbmdBcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZIHx8ICd0ZXN0LWVtYmVkZGluZy1rZXknLFxuICAgICAgdmVjdG9yRGJBcGlLZXk6IHByb2Nlc3MuZW52LlBJTkVDT05FX0FQSV9LRVkgfHwgJ3Rlc3QtdmVjdG9yLWtleScsXG4gICAgICB2ZWN0b3JEYkluZGV4TmFtZTogJ2F6b3JhLWtub3dsZWRnZSdcbiAgICB9O1xuXG4gICAgcmFwU3lzdGVtID0gbmV3IFJBUFN5c3RlbShtb2NrQ29uZmlnKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbXBsZXRlIFJBUCBGbG93JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcHJvY2VzcyBxdWVyeSB0aHJvdWdoIGNvbXBsZXRlIFJBUCBwaXBlbGluZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5OiBBSVF1ZXJ5ID0ge1xuICAgICAgICBxdWVyeTogJ1doYXQgYXJlIHRoZSBrZXkgcHJpbmNpcGxlcyBvZiBtYWNoaW5lIGxlYXJuaW5nPycsXG4gICAgICAgIHVzZXJJZDogJ3Rlc3QtdXNlci0xMjMnLFxuICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgY291cnNlSWQ6ICdtbC0xMDEnLFxuICAgICAgICAgIGRpZmZpY3VsdHk6ICdpbnRlcm1lZGlhdGUnXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIE1vY2sgdGhlIHNlcnZpY2VzXG4gICAgICBqZXN0LnNweU9uKHJhcFN5c3RlbVsnZW1iZWRkaW5nU2VydmljZSddLCAnZ2VuZXJhdGVFbWJlZGRpbmcnKS5tb2NrUmVzb2x2ZWRWYWx1ZShcbiAgICAgICAgbmV3IEFycmF5KDE1MzYpLmZpbGwoMC4xKVxuICAgICAgKTtcblxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ3ZlY3RvclN0b3JhZ2UnXSwgJ3NlbWFudGljU2VhcmNoJykubW9ja1Jlc29sdmVkVmFsdWUoW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdzb3VyY2UtMScsXG4gICAgICAgICAgc2NvcmU6IDAuOTUsXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAxJyxcbiAgICAgICAgICAgIHNvdXJjZTogJ2ludGVybmFsJyxcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnTUwnLFxuICAgICAgICAgICAgdmVyaWZpZWQ6IHRydWUsXG4gICAgICAgICAgICByZWxldmFuY2U6IDAuOTUsXG4gICAgICAgICAgICB0YWdzOiBbJ21hY2hpbmUtbGVhcm5pbmcnLCAncHJpbmNpcGxlcyddLFxuICAgICAgICAgICAgdGl0bGU6ICdNTCBGdW5kYW1lbnRhbHMnLFxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hem9yYS5leGFtcGxlLmNvbS9tbC1mdW5kYW1lbnRhbHMnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdzb3VyY2UtMicsXG4gICAgICAgICAgc2NvcmU6IDAuODgsXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAyJyxcbiAgICAgICAgICAgIHNvdXJjZTogJ2V4dGVybmFsJyxcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnUmVzZWFyY2gnLFxuICAgICAgICAgICAgdmVyaWZpZWQ6IGZhbHNlLFxuICAgICAgICAgICAgcmVsZXZhbmNlOiAwLjg4LFxuICAgICAgICAgICAgdGFnczogWydtbCcsICdyZXNlYXJjaCddLFxuICAgICAgICAgICAgdGl0bGU6ICdSZWNlbnQgTUwgUmVzZWFyY2gnLFxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9yZXNlYXJjaC5leGFtcGxlLmNvbS9tbC0yMDI0J1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXSk7XG5cbiAgICAgIGplc3Quc3B5T24ocmFwU3lzdGVtWydleHRlcm5hbExMTUNsaWVudCddLmNoYXQuY29tcGxldGlvbnMsICdjcmVhdGUnKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGNob2ljZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgIGNvbnRlbnQ6IGBUaGUga2V5IHByaW5jaXBsZXMgb2YgbWFjaGluZSBsZWFybmluZyBpbmNsdWRlOlxuXG4xLiAqKlN1cGVydmlzZWQgTGVhcm5pbmcqKjogTGVhcm5pbmcgZnJvbSBsYWJlbGVkIGRhdGEgdG8gbWFrZSBwcmVkaWN0aW9uc1xuMi4gKipVbnN1cGVydmlzZWQgTGVhcm5pbmcqKjogRmluZGluZyBwYXR0ZXJucyBpbiB1bmxhYmVsZWQgZGF0YVxuMy4gKipSZWluZm9yY2VtZW50IExlYXJuaW5nKio6IExlYXJuaW5nIHRocm91Z2ggaW50ZXJhY3Rpb24gYW5kIHJld2FyZHNcbjQuICoqR2VuZXJhbGl6YXRpb24qKjogTW9kZWxzIHNob3VsZCBwZXJmb3JtIHdlbGwgb24gdW5zZWVuIGRhdGFcbjUuICoqUmVndWxhcml6YXRpb24qKjogUHJldmVudGluZyBvdmVyZml0dGluZyB0aHJvdWdoIGNvbnN0cmFpbnRzXG42LiAqKkZlYXR1cmUgRW5naW5lZXJpbmcqKjogU2VsZWN0aW5nIGFuZCB0cmFuc2Zvcm1pbmcgcmVsZXZhbnQgZmVhdHVyZXNcbjcuICoqQ3Jvc3MtdmFsaWRhdGlvbioqOiBFdmFsdWF0aW5nIG1vZGVsIHBlcmZvcm1hbmNlIHJlbGlhYmx5XG5cblRoZXNlIHByaW5jaXBsZXMgYXJlIGZ1bmRhbWVudGFsIHRvIGJ1aWxkaW5nIGVmZmVjdGl2ZSBNTCBzeXN0ZW1zLmBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJhcFN5c3RlbS5wcm9jZXNzUXVlcnkocXVlcnkpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2Uucm91dGluZ1RpZXIpLnRvQmUoUm91dGluZ1RpZXIuUkFQX1NZU1RFTSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuY29udGVudCkudG9Db250YWluKCdtYWNoaW5lIGxlYXJuaW5nJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzcG9uc2VUaW1lKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuY29zdCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmNhY2hlZCkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UubWV0YWRhdGE/LmludGVybmFsU291cmNlc0NvdW50KS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb250ZXh0IGluamVjdGlvbiBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBxdWVyeTogQUlRdWVyeSA9IHtcbiAgICAgICAgcXVlcnk6ICdFeHBsYWluIG5ldXJhbCBuZXR3b3JrcycsXG4gICAgICAgIHVzZXJJZDogJ3Rlc3QtdXNlci00NTYnLFxuICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgdXNlckxldmVsOiAnYmVnaW5uZXInLFxuICAgICAgICAgIGxhbmd1YWdlOiAnZW4nXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGplc3Quc3B5T24ocmFwU3lzdGVtWydlbWJlZGRpbmdTZXJ2aWNlJ10sICdnZW5lcmF0ZUVtYmVkZGluZycpLm1vY2tSZXNvbHZlZFZhbHVlKFxuICAgICAgICBuZXcgQXJyYXkoMTUzNikuZmlsbCgwLjEpXG4gICAgICApO1xuXG4gICAgICBqZXN0LnNweU9uKHJhcFN5c3RlbVsndmVjdG9yU3RvcmFnZSddLCAnc2VtYW50aWNTZWFyY2gnKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ25uLWd1aWRlJyxcbiAgICAgICAgICBzY29yZTogMC45MixcbiAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgZGF0ZTogJzIwMjQtMDEtMDEnLFxuICAgICAgICAgICAgc291cmNlOiAnaW50ZXJuYWwnLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICdBSScsXG4gICAgICAgICAgICB2ZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgICAgIHJlbGV2YW5jZTogMC45MixcbiAgICAgICAgICAgIHRhZ3M6IFsnbmV1cmFsLW5ldHdvcmtzJywgJ2JlZ2lubmVyJ10sXG4gICAgICAgICAgICB0aXRsZTogJ05ldXJhbCBOZXR3b3JrcyBmb3IgQmVnaW5uZXJzJyxcbiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vYXpvcmEuZXhhbXBsZS5jb20vbm4tYmVnaW5uZXInXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdKTtcblxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ2V4dGVybmFsTExNQ2xpZW50J10uY2hhdC5jb21wbGV0aW9ucywgJ2NyZWF0ZScpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgY2hvaWNlczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgICAgICAgY29udGVudDogJ05ldXJhbCBuZXR3b3JrcyBhcmUgY29tcHV0YXRpb25hbCBtb2RlbHMgaW5zcGlyZWQgYnkgYmlvbG9naWNhbCBuZXVyb25zLi4uJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmFwU3lzdGVtLnByb2Nlc3NRdWVyeShxdWVyeSk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5tZXRhZGF0YT8uY29udGV4dExlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnNzAvMzAgUnVsZSBFbmZvcmNlbWVudCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHdlaWdodCBpbnRlcm5hbCBzb3VyY2VzIGF0IDcwJScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5RW1iZWRkaW5nID0gbmV3IEFycmF5KDE1MzYpLmZpbGwoMC4xKTtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1Rlc3QgcXVlcnknO1xuXG4gICAgICBjb25zdCBtb2NrSW50ZXJuYWxTb3VyY2VzID0gQXJyYXkoNykuZmlsbChudWxsKS5tYXAoKF8sIGkpID0+ICh7XG4gICAgICAgIGlkOiBgaW50ZXJuYWwtJHtpfWAsXG4gICAgICAgIHNjb3JlOiAwLjkgLSAoaSAqIDAuMDEpLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAxJyxcbiAgICAgICAgICBzb3VyY2U6ICdpbnRlcm5hbCcsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdFZHVjYXRpb24nLFxuICAgICAgICAgIHZlcmlmaWVkOiB0cnVlLFxuICAgICAgICAgIHJlbGV2YW5jZTogMC45IC0gKGkgKiAwLjAxKSxcbiAgICAgICAgICB0YWdzOiBbJ2VkdWNhdGlvbiddLFxuICAgICAgICAgIHRpdGxlOiBgSW50ZXJuYWwgU291cmNlICR7aX1gLFxuICAgICAgICAgIHVybDogYGh0dHBzOi8vaW50ZXJuYWwuZXhhbXBsZS5jb20vJHtpfWBcbiAgICAgICAgfVxuICAgICAgfSkpO1xuXG4gICAgICBjb25zdCBtb2NrRXh0ZXJuYWxTb3VyY2VzID0gQXJyYXkoMykuZmlsbChudWxsKS5tYXAoKF8sIGkpID0+ICh7XG4gICAgICAgIGlkOiBgZXh0ZXJuYWwtJHtpfWAsXG4gICAgICAgIHNjb3JlOiAwLjg1IC0gKGkgKiAwLjAxKSxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMicsXG4gICAgICAgICAgc291cmNlOiAnZXh0ZXJuYWwnLFxuICAgICAgICAgIGNhdGVnb3J5OiAnUmVzZWFyY2gnLFxuICAgICAgICAgIHZlcmlmaWVkOiBmYWxzZSxcbiAgICAgICAgICByZWxldmFuY2U6IDAuODUgLSAoaSAqIDAuMDEpLFxuICAgICAgICAgIHRhZ3M6IFsncmVzZWFyY2gnXSxcbiAgICAgICAgICB0aXRsZTogYEV4dGVybmFsIFNvdXJjZSAke2l9YCxcbiAgICAgICAgICB1cmw6IGBodHRwczovL2V4dGVybmFsLmV4YW1wbGUuY29tLyR7aX1gXG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ3ZlY3RvclN0b3JhZ2UnXSwgJ3NlbWFudGljU2VhcmNoJylcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZShtb2NrSW50ZXJuYWxTb3VyY2VzKVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKG1vY2tFeHRlcm5hbFNvdXJjZXMpO1xuXG4gICAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgcmFwU3lzdGVtWydyZXRyaWV2ZUNvbnRleHQnXShxdWVyeUVtYmVkZGluZyk7XG5cbiAgICAgIGV4cGVjdChjb250ZXh0LmludGVybmFsU291cmNlcykudG9IYXZlTGVuZ3RoKDcpO1xuICAgICAgZXhwZWN0KGNvbnRleHQuZXh0ZXJuYWxTb3VyY2VzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgICBleHBlY3QoY29udGV4dC5pbnRlcm5hbFdlaWdodCkudG9CZSgwLjcpO1xuICAgICAgZXhwZWN0KGNvbnRleHQuZXh0ZXJuYWxXZWlnaHQpLnRvQmUoMC4zKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZm9ybWF0IGNvbnRleHQgd2l0aCBwcm9wZXIgd2VpZ2h0aW5nIGxhYmVscycsICgpID0+IHtcbiAgICAgIGNvbnN0IGludGVybmFsU291cmNlcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnaW50ZXJuYWwtMScsXG4gICAgICAgICAgc2NvcmU6IDAuOTUsXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAxJyxcbiAgICAgICAgICAgIHNvdXJjZTogJ2ludGVybmFsJyxcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnTUwnLFxuICAgICAgICAgICAgdmVyaWZpZWQ6IHRydWUsXG4gICAgICAgICAgICByZWxldmFuY2U6IDAuOTUsXG4gICAgICAgICAgICB0YWdzOiBbJ21sJ10sXG4gICAgICAgICAgICB0aXRsZTogJ0ludGVybmFsIE1MIEd1aWRlJyxcbiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vZXhhbXBsZS5jb20vbWwnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICBjb25zdCBleHRlcm5hbFNvdXJjZXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2V4dGVybmFsLTEnLFxuICAgICAgICAgIHNjb3JlOiAwLjg1LFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMicsXG4gICAgICAgICAgICBzb3VyY2U6ICdleHRlcm5hbCcsXG4gICAgICAgICAgICBjYXRlZ29yeTogJ1Jlc2VhcmNoJyxcbiAgICAgICAgICAgIHZlcmlmaWVkOiBmYWxzZSxcbiAgICAgICAgICAgIHJlbGV2YW5jZTogMC44NSxcbiAgICAgICAgICAgIHRhZ3M6IFsncmVzZWFyY2gnXSxcbiAgICAgICAgICAgIHRpdGxlOiAnRXh0ZXJuYWwgUmVzZWFyY2gnLFxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9yZXNlYXJjaCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IHJhcFN5c3RlbVsnZm9ybWF0Q29udGV4dCddKGludGVybmFsU291cmNlcywgZXh0ZXJuYWxTb3VyY2VzKTtcblxuICAgICAgLy8gVmVyaWZ5IDcwJSBsYWJlbFxuICAgICAgZXhwZWN0KGZvcm1hdHRlZCkudG9Db250YWluKCc3MCUgd2VpZ2h0Jyk7XG4gICAgICAvLyBWZXJpZnkgMzAlIGxhYmVsXG4gICAgICBleHBlY3QoZm9ybWF0dGVkKS50b0NvbnRhaW4oJzMwJSB3ZWlnaHQnKTtcbiAgICAgIC8vIFZlcmlmeSBpbnRlcm5hbCBzb3VyY2VzIGNvbWUgZmlyc3RcbiAgICAgIGV4cGVjdChmb3JtYXR0ZWQuaW5kZXhPZignNzAlIHdlaWdodCcpKS50b0JlTGVzc1RoYW4oZm9ybWF0dGVkLmluZGV4T2YoJzMwJSB3ZWlnaHQnKSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZXNwb25zZSBTeW50aGVzaXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzeW50aGVzaXplIHJlc3BvbnNlIGZyb20gbXVsdGlwbGUgc291cmNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5OiBBSVF1ZXJ5ID0ge1xuICAgICAgICBxdWVyeTogJ0NvbXBhcmUgc3VwZXJ2aXNlZCBhbmQgdW5zdXBlcnZpc2VkIGxlYXJuaW5nJ1xuICAgICAgfTtcblxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ2VtYmVkZGluZ1NlcnZpY2UnXSwgJ2dlbmVyYXRlRW1iZWRkaW5nJykubW9ja1Jlc29sdmVkVmFsdWUoXG4gICAgICAgIG5ldyBBcnJheSgxNTM2KS5maWxsKDAuMSlcbiAgICAgICk7XG5cbiAgICAgIGplc3Quc3B5T24ocmFwU3lzdGVtWyd2ZWN0b3JTdG9yYWdlJ10sICdzZW1hbnRpY1NlYXJjaCcpLm1vY2tSZXNvbHZlZFZhbHVlKFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc3VwZXJ2aXNlZC1ndWlkZScsXG4gICAgICAgICAgc2NvcmU6IDAuOTMsXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAxJyxcbiAgICAgICAgICAgIHNvdXJjZTogJ2ludGVybmFsJyxcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnTUwnLFxuICAgICAgICAgICAgdmVyaWZpZWQ6IHRydWUsXG4gICAgICAgICAgICByZWxldmFuY2U6IDAuOTMsXG4gICAgICAgICAgICB0YWdzOiBbJ3N1cGVydmlzZWQtbGVhcm5pbmcnXSxcbiAgICAgICAgICAgIHRpdGxlOiAnU3VwZXJ2aXNlZCBMZWFybmluZyBHdWlkZScsXG4gICAgICAgICAgICB1cmw6ICdodHRwczovL2F6b3JhLmV4YW1wbGUuY29tL3N1cGVydmlzZWQnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICd1bnN1cGVydmlzZWQtZ3VpZGUnLFxuICAgICAgICAgIHNjb3JlOiAwLjkxLFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBkYXRlOiAnMjAyNC0wMS0wMScsXG4gICAgICAgICAgICBzb3VyY2U6ICdpbnRlcm5hbCcsXG4gICAgICAgICAgICBjYXRlZ29yeTogJ01MJyxcbiAgICAgICAgICAgIHZlcmlmaWVkOiB0cnVlLFxuICAgICAgICAgICAgcmVsZXZhbmNlOiAwLjkxLFxuICAgICAgICAgICAgdGFnczogWyd1bnN1cGVydmlzZWQtbGVhcm5pbmcnXSxcbiAgICAgICAgICAgIHRpdGxlOiAnVW5zdXBlcnZpc2VkIExlYXJuaW5nIEd1aWRlJyxcbiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vYXpvcmEuZXhhbXBsZS5jb20vdW5zdXBlcnZpc2VkJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXSk7XG5cbiAgICAgIGplc3Quc3B5T24ocmFwU3lzdGVtWydleHRlcm5hbExMTUNsaWVudCddLmNoYXQuY29tcGxldGlvbnMsICdjcmVhdGUnKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGNob2ljZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgIGNvbnRlbnQ6IGBTdXBlcnZpc2VkIHZzIFVuc3VwZXJ2aXNlZCBMZWFybmluZzpcblxuKipTdXBlcnZpc2VkIExlYXJuaW5nOioqXG4tIFVzZXMgbGFiZWxlZCB0cmFpbmluZyBkYXRhXG4tIEdvYWw6IFByZWRpY3Qgb3V0cHV0IGZvciBuZXcgaW5wdXRzXG4tIEV4YW1wbGVzOiBDbGFzc2lmaWNhdGlvbiwgUmVncmVzc2lvblxuXG4qKlVuc3VwZXJ2aXNlZCBMZWFybmluZzoqKlxuLSBVc2VzIHVubGFiZWxlZCBkYXRhXG4tIEdvYWw6IERpc2NvdmVyIGhpZGRlbiBwYXR0ZXJuc1xuLSBFeGFtcGxlczogQ2x1c3RlcmluZywgRGltZW5zaW9uYWxpdHkgUmVkdWN0aW9uXG5cbioqS2V5IERpZmZlcmVuY2VzOioqXG4tIERhdGEgbGFiZWxpbmcgcmVxdWlyZW1lbnRcbi0gUHJvYmxlbSBmb3JtdWxhdGlvblxuLSBFdmFsdWF0aW9uIG1ldHJpY3NgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByYXBTeXN0ZW0ucHJvY2Vzc1F1ZXJ5KHF1ZXJ5KTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmNvbnRlbnQpLnRvQ29udGFpbignU3VwZXJ2aXNlZCcpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmNvbnRlbnQpLnRvQ29udGFpbignVW5zdXBlcnZpc2VkJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UubWV0YWRhdGE/LmludGVybmFsU291cmNlc0NvdW50KS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDYWNoaW5nIGFuZCBQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNhY2hlIHJlc3BvbnNlcyBmb3IgaWRlbnRpY2FsIHF1ZXJpZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBxdWVyeTogQUlRdWVyeSA9IHtcbiAgICAgICAgcXVlcnk6ICdXaGF0IGlzIGRlZXAgbGVhcm5pbmc/J1xuICAgICAgfTtcblxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ2VtYmVkZGluZ1NlcnZpY2UnXSwgJ2dlbmVyYXRlRW1iZWRkaW5nJykubW9ja1Jlc29sdmVkVmFsdWUoXG4gICAgICAgIG5ldyBBcnJheSgxNTM2KS5maWxsKDAuMSlcbiAgICAgICk7XG5cbiAgICAgIGplc3Quc3B5T24ocmFwU3lzdGVtWyd2ZWN0b3JTdG9yYWdlJ10sICdzZW1hbnRpY1NlYXJjaCcpLm1vY2tSZXNvbHZlZFZhbHVlKFtdKTtcblxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ2V4dGVybmFsTExNQ2xpZW50J10uY2hhdC5jb21wbGV0aW9ucywgJ2NyZWF0ZScpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgY2hvaWNlczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgICAgICAgY29udGVudDogJ0RlZXAgbGVhcm5pbmcgaXMgYSBzdWJzZXQgb2YgbWFjaGluZSBsZWFybmluZy4uLidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBGaXJzdCBjYWxsXG4gICAgICBjb25zdCByZXNwb25zZTEgPSBhd2FpdCByYXBTeXN0ZW0ucHJvY2Vzc1F1ZXJ5KHF1ZXJ5KTtcbiAgICAgIGNvbnN0IHRpbWUxID0gcmVzcG9uc2UxLnJlc3BvbnNlVGltZTtcblxuICAgICAgLy8gU2Vjb25kIGNhbGwgKHNob3VsZCBiZSBjYWNoZWQpXG4gICAgICBjb25zdCByZXNwb25zZTIgPSBhd2FpdCByYXBTeXN0ZW0ucHJvY2Vzc1F1ZXJ5KHF1ZXJ5KTtcbiAgICAgIGNvbnN0IHRpbWUyID0gcmVzcG9uc2UyLnJlc3BvbnNlVGltZTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlMi5jYWNoZWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodGltZTIpLnRvQmVMZXNzVGhhbih0aW1lMSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UyLmNvc3QpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRyYWNrIGNhY2hlIHN0YXRpc3RpY3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICByYXBTeXN0ZW0uY2xlYXJDYWNoZSgpO1xuXG4gICAgICBjb25zdCBxdWVyeTE6IEFJUXVlcnkgPSB7IHF1ZXJ5OiAnUXVlcnkgMScgfTtcbiAgICAgIGNvbnN0IHF1ZXJ5MjogQUlRdWVyeSA9IHsgcXVlcnk6ICdRdWVyeSAyJyB9O1xuXG4gICAgICBqZXN0LnNweU9uKHJhcFN5c3RlbVsnZW1iZWRkaW5nU2VydmljZSddLCAnZ2VuZXJhdGVFbWJlZGRpbmcnKS5tb2NrUmVzb2x2ZWRWYWx1ZShcbiAgICAgICAgbmV3IEFycmF5KDE1MzYpLmZpbGwoMC4xKVxuICAgICAgKTtcblxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ3ZlY3RvclN0b3JhZ2UnXSwgJ3NlbWFudGljU2VhcmNoJykubW9ja1Jlc29sdmVkVmFsdWUoW10pO1xuXG4gICAgICBqZXN0LnNweU9uKHJhcFN5c3RlbVsnZXh0ZXJuYWxMTE1DbGllbnQnXS5jaGF0LmNvbXBsZXRpb25zLCAnY3JlYXRlJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBjaG9pY2VzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgICBjb250ZW50OiAnUmVzcG9uc2UnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgcmFwU3lzdGVtLnByb2Nlc3NRdWVyeShxdWVyeTEpO1xuICAgICAgYXdhaXQgcmFwU3lzdGVtLnByb2Nlc3NRdWVyeShxdWVyeTIpO1xuXG4gICAgICBjb25zdCBzdGF0cyA9IHJhcFN5c3RlbS5nZXRDYWNoZVN0YXRzKCk7XG5cbiAgICAgIGV4cGVjdChzdGF0cy5zaXplKS50b0JlKDIpO1xuICAgICAgZXhwZWN0KHN0YXRzLmVudHJpZXMpLnRvQmUoMik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb3N0IFRyYWNraW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGFuZCB0cmFjayBjb3N0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5OiBBSVF1ZXJ5ID0ge1xuICAgICAgICBxdWVyeTogJ0V4cGxhaW4gdGhlIHRyYW5zZm9ybWVyIGFyY2hpdGVjdHVyZSBpbiBkZXRhaWwgd2l0aCBleGFtcGxlcydcbiAgICAgIH07XG5cbiAgICAgIGplc3Quc3B5T24ocmFwU3lzdGVtWydlbWJlZGRpbmdTZXJ2aWNlJ10sICdnZW5lcmF0ZUVtYmVkZGluZycpLm1vY2tSZXNvbHZlZFZhbHVlKFxuICAgICAgICBuZXcgQXJyYXkoMTUzNikuZmlsbCgwLjEpXG4gICAgICApO1xuXG4gICAgICBqZXN0LnNweU9uKHJhcFN5c3RlbVsndmVjdG9yU3RvcmFnZSddLCAnc2VtYW50aWNTZWFyY2gnKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3RyYW5zZm9ybWVyLWd1aWRlJyxcbiAgICAgICAgICBzY29yZTogMC45NCxcbiAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgZGF0ZTogJzIwMjQtMDEtMDEnLFxuICAgICAgICAgICAgc291cmNlOiAnaW50ZXJuYWwnLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICdBSScsXG4gICAgICAgICAgICB2ZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgICAgIHJlbGV2YW5jZTogMC45NCxcbiAgICAgICAgICAgIHRhZ3M6IFsndHJhbnNmb3JtZXJzJywgJ2FyY2hpdGVjdHVyZSddLFxuICAgICAgICAgICAgdGl0bGU6ICdUcmFuc2Zvcm1lciBBcmNoaXRlY3R1cmUgR3VpZGUnLFxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hem9yYS5leGFtcGxlLmNvbS90cmFuc2Zvcm1lcnMnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdKTtcblxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ2V4dGVybmFsTExNQ2xpZW50J10uY2hhdC5jb21wbGV0aW9ucywgJ2NyZWF0ZScpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgY2hvaWNlczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgICAgICAgY29udGVudDogJ1RoZSB0cmFuc2Zvcm1lciBhcmNoaXRlY3R1cmUgaXMgYSBkZWVwIGxlYXJuaW5nIG1vZGVsIHRoYXQgdXNlcyBzZWxmLWF0dGVudGlvbiBtZWNoYW5pc21zLi4uJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmFwU3lzdGVtLnByb2Nlc3NRdWVyeShxdWVyeSk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5jb3N0KS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3BvbnNlLmNvc3QpLnRvQmUoJ251bWJlcicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcgYW5kIFJlc2lsaWVuY2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyBjb250ZXh0IGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBxdWVyeTogQUlRdWVyeSA9IHtcbiAgICAgICAgcXVlcnk6ICdUZXN0IHF1ZXJ5J1xuICAgICAgfTtcblxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ2VtYmVkZGluZ1NlcnZpY2UnXSwgJ2dlbmVyYXRlRW1iZWRkaW5nJykubW9ja1Jlc29sdmVkVmFsdWUoXG4gICAgICAgIG5ldyBBcnJheSgxNTM2KS5maWxsKDAuMSlcbiAgICAgICk7XG5cbiAgICAgIGplc3Quc3B5T24ocmFwU3lzdGVtWyd2ZWN0b3JTdG9yYWdlJ10sICdzZW1hbnRpY1NlYXJjaCcpLm1vY2tSZXNvbHZlZFZhbHVlKFtdKTtcblxuICAgICAgamVzdC5zcHlPbihyYXBTeXN0ZW1bJ2V4dGVybmFsTExNQ2xpZW50J10uY2hhdC5jb21wbGV0aW9ucywgJ2NyZWF0ZScpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgY2hvaWNlczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgICAgICAgY29udGVudDogJ1Jlc3BvbnNlIHdpdGhvdXQgY29udGV4dCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJhcFN5c3RlbS5wcm9jZXNzUXVlcnkocXVlcnkpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuY29udGVudCkudG9CZVRydXRoeSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLm1ldGFkYXRhPy5pbnRlcm5hbFNvdXJjZXNDb3VudCkudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHBhcnRpYWwgcmV0cmlldmFsIGZhaWx1cmVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcXVlcnk6IEFJUXVlcnkgPSB7XG4gICAgICAgIHF1ZXJ5OiAnVGVzdCBxdWVyeSdcbiAgICAgIH07XG5cbiAgICAgIGplc3Quc3B5T24ocmFwU3lzdGVtWydlbWJlZGRpbmdTZXJ2aWNlJ10sICdnZW5lcmF0ZUVtYmVkZGluZycpLm1vY2tSZXNvbHZlZFZhbHVlKFxuICAgICAgICBuZXcgQXJyYXkoMTUzNikuZmlsbCgwLjEpXG4gICAgICApO1xuXG4gICAgICAvLyBGaXJzdCBjYWxsIHN1Y2NlZWRzLCBzZWNvbmQgZmFpbHNcbiAgICAgIGplc3Quc3B5T24ocmFwU3lzdGVtWyd2ZWN0b3JTdG9yYWdlJ10sICdzZW1hbnRpY1NlYXJjaCcpXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnc291cmNlLTEnLFxuICAgICAgICAgICAgc2NvcmU6IDAuOSxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAxJyxcbiAgICAgICAgICAgICAgc291cmNlOiAnaW50ZXJuYWwnLFxuICAgICAgICAgICAgICBjYXRlZ29yeTogJ1Rlc3QnLFxuICAgICAgICAgICAgICB2ZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgICAgICAgcmVsZXZhbmNlOiAwLjksXG4gICAgICAgICAgICAgIHRhZ3M6IFsndGVzdCddLFxuICAgICAgICAgICAgICB0aXRsZTogJ1Rlc3QgU291cmNlJyxcbiAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF0pXG4gICAgICAgIC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdSZXRyaWV2YWwgZmFpbGVkJykpO1xuXG4gICAgICBqZXN0LnNweU9uKHJhcFN5c3RlbVsnZXh0ZXJuYWxMTE1DbGllbnQnXS5jaGF0LmNvbXBsZXRpb25zLCAnY3JlYXRlJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBjaG9pY2VzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgICBjb250ZW50OiAnUmVzcG9uc2UnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHJhcFN5c3RlbS5wcm9j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