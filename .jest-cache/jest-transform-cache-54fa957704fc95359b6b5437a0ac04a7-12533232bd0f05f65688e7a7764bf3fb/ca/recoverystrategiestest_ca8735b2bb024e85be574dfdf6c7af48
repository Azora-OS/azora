95e8119107137ae500bd1bdbfaf31cef
"use strict";

var _recoveryStrategies = require("../src/recovery-strategies");
// Mock fetch globally
global.fetch = jest.fn();
describe('RecoveryStrategies', () => {
  let recoveryStrategies;
  beforeEach(() => {
    recoveryStrategies = new _recoveryStrategies.RecoveryStrategies();
    jest.clearAllMocks();
  });
  describe('Auto-Recovery', () => {
    it('should attempt recovery for down service', async () => {
      const downService = {
        name: 'test-service',
        url: 'http://localhost:3000',
        status: 'down',
        lastCheck: new Date().toISOString(),
        responseTime: 0,
        errorRate: 0,
        uptime: 30
      };
      const incident = await recoveryStrategies.attemptRecovery(downService);
      expect(incident).toBeDefined();
      expect(incident.service).toBe('test-service');
      expect(incident.action).toBe(_recoveryStrategies.RecoveryAction.RESTART_SERVICE);
    });
    it('should apply circuit breaker for high error rate', async () => {
      const degradedService = {
        name: 'test-service',
        url: 'http://localhost:3000',
        status: 'degraded',
        lastCheck: new Date().toISOString(),
        responseTime: 1000,
        errorRate: 60,
        uptime: 70
      };
      const incident = await recoveryStrategies.attemptRecovery(degradedService);
      expect(incident.action).toBe(_recoveryStrategies.RecoveryAction.CIRCUIT_BREAK);
      expect(incident.success).toBe(true);
    });
    it('should scale up for slow response times', async () => {
      const slowService = {
        name: 'test-service',
        url: 'http://localhost:3000',
        status: 'degraded',
        lastCheck: new Date().toISOString(),
        responseTime: 6000,
        errorRate: 10,
        uptime: 75
      };
      const incident = await recoveryStrategies.attemptRecovery(slowService);
      expect(incident.action).toBe(_recoveryStrategies.RecoveryAction.SCALE_UP);
    });
    it('should reroute traffic for degraded services', async () => {
      const degradedService = {
        name: 'test-service',
        url: 'http://localhost:3000',
        status: 'degraded',
        lastCheck: new Date().toISOString(),
        responseTime: 2000,
        errorRate: 20,
        uptime: 70
      };
      const incident = await recoveryStrategies.attemptRecovery(degradedService);
      expect([_recoveryStrategies.RecoveryAction.REROUTE_TRAFFIC, _recoveryStrategies.RecoveryAction.CIRCUIT_BREAK]).toContain(incident.action);
    });
  });
  describe('Service Restart', () => {
    it('should restart crashed service', async () => {
      const crashedService = {
        name: 'crashed-service',
        url: 'http://localhost:3000',
        status: 'down',
        lastCheck: new Date().toISOString(),
        responseTime: 0,
        errorRate: 100,
        uptime: 0
      };
      const incident = await recoveryStrategies.attemptRecovery(crashedService);
      expect(incident.action).toBe(_recoveryStrategies.RecoveryAction.RESTART_SERVICE);
      expect(incident.success).toBe(true);
      expect(incident.recoveryTime).toBeGreaterThan(0);
    });
    it('should record recovery time', async () => {
      const downService = {
        name: 'test-service',
        url: 'http://localhost:3000',
        status: 'down',
        lastCheck: new Date().toISOString(),
        responseTime: 0,
        errorRate: 0,
        uptime: 40
      };
      const incident = await recoveryStrategies.attemptRecovery(downService);
      expect(incident.recoveryTime).toBeGreaterThanOrEqual(0);
      expect(typeof incident.recoveryTime).toBe('number');
    });
  });
  describe('Failover', () => {
    it('should alert team for persistent failures', async () => {
      const persistentlyDownService = {
        name: 'test-service',
        url: 'http://localhost:3000',
        status: 'down',
        lastCheck: new Date().toISOString(),
        responseTime: 0,
        errorRate: 100,
        uptime: 10
      };
      const incident = await recoveryStrategies.attemptRecovery(persistentlyDownService);
      expect(incident.action).toBe(_recoveryStrategies.RecoveryAction.ALERT_TEAM);
    });
    it('should handle no applicable strategy', async () => {
      const healthyService = {
        name: 'test-service',
        url: 'http://localhost:3000',
        status: 'healthy',
        lastCheck: new Date().toISOString(),
        responseTime: 100,
        errorRate: 0,
        uptime: 100
      };
      const incident = await recoveryStrategies.attemptRecovery(healthyService);
      expect(incident.success).toBe(false);
      expect(incident.details).toContain('No applicable recovery strategy');
    });
  });
  describe('Recovery Events', () => {
    it('should emit recovery-attempted event', done => {
      const downService = {
        name: 'test-service',
        url: 'http://localhost:3000',
        status: 'down',
        lastCheck: new Date().toISOString(),
        responseTime: 0,
        errorRate: 0,
        uptime: 30
      };
      recoveryStrategies.on('recovery-attempted', incident => {
        expect(incident).toBeDefined();
        expect(incident.service).toBe('test-service');
        done();
      });
      recoveryStrategies.attemptRecovery(downService);
    });
  });
  describe('Recovery Statistics', () => {
    it('should track recovery incidents', async () => {
      const downService = {
        name: 'test-service',
        url: 'http://localhost:3000',
        status: 'down',
        lastCheck: new Date().toISOString(),
        responseTime: 0,
        errorRate: 0,
        uptime: 30
      };
      await recoveryStrategies.attemptRecovery(downService);
      await recoveryStrategies.attemptRecovery(downService);
      const incidents = recoveryStrategies.getIncidents();
      expect(incidents).toHaveLength(2);
    });
    it('should calculate recovery statistics', async () => {
      const downService = {
        name: 'test-service',
        url: 'http://localhost:3000',
        status: 'down',
        lastCheck: new Date().toISOString(),
        responseTime: 0,
        errorRate: 0,
        uptime: 30
      };
      await recoveryStrategies.attemptRecovery(downService);
      const stats = recoveryStrategies.getStats();
      expect(stats.totalIncidents).toBeGreaterThan(0);
      expect(stats.successfulRecoveries).toBeGreaterThanOrEqual(0);
      expect(stats.successRate).toBeGreaterThanOrEqual(0);
      expect(stats.avgRecoveryTime).toBeGreaterThanOrEqual(0);
    });
    it('should calculate success rate correctly', async () => {
      const downService = {
        name: 'test-service',
        url: 'http://localhost:3000',
        status: 'down',
        lastCheck: new Date().toISOString(),
        responseTime: 0,
        errorRate: 0,
        uptime: 30
      };
      await recoveryStrategies.attemptRecovery(downService);
      await recoveryStrategies.attemptRecovery(downService);
      const stats = recoveryStrategies.getStats();
      expect(stats.successRate).toBeGreaterThanOrEqual(0);
      expect(stats.successRate).toBeLessThanOrEqual(100);
    });
  });
  describe('Strategy Priority', () => {
    it('should apply highest priority strategy first', async () => {
      const criticalService = {
        name: 'test-service',
        url: 'http://localhost:3000',
        status: 'down',
        lastCheck: new Date().toISOString(),
        responseTime: 0,
        errorRate: 100,
        uptime: 10
      };
      const incident = await recoveryStrategies.attemptRecovery(criticalService);

      // Should prioritize restart over alert
      expect([_recoveryStrategies.RecoveryAction.RESTART_SERVICE, _recoveryStrategies.RecoveryAction.ALERT_TEAM]).toContain(incident.action);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVjb3ZlcnlTdHJhdGVnaWVzIiwicmVxdWlyZSIsImdsb2JhbCIsImZldGNoIiwiamVzdCIsImZuIiwiZGVzY3JpYmUiLCJyZWNvdmVyeVN0cmF0ZWdpZXMiLCJiZWZvcmVFYWNoIiwiUmVjb3ZlcnlTdHJhdGVnaWVzIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiZG93blNlcnZpY2UiLCJuYW1lIiwidXJsIiwic3RhdHVzIiwibGFzdENoZWNrIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicmVzcG9uc2VUaW1lIiwiZXJyb3JSYXRlIiwidXB0aW1lIiwiaW5jaWRlbnQiLCJhdHRlbXB0UmVjb3ZlcnkiLCJleHBlY3QiLCJ0b0JlRGVmaW5lZCIsInNlcnZpY2UiLCJ0b0JlIiwiYWN0aW9uIiwiUmVjb3ZlcnlBY3Rpb24iLCJSRVNUQVJUX1NFUlZJQ0UiLCJkZWdyYWRlZFNlcnZpY2UiLCJDSVJDVUlUX0JSRUFLIiwic3VjY2VzcyIsInNsb3dTZXJ2aWNlIiwiU0NBTEVfVVAiLCJSRVJPVVRFX1RSQUZGSUMiLCJ0b0NvbnRhaW4iLCJjcmFzaGVkU2VydmljZSIsInJlY292ZXJ5VGltZSIsInRvQmVHcmVhdGVyVGhhbiIsInRvQmVHcmVhdGVyVGhhbk9yRXF1YWwiLCJwZXJzaXN0ZW50bHlEb3duU2VydmljZSIsIkFMRVJUX1RFQU0iLCJoZWFsdGh5U2VydmljZSIsImRldGFpbHMiLCJkb25lIiwib24iLCJpbmNpZGVudHMiLCJnZXRJbmNpZGVudHMiLCJ0b0hhdmVMZW5ndGgiLCJzdGF0cyIsImdldFN0YXRzIiwidG90YWxJbmNpZGVudHMiLCJzdWNjZXNzZnVsUmVjb3ZlcmllcyIsInN1Y2Nlc3NSYXRlIiwiYXZnUmVjb3ZlcnlUaW1lIiwidG9CZUxlc3NUaGFuT3JFcXVhbCIsImNyaXRpY2FsU2VydmljZSJdLCJzb3VyY2VzIjpbInJlY292ZXJ5LXN0cmF0ZWdpZXMudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWNvdmVyeVN0cmF0ZWdpZXMsIFJlY292ZXJ5QWN0aW9uIH0gZnJvbSAnLi4vc3JjL3JlY292ZXJ5LXN0cmF0ZWdpZXMnO1xyXG5pbXBvcnQgeyBTZXJ2aWNlSGVhbHRoIH0gZnJvbSAnLi4vc3JjL2hlYWx0aC1tb25pdG9yJztcclxuXHJcbi8vIE1vY2sgZmV0Y2ggZ2xvYmFsbHlcclxuZ2xvYmFsLmZldGNoID0gamVzdC5mbigpO1xyXG5cclxuZGVzY3JpYmUoJ1JlY292ZXJ5U3RyYXRlZ2llcycsICgpID0+IHtcclxuICBsZXQgcmVjb3ZlcnlTdHJhdGVnaWVzOiBSZWNvdmVyeVN0cmF0ZWdpZXM7XHJcblxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgcmVjb3ZlcnlTdHJhdGVnaWVzID0gbmV3IFJlY292ZXJ5U3RyYXRlZ2llcygpO1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdBdXRvLVJlY292ZXJ5JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBhdHRlbXB0IHJlY292ZXJ5IGZvciBkb3duIHNlcnZpY2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRvd25TZXJ2aWNlOiBTZXJ2aWNlSGVhbHRoID0ge1xyXG4gICAgICAgIG5hbWU6ICd0ZXN0LXNlcnZpY2UnLFxyXG4gICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsXHJcbiAgICAgICAgc3RhdHVzOiAnZG93bicsXHJcbiAgICAgICAgbGFzdENoZWNrOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgcmVzcG9uc2VUaW1lOiAwLFxyXG4gICAgICAgIGVycm9yUmF0ZTogMCxcclxuICAgICAgICB1cHRpbWU6IDMwXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBpbmNpZGVudCA9IGF3YWl0IHJlY292ZXJ5U3RyYXRlZ2llcy5hdHRlbXB0UmVjb3ZlcnkoZG93blNlcnZpY2UpO1xyXG5cclxuICAgICAgZXhwZWN0KGluY2lkZW50KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoaW5jaWRlbnQuc2VydmljZSkudG9CZSgndGVzdC1zZXJ2aWNlJyk7XHJcbiAgICAgIGV4cGVjdChpbmNpZGVudC5hY3Rpb24pLnRvQmUoUmVjb3ZlcnlBY3Rpb24uUkVTVEFSVF9TRVJWSUNFKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgYXBwbHkgY2lyY3VpdCBicmVha2VyIGZvciBoaWdoIGVycm9yIHJhdGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRlZ3JhZGVkU2VydmljZTogU2VydmljZUhlYWx0aCA9IHtcclxuICAgICAgICBuYW1lOiAndGVzdC1zZXJ2aWNlJyxcclxuICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnLFxyXG4gICAgICAgIHN0YXR1czogJ2RlZ3JhZGVkJyxcclxuICAgICAgICBsYXN0Q2hlY2s6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICByZXNwb25zZVRpbWU6IDEwMDAsXHJcbiAgICAgICAgZXJyb3JSYXRlOiA2MCxcclxuICAgICAgICB1cHRpbWU6IDcwXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBpbmNpZGVudCA9IGF3YWl0IHJlY292ZXJ5U3RyYXRlZ2llcy5hdHRlbXB0UmVjb3ZlcnkoZGVncmFkZWRTZXJ2aWNlKTtcclxuXHJcbiAgICAgIGV4cGVjdChpbmNpZGVudC5hY3Rpb24pLnRvQmUoUmVjb3ZlcnlBY3Rpb24uQ0lSQ1VJVF9CUkVBSyk7XHJcbiAgICAgIGV4cGVjdChpbmNpZGVudC5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBzY2FsZSB1cCBmb3Igc2xvdyByZXNwb25zZSB0aW1lcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc2xvd1NlcnZpY2U6IFNlcnZpY2VIZWFsdGggPSB7XHJcbiAgICAgICAgbmFtZTogJ3Rlc3Qtc2VydmljZScsXHJcbiAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJyxcclxuICAgICAgICBzdGF0dXM6ICdkZWdyYWRlZCcsXHJcbiAgICAgICAgbGFzdENoZWNrOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgcmVzcG9uc2VUaW1lOiA2MDAwLFxyXG4gICAgICAgIGVycm9yUmF0ZTogMTAsXHJcbiAgICAgICAgdXB0aW1lOiA3NVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgaW5jaWRlbnQgPSBhd2FpdCByZWNvdmVyeVN0cmF0ZWdpZXMuYXR0ZW1wdFJlY292ZXJ5KHNsb3dTZXJ2aWNlKTtcclxuXHJcbiAgICAgIGV4cGVjdChpbmNpZGVudC5hY3Rpb24pLnRvQmUoUmVjb3ZlcnlBY3Rpb24uU0NBTEVfVVApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXJvdXRlIHRyYWZmaWMgZm9yIGRlZ3JhZGVkIHNlcnZpY2VzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkZWdyYWRlZFNlcnZpY2U6IFNlcnZpY2VIZWFsdGggPSB7XHJcbiAgICAgICAgbmFtZTogJ3Rlc3Qtc2VydmljZScsXHJcbiAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJyxcclxuICAgICAgICBzdGF0dXM6ICdkZWdyYWRlZCcsXHJcbiAgICAgICAgbGFzdENoZWNrOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgcmVzcG9uc2VUaW1lOiAyMDAwLFxyXG4gICAgICAgIGVycm9yUmF0ZTogMjAsXHJcbiAgICAgICAgdXB0aW1lOiA3MFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgaW5jaWRlbnQgPSBhd2FpdCByZWNvdmVyeVN0cmF0ZWdpZXMuYXR0ZW1wdFJlY292ZXJ5KGRlZ3JhZGVkU2VydmljZSk7XHJcblxyXG4gICAgICBleHBlY3QoW1JlY292ZXJ5QWN0aW9uLlJFUk9VVEVfVFJBRkZJQywgUmVjb3ZlcnlBY3Rpb24uQ0lSQ1VJVF9CUkVBS10pLnRvQ29udGFpbihpbmNpZGVudC5hY3Rpb24pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdTZXJ2aWNlIFJlc3RhcnQnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJlc3RhcnQgY3Jhc2hlZCBzZXJ2aWNlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjcmFzaGVkU2VydmljZTogU2VydmljZUhlYWx0aCA9IHtcclxuICAgICAgICBuYW1lOiAnY3Jhc2hlZC1zZXJ2aWNlJyxcclxuICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnLFxyXG4gICAgICAgIHN0YXR1czogJ2Rvd24nLFxyXG4gICAgICAgIGxhc3RDaGVjazogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIHJlc3BvbnNlVGltZTogMCxcclxuICAgICAgICBlcnJvclJhdGU6IDEwMCxcclxuICAgICAgICB1cHRpbWU6IDBcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IGluY2lkZW50ID0gYXdhaXQgcmVjb3ZlcnlTdHJhdGVnaWVzLmF0dGVtcHRSZWNvdmVyeShjcmFzaGVkU2VydmljZSk7XHJcblxyXG4gICAgICBleHBlY3QoaW5jaWRlbnQuYWN0aW9uKS50b0JlKFJlY292ZXJ5QWN0aW9uLlJFU1RBUlRfU0VSVklDRSk7XHJcbiAgICAgIGV4cGVjdChpbmNpZGVudC5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoaW5jaWRlbnQucmVjb3ZlcnlUaW1lKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJlY29yZCByZWNvdmVyeSB0aW1lJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkb3duU2VydmljZTogU2VydmljZUhlYWx0aCA9IHtcclxuICAgICAgICBuYW1lOiAndGVzdC1zZXJ2aWNlJyxcclxuICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnLFxyXG4gICAgICAgIHN0YXR1czogJ2Rvd24nLFxyXG4gICAgICAgIGxhc3RDaGVjazogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIHJlc3BvbnNlVGltZTogMCxcclxuICAgICAgICBlcnJvclJhdGU6IDAsXHJcbiAgICAgICAgdXB0aW1lOiA0MFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgaW5jaWRlbnQgPSBhd2FpdCByZWNvdmVyeVN0cmF0ZWdpZXMuYXR0ZW1wdFJlY292ZXJ5KGRvd25TZXJ2aWNlKTtcclxuXHJcbiAgICAgIGV4cGVjdChpbmNpZGVudC5yZWNvdmVyeVRpbWUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICAgIGV4cGVjdCh0eXBlb2YgaW5jaWRlbnQucmVjb3ZlcnlUaW1lKS50b0JlKCdudW1iZXInKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnRmFpbG92ZXInLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGFsZXJ0IHRlYW0gZm9yIHBlcnNpc3RlbnQgZmFpbHVyZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBlcnNpc3RlbnRseURvd25TZXJ2aWNlOiBTZXJ2aWNlSGVhbHRoID0ge1xyXG4gICAgICAgIG5hbWU6ICd0ZXN0LXNlcnZpY2UnLFxyXG4gICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsXHJcbiAgICAgICAgc3RhdHVzOiAnZG93bicsXHJcbiAgICAgICAgbGFzdENoZWNrOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgcmVzcG9uc2VUaW1lOiAwLFxyXG4gICAgICAgIGVycm9yUmF0ZTogMTAwLFxyXG4gICAgICAgIHVwdGltZTogMTBcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IGluY2lkZW50ID0gYXdhaXQgcmVjb3ZlcnlTdHJhdGVnaWVzLmF0dGVtcHRSZWNvdmVyeShwZXJzaXN0ZW50bHlEb3duU2VydmljZSk7XHJcblxyXG4gICAgICBleHBlY3QoaW5jaWRlbnQuYWN0aW9uKS50b0JlKFJlY292ZXJ5QWN0aW9uLkFMRVJUX1RFQU0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbm8gYXBwbGljYWJsZSBzdHJhdGVneScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgaGVhbHRoeVNlcnZpY2U6IFNlcnZpY2VIZWFsdGggPSB7XHJcbiAgICAgICAgbmFtZTogJ3Rlc3Qtc2VydmljZScsXHJcbiAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJyxcclxuICAgICAgICBzdGF0dXM6ICdoZWFsdGh5JyxcclxuICAgICAgICBsYXN0Q2hlY2s6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICByZXNwb25zZVRpbWU6IDEwMCxcclxuICAgICAgICBlcnJvclJhdGU6IDAsXHJcbiAgICAgICAgdXB0aW1lOiAxMDBcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IGluY2lkZW50ID0gYXdhaXQgcmVjb3ZlcnlTdHJhdGVnaWVzLmF0dGVtcHRSZWNvdmVyeShoZWFsdGh5U2VydmljZSk7XHJcblxyXG4gICAgICBleHBlY3QoaW5jaWRlbnQuc3VjY2VzcykudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChpbmNpZGVudC5kZXRhaWxzKS50b0NvbnRhaW4oJ05vIGFwcGxpY2FibGUgcmVjb3Zlcnkgc3RyYXRlZ3knKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUmVjb3ZlcnkgRXZlbnRzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBlbWl0IHJlY292ZXJ5LWF0dGVtcHRlZCBldmVudCcsIChkb25lKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRvd25TZXJ2aWNlOiBTZXJ2aWNlSGVhbHRoID0ge1xyXG4gICAgICAgIG5hbWU6ICd0ZXN0LXNlcnZpY2UnLFxyXG4gICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsXHJcbiAgICAgICAgc3RhdHVzOiAnZG93bicsXHJcbiAgICAgICAgbGFzdENoZWNrOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgcmVzcG9uc2VUaW1lOiAwLFxyXG4gICAgICAgIGVycm9yUmF0ZTogMCxcclxuICAgICAgICB1cHRpbWU6IDMwXHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZWNvdmVyeVN0cmF0ZWdpZXMub24oJ3JlY292ZXJ5LWF0dGVtcHRlZCcsIChpbmNpZGVudCkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChpbmNpZGVudCkudG9CZURlZmluZWQoKTtcclxuICAgICAgICBleHBlY3QoaW5jaWRlbnQuc2VydmljZSkudG9CZSgndGVzdC1zZXJ2aWNlJyk7XHJcbiAgICAgICAgZG9uZSgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJlY292ZXJ5U3RyYXRlZ2llcy5hdHRlbXB0UmVjb3ZlcnkoZG93blNlcnZpY2UpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdSZWNvdmVyeSBTdGF0aXN0aWNzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayByZWNvdmVyeSBpbmNpZGVudHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRvd25TZXJ2aWNlOiBTZXJ2aWNlSGVhbHRoID0ge1xyXG4gICAgICAgIG5hbWU6ICd0ZXN0LXNlcnZpY2UnLFxyXG4gICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsXHJcbiAgICAgICAgc3RhdHVzOiAnZG93bicsXHJcbiAgICAgICAgbGFzdENoZWNrOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgcmVzcG9uc2VUaW1lOiAwLFxyXG4gICAgICAgIGVycm9yUmF0ZTogMCxcclxuICAgICAgICB1cHRpbWU6IDMwXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhd2FpdCByZWNvdmVyeVN0cmF0ZWdpZXMuYXR0ZW1wdFJlY292ZXJ5KGRvd25TZXJ2aWNlKTtcclxuICAgICAgYXdhaXQgcmVjb3ZlcnlTdHJhdGVnaWVzLmF0dGVtcHRSZWNvdmVyeShkb3duU2VydmljZSk7XHJcblxyXG4gICAgICBjb25zdCBpbmNpZGVudHMgPSByZWNvdmVyeVN0cmF0ZWdpZXMuZ2V0SW5jaWRlbnRzKCk7XHJcbiAgICAgIGV4cGVjdChpbmNpZGVudHMpLnRvSGF2ZUxlbmd0aCgyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIHJlY292ZXJ5IHN0YXRpc3RpY3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRvd25TZXJ2aWNlOiBTZXJ2aWNlSGVhbHRoID0ge1xyXG4gICAgICAgIG5hbWU6ICd0ZXN0LXNlcnZpY2UnLFxyXG4gICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsXHJcbiAgICAgICAgc3RhdHVzOiAnZG93bicsXHJcbiAgICAgICAgbGFzdENoZWNrOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgcmVzcG9uc2VUaW1lOiAwLFxyXG4gICAgICAgIGVycm9yUmF0ZTogMCxcclxuICAgICAgICB1cHRpbWU6IDMwXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhd2FpdCByZWNvdmVyeVN0cmF0ZWdpZXMuYXR0ZW1wdFJlY292ZXJ5KGRvd25TZXJ2aWNlKTtcclxuXHJcbiAgICAgIGNvbnN0IHN0YXRzID0gcmVjb3ZlcnlTdHJhdGVnaWVzLmdldFN0YXRzKCk7XHJcbiAgICAgIGV4cGVjdChzdGF0cy50b3RhbEluY2lkZW50cykudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3Qoc3RhdHMuc3VjY2Vzc2Z1bFJlY292ZXJpZXMpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICAgIGV4cGVjdChzdGF0cy5zdWNjZXNzUmF0ZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KHN0YXRzLmF2Z1JlY292ZXJ5VGltZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIHN1Y2Nlc3MgcmF0ZSBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRvd25TZXJ2aWNlOiBTZXJ2aWNlSGVhbHRoID0ge1xyXG4gICAgICAgIG5hbWU6ICd0ZXN0LXNlcnZpY2UnLFxyXG4gICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsXHJcbiAgICAgICAgc3RhdHVzOiAnZG93bicsXHJcbiAgICAgICAgbGFzdENoZWNrOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgcmVzcG9uc2VUaW1lOiAwLFxyXG4gICAgICAgIGVycm9yUmF0ZTogMCxcclxuICAgICAgICB1cHRpbWU6IDMwXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhd2FpdCByZWNvdmVyeVN0cmF0ZWdpZXMuYXR0ZW1wdFJlY292ZXJ5KGRvd25TZXJ2aWNlKTtcclxuICAgICAgYXdhaXQgcmVjb3ZlcnlTdHJhdGVnaWVzLmF0dGVtcHRSZWNvdmVyeShkb3duU2VydmljZSk7XHJcblxyXG4gICAgICBjb25zdCBzdGF0cyA9IHJlY292ZXJ5U3RyYXRlZ2llcy5nZXRTdGF0cygpO1xyXG4gICAgICBleHBlY3Qoc3RhdHMuc3VjY2Vzc1JhdGUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICAgIGV4cGVjdChzdGF0cy5zdWNjZXNzUmF0ZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdTdHJhdGVneSBQcmlvcml0eScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgYXBwbHkgaGlnaGVzdCBwcmlvcml0eSBzdHJhdGVneSBmaXJzdCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgY3JpdGljYWxTZXJ2aWNlOiBTZXJ2aWNlSGVhbHRoID0ge1xyXG4gICAgICAgIG5hbWU6ICd0ZXN0LXNlcnZpY2UnLFxyXG4gICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsXHJcbiAgICAgICAgc3RhdHVzOiAnZG93bicsXHJcbiAgICAgICAgbGFzdENoZWNrOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgcmVzcG9uc2VUaW1lOiAwLFxyXG4gICAgICAgIGVycm9yUmF0ZTogMTAwLFxyXG4gICAgICAgIHVwdGltZTogMTBcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IGluY2lkZW50ID0gYXdhaXQgcmVjb3ZlcnlTdHJhdGVnaWVzLmF0dGVtcHRSZWNvdmVyeShjcml0aWNhbFNlcnZpY2UpO1xyXG5cclxuICAgICAgLy8gU2hvdWxkIHByaW9yaXRpemUgcmVzdGFydCBvdmVyIGFsZXJ0XHJcbiAgICAgIGV4cGVjdChbUmVjb3ZlcnlBY3Rpb24uUkVTVEFSVF9TRVJWSUNFLCBSZWNvdmVyeUFjdGlvbi5BTEVSVF9URUFNXSkudG9Db250YWluKGluY2lkZW50LmFjdGlvbik7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxtQkFBQSxHQUFBQyxPQUFBO0FBR0E7QUFDQUMsTUFBTSxDQUFDQyxLQUFLLEdBQUdDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7QUFFeEJDLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxNQUFNO0VBQ25DLElBQUlDLGtCQUFzQztFQUUxQ0MsVUFBVSxDQUFDLE1BQU07SUFDZkQsa0JBQWtCLEdBQUcsSUFBSUUsc0NBQWtCLENBQUMsQ0FBQztJQUM3Q0wsSUFBSSxDQUFDTSxhQUFhLENBQUMsQ0FBQztFQUN0QixDQUFDLENBQUM7RUFFRkosUUFBUSxDQUFDLGVBQWUsRUFBRSxNQUFNO0lBQzlCSyxFQUFFLENBQUMsMENBQTBDLEVBQUUsWUFBWTtNQUN6RCxNQUFNQyxXQUEwQixHQUFHO1FBQ2pDQyxJQUFJLEVBQUUsY0FBYztR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