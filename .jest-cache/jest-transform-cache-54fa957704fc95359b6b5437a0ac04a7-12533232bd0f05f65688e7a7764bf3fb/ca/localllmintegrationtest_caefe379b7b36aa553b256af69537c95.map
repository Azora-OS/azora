{"version":3,"names":["_localLlmService","require","_types","_queryClassifier","describe","llmService","classifier","beforeEach","LocalLLMService","QueryClassifier","initialize","afterEach","unload","it","classification","classify","query","expect","classifiedAs","toBe","QueryComplexity","SIMPLE","routedTo","RoutingTier","LOCAL_LLM","response","processQuery","cost","routingTier","response1","cached","response2","responseTime","toBeLessThan"],"sources":["local-llm-integration.test.ts"],"sourcesContent":["/**\r\n * Local LLM Service Integration Tests\r\n */\r\n\r\nimport { LocalLLMService } from '../local-llm-service';\r\nimport { RoutingTier, QueryComplexity } from '../types';\r\nimport { QueryClassifier } from '../query-classifier';\r\n\r\ndescribe('LocalLLMService Integration', () => {\r\n  let llmService: LocalLLMService;\r\n  let classifier: QueryClassifier;\r\n\r\n  beforeEach(async () => {\r\n    llmService = new LocalLLMService();\r\n    classifier = new QueryClassifier();\r\n    await llmService.initialize();\r\n  });\r\n\r\n  afterEach(async () => {\r\n    await llmService.unload();\r\n  });\r\n\r\n  it('should route simple queries to Local LLM', async () => {\r\n    const classification = await classifier.classify({\r\n      query: 'What is Azora?'\r\n    });\r\n\r\n    expect(classification.classifiedAs).toBe(QueryComplexity.SIMPLE);\r\n    expect(classification.routedTo).toBe(RoutingTier.LOCAL_LLM);\r\n  });\r\n\r\n  it('should process queries with zero cost', async () => {\r\n    const response = await llmService.processQuery({\r\n      query: 'Test query'\r\n    });\r\n\r\n    expect(response.cost).toBe(0);\r\n    expect(response.routingTier).toBe(RoutingTier.LOCAL_LLM);\r\n  });\r\n\r\n  it('should cache responses efficiently', async () => {\r\n    const query = 'Cache test';\r\n\r\n    const response1 = await llmService.processQuery({ query });\r\n    expect(response1.cached).toBe(false);\r\n\r\n    const response2 = await llmService.processQuery({ query });\r\n    expect(response2.cached).toBe(true);\r\n  });\r\n\r\n  it('should complete within performance targets', async () => {\r\n    const response = await llmService.processQuery({\r\n      query: 'Performance test'\r\n    });\r\n\r\n    expect(response.responseTime).toBeLessThan(500);\r\n  });\r\n});\r\n"],"mappings":";;AAIA,IAAAA,gBAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AACA,IAAAE,gBAAA,GAAAF,OAAA;AANA;AACA;AACA;;AAMAG,QAAQ,CAAC,6BAA6B,EAAE,MAAM;EAC5C,IAAIC,UAA2B;EAC/B,IAAIC,UAA2B;EAE/BC,UAAU,CAAC,YAAY;IACrBF,UAAU,GAAG,IAAIG,gCAAe,CAAC,CAAC;IAClCF,UAAU,GAAG,IAAIG,gCAAe,CAAC,CAAC;IAClC,MAAMJ,UAAU,CAACK,UAAU,CAAC,CAAC;EAC/B,CAAC,CAAC;EAEFC,SAAS,CAAC,YAAY;IACpB,MAAMN,UAAU,CAACO,MAAM,CAAC,CAAC;EAC3B,CAAC,CAAC;EAEFC,EAAE,CAAC,0CAA0C,EAAE,YAAY;IACzD,MAAMC,cAAc,GAAG,MAAMR,UAAU,CAACS,QAAQ,CAAC;MAC/CC,KAAK,EAAE;IACT,CAAC,CAAC;IAEFC,MAAM,CAACH,cAAc,CAACI,YAAY,CAAC,CAACC,IAAI,CAACC,sBAAe,CAACC,MAAM,CAAC;IAChEJ,MAAM,CAACH,cAAc,CAACQ,QAAQ,CAAC,CAACH,IAAI,CAACI,kBAAW,CAACC,SAAS,CAAC;EAC7D,CAAC,CAAC;EAEFX,EAAE,CAAC,uCAAuC,EAAE,YAAY;IACtD,MAAMY,QAAQ,GAAG,MAAMpB,UAAU,CAACqB,YAAY,CAAC;MAC7CV,KAAK,EAAE;IACT,CAAC,CAAC;IAEFC,MAAM,CAACQ,QAAQ,CAACE,IAAI,CAAC,CAACR,IAAI,CAAC,CAAC,CAAC;IAC7BF,MAAM,CAACQ,QAAQ,CAACG,WAAW,CAAC,CAACT,IAAI,CAACI,kBAAW,CAACC,SAAS,CAAC;EAC1D,CAAC,CAAC;EAEFX,EAAE,CAAC,oCAAoC,EAAE,YAAY;IACnD,MAAMG,KAAK,GAAG,YAAY;IAE1B,MAAMa,SAAS,GAAG,MAAMxB,UAAU,CAACqB,YAAY,CAAC;MAAEV;IAAM,CAAC,CAAC;IAC1DC,MAAM,CAACY,SAAS,CAACC,MAAM,CAAC,CAACX,IAAI,CAAC,KAAK,CAAC;IAEpC,MAAMY,SAAS,GAAG,MAAM1B,UAAU,CAACqB,YAAY,CAAC;MAAEV;IAAM,CAAC,CAAC;IAC1DC,MAAM,CAACc,SAAS,CAACD,MAAM,CAAC,CAACX,IAAI,CAAC,IAAI,CAAC;EACrC,CAAC,CAAC;EAEFN,EAAE,CAAC,4CAA4C,EAAE,YAAY;IAC3D,MAAMY,QAAQ,GAAG,MAAMpB,UAAU,CAACqB,YAAY,CAAC;MAC7CV,KAAK,EAAE;IACT,CAAC,CAAC;IAEFC,MAAM,CAACQ,QAAQ,CAACO,YAAY,CAAC,CAACC,YAAY,CAAC,GAAG,CAAC;EACjD,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}