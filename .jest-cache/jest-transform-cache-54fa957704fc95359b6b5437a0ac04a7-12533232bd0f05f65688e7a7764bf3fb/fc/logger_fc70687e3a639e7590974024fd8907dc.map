{"version":3,"names":["_winston","_interopRequireDefault","require","e","__esModule","default","cov_pmkng0bgp","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","s","f","b","_coverageSchema","coverage","actualCoverage","levels","error","warn","info","http","debug","colors","winston","addColors","format","combine","timestamp","colorize","all","printf","level","message","transports","Console","File","filename","logger","exports","createLogger","process","env","LOG_LEVEL"],"sources":["logger.ts"],"sourcesContent":["import winston from 'winston';\r\n\r\nconst levels = {\r\n  error: 0,\r\n  warn: 1,\r\n  info: 2,\r\n  http: 3,\r\n  debug: 4,\r\n};\r\n\r\nconst colors = {\r\n  error: 'red',\r\n  warn: 'yellow',\r\n  info: 'green',\r\n  http: 'magenta',\r\n  debug: 'white',\r\n};\r\n\r\nwinston.addColors(colors);\r\n\r\nconst format = winston.format.combine(\r\n  winston.format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss:ms' }),\r\n  winston.format.colorize({ all: true }),\r\n  winston.format.printf(\r\n    (info) => `${info.timestamp} ${info.level}: ${info.message}`,\r\n  ),\r\n);\r\n\r\nconst transports = [\r\n  new winston.transports.Console(),\r\n  new winston.transports.File({\r\n    filename: 'logs/error.log',\r\n    level: 'error',\r\n  }),\r\n  new winston.transports.File({ filename: 'logs/all.log' }),\r\n];\r\n\r\nexport const logger = winston.createLogger({\r\n  level: process.env.LOG_LEVEL || 'debug',\r\n  levels,\r\n  format,\r\n  transports,\r\n});\r\n"],"mappings":"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","ignoreList":[]}