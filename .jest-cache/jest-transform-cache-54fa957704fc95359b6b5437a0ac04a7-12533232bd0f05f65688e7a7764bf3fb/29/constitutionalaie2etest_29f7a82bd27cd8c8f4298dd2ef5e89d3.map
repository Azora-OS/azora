{"version":3,"names":["request","require","app","describe","it","health","get","expect","body","status","toBe","info","service","ubuntu","checks","i","res","push","Promise","resolve","setTimeout","uptime","filter","Boolean","length","toBeGreaterThan"],"sources":["constitutional-ai.e2e.test.js"],"sourcesContent":["const request = require('supertest');\nconst app = require('../server');\n\ndescribe('constitutional-ai E2E Tests', () => {\n  it('should complete full user workflow', async () => {\n    // Health check\n    const health = await request(app).get('/health').expect(200);\n    expect(health.body.status).toBe('healthy');\n\n    // Service info\n    const info = await request(app).get('/').expect(200);\n    expect(info.body.service).toBe('constitutional-ai');\n\n    // Ubuntu philosophy check\n    expect(info.body.ubuntu).toBe('I serve because we prosper together');\n  });\n\n  it('should maintain service availability', async () => {\n    const checks = [];\n    for (let i = 0; i < 60; i++) {\n      const res = await request(app).get('/health');\n      checks.push(res.status === 200);\n      await new Promise(resolve => setTimeout(resolve, 1000));\n    }\n    const uptime = checks.filter(Boolean).length / checks.length;\n    expect(uptime).toBeGreaterThan(0.99); // 99% uptime\n  });\n});"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,WAAW,CAAC;AACpC,MAAMC,GAAG,GAAGD,OAAO,CAAC,WAAW,CAAC;AAEhCE,QAAQ,CAAC,6BAA6B,EAAE,MAAM;EAC5CC,EAAE,CAAC,oCAAoC,EAAE,YAAY;IACnD;IACA,MAAMC,MAAM,GAAG,MAAML,OAAO,CAACE,GAAG,CAAC,CAACI,GAAG,CAAC,SAAS,CAAC,CAACC,MAAM,CAAC,GAAG,CAAC;IAC5DA,MAAM,CAACF,MAAM,CAACG,IAAI,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,SAAS,CAAC;;IAE1C;IACA,MAAMC,IAAI,GAAG,MAAMX,OAAO,CAACE,GAAG,CAAC,CAACI,GAAG,CAAC,GAAG,CAAC,CAACC,MAAM,CAAC,GAAG,CAAC;IACpDA,MAAM,CAACI,IAAI,CAACH,IAAI,CAACI,OAAO,CAAC,CAACF,IAAI,CAAC,mBAAmB,CAAC;;IAEnD;IACAH,MAAM,CAACI,IAAI,CAACH,IAAI,CAACK,MAAM,CAAC,CAACH,IAAI,CAAC,qCAAqC,CAAC;EACtE,CAAC,CAAC;EAEFN,EAAE,CAAC,sCAAsC,EAAE,YAAY;IACrD,MAAMU,MAAM,GAAG,EAAE;IACjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAEA,CAAC,EAAE,EAAE;MAC3B,MAAMC,GAAG,GAAG,MAAMhB,OAAO,CAACE,GAAG,CAAC,CAACI,GAAG,CAAC,SAAS,CAAC;MAC7CQ,MAAM,CAACG,IAAI,CAACD,GAAG,CAACP,MAAM,KAAK,GAAG,CAAC;MAC/B,MAAM,IAAIS,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,IAAI,CAAC,CAAC;IACzD;IACA,MAAME,MAAM,GAAGP,MAAM,CAACQ,MAAM,CAACC,OAAO,CAAC,CAACC,MAAM,GAAGV,MAAM,CAACU,MAAM;IAC5DjB,MAAM,CAACc,MAAM,CAAC,CAACI,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;EACxC,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}