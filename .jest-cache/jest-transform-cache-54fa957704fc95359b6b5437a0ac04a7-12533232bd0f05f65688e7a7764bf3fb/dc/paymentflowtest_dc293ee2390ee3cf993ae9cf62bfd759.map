{"version":3,"names":["apiClient","require","describe","userId","token","beforeAll","auth","login","user","id","accessToken","setToken","test","payment","payments","createPayment","expect","clientSecret","toBeDefined","wallet","getBalance","balance","toBeGreaterThanOrEqual","transactions","getTransactions","Array","isArray","toBe"],"sources":["payment-flow.test.js"],"sourcesContent":["const { apiClient } = require('../../packages/api-client');\n\ndescribe('Payment Flow Integration', () => {\n  let userId, token;\n\n  beforeAll(async () => {\n    const auth = await apiClient.auth.login('test@azora.world', 'password');\n    userId = auth.user.id;\n    token = auth.accessToken;\n    apiClient.setToken(token);\n  });\n\n  test('should create payment intent', async () => {\n    const payment = await apiClient.payments.createPayment(50.00, 'usd', userId);\n    expect(payment.clientSecret).toBeDefined();\n    expect(payment.id).toBeDefined();\n  });\n\n  test('should fetch wallet balance', async () => {\n    const wallet = await apiClient.wallet.getBalance();\n    expect(wallet.balance).toBeGreaterThanOrEqual(0);\n  });\n\n  test('should fetch transaction history', async () => {\n    const transactions = await apiClient.wallet.getTransactions();\n    expect(Array.isArray(transactions)).toBe(true);\n  });\n});\n"],"mappings":";;AAAA,MAAM;EAAEA;AAAU,CAAC,GAAGC,OAAO,CAAC,2BAA2B,CAAC;AAE1DC,QAAQ,CAAC,0BAA0B,EAAE,MAAM;EACzC,IAAIC,MAAM,EAAEC,KAAK;EAEjBC,SAAS,CAAC,YAAY;IACpB,MAAMC,IAAI,GAAG,MAAMN,SAAS,CAACM,IAAI,CAACC,KAAK,CAAC,kBAAkB,EAAE,UAAU,CAAC;IACvEJ,MAAM,GAAGG,IAAI,CAACE,IAAI,CAACC,EAAE;IACrBL,KAAK,GAAGE,IAAI,CAACI,WAAW;IACxBV,SAAS,CAACW,QAAQ,CAACP,KAAK,CAAC;EAC3B,CAAC,CAAC;EAEFQ,IAAI,CAAC,8BAA8B,EAAE,YAAY;IAC/C,MAAMC,OAAO,GAAG,MAAMb,SAAS,CAACc,QAAQ,CAACC,aAAa,CAAC,KAAK,EAAE,KAAK,EAAEZ,MAAM,CAAC;IAC5Ea,MAAM,CAACH,OAAO,CAACI,YAAY,CAAC,CAACC,WAAW,CAAC,CAAC;IAC1CF,MAAM,CAACH,OAAO,CAACJ,EAAE,CAAC,CAACS,WAAW,CAAC,CAAC;EAClC,CAAC,CAAC;EAEFN,IAAI,CAAC,6BAA6B,EAAE,YAAY;IAC9C,MAAMO,MAAM,GAAG,MAAMnB,SAAS,CAACmB,MAAM,CAACC,UAAU,CAAC,CAAC;IAClDJ,MAAM,CAACG,MAAM,CAACE,OAAO,CAAC,CAACC,sBAAsB,CAAC,CAAC,CAAC;EAClD,CAAC,CAAC;EAEFV,IAAI,CAAC,kCAAkC,EAAE,YAAY;IACnD,MAAMW,YAAY,GAAG,MAAMvB,SAAS,CAACmB,MAAM,CAACK,eAAe,CAAC,CAAC;IAC7DR,MAAM,CAACS,KAAK,CAACC,OAAO,CAACH,YAAY,CAAC,CAAC,CAACI,IAAI,CAAC,IAAI,CAAC;EAChD,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}