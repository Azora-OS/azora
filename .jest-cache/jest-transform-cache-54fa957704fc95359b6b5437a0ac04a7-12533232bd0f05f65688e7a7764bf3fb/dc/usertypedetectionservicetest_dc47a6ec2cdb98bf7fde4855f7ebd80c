27160253b949aa31c284752d8eb25c9e
"use strict";

var _userTypeDetection = require("../services/user-type-detection.service");
/**
 * User Type Detection Service Tests
 * 
 * Tests for user type detection and verification logic
 */

describe('UserTypeDetectionService', () => {
  let service;
  beforeEach(() => {
    service = new _userTypeDetection.UserTypeDetectionService();
  });
  describe('detectUserType', () => {
    it('should detect student from .edu email', async () => {
      const profile = {
        firstName: 'John',
        lastName: 'Doe',
        email: 'john@university.edu',
        learningGoals: ['Learn programming']
      };
      const result = await service.detectUserType(profile);
      expect(result.userType).toBe('student');
      expect(result.confidence).toBeGreaterThan(0.5);
      expect(result.evidence).toContain('Has .edu email address');
    });
    it('should detect student from learning goals', async () => {
      const profile = {
        firstName: 'Jane',
        lastName: 'Smith',
        email: 'jane@example.com',
        learningGoals: ['Master web development', 'Learn React'],
        interests: ['Technology', 'Programming']
      };
      const result = await service.detectUserType(profile);
      expect(result.userType).toBe('student');
      expect(result.confidence).toBeGreaterThan(0);
      expect(result.evidence).toContain('Has learning goals');
    });
    it('should detect teacher from credentials and institution', async () => {
      const profile = {
        firstName: 'Dr',
        lastName: 'Professor',
        email: 'prof@university.edu',
        institution: 'MIT',
        credentials: ['PhD in Computer Science', 'Teaching Certificate'],
        bio: 'I am a professor and educator'
      };
      const result = await service.detectUserType(profile);
      expect(result.userType).toBe('teacher');
      expect(result.confidence).toBeGreaterThan(0.4);
      expect(result.evidence).toContain('Has education credentials');
    });
    it('should detect researcher from institution and research keywords', async () => {
      const profile = {
        firstName: 'Dr',
        lastName: 'Researcher',
        email: 'researcher@university.edu',
        institution: 'Stanford',
        expertise: ['Machine Learning', 'AI'],
        bio: 'I conduct research in artificial intelligence'
      };
      const result = await service.detectUserType(profile);
      expect(result.userType).toBe('researcher');
      expect(result.confidence).toBeGreaterThan(0.4);
      expect(result.evidence).toContain('Bio mentions research activity');
    });
    it('should detect professional from LinkedIn and job title', async () => {
      const profile = {
        firstName: 'John',
        lastName: 'Professional',
        email: 'john@company.com',
        linkedIn: 'https://linkedin.com/in/johnprofessional',
        companyName: 'Tech Corp',
        jobTitle: 'Senior Software Engineer',
        bio: 'Working as a professional in tech industry'
      };
      const result = await service.detectUserType(profile);
      expect(result.userType).toBe('professional');
      expect(result.confidence).toBeGreaterThan(0.3);
      expect(result.evidence).toContain('Has LinkedIn profile');
    });
    it('should detect enterprise from large company size', async () => {
      const profile = {
        firstName: 'Jane',
        lastName: 'Manager',
        email: 'jane@bigcorp.com',
        companyName: 'Big Corporation',
        companySize: 5000,
        industry: 'Technology',
        jobTitle: 'VP of Engineering'
      };
      const result = await service.detectUserType(profile);
      expect(result.userType).toBe('enterprise');
      expect(result.confidence).toBeGreaterThan(0.4);
      expect(result.evidence).toContain('Large company size');
    });
    it('should detect non-profit from tax ID', async () => {
      const profile = {
        firstName: 'Alice',
        lastName: 'Director',
        email: 'alice@nonprofit.org',
        taxId: '12-3456789',
        bio: 'Director of a non-profit organization'
      };
      const result = await service.detectUserType(profile);
      expect(result.userType).toBe('non-profit');
      expect(result.confidence).toBeGreaterThan(0.3);
      expect(result.evidence).toContain('Has tax ID');
    });
    it('should detect government from agency type and jurisdiction', async () => {
      const profile = {
        firstName: 'Bob',
        lastName: 'Officer',
        email: 'bob@state.gov',
        agencyType: 'State Education Department',
        jurisdiction: 'California',
        bio: 'Government official'
      };
      const result = await service.detectUserType(profile);
      expect(result.userType).toBe('government');
      expect(result.confidence).toBeGreaterThan(0.3);
      expect(result.evidence).toContain('Has agency type');
    });
    it('should detect founder from expertise and bio', async () => {
      const profile = {
        firstName: 'Sarah',
        lastName: 'Founder',
        email: 'sarah@startup.com',
        expertise: ['Product Management', 'Entrepreneurship'],
        bio: 'I am launching an innovative educational platform'
      };
      const result = await service.detectUserType(profile);
      expect(result.userType).toBe('founder');
      expect(result.confidence).toBeGreaterThan(0.3);
      expect(result.evidence).toContain('Bio mentions entrepreneurial activity');
    });
    it('should throw error when unable to detect user type', async () => {
      const profile = {
        firstName: 'Unknown',
        lastName: 'User',
        email: 'unknown@example.com'
      };
      await expect(service.detectUserType(profile)).rejects.toThrow('Unable to detect user type from provided information');
    });
    it('should require verification for high confidence detections', async () => {
      const profile = {
        firstName: 'John',
        lastName: 'Doe',
        email: 'john@university.edu',
        learningGoals: ['Learn programming'],
        interests: ['Technology']
      };
      const result = await service.detectUserType(profile);
      expect(result.requiresVerification).toBe(true);
      expect(result.verificationMethod).toBeDefined();
    });
  });
  describe('verifyUserType', () => {
    it('should verify student with .edu email', async () => {
      const profile = {
        firstName: 'John',
        lastName: 'Doe',
        email: 'john@university.edu'
      };
      const result = await service.verifyUserType('student', profile);
      expect(result.verified).toBe(true);
      expect(result.userType).toBe('student');
      expect(result.verificationMethod).toBe('student_verification');
    });
    it('should fail to verify student without .edu email', async () => {
      const profile = {
        firstName: 'John',
        lastName: 'Doe',
        email: 'john@example.com'
      };
      const result = await service.verifyUserType('student', profile);
      expect(result.verified).toBe(false);
    });
    it('should verify teacher with institution and credentials', async () => {
      const profile = {
        firstName: 'Dr',
        lastName: 'Professor',
        email: 'prof@university.edu',
        institution: 'MIT',
        credentials: ['PhD in Computer Science']
      };
      const result = await service.verifyUserType('teacher', profile);
      expect(result.verified).toBe(true);
      expect(result.userType).toBe('teacher');
      expect(result.verificationMethod).toBe('credential_verification');
    });
    it('should verify researcher with institution', async () => {
      const profile = {
        firstName: 'Dr',
        lastName: 'Researcher',
        email: 'researcher@university.edu',
        institution: 'Stanford'
      };
      const result = await service.verifyUserType('researcher', profile);
      expect(result.verified).toBe(true);
      expect(result.userType).toBe('researcher');
      expect(result.verificationMethod).toBe('affiliation_verification');
    });
    it('should verify professional with LinkedIn or company info', async () => {
      const profile = {
        firstName: 'John',
        lastName: 'Professional',
        email: 'john@company.com',
        linkedIn: 'https://linkedin.com/in/johnprofessional'
      };
      const result = await service.verifyUserType('professional', profile);
      expect(result.verified).toBe(true);
      expect(result.userType).toBe('professional');
      expect(result.verificationMethod).toBe('linkedin_verification');
    });
    it('should verify enterprise with company size', async () => {
      const profile = {
        firstName: 'Jane',
        lastName: 'Manager',
        email: 'jane@bigcorp.com',
        companyName: 'Big Corporation',
        companySize: 5000
      };
      const result = await service.verifyUserType('enterprise', profile);
      expect(result.verified).toBe(true);
      expect(result.userType).toBe('enterprise');
      expect(result.verificationMethod).toBe('business_verification');
    });
    it('should verify non-profit with tax ID', async () => {
      const profile = {
        firstName: 'Alice',
        lastName: 'Director',
        email: 'alice@nonprofit.org',
        taxId: '12-3456789'
      };
      const result = await service.verifyUserType('non-profit', profile);
      expect(result.verified).toBe(true);
      expect(result.userType).toBe('non-profit');
      expect(result.verificationMethod).toBe('nonprofit_verification');
    });
    it('should verify government with agency type and jurisdiction', async () => {
      const profile = {
        firstName: 'Bob',
        lastName: 'Officer',
        email: 'bob@state.gov',
        agencyType: 'State Education Department',
        jurisdiction: 'California'
      };
      const result = await service.verifyUserType('government', profile);
      expect(result.verified).toBe(true);
      expect(result.userType).toBe('government');
      expect(result.verificationMethod).toBe('government_verification');
    });
    it('should verify founder with basic info', async () => {
      const profile = {
        firstName: 'Sarah',
        lastName: 'Founder',
        email: 'sarah@startup.com'
      };
      const result = await service.verifyUserType('founder', profile);
      expect(result.verified).toBe(true);
      expect(result.userType).toBe('founder');
      expect(result.verificationMethod).toBe('kyc_aml');
    });
    it('should throw error for unknown user type', async () => {
      const profile = {
        firstName: 'John',
        lastName: 'Doe',
        email: 'john@example.com'
      };
      await expect(service.verifyUserType('unknown', profile)).rejects.toThrow('Unknown user type: unknown');
    });
    it('should include timestamp in verification result', async () => {
      const profile = {
        firstName: 'John',
        lastName: 'Doe',
        email: 'john@university.edu'
      };
      const result = await service.verifyUserType('student', profile);
      expect(result.timestamp).toBeInstanceOf(Date);
    });
    it('should include details in verification result', async () => {
      const profile = {
        firstName: 'John',
        lastName: 'Doe',
        email: 'john@university.edu'
      };
      const result = await service.verifyUserType('student', profile);
      expect(result.details).toBeDefined();
      expect(result.details.method).toBe('student_verification');
    });
  });
  describe('edge cases', () => {
    it('should handle profile with minimal information', async () => {
      const profile = {
        firstName: 'John',
        lastName: 'Doe',
        email: 'john@example.com'
      };
      await expect(service.detectUserType(profile)).rejects.toThrow();
    });
    it('should prioritize higher confidence detections', async () => {
      const profile = {
        firstName: 'John',
        lastName: 'Doe',
        email: 'john@university.edu',
        learningGoals: ['Learn programming'],
        expertise: ['Teaching'],
        credentials: ['Teaching Certificate']
      };
      const result = await service.detectUserType(profile);

      // Should detect as student due to .edu email (highest confidence)
      expect(result.userType).toBe('student');
    });
    it('should handle case-insensitive keyword matching', async () => {
      const profile = {
        firstName: 'Dr',
        lastName: 'Professor',
        email: 'prof@university.edu',
        institution: 'MIT',
        credentials: ['PhD'],
        bio: 'I am a PROFESSOR and EDUCATOR at the university'
      };
      const result = await service.detectUserType(profile);
      expect(result.userType).toBe('teacher');
      expect(result.evidence).toContain('Bio mentions teaching role');
    });
    it('should handle multiple evidence points', async () => {
      const profile = {
        firstName: 'Dr',
        lastName: 'Researcher',
        email: 'researcher@university.edu',
        institution: 'Stanford',
        expertise: ['Machine Learning'],
        bio: 'I conduct academic research in AI',
        jobTitle: 'Research Scientist'
      };
      const result = await service.detectUserType(profile);
      expect(result.evidence.length).toBeGreaterThan(1);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlclR5cGVEZXRlY3Rpb24iLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJzZXJ2aWNlIiwiYmVmb3JlRWFjaCIsIlVzZXJUeXBlRGV0ZWN0aW9uU2VydmljZSIsIml0IiwicHJvZmlsZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJsZWFybmluZ0dvYWxzIiwicmVzdWx0IiwiZGV0ZWN0VXNlclR5cGUiLCJleHBlY3QiLCJ1c2VyVHlwZSIsInRvQmUiLCJjb25maWRlbmNlIiwidG9CZUdyZWF0ZXJUaGFuIiwiZXZpZGVuY2UiLCJ0b0NvbnRhaW4iLCJpbnRlcmVzdHMiLCJpbnN0aXR1dGlvbiIsImNyZWRlbnRpYWxzIiwiYmlvIiwiZXhwZXJ0aXNlIiwibGlua2VkSW4iLCJjb21wYW55TmFtZSIsImpvYlRpdGxlIiwiY29tcGFueVNpemUiLCJpbmR1c3RyeSIsInRheElkIiwiYWdlbmN5VHlwZSIsImp1cmlzZGljdGlvbiIsInJlamVjdHMiLCJ0b1Rocm93IiwicmVxdWlyZXNWZXJpZmljYXRpb24iLCJ2ZXJpZmljYXRpb25NZXRob2QiLCJ0b0JlRGVmaW5lZCIsInZlcmlmeVVzZXJUeXBlIiwidmVyaWZpZWQiLCJ0aW1lc3RhbXAiLCJ0b0JlSW5zdGFuY2VPZiIsIkRhdGUiLCJkZXRhaWxzIiwibWV0aG9kIiwibGVuZ3RoIl0sInNvdXJjZXMiOlsidXNlci10eXBlLWRldGVjdGlvbi5zZXJ2aWNlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFVzZXIgVHlwZSBEZXRlY3Rpb24gU2VydmljZSBUZXN0c1xyXG4gKiBcclxuICogVGVzdHMgZm9yIHVzZXIgdHlwZSBkZXRlY3Rpb24gYW5kIHZlcmlmaWNhdGlvbiBsb2dpY1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IFVzZXJUeXBlRGV0ZWN0aW9uU2VydmljZSwgVXNlclByb2ZpbGUsIERldGVjdGlvblJlc3VsdCwgVmVyaWZpY2F0aW9uUmVzdWx0IH0gZnJvbSAnLi4vc2VydmljZXMvdXNlci10eXBlLWRldGVjdGlvbi5zZXJ2aWNlJztcclxuXHJcbmRlc2NyaWJlKCdVc2VyVHlwZURldGVjdGlvblNlcnZpY2UnLCAoKSA9PiB7XHJcbiAgbGV0IHNlcnZpY2U6IFVzZXJUeXBlRGV0ZWN0aW9uU2VydmljZTtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBzZXJ2aWNlID0gbmV3IFVzZXJUeXBlRGV0ZWN0aW9uU2VydmljZSgpO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZGV0ZWN0VXNlclR5cGUnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBzdHVkZW50IGZyb20gLmVkdSBlbWFpbCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvZmlsZTogVXNlclByb2ZpbGUgPSB7XHJcbiAgICAgICAgZmlyc3ROYW1lOiAnSm9obicsXHJcbiAgICAgICAgbGFzdE5hbWU6ICdEb2UnLFxyXG4gICAgICAgIGVtYWlsOiAnam9obkB1bml2ZXJzaXR5LmVkdScsXHJcbiAgICAgICAgbGVhcm5pbmdHb2FsczogWydMZWFybiBwcm9ncmFtbWluZyddLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5kZXRlY3RVc2VyVHlwZShwcm9maWxlKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQudXNlclR5cGUpLnRvQmUoJ3N0dWRlbnQnKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jb25maWRlbmNlKS50b0JlR3JlYXRlclRoYW4oMC41KTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5ldmlkZW5jZSkudG9Db250YWluKCdIYXMgLmVkdSBlbWFpbCBhZGRyZXNzJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBzdHVkZW50IGZyb20gbGVhcm5pbmcgZ29hbHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xyXG4gICAgICAgIGZpcnN0TmFtZTogJ0phbmUnLFxyXG4gICAgICAgIGxhc3ROYW1lOiAnU21pdGgnLFxyXG4gICAgICAgIGVtYWlsOiAnamFuZUBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgbGVhcm5pbmdHb2FsczogWydNYXN0ZXIgd2ViIGRldmVsb3BtZW50JywgJ0xlYXJuIFJlYWN0J10sXHJcbiAgICAgICAgaW50ZXJlc3RzOiBbJ1RlY2hub2xvZ3knLCAnUHJvZ3JhbW1pbmcnXSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZGV0ZWN0VXNlclR5cGUocHJvZmlsZSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnVzZXJUeXBlKS50b0JlKCdzdHVkZW50Jyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY29uZmlkZW5jZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmV2aWRlbmNlKS50b0NvbnRhaW4oJ0hhcyBsZWFybmluZyBnb2FscycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgdGVhY2hlciBmcm9tIGNyZWRlbnRpYWxzIGFuZCBpbnN0aXR1dGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvZmlsZTogVXNlclByb2ZpbGUgPSB7XHJcbiAgICAgICAgZmlyc3ROYW1lOiAnRHInLFxyXG4gICAgICAgIGxhc3ROYW1lOiAnUHJvZmVzc29yJyxcclxuICAgICAgICBlbWFpbDogJ3Byb2ZAdW5pdmVyc2l0eS5lZHUnLFxyXG4gICAgICAgIGluc3RpdHV0aW9uOiAnTUlUJyxcclxuICAgICAgICBjcmVkZW50aWFsczogWydQaEQgaW4gQ29tcHV0ZXIgU2NpZW5jZScsICdUZWFjaGluZyBDZXJ0aWZpY2F0ZSddLFxyXG4gICAgICAgIGJpbzogJ0kgYW0gYSBwcm9mZXNzb3IgYW5kIGVkdWNhdG9yJyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZGV0ZWN0VXNlclR5cGUocHJvZmlsZSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnVzZXJUeXBlKS50b0JlKCd0ZWFjaGVyJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY29uZmlkZW5jZSkudG9CZUdyZWF0ZXJUaGFuKDAuNCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZXZpZGVuY2UpLnRvQ29udGFpbignSGFzIGVkdWNhdGlvbiBjcmVkZW50aWFscycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgcmVzZWFyY2hlciBmcm9tIGluc3RpdHV0aW9uIGFuZCByZXNlYXJjaCBrZXl3b3JkcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvZmlsZTogVXNlclByb2ZpbGUgPSB7XHJcbiAgICAgICAgZmlyc3ROYW1lOiAnRHInLFxyXG4gICAgICAgIGxhc3ROYW1lOiAnUmVzZWFyY2hlcicsXHJcbiAgICAgICAgZW1haWw6ICdyZXNlYXJjaGVyQHVuaXZlcnNpdHkuZWR1JyxcclxuICAgICAgICBpbnN0aXR1dGlvbjogJ1N0YW5mb3JkJyxcclxuICAgICAgICBleHBlcnRpc2U6IFsnTWFjaGluZSBMZWFybmluZycsICdBSSddLFxyXG4gICAgICAgIGJpbzogJ0kgY29uZHVjdCByZXNlYXJjaCBpbiBhcnRpZmljaWFsIGludGVsbGlnZW5jZScsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmRldGVjdFVzZXJUeXBlKHByb2ZpbGUpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC51c2VyVHlwZSkudG9CZSgncmVzZWFyY2hlcicpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmNvbmZpZGVuY2UpLnRvQmVHcmVhdGVyVGhhbigwLjQpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmV2aWRlbmNlKS50b0NvbnRhaW4oJ0JpbyBtZW50aW9ucyByZXNlYXJjaCBhY3Rpdml0eScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgcHJvZmVzc2lvbmFsIGZyb20gTGlua2VkSW4gYW5kIGpvYiB0aXRsZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvZmlsZTogVXNlclByb2ZpbGUgPSB7XHJcbiAgICAgICAgZmlyc3ROYW1lOiAnSm9obicsXHJcbiAgICAgICAgbGFzdE5hbWU6ICdQcm9mZXNzaW9uYWwnLFxyXG4gICAgICAgIGVtYWlsOiAnam9obkBjb21wYW55LmNvbScsXHJcbiAgICAgICAgbGlua2VkSW46ICdodHRwczovL2xpbmtlZGluLmNvbS9pbi9qb2hucHJvZmVzc2lvbmFsJyxcclxuICAgICAgICBjb21wYW55TmFtZTogJ1RlY2ggQ29ycCcsXHJcbiAgICAgICAgam9iVGl0bGU6ICdTZW5pb3IgU29mdHdhcmUgRW5naW5lZXInLFxyXG4gICAgICAgIGJpbzogJ1dvcmtpbmcgYXMgYSBwcm9mZXNzaW9uYWwgaW4gdGVjaCBpbmR1c3RyeScsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmRldGVjdFVzZXJUeXBlKHByb2ZpbGUpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC51c2VyVHlwZSkudG9CZSgncHJvZmVzc2lvbmFsJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY29uZmlkZW5jZSkudG9CZUdyZWF0ZXJUaGFuKDAuMyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZXZpZGVuY2UpLnRvQ29udGFpbignSGFzIExpbmtlZEluIHByb2ZpbGUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IGVudGVycHJpc2UgZnJvbSBsYXJnZSBjb21wYW55IHNpemUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xyXG4gICAgICAgIGZpcnN0TmFtZTogJ0phbmUnLFxyXG4gICAgICAgIGxhc3ROYW1lOiAnTWFuYWdlcicsXHJcbiAgICAgICAgZW1haWw6ICdqYW5lQGJpZ2NvcnAuY29tJyxcclxuICAgICAgICBjb21wYW55TmFtZTogJ0JpZyBDb3Jwb3JhdGlvbicsXHJcbiAgICAgICAgY29tcGFueVNpemU6IDUwMDAsXHJcbiAgICAgICAgaW5kdXN0cnk6ICdUZWNobm9sb2d5JyxcclxuICAgICAgICBqb2JUaXRsZTogJ1ZQIG9mIEVuZ2luZWVyaW5nJyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZGV0ZWN0VXNlclR5cGUocHJvZmlsZSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnVzZXJUeXBlKS50b0JlKCdlbnRlcnByaXNlJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY29uZmlkZW5jZSkudG9CZUdyZWF0ZXJUaGFuKDAuNCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZXZpZGVuY2UpLnRvQ29udGFpbignTGFyZ2UgY29tcGFueSBzaXplJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBub24tcHJvZml0IGZyb20gdGF4IElEJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcm9maWxlOiBVc2VyUHJvZmlsZSA9IHtcclxuICAgICAgICBmaXJzdE5hbWU6ICdBbGljZScsXHJcbiAgICAgICAgbGFzdE5hbWU6ICdEaXJlY3RvcicsXHJcbiAgICAgICAgZW1haWw6ICdhbGljZUBub25wcm9maXQub3JnJyxcclxuICAgICAgICB0YXhJZDogJzEyLTM0NTY3ODknLFxyXG4gICAgICAgIGJpbzogJ0RpcmVjdG9yIG9mIGEgbm9uLXByb2ZpdCBvcmdhbml6YXRpb24nLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5kZXRlY3RVc2VyVHlwZShwcm9maWxlKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQudXNlclR5cGUpLnRvQmUoJ25vbi1wcm9maXQnKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jb25maWRlbmNlKS50b0JlR3JlYXRlclRoYW4oMC4zKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5ldmlkZW5jZSkudG9Db250YWluKCdIYXMgdGF4IElEJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBnb3Zlcm5tZW50IGZyb20gYWdlbmN5IHR5cGUgYW5kIGp1cmlzZGljdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvZmlsZTogVXNlclByb2ZpbGUgPSB7XHJcbiAgICAgICAgZmlyc3ROYW1lOiAnQm9iJyxcclxuICAgICAgICBsYXN0TmFtZTogJ09mZmljZXInLFxyXG4gICAgICAgIGVtYWlsOiAnYm9iQHN0YXRlLmdvdicsXHJcbiAgICAgICAgYWdlbmN5VHlwZTogJ1N0YXRlIEVkdWNhdGlvbiBEZXBhcnRtZW50JyxcclxuICAgICAgICBqdXJpc2RpY3Rpb246ICdDYWxpZm9ybmlhJyxcclxuICAgICAgICBiaW86ICdHb3Zlcm5tZW50IG9mZmljaWFsJyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZGV0ZWN0VXNlclR5cGUocHJvZmlsZSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnVzZXJUeXBlKS50b0JlKCdnb3Zlcm5tZW50Jyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY29uZmlkZW5jZSkudG9CZUdyZWF0ZXJUaGFuKDAuMyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZXZpZGVuY2UpLnRvQ29udGFpbignSGFzIGFnZW5jeSB0eXBlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBmb3VuZGVyIGZyb20gZXhwZXJ0aXNlIGFuZCBiaW8nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xyXG4gICAgICAgIGZpcnN0TmFtZTogJ1NhcmFoJyxcclxuICAgICAgICBsYXN0TmFtZTogJ0ZvdW5kZXInLFxyXG4gICAgICAgIGVtYWlsOiAnc2FyYWhAc3RhcnR1cC5jb20nLFxyXG4gICAgICAgIGV4cGVydGlzZTogWydQcm9kdWN0IE1hbmFnZW1lbnQnLCAnRW50cmVwcmVuZXVyc2hpcCddLFxyXG4gICAgICAgIGJpbzogJ0kgYW0gbGF1bmNoaW5nIGFuIGlubm92YXRpdmUgZWR1Y2F0aW9uYWwgcGxhdGZvcm0nLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5kZXRlY3RVc2VyVHlwZShwcm9maWxlKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQudXNlclR5cGUpLnRvQmUoJ2ZvdW5kZXInKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jb25maWRlbmNlKS50b0JlR3JlYXRlclRoYW4oMC4zKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5ldmlkZW5jZSkudG9Db250YWluKCdCaW8gbWVudGlvbnMgZW50cmVwcmVuZXVyaWFsIGFjdGl2aXR5Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRocm93IGVycm9yIHdoZW4gdW5hYmxlIHRvIGRldGVjdCB1c2VyIHR5cGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xyXG4gICAgICAgIGZpcnN0TmFtZTogJ1Vua25vd24nLFxyXG4gICAgICAgIGxhc3ROYW1lOiAnVXNlcicsXHJcbiAgICAgICAgZW1haWw6ICd1bmtub3duQGV4YW1wbGUuY29tJyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLmRldGVjdFVzZXJUeXBlKHByb2ZpbGUpKS5yZWplY3RzLnRvVGhyb3coXHJcbiAgICAgICAgJ1VuYWJsZSB0byBkZXRlY3QgdXNlciB0eXBlIGZyb20gcHJvdmlkZWQgaW5mb3JtYXRpb24nXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJlcXVpcmUgdmVyaWZpY2F0aW9uIGZvciBoaWdoIGNvbmZpZGVuY2UgZGV0ZWN0aW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvZmlsZTogVXNlclByb2ZpbGUgPSB7XHJcbiAgICAgICAgZmlyc3ROYW1lOiAnSm9obicsXHJcbiAgICAgICAgbGFzdE5hbWU6ICdEb2UnLFxyXG4gICAgICAgIGVtYWlsOiAnam9obkB1bml2ZXJzaXR5LmVkdScsXHJcbiAgICAgICAgbGVhcm5pbmdHb2FsczogWydMZWFybiBwcm9ncmFtbWluZyddLFxyXG4gICAgICAgIGludGVyZXN0czogWydUZWNobm9sb2d5J10sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmRldGVjdFVzZXJUeXBlKHByb2ZpbGUpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5yZXF1aXJlc1ZlcmlmaWNhdGlvbikudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC52ZXJpZmljYXRpb25NZXRob2QpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ3ZlcmlmeVVzZXJUeXBlJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB2ZXJpZnkgc3R1ZGVudCB3aXRoIC5lZHUgZW1haWwnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xyXG4gICAgICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxyXG4gICAgICAgIGxhc3ROYW1lOiAnRG9lJyxcclxuICAgICAgICBlbWFpbDogJ2pvaG5AdW5pdmVyc2l0eS5lZHUnLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS52ZXJpZnlVc2VyVHlwZSgnc3R1ZGVudCcsIHByb2ZpbGUpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC52ZXJpZmllZCkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC51c2VyVHlwZSkudG9CZSgnc3R1ZGVudCcpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnZlcmlmaWNhdGlvbk1ldGhvZCkudG9CZSgnc3R1ZGVudF92ZXJpZmljYXRpb24nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZmFpbCB0byB2ZXJpZnkgc3R1ZGVudCB3aXRob3V0IC5lZHUgZW1haWwnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xyXG4gICAgICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxyXG4gICAgICAgIGxhc3ROYW1lOiAnRG9lJyxcclxuICAgICAgICBlbWFpbDogJ2pvaG5AZXhhbXBsZS5jb20nLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS52ZXJpZnlVc2VyVHlwZSgnc3R1ZGVudCcsIHByb2ZpbGUpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC52ZXJpZmllZCkudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHZlcmlmeSB0ZWFjaGVyIHdpdGggaW5zdGl0dXRpb24gYW5kIGNyZWRlbnRpYWxzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcm9maWxlOiBVc2VyUHJvZmlsZSA9IHtcclxuICAgICAgICBmaXJzdE5hbWU6ICdEcicsXHJcbiAgICAgICAgbGFzdE5hbWU6ICdQcm9mZXNzb3InLFxyXG4gICAgICAgIGVtYWlsOiAncHJvZkB1bml2ZXJzaXR5LmVkdScsXHJcbiAgICAgICAgaW5zdGl0dXRpb246ICdNSVQnLFxyXG4gICAgICAgIGNyZWRlbnRpYWxzOiBbJ1BoRCBpbiBDb21wdXRlciBTY2llbmNlJ10sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLnZlcmlmeVVzZXJUeXBlKCd0ZWFjaGVyJywgcHJvZmlsZSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnZlcmlmaWVkKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnVzZXJUeXBlKS50b0JlKCd0ZWFjaGVyJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQudmVyaWZpY2F0aW9uTWV0aG9kKS50b0JlKCdjcmVkZW50aWFsX3ZlcmlmaWNhdGlvbicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB2ZXJpZnkgcmVzZWFyY2hlciB3aXRoIGluc3RpdHV0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcm9maWxlOiBVc2VyUHJvZmlsZSA9IHtcclxuICAgICAgICBmaXJzdE5hbWU6ICdEcicsXHJcbiAgICAgICAgbGFzdE5hbWU6ICdSZXNlYXJjaGVyJyxcclxuICAgICAgICBlbWFpbDogJ3Jlc2VhcmNoZXJAdW5pdmVyc2l0eS5lZHUnLFxyXG4gICAgICAgIGluc3RpdHV0aW9uOiAnU3RhbmZvcmQnLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS52ZXJpZnlVc2VyVHlwZSgncmVzZWFyY2hlcicsIHByb2ZpbGUpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC52ZXJpZmllZCkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC51c2VyVHlwZSkudG9CZSgncmVzZWFyY2hlcicpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnZlcmlmaWNhdGlvbk1ldGhvZCkudG9CZSgnYWZmaWxpYXRpb25fdmVyaWZpY2F0aW9uJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHZlcmlmeSBwcm9mZXNzaW9uYWwgd2l0aCBMaW5rZWRJbiBvciBjb21wYW55IGluZm8nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xyXG4gICAgICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxyXG4gICAgICAgIGxhc3ROYW1lOiAnUHJvZmVzc2lvbmFsJyxcclxuICAgICAgICBlbWFpbDogJ2pvaG5AY29tcGFueS5jb20nLFxyXG4gICAgICAgIGxpbmtlZEluOiAnaHR0cHM6Ly9saW5rZWRpbi5jb20vaW4vam9obnByb2Zlc3Npb25hbCcsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLnZlcmlmeVVzZXJUeXBlKCdwcm9mZXNzaW9uYWwnLCBwcm9maWxlKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQudmVyaWZpZWQpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQudXNlclR5cGUpLnRvQmUoJ3Byb2Zlc3Npb25hbCcpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnZlcmlmaWNhdGlvbk1ldGhvZCkudG9CZSgnbGlua2VkaW5fdmVyaWZpY2F0aW9uJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHZlcmlmeSBlbnRlcnByaXNlIHdpdGggY29tcGFueSBzaXplJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcm9maWxlOiBVc2VyUHJvZmlsZSA9IHtcclxuICAgICAgICBmaXJzdE5hbWU6ICdKYW5lJyxcclxuICAgICAgICBsYXN0TmFtZTogJ01hbmFnZXInLFxyXG4gICAgICAgIGVtYWlsOiAnamFuZUBiaWdjb3JwLmNvbScsXHJcbiAgICAgICAgY29tcGFueU5hbWU6ICdCaWcgQ29ycG9yYXRpb24nLFxyXG4gICAgICAgIGNvbXBhbnlTaXplOiA1MDAwLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS52ZXJpZnlVc2VyVHlwZSgnZW50ZXJwcmlzZScsIHByb2ZpbGUpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC52ZXJpZmllZCkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC51c2VyVHlwZSkudG9CZSgnZW50ZXJwcmlzZScpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnZlcmlmaWNhdGlvbk1ldGhvZCkudG9CZSgnYnVzaW5lc3NfdmVyaWZpY2F0aW9uJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHZlcmlmeSBub24tcHJvZml0IHdpdGggdGF4IElEJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcm9maWxlOiBVc2VyUHJvZmlsZSA9IHtcclxuICAgICAgICBmaXJzdE5hbWU6ICdBbGljZScsXHJcbiAgICAgICAgbGFzdE5hbWU6ICdEaXJlY3RvcicsXHJcbiAgICAgICAgZW1haWw6ICdhbGljZUBub25wcm9maXQub3JnJyxcclxuICAgICAgICB0YXhJZDogJzEyLTM0NTY3ODknLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS52ZXJpZnlVc2VyVHlwZSgnbm9uLXByb2ZpdCcsIHByb2ZpbGUpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC52ZXJpZmllZCkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC51c2VyVHlwZSkudG9CZSgnbm9uLXByb2ZpdCcpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnZlcmlmaWNhdGlvbk1ldGhvZCkudG9CZSgnbm9ucHJvZml0X3ZlcmlmaWNhdGlvbicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB2ZXJpZnkgZ292ZXJubWVudCB3aXRoIGFnZW5jeSB0eXBlIGFuZCBqdXJpc2RpY3Rpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xyXG4gICAgICAgIGZpcnN0TmFtZTogJ0JvYicsXHJcbiAgICAgICAgbGFzdE5hbWU6ICdPZmZpY2VyJyxcclxuICAgICAgICBlbWFpbDogJ2JvYkBzdGF0ZS5nb3YnLFxyXG4gICAgICAgIGFnZW5jeVR5cGU6ICdTdGF0ZSBFZHVjYXRpb24gRGVwYXJ0bWVudCcsXHJcbiAgICAgICAganVyaXNkaWN0aW9uOiAnQ2FsaWZvcm5pYScsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLnZlcmlmeVVzZXJUeXBlKCdnb3Zlcm5tZW50JywgcHJvZmlsZSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnZlcmlmaWVkKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnVzZXJUeXBlKS50b0JlKCdnb3Zlcm5tZW50Jyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQudmVyaWZpY2F0aW9uTWV0aG9kKS50b0JlKCdnb3Zlcm5tZW50X3ZlcmlmaWNhdGlvbicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB2ZXJpZnkgZm91bmRlciB3aXRoIGJhc2ljIGluZm8nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xyXG4gICAgICAgIGZpcnN0TmFtZTogJ1NhcmFoJyxcclxuICAgICAgICBsYXN0TmFtZTogJ0ZvdW5kZXInLFxyXG4gICAgICAgIGVtYWlsOiAnc2FyYWhAc3RhcnR1cC5jb20nLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS52ZXJpZnlVc2VyVHlwZSgnZm91bmRlcicsIHByb2ZpbGUpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC52ZXJpZmllZCkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC51c2VyVHlwZSkudG9CZSgnZm91bmRlcicpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnZlcmlmaWNhdGlvbk1ldGhvZCkudG9CZSgna3ljX2FtbCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBlcnJvciBmb3IgdW5rbm93biB1c2VyIHR5cGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xyXG4gICAgICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxyXG4gICAgICAgIGxhc3ROYW1lOiAnRG9lJyxcclxuICAgICAgICBlbWFpbDogJ2pvaG5AZXhhbXBsZS5jb20nLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgYXdhaXQgZXhwZWN0KHNlcnZpY2UudmVyaWZ5VXNlclR5cGUoJ3Vua25vd24nIGFzIGFueSwgcHJvZmlsZSkpLnJlamVjdHMudG9UaHJvdyhcclxuICAgICAgICAnVW5rbm93biB1c2VyIHR5cGU6IHVua25vd24nXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgdGltZXN0YW1wIGluIHZlcmlmaWNhdGlvbiByZXN1bHQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xyXG4gICAgICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxyXG4gICAgICAgIGxhc3ROYW1lOiAnRG9lJyxcclxuICAgICAgICBlbWFpbDogJ2pvaG5AdW5pdmVyc2l0eS5lZHUnLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS52ZXJpZnlVc2VyVHlwZSgnc3R1ZGVudCcsIHByb2ZpbGUpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC50aW1lc3RhbXApLnRvQmVJbnN0YW5jZU9mKERhdGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIGRldGFpbHMgaW4gdmVyaWZpY2F0aW9uIHJlc3VsdCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvZmlsZTogVXNlclByb2ZpbGUgPSB7XHJcbiAgICAgICAgZmlyc3ROYW1lOiAnSm9obicsXHJcbiAgICAgICAgbGFzdE5hbWU6ICdEb2UnLFxyXG4gICAgICAgIGVtYWlsOiAnam9obkB1bml2ZXJzaXR5LmVkdScsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLnZlcmlmeVVzZXJUeXBlKCdzdHVkZW50JywgcHJvZmlsZSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmRldGFpbHMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZGV0YWlscy5tZXRob2QpLnRvQmUoJ3N0dWRlbnRfdmVyaWZpY2F0aW9uJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2VkZ2UgY2FzZXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwcm9maWxlIHdpdGggbWluaW1hbCBpbmZvcm1hdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvZmlsZTogVXNlclByb2ZpbGUgPSB7XHJcbiAgICAgICAgZmlyc3ROYW1lOiAnSm9obicsXHJcbiAgICAgICAgbGFzdE5hbWU6ICdEb2UnLFxyXG4gICAgICAgIGVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhd2FpdCBleHBlY3Qoc2VydmljZS5kZXRlY3RVc2VyVHlwZShwcm9maWxlKSkucmVqZWN0cy50b1Rocm93KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHByaW9yaXRpemUgaGlnaGVyIGNvbmZpZGVuY2UgZGV0ZWN0aW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvZmlsZTogVXNlclByb2ZpbGUgPSB7XHJcbiAgICAgICAgZmlyc3ROYW1lOiAnSm9obicsXHJcbiAgICAgICAgbGFzdE5hbWU6ICdEb2UnLFxyXG4gICAgICAgIGVtYWlsOiAnam9obkB1bml2ZXJzaXR5LmVkdScsXHJcbiAgICAgICAgbGVhcm5pbmdHb2FsczogWydMZWFybiBwcm9ncmFtbWluZyddLFxyXG4gICAgICAgIGV4cGVydGlzZTogWydUZWFjaGluZyddLFxyXG4gICAgICAgIGNyZWRlbnRpYWxzOiBbJ1RlYWNoaW5nIENlcnRpZmljYXRlJ10sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmRldGVjdFVzZXJUeXBlKHByb2ZpbGUpO1xyXG5cclxuICAgICAgLy8gU2hvdWxkIGRldGVjdCBhcyBzdHVkZW50IGR1ZSB0byAuZWR1IGVtYWlsIChoaWdoZXN0IGNvbmZpZGVuY2UpXHJcbiAgICAgIGV4cGVjdChyZXN1bHQudXNlclR5cGUpLnRvQmUoJ3N0dWRlbnQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNhc2UtaW5zZW5zaXRpdmUga2V5d29yZCBtYXRjaGluZycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvZmlsZTogVXNlclByb2ZpbGUgPSB7XHJcbiAgICAgICAgZmlyc3ROYW1lOiAnRHInLFxyXG4gICAgICAgIGxhc3ROYW1lOiAnUHJvZmVzc29yJyxcclxuICAgICAgICBlbWFpbDogJ3Byb2ZAdW5pdmVyc2l0eS5lZHUnLFxyXG4gICAgICAgIGluc3RpdHV0aW9uOiAnTUlUJyxcclxuICAgICAgICBjcmVkZW50aWFsczogWydQaEQnXSxcclxuICAgICAgICBiaW86ICdJIGFtIGEgUFJPRkVTU09SIGFuZCBFRFVDQVRPUiBhdCB0aGUgdW5pdmVyc2l0eScsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmRldGVjdFVzZXJUeXBlKHByb2ZpbGUpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC51c2VyVHlwZSkudG9CZSgndGVhY2hlcicpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmV2aWRlbmNlKS50b0NvbnRhaW4oJ0JpbyBtZW50aW9ucyB0ZWFjaGluZyByb2xlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtdWx0aXBsZSBldmlkZW5jZSBwb2ludHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGU6IFVzZXJQcm9maWxlID0ge1xyXG4gICAgICAgIGZpcnN0TmFtZTogJ0RyJyxcclxuICAgICAgICBsYXN0TmFtZTogJ1Jlc2VhcmNoZXInLFxyXG4gICAgICAgIGVtYWlsOiAncmVzZWFyY2hlckB1bml2ZXJzaXR5LmVkdScsXHJcbiAgICAgICAgaW5zdGl0dXRpb246ICdTdGFuZm9yZCcsXHJcbiAgICAgICAgZXhwZXJ0aXNlOiBbJ01hY2hpbmUgTGVhcm5pbmcnXSxcclxuICAgICAgICBiaW86ICdJIGNvbmR1Y3QgYWNhZGVtaWMgcmVzZWFyY2ggaW4gQUknLFxyXG4gICAgICAgIGpvYlRpdGxlOiAnUmVzZWFyY2ggU2NpZW50aXN0JyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZGV0ZWN0VXNlclR5cGUocHJvZmlsZSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmV2aWRlbmNlLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDEpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBTUEsSUFBQUEsa0JBQUEsR0FBQUMsT0FBQTtBQU5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUFDLFFBQVEsQ0FBQywwQkFBMEIsRUFBRSxNQUFNO0VBQ3pDLElBQUlDLE9BQWlDO0VBRXJDQyxVQUFVLENBQUMsTUFBTTtJQUNmRCxPQUFPLEdBQUcsSUFBSUUsMkNBQXdCLENBQUMsQ0FBQztFQUMxQyxDQUFDLENBQUM7RUFFRkgsUUFBUSxDQUFDLGdCQUFnQixFQUFFLE1BQU07SUFDL0JJLEVBQUUsQ0FBQyx1Q0FBdUMsRUFBRSxZQUFZO01BQ3RELE1BQU1DLE9BQW9CLEdBQUc7UUFDM0JDLFNBQVMsRUFBRSxNQUFNO1FBQ2pCQyxRQUFRLEVBQUUsS0FBSztRQUNmQyxLQUFLLEVBQUUscUJBQXFCO1FBQzVCQyxhQUFhLEVBQUUsQ0FBQyxtQkFBbUI7TUFDckMsQ0FBQztNQUVELE1BQU1DLE1BQU0sR0FBRyxNQUFNVCxPQUFP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cUJBQXFCO1FBQzVCQyxhQUFhLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQztRQUNwQ2MsU0FBUyxFQUFFLENBQUMsVUFBVSxDQUFDO1FBQ3ZCRixXQUFXLEVBQUUsQ0FBQyxzQkFBc0I7TUFDdEMsQ0FBQztNQUVELE1BQU1YLE1BQU0sR0FBRyxNQUFNVCxPQUFPLENBQUNVLGNBQWMsQ0FBQ04sT0FBTyxDQUFDOztNQUVwRDtNQUNBTyxNQUFNLENBQUNGLE1BQU0sQ0FBQ0csUUFBUSxDQUFDLENBQUNDLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDekMsQ0FBQyxDQUFDO0lBRUZWLEVBQUUsQ0FBQyxpREFBaUQsRUFBRSxZQUFZO01BQ2hFLE1BQU1DLE9BQW9CLEdBQUc7UUFDM0JDLFNBQVMsRUFBRSxJQUFJO1FBQ2ZDLFFBQVEsRUFBRSxXQUFXO1FBQ3JCQyxLQUFLLEVBQUUscUJBQXFCO1FBQzVCWSxXQUFXLEVBQUUsS0FBSztRQUNsQkMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDO1FBQ3BCQyxHQUFHLEVBQUU7TUFDUCxDQUFDO01BRUQsTUFBTVosTUFBTSxHQUFHLE1BQU1ULE9BQU8sQ0FBQ1UsY0FBYyxDQUFDTixPQUFPLENBQUM7TUFFcERPLE1BQU0sQ0FBQ0YsTUFBTSxDQUFDRyxRQUFRLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLFNBQVMsQ0FBQztNQUN2Q0YsTUFBTSxDQUFDRixNQUFNLENBQUNPLFFBQVEsQ0FBQyxDQUFDQyxTQUFTLENBQUMsNEJBQTRCLENBQUM7SUFDakUsQ0FBQyxDQUFDO0lBRUZkLEVBQUUsQ0FBQyx3Q0FBd0MsRUFBRSxZQUFZO01BQ3ZELE1BQU1DLE9BQW9CLEdBQUc7UUFDM0JDLFNBQVMsRUFBRSxJQUFJO1FBQ2ZDLFFBQVEsRUFBRSxZQUFZO1FBQ3RCQyxLQUFLLEVBQUUsMkJBQTJCO1FBQ2xDWSxXQUFXLEVBQUUsVUFBVTtRQUN2QkcsU0FBUyxFQUFFLENBQUMsa0JBQWtCLENBQUM7UUFDL0JELEdBQUcsRUFBRSxtQ0FBbUM7UUFDeENJLFFBQVEsRUFBRTtNQUNaLENBQUM7TUFFRCxNQUFNaEIsTUFBTSxHQUFHLE1BQU1ULE9BQU8sQ0FBQ1UsY0FBYyxDQUFDTixPQUFPLENBQUM7TUFFcERPLE1BQU0sQ0FBQ0YsTUFBTSxDQUFDTyxRQUFRLENBQUMyQixNQUFNLENBQUMsQ0FBQzVCLGVBQWUsQ0FBQyxDQUFDLENBQUM7SUFDbkQsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119