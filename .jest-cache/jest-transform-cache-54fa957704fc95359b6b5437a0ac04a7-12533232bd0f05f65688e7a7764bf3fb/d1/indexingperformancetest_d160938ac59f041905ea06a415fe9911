422f205a38cc790619bf367f55f87fa2
"use strict";

var _ProjectIndexer = require("../../src/main/services/ProjectIndexer");
var path = _interopRequireWildcard(require("path"));
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) "default" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }
/**
 * Performance tests for project indexing
 * Tests indexing speed on projects of various sizes
 */
describe('Indexing Performance', () => {
  let indexer;
  const testProjectsPath = '/test/performance-projects';
  beforeEach(() => {
    indexer = new _ProjectIndexer.ProjectIndexer();
  });
  describe('Small Projects (< 100 files)', () => {
    it('should index small project in under 1 second', async () => {
      const projectPath = path.join(testProjectsPath, 'small-project');
      const startTime = performance.now();
      await indexer.indexProject(projectPath);
      const endTime = performance.now();
      const duration = endTime - startTime;
      expect(duration).toBeLessThan(1000); // 1 second

      console.log(`Small project indexed in ${duration.toFixed(2)}ms`);
    });
  });
  describe('Medium Projects (100-1000 files)', () => {
    it('should index medium project in under 5 seconds', async () => {
      const projectPath = path.join(testProjectsPath, 'medium-project');
      const startTime = performance.now();
      await indexer.indexProject(projectPath);
      const endTime = performance.now();
      const duration = endTime - startTime;
      expect(duration).toBeLessThan(5000); // 5 seconds

      console.log(`Medium project indexed in ${duration.toFixed(2)}ms`);
    });
    it('should handle incremental updates efficiently', async () => {
      const projectPath = path.join(testProjectsPath, 'medium-project');

      // Initial index
      await indexer.indexProject(projectPath);

      // Update single file
      const testFile = path.join(projectPath, 'src/test.ts');
      const startTime = performance.now();
      await indexer.updateIndex([testFile]);
      const endTime = performance.now();
      const duration = endTime - startTime;

      // Incremental update should be very fast
      expect(duration).toBeLessThan(100); // 100ms

      console.log(`Incremental update completed in ${duration.toFixed(2)}ms`);
    });
  });
  describe('Large Projects (> 1000 files)', () => {
    it('should index large project in under 10 seconds', async () => {
      const projectPath = path.join(testProjectsPath, 'large-project');
      const startTime = performance.now();
      await indexer.indexProject(projectPath);
      const endTime = performance.now();
      const duration = endTime - startTime;
      expect(duration).toBeLessThan(10000); // 10 seconds

      console.log(`Large project indexed in ${duration.toFixed(2)}ms`);

      // Log statistics
      const graph = indexer.getProjectGraph();
      console.log(`Files indexed: ${graph?.files.size}`);
      console.log(`Services found: ${graph?.services.size}`);
      console.log(`Components found: ${graph?.components.size}`);
    });
    it('should use caching effectively', async () => {
      const projectPath = path.join(testProjectsPath, 'large-project');

      // First index (cold cache)
      const startTime1 = performance.now();
      await indexer.indexProject(projectPath);
      const endTime1 = performance.now();
      const duration1 = endTime1 - startTime1;

      // Second index (warm cache)
      const indexer2 = new _ProjectIndexer.ProjectIndexer();
      const startTime2 = performance.now();
      await indexer2.indexProject(projectPath);
      const endTime2 = performance.now();
      const duration2 = endTime2 - startTime2;

      // Cached index should be significantly faster
      expect(duration2).toBeLessThan(duration1 * 0.5);
      console.log(`Cold cache: ${duration1.toFixed(2)}ms`);
      console.log(`Warm cache: ${duration2.toFixed(2)}ms`);
      console.log(`Speedup: ${(duration1 / duration2).toFixed(2)}x`);
    });
  });
  describe('Memory Usage', () => {
    it('should not exceed 500MB for large projects', async () => {
      const projectPath = path.join(testProjectsPath, 'large-project');
      const memBefore = process.memoryUsage().heapUsed;
      await indexer.indexProject(projectPath);
      const memAfter = process.memoryUsage().heapUsed;
      const memUsed = (memAfter - memBefore) / 1024 / 1024; // Convert to MB

      expect(memUsed).toBeLessThan(500); // 500MB

      console.log(`Memory used: ${memUsed.toFixed(2)}MB`);
    });
    it('should release memory after indexing', async () => {
      const projectPath = path.join(testProjectsPath, 'medium-project');
      const memBefore = process.memoryUsage().heapUsed;
      await indexer.indexProject(projectPath);

      // Clear indexer
      indexer = null;
      global.gc && global.gc(); // Force garbage collection if available

      await new Promise(resolve => setTimeout(resolve, 1000)); // Wait for GC

      const memAfter = process.memoryUsage().heapUsed;

      // Memory should be released
      expect(memAfter).toBeLessThan(memBefore * 1.2); // Allow 20% overhead
    });
  });
  describe('Parallel Processing', () => {
    it('should index multiple projects concurrently', async () => {
      const projects = [path.join(testProjectsPath, 'project1'), path.join(testProjectsPath, 'project2'), path.join(testProjectsPath, 'project3')];
      const startTime = performance.now();

      // Index all projects in parallel
      await Promise.all(projects.map(async projectPath => {
        const indexer = new _ProjectIndexer.ProjectIndexer();
        return indexer.indexProject(projectPath);
      }));
      const endTime = performance.now();
      const duration = endTime - startTime;

      // Parallel indexing should be faster than sequential
      console.log(`Parallel indexing of 3 projects: ${duration.toFixed(2)}ms`);

      // Should complete in reasonable time
      expect(duration).toBeLessThan(15000); // 15 seconds for 3 projects
    });
  });
  describe('File Watching Performance', () => {
    it('should handle rapid file changes', async () => {
      const projectPath = path.join(testProjectsPath, 'watch-test');
      await indexer.indexProject(projectPath);

      // Simulate rapid file changes
      const changes = [];
      for (let i = 0; i < 100; i++) {
        changes.push(path.join(projectPath, `src/file${i}.ts`));
      }
      const startTime = performance.now();

      // Update all files
      await indexer.updateIndex(changes);
      const endTime = performance.now();
      const duration = endTime - startTime;

      // Should handle 100 file changes quickly
      expect(duration).toBeLessThan(2000); // 2 seconds

      console.log(`100 file updates processed in ${duration.toFixed(2)}ms`);
      console.log(`Average per file: ${(duration / 100).toFixed(2)}ms`);
    });
  });
  describe('Search Performance', () => {
    it('should find symbols quickly in large projects', async () => {
      const projectPath = path.join(testProjectsPath, 'large-project');
      await indexer.indexProject(projectPath);
      const startTime = performance.now();
      const results = indexer.findSymbol('testFunction');
      const endTime = performance.now();
      const duration = endTime - startTime;

      // Search should be very fast
      expect(duration).toBeLessThan(50); // 50ms

      console.log(`Symbol search completed in ${duration.toFixed(2)}ms`);
      console.log(`Results found: ${results.length}`);
    });
    it('should find references quickly', async () => {
      const projectPath = path.join(testProjectsPath, 'large-project');
      await indexer.indexProject(projectPath);
      const startTime = performance.now();
      const references = indexer.findReferences('commonFunction');
      const endTime = performance.now();
      const duration = endTime - startTime;
      expect(duration).toBeLessThan(100); // 100ms

      console.log(`Reference search completed in ${duration.toFixed(2)}ms`);
      console.log(`References found: ${references.length}`);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUHJvamVjdEluZGV4ZXIiLCJyZXF1aXJlIiwicGF0aCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZGVzY3JpYmUiLCJpbmRleGVyIiwidGVzdFByb2plY3RzUGF0aCIsImJlZm9yZUVhY2giLCJQcm9qZWN0SW5kZXhlciIsIml0IiwicHJvamVjdFBhdGgiLCJqb2luIiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJpbmRleFByb2plY3QiLCJlbmRUaW1lIiwiZHVyYXRpb24iLCJleHBlY3QiLCJ0b0JlTGVzc1RoYW4iLCJjb25zb2xlIiwibG9nIiwidG9GaXhlZCIsInRlc3RGaWxlIiwidXBkYXRlSW5kZXgiLCJncmFwaCIsImdldFByb2plY3RHcmFwaCIsImZpbGVzIiwic2l6ZSIsInNlcnZpY2VzIiwiY29tcG9uZW50cyIsInN0YXJ0VGltZTEiLCJlbmRUaW1lMSIsImR1cmF0aW9uMSIsImluZGV4ZXIyIiwic3RhcnRUaW1lMiIsImVuZFRpbWUyIiwiZHVyYXRpb24yIiwibWVtQmVmb3JlIiwicHJvY2VzcyIsIm1lbW9yeVVzYWdlIiwiaGVhcFVzZWQiLCJtZW1BZnRlciIsIm1lbVVzZWQiLCJnbG9iYWwiLCJnYyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInByb2plY3RzIiwiYWxsIiwibWFwIiwiY2hhbmdlcyIsInB1c2giLCJyZXN1bHRzIiwiZmluZFN5bWJvbCIsImxlbmd0aCIsInJlZmVyZW5jZXMiLCJmaW5kUmVmZXJlbmNlcyJdLCJzb3VyY2VzIjpbImluZGV4aW5nLXBlcmZvcm1hbmNlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvamVjdEluZGV4ZXIgfSBmcm9tICcuLi8uLi9zcmMvbWFpbi9zZXJ2aWNlcy9Qcm9qZWN0SW5kZXhlcic7XG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuXG4vKipcbiAqIFBlcmZvcm1hbmNlIHRlc3RzIGZvciBwcm9qZWN0IGluZGV4aW5nXG4gKiBUZXN0cyBpbmRleGluZyBzcGVlZCBvbiBwcm9qZWN0cyBvZiB2YXJpb3VzIHNpemVzXG4gKi9cbmRlc2NyaWJlKCdJbmRleGluZyBQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgbGV0IGluZGV4ZXI6IFByb2plY3RJbmRleGVyO1xuICBjb25zdCB0ZXN0UHJvamVjdHNQYXRoID0gJy90ZXN0L3BlcmZvcm1hbmNlLXByb2plY3RzJztcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBpbmRleGVyID0gbmV3IFByb2plY3RJbmRleGVyKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTbWFsbCBQcm9qZWN0cyAoPCAxMDAgZmlsZXMpJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaW5kZXggc21hbGwgcHJvamVjdCBpbiB1bmRlciAxIHNlY29uZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3RQYXRoID0gcGF0aC5qb2luKHRlc3RQcm9qZWN0c1BhdGgsICdzbWFsbC1wcm9qZWN0Jyk7XG4gICAgICBcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgYXdhaXQgaW5kZXhlci5pbmRleFByb2plY3QocHJvamVjdFBhdGgpO1xuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgXG4gICAgICBjb25zdCBkdXJhdGlvbiA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUxlc3NUaGFuKDEwMDApOyAvLyAxIHNlY29uZFxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgU21hbGwgcHJvamVjdCBpbmRleGVkIGluICR7ZHVyYXRpb24udG9GaXhlZCgyKX1tc2ApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTWVkaXVtIFByb2plY3RzICgxMDAtMTAwMCBmaWxlcyknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBpbmRleCBtZWRpdW0gcHJvamVjdCBpbiB1bmRlciA1IHNlY29uZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9qZWN0UGF0aCA9IHBhdGguam9pbih0ZXN0UHJvamVjdHNQYXRoLCAnbWVkaXVtLXByb2plY3QnKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBhd2FpdCBpbmRleGVyLmluZGV4UHJvamVjdChwcm9qZWN0UGF0aCk7XG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGR1cmF0aW9uKS50b0JlTGVzc1RoYW4oNTAwMCk7IC8vIDUgc2Vjb25kc1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgTWVkaXVtIHByb2plY3QgaW5kZXhlZCBpbiAke2R1cmF0aW9uLnRvRml4ZWQoMil9bXNgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGluY3JlbWVudGFsIHVwZGF0ZXMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9qZWN0UGF0aCA9IHBhdGguam9pbih0ZXN0UHJvamVjdHNQYXRoLCAnbWVkaXVtLXByb2plY3QnKTtcbiAgICAgIFxuICAgICAgLy8gSW5pdGlhbCBpbmRleFxuICAgICAgYXdhaXQgaW5kZXhlci5pbmRleFByb2plY3QocHJvamVjdFBhdGgpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgc2luZ2xlIGZpbGVcbiAgICAgIGNvbnN0IHRlc3RGaWxlID0gcGF0aC5qb2luKHByb2plY3RQYXRoLCAnc3JjL3Rlc3QudHMnKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBhd2FpdCBpbmRleGVyLnVwZGF0ZUluZGV4KFt0ZXN0RmlsZV0pO1xuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgXG4gICAgICBjb25zdCBkdXJhdGlvbiA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIC8vIEluY3JlbWVudGFsIHVwZGF0ZSBzaG91bGQgYmUgdmVyeSBmYXN0XG4gICAgICBleHBlY3QoZHVyYXRpb24pLnRvQmVMZXNzVGhhbigxMDApOyAvLyAxMDBtc1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgSW5jcmVtZW50YWwgdXBkYXRlIGNvbXBsZXRlZCBpbiAke2R1cmF0aW9uLnRvRml4ZWQoMil9bXNgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0xhcmdlIFByb2plY3RzICg+IDEwMDAgZmlsZXMpJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaW5kZXggbGFyZ2UgcHJvamVjdCBpbiB1bmRlciAxMCBzZWNvbmRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvamVjdFBhdGggPSBwYXRoLmpvaW4odGVzdFByb2plY3RzUGF0aCwgJ2xhcmdlLXByb2plY3QnKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBhd2FpdCBpbmRleGVyLmluZGV4UHJvamVjdChwcm9qZWN0UGF0aCk7XG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGR1cmF0aW9uKS50b0JlTGVzc1RoYW4oMTAwMDApOyAvLyAxMCBzZWNvbmRzXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBMYXJnZSBwcm9qZWN0IGluZGV4ZWQgaW4gJHtkdXJhdGlvbi50b0ZpeGVkKDIpfW1zYCk7XG4gICAgICBcbiAgICAgIC8vIExvZyBzdGF0aXN0aWNzXG4gICAgICBjb25zdCBncmFwaCA9IGluZGV4ZXIuZ2V0UHJvamVjdEdyYXBoKCk7XG4gICAgICBjb25zb2xlLmxvZyhgRmlsZXMgaW5kZXhlZDogJHtncmFwaD8uZmlsZXMuc2l6ZX1gKTtcbiAgICAgIGNvbnNvbGUubG9nKGBTZXJ2aWNlcyBmb3VuZDogJHtncmFwaD8uc2VydmljZXMuc2l6ZX1gKTtcbiAgICAgIGNvbnNvbGUubG9nKGBDb21wb25lbnRzIGZvdW5kOiAke2dyYXBoPy5jb21wb25lbnRzLnNpemV9YCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVzZSBjYWNoaW5nIGVmZmVjdGl2ZWx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvamVjdFBhdGggPSBwYXRoLmpvaW4odGVzdFByb2plY3RzUGF0aCwgJ2xhcmdlLXByb2plY3QnKTtcbiAgICAgIFxuICAgICAgLy8gRmlyc3QgaW5kZXggKGNvbGQgY2FjaGUpXG4gICAgICBjb25zdCBzdGFydFRpbWUxID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBhd2FpdCBpbmRleGVyLmluZGV4UHJvamVjdChwcm9qZWN0UGF0aCk7XG4gICAgICBjb25zdCBlbmRUaW1lMSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgZHVyYXRpb24xID0gZW5kVGltZTEgLSBzdGFydFRpbWUxO1xuICAgICAgXG4gICAgICAvLyBTZWNvbmQgaW5kZXggKHdhcm0gY2FjaGUpXG4gICAgICBjb25zdCBpbmRleGVyMiA9IG5ldyBQcm9qZWN0SW5kZXhlcigpO1xuICAgICAgY29uc3Qgc3RhcnRUaW1lMiA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgYXdhaXQgaW5kZXhlcjIuaW5kZXhQcm9qZWN0KHByb2plY3RQYXRoKTtcbiAgICAgIGNvbnN0IGVuZFRpbWUyID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCBkdXJhdGlvbjIgPSBlbmRUaW1lMiAtIHN0YXJ0VGltZTI7XG4gICAgICBcbiAgICAgIC8vIENhY2hlZCBpbmRleCBzaG91bGQgYmUgc2lnbmlmaWNhbnRseSBmYXN0ZXJcbiAgICAgIGV4cGVjdChkdXJhdGlvbjIpLnRvQmVMZXNzVGhhbihkdXJhdGlvbjEgKiAwLjUpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgQ29sZCBjYWNoZTogJHtkdXJhdGlvbjEudG9GaXhlZCgyKX1tc2ApO1xuICAgICAgY29uc29sZS5sb2coYFdhcm0gY2FjaGU6ICR7ZHVyYXRpb24yLnRvRml4ZWQoMil9bXNgKTtcbiAgICAgIGNvbnNvbGUubG9nKGBTcGVlZHVwOiAkeyhkdXJhdGlvbjEgLyBkdXJhdGlvbjIpLnRvRml4ZWQoMil9eGApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTWVtb3J5IFVzYWdlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgbm90IGV4Y2VlZCA1MDBNQiBmb3IgbGFyZ2UgcHJvamVjdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9qZWN0UGF0aCA9IHBhdGguam9pbih0ZXN0UHJvamVjdHNQYXRoLCAnbGFyZ2UtcHJvamVjdCcpO1xuICAgICAgXG4gICAgICBjb25zdCBtZW1CZWZvcmUgPSBwcm9jZXNzLm1lbW9yeVVzYWdlKCkuaGVhcFVzZWQ7XG4gICAgICBcbiAgICAgIGF3YWl0IGluZGV4ZXIuaW5kZXhQcm9qZWN0KHByb2plY3RQYXRoKTtcbiAgICAgIFxuICAgICAgY29uc3QgbWVtQWZ0ZXIgPSBwcm9jZXNzLm1lbW9yeVVzYWdlKCkuaGVhcFVzZWQ7XG4gICAgICBjb25zdCBtZW1Vc2VkID0gKG1lbUFmdGVyIC0gbWVtQmVmb3JlKSAvIDEwMjQgLyAxMDI0OyAvLyBDb252ZXJ0IHRvIE1CXG4gICAgICBcbiAgICAgIGV4cGVjdChtZW1Vc2VkKS50b0JlTGVzc1RoYW4oNTAwKTsgLy8gNTAwTUJcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYE1lbW9yeSB1c2VkOiAke21lbVVzZWQudG9GaXhlZCgyKX1NQmApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWxlYXNlIG1lbW9yeSBhZnRlciBpbmRleGluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3RQYXRoID0gcGF0aC5qb2luKHRlc3RQcm9qZWN0c1BhdGgsICdtZWRpdW0tcHJvamVjdCcpO1xuICAgICAgXG4gICAgICBjb25zdCBtZW1CZWZvcmUgPSBwcm9jZXNzLm1lbW9yeVVzYWdlKCkuaGVhcFVzZWQ7XG4gICAgICBcbiAgICAgIGF3YWl0IGluZGV4ZXIuaW5kZXhQcm9qZWN0KHByb2plY3RQYXRoKTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYXIgaW5kZXhlclxuICAgICAgaW5kZXhlciA9IG51bGwgYXMgYW55O1xuICAgICAgZ2xvYmFsLmdjICYmIGdsb2JhbC5nYygpOyAvLyBGb3JjZSBnYXJiYWdlIGNvbGxlY3Rpb24gaWYgYXZhaWxhYmxlXG4gICAgICBcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7IC8vIFdhaXQgZm9yIEdDXG4gICAgICBcbiAgICAgIGNvbnN0IG1lbUFmdGVyID0gcHJvY2Vzcy5tZW1vcnlVc2FnZSgpLmhlYXBVc2VkO1xuICAgICAgXG4gICAgICAvLyBNZW1vcnkgc2hvdWxkIGJlIHJlbGVhc2VkXG4gICAgICBleHBlY3QobWVtQWZ0ZXIpLnRvQmVMZXNzVGhhbihtZW1CZWZvcmUgKiAxLjIpOyAvLyBBbGxvdyAyMCUgb3ZlcmhlYWRcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BhcmFsbGVsIFByb2Nlc3NpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBpbmRleCBtdWx0aXBsZSBwcm9qZWN0cyBjb25jdXJyZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9qZWN0cyA9IFtcbiAgICAgICAgcGF0aC5qb2luKHRlc3RQcm9qZWN0c1BhdGgsICdwcm9qZWN0MScpLFxuICAgICAgICBwYXRoLmpvaW4odGVzdFByb2plY3RzUGF0aCwgJ3Byb2plY3QyJyksXG4gICAgICAgIHBhdGguam9pbih0ZXN0UHJvamVjdHNQYXRoLCAncHJvamVjdDMnKSxcbiAgICAgIF07XG4gICAgICBcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgXG4gICAgICAvLyBJbmRleCBhbGwgcHJvamVjdHMgaW4gcGFyYWxsZWxcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBwcm9qZWN0cy5tYXAoYXN5bmMgKHByb2plY3RQYXRoKSA9PiB7XG4gICAgICAgICAgY29uc3QgaW5kZXhlciA9IG5ldyBQcm9qZWN0SW5kZXhlcigpO1xuICAgICAgICAgIHJldHVybiBpbmRleGVyLmluZGV4UHJvamVjdChwcm9qZWN0UGF0aCk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCBkdXJhdGlvbiA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIC8vIFBhcmFsbGVsIGluZGV4aW5nIHNob3VsZCBiZSBmYXN0ZXIgdGhhbiBzZXF1ZW50aWFsXG4gICAgICBjb25zb2xlLmxvZyhgUGFyYWxsZWwgaW5kZXhpbmcgb2YgMyBwcm9qZWN0czogJHtkdXJhdGlvbi50b0ZpeGVkKDIpfW1zYCk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBjb21wbGV0ZSBpbiByZWFzb25hYmxlIHRpbWVcbiAgICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUxlc3NUaGFuKDE1MDAwKTsgLy8gMTUgc2Vjb25kcyBmb3IgMyBwcm9qZWN0c1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRmlsZSBXYXRjaGluZyBQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSByYXBpZCBmaWxlIGNoYW5nZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9qZWN0UGF0aCA9IHBhdGguam9pbih0ZXN0UHJvamVjdHNQYXRoLCAnd2F0Y2gtdGVzdCcpO1xuICAgICAgXG4gICAgICBhd2FpdCBpbmRleGVyLmluZGV4UHJvamVjdChwcm9qZWN0UGF0aCk7XG4gICAgICBcbiAgICAgIC8vIFNpbXVsYXRlIHJhcGlkIGZpbGUgY2hhbmdlc1xuICAgICAgY29uc3QgY2hhbmdlczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgICAgY2hhbmdlcy5wdXNoKHBhdGguam9pbihwcm9qZWN0UGF0aCwgYHNyYy9maWxlJHtpfS50c2ApKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBhbGwgZmlsZXNcbiAgICAgIGF3YWl0IGluZGV4ZXIudXBkYXRlSW5kZXgoY2hhbmdlcyk7XG4gICAgICBcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGhhbmRsZSAxMDAgZmlsZSBjaGFuZ2VzIHF1aWNrbHlcbiAgICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUxlc3NUaGFuKDIwMDApOyAvLyAyIHNlY29uZHNcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYDEwMCBmaWxlIHVwZGF0ZXMgcHJvY2Vzc2VkIGluICR7ZHVyYXRpb24udG9GaXhlZCgyKX1tc2ApO1xuICAgICAgY29uc29sZS5sb2coYEF2ZXJhZ2UgcGVyIGZpbGU6ICR7KGR1cmF0aW9uIC8gMTAwKS50b0ZpeGVkKDIpfW1zYCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTZWFyY2ggUGVyZm9ybWFuY2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBmaW5kIHN5bWJvbHMgcXVpY2tseSBpbiBsYXJnZSBwcm9qZWN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3RQYXRoID0gcGF0aC5qb2luKHRlc3RQcm9qZWN0c1BhdGgsICdsYXJnZS1wcm9qZWN0Jyk7XG4gICAgICBcbiAgICAgIGF3YWl0IGluZGV4ZXIuaW5kZXhQcm9qZWN0KHByb2plY3RQYXRoKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCByZXN1bHRzID0gaW5kZXhlci5maW5kU3ltYm9sKCd0ZXN0RnVuY3Rpb24nKTtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIFxuICAgICAgY29uc3QgZHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICAvLyBTZWFyY2ggc2hvdWxkIGJlIHZlcnkgZmFzdFxuICAgICAgZXhwZWN0KGR1cmF0aW9uKS50b0JlTGVzc1RoYW4oNTApOyAvLyA1MG1zXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBTeW1ib2wgc2VhcmNoIGNvbXBsZXRlZCBpbiAke2R1cmF0aW9uLnRvRml4ZWQoMil9bXNgKTtcbiAgICAgIGNvbnNvbGUubG9nKGBSZXN1bHRzIGZvdW5kOiAke3Jlc3VsdHMubGVuZ3RofWApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaW5kIHJlZmVyZW5jZXMgcXVpY2tseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3RQYXRoID0gcGF0aC5qb2luKHRlc3RQcm9qZWN0c1BhdGgsICdsYXJnZS1wcm9qZWN0Jyk7XG4gICAgICBcbiAgICAgIGF3YWl0IGluZGV4ZXIuaW5kZXhQcm9qZWN0KHByb2plY3RQYXRoKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCByZWZlcmVuY2VzID0gaW5kZXhlci5maW5kUmVmZXJlbmNlcygnY29tbW9uRnVuY3Rpb24nKTtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIFxuICAgICAgY29uc3QgZHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICBleHBlY3QoZHVyYXRpb24pLnRvQmVMZXNzVGhhbigxMDApOyAvLyAxMDBtc1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgUmVmZXJlbmNlIHNlYXJjaCBjb21wbGV0ZWQgaW4gJHtkdXJhdGlvbi50b0ZpeGVkKDIpfW1zYCk7XG4gICAgICBjb25zb2xlLmxvZyhgUmVmZXJlbmNlcyBmb3VuZDogJHtyZWZlcmVuY2VzLmxlbmd0aH1gKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxlQUFBLEdBQUFDLE9BQUE7QUFFQSxJQUFBQyxJQUFBLEdBQUFDLHVCQUFBLENBQUFGLE9BQUE7QUFBNkIsU0FBQUUsd0JBQUFDLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFILHVCQUFBLFlBQUFBLENBQUFDLENBQUEsRUFBQUMsQ0FBQSxTQUFBQSxDQUFBLElBQUFELENBQUEsSUFBQUEsQ0FBQSxDQUFBSyxVQUFBLFNBQUFMLENBQUEsTUFBQU0sQ0FBQSxFQUFBQyxDQUFBLEVBQUFDLENBQUEsS0FBQUMsU0FBQSxRQUFBQyxPQUFBLEVBQUFWLENBQUEsaUJBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsU0FBQVEsQ0FBQSxNQUFBRixDQUFB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