c9cf49a5e0520bd4e0b3ec47e32e00af
"use strict";

const auditService = require('../index');
describe('Audit Logging Service', () => {
  beforeEach(() => {
    // Clear audit logs before each test
    auditService.auditLogs = [];
  });
  test('should log security events', () => {
    const userId = 'user123';
    const action = 'login_success';
    const resource = 'auth_service';
    const details = {
      ipAddress: '192.168.1.1'
    };
    const auditEntry = auditService.logSecurityEvent(userId, action, resource, details);
    expect(auditEntry).toBeDefined();
    expect(auditEntry.type).toBe('security');
    expect(auditEntry.userId).toBe(userId);
    expect(auditEntry.action).toBe(action);
    expect(auditEntry.resource).toBe(resource);
    expect(auditEntry.details).toEqual(details);
    expect(auditEntry.severity).toBe('medium');
  });
  test('should log user actions', () => {
    const userId = 'user123';
    const action = 'course_enrollment';
    const resource = 'course_algebra_101';
    const details = {
      enrollmentId: 'enroll789'
    };
    const auditEntry = auditService.logUserAction(userId, action, resource, details);
    expect(auditEntry).toBeDefined();
    expect(auditEntry.type).toBe('user_action');
    expect(auditEntry.userId).toBe(userId);
    expect(auditEntry.action).toBe(action);
    expect(auditEntry.resource).toBe(resource);
    expect(auditEntry.details).toEqual(details);
  });
  test('should log system events', () => {
    const service = 'payment_service';
    const action = 'startup';
    const details = {
      version: '1.2.3'
    };
    const auditEntry = auditService.logSystemEvent(service, action, details);
    expect(auditEntry).toBeDefined();
    expect(auditEntry.type).toBe('system');
    expect(auditEntry.service).toBe(service);
    expect(auditEntry.action).toBe(action);
    expect(auditEntry.details).toEqual(details);
  });
  test('should log data access events', () => {
    const userId = 'user123';
    const action = 'read';
    const resource = 'user_profile_456';
    const details = {
      fields: ['name', 'email']
    };
    const auditEntry = auditService.logDataAccess(userId, action, resource, details);
    expect(auditEntry).toBeDefined();
    expect(auditEntry.type).toBe('data_access');
    expect(auditEntry.userId).toBe(userId);
    expect(auditEntry.action).toBe(action);
    expect(auditEntry.resource).toBe(resource);
    expect(auditEntry.details).toEqual(details);
  });
  test('should filter audit logs', () => {
    // Add some test logs
    auditService.logSecurityEvent('user1', 'login_success', 'auth_service');
    auditService.logUserAction('user1', 'course_enrollment', 'course_123');
    auditService.logUserAction('user2', 'profile_update', 'user_profile');

    // Filter by type
    const userActionLogs = auditService.getAuditLogs({
      type: 'user_action'
    });
    expect(userActionLogs.logs.length).toBe(2);
    expect(userActionLogs.logs.every(log => log.type === 'user_action')).toBe(true);

    // Filter by user ID
    const user1Logs = auditService.getAuditLogs({
      userId: 'user1'
    });
    expect(user1Logs.logs.length).toBe(2);
    expect(user1Logs.logs.every(log => log.userId === 'user1')).toBe(true);
  });
  test('should calculate security statistics', () => {
    // Add some security events
    auditService.logSecurityEvent('user1', 'login_success', 'auth_service');
    auditService.logSecurityEvent('user2', 'login_failed', 'auth_service');
    auditService.logSecurityEvent('user3', 'unauthorized_access', 'api_gateway');
    const stats = auditService.getSecurityStats();
    expect(stats.totalEvents).toBe(3);
    expect(stats.highSeverity).toBe(1);
    expect(stats.mediumSeverity).toBe(1);
    expect(stats.lowSeverity).toBe(1);
  });
  test('should clear old logs', () => {
    // Add some old logs
    const oldLog = auditService.logSecurityEvent('user1', 'login_success', 'auth_service');
    oldLog.timestamp = new Date(Date.now() - 100 * 24 * 60 * 60 * 1000); // 100 days old

    // Add a recent log
    auditService.logUserAction('user2', 'profile_update', 'user_profile');
    expect(auditService.auditLogs.length).toBe(2);

    // Clear logs older than 90 days
    const removedCount = auditService.clearOldLogs(90);
    expect(removedCount).toBe(1);
    expect(auditService.auditLogs.length).toBe(1);
    expect(auditService.auditLogs[0].action).toBe('profile_update');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhdWRpdFNlcnZpY2UiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiYXVkaXRMb2dzIiwidGVzdCIsInVzZXJJZCIsImFjdGlvbiIsInJlc291cmNlIiwiZGV0YWlscyIsImlwQWRkcmVzcyIsImF1ZGl0RW50cnkiLCJsb2dTZWN1cml0eUV2ZW50IiwiZXhwZWN0IiwidG9CZURlZmluZWQiLCJ0eXBlIiwidG9CZSIsInRvRXF1YWwiLCJzZXZlcml0eSIsImVucm9sbG1lbnRJZCIsImxvZ1VzZXJBY3Rpb24iLCJzZXJ2aWNlIiwidmVyc2lvbiIsImxvZ1N5c3RlbUV2ZW50IiwiZmllbGRzIiwibG9nRGF0YUFjY2VzcyIsInVzZXJBY3Rpb25Mb2dzIiwiZ2V0QXVkaXRMb2dzIiwibG9ncyIsImxlbmd0aCIsImV2ZXJ5IiwibG9nIiwidXNlcjFMb2dzIiwic3RhdHMiLCJnZXRTZWN1cml0eVN0YXRzIiwidG90YWxFdmVudHMiLCJoaWdoU2V2ZXJpdHkiLCJtZWRpdW1TZXZlcml0eSIsImxvd1NldmVyaXR5Iiwib2xkTG9nIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInJlbW92ZWRDb3VudCIsImNsZWFyT2xkTG9ncyJdLCJzb3VyY2VzIjpbImF1ZGl0LXNlcnZpY2UudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhdWRpdFNlcnZpY2UgPSByZXF1aXJlKCcuLi9pbmRleCcpO1xuXG5kZXNjcmliZSgnQXVkaXQgTG9nZ2luZyBTZXJ2aWNlJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAvLyBDbGVhciBhdWRpdCBsb2dzIGJlZm9yZSBlYWNoIHRlc3RcbiAgICBhdWRpdFNlcnZpY2UuYXVkaXRMb2dzID0gW107XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBsb2cgc2VjdXJpdHkgZXZlbnRzJywgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXJJZCA9ICd1c2VyMTIzJztcbiAgICBjb25zdCBhY3Rpb24gPSAnbG9naW5fc3VjY2Vzcyc7XG4gICAgY29uc3QgcmVzb3VyY2UgPSAnYXV0aF9zZXJ2aWNlJztcbiAgICBjb25zdCBkZXRhaWxzID0geyBpcEFkZHJlc3M6ICcxOTIuMTY4LjEuMScgfTtcblxuICAgIGNvbnN0IGF1ZGl0RW50cnkgPSBhdWRpdFNlcnZpY2UubG9nU2VjdXJpdHlFdmVudCh1c2VySWQsIGFjdGlvbiwgcmVzb3VyY2UsIGRldGFpbHMpO1xuXG4gICAgZXhwZWN0KGF1ZGl0RW50cnkpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KGF1ZGl0RW50cnkudHlwZSkudG9CZSgnc2VjdXJpdHknKTtcbiAgICBleHBlY3QoYXVkaXRFbnRyeS51c2VySWQpLnRvQmUodXNlcklkKTtcbiAgICBleHBlY3QoYXVkaXRFbnRyeS5hY3Rpb24pLnRvQmUoYWN0aW9uKTtcbiAgICBleHBlY3QoYXVkaXRFbnRyeS5yZXNvdXJjZSkudG9CZShyZXNvdXJjZSk7XG4gICAgZXhwZWN0KGF1ZGl0RW50cnkuZGV0YWlscykudG9FcXVhbChkZXRhaWxzKTtcbiAgICBleHBlY3QoYXVkaXRFbnRyeS5zZXZlcml0eSkudG9CZSgnbWVkaXVtJyk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBsb2cgdXNlciBhY3Rpb25zJywgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXJJZCA9ICd1c2VyMTIzJztcbiAgICBjb25zdCBhY3Rpb24gPSAnY291cnNlX2Vucm9sbG1lbnQnO1xuICAgIGNvbnN0IHJlc291cmNlID0gJ2NvdXJzZV9hbGdlYnJhXzEwMSc7XG4gICAgY29uc3QgZGV0YWlscyA9IHsgZW5yb2xsbWVudElkOiAnZW5yb2xsNzg5JyB9O1xuXG4gICAgY29uc3QgYXVkaXRFbnRyeSA9IGF1ZGl0U2VydmljZS5sb2dVc2VyQWN0aW9uKHVzZXJJZCwgYWN0aW9uLCByZXNvdXJjZSwgZGV0YWlscyk7XG5cbiAgICBleHBlY3QoYXVkaXRFbnRyeSkudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3QoYXVkaXRFbnRyeS50eXBlKS50b0JlKCd1c2VyX2FjdGlvbicpO1xuICAgIGV4cGVjdChhdWRpdEVudHJ5LnVzZXJJZCkudG9CZSh1c2VySWQpO1xuICAgIGV4cGVjdChhdWRpdEVudHJ5LmFjdGlvbikudG9CZShhY3Rpb24pO1xuICAgIGV4cGVjdChhdWRpdEVudHJ5LnJlc291cmNlKS50b0JlKHJlc291cmNlKTtcbiAgICBleHBlY3QoYXVkaXRFbnRyeS5kZXRhaWxzKS50b0VxdWFsKGRldGFpbHMpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgbG9nIHN5c3RlbSBldmVudHMnLCAoKSA9PiB7XG4gICAgY29uc3Qgc2VydmljZSA9ICdwYXltZW50X3NlcnZpY2UnO1xuICAgIGNvbnN0IGFjdGlvbiA9ICdzdGFydHVwJztcbiAgICBjb25zdCBkZXRhaWxzID0geyB2ZXJzaW9uOiAnMS4yLjMnIH07XG5cbiAgICBjb25zdCBhdWRpdEVudHJ5ID0gYXVkaXRTZXJ2aWNlLmxvZ1N5c3RlbUV2ZW50KHNlcnZpY2UsIGFjdGlvbiwgZGV0YWlscyk7XG5cbiAgICBleHBlY3QoYXVkaXRFbnRyeSkudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3QoYXVkaXRFbnRyeS50eXBlKS50b0JlKCdzeXN0ZW0nKTtcbiAgICBleHBlY3QoYXVkaXRFbnRyeS5zZXJ2aWNlKS50b0JlKHNlcnZpY2UpO1xuICAgIGV4cGVjdChhdWRpdEVudHJ5LmFjdGlvbikudG9CZShhY3Rpb24pO1xuICAgIGV4cGVjdChhdWRpdEVudHJ5LmRldGFpbHMpLnRvRXF1YWwoZGV0YWlscyk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBsb2cgZGF0YSBhY2Nlc3MgZXZlbnRzJywgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXJJZCA9ICd1c2VyMTIzJztcbiAgICBjb25zdCBhY3Rpb24gPSAncmVhZCc7XG4gICAgY29uc3QgcmVzb3VyY2UgPSAndXNlcl9wcm9maWxlXzQ1Nic7XG4gICAgY29uc3QgZGV0YWlscyA9IHsgZmllbGRzOiBbJ25hbWUnLCAnZW1haWwnXSB9O1xuXG4gICAgY29uc3QgYXVkaXRFbnRyeSA9IGF1ZGl0U2VydmljZS5sb2dEYXRhQWNjZXNzKHVzZXJJZCwgYWN0aW9uLCByZXNvdXJjZSwgZGV0YWlscyk7XG5cbiAgICBleHBlY3QoYXVkaXRFbnRyeSkudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3QoYXVkaXRFbnRyeS50eXBlKS50b0JlKCdkYXRhX2FjY2VzcycpO1xuICAgIGV4cGVjdChhdWRpdEVudHJ5LnVzZXJJZCkudG9CZSh1c2VySWQpO1xuICAgIGV4cGVjdChhdWRpdEVudHJ5LmFjdGlvbikudG9CZShhY3Rpb24pO1xuICAgIGV4cGVjdChhdWRpdEVudHJ5LnJlc291cmNlKS50b0JlKHJlc291cmNlKTtcbiAgICBleHBlY3QoYXVkaXRFbnRyeS5kZXRhaWxzKS50b0VxdWFsKGRldGFpbHMpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgZmlsdGVyIGF1ZGl0IGxvZ3MnLCAoKSA9PiB7XG4gICAgLy8gQWRkIHNvbWUgdGVzdCBsb2dzXG4gICAgYXVkaXRTZXJ2aWNlLmxvZ1NlY3VyaXR5RXZlbnQoJ3VzZXIxJywgJ2xvZ2luX3N1Y2Nlc3MnLCAnYXV0aF9zZXJ2aWNlJyk7XG4gICAgYXVkaXRTZXJ2aWNlLmxvZ1VzZXJBY3Rpb24oJ3VzZXIxJywgJ2NvdXJzZV9lbnJvbGxtZW50JywgJ2NvdXJzZV8xMjMnKTtcbiAgICBhdWRpdFNlcnZpY2UubG9nVXNlckFjdGlvbigndXNlcjInLCAncHJvZmlsZV91cGRhdGUnLCAndXNlcl9wcm9maWxlJyk7XG5cbiAgICAvLyBGaWx0ZXIgYnkgdHlwZVxuICAgIGNvbnN0IHVzZXJBY3Rpb25Mb2dzID0gYXVkaXRTZXJ2aWNlLmdldEF1ZGl0TG9ncyh7IHR5cGU6ICd1c2VyX2FjdGlvbicgfSk7XG4gICAgZXhwZWN0KHVzZXJBY3Rpb25Mb2dzLmxvZ3MubGVuZ3RoKS50b0JlKDIpO1xuICAgIGV4cGVjdCh1c2VyQWN0aW9uTG9ncy5sb2dzLmV2ZXJ5KGxvZyA9PiBsb2cudHlwZSA9PT0gJ3VzZXJfYWN0aW9uJykpLnRvQmUodHJ1ZSk7XG5cbiAgICAvLyBGaWx0ZXIgYnkgdXNlciBJRFxuICAgIGNvbnN0IHVzZXIxTG9ncyA9IGF1ZGl0U2VydmljZS5nZXRBdWRpdExvZ3MoeyB1c2VySWQ6ICd1c2VyMScgfSk7XG4gICAgZXhwZWN0KHVzZXIxTG9ncy5sb2dzLmxlbmd0aCkudG9CZSgyKTtcbiAgICBleHBlY3QodXNlcjFMb2dzLmxvZ3MuZXZlcnkobG9nID0+IGxvZy51c2VySWQgPT09ICd1c2VyMScpKS50b0JlKHRydWUpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgY2FsY3VsYXRlIHNlY3VyaXR5IHN0YXRpc3RpY3MnLCAoKSA9PiB7XG4gICAgLy8gQWRkIHNvbWUgc2VjdXJpdHkgZXZlbnRzXG4gICAgYXVkaXRTZXJ2aWNlLmxvZ1NlY3VyaXR5RXZlbnQoJ3VzZXIxJywgJ2xvZ2luX3N1Y2Nlc3MnLCAnYXV0aF9zZXJ2aWNlJyk7XG4gICAgYXVkaXRTZXJ2aWNlLmxvZ1NlY3VyaXR5RXZlbnQoJ3VzZXIyJywgJ2xvZ2luX2ZhaWxlZCcsICdhdXRoX3NlcnZpY2UnKTtcbiAgICBhdWRpdFNlcnZpY2UubG9nU2VjdXJpdHlFdmVudCgndXNlcjMnLCAndW5hdXRob3JpemVkX2FjY2VzcycsICdhcGlfZ2F0ZXdheScpO1xuXG4gICAgY29uc3Qgc3RhdHMgPSBhdWRpdFNlcnZpY2UuZ2V0U2VjdXJpdHlTdGF0cygpO1xuXG4gICAgZXhwZWN0KHN0YXRzLnRvdGFsRXZlbnRzKS50b0JlKDMpO1xuICAgIGV4cGVjdChzdGF0cy5oaWdoU2V2ZXJpdHkpLnRvQmUoMSk7XG4gICAgZXhwZWN0KHN0YXRzLm1lZGl1bVNldmVyaXR5KS50b0JlKDEpO1xuICAgIGV4cGVjdChzdGF0cy5sb3dTZXZlcml0eSkudG9CZSgxKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIGNsZWFyIG9sZCBsb2dzJywgKCkgPT4ge1xuICAgIC8vIEFkZCBzb21lIG9sZCBsb2dzXG4gICAgY29uc3Qgb2xkTG9nID0gYXVkaXRTZXJ2aWNlLmxvZ1NlY3VyaXR5RXZlbnQoJ3VzZXIxJywgJ2xvZ2luX3N1Y2Nlc3MnLCAnYXV0aF9zZXJ2aWNlJyk7XG4gICAgb2xkTG9nLnRpbWVzdGFtcCA9IG5ldyBEYXRlKERhdGUubm93KCkgLSAxMDAgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsgLy8gMTAwIGRheXMgb2xkXG5cbiAgICAvLyBBZGQgYSByZWNlbnQgbG9nXG4gICAgYXVkaXRTZXJ2aWNlLmxvZ1VzZXJBY3Rpb24oJ3VzZXIyJywgJ3Byb2ZpbGVfdXBkYXRlJywgJ3VzZXJfcHJvZmlsZScpO1xuXG4gICAgZXhwZWN0KGF1ZGl0U2VydmljZS5hdWRpdExvZ3MubGVuZ3RoKS50b0JlKDIpO1xuXG4gICAgLy8gQ2xlYXIgbG9ncyBvbGRlciB0aGFuIDkwIGRheXNcbiAgICBjb25zdCByZW1vdmVkQ291bnQgPSBhdWRpdFNlcnZpY2UuY2xlYXJPbGRMb2dzKDkwKTtcblxuICAgIGV4cGVjdChyZW1vdmVkQ291bnQpLnRvQmUoMSk7XG4gICAgZXhwZWN0KGF1ZGl0U2VydmljZS5hdWRpdExvZ3MubGVuZ3RoKS50b0JlKDEpO1xuICAgIGV4cGVjdChhdWRpdFNlcnZpY2UuYXVkaXRMb2dzWzBdLmFjdGlvbikudG9CZSgncHJvZmlsZV91cGRhdGUnKTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFFeENDLFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxNQUFNO0VBQ3RDQyxVQUFVLENBQUMsTUFBTTtJQUNmO0lBQ0FILFlBQVksQ0FBQ0ksU0FBUyxHQUFHLEVBQUU7RUFDN0IsQ0FBQyxDQUFDO0VBRUZDLElBQUksQ0FBQyw0QkFBNEIsRUFBRSxNQUFNO0lBQ3ZDLE1BQU1DLE1BQU0sR0FBRyxTQUFTO0lBQ3hCLE1BQU1DLE1BQU0sR0FBRyxlQUFlO0lBQzlCLE1BQU1DLFFBQVEsR0FBRyxjQUFjO0lBQy9CLE1BQU1DLE9BQU8sR0FBRztNQUFFQyxTQUFTLEVBQUU7SUFB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