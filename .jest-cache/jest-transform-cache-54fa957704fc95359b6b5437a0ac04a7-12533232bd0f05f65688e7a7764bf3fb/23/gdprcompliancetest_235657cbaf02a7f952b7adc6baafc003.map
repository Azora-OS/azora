{"version":3,"names":["describe","testUserId","apiBaseUrl","process","env","API_URL","it","response","fetch","method","headers","body","JSON","stringify","analytics","marketing","personalization","expect","status","toBe","data","json","success","toHaveProperty","get","toContain","user","Array","isArray","enrollments","payments","wallets","assessments","contentDisposition","message","error","confirmationToken","policies","forEach","policy","accessResponse","deleteResponse","portabilityResponse","objectResponse","requestTime","Date","responseTime","responseTimeMs","getTime","toBeLessThan"],"sources":["gdpr-compliance.test.ts"],"sourcesContent":["/**\r\n * GDPR Compliance Integration Tests\r\n * Tests for data export, deletion, and consent management\r\n */\r\n\r\ndescribe('GDPR Compliance', () => {\r\n  const testUserId = 'test-user-gdpr-123';\r\n  const apiBaseUrl = process.env.API_URL || 'http://localhost:3000';\r\n\r\n  describe('Consent Management', () => {\r\n    it('should allow user to grant consent', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/consent`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-user-id': testUserId\r\n        },\r\n        body: JSON.stringify({\r\n          analytics: true,\r\n          marketing: true,\r\n          personalization: true\r\n        })\r\n      });\r\n\r\n      expect(response.status).toBe(200);\r\n      const data = await response.json();\r\n      expect(data.success).toBe(true);\r\n    });\r\n\r\n    it('should retrieve consent status', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/consent`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'x-user-id': testUserId\r\n        }\r\n      });\r\n\r\n      expect(response.status).toBe(200);\r\n      const data = await response.json();\r\n      expect(data).toHaveProperty('userId');\r\n      expect(data).toHaveProperty('essential');\r\n      expect(data).toHaveProperty('analytics');\r\n      expect(data).toHaveProperty('marketing');\r\n      expect(data).toHaveProperty('personalization');\r\n    });\r\n\r\n    it('should allow user to withdraw consent', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/consent`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'x-user-id': testUserId\r\n        }\r\n      });\r\n\r\n      expect(response.status).toBe(200);\r\n      const data = await response.json();\r\n      expect(data.success).toBe(true);\r\n    });\r\n\r\n    it('should require authentication for consent endpoints', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/consent`, {\r\n        method: 'GET'\r\n      });\r\n\r\n      expect(response.status).toBe(401);\r\n    });\r\n  });\r\n\r\n  describe('Data Export (Right to Data Portability)', () => {\r\n    it('should export user data in machine-readable format', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/data-export`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'x-user-id': testUserId\r\n        }\r\n      });\r\n\r\n      expect(response.status).toBe(200);\r\n      expect(response.headers.get('content-type')).toContain('application/json');\r\n      expect(response.headers.get('content-disposition')).toContain('attachment');\r\n\r\n      const data = await response.json();\r\n      expect(data).toHaveProperty('user');\r\n      expect(data).toHaveProperty('enrollments');\r\n      expect(data).toHaveProperty('payments');\r\n      expect(data).toHaveProperty('wallets');\r\n    });\r\n\r\n    it('should include all user data in export', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/data-export`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'x-user-id': testUserId\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      // Verify user profile data\r\n      expect(data.user).toHaveProperty('id');\r\n      expect(data.user).toHaveProperty('email');\r\n      expect(data.user).toHaveProperty('name');\r\n      expect(data.user).toHaveProperty('role');\r\n\r\n      // Verify related data\r\n      expect(Array.isArray(data.enrollments)).toBe(true);\r\n      expect(Array.isArray(data.payments)).toBe(true);\r\n      expect(Array.isArray(data.wallets)).toBe(true);\r\n      expect(Array.isArray(data.assessments)).toBe(true);\r\n    });\r\n\r\n    it('should require authentication for data export', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/data-export`, {\r\n        method: 'GET'\r\n      });\r\n\r\n      expect(response.status).toBe(401);\r\n    });\r\n\r\n    it('should return downloadable file', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/data-export`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'x-user-id': testUserId\r\n        }\r\n      });\r\n\r\n      const contentDisposition = response.headers.get('content-disposition');\r\n      expect(contentDisposition).toContain('attachment');\r\n      expect(contentDisposition).toContain('.json');\r\n    });\r\n  });\r\n\r\n  describe('Data Deletion (Right to Erasure)', () => {\r\n    it('should request account deletion', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/delete-account`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'x-user-id': testUserId\r\n        }\r\n      });\r\n\r\n      expect(response.status).toBe(200);\r\n      const data = await response.json();\r\n      expect(data.success).toBe(true);\r\n      expect(data.message).toContain('Confirmation email');\r\n    });\r\n\r\n    it('should require confirmation token for deletion', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/delete-account`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'x-user-id': testUserId,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({})\r\n      });\r\n\r\n      expect(response.status).toBe(400);\r\n      const data = await response.json();\r\n      expect(data.error).toContain('token');\r\n    });\r\n\r\n    it('should delete user data with valid confirmation', async () => {\r\n      // This test assumes a valid confirmation token is provided\r\n      const confirmationToken = 'valid-token-123';\r\n\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/delete-account`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'x-user-id': testUserId,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ confirmationToken })\r\n      });\r\n\r\n      expect(response.status).toBe(200);\r\n      const data = await response.json();\r\n      expect(data.success).toBe(true);\r\n    });\r\n\r\n    it('should require authentication for deletion', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/delete-account`, {\r\n        method: 'POST'\r\n      });\r\n\r\n      expect(response.status).toBe(401);\r\n    });\r\n  });\r\n\r\n  describe('Data Retention Policy', () => {\r\n    it('should retrieve retention policies', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/retention-policy`, {\r\n        method: 'GET'\r\n      });\r\n\r\n      expect(response.status).toBe(200);\r\n      const data = await response.json();\r\n      expect(data).toHaveProperty('policies');\r\n      expect(Array.isArray(data.policies)).toBe(true);\r\n    });\r\n\r\n    it('should include retention periods', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/retention-policy`, {\r\n        method: 'GET'\r\n      });\r\n\r\n      const data = await response.json();\r\n      const policies = data.policies;\r\n\r\n      policies.forEach((policy: any) => {\r\n        expect(policy).toHaveProperty('dataType');\r\n        expect(policy).toHaveProperty('retentionDays');\r\n        expect(policy).toHaveProperty('autoDelete');\r\n      });\r\n    });\r\n\r\n    it('should show cleanup schedule', async () => {\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/retention-policy`, {\r\n        method: 'GET'\r\n      });\r\n\r\n      const data = await response.json();\r\n      expect(data).toHaveProperty('lastCleanup');\r\n      expect(data).toHaveProperty('nextCleanup');\r\n    });\r\n  });\r\n\r\n  describe('GDPR Compliance Verification', () => {\r\n    it('should support all GDPR rights', async () => {\r\n      // Right to Access\r\n      const accessResponse = await fetch(`${apiBaseUrl}/api/gdpr/data-export`, {\r\n        method: 'GET',\r\n        headers: { 'x-user-id': testUserId }\r\n      });\r\n      expect(accessResponse.status).toBe(200);\r\n\r\n      // Right to Rectification (user can update profile)\r\n      // This would be tested via user profile update endpoint\r\n\r\n      // Right to Erasure\r\n      const deleteResponse = await fetch(`${apiBaseUrl}/api/gdpr/delete-account`, {\r\n        method: 'POST',\r\n        headers: { 'x-user-id': testUserId }\r\n      });\r\n      expect(deleteResponse.status).toBe(200);\r\n\r\n      // Right to Data Portability\r\n      const portabilityResponse = await fetch(`${apiBaseUrl}/api/gdpr/data-export`, {\r\n        method: 'GET',\r\n        headers: { 'x-user-id': testUserId }\r\n      });\r\n      expect(portabilityResponse.status).toBe(200);\r\n\r\n      // Right to Object (withdraw consent)\r\n      const objectResponse = await fetch(`${apiBaseUrl}/api/gdpr/consent`, {\r\n        method: 'DELETE',\r\n        headers: { 'x-user-id': testUserId }\r\n      });\r\n      expect(objectResponse.status).toBe(200);\r\n    });\r\n\r\n    it('should enforce 30-day response time for data requests', async () => {\r\n      const requestTime = new Date();\r\n\r\n      const response = await fetch(`${apiBaseUrl}/api/gdpr/data-export`, {\r\n        method: 'GET',\r\n        headers: { 'x-user-id': testUserId }\r\n      });\r\n\r\n      const responseTime = new Date();\r\n      const responseTimeMs = responseTime.getTime() - requestTime.getTime();\r\n\r\n      // Response should be immediate (not 30 days)\r\n      expect(responseTimeMs).toBeLessThan(5000); // 5 seconds\r\n    });\r\n\r\n    it('should maintain audit logs for GDPR requests', async () => {\r\n      // Make a GDPR request\r\n      await fetch(`${apiBaseUrl}/api/gdpr/data-export`, {\r\n        method: 'GET',\r\n        headers: { 'x-user-id': testUserId }\r\n      });\r\n\r\n      // Verify audit log was created\r\n      // This would require an admin endpoint to check audit logs\r\n      // For now, we just verify the request succeeded\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}