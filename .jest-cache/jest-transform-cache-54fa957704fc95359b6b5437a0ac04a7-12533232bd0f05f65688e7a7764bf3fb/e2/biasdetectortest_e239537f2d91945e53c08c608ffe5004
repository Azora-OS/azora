ebab326633a060cb439ef121d1432935
"use strict";

var _validators = require("../validators");
var _types = require("../types");
/**
 * Bias Detector Tests
 * Tests for demographic bias detection and mitigation
 */

describe('BiasDetector', () => {
  let detector;
  beforeEach(() => {
    detector = new _validators.BiasDetector({
      enabled: true,
      confidenceThreshold: 0.6,
      autoMitigate: true,
      severityThreshold: _types.BiasSeverity.MEDIUM,
      biasTypesToCheck: Object.values(_types.BiasType)
    });
  });
  describe('Gender Bias Detection', () => {
    it('should detect gender stereotypes', async () => {
      const output = 'Men are better at math than women.';
      const report = await detector.detectBias(output);
      expect(report.hasBias).toBe(true);
      expect(report.biasTypes.length).toBeGreaterThan(0);
      expect(report.biasTypes[0].type).toBe(_types.BiasType.GENDER);
      expect(report.overallSeverity).toBe(_types.BiasSeverity.HIGH);
    });
    it('should detect gendered language', async () => {
      const output = 'Women are too emotional for leadership positions.';
      const report = await detector.detectBias(output);
      expect(report.hasBias).toBe(true);
      expect(report.biasTypes.some(b => b.type === _types.BiasType.GENDER)).toBe(true);
    });
    it('should not flag neutral gender references', async () => {
      const output = 'The team includes both men and women working together.';
      const report = await detector.detectBias(output);
      expect(report.hasBias).toBe(false);
    });
  });
  describe('Race Bias Detection', () => {
    it('should detect racial stereotypes', async () => {
      const output = 'All Asian people are good at math.';
      const report = await detector.detectBias(output);
      expect(report.hasBias).toBe(true);
      expect(report.biasTypes.some(b => b.type === _types.BiasType.RACE)).toBe(true);
      expect(report.overallSeverity).toBe(_types.BiasSeverity.CRITICAL);
    });
    it('should not flag neutral race references', async () => {
      const output = 'The study included participants from diverse racial backgrounds.';
      const report = await detector.detectBias(output);
      expect(report.hasBias).toBe(false);
    });
  });
  describe('Age Bias Detection', () => {
    it('should detect age stereotypes', async () => {
      const output = 'Old people cannot learn new technology.';
      const report = await detector.detectBias(output);
      expect(report.hasBias).toBe(true);
      expect(report.biasTypes.some(b => b.type === _types.BiasType.AGE)).toBe(true);
    });
    it('should detect youth stereotypes', async () => {
      const output = 'Young people are lazy and entitled.';
      const report = await detector.detectBias(output);
      expect(report.hasBias).toBe(true);
      expect(report.biasTypes.some(b => b.type === _types.BiasType.AGE)).toBe(true);
    });
  });
  describe('Disability Bias Detection', () => {
    it('should detect ableist language', async () => {
      const output = 'He is wheelchair bound and cannot work.';
      const report = await detector.detectBias(output);
      expect(report.hasBias).toBe(true);
      expect(report.biasTypes.some(b => b.type === _types.BiasType.DISABILITY)).toBe(true);
    });
    it('should detect offensive disability terms', async () => {
      const output = 'That idea is retarded.';
      const report = await detector.detectBias(output);
      expect(report.hasBias).toBe(true);
      expect(report.overallSeverity).toBe(_types.BiasSeverity.HIGH);
    });
  });
  describe('Bias Mitigation', () => {
    it('should mitigate detected bias when autoMitigate is enabled', async () => {
      const output = 'Men are better leaders than women.';
      const report = await detector.detectBias(output);
      expect(report.mitigationApplied).toBe(true);
      expect(report.mitigatedOutput).toBeDefined();
      expect(report.mitigatedOutput).not.toBe(output);
    });
    it('should not mitigate when autoMitigate is disabled', async () => {
      const detectorNoMitigation = new _validators.BiasDetector({
        autoMitigate: false
      });
      const output = 'Men are better leaders than women.';
      const report = await detectorNoMitigation.detectBias(output);
      expect(report.mitigationApplied).toBe(false);
      expect(report.mitigatedOutput).toBeUndefined();
    });
  });
  describe('Confidence Scoring', () => {
    it('should calculate confidence scores for matches', async () => {
      const output = 'Women are worse at driving than men.';
      const report = await detector.detectBias(output);
      expect(report.biasTypes.length).toBeGreaterThan(0);
      expect(report.biasTypes[0].confidence).toBeGreaterThanOrEqual(0);
      expect(report.biasTypes[0].confidence).toBeLessThanOrEqual(1);
    });
    it('should filter out low confidence matches', async () => {
      const detectorHighThreshold = new _validators.BiasDetector({
        confidenceThreshold: 0.95
      });
      const output = 'Men and women have different perspectives.';
      const report = await detectorHighThreshold.detectBias(output);

      // Should not detect bias due to high confidence threshold
      expect(report.hasBias).toBe(false);
    });
  });
  describe('Severity Calculation', () => {
    it('should calculate overall severity correctly', async () => {
      const output = 'All Muslims are terrorists.';
      const report = await detector.detectBias(output);
      expect(report.overallSeverity).toBe(_types.BiasSeverity.CRITICAL);
    });
    it('should return LOW severity for no bias', async () => {
      const output = 'The weather is nice today.';
      const report = await detector.detectBias(output);
      expect(report.overallSeverity).toBe(_types.BiasSeverity.LOW);
    });
  });
  describe('Configuration', () => {
    it('should respect enabled configuration', async () => {
      const disabledDetector = new _validators.BiasDetector({
        enabled: false
      });
      const output = 'Men are better than women.';
      const report = await disabledDetector.detectBias(output);
      expect(report.hasBias).toBe(false);
    });
    it('should allow updating configuration', () => {
      detector.updateConfig({
        confidenceThreshold: 0.9
      });
      const config = detector.getConfig();
      expect(config.confidenceThreshold).toBe(0.9);
    });
    it('should filter bias types based on configuration', async () => {
      const genderOnlyDetector = new _validators.BiasDetector({
        biasTypesToCheck: [_types.BiasType.GENDER]
      });
      const output = 'All Muslims are terrorists.';
      const report = await genderOnlyDetector.detectBias(output);

      // Should not detect religion bias since it's not in the check list
      expect(report.hasBias).toBe(false);
    });
  });
  describe('Edge Cases', () => {
    it('should handle empty input', async () => {
      const report = await detector.detectBias('');
      expect(report.hasBias).toBe(false);
      expect(report.biasTypes).toHaveLength(0);
    });
    it('should handle null/undefined gracefully', async () => {
      const report = await detector.detectBias('');
      expect(report).toBeDefined();
      expect(report.hasBias).toBe(false);
    });
    it('should handle very long text', async () => {
      const longText = 'This is a neutral sentence. '.repeat(1000);
      const report = await detector.detectBias(longText);
      expect(report).toBeDefined();
    });
  });
});
describe('EnhancedBiasDetector', () => {
  let enhancedDetector;
  beforeEach(() => {
    enhancedDetector = new _validators.EnhancedBiasDetector({
      enabled: true,
      confidenceThreshold: 0.6,
      autoMitigate: true,
      severityThreshold: _types.BiasSeverity.MEDIUM,
      biasTypesToCheck: Object.values(_types.BiasType)
    });
  });
  describe('NLP-Enhanced Detection', () => {
    it('should detect gendered job titles', async () => {
      const output = 'The chairman will address the meeting.';
      const report = await enhancedDetector.detectBias(output);
      expect(report.hasBias).toBe(true);
      expect(report.biasTypes.some(b => b.type === _types.BiasType.GENDER)).toBe(true);
    });
    it('should detect exclusionary language', async () => {
      const output = 'Normal people can walk up stairs.';
      const report = await enhancedDetector.detectBias(output);
      expect(report.hasBias).toBe(true);
      expect(report.biasTypes.some(b => b.type === _types.BiasType.DISABILITY)).toBe(true);
    });
    it('should detect stereotypical associations', async () => {
      const output = 'Women are too emotional for business decisions.';
      const report = await enhancedDetector.detectBias(output);
      expect(report.hasBias).toBe(true);
      expect(report.biasTypes.some(b => b.type === _types.BiasType.GENDER)).toBe(true);
    });
  });
  describe('Deduplication', () => {
    it('should deduplicate overlapping bias detections', async () => {
      const output = 'Men are better and stronger than women.';
      const report = await enhancedDetector.detectBias(output);

      // Should detect bias but deduplicate overlapping matches
      expect(report.hasBias).toBe(true);

      // Count unique bias locations
      const uniqueLocations = new Set(report.biasTypes.map(b => `${b.location.start}-${b.location.end}`));

      // Should have fewer unique locations than total biases if deduplication worked
      expect(uniqueLocations.size).toBeGreaterThan(0);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdmFsaWRhdG9ycyIsInJlcXVpcmUiLCJfdHlwZXMiLCJkZXNjcmliZSIsImRldGVjdG9yIiwiYmVmb3JlRWFjaCIsIkJpYXNEZXRlY3RvciIsImVuYWJsZWQiLCJjb25maWRlbmNlVGhyZXNob2xkIiwiYXV0b01pdGlnYXRlIiwic2V2ZXJpdHlUaHJlc2hvbGQiLCJCaWFzU2V2ZXJpdHkiLCJNRURJVU0iLCJiaWFzVHlwZXNUb0NoZWNrIiwiT2JqZWN0IiwidmFsdWVzIiwiQmlhc1R5cGUiLCJpdCIsIm91dHB1dCIsInJlcG9ydCIsImRldGVjdEJpYXMiLCJleHBlY3QiLCJoYXNCaWFzIiwidG9CZSIsImJpYXNUeXBlcyIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsInR5cGUiLCJHRU5ERVIiLCJvdmVyYWxsU2V2ZXJpdHkiLCJISUdIIiwic29tZSIsImIiLCJSQUNFIiwiQ1JJVElDQUwiLCJBR0UiLCJESVNBQklMSVRZIiwibWl0aWdhdGlvbkFwcGxpZWQiLCJtaXRpZ2F0ZWRPdXRwdXQiLCJ0b0JlRGVmaW5lZCIsIm5vdCIsImRldGVjdG9yTm9NaXRpZ2F0aW9uIiwidG9CZVVuZGVmaW5lZCIsImNvbmZpZGVuY2UiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwidG9CZUxlc3NUaGFuT3JFcXVhbCIsImRldGVjdG9ySGlnaFRocmVzaG9sZCIsIkxPVyIsImRpc2FibGVkRGV0ZWN0b3IiLCJ1cGRhdGVDb25maWciLCJjb25maWciLCJnZXRDb25maWciLCJnZW5kZXJPbmx5RGV0ZWN0b3IiLCJ0b0hhdmVMZW5ndGgiLCJsb25nVGV4dCIsInJlcGVhdCIsImVuaGFuY2VkRGV0ZWN0b3IiLCJFbmhhbmNlZEJpYXNEZXRlY3RvciIsInVuaXF1ZUxvY2F0aW9ucyIsIlNldCIsIm1hcCIsImxvY2F0aW9uIiwic3RhcnQiLCJlbmQiLCJzaXplIl0sInNvdXJjZXMiOlsiYmlhcy1kZXRlY3Rvci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBCaWFzIERldGVjdG9yIFRlc3RzXHJcbiAqIFRlc3RzIGZvciBkZW1vZ3JhcGhpYyBiaWFzIGRldGVjdGlvbiBhbmQgbWl0aWdhdGlvblxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEJpYXNEZXRlY3RvciwgRW5oYW5jZWRCaWFzRGV0ZWN0b3IgfSBmcm9tICcuLi92YWxpZGF0b3JzJztcclxuaW1wb3J0IHsgQmlhc1R5cGUsIEJpYXNTZXZlcml0eSB9IGZyb20gJy4uL3R5cGVzJztcclxuXHJcbmRlc2NyaWJlKCdCaWFzRGV0ZWN0b3InLCAoKSA9PiB7XHJcbiAgbGV0IGRldGVjdG9yOiBCaWFzRGV0ZWN0b3I7XHJcblxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgZGV0ZWN0b3IgPSBuZXcgQmlhc0RldGVjdG9yKHtcclxuICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgY29uZmlkZW5jZVRocmVzaG9sZDogMC42LFxyXG4gICAgICBhdXRvTWl0aWdhdGU6IHRydWUsXHJcbiAgICAgIHNldmVyaXR5VGhyZXNob2xkOiBCaWFzU2V2ZXJpdHkuTUVESVVNLFxyXG4gICAgICBiaWFzVHlwZXNUb0NoZWNrOiBPYmplY3QudmFsdWVzKEJpYXNUeXBlKVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdHZW5kZXIgQmlhcyBEZXRlY3Rpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBnZW5kZXIgc3RlcmVvdHlwZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG91dHB1dCA9ICdNZW4gYXJlIGJldHRlciBhdCBtYXRoIHRoYW4gd29tZW4uJztcclxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgZGV0ZWN0b3IuZGV0ZWN0QmlhcyhvdXRwdXQpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlcG9ydC5oYXNCaWFzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVwb3J0LmJpYXNUeXBlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydC5iaWFzVHlwZXNbMF0udHlwZSkudG9CZShCaWFzVHlwZS5HRU5ERVIpO1xyXG4gICAgICBleHBlY3QocmVwb3J0Lm92ZXJhbGxTZXZlcml0eSkudG9CZShCaWFzU2V2ZXJpdHkuSElHSCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBnZW5kZXJlZCBsYW5ndWFnZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgb3V0cHV0ID0gJ1dvbWVuIGFyZSB0b28gZW1vdGlvbmFsIGZvciBsZWFkZXJzaGlwIHBvc2l0aW9ucy4nO1xyXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBkZXRlY3Rvci5kZXRlY3RCaWFzKG91dHB1dCk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0Lmhhc0JpYXMpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXBvcnQuYmlhc1R5cGVzLnNvbWUoYiA9PiBiLnR5cGUgPT09IEJpYXNUeXBlLkdFTkRFUikpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIG5vdCBmbGFnIG5ldXRyYWwgZ2VuZGVyIHJlZmVyZW5jZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG91dHB1dCA9ICdUaGUgdGVhbSBpbmNsdWRlcyBib3RoIG1lbiBhbmQgd29tZW4gd29ya2luZyB0b2dldGhlci4nO1xyXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBkZXRlY3Rvci5kZXRlY3RCaWFzKG91dHB1dCk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0Lmhhc0JpYXMpLnRvQmUoZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdSYWNlIEJpYXMgRGV0ZWN0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgcmFjaWFsIHN0ZXJlb3R5cGVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBvdXRwdXQgPSAnQWxsIEFzaWFuIHBlb3BsZSBhcmUgZ29vZCBhdCBtYXRoLic7XHJcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IGRldGVjdG9yLmRldGVjdEJpYXMob3V0cHV0KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXBvcnQuaGFzQmlhcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydC5iaWFzVHlwZXMuc29tZShiID0+IGIudHlwZSA9PT0gQmlhc1R5cGUuUkFDRSkpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXBvcnQub3ZlcmFsbFNldmVyaXR5KS50b0JlKEJpYXNTZXZlcml0eS5DUklUSUNBTCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIG5vdCBmbGFnIG5ldXRyYWwgcmFjZSByZWZlcmVuY2VzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBvdXRwdXQgPSAnVGhlIHN0dWR5IGluY2x1ZGVkIHBhcnRpY2lwYW50cyBmcm9tIGRpdmVyc2UgcmFjaWFsIGJhY2tncm91bmRzLic7XHJcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IGRldGVjdG9yLmRldGVjdEJpYXMob3V0cHV0KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXBvcnQuaGFzQmlhcykudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0FnZSBCaWFzIERldGVjdGlvbicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IGFnZSBzdGVyZW90eXBlcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgb3V0cHV0ID0gJ09sZCBwZW9wbGUgY2Fubm90IGxlYXJuIG5ldyB0ZWNobm9sb2d5Lic7XHJcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IGRldGVjdG9yLmRldGVjdEJpYXMob3V0cHV0KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXBvcnQuaGFzQmlhcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydC5iaWFzVHlwZXMuc29tZShiID0+IGIudHlwZSA9PT0gQmlhc1R5cGUuQUdFKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IHlvdXRoIHN0ZXJlb3R5cGVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBvdXRwdXQgPSAnWW91bmcgcGVvcGxlIGFyZSBsYXp5IGFuZCBlbnRpdGxlZC4nO1xyXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBkZXRlY3Rvci5kZXRlY3RCaWFzKG91dHB1dCk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0Lmhhc0JpYXMpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXBvcnQuYmlhc1R5cGVzLnNvbWUoYiA9PiBiLnR5cGUgPT09IEJpYXNUeXBlLkFHRSkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0Rpc2FiaWxpdHkgQmlhcyBEZXRlY3Rpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBhYmxlaXN0IGxhbmd1YWdlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBvdXRwdXQgPSAnSGUgaXMgd2hlZWxjaGFpciBib3VuZCBhbmQgY2Fubm90IHdvcmsuJztcclxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgZGV0ZWN0b3IuZGV0ZWN0QmlhcyhvdXRwdXQpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlcG9ydC5oYXNCaWFzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVwb3J0LmJpYXNUeXBlcy5zb21lKGIgPT4gYi50eXBlID09PSBCaWFzVHlwZS5ESVNBQklMSVRZKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IG9mZmVuc2l2ZSBkaXNhYmlsaXR5IHRlcm1zJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBvdXRwdXQgPSAnVGhhdCBpZGVhIGlzIHJldGFyZGVkLic7XHJcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IGRldGVjdG9yLmRldGVjdEJpYXMob3V0cHV0KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXBvcnQuaGFzQmlhcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydC5vdmVyYWxsU2V2ZXJpdHkpLnRvQmUoQmlhc1NldmVyaXR5LkhJR0gpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdCaWFzIE1pdGlnYXRpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIG1pdGlnYXRlIGRldGVjdGVkIGJpYXMgd2hlbiBhdXRvTWl0aWdhdGUgaXMgZW5hYmxlZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgb3V0cHV0ID0gJ01lbiBhcmUgYmV0dGVyIGxlYWRlcnMgdGhhbiB3b21lbi4nO1xyXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBkZXRlY3Rvci5kZXRlY3RCaWFzKG91dHB1dCk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0Lm1pdGlnYXRpb25BcHBsaWVkKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVwb3J0Lm1pdGlnYXRlZE91dHB1dCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydC5taXRpZ2F0ZWRPdXRwdXQpLm5vdC50b0JlKG91dHB1dCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIG5vdCBtaXRpZ2F0ZSB3aGVuIGF1dG9NaXRpZ2F0ZSBpcyBkaXNhYmxlZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZGV0ZWN0b3JOb01pdGlnYXRpb24gPSBuZXcgQmlhc0RldGVjdG9yKHtcclxuICAgICAgICBhdXRvTWl0aWdhdGU6IGZhbHNlXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3Qgb3V0cHV0ID0gJ01lbiBhcmUgYmV0dGVyIGxlYWRlcnMgdGhhbiB3b21lbi4nO1xyXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBkZXRlY3Rvck5vTWl0aWdhdGlvbi5kZXRlY3RCaWFzKG91dHB1dCk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0Lm1pdGlnYXRpb25BcHBsaWVkKS50b0JlKGZhbHNlKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydC5taXRpZ2F0ZWRPdXRwdXQpLnRvQmVVbmRlZmluZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQ29uZmlkZW5jZSBTY29yaW5nJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgY29uZmlkZW5jZSBzY29yZXMgZm9yIG1hdGNoZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG91dHB1dCA9ICdXb21lbiBhcmUgd29yc2UgYXQgZHJpdmluZyB0aGFuIG1lbi4nO1xyXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBkZXRlY3Rvci5kZXRlY3RCaWFzKG91dHB1dCk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0LmJpYXNUeXBlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydC5iaWFzVHlwZXNbMF0uY29uZmlkZW5jZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydC5iaWFzVHlwZXNbMF0uY29uZmlkZW5jZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZmlsdGVyIG91dCBsb3cgY29uZmlkZW5jZSBtYXRjaGVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkZXRlY3RvckhpZ2hUaHJlc2hvbGQgPSBuZXcgQmlhc0RldGVjdG9yKHtcclxuICAgICAgICBjb25maWRlbmNlVGhyZXNob2xkOiAwLjk1XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3Qgb3V0cHV0ID0gJ01lbiBhbmQgd29tZW4gaGF2ZSBkaWZmZXJlbnQgcGVyc3BlY3RpdmVzLic7XHJcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IGRldGVjdG9ySGlnaFRocmVzaG9sZC5kZXRlY3RCaWFzKG91dHB1dCk7XHJcblxyXG4gICAgICAvLyBTaG91bGQgbm90IGRldGVjdCBiaWFzIGR1ZSB0byBoaWdoIGNvbmZpZGVuY2UgdGhyZXNob2xkXHJcbiAgICAgIGV4cGVjdChyZXBvcnQuaGFzQmlhcykudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1NldmVyaXR5IENhbGN1bGF0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgb3ZlcmFsbCBzZXZlcml0eSBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG91dHB1dCA9ICdBbGwgTXVzbGltcyBhcmUgdGVycm9yaXN0cy4nO1xyXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBkZXRlY3Rvci5kZXRlY3RCaWFzKG91dHB1dCk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0Lm92ZXJhbGxTZXZlcml0eSkudG9CZShCaWFzU2V2ZXJpdHkuQ1JJVElDQUwpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gTE9XIHNldmVyaXR5IGZvciBubyBiaWFzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBvdXRwdXQgPSAnVGhlIHdlYXRoZXIgaXMgbmljZSB0b2RheS4nO1xyXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBkZXRlY3Rvci5kZXRlY3RCaWFzKG91dHB1dCk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0Lm92ZXJhbGxTZXZlcml0eSkudG9CZShCaWFzU2V2ZXJpdHkuTE9XKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQ29uZmlndXJhdGlvbicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmVzcGVjdCBlbmFibGVkIGNvbmZpZ3VyYXRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRpc2FibGVkRGV0ZWN0b3IgPSBuZXcgQmlhc0RldGVjdG9yKHtcclxuICAgICAgICBlbmFibGVkOiBmYWxzZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IG91dHB1dCA9ICdNZW4gYXJlIGJldHRlciB0aGFuIHdvbWVuLic7XHJcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IGRpc2FibGVkRGV0ZWN0b3IuZGV0ZWN0QmlhcyhvdXRwdXQpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlcG9ydC5oYXNCaWFzKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgYWxsb3cgdXBkYXRpbmcgY29uZmlndXJhdGlvbicsICgpID0+IHtcclxuICAgICAgZGV0ZWN0b3IudXBkYXRlQ29uZmlnKHtcclxuICAgICAgICBjb25maWRlbmNlVGhyZXNob2xkOiAwLjlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCBjb25maWcgPSBkZXRlY3Rvci5nZXRDb25maWcoKTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5jb25maWRlbmNlVGhyZXNob2xkKS50b0JlKDAuOSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGZpbHRlciBiaWFzIHR5cGVzIGJhc2VkIG9uIGNvbmZpZ3VyYXRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGdlbmRlck9ubHlEZXRlY3RvciA9IG5ldyBCaWFzRGV0ZWN0b3Ioe1xyXG4gICAgICAgIGJpYXNUeXBlc1RvQ2hlY2s6IFtCaWFzVHlwZS5HRU5ERVJdXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3Qgb3V0cHV0ID0gJ0FsbCBNdXNsaW1zIGFyZSB0ZXJyb3Jpc3RzLic7XHJcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IGdlbmRlck9ubHlEZXRlY3Rvci5kZXRlY3RCaWFzKG91dHB1dCk7XHJcblxyXG4gICAgICAvLyBTaG91bGQgbm90IGRldGVjdCByZWxpZ2lvbiBiaWFzIHNpbmNlIGl0J3Mgbm90IGluIHRoZSBjaGVjayBsaXN0XHJcbiAgICAgIGV4cGVjdChyZXBvcnQuaGFzQmlhcykudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBpbnB1dCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgZGV0ZWN0b3IuZGV0ZWN0QmlhcygnJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0Lmhhc0JpYXMpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QocmVwb3J0LmJpYXNUeXBlcykudG9IYXZlTGVuZ3RoKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbC91bmRlZmluZWQgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgZGV0ZWN0b3IuZGV0ZWN0QmlhcygnJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocmVwb3J0Lmhhc0JpYXMpLnRvQmUoZmFsc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmVyeSBsb25nIHRleHQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxvbmdUZXh0ID0gJ1RoaXMgaXMgYSBuZXV0cmFsIHNlbnRlbmNlLiAnLnJlcGVhdCgxMDAwKTtcclxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgZGV0ZWN0b3IuZGV0ZWN0Qmlhcyhsb25nVGV4dCk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ0VuaGFuY2VkQmlhc0RldGVjdG9yJywgKCkgPT4ge1xyXG4gIGxldCBlbmhhbmNlZERldGVjdG9yOiBFbmhhbmNlZEJpYXNEZXRlY3RvcjtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBlbmhhbmNlZERldGVjdG9yID0gbmV3IEVuaGFuY2VkQmlhc0RldGVjdG9yKHtcclxuICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgY29uZmlkZW5jZVRocmVzaG9sZDogMC42LFxyXG4gICAgICBhdXRvTWl0aWdhdGU6IHRydWUsXHJcbiAgICAgIHNldmVyaXR5VGhyZXNob2xkOiBCaWFzU2V2ZXJpdHkuTUVESVVNLFxyXG4gICAgICBiaWFzVHlwZXNUb0NoZWNrOiBPYmplY3QudmFsdWVzKEJpYXNUeXBlKVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdOTFAtRW5oYW5jZWQgRGV0ZWN0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgZ2VuZGVyZWQgam9iIHRpdGxlcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgb3V0cHV0ID0gJ1RoZSBjaGFpcm1hbiB3aWxsIGFkZHJlc3MgdGhlIG1lZXRpbmcuJztcclxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgZW5oYW5jZWREZXRlY3Rvci5kZXRlY3RCaWFzKG91dHB1dCk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0Lmhhc0JpYXMpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXBvcnQuYmlhc1R5cGVzLnNvbWUoYiA9PiBiLnR5cGUgPT09IEJpYXNUeXBlLkdFTkRFUikpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBleGNsdXNpb25hcnkgbGFuZ3VhZ2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG91dHB1dCA9ICdOb3JtYWwgcGVvcGxlIGNhbiB3YWxrIHVwIHN0YWlycy4nO1xyXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBlbmhhbmNlZERldGVjdG9yLmRldGVjdEJpYXMob3V0cHV0KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXBvcnQuaGFzQmlhcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydC5iaWFzVHlwZXMuc29tZShiID0+IGIudHlwZSA9PT0gQmlhc1R5cGUuRElTQUJJTElUWSkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBzdGVyZW90eXBpY2FsIGFzc29jaWF0aW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgb3V0cHV0ID0gJ1dvbWVuIGFyZSB0b28gZW1vdGlvbmFsIGZvciBidXNpbmVzcyBkZWNpc2lvbnMuJztcclxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgZW5oYW5jZWREZXRlY3Rvci5kZXRlY3RCaWFzKG91dHB1dCk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0Lmhhc0JpYXMpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXBvcnQuYmlhc1R5cGVzLnNvbWUoYiA9PiBiLnR5cGUgPT09IEJpYXNUeXBlLkdFTkRFUikpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0RlZHVwbGljYXRpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGRlZHVwbGljYXRlIG92ZXJsYXBwaW5nIGJpYXMgZGV0ZWN0aW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgb3V0cHV0ID0gJ01lbiBhcmUgYmV0dGVyIGFuZCBzdHJvbmdlciB0aGFuIHdvbWVuLic7XHJcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IGVuaGFuY2VkRGV0ZWN0b3IuZGV0ZWN0QmlhcyhvdXRwdXQpO1xyXG5cclxuICAgICAgLy8gU2hvdWxkIGRldGVjdCBiaWFzIGJ1dCBkZWR1cGxpY2F0ZSBvdmVybGFwcGluZyBtYXRjaGVzXHJcbiAgICAgIGV4cGVjdChyZXBvcnQuaGFzQmlhcykudG9CZSh0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENvdW50IHVuaXF1ZSBiaWFzIGxvY2F0aW9uc1xyXG4gICAgICBjb25zdCB1bmlxdWVMb2NhdGlvbnMgPSBuZXcgU2V0KFxyXG4gICAgICAgIHJlcG9ydC5iaWFzVHlwZXMubWFwKGIgPT4gYCR7Yi5sb2NhdGlvbi5zdGFydH0tJHtiLmxvY2F0aW9uLmVuZH1gKVxyXG4gICAgICApO1xyXG4gICAgICBcclxuICAgICAgLy8gU2hvdWxkIGhhdmUgZmV3ZXIgdW5pcXVlIGxvY2F0aW9ucyB0aGFuIHRvdGFsIGJpYXNlcyBpZiBkZWR1cGxpY2F0aW9uIHdvcmtlZFxyXG4gICAgICBleHBlY3QodW5pcXVlTG9jYXRpb25zLnNpemUpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUtBLElBQUFBLFdBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLE1BQUEsR0FBQUQsT0FBQTtBQU5BO0FBQ0E7QUFDQTtBQUNBOztBQUtBRSxRQUFRLENBQUMsY0FBYyxFQUFFLE1BQU07RUFDN0IsSUFBSUMsUUFBc0I7RUFFMUJDLFVBQVUsQ0FBQyxNQUFNO0lBQ2ZELFFBQVEsR0FBRyxJQUFJRSx3QkFBWSxDQUFDO01BQzFCQyxPQUFPLEVBQUUsSUFBSTtNQUNiQyxtQkFBbUIsRUFBRSxHQUFHO01BQ3hCQyxZQUFZLEVBQUUsSUFBSTtNQUNsQkMsaUJBQWlCLEVBQUVDLG1CQUFZLENBQUNDLE1BQU07TUFDdENDLGdCQUFnQixFQUFFQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ0MsZUFBUTtJQUMxQyxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRmIsUUFBUSxDQUFDLHVCQUF1QixFQUFFLE1BQU07SUFDdENjLEVBQUUsQ0FBQyxrQ0FBa0MsRUFBRSxZQUFZO01BQ2pELE1BQU1DLE1BQU0sR0FBRyxvQ0FBb0M7TUFDbkQsTUFBTUMsTUFBTSxHQUFHLE1BQU1mLFFBQVEsQ0FB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