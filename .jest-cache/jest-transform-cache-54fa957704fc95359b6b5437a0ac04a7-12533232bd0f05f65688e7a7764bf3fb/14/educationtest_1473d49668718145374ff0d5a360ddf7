ccc4bb304467276aa1d51b87bc4eee8c
"use strict";

// ðŸ§ª Azora Education Platform Tests

const request = require('supertest');
const app = require('../server');
describe('Azora Education API', () => {
  describe('Health Check', () => {
    test('GET /api/health should return healthy status', async () => {
      const response = await request(app).get('/api/health').expect(200);
      expect(response.body.status).toBe('healthy');
      expect(response.body.service).toBe('azora-education');
      expect(response.body.ubuntu).toBe('I learn because we grow together');
    });
  });
  describe('Learner Management', () => {
    test('POST /api/learners should create new learner', async () => {
      const learnerData = {
        name: 'Test Learner',
        email: 'test@azora.education',
        learningGoals: ['AI', 'Blockchain'],
        preferredStyle: 'visual'
      };
      const response = await request(app).post('/api/learners').send(learnerData).expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.learner.name).toBe(learnerData.name);
      expect(response.body.learner.email).toBe(learnerData.email);
      expect(response.body.learner.azrBalance).toBe(100); // Welcome bonus
      expect(response.body.welcomeMessage).toBeDefined();
    });
    test('POST /api/learners should reject invalid email', async () => {
      const invalidData = {
        name: 'Test User',
        email: 'invalid-email'
      };
      const response = await request(app).post('/api/learners').send(invalidData).expect(400);
      expect(response.body.error).toContain('Invalid email format');
    });
  });
  describe('Course Management', () => {
    test('GET /api/courses should return course list', async () => {
      const response = await request(app).get('/api/courses').expect(200);
      expect(response.body.courses).toBeDefined();
      expect(Array.isArray(response.body.courses)).toBe(true);
      expect(response.body.total).toBeGreaterThan(0);
      expect(response.body.featured).toBeDefined();
    });
    test('GET /api/courses with filters should work', async () => {
      const response = await request(app).get('/api/courses?category=ai&difficulty=2&premium=false').expect(200);
      expect(response.body.courses).toBeDefined();
      // Should filter courses based on criteria
    });
  });
  describe('AI Tutor Integration', () => {
    let learnerId;
    beforeAll(async () => {
      // Create a test learner first
      const learnerResponse = await request(app).post('/api/learners').send({
        name: 'AI Test Learner',
        email: 'ai-test@azora.education'
      });
      learnerId = learnerResponse.body.learner.id;
    });
    test('POST /api/tutor/chat should return AI response', async () => {
      const chatData = {
        learnerId,
        message: 'What is artificial intelligence?',
        context: 'curious'
      };
      const response = await request(app).post('/api/tutor/chat').send(chatData).expect(200);
      expect(response.body.sessionId).toBeDefined();
      expect(response.body.response).toBeDefined();
      expect(response.body.suggestions).toBeDefined();
      expect(Array.isArray(response.body.suggestions)).toBe(true);
    });
  });
  describe('Gamification System', () => {
    let learnerId, courseId;
    beforeAll(async () => {
      // Create test learner
      const learnerResponse = await request(app).post('/api/learners').send({
        name: 'Gamification Test',
        email: 'gamification@azora.education'
      });
      learnerId = learnerResponse.body.learner.id;

      // Get a course to enroll in
      const coursesResponse = await request(app).get('/api/courses');
      courseId = coursesResponse.body.courses[0].id;
    });
    test('POST /api/progress/update should award XP and AZR', async () => {
      const progressData = {
        learnerId,
        courseId,
        moduleId: 'test_module',
        score: 0.9,
        timeSpent: 45
      };
      const response = await request(app).post('/api/progress/update').send(progressData).expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.progress.xpGained).toBeGreaterThan(0);
      expect(response.body.progress.azrGained).toBeGreaterThan(0);
      expect(response.body.progress.totalXP).toBeGreaterThan(0);
      expect(response.body.elaraMessage).toBeDefined();
    });
  });
  describe('Leaderboard System', () => {
    test('GET /api/leaderboards should return ranked learners', async () => {
      const response = await request(app).get('/api/leaderboards?type=xp&limit=5').expect(200);
      expect(response.body.leaderboard).toBeDefined();
      expect(Array.isArray(response.body.leaderboard)).toBe(true);
      expect(response.body.type).toBe('xp');

      // Check if properly ranked
      if (response.body.leaderboard.length > 1) {
        expect(response.body.leaderboard[0].xp).toBeGreaterThanOrEqual(response.body.leaderboard[1].xp);
      }
    });
  });
  describe('Ubuntu Philosophy Integration', () => {
    test('All responses should include Ubuntu elements', async () => {
      const healthResponse = await request(app).get('/api/health');
      expect(healthResponse.body.ubuntu).toBeDefined();

      // Ubuntu philosophy should be embedded throughout the platform
      expect(healthResponse.body.ubuntu).toContain('together');
    });
  });
});

// Performance Tests
describe('Performance Tests', () => {
  test('Health endpoint should respond quickly', async () => {
    const start = Date.now();
    await request(app).get('/api/health').expect(200);
    const duration = Date.now() - start;
    expect(duration).toBeLessThan(100); // Should respond in under 100ms
  });
  test('Course listing should handle large requests', async () => {
    const start = Date.now();
    await request(app).get('/api/courses').expect(200);
    const duration = Date.now() - start;
    expect(duration).toBeLessThan(500); // Should respond in under 500ms
  });
});

// Security Tests
describe('Security Tests', () => {
  test('Should reject malicious input', async () => {
    const maliciousData = {
      name: '<script>alert("xss")</script>',
      email: 'test@example.com'
    };
    const response = await request(app).post('/api/learners').send(maliciousData).expect(200);

    // Name should be sanitized
    expect(response.body.learner.name).not.toContain('<script>');
  });
  test('Should include security headers', async () => {
    const response = await request(app).get('/api/health');
    expect(response.headers['x-content-type-options']).toBe('nosniff');
    expect(response.headers['x-frame-options']).toBe('DENY');
    expect(response.headers['x-xss-protection']).toBe('1; mode=block');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImFwcCIsImRlc2NyaWJlIiwidGVzdCIsInJlc3BvbnNlIiwiZ2V0IiwiZXhwZWN0IiwiYm9keSIsInN0YXR1cyIsInRvQmUiLCJzZXJ2aWNlIiwidWJ1bnR1IiwibGVhcm5lckRhdGEiLCJuYW1lIiwiZW1haWwiLCJsZWFybmluZ0dvYWxzIiwicHJlZmVycmVkU3R5bGUiLCJwb3N0Iiwic2VuZCIsInN1Y2Nlc3MiLCJsZWFybmVyIiwiYXpyQmFsYW5jZSIsIndlbGNvbWVNZXNzYWdlIiwidG9CZURlZmluZWQiLCJpbnZhbGlkRGF0YSIsImVycm9yIiwidG9Db250YWluIiwiY291cnNlcyIsIkFycmF5IiwiaXNBcnJheSIsInRvdGFsIiwidG9CZUdyZWF0ZXJUaGFuIiwiZmVhdHVyZWQiLCJsZWFybmVySWQiLCJiZWZvcmVBbGwiLCJsZWFybmVyUmVzcG9uc2UiLCJpZCIsImNoYXREYXRhIiwibWVzc2FnZSIsImNvbnRleHQiLCJzZXNzaW9uSWQiLCJzdWdnZXN0aW9ucyIsImNvdXJzZUlkIiwiY291cnNlc1Jlc3BvbnNlIiwicHJvZ3Jlc3NEYXRhIiwibW9kdWxlSWQiLCJzY29yZSIsInRpbWVTcGVudCIsInByb2dyZXNzIiwieHBHYWluZWQiLCJhenJHYWluZWQiLCJ0b3RhbFhQIiwiZWxhcmFNZXNzYWdlIiwibGVhZGVyYm9hcmQiLCJ0eXBlIiwibGVuZ3RoIiwieHAiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwiaGVhbHRoUmVzcG9uc2UiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJkdXJhdGlvbiIsInRvQmVMZXNzVGhhbiIsIm1hbGljaW91c0RhdGEiLCJub3QiLCJoZWFkZXJzIl0sInNvdXJjZXMiOlsiZWR1Y2F0aW9uLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g8J+nqiBBem9yYSBFZHVjYXRpb24gUGxhdGZvcm0gVGVzdHNcclxuXHJcbmNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKCdzdXBlcnRlc3QnKTtcclxuY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vc2VydmVyJyk7XHJcblxyXG5kZXNjcmliZSgnQXpvcmEgRWR1Y2F0aW9uIEFQSScsICgpID0+IHtcclxuICBcclxuICBkZXNjcmliZSgnSGVhbHRoIENoZWNrJywgKCkgPT4ge1xyXG4gICAgdGVzdCgnR0VUIC9hcGkvaGVhbHRoIHNob3VsZCByZXR1cm4gaGVhbHRoeSBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLmdldCgnL2FwaS9oZWFsdGgnKVxyXG4gICAgICAgIC5leHBlY3QoMjAwKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN0YXR1cykudG9CZSgnaGVhbHRoeScpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zZXJ2aWNlKS50b0JlKCdhem9yYS1lZHVjYXRpb24nKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkudWJ1bnR1KS50b0JlKCdJIGxlYXJuIGJlY2F1c2Ugd2UgZ3JvdyB0b2dldGhlcicpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdMZWFybmVyIE1hbmFnZW1lbnQnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCdQT1NUIC9hcGkvbGVhcm5lcnMgc2hvdWxkIGNyZWF0ZSBuZXcgbGVhcm5lcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbGVhcm5lckRhdGEgPSB7XHJcbiAgICAgICAgbmFtZTogJ1Rlc3QgTGVhcm5lcicsXHJcbiAgICAgICAgZW1haWw6ICd0ZXN0QGF6b3JhLmVkdWNhdGlvbicsXHJcbiAgICAgICAgbGVhcm5pbmdHb2FsczogWydBSScsICdCbG9ja2NoYWluJ10sXHJcbiAgICAgICAgcHJlZmVycmVkU3R5bGU6ICd2aXN1YWwnXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL2xlYXJuZXJzJylcclxuICAgICAgICAuc2VuZChsZWFybmVyRGF0YSlcclxuICAgICAgICAuZXhwZWN0KDIwMCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5sZWFybmVyLm5hbWUpLnRvQmUobGVhcm5lckRhdGEubmFtZSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmxlYXJuZXIuZW1haWwpLnRvQmUobGVhcm5lckRhdGEuZW1haWwpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5sZWFybmVyLmF6ckJhbGFuY2UpLnRvQmUoMTAwKTsgLy8gV2VsY29tZSBib251c1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS53ZWxjb21lTWVzc2FnZSkudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ1BPU1QgL2FwaS9sZWFybmVycyBzaG91bGQgcmVqZWN0IGludmFsaWQgZW1haWwnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGludmFsaWREYXRhID0ge1xyXG4gICAgICAgIG5hbWU6ICdUZXN0IFVzZXInLFxyXG4gICAgICAgIGVtYWlsOiAnaW52YWxpZC1lbWFpbCdcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvbGVhcm5lcnMnKVxyXG4gICAgICAgIC5zZW5kKGludmFsaWREYXRhKVxyXG4gICAgICAgIC5leHBlY3QoNDAwKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0NvbnRhaW4oJ0ludmFsaWQgZW1haWwgZm9ybWF0Jyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0NvdXJzZSBNYW5hZ2VtZW50JywgKCkgPT4ge1xyXG4gICAgdGVzdCgnR0VUIC9hcGkvY291cnNlcyBzaG91bGQgcmV0dXJuIGNvdXJzZSBsaXN0JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5nZXQoJy9hcGkvY291cnNlcycpXHJcbiAgICAgICAgLmV4cGVjdCgyMDApO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuY291cnNlcykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzcG9uc2UuYm9keS5jb3Vyc2VzKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkudG90YWwpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZmVhdHVyZWQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdHRVQgL2FwaS9jb3Vyc2VzIHdpdGggZmlsdGVycyBzaG91bGQgd29yaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAuZ2V0KCcvYXBpL2NvdXJzZXM/Y2F0ZWdvcnk9YWkmZGlmZmljdWx0eT0yJnByZW1pdW09ZmFsc2UnKVxyXG4gICAgICAgIC5leHBlY3QoMjAwKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmNvdXJzZXMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIC8vIFNob3VsZCBmaWx0ZXIgY291cnNlcyBiYXNlZCBvbiBjcml0ZXJpYVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdBSSBUdXRvciBJbnRlZ3JhdGlvbicsICgpID0+IHtcclxuICAgIGxldCBsZWFybmVySWQ7XHJcblxyXG4gICAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQ3JlYXRlIGEgdGVzdCBsZWFybmVyIGZpcnN0XHJcbiAgICAgIGNvbnN0IGxlYXJuZXJSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL2xlYXJuZXJzJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBuYW1lOiAnQUkgVGVzdCBMZWFybmVyJyxcclxuICAgICAgICAgIGVtYWlsOiAnYWktdGVzdEBhem9yYS5lZHVjYXRpb24nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBsZWFybmVySWQgPSBsZWFybmVyUmVzcG9uc2UuYm9keS5sZWFybmVyLmlkO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnUE9TVCAvYXBpL3R1dG9yL2NoYXQgc2hvdWxkIHJldHVybiBBSSByZXNwb25zZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgY2hhdERhdGEgPSB7XHJcbiAgICAgICAgbGVhcm5lcklkLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdXaGF0IGlzIGFydGlmaWNpYWwgaW50ZWxsaWdlbmNlPycsXHJcbiAgICAgICAgY29udGV4dDogJ2N1cmlvdXMnXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL3R1dG9yL2NoYXQnKVxyXG4gICAgICAgIC5zZW5kKGNoYXREYXRhKVxyXG4gICAgICAgIC5leHBlY3QoMjAwKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnNlc3Npb25JZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkucmVzcG9uc2UpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Z2dlc3Rpb25zKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXNwb25zZS5ib2R5LnN1Z2dlc3Rpb25zKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnR2FtaWZpY2F0aW9uIFN5c3RlbScsICgpID0+IHtcclxuICAgIGxldCBsZWFybmVySWQsIGNvdXJzZUlkO1xyXG5cclxuICAgIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIENyZWF0ZSB0ZXN0IGxlYXJuZXJcclxuICAgICAgY29uc3QgbGVhcm5lclJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvbGVhcm5lcnMnKVxyXG4gICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgIG5hbWU6ICdHYW1pZmljYXRpb24gVGVzdCcsXHJcbiAgICAgICAgICBlbWFpbDogJ2dhbWlmaWNhdGlvbkBhem9yYS5lZHVjYXRpb24nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBsZWFybmVySWQgPSBsZWFybmVyUmVzcG9uc2UuYm9keS5sZWFybmVyLmlkO1xyXG5cclxuICAgICAgLy8gR2V0IGEgY291cnNlIHRvIGVucm9sbCBpblxyXG4gICAgICBjb25zdCBjb3Vyc2VzUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL2NvdXJzZXMnKTtcclxuICAgICAgY291cnNlSWQgPSBjb3Vyc2VzUmVzcG9uc2UuYm9keS5jb3Vyc2VzWzBdLmlkO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnUE9TVCAvYXBpL3Byb2dyZXNzL3VwZGF0ZSBzaG91bGQgYXdhcmQgWFAgYW5kIEFaUicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvZ3Jlc3NEYXRhID0ge1xyXG4gICAgICAgIGxlYXJuZXJJZCxcclxuICAgICAgICBjb3Vyc2VJZCxcclxuICAgICAgICBtb2R1bGVJZDogJ3Rlc3RfbW9kdWxlJyxcclxuICAgICAgICBzY29yZTogMC45LFxyXG4gICAgICAgIHRpbWVTcGVudDogNDVcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvcHJvZ3Jlc3MvdXBkYXRlJylcclxuICAgICAgICAuc2VuZChwcm9ncmVzc0RhdGEpXHJcbiAgICAgICAgLmV4cGVjdCgyMDApO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkucHJvZ3Jlc3MueHBHYWluZWQpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkucHJvZ3Jlc3MuYXpyR2FpbmVkKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnByb2dyZXNzLnRvdGFsWFApLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZWxhcmFNZXNzYWdlKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdMZWFkZXJib2FyZCBTeXN0ZW0nLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCdHRVQgL2FwaS9sZWFkZXJib2FyZHMgc2hvdWxkIHJldHVybiByYW5rZWQgbGVhcm5lcnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLmdldCgnL2FwaS9sZWFkZXJib2FyZHM/dHlwZT14cCZsaW1pdD01JylcclxuICAgICAgICAuZXhwZWN0KDIwMCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5sZWFkZXJib2FyZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzcG9uc2UuYm9keS5sZWFkZXJib2FyZCkpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnR5cGUpLnRvQmUoJ3hwJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGVjayBpZiBwcm9wZXJseSByYW5rZWRcclxuICAgICAgaWYgKHJlc3BvbnNlLmJvZHkubGVhZGVyYm9hcmQubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmxlYWRlcmJvYXJkWzBdLnhwKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKFxyXG4gICAgICAgICAgcmVzcG9uc2UuYm9keS5sZWFkZXJib2FyZFsxXS54cFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnVWJ1bnR1IFBoaWxvc29waHkgSW50ZWdyYXRpb24nLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCdBbGwgcmVzcG9uc2VzIHNob3VsZCBpbmNsdWRlIFVidW50dSBlbGVtZW50cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgaGVhbHRoUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL2hlYWx0aCcpO1xyXG4gICAgICBleHBlY3QoaGVhbHRoUmVzcG9uc2UuYm9keS51YnVudHUpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBVYnVudHUgcGhpbG9zb3BoeSBzaG91bGQgYmUgZW1iZWRkZWQgdGhyb3VnaG91dCB0aGUgcGxhdGZvcm1cclxuICAgICAgZXhwZWN0KGhlYWx0aFJlc3BvbnNlLmJvZHkudWJ1bnR1KS50b0NvbnRhaW4oJ3RvZ2V0aGVyJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG4vLyBQZXJmb3JtYW5jZSBUZXN0c1xyXG5kZXNjcmliZSgnUGVyZm9ybWFuY2UgVGVzdHMnLCAoKSA9PiB7XHJcbiAgdGVzdCgnSGVhbHRoIGVuZHBvaW50IHNob3VsZCByZXNwb25kIHF1aWNrbHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XHJcbiAgICBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL2hlYWx0aCcpLmV4cGVjdCgyMDApO1xyXG4gICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnQ7XHJcbiAgICBcclxuICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUxlc3NUaGFuKDEwMCk7IC8vIFNob3VsZCByZXNwb25kIGluIHVuZGVyIDEwMG1zXHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ0NvdXJzZSBsaXN0aW5nIHNob3VsZCBoYW5kbGUgbGFyZ2UgcmVxdWVzdHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XHJcbiAgICBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL2NvdXJzZXMnKS5leHBlY3QoMjAwKTtcclxuICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0O1xyXG4gICAgXHJcbiAgICBleHBlY3QoZHVyYXRpb24pLnRvQmVMZXNzVGhhbig1MDApOyAvLyBTaG91bGQgcmVzcG9uZCBpbiB1bmRlciA1MDBtc1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vIFNlY3VyaXR5IFRlc3RzXHJcbmRlc2NyaWJlKCdTZWN1cml0eSBUZXN0cycsICgpID0+IHtcclxuICB0ZXN0KCdTaG91bGQgcmVqZWN0IG1hbGljaW91cyBpbnB1dCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IG1hbGljaW91c0RhdGEgPSB7XHJcbiAgICAgIG5hbWU6ICc8c2NyaXB0PmFsZXJ0KFwieHNzXCIpPC9zY3JpcHQ+JyxcclxuICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJ1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAucG9zdCgnL2FwaS9sZWFybmVycycpXHJcbiAgICAgIC5zZW5kKG1hbGljaW91c0RhdGEpXHJcbiAgICAgIC5leHBlY3QoMjAwKTtcclxuXHJcbiAgICAvLyBOYW1lIHNob3VsZCBiZSBzYW5pdGl6ZWRcclxuICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmxlYXJuZXIubmFtZSkubm90LnRvQ29udGFpbignPHNjcmlwdD4nKTtcclxuICB9KTtcclxuXHJcbiAgdGVzdCgnU2hvdWxkIGluY2x1ZGUgc2VjdXJpdHkgaGVhZGVycycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApLmdldCgnL2FwaS9oZWFsdGgnKTtcclxuICAgIFxyXG4gICAgZXhwZWN0KHJlc3BvbnNlLmhlYWRlcnNbJ3gtY29udGVudC10eXBlLW9wdGlvbnMnXSkudG9CZSgnbm9zbmlmZicpO1xyXG4gICAgZXhwZWN0KHJlc3BvbnNlLmhlYWRlcnNbJ3gtZnJhbWUtb3B0aW9ucyddKS50b0JlKCdERU5ZJyk7XHJcbiAgICBleHBlY3QocmVzcG9uc2UuaGVhZGVyc1sneC14c3MtcHJvdGVjdGlvbiddKS50b0JlKCcxOyBtb2RlPWJsb2NrJyk7XHJcbiAgfSk7XHJcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDcEMsTUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBRWhDRSxRQUFRLENBQUMscUJBQXFCLEVBQUUsTUFBTTtFQUVwQ0EsUUFBUSxDQUFDLGNBQWMsRUFBRSxNQUFNO0lBQzdCQyxJQUFJLENBQUMsOENBQThDLEVBQUUsWUFBWTtNQUMvRCxNQUFNQyxRQUFRLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaENJLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FDbEJDLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQyxTQUFTLENBQUM7TUFDNUNILE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNHLE9BQU8sQ0FBQyxDQUFDRCxJQUFJLENBQUMsaUJB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