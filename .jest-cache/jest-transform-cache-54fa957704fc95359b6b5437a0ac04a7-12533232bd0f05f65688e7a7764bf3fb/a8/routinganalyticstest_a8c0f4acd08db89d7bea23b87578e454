c560a7e618f763e1b6ada35ea63a9293
"use strict";

var _types = require("../types");
var _redis = require("../../../tests/utils/redis");
const redis = (0, _redis.getTestRedisClient)();
describe('Routing Analytics', () => {
  afterEach(async () => {
    await (0, _redis.cleanupTestRedis)();
  });
  it('should track routing counts by tier', async () => {
    await redis.incr(`routing:${_types.RoutingTier.LOCAL_LLM}`);
    await redis.incr(`routing:${_types.RoutingTier.LOCAL_LLM}`);
    await redis.incr(`routing:${_types.RoutingTier.RAP_SYSTEM}`);
    const localCount = await redis.get(`routing:${_types.RoutingTier.LOCAL_LLM}`);
    const rapCount = await redis.get(`routing:${_types.RoutingTier.RAP_SYSTEM}`);
    expect(parseInt(localCount)).toBe(2);
    expect(parseInt(rapCount)).toBe(1);
  });
  it('should calculate success rates', async () => {
    await redis.hset(`metrics:${_types.RoutingTier.LOCAL_LLM}`, {
      total: 100,
      successful: 95
    });
    const total = await redis.hget(`metrics:${_types.RoutingTier.LOCAL_LLM}`, 'total');
    const successful = await redis.hget(`metrics:${_types.RoutingTier.LOCAL_LLM}`, 'successful');
    const successRate = parseInt(successful) / parseInt(total) * 100;
    expect(successRate).toBe(95);
  });
  it('should track response times', async () => {
    const times = [100, 150, 200];
    for (const time of times) {
      await redis.lpush(`times:${_types.RoutingTier.LOCAL_LLM}`, time.toString());
    }
    const storedTimes = await redis.lrange(`times:${_types.RoutingTier.LOCAL_LLM}`, 0, -1);
    const average = storedTimes.reduce((sum, t) => sum + parseInt(t), 0) / storedTimes.length;
    expect(average).toBe(150);
  });
  it('should track costs per tier', async () => {
    await redis.lpush(`costs:${_types.RoutingTier.LOCAL_LLM}`, '0.001');
    await redis.lpush(`costs:${_types.RoutingTier.LOCAL_LLM}`, '0.002');
    const costs = await redis.lrange(`costs:${_types.RoutingTier.LOCAL_LLM}`, 0, -1);
    const total = costs.reduce((sum, cost) => sum + parseFloat(cost), 0);
    expect(total).toBeCloseTo(0.003, 3);
  });
  it('should track cache hit rates', async () => {
    await redis.incr('cache:hits');
    await redis.incr('cache:hits');
    await redis.incr('cache:misses');
    const hits = await redis.get('cache:hits');
    const misses = await redis.get('cache:misses');
    const hitRate = parseInt(hits) / (parseInt(hits) + parseInt(misses)) * 100;
    expect(hitRate).toBeCloseTo(66.67, 1);
  });
  it('should track query complexity', async () => {
    await redis.incr(`complexity:${_types.QueryComplexity.SIMPLE}`);
    await redis.incr(`complexity:${_types.QueryComplexity.SIMPLE}`);
    await redis.incr(`complexity:${_types.QueryComplexity.MODERATE}`);
    const simple = await redis.get(`complexity:${_types.QueryComplexity.SIMPLE}`);
    const moderate = await redis.get(`complexity:${_types.QueryComplexity.MODERATE}`);
    expect(parseInt(simple)).toBe(2);
    expect(parseInt(moderate)).toBe(1);
  });
  it('should identify slow queries', async () => {
    const queries = [{
      id: 'q1',
      time: 100
    }, {
      id: 'q2',
      time: 2000
    }, {
      id: 'q3',
      time: 150
    }];
    const slowQueries = queries.filter(q => q.time > 1000);
    for (const query of slowQueries) {
      await redis.lpush('slow_queries', JSON.stringify(query));
    }
    const stored = await redis.lrange('slow_queries', 0, -1);
    expect(stored).toHaveLength(1);
  });
  it('should track peak usage hours', async () => {
    await redis.hset('hourly', '9', '50');
    await redis.hset('hourly', '10', '100');
    await redis.hset('hourly', '11', '75');
    const hourly = await redis.hgetall('hourly');
    const entries = Object.entries(hourly);
    let peakHour = '0';
    let peakCount = 0;
    for (const [hour, count] of entries) {
      const countNum = parseInt(count);
      if (countNum > peakCount) {
        peakHour = hour;
        peakCount = countNum;
      }
    }
    expect(parseInt(peakHour)).toBe(10);
    expect(peakCount).toBe(100);
  });
  it('should calculate cost savings from cache', async () => {
    const hits = 80;
    const avgCost = 0.01;
    const savings = hits * avgCost;
    await redis.hset('savings', {
      hits: hits.toString(),
      avgCost: avgCost.toString(),
      total: savings.toString()
    });
    const total = await redis.hget('savings', 'total');
    expect(parseFloat(total)).toBe(0.8);
  });
  it('should track error rates', async () => {
    await redis.incr(`errors:${_types.RoutingTier.LOCAL_LLM}`);
    await redis.incr(`errors:${_types.RoutingTier.EXTERNAL_LLM}`);
    await redis.incr(`errors:${_types.RoutingTier.LOCAL_LLM}`);
    const localErrors = await redis.get(`errors:${_types.RoutingTier.LOCAL_LLM}`);
    const externalErrors = await redis.get(`errors:${_types.RoutingTier.EXTERNAL_LLM}`);
    expect(parseInt(localErrors)).toBe(2);
    expect(parseInt(externalErrors)).toBe(1);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdHlwZXMiLCJyZXF1aXJlIiwiX3JlZGlzIiwicmVkaXMiLCJnZXRUZXN0UmVkaXNDbGllbnQiLCJkZXNjcmliZSIsImFmdGVyRWFjaCIsImNsZWFudXBUZXN0UmVkaXMiLCJpdCIsImluY3IiLCJSb3V0aW5nVGllciIsIkxPQ0FMX0xMTSIsIlJBUF9TWVNURU0iLCJsb2NhbENvdW50IiwiZ2V0IiwicmFwQ291bnQiLCJleHBlY3QiLCJwYXJzZUludCIsInRvQmUiLCJoc2V0IiwidG90YWwiLCJzdWNjZXNzZnVsIiwiaGdldCIsInN1Y2Nlc3NSYXRlIiwidGltZXMiLCJ0aW1lIiwibHB1c2giLCJ0b1N0cmluZyIsInN0b3JlZFRpbWVzIiwibHJhbmdlIiwiYXZlcmFnZSIsInJlZHVjZSIsInN1bSIsInQiLCJsZW5ndGgiLCJjb3N0cyIsImNvc3QiLCJwYXJzZUZsb2F0IiwidG9CZUNsb3NlVG8iLCJoaXRzIiwibWlzc2VzIiwiaGl0UmF0ZSIsIlF1ZXJ5Q29tcGxleGl0eSIsIlNJTVBMRSIsIk1PREVSQVRFIiwic2ltcGxlIiwibW9kZXJhdGUiLCJxdWVyaWVzIiwiaWQiLCJzbG93UXVlcmllcyIsImZpbHRlciIsInEiLCJxdWVyeSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdG9yZWQiLCJ0b0hhdmVMZW5ndGgiLCJob3VybHkiLCJoZ2V0YWxsIiwiZW50cmllcyIsIk9iamVjdCIsInBlYWtIb3VyIiwicGVha0NvdW50IiwiaG91ciIsImNvdW50IiwiY291bnROdW0iLCJhdmdDb3N0Iiwic2F2aW5ncyIsIkVYVEVSTkFMX0xMTSIsImxvY2FsRXJyb3JzIiwiZXh0ZXJuYWxFcnJvcnMiXSwic291cmNlcyI6WyJyb3V0aW5nLWFuYWx5dGljcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRpbmdUaWVyLCBRdWVyeUNvbXBsZXhpdHkgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRUZXN0UmVkaXNDbGllbnQsIGNsZWFudXBUZXN0UmVkaXMgfSBmcm9tICcuLi8uLi8uLi90ZXN0cy91dGlscy9yZWRpcyc7XG5cbmNvbnN0IHJlZGlzID0gZ2V0VGVzdFJlZGlzQ2xpZW50KCk7XG5cbmRlc2NyaWJlKCdSb3V0aW5nIEFuYWx5dGljcycsICgpID0+IHtcbiAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBjbGVhbnVwVGVzdFJlZGlzKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgdHJhY2sgcm91dGluZyBjb3VudHMgYnkgdGllcicsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCByZWRpcy5pbmNyKGByb3V0aW5nOiR7Um91dGluZ1RpZXIuTE9DQUxfTExNfWApO1xuICAgIGF3YWl0IHJlZGlzLmluY3IoYHJvdXRpbmc6JHtSb3V0aW5nVGllci5MT0NBTF9MTE19YCk7XG4gICAgYXdhaXQgcmVkaXMuaW5jcihgcm91dGluZzoke1JvdXRpbmdUaWVyLlJBUF9TWVNURU19YCk7XG5cbiAgICBjb25zdCBsb2NhbENvdW50ID0gYXdhaXQgcmVkaXMuZ2V0KGByb3V0aW5nOiR7Um91dGluZ1RpZXIuTE9DQUxfTExNfWApO1xuICAgIGNvbnN0IHJhcENvdW50ID0gYXdhaXQgcmVkaXMuZ2V0KGByb3V0aW5nOiR7Um91dGluZ1RpZXIuUkFQX1NZU1RFTX1gKTtcblxuICAgIGV4cGVjdChwYXJzZUludChsb2NhbENvdW50ISkpLnRvQmUoMik7XG4gICAgZXhwZWN0KHBhcnNlSW50KHJhcENvdW50ISkpLnRvQmUoMSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgY2FsY3VsYXRlIHN1Y2Nlc3MgcmF0ZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgcmVkaXMuaHNldChgbWV0cmljczoke1JvdXRpbmdUaWVyLkxPQ0FMX0xMTX1gLCB7XG4gICAgICB0b3RhbDogMTAwLFxuICAgICAgc3VjY2Vzc2Z1bDogOTVcbiAgICB9KTtcblxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgcmVkaXMuaGdldChgbWV0cmljczoke1JvdXRpbmdUaWVyLkxPQ0FMX0xMTX1gLCAndG90YWwnKTtcbiAgICBjb25zdCBzdWNjZXNzZnVsID0gYXdhaXQgcmVkaXMuaGdldChgbWV0cmljczoke1JvdXRpbmdUaWVyLkxPQ0FMX0xMTX1gLCAnc3VjY2Vzc2Z1bCcpO1xuICAgIGNvbnN0IHN1Y2Nlc3NSYXRlID0gKHBhcnNlSW50KHN1Y2Nlc3NmdWwhKSAvIHBhcnNlSW50KHRvdGFsISkpICogMTAwO1xuXG4gICAgZXhwZWN0KHN1Y2Nlc3NSYXRlKS50b0JlKDk1KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCB0cmFjayByZXNwb25zZSB0aW1lcycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB0aW1lcyA9IFsxMDAsIDE1MCwgMjAwXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IHRpbWUgb2YgdGltZXMpIHtcbiAgICAgIGF3YWl0IHJlZGlzLmxwdXNoKGB0aW1lczoke1JvdXRpbmdUaWVyLkxPQ0FMX0xMTX1gLCB0aW1lLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IHN0b3JlZFRpbWVzID0gYXdhaXQgcmVkaXMubHJhbmdlKGB0aW1lczoke1JvdXRpbmdUaWVyLkxPQ0FMX0xMTX1gLCAwLCAtMSk7XG4gICAgY29uc3QgYXZlcmFnZSA9IHN0b3JlZFRpbWVzLnJlZHVjZSgoc3VtLCB0KSA9PiBzdW0gKyBwYXJzZUludCh0KSwgMCkgLyBzdG9yZWRUaW1lcy5sZW5ndGg7XG5cbiAgICBleHBlY3QoYXZlcmFnZSkudG9CZSgxNTApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHRyYWNrIGNvc3RzIHBlciB0aWVyJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IHJlZGlzLmxwdXNoKGBjb3N0czoke1JvdXRpbmdUaWVyLkxPQ0FMX0xMTX1gLCAnMC4wMDEnKTtcbiAgICBhd2FpdCByZWRpcy5scHVzaChgY29zdHM6JHtSb3V0aW5nVGllci5MT0NBTF9MTE19YCwgJzAuMDAyJyk7XG5cbiAgICBjb25zdCBjb3N0cyA9IGF3YWl0IHJlZGlzLmxyYW5nZShgY29zdHM6JHtSb3V0aW5nVGllci5MT0NBTF9MTE19YCwgMCwgLTEpO1xuICAgIGNvbnN0IHRvdGFsID0gY29zdHMucmVkdWNlKChzdW0sIGNvc3QpID0+IHN1bSArIHBhcnNlRmxvYXQoY29zdCksIDApO1xuXG4gICAgZXhwZWN0KHRvdGFsKS50b0JlQ2xvc2VUbygwLjAwMywgMyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgdHJhY2sgY2FjaGUgaGl0IHJhdGVzJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IHJlZGlzLmluY3IoJ2NhY2hlOmhpdHMnKTtcbiAgICBhd2FpdCByZWRpcy5pbmNyKCdjYWNoZTpoaXRzJyk7XG4gICAgYXdhaXQgcmVkaXMuaW5jcignY2FjaGU6bWlzc2VzJyk7XG5cbiAgICBjb25zdCBoaXRzID0gYXdhaXQgcmVkaXMuZ2V0KCdjYWNoZTpoaXRzJyk7XG4gICAgY29uc3QgbWlzc2VzID0gYXdhaXQgcmVkaXMuZ2V0KCdjYWNoZTptaXNzZXMnKTtcbiAgICBjb25zdCBoaXRSYXRlID0gKHBhcnNlSW50KGhpdHMhKSAvIChwYXJzZUludChoaXRzISkgKyBwYXJzZUludChtaXNzZXMhKSkpICogMTAwO1xuXG4gICAgZXhwZWN0KGhpdFJhdGUpLnRvQmVDbG9zZVRvKDY2LjY3LCAxKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCB0cmFjayBxdWVyeSBjb21wbGV4aXR5JywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IHJlZGlzLmluY3IoYGNvbXBsZXhpdHk6JHtRdWVyeUNvbXBsZXhpdHkuU0lNUExFfWApO1xuICAgIGF3YWl0IHJlZGlzLmluY3IoYGNvbXBsZXhpdHk6JHtRdWVyeUNvbXBsZXhpdHkuU0lNUExFfWApO1xuICAgIGF3YWl0IHJlZGlzLmluY3IoYGNvbXBsZXhpdHk6JHtRdWVyeUNvbXBsZXhpdHkuTU9ERVJBVEV9YCk7XG5cbiAgICBjb25zdCBzaW1wbGUgPSBhd2FpdCByZWRpcy5nZXQoYGNvbXBsZXhpdHk6JHtRdWVyeUNvbXBsZXhpdHkuU0lNUExFfWApO1xuICAgIGNvbnN0IG1vZGVyYXRlID0gYXdhaXQgcmVkaXMuZ2V0KGBjb21wbGV4aXR5OiR7UXVlcnlDb21wbGV4aXR5Lk1PREVSQVRFfWApO1xuXG4gICAgZXhwZWN0KHBhcnNlSW50KHNpbXBsZSEpKS50b0JlKDIpO1xuICAgIGV4cGVjdChwYXJzZUludChtb2RlcmF0ZSEpKS50b0JlKDEpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGlkZW50aWZ5IHNsb3cgcXVlcmllcycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBxdWVyaWVzID0gW1xuICAgICAgeyBpZDogJ3ExJywgdGltZTogMTAwIH0sXG4gICAgICB7IGlkOiAncTInLCB0aW1lOiAyMDAwIH0sXG4gICAgICB7IGlkOiAncTMnLCB0aW1lOiAxNTAgfVxuICAgIF07XG5cbiAgICBjb25zdCBzbG93UXVlcmllcyA9IHF1ZXJpZXMuZmlsdGVyKHEgPT4gcS50aW1lID4gMTAwMCk7XG4gICAgXG4gICAgZm9yIChjb25zdCBxdWVyeSBvZiBzbG93UXVlcmllcykge1xuICAgICAgYXdhaXQgcmVkaXMubHB1c2goJ3Nsb3dfcXVlcmllcycsIEpTT04uc3RyaW5naWZ5KHF1ZXJ5KSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RvcmVkID0gYXdhaXQgcmVkaXMubHJhbmdlKCdzbG93X3F1ZXJpZXMnLCAwLCAtMSk7XG4gICAgZXhwZWN0KHN0b3JlZCkudG9IYXZlTGVuZ3RoKDEpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHRyYWNrIHBlYWsgdXNhZ2UgaG91cnMnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgcmVkaXMuaHNldCgnaG91cmx5JywgJzknLCAnNTAnKTtcbiAgICBhd2FpdCByZWRpcy5oc2V0KCdob3VybHknLCAnMTAnLCAnMTAwJyk7XG4gICAgYXdhaXQgcmVkaXMuaHNldCgnaG91cmx5JywgJzExJywgJzc1Jyk7XG5cbiAgICBjb25zdCBob3VybHkgPSBhd2FpdCByZWRpcy5oZ2V0YWxsKCdob3VybHknKTtcbiAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoaG91cmx5KTtcbiAgICBsZXQgcGVha0hvdXIgPSAnMCc7XG4gICAgbGV0IHBlYWtDb3VudCA9IDA7XG4gICAgXG4gICAgZm9yIChjb25zdCBbaG91ciwgY291bnRdIG9mIGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IGNvdW50TnVtID0gcGFyc2VJbnQoY291bnQpO1xuICAgICAgaWYgKGNvdW50TnVtID4gcGVha0NvdW50KSB7XG4gICAgICAgIHBlYWtIb3VyID0gaG91cjtcbiAgICAgICAgcGVha0NvdW50ID0gY291bnROdW07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXhwZWN0KHBhcnNlSW50KHBlYWtIb3VyKSkudG9CZSgxMCk7XG4gICAgZXhwZWN0KHBlYWtDb3VudCkudG9CZSgxMDApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBjb3N0IHNhdmluZ3MgZnJvbSBjYWNoZScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBoaXRzID0gODA7XG4gICAgY29uc3QgYXZnQ29zdCA9IDAuMDE7XG4gICAgY29uc3Qgc2F2aW5ncyA9IGhpdHMgKiBhdmdDb3N0O1xuXG4gICAgYXdhaXQgcmVkaXMuaHNldCgnc2F2aW5ncycsIHtcbiAgICAgIGhpdHM6IGhpdHMudG9TdHJpbmcoKSxcbiAgICAgIGF2Z0Nvc3Q6IGF2Z0Nvc3QudG9TdHJpbmcoKSxcbiAgICAgIHRvdGFsOiBzYXZpbmdzLnRvU3RyaW5nKClcbiAgICB9KTtcblxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgcmVkaXMuaGdldCgnc2F2aW5ncycsICd0b3RhbCcpO1xuICAgIGV4cGVjdChwYXJzZUZsb2F0KHRvdGFsISkpLnRvQmUoMC44KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCB0cmFjayBlcnJvciByYXRlcycsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCByZWRpcy5pbmNyKGBlcnJvcnM6JHtSb3V0aW5nVGllci5MT0NBTF9MTE19YCk7XG4gICAgYXdhaXQgcmVkaXMuaW5jcihgZXJyb3JzOiR7Um91dGluZ1RpZXIuRVhURVJOQUxfTExNfWApO1xuICAgIGF3YWl0IHJlZGlzLmluY3IoYGVycm9yczoke1JvdXRpbmdUaWVyLkxPQ0FMX0xMTX1gKTtcblxuICAgIGNvbnN0IGxvY2FsRXJyb3JzID0gYXdhaXQgcmVkaXMuZ2V0KGBlcnJvcnM6JHtSb3V0aW5nVGllci5MT0NBTF9MTE19YCk7XG4gICAgY29uc3QgZXh0ZXJuYWxFcnJvcnMgPSBhd2FpdCByZWRpcy5nZXQoYGVycm9yczoke1JvdXRpbmdUaWVyLkVYVEVSTkFMX0xMTX1gKTtcblxuICAgIGV4cGVjdChwYXJzZUludChsb2NhbEVycm9ycyEpKS50b0JlKDIpO1xuICAgIGV4cGVjdChwYXJzZUludChleHRlcm5hbEVycm9ycyEpKS50b0JlKDEpO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFELE9BQUE7QUFFQSxNQUFNRSxLQUFLLEdBQUcsSUFBQUMseUJBQWtCLEVBQUMsQ0FBQztBQUVsQ0MsUUFBUSxDQUFDLG1CQUFtQixFQUFFLE1BQU07RUFDbENDLFNBQVMsQ0FBQyxZQUFZO0lBQ3BCLE1BQU0sSUFBQUMsdUJBQWdCLEVBQUMsQ0FBQztFQUMxQixDQUFDLENBQUM7RUFFRkMsRUFBRSxDQUFDLHFDQUFxQyxFQUFFLFlBQVk7SUFDcEQsTUFBTUwsS0FBSyxDQUFDTSxJQUFJLENBQUMsV0FBV0Msa0JBQVcsQ0FBQ0MsU0FBUyxFQUFFLENBQUM7SUFDcEQsTUFBTVIsS0FBSyxDQUFDTSxJQUFJLENBQUMsV0FBV0Msa0JBQVcsQ0FBQ0MsU0FBUyxFQUFFLENBQUM7SUFDcEQsTUFBTVIsS0FBSyxDQUFDTSxJQUFJLENBQUMsV0FBV0Msa0JBQVcsQ0FBQ0UsVUFBVSxFQUFFLENBQUM7SUFFckQsTUFBTUMsVUFBVSxHQUFHLE1BQU1WLEtBQUssQ0FBQ1csR0FBRyxDQUFDLFdBQVdKLGtCQUFXLENBQUNDLFNBQVMsRUFB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