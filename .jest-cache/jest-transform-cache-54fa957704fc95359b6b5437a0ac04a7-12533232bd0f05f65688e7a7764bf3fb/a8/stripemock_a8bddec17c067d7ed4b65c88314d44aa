9f75b5ed80c05102526fab7403e0b759
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.mockStripe = exports.MockStripeService = void 0;
var _base = require("./base.mock");
/**
 * Mock Stripe service for testing
 */
class MockStripeService extends _base.BaseMock {
  paymentIntents = new Map();
  customers = new Map();
  webhookEvents = [];

  /**
   * Create a payment intent
   */
  async createPaymentIntent(params) {
    this.trackCall('createPaymentIntent', [params]);
    const paymentIntent = {
      id: `pi_test_${this.generateId()}`,
      amount: params.amount,
      currency: params.currency,
      status: 'requires_payment_method',
      client_secret: `pi_test_${this.generateId()}_secret_${this.generateId()}`,
      customer: params.customer,
      metadata: params.metadata
    };
    this.paymentIntents.set(paymentIntent.id, paymentIntent);
    return paymentIntent;
  }

  /**
   * Confirm a payment intent
   */
  async confirmPaymentIntent(paymentIntentId) {
    this.trackCall('confirmPaymentIntent', [paymentIntentId]);
    const paymentIntent = this.paymentIntents.get(paymentIntentId);
    if (!paymentIntent) {
      throw new Error(`Payment intent ${paymentIntentId} not found`);
    }
    paymentIntent.status = 'succeeded';
    return paymentIntent;
  }

  /**
   * Cancel a payment intent
   */
  async cancelPaymentIntent(paymentIntentId) {
    this.trackCall('cancelPaymentIntent', [paymentIntentId]);
    const paymentIntent = this.paymentIntents.get(paymentIntentId);
    if (!paymentIntent) {
      throw new Error(`Payment intent ${paymentIntentId} not found`);
    }
    paymentIntent.status = 'canceled';
    return paymentIntent;
  }

  /**
   * Create a customer
   */
  async createCustomer(params) {
    this.trackCall('createCustomer', [params]);
    const customer = {
      id: `cus_test_${this.generateId()}`,
      email: params.email,
      name: params.name,
      metadata: params.metadata
    };
    this.customers.set(customer.id, customer);
    return customer;
  }

  /**
   * Get a customer
   */
  async getCustomer(customerId) {
    this.trackCall('getCustomer', [customerId]);
    const customer = this.customers.get(customerId);
    if (!customer) {
      throw new Error(`Customer ${customerId} not found`);
    }
    return customer;
  }

  /**
   * Create a refund
   */
  async createRefund(params) {
    this.trackCall('createRefund', [params]);
    const paymentIntent = this.paymentIntents.get(params.paymentIntent);
    if (!paymentIntent) {
      throw new Error(`Payment intent ${params.paymentIntent} not found`);
    }
    return {
      id: `re_test_${this.generateId()}`,
      amount: params.amount || paymentIntent.amount,
      currency: paymentIntent.currency,
      payment_intent: params.paymentIntent,
      status: 'succeeded'
    };
  }

  /**
   * Simulate a webhook event
   */
  simulateWebhook(type, data) {
    this.trackCall('simulateWebhook', [type, data]);
    const event = {
      id: `evt_test_${this.generateId()}`,
      type,
      data: {
        object: data
      }
    };
    this.webhookEvents.push(event);
    return event;
  }

  /**
   * Verify webhook signature (always returns true in tests)
   */
  verifyWebhookSignature(payload, signature, secret) {
    this.trackCall('verifyWebhookSignature', [payload, signature, secret]);
    return true;
  }

  /**
   * Get all webhook events
   */
  getWebhookEvents() {
    return this.webhookEvents;
  }

  /**
   * Get payment intent by ID
   */
  getPaymentIntent(id) {
    return this.paymentIntents.get(id);
  }

  /**
   * Reset mock state
   */
  reset() {
    super.reset();
    this.paymentIntents.clear();
    this.customers.clear();
    this.webhookEvents = [];
  }

  /**
   * Generate a random ID
   */
  generateId() {
    return Math.random().toString(36).substring(2, 15);
  }
}

// Export singleton instance
exports.MockStripeService = MockStripeService;
const mockStripe = exports.mockStripe = new MockStripeService();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmFzZSIsInJlcXVpcmUiLCJNb2NrU3RyaXBlU2VydmljZSIsIkJhc2VNb2NrIiwicGF5bWVudEludGVudHMiLCJNYXAiLCJjdXN0b21lcnMiLCJ3ZWJob29rRXZlbnRzIiwiY3JlYXRlUGF5bWVudEludGVudCIsInBhcmFtcyIsInRyYWNrQ2FsbCIsInBheW1lbnRJbnRlbnQiLCJpZCIsImdlbmVyYXRlSWQiLCJhbW91bnQiLCJjdXJyZW5jeSIsInN0YXR1cyIsImNsaWVudF9zZWNyZXQiLCJjdXN0b21lciIsIm1ldGFkYXRhIiwic2V0IiwiY29uZmlybVBheW1lbnRJbnRlbnQiLCJwYXltZW50SW50ZW50SWQiLCJnZXQiLCJFcnJvciIsImNhbmNlbFBheW1lbnRJbnRlbnQiLCJjcmVhdGVDdXN0b21lciIsImVtYWlsIiwibmFtZSIsImdldEN1c3RvbWVyIiwiY3VzdG9tZXJJZCIsImNyZWF0ZVJlZnVuZCIsInBheW1lbnRfaW50ZW50Iiwic2ltdWxhdGVXZWJob29rIiwidHlwZSIsImRhdGEiLCJldmVudCIsIm9iamVjdCIsInB1c2giLCJ2ZXJpZnlXZWJob29rU2lnbmF0dXJlIiwicGF5bG9hZCIsInNpZ25hdHVyZSIsInNlY3JldCIsImdldFdlYmhvb2tFdmVudHMiLCJnZXRQYXltZW50SW50ZW50IiwicmVzZXQiLCJjbGVhciIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImV4cG9ydHMiLCJtb2NrU3RyaXBlIl0sInNvdXJjZXMiOlsic3RyaXBlLm1vY2sudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZU1vY2sgfSBmcm9tICcuL2Jhc2UubW9jayc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1vY2tQYXltZW50SW50ZW50IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGFtb3VudDogbnVtYmVyO1xyXG4gIGN1cnJlbmN5OiBzdHJpbmc7XHJcbiAgc3RhdHVzOiAncmVxdWlyZXNfcGF5bWVudF9tZXRob2QnIHwgJ3JlcXVpcmVzX2NvbmZpcm1hdGlvbicgfCAncmVxdWlyZXNfYWN0aW9uJyB8ICdwcm9jZXNzaW5nJyB8ICdzdWNjZWVkZWQnIHwgJ2NhbmNlbGVkJztcclxuICBjbGllbnRfc2VjcmV0OiBzdHJpbmc7XHJcbiAgY3VzdG9tZXI/OiBzdHJpbmc7XHJcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1vY2tDdXN0b21lciB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIG5hbWU/OiBzdHJpbmc7XHJcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1vY2tXZWJob29rRXZlbnQge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdHlwZTogc3RyaW5nO1xyXG4gIGRhdGE6IHtcclxuICAgIG9iamVjdDogYW55O1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNb2NrIFN0cmlwZSBzZXJ2aWNlIGZvciB0ZXN0aW5nXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTW9ja1N0cmlwZVNlcnZpY2UgZXh0ZW5kcyBCYXNlTW9jayB7XHJcbiAgcHJpdmF0ZSBwYXltZW50SW50ZW50czogTWFwPHN0cmluZywgTW9ja1BheW1lbnRJbnRlbnQ+ID0gbmV3IE1hcCgpO1xyXG4gIHByaXZhdGUgY3VzdG9tZXJzOiBNYXA8c3RyaW5nLCBNb2NrQ3VzdG9tZXI+ID0gbmV3IE1hcCgpO1xyXG4gIHByaXZhdGUgd2ViaG9va0V2ZW50czogTW9ja1dlYmhvb2tFdmVudFtdID0gW107XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIHBheW1lbnQgaW50ZW50XHJcbiAgICovXHJcbiAgYXN5bmMgY3JlYXRlUGF5bWVudEludGVudChwYXJhbXM6IHtcclxuICAgIGFtb3VudDogbnVtYmVyO1xyXG4gICAgY3VycmVuY3k6IHN0cmluZztcclxuICAgIGN1c3RvbWVyPzogc3RyaW5nO1xyXG4gICAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG4gIH0pOiBQcm9taXNlPE1vY2tQYXltZW50SW50ZW50PiB7XHJcbiAgICB0aGlzLnRyYWNrQ2FsbCgnY3JlYXRlUGF5bWVudEludGVudCcsIFtwYXJhbXNdKTtcclxuXHJcbiAgICBjb25zdCBwYXltZW50SW50ZW50OiBNb2NrUGF5bWVudEludGVudCA9IHtcclxuICAgICAgaWQ6IGBwaV90ZXN0XyR7dGhpcy5nZW5lcmF0ZUlkKCl9YCxcclxuICAgICAgYW1vdW50OiBwYXJhbXMuYW1vdW50LFxyXG4gICAgICBjdXJyZW5jeTogcGFyYW1zLmN1cnJlbmN5LFxyXG4gICAgICBzdGF0dXM6ICdyZXF1aXJlc19wYXltZW50X21ldGhvZCcsXHJcbiAgICAgIGNsaWVudF9zZWNyZXQ6IGBwaV90ZXN0XyR7dGhpcy5nZW5lcmF0ZUlkKCl9X3NlY3JldF8ke3RoaXMuZ2VuZXJhdGVJZCgpfWAsXHJcbiAgICAgIGN1c3RvbWVyOiBwYXJhbXMuY3VzdG9tZXIsXHJcbiAgICAgIG1ldGFkYXRhOiBwYXJhbXMubWV0YWRhdGEsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMucGF5bWVudEludGVudHMuc2V0KHBheW1lbnRJbnRlbnQuaWQsIHBheW1lbnRJbnRlbnQpO1xyXG4gICAgcmV0dXJuIHBheW1lbnRJbnRlbnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb25maXJtIGEgcGF5bWVudCBpbnRlbnRcclxuICAgKi9cclxuICBhc3luYyBjb25maXJtUGF5bWVudEludGVudChwYXltZW50SW50ZW50SWQ6IHN0cmluZyk6IFByb21pc2U8TW9ja1BheW1lbnRJbnRlbnQ+IHtcclxuICAgIHRoaXMudHJhY2tDYWxsKCdjb25maXJtUGF5bWVudEludGVudCcsIFtwYXltZW50SW50ZW50SWRdKTtcclxuXHJcbiAgICBjb25zdCBwYXltZW50SW50ZW50ID0gdGhpcy5wYXltZW50SW50ZW50cy5nZXQocGF5bWVudEludGVudElkKTtcclxuICAgIGlmICghcGF5bWVudEludGVudCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFBheW1lbnQgaW50ZW50ICR7cGF5bWVudEludGVudElkfSBub3QgZm91bmRgKTtcclxuICAgIH1cclxuXHJcbiAgICBwYXltZW50SW50ZW50LnN0YXR1cyA9ICdzdWNjZWVkZWQnO1xyXG4gICAgcmV0dXJuIHBheW1lbnRJbnRlbnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYW5jZWwgYSBwYXltZW50IGludGVudFxyXG4gICAqL1xyXG4gIGFzeW5jIGNhbmNlbFBheW1lbnRJbnRlbnQocGF5bWVudEludGVudElkOiBzdHJpbmcpOiBQcm9taXNlPE1vY2tQYXltZW50SW50ZW50PiB7XHJcbiAgICB0aGlzLnRyYWNrQ2FsbCgnY2FuY2VsUGF5bWVudEludGVudCcsIFtwYXltZW50SW50ZW50SWRdKTtcclxuXHJcbiAgICBjb25zdCBwYXltZW50SW50ZW50ID0gdGhpcy5wYXltZW50SW50ZW50cy5nZXQocGF5bWVudEludGVudElkKTtcclxuICAgIGlmICghcGF5bWVudEludGVudCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFBheW1lbnQgaW50ZW50ICR7cGF5bWVudEludGVudElkfSBub3QgZm91bmRgKTtcclxuICAgIH1cclxuXHJcbiAgICBwYXltZW50SW50ZW50LnN0YXR1cyA9ICdjYW5jZWxlZCc7XHJcbiAgICByZXR1cm4gcGF5bWVudEludGVudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIGN1c3RvbWVyXHJcbiAgICovXHJcbiAgYXN5bmMgY3JlYXRlQ3VzdG9tZXIocGFyYW1zOiB7XHJcbiAgICBlbWFpbDogc3RyaW5nO1xyXG4gICAgbmFtZT86IHN0cmluZztcclxuICAgIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PjtcclxuICB9KTogUHJvbWlzZTxNb2NrQ3VzdG9tZXI+IHtcclxuICAgIHRoaXMudHJhY2tDYWxsKCdjcmVhdGVDdXN0b21lcicsIFtwYXJhbXNdKTtcclxuXHJcbiAgICBjb25zdCBjdXN0b21lcjogTW9ja0N1c3RvbWVyID0ge1xyXG4gICAgICBpZDogYGN1c190ZXN0XyR7dGhpcy5nZW5lcmF0ZUlkKCl9YCxcclxuICAgICAgZW1haWw6IHBhcmFtcy5lbWFpbCxcclxuICAgICAgbmFtZTogcGFyYW1zLm5hbWUsXHJcbiAgICAgIG1ldGFkYXRhOiBwYXJhbXMubWV0YWRhdGEsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY3VzdG9tZXJzLnNldChjdXN0b21lci5pZCwgY3VzdG9tZXIpO1xyXG4gICAgcmV0dXJuIGN1c3RvbWVyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGEgY3VzdG9tZXJcclxuICAgKi9cclxuICBhc3luYyBnZXRDdXN0b21lcihjdXN0b21lcklkOiBzdHJpbmcpOiBQcm9taXNlPE1vY2tDdXN0b21lcj4ge1xyXG4gICAgdGhpcy50cmFja0NhbGwoJ2dldEN1c3RvbWVyJywgW2N1c3RvbWVySWRdKTtcclxuXHJcbiAgICBjb25zdCBjdXN0b21lciA9IHRoaXMuY3VzdG9tZXJzLmdldChjdXN0b21lcklkKTtcclxuICAgIGlmICghY3VzdG9tZXIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDdXN0b21lciAke2N1c3RvbWVySWR9IG5vdCBmb3VuZGApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjdXN0b21lcjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIHJlZnVuZFxyXG4gICAqL1xyXG4gIGFzeW5jIGNyZWF0ZVJlZnVuZChwYXJhbXM6IHtcclxuICAgIHBheW1lbnRJbnRlbnQ6IHN0cmluZztcclxuICAgIGFtb3VudD86IG51bWJlcjtcclxuICB9KTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHRoaXMudHJhY2tDYWxsKCdjcmVhdGVSZWZ1bmQnLCBbcGFyYW1zXSk7XHJcblxyXG4gICAgY29uc3QgcGF5bWVudEludGVudCA9IHRoaXMucGF5bWVudEludGVudHMuZ2V0KHBhcmFtcy5wYXltZW50SW50ZW50KTtcclxuICAgIGlmICghcGF5bWVudEludGVudCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFBheW1lbnQgaW50ZW50ICR7cGFyYW1zLnBheW1lbnRJbnRlbnR9IG5vdCBmb3VuZGApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiBgcmVfdGVzdF8ke3RoaXMuZ2VuZXJhdGVJZCgpfWAsXHJcbiAgICAgIGFtb3VudDogcGFyYW1zLmFtb3VudCB8fCBwYXltZW50SW50ZW50LmFtb3VudCxcclxuICAgICAgY3VycmVuY3k6IHBheW1lbnRJbnRlbnQuY3VycmVuY3ksXHJcbiAgICAgIHBheW1lbnRfaW50ZW50OiBwYXJhbXMucGF5bWVudEludGVudCxcclxuICAgICAgc3RhdHVzOiAnc3VjY2VlZGVkJyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTaW11bGF0ZSBhIHdlYmhvb2sgZXZlbnRcclxuICAgKi9cclxuICBzaW11bGF0ZVdlYmhvb2sodHlwZTogc3RyaW5nLCBkYXRhOiBhbnkpOiBNb2NrV2ViaG9va0V2ZW50IHtcclxuICAgIHRoaXMudHJhY2tDYWxsKCdzaW11bGF0ZVdlYmhvb2snLCBbdHlwZSwgZGF0YV0pO1xyXG5cclxuICAgIGNvbnN0IGV2ZW50OiBNb2NrV2ViaG9va0V2ZW50ID0ge1xyXG4gICAgICBpZDogYGV2dF90ZXN0XyR7dGhpcy5nZW5lcmF0ZUlkKCl9YCxcclxuICAgICAgdHlwZSxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIG9iamVjdDogZGF0YSxcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy53ZWJob29rRXZlbnRzLnB1c2goZXZlbnQpO1xyXG4gICAgcmV0dXJuIGV2ZW50O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVmVyaWZ5IHdlYmhvb2sgc2lnbmF0dXJlIChhbHdheXMgcmV0dXJucyB0cnVlIGluIHRlc3RzKVxyXG4gICAqL1xyXG4gIHZlcmlmeVdlYmhvb2tTaWduYXR1cmUocGF5bG9hZDogc3RyaW5nLCBzaWduYXR1cmU6IHN0cmluZywgc2VjcmV0OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHRoaXMudHJhY2tDYWxsKCd2ZXJpZnlXZWJob29rU2lnbmF0dXJlJywgW3BheWxvYWQsIHNpZ25hdHVyZSwgc2VjcmV0XSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhbGwgd2ViaG9vayBldmVudHNcclxuICAgKi9cclxuICBnZXRXZWJob29rRXZlbnRzKCk6IE1vY2tXZWJob29rRXZlbnRbXSB7XHJcbiAgICByZXR1cm4gdGhpcy53ZWJob29rRXZlbnRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHBheW1lbnQgaW50ZW50IGJ5IElEXHJcbiAgICovXHJcbiAgZ2V0UGF5bWVudEludGVudChpZDogc3RyaW5nKTogTW9ja1BheW1lbnRJbnRlbnQgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIHRoaXMucGF5bWVudEludGVudHMuZ2V0KGlkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc2V0IG1vY2sgc3RhdGVcclxuICAgKi9cclxuICByZXNldCgpOiB2b2lkIHtcclxuICAgIHN1cGVyLnJlc2V0KCk7XHJcbiAgICB0aGlzLnBheW1lbnRJbnRlbnRzLmNsZWFyKCk7XHJcbiAgICB0aGlzLmN1c3RvbWVycy5jbGVhcigpO1xyXG4gICAgdGhpcy53ZWJob29rRXZlbnRzID0gW107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBhIHJhbmRvbSBJRFxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXHJcbmV4cG9ydCBjb25zdCBtb2NrU3RyaXBlID0gbmV3IE1vY2tTdHJpcGVTZXJ2aWNlKCk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxPQUFBO0FBMkJBO0FBQ0E7QUFDQTtBQUNPLE1BQU1DLGlCQUFpQixTQUFTQyxjQUFRLENBQUM7RUFDdENDLGNBQWMsR0FBbUMsSUFBSUMsR0FBRyxDQUFDLENBQUM7RUFDMURDLFNBQVMsR0FBOEIsSUFBSUQsR0FBRyxDQUFDLENBQUM7RUFDaERFLGFBQWEsR0FBdUIsRUFBRTs7RUFFOUM7QUFDRjtBQUNBO0VBQ0UsTUFBTUMsbUJBQW1CQSxDQUFDQyxNQUt6QixFQUE4QjtJQUM3QixJQUFJLENBQUNDLFNBQVMsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDRCxNQUFNLENBQUMsQ0FBQztJQUUvQyxNQUFNRSxhQUFnQyxHQUFHO01BQ3ZDQyxFQUFFLEVBQUUsV0FBVyxJQUFJLENBQUNDLFVBQVUsQ0FBQyxDQUFDLEVBQUU7TUFDbENDLE1BQU0sRUFBRUwsTUFBTSxDQUFDSyxNQUFNO01BQ3JCQyxRQUFRLEVBQUVOLE1BQU0sQ0FBQ00sUUFBUTtNQUN6QkMsTUFBTSxFQUFFLHlCQUF5QjtNQUNqQ0MsYUFBYSxFQUFFLFdBQVcsSUFBSSxDQUFDSixVQUFVLENBQUMsQ0FBQyxXQUFXLElBQUksQ0FBQ0EsVUFBVSxDQUFDLENBQUMsRUFBRTtNQUN6RUssUUFBUSxFQUFFVCxNQUFNLENBQUNTLFFBQVE7TUFDekJDLFFBQVEsRUFBRVYsTUFBTSxDQUFDVTtJQUNuQixDQUFDO0lBRUQsSUFBSSxDQUFDZixjQUFjLENBQUNnQixHQUFHLENBQUNULGFBQWEsQ0FBQ0MsRUFBRSxFQUFFRCxhQUFhLENBQUM7SUFDeEQsT0FBT0EsYUFBYTtFQUN0Qjs7RUFFQTtBQUNGO0FBQ0E7RUFDRSxNQUFNVSxvQkFBb0JBLENBQUNDLGVBQXVCLEVBQThCO0lBQzlFLElBQUksQ0FBQ1osU0FBUyxDQUFDLHNC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QUFTLENBQUMsaUJBQWlCLEVBQUUsQ0FBQ3dCLElBQUksRUFBRUMsSUFBSSxDQUFDLENBQUM7SUFFL0MsTUFBTUMsS0FBdUIsR0FBRztNQUM5QnhCLEVBQUUsRUFBRSxZQUFZLElBQUksQ0FBQ0MsVUFBVSxDQUFDLENBQUMsRUFBRTtNQUNuQ3FCLElBQUk7TUFDSkMsSUFBSSxFQUFFO1FBQ0pFLE1BQU0sRUFBRUY7TUFDVjtJQUNGLENBQUM7SUFFRCxJQUFJLENBQUM1QixhQUFhLENBQUMrQixJQUFJLENBQUNGLEtBQUssQ0FBQztJQUM5QixPQUFPQSxLQUFLO0VBQ2Q7O0VBRUE7QUFDRjtBQUNBO0VBQ0VHLHNCQUFzQkEsQ0FBQ0MsT0FBZSxFQUFFQyxTQUFpQixFQUFFQyxNQUFjLEVBQVc7SUFDbEYsSUFBSSxDQUFDaEMsU0FBUyxDQUFDLHdCQUF3QixFQUFFLENBQUM4QixPQUFPLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxDQUFDLENBQUM7SUFDdEUsT0FBTyxJQUFJO0VBQ2I7O0VBRUE7QUFDRjtBQUNBO0VBQ0VDLGdCQUFnQkEsQ0FBQSxFQUF1QjtJQUNyQyxPQUFPLElBQUksQ0FBQ3BDLGFBQWE7RUFDM0I7O0VBRUE7QUFDRjtBQUNBO0VBQ0VxQyxnQkFBZ0JBLENBQUNoQyxFQUFVLEVBQWlDO0lBQzFELE9BQU8sSUFBSSxDQUFDUixjQUFjLENBQUNtQixHQUFHLENBQUNYLEVBQUUsQ0FBQztFQUNwQzs7RUFFQTtBQUNGO0FBQ0E7RUFDRWlDLEtBQUtBLENBQUEsRUFBUztJQUNaLEtBQUssQ0FBQ0EsS0FBSyxDQUFDLENBQUM7SUFDYixJQUFJLENBQUN6QyxjQUFjLENBQUMwQyxLQUFLLENBQUMsQ0FBQztJQUMzQixJQUFJLENBQUN4QyxTQUFTLENBQUN3QyxLQUFLLENBQUMsQ0FBQztJQUN0QixJQUFJLENBQUN2QyxhQUFhLEdBQUcsRUFBRTtFQUN6Qjs7RUFFQTtBQUNGO0FBQ0E7RUFDVU0sVUFBVUEsQ0FBQSxFQUFXO0lBQzNCLE9BQU9rQyxJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0MsU0FBUyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUM7RUFDcEQ7QUFDRjs7QUFFQTtBQUFBQyxPQUFBLENBQUFqRCxpQkFBQSxHQUFBQSxpQkFBQTtBQUNPLE1BQU1rRCxVQUFVLEdBQUFELE9BQUEsQ0FBQUMsVUFBQSxHQUFHLElBQUlsRCxpQkFBaUIsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119