{"version":3,"names":["_localLlmService","require","_types","describe","service","beforeEach","LocalLLMService","afterEach","unload","it","status","getStatus","expect","model","toBe","quantization","maxTokens","customService","isReady","initialize","firstStatus","secondStatus","loaded","response","processQuery","query","userId","id","toBeDefined","content","routingTier","RoutingTier","LOCAL_LLM","cost","cached","responseTime","toBeGreaterThan","firstResponse","secondResponse","toContain","length","metadata","tokensGenerated","toBeLessThan","stats1","getCacheStats","size","stats2","stats","clearCache","maxSize","utilizationPercent","toBeLessThanOrEqual","i","cacheSize","toBeGreaterThanOrEqual","q4Service","q5Service","q8Service","llamaService","phiService","service512","service1024","estimatedTokens","Math","ceil","temperature","topP","testService","longQuery","repeat","startTime","Date","now","totalTime","avgTime","firstTime","secondTime"],"sources":["local-llm-service.test.ts"],"sourcesContent":["/**\r\n * Local LLM Service Tests\r\n * Tests for on-device inference using quantized models\r\n */\r\n\r\nimport { LocalLLMService, LocalLLMConfig } from '../local-llm-service';\r\nimport { RoutingTier } from '../types';\r\n\r\ndescribe('LocalLLMService', () => {\r\n  let service: LocalLLMService;\r\n\r\n  beforeEach(() => {\r\n    service = new LocalLLMService();\r\n  });\r\n\r\n  afterEach(async () => {\r\n    await service.unload();\r\n  });\r\n\r\n  describe('Initialization', () => {\r\n    it('should initialize with default config', () => {\r\n      const status = service.getStatus();\r\n      expect(status.model).toBe('llama');\r\n      expect(status.quantization).toBe('q4');\r\n      expect(status.maxTokens).toBe(512);\r\n    });\r\n\r\n    it('should initialize with custom config', () => {\r\n      const customService = new LocalLLMService({\r\n        model: 'phi',\r\n        quantization: 'q8',\r\n        maxTokens: 1024\r\n      });\r\n\r\n      const status = customService.getStatus();\r\n      expect(status.model).toBe('phi');\r\n      expect(status.quantization).toBe('q8');\r\n      expect(status.maxTokens).toBe(1024);\r\n    });\r\n\r\n    it('should load model on first use', async () => {\r\n      expect(service.isReady()).toBe(false);\r\n      await service.initialize();\r\n      expect(service.isReady()).toBe(true);\r\n    });\r\n\r\n    it('should not reload model if already loaded', async () => {\r\n      await service.initialize();\r\n      const firstStatus = service.getStatus();\r\n      await service.initialize();\r\n      const secondStatus = service.getStatus();\r\n      expect(firstStatus.loaded).toBe(secondStatus.loaded);\r\n    });\r\n  });\r\n\r\n  describe('Query Processing', () => {\r\n    beforeEach(async () => {\r\n      await service.initialize();\r\n    });\r\n\r\n    it('should process a simple query', async () => {\r\n      const response = await service.processQuery({\r\n        query: 'Hello',\r\n        userId: 'user-123'\r\n      });\r\n\r\n      expect(response.id).toBeDefined();\r\n      expect(response.content).toBeDefined();\r\n      expect(response.routingTier).toBe(RoutingTier.LOCAL_LLM);\r\n      expect(response.cost).toBe(0);\r\n      expect(response.cached).toBe(false);\r\n      expect(response.responseTime).toBeGreaterThan(0);\r\n    });\r\n\r\n    it('should return cached response on second query', async () => {\r\n      const query = { query: 'What is Azora?' };\r\n\r\n      const firstResponse = await service.processQuery(query);\r\n      expect(firstResponse.cached).toBe(false);\r\n\r\n      const secondResponse = await service.processQuery(query);\r\n      expect(secondResponse.cached).toBe(true);\r\n      expect(secondResponse.content).toBe(firstResponse.content);\r\n    });\r\n\r\n    it('should handle FAQ queries', async () => {\r\n      const response = await service.processQuery({\r\n        query: 'How do I start with Azora?'\r\n      });\r\n\r\n      expect(response.content).toContain('start');\r\n      expect(response.content.length).toBeGreaterThan(0);\r\n    });\r\n\r\n    it('should handle token-related queries', async () => {\r\n      const response = await service.processQuery({\r\n        query: 'What are AZR tokens?'\r\n      });\r\n\r\n      expect(response.content).toContain('token');\r\n      expect(response.content.length).toBeGreaterThan(0);\r\n    });\r\n\r\n    it('should handle factual queries', async () => {\r\n      const response = await service.processQuery({\r\n        query: 'What is the capital of France?'\r\n      });\r\n\r\n      expect(response.content).toContain('Paris');\r\n    });\r\n\r\n    it('should handle unknown queries gracefully', async () => {\r\n      const response = await service.processQuery({\r\n        query: 'xyzabc unknown query'\r\n      });\r\n\r\n      expect(response.content).toBeDefined();\r\n      expect(response.content.length).toBeGreaterThan(0);\r\n    });\r\n\r\n    it('should include metadata in response', async () => {\r\n      const response = await service.processQuery({\r\n        query: 'Test query'\r\n      });\r\n\r\n      expect(response.metadata).toBeDefined();\r\n      expect(response.metadata?.model).toBe('llama');\r\n      expect(response.metadata?.quantization).toBe('q4');\r\n      expect(response.metadata?.tokensGenerated).toBeGreaterThan(0);\r\n    });\r\n\r\n    it('should have zero cost for local LLM', async () => {\r\n      const response = await service.processQuery({\r\n        query: 'Test query'\r\n      });\r\n\r\n      expect(response.cost).toBe(0);\r\n    });\r\n\r\n    it('should complete within reasonable time', async () => {\r\n      const response = await service.processQuery({\r\n        query: 'Test query'\r\n      });\r\n\r\n      // Local LLM should respond within 500ms\r\n      expect(response.responseTime).toBeLessThan(500);\r\n    });\r\n  });\r\n\r\n  describe('Caching', () => {\r\n    beforeEach(async () => {\r\n      await service.initialize();\r\n    });\r\n\r\n    it('should cache responses', async () => {\r\n      const query = { query: 'Cache test' };\r\n\r\n      await service.processQuery(query);\r\n      const stats1 = service.getCacheStats();\r\n      expect(stats1.size).toBe(1);\r\n\r\n      await service.processQuery(query);\r\n      const stats2 = service.getCacheStats();\r\n      expect(stats2.size).toBe(1); // Same query, same cache entry\r\n    });\r\n\r\n    it('should clear cache', async () => {\r\n      await service.processQuery({ query: 'Test 1' });\r\n      await service.processQuery({ query: 'Test 2' });\r\n\r\n      let stats = service.getCacheStats();\r\n      expect(stats.size).toBeGreaterThan(0);\r\n\r\n      service.clearCache();\r\n      stats = service.getCacheStats();\r\n      expect(stats.size).toBe(0);\r\n    });\r\n\r\n    it('should report cache statistics', async () => {\r\n      await service.processQuery({ query: 'Test' });\r\n\r\n      const stats = service.getCacheStats();\r\n      expect(stats.size).toBeGreaterThan(0);\r\n      expect(stats.maxSize).toBe(1000);\r\n      expect(stats.utilizationPercent).toBeGreaterThan(0);\r\n      expect(stats.utilizationPercent).toBeLessThanOrEqual(100);\r\n    });\r\n\r\n    it('should limit cache size', async () => {\r\n      // Add many queries to exceed cache limit\r\n      for (let i = 0; i < 1100; i++) {\r\n        await service.processQuery({ query: `Query ${i}` });\r\n      }\r\n\r\n      const stats = service.getCacheStats();\r\n      // Cache should be limited to prevent memory issues\r\n      expect(stats.size).toBeLessThanOrEqual(1000);\r\n    });\r\n  });\r\n\r\n  describe('Service Status', () => {\r\n    it('should report not ready before initialization', () => {\r\n      expect(service.isReady()).toBe(false);\r\n    });\r\n\r\n    it('should report ready after initialization', async () => {\r\n      await service.initialize();\r\n      expect(service.isReady()).toBe(true);\r\n    });\r\n\r\n    it('should provide detailed status', async () => {\r\n      await service.initialize();\r\n\r\n      const status = service.getStatus();\r\n      expect(status.loaded).toBe(true);\r\n      expect(status.model).toBeDefined();\r\n      expect(status.quantization).toBeDefined();\r\n      expect(status.cacheSize).toBeGreaterThanOrEqual(0);\r\n      expect(status.maxTokens).toBeGreaterThan(0);\r\n    });\r\n  });\r\n\r\n  describe('Model Unloading', () => {\r\n    it('should unload model and free resources', async () => {\r\n      await service.initialize();\r\n      expect(service.isReady()).toBe(true);\r\n\r\n      await service.unload();\r\n      expect(service.isReady()).toBe(false);\r\n\r\n      const stats = service.getCacheStats();\r\n      expect(stats.size).toBe(0);\r\n    });\r\n\r\n    it('should reinitialize after unloading', async () => {\r\n      await service.initialize();\r\n      await service.unload();\r\n      expect(service.isReady()).toBe(false);\r\n\r\n      await service.initialize();\r\n      expect(service.isReady()).toBe(true);\r\n    });\r\n  });\r\n\r\n  describe('Configuration Options', () => {\r\n    it('should support different quantization levels', () => {\r\n      const q4Service = new LocalLLMService({ quantization: 'q4' });\r\n      const q5Service = new LocalLLMService({ quantization: 'q5' });\r\n      const q8Service = new LocalLLMService({ quantization: 'q8' });\r\n\r\n      expect(q4Service.getStatus().quantization).toBe('q4');\r\n      expect(q5Service.getStatus().quantization).toBe('q5');\r\n      expect(q8Service.getStatus().quantization).toBe('q8');\r\n    });\r\n\r\n    it('should support different models', () => {\r\n      const llamaService = new LocalLLMService({ model: 'llama' });\r\n      const phiService = new LocalLLMService({ model: 'phi' });\r\n\r\n      expect(llamaService.getStatus().model).toBe('llama');\r\n      expect(phiService.getStatus().model).toBe('phi');\r\n    });\r\n\r\n    it('should support custom token limits', () => {\r\n      const service512 = new LocalLLMService({ maxTokens: 512 });\r\n      const service1024 = new LocalLLMService({ maxTokens: 1024 });\r\n\r\n      expect(service512.getStatus().maxTokens).toBe(512);\r\n      expect(service1024.getStatus().maxTokens).toBe(1024);\r\n    });\r\n  });\r\n\r\n  describe('Response Quality', () => {\r\n    beforeEach(async () => {\r\n      await service.initialize();\r\n    });\r\n\r\n    it('should generate non-empty responses', async () => {\r\n      const response = await service.processQuery({\r\n        query: 'Test'\r\n      });\r\n\r\n      expect(response.content).toBeDefined();\r\n      expect(response.content.length).toBeGreaterThan(0);\r\n    });\r\n\r\n    it('should estimate token count', async () => {\r\n      const response = await service.processQuery({\r\n        query: 'Test'\r\n      });\r\n\r\n      expect(response.metadata?.tokensGenerated).toBeGreaterThan(0);\r\n      // Rough check: tokens should be roughly 1/4 of characters\r\n      const estimatedTokens = Math.ceil(response.content.length / 4);\r\n      expect(response.metadata?.tokensGenerated).toBeLessThanOrEqual(estimatedTokens + 10);\r\n    });\r\n\r\n    it('should include temperature and topP in metadata', async () => {\r\n      const response = await service.processQuery({\r\n        query: 'Test'\r\n      });\r\n\r\n      expect(response.metadata?.temperature).toBe(0.7);\r\n      expect(response.metadata?.topP).toBe(0.9);\r\n    });\r\n  });\r\n\r\n  describe('Error Handling', () => {\r\n    it('should handle initialization errors gracefully', async () => {\r\n      // Create a service and try to process without proper initialization\r\n      const testService = new LocalLLMService();\r\n      // Should auto-initialize on first query\r\n      const response = await testService.processQuery({\r\n        query: 'Test'\r\n      });\r\n\r\n      expect(response).toBeDefined();\r\n      expect(response.content).toBeDefined();\r\n    });\r\n\r\n    it('should handle empty queries', async () => {\r\n      await service.initialize();\r\n\r\n      const response = await service.processQuery({\r\n        query: ''\r\n      });\r\n\r\n      expect(response.content).toBeDefined();\r\n    });\r\n\r\n    it('should handle very long queries', async () => {\r\n      await service.initialize();\r\n\r\n      const longQuery = 'test '.repeat(1000);\r\n      const response = await service.processQuery({\r\n        query: longQuery\r\n      });\r\n\r\n      expect(response.content).toBeDefined();\r\n      expect(response.responseTime).toBeGreaterThan(0);\r\n    });\r\n  });\r\n\r\n  describe('Performance', () => {\r\n    beforeEach(async () => {\r\n      await service.initialize();\r\n    });\r\n\r\n    it('should process queries quickly', async () => {\r\n      const startTime = Date.now();\r\n\r\n      for (let i = 0; i < 10; i++) {\r\n        await service.processQuery({\r\n          query: `Query ${i}`\r\n        });\r\n      }\r\n\r\n      const totalTime = Date.now() - startTime;\r\n      const avgTime = totalTime / 10;\r\n\r\n      // Average response time should be reasonable\r\n      expect(avgTime).toBeLessThan(500);\r\n    });\r\n\r\n    it('should serve cached responses faster', async () => {\r\n      const query = { query: 'Performance test' };\r\n\r\n      // First query (not cached)\r\n      const firstResponse = await service.processQuery(query);\r\n      const firstTime = firstResponse.responseTime;\r\n\r\n      // Second query (cached)\r\n      const secondResponse = await service.processQuery(query);\r\n      const secondTime = secondResponse.responseTime;\r\n\r\n      // Cached response should be faster\r\n      expect(secondTime).toBeLessThan(firstTime);\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}