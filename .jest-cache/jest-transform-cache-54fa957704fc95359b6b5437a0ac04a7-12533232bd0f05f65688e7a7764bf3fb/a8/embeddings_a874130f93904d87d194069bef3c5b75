cb8877870a96dec9d38750ab4bb9d9bd
/* istanbul ignore next */
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.EmbeddingService = void 0;
var
/* istanbul ignore next */
_openai = require("openai");
var
/* istanbul ignore next */
_nodeCache = _interopRequireDefault(require("node-cache"));
/* istanbul ignore next */ function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function cov_1w25gntffr() {
  var path = "C:\\Users\\Azora Sapiens\\Documents\\azora\\services\\azora-sapiens\\src\\embeddings.ts";
  var hash = "5d2fc5ae5c15a9a80e5082992c821b5550d28d8e";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\Azora Sapiens\\Documents\\azora\\services\\azora-sapiens\\src\\embeddings.ts",
    statementMap: {
      "0": {
        start: {
          line: 13,
          column: 18
        },
        end: {
          line: 13,
          column: 42
        }
      },
      "1": {
        start: {
          line: 16,
          column: 4
        },
        end: {
          line: 16,
          column: 41
        }
      },
      "2": {
        start: {
          line: 17,
          column: 4
        },
        end: {
          line: 17,
          column: 50
        }
      },
      "3": {
        start: {
          line: 25,
          column: 19
        },
        end: {
          line: 25,
          column: 55
        }
      },
      "4": {
        start: {
          line: 26,
          column: 4
        },
        end: {
          line: 28,
          column: 5
        }
      },
      "5": {
        start: {
          line: 27,
          column: 6
        },
        end: {
          line: 27,
          column: 30
        }
      },
      "6": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 49,
          column: 5
        }
      },
      "7": {
        start: {
          line: 31,
          column: 23
        },
        end: {
          line: 34,
          column: 8
        }
      },
      "8": {
        start: {
          line: 36,
          column: 24
        },
        end: {
          line: 36,
          column: 50
        }
      },
      "9": {
        start: {
          line: 39,
          column: 6
        },
        end: {
          line: 43,
          column: 9
        }
      },
      "10": {
        start: {
          line: 45,
          column: 6
        },
        end: {
          line: 45,
          column: 23
        }
      },
      "11": {
        start: {
          line: 47,
          column: 6
        },
        end: {
          line: 47,
          column: 58
        }
      },
      "12": {
        start: {
          line: 48,
          column: 6
        },
        end: {
          line: 48,
          column: 18
        }
      },
      "13": {
        start: {
          line: 56,
          column: 35
        },
        end: {
          line: 56,
          column: 37
        }
      },
      "14": {
        start: {
          line: 57,
          column: 61
        },
        end: {
          line: 57,
          column: 63
        }
      },
      "15": {
        start: {
          line: 60,
          column: 4
        },
        end: {
          line: 67,
          column: 5
        }
      },
      "16": {
        start: {
          line: 60,
          column: 17
        },
        end: {
          line: 60,
          column: 18
        }
      },
      "17": {
        start: {
          line: 61,
          column: 21
        },
        end: {
          line: 61,
          column: 61
        }
      },
      "18": {
        start: {
          line: 62,
          column: 6
        },
        end: {
          line: 66,
          column: 7
        }
      },
      "19": {
        start: {
          line: 63,
          column: 8
        },
        end: {
          line: 63,
          column: 41
        }
      },
      "20": {
        start: {
          line: 65,
          column: 8
        },
        end: {
          line: 65,
          column: 57
        }
      },
      "21": {
        start: {
          line: 70,
          column: 4
        },
        end: {
          line: 72,
          column: 5
        }
      },
      "22": {
        start: {
          line: 71,
          column: 6
        },
        end: {
          line: 71,
          column: 24
        }
      },
      "23": {
        start: {
          line: 75,
          column: 22
        },
        end: {
          line: 75,
          column: 25
        }
      },
      "24": {
        start: {
          line: 76,
          column: 4
        },
        end: {
          line: 102,
          column: 5
        }
      },
      "25": {
        start: {
          line: 76,
          column: 17
        },
        end: {
          line: 76,
          column: 18
        }
      },
      "26": {
        start: {
          line: 77,
          column: 20
        },
        end: {
          line: 77,
          column: 57
        }
      },
      "27": {
        start: {
          line: 78,
          column: 25
        },
        end: {
          line: 78,
          column: 55
        }
      },
      "28": {
        start: {
          line: 78,
          column: 45
        },
        end: {
          line: 78,
          column: 54
        }
      },
      "29": {
        start: {
          line: 80,
          column: 6
        },
        end: {
          line: 101,
          column: 7
        }
      },
      "30": {
        start: {
          line: 81,
          column: 25
        },
        end: {
          line: 84,
          column: 10
        }
      },
      "31": {
        start: {
          line: 86,
          column: 8
        },
        end: {
          line: 97,
          column: 9
        }
      },
      "32": {
        start: {
          line: 86,
          column: 21
        },
        end: {
          line: 86,
          column: 22
        }
      },
      "33": {
        start: {
          line: 87,
          column: 32
        },
        end: {
          line: 87,
          column: 46
        }
      },
      "34": {
        start: {
          line: 88,
          column: 28
        },
        end: {
          line: 88,
          column: 54
        }
      },
      "35": {
        start: {
          line: 89,
          column: 10
        },
        end: {
          line: 89,
          column: 48
        }
      },
      "36": {
        start: {
          line: 92,
          column: 10
        },
        end: {
          line: 96,
          column: 13
        }
      },
      "37": {
        start: {
          line: 99,
          column: 8
        },
        end: {
          line: 99,
          column: 67
        }
      },
      "38": {
        start: {
          line: 100,
          column: 8
        },
        end: {
          line: 100,
          column: 20
        }
      },
      "39": {
        start: {
          line: 104,
          column: 4
        },
        end: {
          line: 104,
          column: 22
        }
      },
      "40": {
        start: {
          line: 111,
          column: 4
        },
        end: {
          line: 111,
          column: 26
        }
      },
      "41": {
        start: {
          line: 118,
          column: 4
        },
        end: {
          line: 118,
          column: 33
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 15,
            column: 2
          },
          end: {
            line: 15,
            column: 3
          }
        },
        loc: {
          start: {
            line: 15,
            column: 30
          },
          end: {
            line: 18,
            column: 3
          }
        },
        line: 15
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 23,
            column: 2
          },
          end: {
            line: 23,
            column: 3
          }
        },
        loc: {
          start: {
            line: 23,
            column: 59
          },
          end: {
            line: 50,
            column: 3
          }
        },
        line: 23
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 55,
            column: 2
          },
          end: {
            line: 55,
            column: 3
          }
        },
        loc: {
          start: {
            line: 55,
            column: 70
          },
          end: {
            line: 105,
            column: 3
          }
        },
        line: 55
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 78,
            column: 35
          },
          end: {
            line: 78,
            column: 36
          }
        },
        loc: {
          start: {
            line: 78,
            column: 45
          },
          end: {
            line: 78,
            column: 54
          }
        },
        line: 78
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 110,
            column: 2
          },
          end: {
            line: 110,
            column: 3
          }
        },
        loc: {
          start: {
            line: 110,
            column: 21
          },
          end: {
            line: 112,
            column: 3
          }
        },
        line: 110
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 117,
            column: 2
          },
          end: {
            line: 117,
            column: 3
          }
        },
        loc: {
          start: {
            line: 117,
            column: 18
          },
          end: {
            line: 119,
            column: 3
          }
        },
        line: 117
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 26,
            column: 4
          },
          end: {
            line: 28,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 26,
            column: 4
          },
          end: {
            line: 28,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 26
      },
      "1": {
        loc: {
          start: {
            line: 62,
            column: 6
          },
          end: {
            line: 66,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 62,
            column: 6
          },
          end: {
            line: 66,
            column: 7
          }
        }, {
          start: {
            line: 64,
            column: 13
          },
          end: {
            line: 66,
            column: 7
          }
        }],
        line: 62
      },
      "2": {
        loc: {
          start: {
            line: 70,
            column: 4
          },
          end: {
            line: 72,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 70,
            column: 4
          },
          end: {
            line: 72,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 70
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "5d2fc5ae5c15a9a80e5082992c821b5550d28d8e"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1w25gntffr = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1w25gntffr();
class EmbeddingService {
  model =
  /* istanbul ignore next */
  (cov_1w25gntffr().s[0]++, 'text-embedding-3-small');
  constructor(apiKey) {
    /* istanbul ignore next */
    cov_1w25gntffr().f[0]++;
    cov_1w25gntffr().s[1]++;
    this.openai = new
    /* istanbul ignore next */
    _openai.
    /* istanbul ignore next */
    OpenAI({
      apiKey
    });
    /* istanbul ignore next */
    cov_1w25gntffr().s[2]++;
    this.cache = new
    /* istanbul ignore next */
    _nodeCache.
    /* istanbul ignore next */
    default({
      stdTTL: 86400
    }); // 24 hour TTL
  }

  /**
   * Generate embedding for a single text
   */
  async generateEmbedding(text) {
    /* istanbul ignore next */
    cov_1w25gntffr().f[1]++;
    // Check cache first
    const cached =
    /* istanbul ignore next */
    (cov_1w25gntffr().s[3]++, this.cache.get(text));
    /* istanbul ignore next */
    cov_1w25gntffr().s[4]++;
    if (cached) {
      /* istanbul ignore next */
      cov_1w25gntffr().b[0][0]++;
      cov_1w25gntffr().s[5]++;
      return cached.embedding;
    } else
    /* istanbul ignore next */
    {
      cov_1w25gntffr().b[0][1]++;
    }
    cov_1w25gntffr().s[6]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_1w25gntffr().s[7]++, await this.openai.embeddings.create({
        model: this.model,
        input: text
      }));
      const embedding =
      /* istanbul ignore next */
      (cov_1w25gntffr().s[8]++, response.data[0].embedding);

      // Cache the result
      /* istanbul ignore next */
      cov_1w25gntffr().s[9]++;
      this.cache.set(text, {
        text,
        embedding,
        timestamp: Date.now()
      });
      /* istanbul ignore next */
      cov_1w25gntffr().s[10]++;
      return embedding;
    } catch (error) {
      /* istanbul ignore next */
      cov_1w25gntffr().s[11]++;
      console.error('Error generating embedding:', error);
      /* istanbul ignore next */
      cov_1w25gntffr().s[12]++;
      throw error;
    }
  }

  /**
   * Generate embeddings for multiple texts in batch
   */
  async generateBatchEmbeddings(texts) {
    /* istanbul ignore next */
    cov_1w25gntffr().f[2]++;
    const embeddings =
    /* istanbul ignore next */
    (cov_1w25gntffr().s[13]++, []);
    const uncachedTexts =
    /* istanbul ignore next */
    (cov_1w25gntffr().s[14]++, []);

    // Check cache for each text
    /* istanbul ignore next */
    cov_1w25gntffr().s[15]++;
    for (let i =
    /* istanbul ignore next */
    (cov_1w25gntffr().s[16]++, 0); i < texts.length; i++) {
      const cached =
      /* istanbul ignore next */
      (cov_1w25gntffr().s[17]++, this.cache.get(texts[i]));
      /* istanbul ignore next */
      cov_1w25gntffr().s[18]++;
      if (cached) {
        /* istanbul ignore next */
        cov_1w25gntffr().b[1][0]++;
        cov_1w25gntffr().s[19]++;
        embeddings[i] = cached.embedding;
      } else {
        /* istanbul ignore next */
        cov_1w25gntffr().b[1][1]++;
        cov_1w25gntffr().s[20]++;
        uncachedTexts.push({
          index: i,
          text: texts[i]
        });
      }
    }

    // If all cached, return early
    /* istanbul ignore next */
    cov_1w25gntffr().s[21]++;
    if (uncachedTexts.length === 0) {
      /* istanbul ignore next */
      cov_1w25gntffr().b[2][0]++;
      cov_1w25gntffr().s[22]++;
      return embeddings;
    } else
    /* istanbul ignore next */
    {
      cov_1w25gntffr().b[2][1]++;
    }

    // Process uncached texts in batches of 100
    const batchSize =
    /* istanbul ignore next */
    (cov_1w25gntffr().s[23]++, 100);
    /* istanbul ignore next */
    cov_1w25gntffr().s[24]++;
    for (let i =
    /* istanbul ignore next */
    (cov_1w25gntffr().s[25]++, 0); i < uncachedTexts.length; i += batchSize) {
      const batch =
      /* istanbul ignore next */
      (cov_1w25gntffr().s[26]++, uncachedTexts.slice(i, i + batchSize));
      const batchTexts =
      /* istanbul ignore next */
      (cov_1w25gntffr().s[27]++, batch.map(item => {
        /* istanbul ignore next */
        cov_1w25gntffr().f[3]++;
        cov_1w25gntffr().s[28]++;
        return item.text;
      }));
      /* istanbul ignore next */
      cov_1w25gntffr().s[29]++;
      try {
        const response =
        /* istanbul ignore next */
        (cov_1w25gntffr().s[30]++, await this.openai.embeddings.create({
          model: this.model,
          input: batchTexts
        }));
        /* istanbul ignore next */
        cov_1w25gntffr().s[31]++;
        for (let j =
        /* istanbul ignore next */
        (cov_1w25gntffr().s[32]++, 0); j < response.data.length; j++) {
          const originalIndex =
          /* istanbul ignore next */
          (cov_1w25gntffr().s[33]++, batch[j].index);
          const embedding =
          /* istanbul ignore next */
          (cov_1w25gntffr().s[34]++, response.data[j].embedding);
          /* istanbul ignore next */
          cov_1w25gntffr().s[35]++;
          embeddings[originalIndex] = embedding;

          // Cache each result
          /* istanbul ignore next */
          cov_1w25gntffr().s[36]++;
          this.cache.set(batch[j].text, {
            text: batch[j].text,
            embedding,
            timestamp: Date.now()
          });
        }
      } catch (error) {
        /* istanbul ignore next */
        cov_1w25gntffr().s[37]++;
        console.error('Error generating batch embeddings:', error);
        /* istanbul ignore next */
        cov_1w25gntffr().s[38]++;
        throw error;
      }
    }
    /* istanbul ignore next */
    cov_1w25gntffr().s[39]++;
    return embeddings;
  }

  /**
   * Clear cache
   */
  clearCache() {
    /* istanbul ignore next */
    cov_1w25gntffr().f[4]++;
    cov_1w25gntffr().s[40]++;
    this.cache.flushAll();
  }

  /**
   * Get cache stats
   */
  getCacheStats() {
    /* istanbul ignore next */
    cov_1w25gntffr().f[5]++;
    cov_1w25gntffr().s[41]++;
    return this.cache.getStats();
  }
}
/* istanbul ignore next */
exports.EmbeddingService = EmbeddingService;
var _default = exports.default = EmbeddingService;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfb3BlbmFpIiwicmVxdWlyZSIsIl9ub2RlQ2FjaGUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY292XzF3MjVnbnRmZnIiLCJwYXRoIiwiaGFzaCIsImdsb2JhbCIsIkZ1bmN0aW9uIiwiZ2N2IiwiY292ZXJhZ2VEYXRhIiwic3RhdGVtZW50TWFwIiwic3RhcnQiLCJsaW5lIiwiY29sdW1uIiwiZW5kIiwiZm5NYXAiLCJuYW1lIiwiZGVjbCIsImxvYyIsImJyYW5jaE1hcCIsInR5cGUiLCJsb2NhdGlvbnMiLCJ1bmRlZmluZWQiLCJzIiwiZiIsImIiLCJfY292ZXJhZ2VTY2hlbWEiLCJjb3ZlcmFnZSIsImFjdHVhbENvdmVyYWdlIiwiRW1iZWRkaW5nU2VydmljZSIsIm1vZGVsIiwiY29uc3RydWN0b3IiLCJhcGlLZXkiLCJvcGVuYWkiLCJPcGVuQUkiLCJjYWNoZSIsIk5vZGVDYWNoZSIsInN0ZFRUTCIsImdlbmVyYXRlRW1iZWRkaW5nIiwidGV4dCIsImNhY2hlZCIsImdldCIsImVtYmVkZGluZyIsInJlc3BvbnNlIiwiZW1iZWRkaW5ncyIsImNyZWF0ZSIsImlucHV0IiwiZGF0YSIsInNldCIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJlcnJvciIsImNvbnNvbGUiLCJnZW5lcmF0ZUJhdGNoRW1iZWRkaW5ncyIsInRleHRzIiwidW5jYWNoZWRUZXh0cyIsImkiLCJsZW5ndGgiLCJwdXNoIiwiaW5kZXgiLCJiYXRjaFNpemUiLCJiYXRjaCIsInNsaWNlIiwiYmF0Y2hUZXh0cyIsIm1hcCIsIml0ZW0iLCJqIiwib3JpZ2luYWxJbmRleCIsImNsZWFyQ2FjaGUiLCJmbHVzaEFsbCIsImdldENhY2hlU3RhdHMiLCJnZXRTdGF0cyIsImV4cG9ydHMiLCJfZGVmYXVsdCJdLCJzb3VyY2VzIjpbImVtYmVkZGluZ3MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3BlbkFJIH0gZnJvbSAnb3BlbmFpJztcclxuaW1wb3J0IE5vZGVDYWNoZSBmcm9tICdub2RlLWNhY2hlJztcclxuXHJcbmludGVyZmFjZSBFbWJlZGRpbmdDYWNoZSB7XHJcbiAgdGV4dDogc3RyaW5nO1xyXG4gIGVtYmVkZGluZzogbnVtYmVyW107XHJcbiAgdGltZXN0YW1wOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFbWJlZGRpbmdTZXJ2aWNlIHtcclxuICBwcml2YXRlIG9wZW5haTogT3BlbkFJO1xyXG4gIHByaXZhdGUgY2FjaGU6IE5vZGVDYWNoZTtcclxuICBwcml2YXRlIG1vZGVsID0gJ3RleHQtZW1iZWRkaW5nLTMtc21hbGwnO1xyXG5cclxuICBjb25zdHJ1Y3RvcihhcGlLZXk6IHN0cmluZykge1xyXG4gICAgdGhpcy5vcGVuYWkgPSBuZXcgT3BlbkFJKHsgYXBpS2V5IH0pO1xyXG4gICAgdGhpcy5jYWNoZSA9IG5ldyBOb2RlQ2FjaGUoeyBzdGRUVEw6IDg2NDAwIH0pOyAvLyAyNCBob3VyIFRUTFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGUgZW1iZWRkaW5nIGZvciBhIHNpbmdsZSB0ZXh0XHJcbiAgICovXHJcbiAgYXN5bmMgZ2VuZXJhdGVFbWJlZGRpbmcodGV4dDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXJbXT4ge1xyXG4gICAgLy8gQ2hlY2sgY2FjaGUgZmlyc3RcclxuICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuY2FjaGUuZ2V0PEVtYmVkZGluZ0NhY2hlPih0ZXh0KTtcclxuICAgIGlmIChjYWNoZWQpIHtcclxuICAgICAgcmV0dXJuIGNhY2hlZC5lbWJlZGRpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm9wZW5haS5lbWJlZGRpbmdzLmNyZWF0ZSh7XHJcbiAgICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXHJcbiAgICAgICAgaW5wdXQ6IHRleHQsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgZW1iZWRkaW5nID0gcmVzcG9uc2UuZGF0YVswXS5lbWJlZGRpbmc7XHJcblxyXG4gICAgICAvLyBDYWNoZSB0aGUgcmVzdWx0XHJcbiAgICAgIHRoaXMuY2FjaGUuc2V0KHRleHQsIHtcclxuICAgICAgICB0ZXh0LFxyXG4gICAgICAgIGVtYmVkZGluZyxcclxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIGVtYmVkZGluZztcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgZW1iZWRkaW5nOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBlbWJlZGRpbmdzIGZvciBtdWx0aXBsZSB0ZXh0cyBpbiBiYXRjaFxyXG4gICAqL1xyXG4gIGFzeW5jIGdlbmVyYXRlQmF0Y2hFbWJlZGRpbmdzKHRleHRzOiBzdHJpbmdbXSk6IFByb21pc2U8bnVtYmVyW11bXT4ge1xyXG4gICAgY29uc3QgZW1iZWRkaW5nczogbnVtYmVyW11bXSA9IFtdO1xyXG4gICAgY29uc3QgdW5jYWNoZWRUZXh0czogeyBpbmRleDogbnVtYmVyOyB0ZXh0OiBzdHJpbmcgfVtdID0gW107XHJcblxyXG4gICAgLy8gQ2hlY2sgY2FjaGUgZm9yIGVhY2ggdGV4dFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBjYWNoZWQgPSB0aGlzLmNhY2hlLmdldDxFbWJlZGRpbmdDYWNoZT4odGV4dHNbaV0pO1xyXG4gICAgICBpZiAoY2FjaGVkKSB7XHJcbiAgICAgICAgZW1iZWRkaW5nc1tpXSA9IGNhY2hlZC5lbWJlZGRpbmc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdW5jYWNoZWRUZXh0cy5wdXNoKHsgaW5kZXg6IGksIHRleHQ6IHRleHRzW2ldIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgYWxsIGNhY2hlZCwgcmV0dXJuIGVhcmx5XHJcbiAgICBpZiAodW5jYWNoZWRUZXh0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIGVtYmVkZGluZ3M7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUHJvY2VzcyB1bmNhY2hlZCB0ZXh0cyBpbiBiYXRjaGVzIG9mIDEwMFxyXG4gICAgY29uc3QgYmF0Y2hTaXplID0gMTAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1bmNhY2hlZFRleHRzLmxlbmd0aDsgaSArPSBiYXRjaFNpemUpIHtcclxuICAgICAgY29uc3QgYmF0Y2ggPSB1bmNhY2hlZFRleHRzLnNsaWNlKGksIGkgKyBiYXRjaFNpemUpO1xyXG4gICAgICBjb25zdCBiYXRjaFRleHRzID0gYmF0Y2gubWFwKChpdGVtKSA9PiBpdGVtLnRleHQpO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMub3BlbmFpLmVtYmVkZGluZ3MuY3JlYXRlKHtcclxuICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLFxyXG4gICAgICAgICAgaW5wdXQ6IGJhdGNoVGV4dHMsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVzcG9uc2UuZGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxJbmRleCA9IGJhdGNoW2pdLmluZGV4O1xyXG4gICAgICAgICAgY29uc3QgZW1iZWRkaW5nID0gcmVzcG9uc2UuZGF0YVtqXS5lbWJlZGRpbmc7XHJcbiAgICAgICAgICBlbWJlZGRpbmdzW29yaWdpbmFsSW5kZXhdID0gZW1iZWRkaW5nO1xyXG5cclxuICAgICAgICAgIC8vIENhY2hlIGVhY2ggcmVzdWx0XHJcbiAgICAgICAgICB0aGlzLmNhY2hlLnNldChiYXRjaFtqXS50ZXh0LCB7XHJcbiAgICAgICAgICAgIHRleHQ6IGJhdGNoW2pdLnRleHQsXHJcbiAgICAgICAgICAgIGVtYmVkZGluZyxcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgYmF0Y2ggZW1iZWRkaW5nczonLCBlcnJvcik7XHJcbiAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZW1iZWRkaW5ncztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsZWFyIGNhY2hlXHJcbiAgICovXHJcbiAgY2xlYXJDYWNoZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuY2FjaGUuZmx1c2hBbGwoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBjYWNoZSBzdGF0c1xyXG4gICAqL1xyXG4gIGdldENhY2hlU3RhdHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jYWNoZS5nZXRTdGF0cygpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRW1iZWRkaW5nU2VydmljZTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFBQTtBQUFBQSxPQUFBLEdBQUFDLE9BQUE7QUFDQTtBQUFBO0FBQUFDLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUFtQyxvQ0FBQUUsdUJBQUFDLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxTQUFBRyxlQUFBO0VBQUEsSUFBQUMsSUFBQTtFQUFBLElBQUFDLElBQUE7RUFBQSxJQUFBQyxNQUFBLE9BQUFDLFFBQUE7RUFBQSxJQUFBQyxHQUFBO0VBQUEsSUFBQUMsWUFBQTtJQUFBTCxJQUFBO0lBQUFNLFlBQUE7TUFBQTtRQUFBQyxLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7SUFBQTtJQUFBRSxLQUFBO01BQUE7UUFBQUMsSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQUksSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQUksSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQUksSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQUksSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQUksSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO0lBQUE7SUFBQU8sU0FBQTtNQUFBO1FBQUFELEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtVQUFBUixHQUFBO1lBQUFGLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7UUFBQTtRQUFBVixJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7VUFBQVIsR0FBQTtZQUFBRixJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1FBQUE7UUFBQVYsSUFBQTtNQUFBO0lBQUE7SUFBQVcsQ0FBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtJQUFBO0lBQUFDLENBQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7SUFBQTtJQUFBQyxDQUFBO01BQUE7TUFBQTtNQUFBO0lBQUE7SUFBQUMsZUFBQTtJQUFBckIsSUFBQTtFQUFBO0VBQUEsSUFBQXNCLFFBQUEsR0FBQXJCLE1BQUEsQ0FBQUUsR0FBQSxNQUFBRixNQUFBLENBQUFFLEdBQUE7RUFB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TUMsYUFBYTtVQUFBO1VBQUEsQ0FBQWpFLGNBQUEsR0FBQW9CLENBQUEsUUFBR3VDLEtBQUssQ0FBQ0ssQ0FBQyxDQUFDLENBQUNQLEtBQUs7VUFDcEMsTUFBTWxCLFNBQVM7VUFBQTtVQUFBLENBQUF2QyxjQUFBLEdBQUFvQixDQUFBLFFBQUdvQixRQUFRLENBQUNJLElBQUksQ0FBQ29CLENBQUMsQ0FBQyxDQUFDekIsU0FBUztVQUFDO1VBQUF2QyxjQUFBLEdBQUFvQixDQUFBO1VBQzdDcUIsVUFBVSxDQUFDd0IsYUFBYSxDQUFDLEdBQUcxQixTQUFTOztVQUVyQztVQUFBO1VBQUF2QyxjQUFBLEdBQUFvQixDQUFBO1VBQ0EsSUFBSSxDQUFDWSxLQUFLLENBQUNhLEdBQUcsQ0FBQ2MsS0FBSyxDQUFDSyxDQUFDLENBQUMsQ0FBQzVCLElBQUksRUFBRTtZQUM1QkEsSUFBSSxFQUFFdUIsS0FBSyxDQUFDSyxDQUFDLENBQUMsQ0FBQzVCLElBQUk7WUFDbkJHLFNBQVM7WUFDVE8sU0FBUyxFQUFFQyxJQUFJLENBQUNDLEdBQUcsQ0FBQztVQUN0QixDQUFDLENBQUM7UUFDSjtNQUNGLENBQUMsQ0FBQyxPQUFPQyxLQUFLLEVBQUU7UUFBQTtRQUFBakQsY0FBQSxHQUFBb0IsQ0FBQTtRQUNkOEIsT0FBTyxDQUFDRCxLQUFLLENBQUMsb0NBQW9DLEVBQUVBLEtBQUssQ0FBQztRQUFDO1FBQUFqRCxjQUFBLEdBQUFvQixDQUFBO1FBQzNELE1BQU02QixLQUFLO01BQ2I7SUFDRjtJQUFDO0lBQUFqRCxjQUFBLEdBQUFvQixDQUFBO0lBRUQsT0FBT3FCLFVBQVU7RUFDbkI7O0VBRUE7QUFDRjtBQUNBO0VBQ0V5QixVQUFVQSxDQUFBLEVBQVM7SUFBQTtJQUFBbEUsY0FBQSxHQUFBcUIsQ0FBQTtJQUFBckIsY0FBQSxHQUFBb0IsQ0FBQTtJQUNqQixJQUFJLENBQUNZLEtBQUssQ0FBQ21DLFFBQVEsQ0FBQyxDQUFDO0VBQ3ZCOztFQUVBO0FBQ0Y7QUFDQTtFQUNFQyxhQUFhQSxDQUFBLEVBQUc7SUFBQTtJQUFBcEUsY0FBQSxHQUFBcUIsQ0FBQTtJQUFBckIsY0FBQSxHQUFBb0IsQ0FBQTtJQUNkLE9BQU8sSUFBSSxDQUFDWSxLQUFLLENBQUNxQyxRQUFRLENBQUMsQ0FBQztFQUM5QjtBQUNGO0FBQUM7QUFBQUMsT0FBQSxDQUFBNUMsZ0JBQUEsR0FBQUEsZ0JBQUE7QUFBQSxJQUFBNkMsUUFBQSxHQUFBRCxPQUFBLENBQUF2RSxPQUFBLEdBRWMyQixnQkFBZ0IiLCJpZ25vcmVMaXN0IjpbXX0=