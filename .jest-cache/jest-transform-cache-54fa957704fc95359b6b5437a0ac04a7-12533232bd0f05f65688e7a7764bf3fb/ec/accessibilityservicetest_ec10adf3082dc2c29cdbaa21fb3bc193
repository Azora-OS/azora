9a2330143e0f0844b93fcb82d228323b
"use strict";

_getJestObj().mock('@prisma/client', () => ({
  PrismaClient: jest.fn(() => ({
    user: {
      findUnique: jest.fn()
    }
  }))
}));
var _accessibility = require("../accessibility.service");
var _client = require("@prisma/client");
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
describe('AccessibilityService', () => {
  let mockPrisma;
  beforeEach(() => {
    jest.clearAllMocks();
    mockPrisma = new _client.PrismaClient();
  });
  describe('getAccessibilitySettings', () => {
    it('should return accessibility settings for user', async () => {
      const mockUser = {
        id: 'user-1',
        language: 'en'
      };
      mockPrisma.user.findUnique.mockResolvedValue(mockUser);
      const settings = await _accessibility.accessibilityService.getAccessibilitySettings('user-1');
      expect(settings).toHaveProperty('userId', 'user-1');
      expect(settings).toHaveProperty('captions');
      expect(settings).toHaveProperty('transcripts');
      expect(settings).toHaveProperty('screenReaderMode');
      expect(settings).toHaveProperty('keyboardNavigation');
      expect(settings).toHaveProperty('highContrast');
      expect(settings).toHaveProperty('fontSize');
      expect(settings).toHaveProperty('language');
    });
    it('should throw error if user not found', async () => {
      mockPrisma.user.findUnique.mockResolvedValue(null);
      await expect(_accessibility.accessibilityService.getAccessibilitySettings('invalid-id')).rejects.toThrow('User not found');
    });
    it('should use user language preference', async () => {
      const mockUser = {
        id: 'user-1',
        language: 'es'
      };
      mockPrisma.user.findUnique.mockResolvedValue(mockUser);
      const settings = await _accessibility.accessibilityService.getAccessibilitySettings('user-1');
      expect(settings.language).toBe('es');
    });
  });
  describe('updateAccessibilitySettings', () => {
    it('should update accessibility settings', async () => {
      const mockUser = {
        id: 'user-1',
        language: 'en'
      };
      mockPrisma.user.findUnique.mockResolvedValue(mockUser);
      const updatedSettings = await _accessibility.accessibilityService.updateAccessibilitySettings('user-1', {
        captions: true,
        screenReaderMode: true
      });
      expect(updatedSettings.captions).toBe(true);
      expect(updatedSettings.screenReaderMode).toBe(true);
    });
    it('should throw error if user not found', async () => {
      mockPrisma.user.findUnique.mockResolvedValue(null);
      await expect(_accessibility.accessibilityService.updateAccessibilitySettings('invalid-id', {
        captions: true
      })).rejects.toThrow('User not found');
    });
  });
  describe('generateCaptions', () => {
    it('should generate captions for video', async () => {
      const captions = await _accessibility.accessibilityService.generateCaptions('video-1', 'en');
      expect(typeof captions).toBe('string');
      expect(captions.length).toBeGreaterThan(0);
      expect(captions).toContain('[00:00:00]');
    });
    it('should support multiple languages', async () => {
      const captionsES = await _accessibility.accessibilityService.generateCaptions('video-1', 'es');
      const captionsFR = await _accessibility.accessibilityService.generateCaptions('video-1', 'fr');
      expect(captionsES).toBeDefined();
      expect(captionsFR).toBeDefined();
    });
  });
  describe('generateTranscript', () => {
    it('should generate transcript for video', async () => {
      const transcript = await _accessibility.accessibilityService.generateTranscript('video-1', 'en');
      expect(typeof transcript).toBe('string');
      expect(transcript.length).toBeGreaterThan(0);
    });
    it('should support multiple languages', async () => {
      const transcriptES = await _accessibility.accessibilityService.generateTranscript('video-1', 'es');
      const transcriptFR = await _accessibility.accessibilityService.generateTranscript('video-1', 'fr');
      expect(transcriptES).toBeDefined();
      expect(transcriptFR).toBeDefined();
    });
  });
  describe('getAvailableFeatures', () => {
    it('should return list of accessibility features', () => {
      const features = _accessibility.accessibilityService.getAvailableFeatures();
      expect(Array.isArray(features)).toBe(true);
      expect(features.length).toBeGreaterThan(0);
    });
    it('should include captions feature', () => {
      const features = _accessibility.accessibilityService.getAvailableFeatures();
      const captionsFeature = features.find(f => f.id === 'captions');
      expect(captionsFeature).toBeDefined();
      expect(captionsFeature?.enabled).toBe(true);
    });
    it('should include screen reader feature', () => {
      const features = _accessibility.accessibilityService.getAvailableFeatures();
      const screenReaderFeature = features.find(f => f.id === 'screen-reader');
      expect(screenReaderFeature).toBeDefined();
      expect(screenReaderFeature?.enabled).toBe(true);
    });
    it('should include keyboard navigation feature', () => {
      const features = _accessibility.accessibilityService.getAvailableFeatures();
      const keyboardNavFeature = features.find(f => f.id === 'keyboard-nav');
      expect(keyboardNavFeature).toBeDefined();
      expect(keyboardNavFeature?.enabled).toBe(true);
    });
  });
  describe('trackAccessibilityUsage', () => {
    it('should track accessibility feature usage', async () => {
      await expect(_accessibility.accessibilityService.trackAccessibilityUsage('user-1', 'captions', 300)).resolves.not.toThrow();
    });
  });
  describe('validateAccessibilityCompliance', () => {
    it('should validate accessibility compliance', async () => {
      const compliance = await _accessibility.accessibilityService.validateAccessibilityCompliance('content-1');
      expect(compliance).toHaveProperty('compliant');
      expect(compliance).toHaveProperty('issues');
      expect(compliance).toHaveProperty('score');
      expect(typeof compliance.score).toBe('number');
      expect(compliance.score).toBeGreaterThanOrEqual(0);
      expect(compliance.score).toBeLessThanOrEqual(100);
    });
    it('should return issues array', async () => {
      const compliance = await _accessibility.accessibilityService.validateAccessibilityCompliance('content-1');
      expect(Array.isArray(compliance.issues)).toBe(true);
    });
  });
  describe('getAccessibilityReport', () => {
    it('should generate accessibility report for course', async () => {
      const report = await _accessibility.accessibilityService.getAccessibilityReport('course-1');
      expect(report).toHaveProperty('courseId', 'course-1');
      expect(report).toHaveProperty('overallScore');
      expect(report).toHaveProperty('compliant');
      expect(report).toHaveProperty('features');
      expect(report).toHaveProperty('recommendations');
    });
    it('should include feature compliance status', async () => {
      const report = await _accessibility.accessibilityService.getAccessibilityReport('course-1');
      expect(report.features).toHaveProperty('captions');
      expect(report.features).toHaveProperty('transcripts');
      expect(report.features).toHaveProperty('altText');
      expect(report.features).toHaveProperty('keyboardNavigation');
      expect(report.features).toHaveProperty('colorContrast');
    });
    it('should provide recommendations', async () => {
      const report = await _accessibility.accessibilityService.getAccessibilityReport('course-1');
      expect(Array.isArray(report.recommendations)).toBe(true);
    });
  });
  describe('Accessibility features', () => {
    it('should support captions', () => {
      const features = _accessibility.accessibilityService.getAvailableFeatures();
      const captions = features.find(f => f.id === 'captions');
      expect(captions).toBeDefined();
      expect(captions?.name).toBe('Captions');
    });
    it('should support transcripts', () => {
      const features = _accessibility.accessibilityService.getAvailableFeatures();
      const transcripts = features.find(f => f.id === 'transcripts');
      expect(transcripts).toBeDefined();
      expect(transcripts?.name).toBe('Transcripts');
    });
    it('should support screen reader mode', () => {
      const features = _accessibility.accessibilityService.getAvailableFeatures();
      const screenReader = features.find(f => f.id === 'screen-reader');
      expect(screenReader).toBeDefined();
      expect(screenReader?.name).toBe('Screen Reader Mode');
    });
    it('should support keyboard navigation', () => {
      const features = _accessibility.accessibilityService.getAvailableFeatures();
      const keyboardNav = features.find(f => f.id === 'keyboard-nav');
      expect(keyboardNav).toBeDefined();
      expect(keyboardNav?.name).toBe('Keyboard Navigation');
    });
    it('should support high contrast mode', () => {
      const features = _accessibility.accessibilityService.getAvailableFeatures();
      const highContrast = features.find(f => f.id === 'high-contrast');
      expect(highContrast).toBeDefined();
      expect(highContrast?.name).toBe('High Contrast Mode');
    });
    it('should support adjustable font size', () => {
      const features = _accessibility.accessibilityService.getAvailableFeatures();
      const fontSize = features.find(f => f.id === 'font-size');
      expect(fontSize).toBeDefined();
      expect(fontSize?.name).toBe('Adjustable Font Size');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJQcmlzbWFDbGllbnQiLCJqZXN0IiwiZm4iLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIl9hY2Nlc3NpYmlsaXR5IiwicmVxdWlyZSIsIl9jbGllbnQiLCJkZXNjcmliZSIsIm1vY2tQcmlzbWEiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwibW9ja1VzZXIiLCJpZCIsImxhbmd1YWdlIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJzZXR0aW5ncyIsImFjY2Vzc2liaWxpdHlTZXJ2aWNlIiwiZ2V0QWNjZXNzaWJpbGl0eVNldHRpbmdzIiwiZXhwZWN0IiwidG9IYXZlUHJvcGVydHkiLCJyZWplY3RzIiwidG9UaHJvdyIsInRvQmUiLCJ1cGRhdGVkU2V0dGluZ3MiLCJ1cGRhdGVBY2Nlc3NpYmlsaXR5U2V0dGluZ3MiLCJjYXB0aW9ucyIsInNjcmVlblJlYWRlck1vZGUiLCJnZW5lcmF0ZUNhcHRpb25zIiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwidG9Db250YWluIiwiY2FwdGlvbnNFUyIsImNhcHRpb25zRlIiLCJ0b0JlRGVmaW5lZCIsInRyYW5zY3JpcHQiLCJnZW5lcmF0ZVRyYW5zY3JpcHQiLCJ0cmFuc2NyaXB0RVMiLCJ0cmFuc2NyaXB0RlIiLCJmZWF0dXJlcyIsImdldEF2YWlsYWJsZUZlYXR1cmVzIiwiQXJyYXkiLCJpc0FycmF5IiwiY2FwdGlvbnNGZWF0dXJlIiwiZmluZCIsImYiLCJlbmFibGVkIiwic2NyZWVuUmVhZGVyRmVhdHVyZSIsImtleWJvYXJkTmF2RmVhdHVyZSIsInRyYWNrQWNjZXNzaWJpbGl0eVVzYWdlIiwicmVzb2x2ZXMiLCJub3QiLCJjb21wbGlhbmNlIiwidmFsaWRhdGVBY2Nlc3NpYmlsaXR5Q29tcGxpYW5jZSIsInNjb3JlIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsInRvQmVMZXNzVGhhbk9yRXF1YWwiLCJpc3N1ZXMiLCJyZXBvcnQiLCJnZXRBY2Nlc3NpYmlsaXR5UmVwb3J0IiwicmVjb21tZW5kYXRpb25zIiwibmFtZSIsInRyYW5zY3JpcHRzIiwic2NyZWVuUmVhZGVyIiwia2V5Ym9hcmROYXYiLCJoaWdoQ29udHJhc3QiLCJmb250U2l6ZSJdLCJzb3VyY2VzIjpbImFjY2Vzc2liaWxpdHkuc2VydmljZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFjY2Vzc2liaWxpdHlTZXJ2aWNlIH0gZnJvbSAnLi4vYWNjZXNzaWJpbGl0eS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xyXG5cclxuamVzdC5tb2NrKCdAcHJpc21hL2NsaWVudCcsICgpID0+ICh7XHJcbiAgUHJpc21hQ2xpZW50OiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICB1c2VyOiB7XHJcbiAgICAgIGZpbmRVbmlxdWU6IGplc3QuZm4oKSxcclxuICAgIH0sXHJcbiAgfSkpLFxyXG59KSk7XHJcblxyXG5kZXNjcmliZSgnQWNjZXNzaWJpbGl0eVNlcnZpY2UnLCAoKSA9PiB7XHJcbiAgbGV0IG1vY2tQcmlzbWE6IGFueTtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgIG1vY2tQcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdnZXRBY2Nlc3NpYmlsaXR5U2V0dGluZ3MnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBhY2Nlc3NpYmlsaXR5IHNldHRpbmdzIGZvciB1c2VyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2NrVXNlciA9IHtcclxuICAgICAgICBpZDogJ3VzZXItMScsXHJcbiAgICAgICAgbGFuZ3VhZ2U6ICdlbicsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBtb2NrUHJpc21hLnVzZXIuZmluZFVuaXF1ZS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVXNlcik7XHJcblxyXG4gICAgICBjb25zdCBzZXR0aW5ncyA9IGF3YWl0IGFjY2Vzc2liaWxpdHlTZXJ2aWNlLmdldEFjY2Vzc2liaWxpdHlTZXR0aW5ncygndXNlci0xJyk7XHJcblxyXG4gICAgICBleHBlY3Qoc2V0dGluZ3MpLnRvSGF2ZVByb3BlcnR5KCd1c2VySWQnLCAndXNlci0xJyk7XHJcbiAgICAgIGV4cGVjdChzZXR0aW5ncykudG9IYXZlUHJvcGVydHkoJ2NhcHRpb25zJyk7XHJcbiAgICAgIGV4cGVjdChzZXR0aW5ncykudG9IYXZlUHJvcGVydHkoJ3RyYW5zY3JpcHRzJyk7XHJcbiAgICAgIGV4cGVjdChzZXR0aW5ncykudG9IYXZlUHJvcGVydHkoJ3NjcmVlblJlYWRlck1vZGUnKTtcclxuICAgICAgZXhwZWN0KHNldHRpbmdzKS50b0hhdmVQcm9wZXJ0eSgna2V5Ym9hcmROYXZpZ2F0aW9uJyk7XHJcbiAgICAgIGV4cGVjdChzZXR0aW5ncykudG9IYXZlUHJvcGVydHkoJ2hpZ2hDb250cmFzdCcpO1xyXG4gICAgICBleHBlY3Qoc2V0dGluZ3MpLnRvSGF2ZVByb3BlcnR5KCdmb250U2l6ZScpO1xyXG4gICAgICBleHBlY3Qoc2V0dGluZ3MpLnRvSGF2ZVByb3BlcnR5KCdsYW5ndWFnZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBlcnJvciBpZiB1c2VyIG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgbW9ja1ByaXNtYS51c2VyLmZpbmRVbmlxdWUubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XHJcblxyXG4gICAgICBhd2FpdCBleHBlY3QoYWNjZXNzaWJpbGl0eVNlcnZpY2UuZ2V0QWNjZXNzaWJpbGl0eVNldHRpbmdzKCdpbnZhbGlkLWlkJykpLnJlamVjdHMudG9UaHJvdyhcclxuICAgICAgICAnVXNlciBub3QgZm91bmQnXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHVzZSB1c2VyIGxhbmd1YWdlIHByZWZlcmVuY2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tVc2VyID0ge1xyXG4gICAgICAgIGlkOiAndXNlci0xJyxcclxuICAgICAgICBsYW5ndWFnZTogJ2VzJyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIG1vY2tQcmlzbWEudXNlci5maW5kVW5pcXVlLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVc2VyKTtcclxuXHJcbiAgICAgIGNvbnN0IHNldHRpbmdzID0gYXdhaXQgYWNjZXNzaWJpbGl0eVNlcnZpY2UuZ2V0QWNjZXNzaWJpbGl0eVNldHRpbmdzKCd1c2VyLTEnKTtcclxuXHJcbiAgICAgIGV4cGVjdChzZXR0aW5ncy5sYW5ndWFnZSkudG9CZSgnZXMnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgndXBkYXRlQWNjZXNzaWJpbGl0eVNldHRpbmdzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgYWNjZXNzaWJpbGl0eSBzZXR0aW5ncycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja1VzZXIgPSB7XHJcbiAgICAgICAgaWQ6ICd1c2VyLTEnLFxyXG4gICAgICAgIGxhbmd1YWdlOiAnZW4nLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgbW9ja1ByaXNtYS51c2VyLmZpbmRVbmlxdWUubW9ja1Jlc29sdmVkVmFsdWUobW9ja1VzZXIpO1xyXG5cclxuICAgICAgY29uc3QgdXBkYXRlZFNldHRpbmdzID0gYXdhaXQgYWNjZXNzaWJpbGl0eVNlcnZpY2UudXBkYXRlQWNjZXNzaWJpbGl0eVNldHRpbmdzKCd1c2VyLTEnLCB7XHJcbiAgICAgICAgY2FwdGlvbnM6IHRydWUsXHJcbiAgICAgICAgc2NyZWVuUmVhZGVyTW9kZTogdHJ1ZSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QodXBkYXRlZFNldHRpbmdzLmNhcHRpb25zKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QodXBkYXRlZFNldHRpbmdzLnNjcmVlblJlYWRlck1vZGUpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRocm93IGVycm9yIGlmIHVzZXIgbm90IGZvdW5kJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBtb2NrUHJpc21hLnVzZXIuZmluZFVuaXF1ZS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcclxuXHJcbiAgICAgIGF3YWl0IGV4cGVjdChcclxuICAgICAgICBhY2Nlc3NpYmlsaXR5U2VydmljZS51cGRhdGVBY2Nlc3NpYmlsaXR5U2V0dGluZ3MoJ2ludmFsaWQtaWQnLCB7IGNhcHRpb25zOiB0cnVlIH0pXHJcbiAgICAgICkucmVqZWN0cy50b1Rocm93KCdVc2VyIG5vdCBmb3VuZCcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdnZW5lcmF0ZUNhcHRpb25zJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBjYXB0aW9ucyBmb3IgdmlkZW8nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcHRpb25zID0gYXdhaXQgYWNjZXNzaWJpbGl0eVNlcnZpY2UuZ2VuZXJhdGVDYXB0aW9ucygndmlkZW8tMScsICdlbicpO1xyXG5cclxuICAgICAgZXhwZWN0KHR5cGVvZiBjYXB0aW9ucykudG9CZSgnc3RyaW5nJyk7XHJcbiAgICAgIGV4cGVjdChjYXB0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgZXhwZWN0KGNhcHRpb25zKS50b0NvbnRhaW4oJ1swMDowMDowMF0nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgc3VwcG9ydCBtdWx0aXBsZSBsYW5ndWFnZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcHRpb25zRVMgPSBhd2FpdCBhY2Nlc3NpYmlsaXR5U2VydmljZS5nZW5lcmF0ZUNhcHRpb25zKCd2aWRlby0xJywgJ2VzJyk7XHJcbiAgICAgIGNvbnN0IGNhcHRpb25zRlIgPSBhd2FpdCBhY2Nlc3NpYmlsaXR5U2VydmljZS5nZW5lcmF0ZUNhcHRpb25zKCd2aWRlby0xJywgJ2ZyJyk7XHJcblxyXG4gICAgICBleHBlY3QoY2FwdGlvbnNFUykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGNhcHRpb25zRlIpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dlbmVyYXRlVHJhbnNjcmlwdCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgdHJhbnNjcmlwdCBmb3IgdmlkZW8nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRyYW5zY3JpcHQgPSBhd2FpdCBhY2Nlc3NpYmlsaXR5U2VydmljZS5nZW5lcmF0ZVRyYW5zY3JpcHQoJ3ZpZGVvLTEnLCAnZW4nKTtcclxuXHJcbiAgICAgIGV4cGVjdCh0eXBlb2YgdHJhbnNjcmlwdCkudG9CZSgnc3RyaW5nJyk7XHJcbiAgICAgIGV4cGVjdCh0cmFuc2NyaXB0Lmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBzdXBwb3J0IG11bHRpcGxlIGxhbmd1YWdlcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdHJhbnNjcmlwdEVTID0gYXdhaXQgYWNjZXNzaWJpbGl0eVNlcnZpY2UuZ2VuZXJhdGVUcmFuc2NyaXB0KCd2aWRlby0xJywgJ2VzJyk7XHJcbiAgICAgIGNvbnN0IHRyYW5zY3JpcHRGUiA9IGF3YWl0IGFjY2Vzc2liaWxpdHlTZXJ2aWNlLmdlbmVyYXRlVHJhbnNjcmlwdCgndmlkZW8tMScsICdmcicpO1xyXG5cclxuICAgICAgZXhwZWN0KHRyYW5zY3JpcHRFUykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHRyYW5zY3JpcHRGUikudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0QXZhaWxhYmxlRmVhdHVyZXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBsaXN0IG9mIGFjY2Vzc2liaWxpdHkgZmVhdHVyZXMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGZlYXR1cmVzID0gYWNjZXNzaWJpbGl0eVNlcnZpY2UuZ2V0QXZhaWxhYmxlRmVhdHVyZXMoKTtcclxuXHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KGZlYXR1cmVzKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KGZlYXR1cmVzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIGNhcHRpb25zIGZlYXR1cmUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGZlYXR1cmVzID0gYWNjZXNzaWJpbGl0eVNlcnZpY2UuZ2V0QXZhaWxhYmxlRmVhdHVyZXMoKTtcclxuICAgICAgY29uc3QgY2FwdGlvbnNGZWF0dXJlID0gZmVhdHVyZXMuZmluZCgoZikgPT4gZi5pZCA9PT0gJ2NhcHRpb25zJyk7XHJcblxyXG4gICAgICBleHBlY3QoY2FwdGlvbnNGZWF0dXJlKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoY2FwdGlvbnNGZWF0dXJlPy5lbmFibGVkKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIHNjcmVlbiByZWFkZXIgZmVhdHVyZScsICgpID0+IHtcclxuICAgICAgY29uc3QgZmVhdHVyZXMgPSBhY2Nlc3NpYmlsaXR5U2VydmljZS5nZXRBdmFpbGFibGVGZWF0dXJlcygpO1xyXG4gICAgICBjb25zdCBzY3JlZW5SZWFkZXJGZWF0dXJlID0gZmVhdHVyZXMuZmluZCgoZikgPT4gZi5pZCA9PT0gJ3NjcmVlbi1yZWFkZXInKTtcclxuXHJcbiAgICAgIGV4cGVjdChzY3JlZW5SZWFkZXJGZWF0dXJlKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3Qoc2NyZWVuUmVhZGVyRmVhdHVyZT8uZW5hYmxlZCkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSBrZXlib2FyZCBuYXZpZ2F0aW9uIGZlYXR1cmUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGZlYXR1cmVzID0gYWNjZXNzaWJpbGl0eVNlcnZpY2UuZ2V0QXZhaWxhYmxlRmVhdHVyZXMoKTtcclxuICAgICAgY29uc3Qga2V5Ym9hcmROYXZGZWF0dXJlID0gZmVhdHVyZXMuZmluZCgoZikgPT4gZi5pZCA9PT0gJ2tleWJvYXJkLW5hdicpO1xyXG5cclxuICAgICAgZXhwZWN0KGtleWJvYXJkTmF2RmVhdHVyZSkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGtleWJvYXJkTmF2RmVhdHVyZT8uZW5hYmxlZCkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgndHJhY2tBY2Nlc3NpYmlsaXR5VXNhZ2UnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHRyYWNrIGFjY2Vzc2liaWxpdHkgZmVhdHVyZSB1c2FnZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgZXhwZWN0KFxyXG4gICAgICAgIGFjY2Vzc2liaWxpdHlTZXJ2aWNlLnRyYWNrQWNjZXNzaWJpbGl0eVVzYWdlKCd1c2VyLTEnLCAnY2FwdGlvbnMnLCAzMDApXHJcbiAgICAgICkucmVzb2x2ZXMubm90LnRvVGhyb3coKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgndmFsaWRhdGVBY2Nlc3NpYmlsaXR5Q29tcGxpYW5jZScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgYWNjZXNzaWJpbGl0eSBjb21wbGlhbmNlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjb21wbGlhbmNlID0gYXdhaXQgYWNjZXNzaWJpbGl0eVNlcnZpY2UudmFsaWRhdGVBY2Nlc3NpYmlsaXR5Q29tcGxpYW5jZSgnY29udGVudC0xJyk7XHJcblxyXG4gICAgICBleHBlY3QoY29tcGxpYW5jZSkudG9IYXZlUHJvcGVydHkoJ2NvbXBsaWFudCcpO1xyXG4gICAgICBleHBlY3QoY29tcGxpYW5jZSkudG9IYXZlUHJvcGVydHkoJ2lzc3VlcycpO1xyXG4gICAgICBleHBlY3QoY29tcGxpYW5jZSkudG9IYXZlUHJvcGVydHkoJ3Njb3JlJyk7XHJcbiAgICAgIGV4cGVjdCh0eXBlb2YgY29tcGxpYW5jZS5zY29yZSkudG9CZSgnbnVtYmVyJyk7XHJcbiAgICAgIGV4cGVjdChjb21wbGlhbmNlLnNjb3JlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgICBleHBlY3QoY29tcGxpYW5jZS5zY29yZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gaXNzdWVzIGFycmF5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjb21wbGlhbmNlID0gYXdhaXQgYWNjZXNzaWJpbGl0eVNlcnZpY2UudmFsaWRhdGVBY2Nlc3NpYmlsaXR5Q29tcGxpYW5jZSgnY29udGVudC0xJyk7XHJcblxyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShjb21wbGlhbmNlLmlzc3VlcykpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dldEFjY2Vzc2liaWxpdHlSZXBvcnQnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGFjY2Vzc2liaWxpdHkgcmVwb3J0IGZvciBjb3Vyc2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IGFjY2Vzc2liaWxpdHlTZXJ2aWNlLmdldEFjY2Vzc2liaWxpdHlSZXBvcnQoJ2NvdXJzZS0xJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVwb3J0KS50b0hhdmVQcm9wZXJ0eSgnY291cnNlSWQnLCAnY291cnNlLTEnKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydCkudG9IYXZlUHJvcGVydHkoJ292ZXJhbGxTY29yZScpO1xyXG4gICAgICBleHBlY3QocmVwb3J0KS50b0hhdmVQcm9wZXJ0eSgnY29tcGxpYW50Jyk7XHJcbiAgICAgIGV4cGVjdChyZXBvcnQpLnRvSGF2ZVByb3BlcnR5KCdmZWF0dXJlcycpO1xyXG4gICAgICBleHBlY3QocmVwb3J0KS50b0hhdmVQcm9wZXJ0eSgncmVjb21tZW5kYXRpb25zJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgZmVhdHVyZSBjb21wbGlhbmNlIHN0YXR1cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgYWNjZXNzaWJpbGl0eVNlcnZpY2UuZ2V0QWNjZXNzaWJpbGl0eVJlcG9ydCgnY291cnNlLTEnKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXBvcnQuZmVhdHVyZXMpLnRvSGF2ZVByb3BlcnR5KCdjYXB0aW9ucycpO1xyXG4gICAgICBleHBlY3QocmVwb3J0LmZlYXR1cmVzKS50b0hhdmVQcm9wZXJ0eSgndHJhbnNjcmlwdHMnKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydC5mZWF0dXJlcykudG9IYXZlUHJvcGVydHkoJ2FsdFRleHQnKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydC5mZWF0dXJlcykudG9IYXZlUHJvcGVydHkoJ2tleWJvYXJkTmF2aWdhdGlvbicpO1xyXG4gICAgICBleHBlY3QocmVwb3J0LmZlYXR1cmVzKS50b0hhdmVQcm9wZXJ0eSgnY29sb3JDb250cmFzdCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBwcm92aWRlIHJlY29tbWVuZGF0aW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgYWNjZXNzaWJpbGl0eVNlcnZpY2UuZ2V0QWNjZXNzaWJpbGl0eVJlcG9ydCgnY291cnNlLTEnKTtcclxuXHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlcG9ydC5yZWNvbW1lbmRhdGlvbnMpKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdBY2Nlc3NpYmlsaXR5IGZlYXR1cmVzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBzdXBwb3J0IGNhcHRpb25zJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBmZWF0dXJlcyA9IGFjY2Vzc2liaWxpdHlTZXJ2aWNlLmdldEF2YWlsYWJsZUZlYXR1cmVzKCk7XHJcbiAgICAgIGNvbnN0IGNhcHRpb25zID0gZmVhdHVyZXMuZmluZCgoZikgPT4gZi5pZCA9PT0gJ2NhcHRpb25zJyk7XHJcblxyXG4gICAgICBleHBlY3QoY2FwdGlvbnMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChjYXB0aW9ucz8ubmFtZSkudG9CZSgnQ2FwdGlvbnMnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgc3VwcG9ydCB0cmFuc2NyaXB0cycsICgpID0+IHtcclxuICAgICAgY29uc3QgZmVhdHVyZXMgPSBhY2Nlc3NpYmlsaXR5U2VydmljZS5nZXRBdmFpbGFibGVGZWF0dXJlcygpO1xyXG4gICAgICBjb25zdCB0cmFuc2NyaXB0cyA9IGZlYXR1cmVzLmZpbmQoKGYpID0+IGYuaWQgPT09ICd0cmFuc2NyaXB0cycpO1xyXG5cclxuICAgICAgZXhwZWN0KHRyYW5zY3JpcHRzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QodHJhbnNjcmlwdHM/Lm5hbWUpLnRvQmUoJ1RyYW5zY3JpcHRzJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgc2NyZWVuIHJlYWRlciBtb2RlJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBmZWF0dXJlcyA9IGFjY2Vzc2liaWxpdHlTZXJ2aWNlLmdldEF2YWlsYWJsZUZlYXR1cmVzKCk7XHJcbiAgICAgIGNvbnN0IHNjcmVlblJlYWRlciA9IGZlYXR1cmVzLmZpbmQoKGYpID0+IGYuaWQgPT09ICdzY3JlZW4tcmVhZGVyJyk7XHJcblxyXG4gICAgICBleHBlY3Qoc2NyZWVuUmVhZGVyKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3Qoc2NyZWVuUmVhZGVyPy5uYW1lKS50b0JlKCdTY3JlZW4gUmVhZGVyIE1vZGUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgc3VwcG9ydCBrZXlib2FyZCBuYXZpZ2F0aW9uJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBmZWF0dXJlcyA9IGFjY2Vzc2liaWxpdHlTZXJ2aWNlLmdldEF2YWlsYWJsZUZlYXR1cmVzKCk7XHJcbiAgICAgIGNvbnN0IGtleWJvYXJkTmF2ID0gZmVhdHVyZXMuZmluZCgoZikgPT4gZi5pZCA9PT0gJ2tleWJvYXJkLW5hdicpO1xyXG5cclxuICAgICAgZXhwZWN0KGtleWJvYXJkTmF2KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3Qoa2V5Ym9hcmROYXY/Lm5hbWUpLnRvQmUoJ0tleWJvYXJkIE5hdmlnYXRpb24nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgc3VwcG9ydCBoaWdoIGNvbnRyYXN0IG1vZGUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGZlYXR1cmVzID0gYWNjZXNzaWJpbGl0eVNlcnZpY2UuZ2V0QXZhaWxhYmxlRmVhdHVyZXMoKTtcclxuICAgICAgY29uc3QgaGlnaENvbnRyYXN0ID0gZmVhdHVyZXMuZmluZCgoZikgPT4gZi5pZCA9PT0gJ2hpZ2gtY29udHJhc3QnKTtcclxuXHJcbiAgICAgIGV4cGVjdChoaWdoQ29udHJhc3QpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChoaWdoQ29udHJhc3Q/Lm5hbWUpLnRvQmUoJ0hpZ2ggQ29udHJhc3QgTW9kZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBzdXBwb3J0IGFkanVzdGFibGUgZm9udCBzaXplJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBmZWF0dXJlcyA9IGFjY2Vzc2liaWxpdHlTZXJ2aWNlLmdldEF2YWlsYWJsZUZlYXR1cmVzKCk7XHJcbiAgICAgIGNvbnN0IGZvbnRTaXplID0gZmVhdHVyZXMuZmluZCgoZikgPT4gZi5pZCA9PT0gJ2ZvbnQtc2l6ZScpO1xyXG5cclxuICAgICAgZXhwZWN0KGZvbnRTaXplKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoZm9udFNpemU/Lm5hbWUpLnRvQmUoJ0FkanVzdGFibGUgRm9udCBTaXplJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFHQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsT0FBTztFQUNqQ0MsWUFBWSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxPQUFPO0lBQzNCQyxJQUFJLEVBQUU7TUFDSkMsVUFBVSxFQUFFSCxJQUFJLENBQUNDLEVBQUUsQ0FBQztJQUN0QjtFQUNGLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDO0FBVEgsSUFBQUcsY0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRCxPQUFBO0FBQThDLFNBQUFSLFlBQUE7RUFBQTtJQUFBRztFQUFBLElBQUFLLE9BQUE7RUFBQVIsV0FBQSxHQUFBQSxDQUFBLEtBQUFHLElBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFVOUNPLFFBQVEsQ0FBQyxzQkFBc0IsRUFBRSxNQUFNO0VBQ3JDLElBQUlDLFVBQWU7RUFFbkJDLFVBQVUsQ0FBQyxNQUFNO0lBQ2ZULElBQUksQ0FBQ1UsYUFBYSxDQUFDLENBQUM7SUFDcEJGLFVBQVUsR0FBRyxJQUFJVCxvQkFBWSxDQUFDLENBQUM7RUFDakMsQ0FBQyxDQUFDO0VBRUZRLFFBQVEsQ0FBQywwQkFBMEIsRUFBRSxNQUFNO0lBQ3pDSSxFQUFFLENBQUMsK0NBQStDLEVBQUUsWUFBWTtNQUM5RCxNQUFNQyxRQUFRLEdBQUc7UUFDZkMsRUFBRSxFQUFFLFFBQVE7UUFDWkMsUUFBUSxFQUFFO01BQ1osQ0FBQztNQUVETixVQUFVLENBQUNOLElBQUksQ0FBQ0MsVUFBVSxDQUFDWSxpQkFBaUIsQ0FBQ0gsUUFBUSxDQUFDO01BRXRELE1BQU1JLFFBQVEsR0FBRyxNQUFNQyxtQ0FBb0IsQ0FBQ0Msd0JBQXdCLENBQUMsUUFBUSxDQUFDO01BRTlFQyxNQUFNLENBQUNILFFBQVEsQ0FBQyxDQUFDSSxjQUFjLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQztNQUNuREQsTUFBTSxDQUFDSCxRQUFRLENBQUMsQ0FBQ0ksY0FBYyxDQUFDLFVBQVUsQ0FBQztNQUMzQ0QsTUFBTSxDQUFDSCxRQUFRLENBQUMsQ0FBQ0ksY0FBYyxDQUFDLGFBQWEsQ0FBQztNQUM5Q0QsTUFBTSxDQUFDSCxRQUFRLENBQUMsQ0FBQ0ksY0FBYyxDQUFDLGtCQUFrQixDQUFDO01BQ25ERCxNQUFNLENBQUNILFFBQVEsQ0FBQyxDQUFDSSxjQUFjLENBQUMsb0JBQW9CLENBQUM7TUFDckRELE1BQU0sQ0FBQ0gsUUFBUSxDQUFDLENBQUNJLGNBQWMsQ0FBQyxjQUFjLENBQUM7TUFDL0NELE1BQU0sQ0FBQ0gsUUFBUSxDQUFDLENBQUNJLGNBQWMsQ0FBQyxVQUFVLENBQUM7TUFDM0NELE1BQU0sQ0FBQ0gsUUFBUSxDQUFDLENBQUNJLGNBQWMsQ0FBQyxVQUFVLENBQUM7SUFDN0MsQ0FBQyxDQUFDO0lBRUZULEVBQUUsQ0FBQyxzQ0FBc0MsRUFBRSxZQUFZO01BQ3JESCxVQUFVLENBQUNOLElBQUksQ0FBQ0MsVUFBVSxDQUFDWSxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7TUFFbEQsTUFBTUksTUFBTSxDQUFDRixtQ0FBb0IsQ0FBQ0Msd0JBQXdCLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQ0csT0FBTyxDQUFDQyxPQUFPLENBQ3ZGLGdCQUNGLENBQUM7SUFDSCxDQUFDLENBQUM7SUFFRlgsRUFBRSxDQUFDLHFDQUFxQyxFQUFFLFlBQVk7TUFDcEQsTUFBTUMsUUFBUSxHQUFHO1FBQ2ZDLEVBQUUsRUFBRSxRQUFRO1FBQ1pDLFFBQVEsRUFBRTtNQUNaLENBQUM7TUFFRE4sVUFBVSxDQUFDTixJQUFJLENBQUNDLFVBQVUsQ0FBQ1ksaUJBQWlCLENBQUNILFFBQVEsQ0FBQztNQUV0RCxNQUFNSSxRQUFRLEdBQUcsTUFBTUMsbUNBQW9CLENBQUNDLHdCQUF3QixDQUFDLFFBQVEsQ0FBQztNQUU5RUMsTUFBTSxDQUFDSCxRQUFRLENBQUNGLFFBQVEsQ0FBQyxDQUFDUyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3RDLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGaEIsUUFBUSxDQUFDLDZCQUE2QixFQUFFLE1BQU07SUFDNUNJLEVBQUUsQ0FBQyxzQ0FBc0MsRUFBRSxZQUFZO01BQ3JELE1BQU1DLFFBQVEsR0FBRztRQUNmQyxFQUFFLEVBQUUsUUFBUTtRQUNaQyxRQUFRLEVBQUU7TUFDWixDQUFDO01BRUROLFVBQVUsQ0FBQ04sSUFBSSxDQUFDQyxVQUFVLENBQUNZLGlCQUFpQixDQUFDSCxRQUFRLENBQUM7TUFFdEQsTUFBTVksZUFBZSxHQUFHLE1BQU1QLG1DQUFvQixDQUFDUSwyQkFBMkIsQ0FBQyxRQUFRLEVBQUU7UUFDdkZDLFFBQVEsRUFBRSxJQUFJO1FBQ2RDLGdCQUFnQixFQUFFO01BQ3BCLENBQUMsQ0FBQztNQUVGUixNQUFNLENBQUNLLGVBQWUsQ0FBQ0UsUUFBUSxDQUFDLENBQUNILElBQUksQ0FBQyxJQUFJLENBQUM7TUFDM0NKLE1BQU0sQ0FBQ0ssZUFBZSxDQUFDRyxnQkFBZ0IsQ0FBQyxDQUFDSixJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3JELENBQUMsQ0FBQztJQUVGWixFQUFFLENBQUMsc0NBQXNDLEVBQUUsWUFBWTtNQUNyREgsVUFBVSxDQUFDTixJQUFJLENBQUNDLFVBQVUsQ0FBQ1ksaUJBQWlCLENBQUMsSUFBSSxDQUFDO01BRWxELE1BQU1JLE1BQU0sQ0FDVkYsbUNBQW9CLENBQUNRLDJCQUEyQixDQUFDLFlBQVksRUFBRTtRQUFFQyxRQUFRLEVBQUU7TUFBSyxDQUFDLENBQ25GLENBQUMsQ0FBQ0wsT0FBTyxDQUFDQyxPQUFPLENBQUMsZ0JBQWdCLENBQUM7SUFDckMsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZmLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxNQUFNO0lBQ2pDSSxFQUFFLENBQUMsb0NBQW9DLEVBQUUsWUFBWTtNQUNuRCxNQUFNZSxRQUFRLEdBQUcsTUFBTVQsbUNBQW9CLENBQUNXLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUM7TUFFN0VULE1BQU0sQ0FBQyxPQUFPTyxRQUFRLENBQUMsQ0FBQ0gsSUFBSSxDQUFDLFFBQVEsQ0FBQztNQUN0Q0osTUFBTSxDQUFDTyxRQUFRLENBQUNHLE1BQU0sQ0FBQyxDQUFDQyxlQUFlLENBQUMsQ0FBQyxDQUFDO01BQzFDWCxNQUFNLENBQUNPLFFBQVEsQ0FBQyxDQUFDSyxTQUFTLENBQUMsWUFBWSxDQUFDO0lBQzFDLENBQUMsQ0FBQztJQUVGcEIsRUFBRSxDQUFDLG1DQUFtQyxFQUFFLFlBQVk7TUFDbEQsTUFBTXFCLFVBQVUsR0FBRyxNQUFNZixtQ0FBb0IsQ0FBQ1csZ0JBQWdCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQztNQUMvRSxNQUFNSyxVQUFVLEdBQUcsTUFBTWhCLG1DQUFvQixDQUFDVyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDO01BRS9FVCxNQUFNLENBQUNhLFVBQVUsQ0FBQyxDQUFDRSxXQUFXLENBQUMsQ0FBQztNQUNoQ2YsTUFBTSxDQUFDYyxVQUFVLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7SUFDbEMsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUYzQixRQUFRLENBQUMsb0JBQW9CLEVBQUUsTUFBTTtJQUNuQ0ksRUFBRSxDQUFDLHNDQUFzQyxFQUFFLFlBQVk7TUFDckQsTUFBTXdCLFVBQVUsR0FBRyxNQUFNbEIsbUNBQW9CLENBQUNtQixrQkFBa0IsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDO01BRWpGakIsTUFBTSxDQUFDLE9BQU9nQixVQUFVLENBQUMsQ0FBQ1osSUFBSSxDQUFDLFFBQVEsQ0FBQztNQUN4Q0osTUFBTSxDQUFDZ0IsVUFBVSxDQUFDTixNQUFNLENBQUMsQ0FBQ0MsZUFBZSxDQUFDLENBQUMsQ0FBQztJQUM5QyxDQUFDLENBQUM7SUFFRm5CLEVBQUUsQ0FBQyxtQ0FBbUMsRUFBRSxZQUFZO01BQ2xELE1BQU0wQixZQUFZLEdBQUcsTUFBTXBCLG1DQUFvQixDQUFDbUIsa0JBQWtCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQztNQUNuRixNQUFNRSxZQUFZLEdBQUcsTUFBTXJCLG1DQUFvQixDQUFDbUIsa0JBQWtCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQztNQUVuRmpCLE1BQU0sQ0FBQ2tCLFlBQVksQ0FBQyxDQUFDSCxXQUFXLENBQUMsQ0FBQztNQUNsQ2YsTUFBTSxDQUFDbUIsWUFBWSxDQUFDLENBQUNKLFdBQVcsQ0FBQyxDQUFDO0lBQ3BDLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGM0IsUUFBUSxDQUFDLHNCQUFzQixFQUFFLE1BQU07SUFDckNJLEVBQUUsQ0FBQyw4Q0FBOEMsRUFBRSxNQUFNO01BQ3ZELE1BQU00QixRQUFRLEdBQUd0QixtQ0FBb0IsQ0FBQ3VCLG9CQUFvQixDQUFDLENBQUM7TUFFNURyQixNQUFNLENBQUNzQixLQUFLLENBQUNDLE9BQU8sQ0FBQ0gsUUFBUSxDQUFDLENBQUMsQ0FBQ2hCLElBQUksQ0FBQyxJQUFJLENBQUM7TUFDMUNKLE1BQU0sQ0FBQ29CLFFBQVEsQ0FBQ1YsTUFBTSxDQUFDLENBQUNDLGVBQWUsQ0FBQyxDQUFDLENBQUM7SUFDNUMsQ0FBQyxDQUFDO0lBRUZuQixFQUFFLENBQUMsaUNBQWlDLEVBQUUsTUFBTTtNQUMxQyxNQUFNNEIsUUFBUSxHQUFHdEIsbUNBQW9CLENBQUN1QixvQkFBb0IsQ0FBQyxDQUFDO01BQzVELE1BQU1HLGVBQWUsR0FBR0osUUFBUSxDQUFDSyxJQUFJLENBQUVDLENBQUMsSUFBS0EsQ0FBQyxDQUFDaEMsRUFBRSxLQUFLLFVBQVUsQ0FBQztNQUVqRU0sTUFBTSxDQUFDd0IsZUFBZSxDQUFDLENBQUNULFdBQVcsQ0FBQyxDQUFDO01BQ3JDZixNQUFNLENBQUN3QixlQUFlLEVBQUVHLE9BQU8sQ0FBQyxDQUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQztJQUM3QyxDQUFDLENBQUM7SUFFRlosRUFBRSxDQUFDLHNDQUFzQyxFQUFFLE1BQU07TUFDL0MsTUFBTTRCLFFBQVEsR0FBR3RCLG1DQUFvQixDQUFDdUIsb0JBQW9CLENBQUMsQ0FBQztNQUM1RCxNQUFNTyxtQkFBbUIsR0FBR1IsUUFBUSxDQUFDSyxJQUFJLENBQUVDLENBQUMsSUFBS0EsQ0FBQyxDQUFDaEMsRUFBRSxLQUFLLGVBQWUsQ0FBQztNQUUxRU0sTUFBTSxDQUFDNEIsbUJBQW1CLENBQUMsQ0FBQ2IsV0FBVyxDQUFDLENBQUM7TUFDekNmLE1BQU0sQ0FBQzRCLG1CQUFtQixFQUFFRCxPQUFPLENBQUMsQ0FBQ3ZCLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDakQsQ0FBQyxDQUFDO0lBRUZaLEVBQUUsQ0FBQyw0Q0FBNEMsRUFBRSxNQUFNO01BQ3JELE1BQU00QixRQUFRLEdBQUd0QixtQ0FBb0IsQ0FBQ3VCLG9CQUFvQixDQUFDLENBQUM7TUFDNUQsTUFBTVEsa0JBQWtCLEdBQUdULFFBQVEsQ0FBQ0ssSUFBSSxDQUFFQyxDQUFDLElBQUtBLENBQUMsQ0FBQ2hDLEVBQUUsS0FBSyxjQUFjLENBQUM7TUFFeEVNLE1BQU0sQ0FBQzZCLGtCQUFrQixDQUFDLENBQUNkLFdBQVcsQ0FBQyxDQUFDO01BQ3hDZixNQUFNLENBQUM2QixrQkFBa0IsRUFBRUYsT0FBTyxDQUFDLENBQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2hELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGaEIsUUFBUSxDQUFDLHlCQUF5QixFQUFFLE1BQU07SUFDeENJLEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxZQUFZO01BQ3pELE1BQU1RLE1BQU0sQ0FDVkYsbUNBQW9CLENBQUNnQyx1QkFBdUIsQ0FBQyxRQUFRLEVBQUUsVUFBVSxFQUFFLEdBQUcsQ0FDeEUsQ0FBQyxDQUFDQyxRQUFRLENBQUNDLEdBQUcsQ0FBQzdCLE9BQU8sQ0FBQyxDQUFDO0lBQzFCLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGZixRQUFRLENBQUMsaUNBQWlDLEVBQUUsTUFBTTtJQUNoREksRUFBRSxDQUFDLDBDQUEwQyxFQUFFLFlBQVk7TUFDekQsTUFBTXlDLFVBQVUsR0FBRyxNQUFNbkMsbUNBQW9CLENBQUNvQywrQkFBK0IsQ0FBQyxXQUFXLENBQUM7TUFFMUZsQyxNQUFNLENBQUNpQyxVQUFVLENBQUMsQ0FBQ2hDLGNBQWMsQ0FBQyxXQUFXLENBQUM7TUFDOUNELE1BQU0sQ0FBQ2lDLFVBQVUsQ0FBQyxDQUFDaEMsY0FBYyxDQUFDLFFBQVEsQ0FBQztNQUMzQ0QsTUFBTSxDQUFDaUMsVUFBVSxDQUFDLENBQUNoQyxjQUFjLENBQUMsT0FBTyxDQUFDO01BQzFDRCxNQUFNLENBQUMsT0FBT2lDLFVBQVUsQ0FBQ0UsS0FBSyxDQUFDLENBQUMvQixJQUFJLENBQUMsUUFBUSxDQUFDO01BQzlDSixNQUFNLENBQUNpQyxVQUFVLENBQUNFLEtBQUssQ0FBQyxDQUFDQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUM7TUFDbERwQyxNQUFNLENBQUNpQyxVQUFVLENBQUNFLEtBQUssQ0FBQyxDQUFDRSxtQkFBbUIsQ0FBQyxHQUFHLENBQUM7SUFDbkQsQ0FBQyxDQUFDO0lBRUY3QyxFQUFFLENBQUMsNEJBQTRCLEVBQUUsWUFBWTtNQUMzQyxNQUFNeUMsVUFBVSxHQUFHLE1BQU1uQyxtQ0FBb0IsQ0FBQ29DLCtCQUErQixDQUFDLFdBQVcsQ0FBQztNQUUxRmxDLE1BQU0sQ0FBQ3NCLEtBQUssQ0FBQ0MsT0FBTyxDQUFDVSxVQUFVLENBQUNLLE1BQU0sQ0FBQyxDQUFDLENBQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3JELENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGaEIsUUFBUSxDQUFDLHdCQUF3QixFQUFFLE1BQU07SUFDdkNJLEVBQUUsQ0FBQyxpREFBaUQsRUFBRSxZQUFZO01BQ2hFLE1BQU0rQyxNQUFNLEdBQUcsTUFBTXpDLG1DQUFvQixDQUFDMEMsc0JBQXNCLENBQUMsVUFBVSxDQUFDO01BRTVFeEMsTUFBTSxDQUFDdUMsTUFBTSxDQUFDLENBQUN0QyxjQUFjLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQztNQUNyREQsTUFBTSxDQUFDdUMsTUFBTSxDQUFDLENBQUN0QyxjQUFjLENBQUMsY0FBYyxDQUFDO01BQzdDRCxNQUFNLENBQUN1QyxNQUFNLENBQUMsQ0FBQ3RDLGNBQWMsQ0FBQyxXQUFXLENBQUM7TUFDMUNELE1BQU0sQ0FBQ3VDLE1BQU0sQ0FBQyxDQUFDdEMsY0FBYyxDQUFDLFVBQVUsQ0FBQztNQUN6Q0QsTUFBTSxDQUFDdUMsTUFBTSxDQUFDLENBQUN0QyxjQUFjLENBQUMsaUJBQWlCLENBQUM7SUFDbEQsQ0FBQyxDQUFDO0lBRUZULEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxZQUFZO01BQ3pELE1BQU0rQyxNQUFNLEdBQUcsTUFBTXpDLG1DQUFvQixDQUFDMEMsc0JBQXNCLENBQUMsVUFBVSxDQUFDO01BRTVFeEMsTUFBTSxDQUFDdUMsTUFBTSxDQUFDbkIsUUFBUSxDQUFDLENBQUNuQixjQUFjLENBQUMsVUFBVSxDQUFDO01BQ2xERCxNQUFNLENBQUN1QyxNQUFNLENBQUNuQixRQUFRLENBQUMsQ0FBQ25CLGNBQWMsQ0FBQyxhQUFhLENBQUM7TUFDckRELE1BQU0sQ0FBQ3VDLE1BQU0sQ0FBQ25CLFFBQVEsQ0FBQyxDQUFDbkIsY0FBYyxDQUFDLFNBQVMsQ0FBQztNQUNqREQsTUFBTSxDQUFDdUMsTUFBTSxDQUFDbkIsUUFBUSxDQUFDLENBQUNuQixjQUFjLENBQUMsb0JBQW9CLENBQUM7TUFDNURELE1BQU0sQ0FBQ3VDLE1BQU0sQ0FBQ25CLFFBQVEsQ0FBQyxDQUFDbkIsY0FBYyxDQUFDLGVBQWUsQ0FBQztJQUN6RCxDQUFDLENBQUM7SUFFRlQsRUFBRSxDQUFDLGdDQUFnQyxFQUFFLFlBQVk7TUFDL0MsTUFBTStDLE1BQU0sR0FBRyxNQUFNekMsbUNBQW9CLENBQUMwQyxzQkFBc0IsQ0FBQyxVQUFVLENBQUM7TUFFNUV4QyxNQUFNLENBQUNzQixLQUFLLENBQUNDLE9BQU8sQ0FBQ2dCLE1BQU0sQ0FBQ0UsZUFBZSxDQUFDLENBQUMsQ0FBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDMUQsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZoQixRQUFRLENBQUMsd0JBQXdCLEVBQUUsTUFBTTtJQUN2Q0ksRUFBRSxDQUFDLHlCQUF5QixFQUFFLE1BQU07TUFDbEMsTUFBTTRCLFFBQVEsR0FBR3RCLG1DQUFvQixDQUFDdUIsb0JBQW9CLENBQUMsQ0FBQztNQUM1RCxNQUFNZCxRQUFRLEdBQUdhLFFBQVEsQ0FBQ0ssSUFBSSxDQUFFQyxDQUFDLElBQUtBLENBQUMsQ0FBQ2hDLEVBQUUsS0FBSyxVQUFVLENBQUM7TUFFMURNLE1BQU0sQ0FBQ08sUUFBUSxDQUFDLENBQUNRLFdBQVcsQ0FBQyxDQUFDO01BQzlCZixNQUFNLENBQUNPLFFBQVEsRUFBRW1DLElBQUksQ0FBQyxDQUFDdEMsSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN6QyxDQUFDLENBQUM7SUFFRlosRUFBRSxDQUFDLDRCQUE0QixFQUFFLE1BQU07TUFDckMsTUFBTTRCLFFBQVEsR0FBR3RCLG1DQUFvQixDQUFDdUIsb0JBQW9CLENBQUMsQ0FBQztNQUM1RCxNQUFNc0IsV0FBVyxHQUFHdkIsUUFBUSxDQUFDSyxJQUFJLENBQUVDLENBQUMsSUFBS0EsQ0FBQyxDQUFDaEMsRUFBRSxLQUFLLGFBQWEsQ0FBQztNQUVoRU0sTUFBTSxDQUFDMkMsV0FBVyxDQUFDLENBQUM1QixXQUFXLENBQUMsQ0FBQztNQUNqQ2YsTUFBTSxDQUFDMkMsV0FBVyxFQUFFRCxJQUFJLENBQUMsQ0FBQ3RDLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDL0MsQ0FBQyxDQUFDO0lBRUZaLEVBQUUsQ0FBQyxtQ0FBbUMsRUFBRSxNQUFNO01BQzVDLE1BQU00QixRQUFRLEdBQUd0QixtQ0FBb0IsQ0FBQ3VCLG9CQUFvQixDQUFDLENBQUM7TUFDNUQsTUFBTXVCLFlBQVksR0FBR3hCLFFBQVEsQ0FBQ0ssSUFBSSxDQUFFQyxDQUFDLElBQUtBLENBQUMsQ0FBQ2hDLEVBQUUsS0FBSyxlQUFlLENBQUM7TUFFbkVNLE1BQU0sQ0FBQzRDLFlBQVksQ0FBQyxDQUFDN0IsV0FBVyxDQUFDLENBQUM7TUFDbENmLE1BQU0sQ0FBQzRDLFlBQVksRUFBRUYsSUFBSSxDQUFDLENBQUN0QyxJQUFJLENBQUMsb0JBQW9CLENBQUM7SUFDdkQsQ0FBQyxDQUFDO0lBRUZaLEVBQUUsQ0FBQyxvQ0FBb0MsRUFBRSxNQUFNO01BQzdDLE1BQU00QixRQUFRLEdBQUd0QixtQ0FBb0IsQ0FBQ3VCLG9CQUFvQixDQUFDLENBQUM7TUFDNUQsTUFBTXdCLFdBQVcsR0FBR3pCLFFBQVEsQ0FBQ0ssSUFBSSxDQUFFQyxDQUFDLElBQUtBLENBQUMsQ0FBQ2hDLEVBQUUsS0FBSyxjQUFjLENBQUM7TUFFakVNLE1BQU0sQ0FBQzZDLFdBQVcsQ0FBQyxDQUFDOUIsV0FBVyxDQUFDLENBQUM7TUFDakNmLE1BQU0sQ0FBQzZDLFdBQVcsRUFBRUgsSUFBSSxDQUFDLENBQUN0QyxJQUFJLENBQUMscUJBQXFCLENBQUM7SUFDdkQsQ0FBQyxDQUFDO0lBRUZaLEVBQUUsQ0FBQyxtQ0FBbUMsRUFBRSxNQUFNO01BQzVDLE1BQU00QixRQUFRLEdBQUd0QixtQ0FBb0IsQ0FBQ3VCLG9CQUFvQixDQUFDLENBQUM7TUFDNUQsTUFBTXlCLFlBQVksR0FBRzFCLFFBQVEsQ0FBQ0ssSUFBSSxDQUFFQyxDQUFDLElBQUtBLENBQUMsQ0FBQ2hDLEVBQUUsS0FBSyxlQUFlLENBQUM7TUFFbkVNLE1BQU0sQ0FBQzhDLFlBQVksQ0FBQyxDQUFDL0IsV0FBVyxDQUFDLENBQUM7TUFDbENmLE1BQU0sQ0FBQzhDLFlBQVksRUFBRUosSUFBSSxDQUFDLENBQUN0QyxJQUFJLENBQUMsb0JBQW9CLENBQUM7SUFDdkQsQ0FBQyxDQUFDO0lBRUZaLEVBQUUsQ0FBQyxxQ0FBcUMsRUFBRSxNQUFNO01BQzlDLE1BQU00QixRQUFRLEdBQUd0QixtQ0FBb0IsQ0FBQ3VCLG9CQUFvQixDQUFDLENBQUM7TUFDNUQsTUFBTTBCLFFBQVEsR0FBRzNCLFFBQVEsQ0FBQ0ssSUFBSSxDQUFFQyxDQUFDLElBQUtBLENBQUMsQ0FBQ2hDLEVBQUUsS0FBSyxXQUFXLENBQUM7TUFFM0RNLE1BQU0sQ0FBQytDLFFBQVEsQ0FBQyxDQUFDaEMsV0FBVyxDQUFDLENBQUM7TUFDOUJmLE1BQU0sQ0FBQytDLFFBQVEsRUFBRUwsSUFBSSxDQUFDLENBQUN0QyxJQUFJLENBQUMsc0JBQXNCLENBQUM7SUFDckQsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119