{"version":3,"names":["https","_interopRequireWildcard","require","http","_url","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","NetworkSandbox","DEFAULT_TIMEOUT","MAX_REQUESTS_PER_MINUTE","requestCounts","Map","activeRequests","constructor","permissionManager","auditLogger","request","url","options","startTime","Date","now","parsedUrl","URL","domain","hostname","method","allowed","isNetworkAllowed","logNetworkRequest","success","errorMessage","Error","checkRateLimit","requestId","Math","random","timestamp","response","makeRequest","duration","metadata","statusCode","error","message","delete","post","body","put","getActiveRequests","Array","from","values","getStatistics","requestsByDomain","size","blockDomain","reason","addToNetworkAllowlist","log","severity","details","unblockDomain","entry","resetTime","count","Promise","resolve","reject","isHttps","protocol","client","requestOptions","port","path","pathname","search","headers","timeout","req","res","on","chunk","toString","destroy","write","end","exports"],"sources":["NetworkSandbox.ts"],"sourcesContent":["import { PermissionManager } from './PermissionManager';\nimport { AuditLogger } from './AuditLogger';\nimport * as https from 'https';\nimport * as http from 'http';\nimport { URL } from 'url';\n\n/**\n * Network request options\n */\nexport interface NetworkRequestOptions {\n  method?: string;\n  headers?: Record<string, string>;\n  body?: string;\n  timeout?: number;\n}\n\n/**\n * Network response\n */\nexport interface NetworkResponse {\n  statusCode: number;\n  headers: Record<string, string | string[] | undefined>;\n  body: string;\n  duration: number;\n}\n\n/**\n * Network request metadata\n */\ninterface RequestMetadata {\n  url: string;\n  method: string;\n  timestamp: Date;\n  duration?: number;\n  statusCode?: number;\n  error?: string;\n}\n\n/**\n * NetworkSandbox provides a secure layer for all network requests made by AzStudio.\n * It enforces domain allowlisting, monitors network activity, and logs all requests\n * for audit purposes.\n * \n * Features:\n * - Domain allowlist enforcement\n * - Permission prompts for unknown domains\n * - Request/response logging\n * - Network activity monitoring\n * - Rate limiting per domain\n * - Request timeout enforcement\n */\nexport class NetworkSandbox {\n  private static readonly DEFAULT_TIMEOUT = 30000; // 30 seconds\n  private static readonly MAX_REQUESTS_PER_MINUTE = 60;\n\n  private permissionManager: PermissionManager;\n  private auditLogger: AuditLogger;\n  private requestCounts: Map<string, { count: number; resetTime: number }> = new Map();\n  private activeRequests: Map<string, RequestMetadata> = new Map();\n\n  constructor(permissionManager: PermissionManager, auditLogger: AuditLogger) {\n    this.permissionManager = permissionManager;\n    this.auditLogger = auditLogger;\n  }\n\n  /**\n   * Make a network request with sandboxing\n   */\n  async request(url: string, options: NetworkRequestOptions = {}): Promise<NetworkResponse> {\n    const startTime = Date.now();\n    const parsedUrl = new URL(url);\n    const domain = parsedUrl.hostname;\n    const method = options.method || 'GET';\n\n    // Check if domain is allowed\n    const allowed = await this.permissionManager.isNetworkAllowed(domain);\n    if (!allowed) {\n      await this.auditLogger.logNetworkRequest(url, method, {\n        success: false,\n        errorMessage: 'Domain not allowed',\n      });\n      throw new Error(`Network request to ${domain} is not allowed`);\n    }\n\n    // Check rate limiting\n    if (!this.checkRateLimit(domain)) {\n      await this.auditLogger.logNetworkRequest(url, method, {\n        success: false,\n        errorMessage: 'Rate limit exceeded',\n      });\n      throw new Error(`Rate limit exceeded for ${domain}`);\n    }\n\n    // Track active request\n    const requestId = `${Date.now()}-${Math.random()}`;\n    this.activeRequests.set(requestId, {\n      url,\n      method,\n      timestamp: new Date(),\n    });\n\n    try {\n      // Make the request\n      const response = await this.makeRequest(url, options);\n      \n      const duration = Date.now() - startTime;\n\n      // Update request metadata\n      const metadata = this.activeRequests.get(requestId);\n      if (metadata) {\n        metadata.duration = duration;\n        metadata.statusCode = response.statusCode;\n      }\n\n      // Log successful request\n      await this.auditLogger.logNetworkRequest(url, method, {\n        duration,\n        statusCode: response.statusCode,\n        success: true,\n      });\n\n      return response;\n    } catch (error) {\n      const duration = Date.now() - startTime;\n      const errorMessage = (error as Error).message;\n\n      // Update request metadata\n      const metadata = this.activeRequests.get(requestId);\n      if (metadata) {\n        metadata.duration = duration;\n        metadata.error = errorMessage;\n      }\n\n      // Log failed request\n      await this.auditLogger.logNetworkRequest(url, method, {\n        duration,\n        success: false,\n        errorMessage,\n      });\n\n      throw error;\n    } finally {\n      // Remove from active requests\n      this.activeRequests.delete(requestId);\n    }\n  }\n\n  /**\n   * Make a GET request\n   */\n  async get(url: string, options: Omit<NetworkRequestOptions, 'method'> = {}): Promise<NetworkResponse> {\n    return this.request(url, { ...options, method: 'GET' });\n  }\n\n  /**\n   * Make a POST request\n   */\n  async post(url: string, body: string, options: Omit<NetworkRequestOptions, 'method' | 'body'> = {}): Promise<NetworkResponse> {\n    return this.request(url, { ...options, method: 'POST', body });\n  }\n\n  /**\n   * Make a PUT request\n   */\n  async put(url: string, body: string, options: Omit<NetworkRequestOptions, 'method' | 'body'> = {}): Promise<NetworkResponse> {\n    return this.request(url, { ...options, method: 'PUT', body });\n  }\n\n  /**\n   * Make a DELETE request\n   */\n  async delete(url: string, options: Omit<NetworkRequestOptions, 'method'> = {}): Promise<NetworkResponse> {\n    return this.request(url, { ...options, method: 'DELETE' });\n  }\n\n  /**\n   * Get active network requests\n   */\n  getActiveRequests(): RequestMetadata[] {\n    return Array.from(this.activeRequests.values());\n  }\n\n  /**\n   * Get network activity statistics\n   */\n  getStatistics(): {\n    activeRequests: number;\n    requestsByDomain: Record<string, number>;\n  } {\n    const requestsByDomain: Record<string, number> = {};\n\n    for (const metadata of this.activeRequests.values()) {\n      try {\n        const domain = new URL(metadata.url).hostname;\n        requestsByDomain[domain] = (requestsByDomain[domain] || 0) + 1;\n      } catch {\n        // Invalid URL, skip\n      }\n    }\n\n    return {\n      activeRequests: this.activeRequests.size,\n      requestsByDomain,\n    };\n  }\n\n  /**\n   * Block a domain\n   */\n  async blockDomain(domain: string, reason?: string): Promise<void> {\n    await this.permissionManager.addToNetworkAllowlist(domain, false, reason);\n    await this.auditLogger.log('network:request', 'Domain blocked', domain, {\n      severity: 'warning',\n      details: { reason },\n    });\n  }\n\n  /**\n   * Unblock a domain\n   */\n  async unblockDomain(domain: string, reason?: string): Promise<void> {\n    await this.permissionManager.addToNetworkAllowlist(domain, true, reason);\n    await this.auditLogger.log('network:request', 'Domain unblocked', domain, {\n      severity: 'info',\n      details: { reason },\n    });\n  }\n\n  /**\n   * Check rate limit for domain\n   */\n  private checkRateLimit(domain: string): boolean {\n    const now = Date.now();\n    const entry = this.requestCounts.get(domain);\n\n    if (!entry || now >= entry.resetTime) {\n      // Reset counter\n      this.requestCounts.set(domain, {\n        count: 1,\n        resetTime: now + 60000, // Reset after 1 minute\n      });\n      return true;\n    }\n\n    if (entry.count >= NetworkSandbox.MAX_REQUESTS_PER_MINUTE) {\n      return false;\n    }\n\n    entry.count++;\n    return true;\n  }\n\n  /**\n   * Make the actual HTTP/HTTPS request\n   */\n  private makeRequest(url: string, options: NetworkRequestOptions): Promise<NetworkResponse> {\n    return new Promise((resolve, reject) => {\n      const parsedUrl = new URL(url);\n      const isHttps = parsedUrl.protocol === 'https:';\n      const client = isHttps ? https : http;\n\n      const requestOptions = {\n        hostname: parsedUrl.hostname,\n        port: parsedUrl.port || (isHttps ? 443 : 80),\n        path: parsedUrl.pathname + parsedUrl.search,\n        method: options.method || 'GET',\n        headers: options.headers || {},\n        timeout: options.timeout || NetworkSandbox.DEFAULT_TIMEOUT,\n      };\n\n      const startTime = Date.now();\n\n      const req = client.request(requestOptions, (res) => {\n        let body = '';\n\n        res.on('data', (chunk) => {\n          body += chunk.toString();\n        });\n\n        res.on('end', () => {\n          const duration = Date.now() - startTime;\n          \n          resolve({\n            statusCode: res.statusCode || 0,\n            headers: res.headers,\n            body,\n            duration,\n          });\n        });\n      });\n\n      req.on('error', (error) => {\n        reject(error);\n      });\n\n      req.on('timeout', () => {\n        req.destroy();\n        reject(new Error('Request timeout'));\n      });\n\n      if (options.body) {\n        req.write(options.body);\n      }\n\n      req.end();\n    });\n  }\n}\n"],"mappings":"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","ignoreList":[]}