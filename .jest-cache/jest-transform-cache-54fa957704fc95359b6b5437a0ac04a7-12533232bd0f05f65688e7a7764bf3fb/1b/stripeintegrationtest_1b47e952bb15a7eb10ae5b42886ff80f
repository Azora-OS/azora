57e3af78d0714603dcc505e7fbf56bac
"use strict";

var _globals = require("@jest/globals");
var _supertest = _interopRequireDefault(require("supertest"));
var _stripe = require("../../../tests/mocks/stripe.mock");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const API_URL = process.env.PAY_SERVICE_URL || 'http://localhost:3010';
(0, _globals.describe)('Azora Pay - Stripe Integration', () => {
  (0, _globals.beforeEach)(() => {
    _stripe.mockStripe.reset();
  });
  (0, _globals.afterEach)(() => {
    _stripe.mockStripe.reset();
  });
  (0, _globals.describe)('Customer Management', () => {
    (0, _globals.it)('should create Stripe customer', async () => {
      const res = await (0, _supertest.default)(API_URL).post('/api/customers').send({
        email: 'test@example.com',
        name: 'Test User',
        userId: 'user-123'
      });
      (0, _globals.expect)(res.status).toBe(201);
      (0, _globals.expect)(res.body.customerId).toBeDefined();
      (0, _globals.expect)(res.body.email).toBe('test@example.com');
    });
    (0, _globals.it)('should retrieve existing customer', async () => {
      const createRes = await (0, _supertest.default)(API_URL).post('/api/customers').send({
        email: 'test@example.com',
        name: 'Test User',
        userId: 'user-123'
      });
      const res = await (0, _supertest.default)(API_URL).get(`/api/customers/${createRes.body.customerId}`);
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.email).toBe('test@example.com');
    });
    (0, _globals.it)('should update customer information', async () => {
      const createRes = await (0, _supertest.default)(API_URL).post('/api/customers').send({
        email: 'test@example.com',
        name: 'Test User',
        userId: 'user-123'
      });
      const res = await (0, _supertest.default)(API_URL).put(`/api/customers/${createRes.body.customerId}`).send({
        name: 'Updated Name'
      });
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.name).toBe('Updated Name');
    });
  });
  (0, _globals.describe)('Payment Methods', () => {
    (0, _globals.it)('should attach payment method to customer', async () => {
      const customerRes = await (0, _supertest.default)(API_URL).post('/api/customers').send({
        email: 'test@example.com',
        userId: 'user-123'
      });
      const res = await (0, _supertest.default)(API_URL).post('/api/payment-methods/attach').send({
        customerId: customerRes.body.customerId,
        paymentMethodId: 'pm_test_123'
      });
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.attached).toBe(true);
    });
    (0, _globals.it)('should list customer payment methods', async () => {
      const customerRes = await (0, _supertest.default)(API_URL).post('/api/customers').send({
        email: 'test@example.com',
        userId: 'user-123'
      });
      const res = await (0, _supertest.default)(API_URL).get(`/api/payment-methods/${customerRes.body.customerId}`);
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(Array.isArray(res.body.paymentMethods)).toBe(true);
    });
    (0, _globals.it)('should detach payment method', async () => {
      const res = await (0, _supertest.default)(API_URL).delete('/api/payment-methods/pm_test_123');
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.detached).toBe(true);
    });
  });
  (0, _globals.describe)('Subscription Payments', () => {
    (0, _globals.it)('should create subscription', async () => {
      const customerRes = await (0, _supertest.default)(API_URL).post('/api/customers').send({
        email: 'test@example.com',
        userId: 'user-123'
      });
      const res = await (0, _supertest.default)(API_URL).post('/api/subscriptions').send({
        customerId: customerRes.body.customerId,
        priceId: 'price_test_123'
      });
      (0, _globals.expect)(res.status).toBe(201);
      (0, _globals.expect)(res.body.subscriptionId).toBeDefined();
      (0, _globals.expect)(res.body.status).toBe('active');
    });
    (0, _globals.it)('should cancel subscription', async () => {
      const res = await (0, _supertest.default)(API_URL).delete('/api/subscriptions/sub_test_123');
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.status).toBe('canceled');
    });
    (0, _globals.it)('should update subscription', async () => {
      const res = await (0, _supertest.default)(API_URL).put('/api/subscriptions/sub_test_123').send({
        priceId: 'price_test_456'
      });
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.updated).toBe(true);
    });
  });
  (0, _globals.describe)('Error Handling', () => {
    (0, _globals.it)('should handle Stripe API errors', async () => {
      const res = await (0, _supertest.default)(API_URL).post('/api/payments/intent').send({
        amount: -100,
        currency: 'usd',
        userId: 'user-123'
      });
      (0, _globals.expect)(res.status).toBe(400);
      (0, _globals.expect)(res.body.error).toBeDefined();
    });
    (0, _globals.it)('should handle network errors gracefully', async () => {
      const res = await (0, _supertest.default)(API_URL).get('/api/customers/invalid-customer-id');
      (0, _globals.expect)(res.status).toBe(404);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2xvYmFscyIsInJlcXVpcmUiLCJfc3VwZXJ0ZXN0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9zdHJpcGUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJBUElfVVJMIiwicHJvY2VzcyIsImVudiIsIlBBWV9TRVJWSUNFX1VSTCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsIm1vY2tTdHJpcGUiLCJyZXNldCIsImFmdGVyRWFjaCIsIml0IiwicmVzIiwicmVxdWVzdCIsInBvc3QiLCJzZW5kIiwiZW1haWwiLCJuYW1lIiwidXNlcklkIiwiZXhwZWN0Iiwic3RhdHVzIiwidG9CZSIsImJvZHkiLCJjdXN0b21lcklkIiwidG9CZURlZmluZWQiLCJjcmVhdGVSZXMiLCJnZXQiLCJwdXQiLCJjdXN0b21lclJlcyIsInBheW1lbnRNZXRob2RJZCIsImF0dGFjaGVkIiwiQXJyYXkiLCJpc0FycmF5IiwicGF5bWVudE1ldGhvZHMiLCJkZWxldGUiLCJkZXRhY2hlZCIsInByaWNlSWQiLCJzdWJzY3JpcHRpb25JZCIsInVwZGF0ZWQiLCJhbW91bnQiLCJjdXJyZW5jeSIsImVycm9yIl0sInNvdXJjZXMiOlsic3RyaXBlLWludGVncmF0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2gsIGFmdGVyRWFjaCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xyXG5pbXBvcnQgcmVxdWVzdCBmcm9tICdzdXBlcnRlc3QnO1xyXG5pbXBvcnQgeyBtb2NrU3RyaXBlIH0gZnJvbSAnLi4vLi4vLi4vdGVzdHMvbW9ja3Mvc3RyaXBlLm1vY2snO1xyXG5cclxuY29uc3QgQVBJX1VSTCA9IHByb2Nlc3MuZW52LlBBWV9TRVJWSUNFX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDozMDEwJztcclxuXHJcbmRlc2NyaWJlKCdBem9yYSBQYXkgLSBTdHJpcGUgSW50ZWdyYXRpb24nLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBtb2NrU3RyaXBlLnJlc2V0KCk7XHJcbiAgfSk7XHJcblxyXG4gIGFmdGVyRWFjaCgoKSA9PiB7XHJcbiAgICBtb2NrU3RyaXBlLnJlc2V0KCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdDdXN0b21lciBNYW5hZ2VtZW50JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgU3RyaXBlIGN1c3RvbWVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvY3VzdG9tZXJzJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxyXG4gICAgICAgICAgbmFtZTogJ1Rlc3QgVXNlcicsXHJcbiAgICAgICAgICB1c2VySWQ6ICd1c2VyLTEyMycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzLnN0YXR1cykudG9CZSgyMDEpO1xyXG4gICAgICBleHBlY3QocmVzLmJvZHkuY3VzdG9tZXJJZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJlcy5ib2R5LmVtYWlsKS50b0JlKCd0ZXN0QGV4YW1wbGUuY29tJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHJpZXZlIGV4aXN0aW5nIGN1c3RvbWVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjcmVhdGVSZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvY3VzdG9tZXJzJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxyXG4gICAgICAgICAgbmFtZTogJ1Rlc3QgVXNlcicsXHJcbiAgICAgICAgICB1c2VySWQ6ICd1c2VyLTEyMycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLmdldChgL2FwaS9jdXN0b21lcnMvJHtjcmVhdGVSZXMuYm9keS5jdXN0b21lcklkfWApO1xyXG5cclxuICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlcy5ib2R5LmVtYWlsKS50b0JlKCd0ZXN0QGV4YW1wbGUuY29tJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBjdXN0b21lciBpbmZvcm1hdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgY3JlYXRlUmVzID0gYXdhaXQgcmVxdWVzdChBUElfVVJMKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL2N1c3RvbWVycycpXHJcbiAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcclxuICAgICAgICAgIG5hbWU6ICdUZXN0IFVzZXInLFxyXG4gICAgICAgICAgdXNlcklkOiAndXNlci0xMjMnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdChBUElfVVJMKVxyXG4gICAgICAgIC5wdXQoYC9hcGkvY3VzdG9tZXJzLyR7Y3JlYXRlUmVzLmJvZHkuY3VzdG9tZXJJZH1gKVxyXG4gICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgIG5hbWU6ICdVcGRhdGVkIE5hbWUnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlcy5ib2R5Lm5hbWUpLnRvQmUoJ1VwZGF0ZWQgTmFtZScpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdQYXltZW50IE1ldGhvZHMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGF0dGFjaCBwYXltZW50IG1ldGhvZCB0byBjdXN0b21lcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgY3VzdG9tZXJSZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvY3VzdG9tZXJzJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxyXG4gICAgICAgICAgdXNlcklkOiAndXNlci0xMjMnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdChBUElfVVJMKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL3BheW1lbnQtbWV0aG9kcy9hdHRhY2gnKVxyXG4gICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgIGN1c3RvbWVySWQ6IGN1c3RvbWVyUmVzLmJvZHkuY3VzdG9tZXJJZCxcclxuICAgICAgICAgIHBheW1lbnRNZXRob2RJZDogJ3BtX3Rlc3RfMTIzJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChyZXMuYm9keS5hdHRhY2hlZCkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgbGlzdCBjdXN0b21lciBwYXltZW50IG1ldGhvZHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1c3RvbWVyUmVzID0gYXdhaXQgcmVxdWVzdChBUElfVVJMKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL2N1c3RvbWVycycpXHJcbiAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcclxuICAgICAgICAgIHVzZXJJZDogJ3VzZXItMTIzJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAuZ2V0KGAvYXBpL3BheW1lbnQtbWV0aG9kcy8ke2N1c3RvbWVyUmVzLmJvZHkuY3VzdG9tZXJJZH1gKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlcy5ib2R5LnBheW1lbnRNZXRob2RzKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZGV0YWNoIHBheW1lbnQgbWV0aG9kJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLmRlbGV0ZSgnL2FwaS9wYXltZW50LW1ldGhvZHMvcG1fdGVzdF8xMjMnKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChyZXMuYm9keS5kZXRhY2hlZCkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnU3Vic2NyaXB0aW9uIFBheW1lbnRzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgc3Vic2NyaXB0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjdXN0b21lclJlcyA9IGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAucG9zdCgnL2FwaS9jdXN0b21lcnMnKVxyXG4gICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgICB1c2VySWQ6ICd1c2VyLTEyMycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvc3Vic2NyaXB0aW9ucycpXHJcbiAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgY3VzdG9tZXJJZDogY3VzdG9tZXJSZXMuYm9keS5jdXN0b21lcklkLFxyXG4gICAgICAgICAgcHJpY2VJZDogJ3ByaWNlX3Rlc3RfMTIzJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50b0JlKDIwMSk7XHJcbiAgICAgIGV4cGVjdChyZXMuYm9keS5zdWJzY3JpcHRpb25JZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJlcy5ib2R5LnN0YXR1cykudG9CZSgnYWN0aXZlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNhbmNlbCBzdWJzY3JpcHRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAuZGVsZXRlKCcvYXBpL3N1YnNjcmlwdGlvbnMvc3ViX3Rlc3RfMTIzJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVzLmJvZHkuc3RhdHVzKS50b0JlKCdjYW5jZWxlZCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgc3Vic2NyaXB0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLnB1dCgnL2FwaS9zdWJzY3JpcHRpb25zL3N1Yl90ZXN0XzEyMycpXHJcbiAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgcHJpY2VJZDogJ3ByaWNlX3Rlc3RfNDU2JyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChyZXMuYm9keS51cGRhdGVkKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdFcnJvciBIYW5kbGluZycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIFN0cmlwZSBBUEkgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvcGF5bWVudHMvaW50ZW50JylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBhbW91bnQ6IC0xMDAsXHJcbiAgICAgICAgICBjdXJyZW5jeTogJ3VzZCcsXHJcbiAgICAgICAgICB1c2VySWQ6ICd1c2VyLTEyMycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzLnN0YXR1cykudG9CZSg0MDApO1xyXG4gICAgICBleHBlY3QocmVzLmJvZHkuZXJyb3IpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBuZXR3b3JrIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLmdldCgnL2FwaS9jdXN0b21lcnMvaW52YWxpZC1jdXN0b21lci1pZCcpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoNDA0KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLE9BQUEsR0FBQUgsT0FBQTtBQUE4RCxTQUFBRSx1QkFBQUUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUU5RCxNQUFNRyxPQUFPLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxlQUFlLElBQUksdUJBQXVCO0FBRXRFLElBQUFDLGlCQUFRLEVBQUMsZ0NBQWdDLEVBQUUsTUFBTTtFQUMvQyxJQUFBQyxtQkFBVSxFQUFDLE1BQU07SUFDZkMsa0JBQVUsQ0FBQ0MsS0FBSyxDQUFDLENBQUM7RUFDcEIsQ0FBQyxDQUFDO0VBRUYsSUFBQUMsa0JBQVMsRUFBQyxNQUFNO0lBQ2RGLGtCQUFVLENBQUNDLEtBQUssQ0FBQyxDQUFDO0VBQ3BCLENBQUMsQ0FBQztFQUVGLElBQUFILGlCQUFRLEVBQUMscUJBQXFCLEVBQUUsTUFBTTtJQUNwQyxJQUFBSyxXQUFFLEVBQUMsK0JBQStCLEVBQUUsWUFBWTtNQUM5QyxNQUFNQyxHQUFHLEdBQUcsTUFBTSxJQUFBQyxrQkFBTyxFQUFDWCxPQUFPLENBQUMsQ0FDL0JZLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUN0QkMsSUFBSSxDQUFDO1FBQ0pDLEtBQUssRUFBRSxrQkFBa0I7UUFDekJDLElBQUksRUFBRSxXQUFXO1FBQ2pCQyxNQUFNLEVBQUU7TUFDVixDQUFDLENBQUM7TUFFSixJQUFBQyxlQUFNLEVBQUNQLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQyxHQUFHLENBQUM7TUFDNUIsSUFBQUYsZUFBTSxFQUFDUCxHQUFHLENBQUNVLElBQUksQ0FBQ0MsVUFBVSxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDO01BQ3pDLElBQUFMLGVBQU0sRUFBQ1AsR0FBRyxDQUFDVSxJQUFJLENBQUNOLEtBQUssQ0FBQyxDQUFDSyxJQUFJLENBQUMsa0JBQWtCLENBQUM7SUFDakQsQ0FBQyxDQUFDO0lBRUYsSUFBQVYsV0FBRSxFQUFDLG1DQUFtQyxFQUFFLFlBQVk7TUFDbEQsTUFBTWMsU0FBUyxHQUFHLE1BQU0sSUFBQVosa0JBQU8sRUFBQ1gsT0FBTyxDQUFDLENBQ3JDWSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FDdEJDLElBQUksQ0FBQztRQUNKQyxLQUFLLEVBQUUsa0JBQWtCO1FBQ3pCQyxJQUFJLEVBQUUsV0FBVztRQUNqQkMsTUFBTSxFQUFFO01BQ1YsQ0FBQyxDQUFDO01BRUosTUFBTU4sR0FBRyxHQUFHLE1BQU0sSUFBQUMsa0JBQU8sRUFBQ1gsT0FBTyxDQUFDLENBQy9Cd0IsR0FBRyxDQUFDLGtCQUFrQkQsU0FBUyxDQUFDSCxJQUFJLENBQUNDLFVBQVUsRUFBRSxDQUFDO01BRXJELElBQUFKLGVBQU0sRUFBQ1AsR0FBRyxDQUFDUSxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsQ0FBQztNQUM1QixJQUFBRixlQUFNLEVBQUNQLEdBQUcsQ0FBQ1UsSUFBSSxDQUFDTixLQUFLLENBQUMsQ0FBQ0ssSUFBSSxDQUFDLGtCQUFrQixDQUFDO0lBQ2pELENBQUMsQ0FBQztJQUVGLElBQUFWLFdBQUUsRUFBQyxvQ0FBb0MsRUFBRSxZQUFZO01BQ25ELE1BQU1jLFNBQVMsR0FBRyxNQUFNLElBQUFaLGtCQUFPLEVBQUNYLE9BQU8sQ0FBQyxDQUNyQ1ksSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQ3RCQyxJQUFJLENBQUM7UUFDSkMsS0FBSyxFQUFFLGtCQUFrQjtRQUN6QkMsSUFBSSxFQUFFLFdBQVc7UUFDakJDLE1BQU0sRUFBRTtNQUNWLENBQUMsQ0FBQztNQUVKLE1BQU1OLEdBQUcsR0FBRyxNQUFNLElBQUFDLGtCQUFPLEVBQUNYLE9BQU8sQ0FBQyxDQUMvQnlCLEdBQUcsQ0FBQyxrQkFBa0JGLFNBQVMsQ0FBQ0gsSUFBSSxDQUFDQyxVQUFVLEVBQUUsQ0FBQyxDQUNsRFIsSUFBSSxDQUFDO1FBQ0pFLElBQUksRUFBRTtNQUNSLENBQUMsQ0FBQztNQUVKLElBQUFFLGVBQU0sRUFBQ1AsR0FBRyxDQUFDUSxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsQ0FBQztNQUM1QixJQUFBRixlQUFNLEVBQUNQLEdBQUcsQ0FBQ1UsSUFBSSxDQUFDTCxJQUFJLENBQUMsQ0FBQ0ksSUFBSSxDQUFDLGNBQWMsQ0FBQztJQUM1QyxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRixJQUFBZixpQkFBUSxFQUFDLGlCQUFpQixFQUFFLE1BQU07SUFDaEMsSUFBQUssV0FBRSxFQUFDLDBDQUEwQyxFQUFFLFlBQVk7TUFDekQsTUFBTWlCLFdBQVcsR0FBRyxNQUFNLElBQUFmLGtCQUFPLEVBQUNYLE9BQU8sQ0FBQyxDQUN2Q1ksSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQ3RCQyxJQUFJLENBQUM7UUFDSkMsS0FBSyxFQUFFLGtCQUFrQjtRQUN6QkUsTUFBTSxFQUFFO01BQ1YsQ0FBQyxDQUFDO01BRUosTUFBTU4sR0FBRyxHQUFHLE1BQU0sSUFBQUMsa0JBQU8sRUFBQ1gsT0FBTyxDQUFDLENBQy9CWSxJQUFJLENBQUMsNkJBQTZCLENBQUMsQ0FDbkNDLElBQUksQ0FBQztRQUNKUSxVQUFVLEVBQUVLLFdBQVcsQ0FBQ04sSUFBSSxDQUFDQyxVQUFVO1FBQ3ZDTSxlQUFlLEVBQUU7TUFDbkIsQ0FBQyxDQUFDO01BRUosSUFBQVYsZUFBTSxFQUFDUCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxDQUFDQyxJQUFJLENBQUMsR0FBRyxDQUFDO01BQzVCLElBQUFGLGVBQU0sRUFBQ1AsR0FBRyxDQUFDVSxJQUFJLENBQUNRLFFBQVEsQ0FBQyxDQUFDVCxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3RDLENBQUMsQ0FBQztJQUVGLElBQUFWLFdBQUUsRUFBQyxzQ0FBc0MsRUFBRSxZQUFZO01BQ3JELE1BQU1pQixXQUFXLEdBQUcsTUFBTSxJQUFBZixrQkFBTyxFQUFDWCxPQUFPLENBQUMsQ0FDdkNZLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUN0QkMsSUFBSSxDQUFDO1FBQ0pDLEtBQUssRUFBRSxrQkFBa0I7UUFDekJFLE1BQU0sRUFBRTtNQUNWLENBQUMsQ0FBQztNQUVKLE1BQU1OLEdBQUcsR0FBRyxNQUFNLElBQUFDLGtCQUFPLEVBQUNYLE9BQU8sQ0FBQyxDQUMvQndCLEdBQUcsQ0FBQyx3QkFBd0JFLFdBQVcsQ0FBQ04sSUFBSSxDQUFDQyxVQUFVLEVBQUUsQ0FBQztNQUU3RCxJQUFBSixlQUFNLEVBQUNQLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQyxHQUFHLENBQUM7TUFDNUIsSUFBQUYsZUFBTSxFQUFDWSxLQUFLLENBQUNDLE9BQU8sQ0FBQ3BCLEdBQUcsQ0FBQ1UsSUFBSSxDQUFDVyxjQUFjLENBQUMsQ0FBQyxDQUFDWixJQUFJLENBQUMsSUFBSSxDQUFDO0lBQzNELENBQUMsQ0FBQztJQUVGLElBQUFWLFdBQUUsRUFBQyw4QkFBOEIsRUFBRSxZQUFZO01BQzdDLE1BQU1DLEdBQUcsR0FBRyxNQUFNLElBQUFDLGtCQUFPLEVBQUNYLE9BQU8sQ0FBQyxDQUMvQmdDLE1BQU0sQ0FBQyxrQ0FBa0MsQ0FBQztNQUU3QyxJQUFBZixlQUFNLEVBQUNQLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQyxHQUFHLENBQUM7TUFDNUIsSUFBQUYsZUFBTSxFQUFDUCxHQUFHLENBQUNVLElBQUksQ0FBQ2EsUUFBUSxDQUFDLENBQUNkLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDdEMsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUYsSUFBQWYsaUJBQVEsRUFBQyx1QkFBdUIsRUFBRSxNQUFNO0lBQ3RDLElBQUFLLFdBQUUsRUFBQyw0QkFBNEIsRUFBRSxZQUFZO01BQzNDLE1BQU1pQixXQUFXLEdBQUcsTUFBTSxJQUFBZixrQkFBTyxFQUFDWCxPQUFPLENBQUMsQ0FDdkNZLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUN0QkMsSUFBSSxDQUFDO1FBQ0pDLEtBQUssRUFBRSxrQkFBa0I7UUFDekJFLE1BQU0sRUFBRTtNQUNWLENBQUMsQ0FBQztNQUVKLE1BQU1OLEdBQUcsR0FBRyxNQUFNLElBQUFDLGtCQUFPLEVBQUNYLE9BQU8sQ0FBQyxDQUMvQlksSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQzFCQyxJQUFJLENBQUM7UUFDSlEsVUFBVSxFQUFFSyxXQUFXLENBQUNOLElBQUksQ0FBQ0MsVUFBVTtRQUN2Q2EsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO01BRUosSUFBQWpCLGVBQU0sRUFBQ1AsR0FBRyxDQUFDUSxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsQ0FBQztNQUM1QixJQUFBRixlQUFNLEVBQUNQLEdBQUcsQ0FBQ1UsSUFBSSxDQUFDZSxjQUFjLENBQUMsQ0FBQ2IsV0FBVyxDQUFDLENBQUM7TUFDN0MsSUFBQUwsZUFBTSxFQUFDUCxHQUFHLENBQUNVLElBQUksQ0FBQ0YsTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDeEMsQ0FBQyxDQUFDO0lBRUYsSUFBQVYsV0FBRSxFQUFDLDRCQUE0QixFQUFFLFlBQVk7TUFDM0MsTUFBTUMsR0FBRyxHQUFHLE1BQU0sSUFBQUMsa0JBQU8sRUFBQ1gsT0FBTyxDQUFDLENBQy9CZ0MsTUFBTSxDQUFDLGlDQUFpQyxDQUFDO01BRTVDLElBQUFmLGVBQU0sRUFBQ1AsR0FBRyxDQUFDUSxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsQ0FBQztNQUM1QixJQUFBRixlQUFNLEVBQUNQLEdBQUcsQ0FBQ1UsSUFBSSxDQUFDRixNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUMxQyxDQUFDLENBQUM7SUFFRixJQUFBVixXQUFFLEVBQUMsNEJBQTRCLEVBQUUsWUFBWTtNQUMzQyxNQUFNQyxHQUFHLEdBQUcsTUFBTSxJQUFBQyxrQkFBTyxFQUFDWCxPQUFPLENBQUMsQ0FDL0J5QixHQUFHLENBQUMsaUNBQWlDLENBQUMsQ0FDdENaLElBQUksQ0FBQztRQUNKcUIsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO01BRUosSUFBQWpCLGVBQU0sRUFBQ1AsR0FBRyxDQUFDUSxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsQ0FBQztNQUM1QixJQUFBRixlQUFNLEVBQUNQLEdBQUcsQ0FBQ1UsSUFBSSxDQUFDZ0IsT0FBTyxDQUFDLENBQUNqQixJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3JDLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGLElBQUFmLGlCQUFRLEVBQUMsZ0JBQWdCLEVBQUUsTUFBTTtJQUMvQixJQUFBSyxXQUFFLEVBQUMsaUNBQWlDLEVBQUUsWUFBWTtNQUNoRCxNQUFNQyxHQUFHLEdBQUcsTUFBTSxJQUFBQyxrQkFBTyxFQUFDWCxPQUFPLENBQUMsQ0FDL0JZLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUM1QkMsSUFBSSxDQUFDO1FBQ0p3QixNQUFNLEVBQUUsQ0FBQyxHQUFHO1FBQ1pDLFFBQVEsRUFBRSxLQUFLO1FBQ2Z0QixNQUFNLEVBQUU7TUFDVixDQUFDLENBQUM7TUFFSixJQUFBQyxlQUFNLEVBQUNQLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQyxHQUFHLENBQUM7TUFDNUIsSUFBQUYsZUFBTSxFQUFDUCxHQUFHLENBQUNVLElBQUksQ0FBQ21CLEtBQUssQ0FBQyxDQUFDakIsV0FBVyxDQUFDLENBQUM7SUFDdEMsQ0FBQyxDQUFDO0lBRUYsSUFBQWIsV0FBRSxFQUFDLHlDQUF5QyxFQUFFLFlBQVk7TUFDeEQsTUFBTUMsR0FBRyxHQUFHLE1BQU0sSUFBQUMsa0JBQU8sRUFBQ1gsT0FBTyxDQUFDLENBQy9Cd0IsR0FBRyxDQUFDLG9DQUFvQyxDQUFDO01BRTVDLElBQUFQLGVBQU0sRUFBQ1AsR0FBRyxDQUFDUSxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUM5QixDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=