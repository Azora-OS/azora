{"version":3,"names":["_globals","require","_testUtils","_supertest","_interopRequireDefault","e","__esModule","default","API_URL","process","env","MINT_SERVICE_URL","describe","authToken","testUser","beforeEach","userFactory","buildStudent","authHelper","generateToken","userId","id","email","role","it","res","request","post","set","expect","status","toBe","body","wallet","balance","get","toBeDefined","Array","isArray","transactions","send","activityType","courseId","lessonId","reward","toBeGreaterThan","amount","transaction","i","error","toContain","recipient","build","recipientId","currency","initialBalance","finalBalance","description","clientSecret","paymentIntentId","price","totalSupply","circulatingSupply","method","bankDetails","accountNumber","routingNumber","withdrawal","proofType","proofData","score","tokensMinted","transactionId","totalMinted","duration","stakeId","pendingRewards","stakeRes","amountReturned"],"sources":["mint-comprehensive.test.ts"],"sourcesContent":["import { describe, it, expect, beforeEach } from '@jest/globals';\nimport { userFactory, authHelper } from '@azora/test-utils';\nimport request from 'supertest';\n\nconst API_URL = process.env.MINT_SERVICE_URL || 'http://localhost:4003';\n\ndescribe('Mint Service - Comprehensive Tests', () => {\n  let authToken: string;\n  let testUser: any;\n\n  beforeEach(async () => {\n    testUser = userFactory.buildStudent();\n    authToken = authHelper.generateToken({\n      userId: testUser.id!,\n      email: testUser.email,\n      role: testUser.role,\n    });\n  });\n\n  describe('Wallet Management', () => {\n    it('should create wallet on user registration', async () => {\n      const res = await request(API_URL)\n        .post('/api/wallet/create')\n        .set('Authorization', `Bearer ${authToken}`);\n      \n      expect(res.status).toBe(201);\n      expect(res.body.wallet.userId).toBe(testUser.id);\n      expect(res.body.wallet.balance).toBe(0);\n    });\n\n    it('should get wallet balance', async () => {\n      await request(API_URL)\n        .post('/api/wallet/create')\n        .set('Authorization', `Bearer ${authToken}`);\n      \n      const res = await request(API_URL)\n        .get('/api/wallet/balance')\n        .set('Authorization', `Bearer ${authToken}`);\n      \n      expect(res.status).toBe(200);\n      expect(res.body.balance).toBeDefined();\n    });\n\n    it('should get wallet transactions', async () => {\n      const res = await request(API_URL)\n        .get('/api/wallet/transactions')\n        .set('Authorization', `Bearer ${authToken}`);\n      \n      expect(res.status).toBe(200);\n      expect(Array.isArray(res.body.transactions)).toBe(true);\n    });\n  });\n\n  describe('Mining Engine (Proof-of-Knowledge)', () => {\n    beforeEach(async () => {\n      await request(API_URL)\n        .post('/api/wallet/create')\n        .set('Authorization', `Bearer ${authToken}`);\n    });\n\n    it('should calculate mining rewards for lesson completion', async () => {\n      const res = await request(API_URL)\n        .post('/api/mining/calculate')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({\n          activityType: 'lesson_completion',\n          courseId: 'course-123',\n          lessonId: 'lesson-456',\n        });\n      \n      expect(res.status).toBe(200);\n      expect(res.body.reward).toBeGreaterThan(0);\n    });\n\n    it('should award AZR tokens for learning activity', async () => {\n      const res = await request(API_URL)\n        .post('/api/mining/award')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({\n          activityType: 'lesson_completion',\n          amount: 10,\n        });\n      \n      expect(res.status).toBe(200);\n      expect(res.body.transaction.amount).toBe(10);\n    });\n\n    it('should enforce daily mining limits', async () => {\n      // Award tokens multiple times\n      for (let i = 0; i < 10; i++) {\n        await request(API_URL)\n          .post('/api/mining/award')\n          .set('Authorization', `Bearer ${authToken}`)\n          .send({ activityType: 'lesson_completion', amount: 100 });\n      }\n      \n      // Should hit limit\n      const res = await request(API_URL)\n        .post('/api/mining/award')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({ activityType: 'lesson_completion', amount: 100 });\n      \n      expect(res.status).toBe(429);\n      expect(res.body.error).toContain('limit');\n    });\n  });\n\n  describe('Transaction Processing', () => {\n    beforeEach(async () => {\n      await request(API_URL)\n        .post('/api/wallet/create')\n        .set('Authorization', `Bearer ${authToken}`);\n      \n      // Add some balance\n      await request(API_URL)\n        .post('/api/mining/award')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({ activityType: 'lesson_completion', amount: 100 });\n    });\n\n    it('should process transfer between wallets', async () => {\n      const recipient = userFactory.build();\n      \n      const res = await request(API_URL)\n        .post('/api/transactions/transfer')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({\n          recipientId: recipient.id,\n          amount: 10,\n          currency: 'AZR',\n        });\n      \n      expect(res.status).toBe(200);\n      expect(res.body.transaction.amount).toBe(10);\n    });\n\n    it('should reject transfer with insufficient balance', async () => {\n      const recipient = userFactory.build();\n      \n      const res = await request(API_URL)\n        .post('/api/transactions/transfer')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({\n          recipientId: recipient.id,\n          amount: 1000,\n          currency: 'AZR',\n        });\n      \n      expect(res.status).toBe(400);\n      expect(res.body.error).toContain('insufficient');\n    });\n\n    it('should maintain balance integrity', async () => {\n      const initialBalance = await request(API_URL)\n        .get('/api/wallet/balance')\n        .set('Authorization', `Bearer ${authToken}`);\n      \n      const recipient = userFactory.build();\n      await request(API_URL)\n        .post('/api/transactions/transfer')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({\n          recipientId: recipient.id,\n          amount: 10,\n          currency: 'AZR',\n        });\n      \n      const finalBalance = await request(API_URL)\n        .get('/api/wallet/balance')\n        .set('Authorization', `Bearer ${authToken}`);\n      \n      expect(finalBalance.body.balance).toBe(initialBalance.body.balance - 10);\n    });\n  });\n\n  describe('Payment Processing (Stripe)', () => {\n    it('should create payment intent', async () => {\n      const res = await request(API_URL)\n        .post('/api/payments/create-intent')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({\n          amount: 1000,\n          currency: 'usd',\n          description: 'Course purchase',\n        });\n      \n      expect(res.status).toBe(200);\n      expect(res.body.clientSecret).toBeDefined();\n    });\n\n    it('should process successful payment', async () => {\n      const res = await request(API_URL)\n        .post('/api/payments/process')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({\n          paymentIntentId: 'pi_test_123',\n          amount: 1000,\n        });\n      \n      expect(res.status).toBe(200);\n      expect(res.body.status).toBe('succeeded');\n    });\n  });\n\n  describe('Token Economics', () => {\n    it('should get current AZR price', async () => {\n      const res = await request(API_URL)\n        .get('/api/economics/price');\n      \n      expect(res.status).toBe(200);\n      expect(res.body.price).toBeGreaterThan(0);\n    });\n\n    it('should get token supply metrics', async () => {\n      const res = await request(API_URL)\n        .get('/api/economics/supply');\n      \n      expect(res.status).toBe(200);\n      expect(res.body.totalSupply).toBeDefined();\n      expect(res.body.circulatingSupply).toBeDefined();\n    });\n\n    it('should calculate UBI distribution', async () => {\n      const res = await request(API_URL)\n        .get('/api/economics/ubi')\n        .set('Authorization', `Bearer ${authToken}`);\n      \n      expect(res.status).toBe(200);\n      expect(res.body.amount).toBeGreaterThan(0);\n    });\n  });\n\n  describe('Withdrawal', () => {\n    beforeEach(async () => {\n      await request(API_URL)\n        .post('/api/wallet/create')\n        .set('Authorization', `Bearer ${authToken}`);\n      \n      // Add balance\n      await request(API_URL)\n        .post('/api/mining/award')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({ activityType: 'lesson_completion', amount: 1000 });\n    });\n\n    it('should initiate withdrawal request', async () => {\n      const res = await request(API_URL)\n        .post('/api/wallet/withdraw')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({\n          amount: 100,\n          method: 'bank_transfer',\n          bankDetails: {\n            accountNumber: '1234567890',\n            routingNumber: '987654321',\n          },\n        });\n      \n      expect(res.status).toBe(200);\n      expect(res.body.withdrawal.status).toBe('pending');\n    });\n\n    it('should enforce minimum withdrawal amount', async () => {\n      const res = await request(API_URL)\n        .post('/api/wallet/withdraw')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({\n          amount: 1,\n          method: 'bank_transfer',\n        });\n      \n      expect(res.status).toBe(400);\n      expect(res.body.error).toContain('minimum');\n    });\n  });\n\n  describe('Token Minting', () => {\n    it('should mint tokens for valid proof-of-knowledge', async () => {\n      const res = await request(API_URL)\n        .post('/api/mint/tokens')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({\n          proofType: 'course_completion',\n          proofData: {\n            courseId: 'course-123',\n            score: 95,\n          },\n        });\n      \n      expect(res.status).toBe(200);\n      expect(res.body.tokensMinted).toBeGreaterThan(0);\n      expect(res.body.transactionId).toBeDefined();\n    });\n\n    it('should reject minting without valid proof', async () => {\n      const res = await request(API_URL)\n        .post('/api/mint/tokens')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({\n          proofType: 'invalid_proof',\n        });\n      \n      expect(res.status).toBe(400);\n      expect(res.body.error).toContain('proof');\n    });\n\n    it('should track total minted supply', async () => {\n      const res = await request(API_URL)\n        .get('/api/mint/supply');\n      \n      expect(res.status).toBe(200);\n      expect(res.body.totalMinted).toBeDefined();\n      expect(res.body.circulatingSupply).toBeDefined();\n    });\n  });\n\n  describe('Staking Mechanism', () => {\n    beforeEach(async () => {\n      await request(API_URL)\n        .post('/api/wallet/create')\n        .set('Authorization', `Bearer ${authToken}`);\n      \n      await request(API_URL)\n        .post('/api/mining/award')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({ activityType: 'lesson_completion', amount: 500 });\n    });\n\n    it('should stake tokens', async () => {\n      const res = await request(API_URL)\n        .post('/api/staking/stake')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({\n          amount: 100,\n          duration: 30,\n        });\n      \n      expect(res.status).toBe(200);\n      expect(res.body.stakeId).toBeDefined();\n      expect(res.body.amount).toBe(100);\n      expect(res.body.status).toBe('active');\n    });\n\n    it('should calculate staking rewards', async () => {\n      await request(API_URL)\n        .post('/api/staking/stake')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({ amount: 100, duration: 30 });\n      \n      const res = await request(API_URL)\n        .get('/api/staking/rewards')\n        .set('Authorization', `Bearer ${authToken}`);\n      \n      expect(res.status).toBe(200);\n      expect(res.body.pendingRewards).toBeDefined();\n    });\n\n    it('should unstake tokens after duration', async () => {\n      const stakeRes = await request(API_URL)\n        .post('/api/staking/stake')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({ amount: 100, duration: 0 });\n      \n      const res = await request(API_URL)\n        .post('/api/staking/unstake')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({ stakeId: stakeRes.body.stakeId });\n      \n      expect(res.status).toBe(200);\n      expect(res.body.amountReturned).toBe(100);\n    });\n\n    it('should reject unstaking before duration ends', async () => {\n      const stakeRes = await request(API_URL)\n        .post('/api/staking/stake')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({ amount: 100, duration: 365 });\n      \n      const res = await request(API_URL)\n        .post('/api/staking/unstake')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({ stakeId: stakeRes.body.stakeId });\n      \n      expect(res.status).toBe(400);\n      expect(res.body.error).toContain('duration');\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}