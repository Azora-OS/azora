{"version":3,"names":["_index","require","_ubuntuValidator","_validationRulesEngine","describe","it","expect","SERVICE_INFO","name","toBe","version","description","toContain","health","healthCheck","status","timestamp","toBeDefined","validator","UbuntuValidator","config","getConfig","collectiveBenefitWeight","knowledgeSharingWeight","inclusiveDesignWeight","toThrow","engine","ValidationRulesEngine","summary","getRulesSummary","total","toBeGreaterThan","enabled","byPrinciple"],"sources":["setup.test.ts"],"sourcesContent":["/**\r\n * Setup Test - Verifies service structure is correctly configured\r\n */\r\n\r\nimport { SERVICE_INFO, healthCheck } from '../index';\r\nimport { UbuntuValidator } from '../validators/ubuntu-validator';\r\nimport { ValidationRulesEngine } from '../validators/validation-rules-engine';\r\n\r\ndescribe('Constitutional AI Service Setup', () => {\r\n  describe('Service Metadata', () => {\r\n    it('should have correct service information', () => {\r\n      expect(SERVICE_INFO.name).toBe('Constitutional AI Service');\r\n      expect(SERVICE_INFO.version).toBe('1.0.0');\r\n      expect(SERVICE_INFO.description).toContain('Ubuntu principles');\r\n    });\r\n\r\n    it('should pass health check', () => {\r\n      const health = healthCheck();\r\n      expect(health.status).toBe('healthy');\r\n      expect(health.timestamp).toBeDefined();\r\n    });\r\n  });\r\n\r\n  describe('Ubuntu Validator', () => {\r\n    it('should instantiate with default config', () => {\r\n      const validator = new UbuntuValidator();\r\n      expect(validator).toBeDefined();\r\n      \r\n      const config = validator.getConfig();\r\n      expect(config.collectiveBenefitWeight).toBeDefined();\r\n      expect(config.knowledgeSharingWeight).toBeDefined();\r\n      expect(config.inclusiveDesignWeight).toBeDefined();\r\n    });\r\n\r\n    it('should validate weights sum to 1.0', () => {\r\n      expect(() => {\r\n        new UbuntuValidator({\r\n          collectiveBenefitWeight: 0.5,\r\n          knowledgeSharingWeight: 0.3,\r\n          inclusiveDesignWeight: 0.1 // Sum = 0.9, should fail\r\n        });\r\n      }).toThrow('weights must sum to 1.0');\r\n    });\r\n  });\r\n\r\n  describe('Validation Rules Engine', () => {\r\n    it('should initialize with default rules', () => {\r\n      const engine = new ValidationRulesEngine();\r\n      const summary = engine.getRulesSummary();\r\n      \r\n      expect(summary.total).toBeGreaterThan(0);\r\n      expect(summary.enabled).toBeGreaterThan(0);\r\n      expect(summary.byPrinciple).toBeDefined();\r\n    });\r\n\r\n    it('should have rules for all Ubuntu principles', () => {\r\n      const engine = new ValidationRulesEngine();\r\n      const summary = engine.getRulesSummary();\r\n      \r\n      expect(summary.byPrinciple['collective-benefit']).toBeGreaterThan(0);\r\n      expect(summary.byPrinciple['knowledge-sharing']).toBeGreaterThan(0);\r\n      expect(summary.byPrinciple['inclusive-design']).toBeGreaterThan(0);\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}