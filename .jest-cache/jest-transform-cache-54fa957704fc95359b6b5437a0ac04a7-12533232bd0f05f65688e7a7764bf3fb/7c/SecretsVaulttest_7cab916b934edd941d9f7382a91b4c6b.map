{"version":3,"names":["_getJestObj","mock","app","getPath","jest","fn","name","_SecretsVault","require","fs","_interopRequireWildcard","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","describe","vault","mockProjectPath","beforeEach","clearAllMocks","SecretsVault","readFile","mockImplementation","filePath","includes","Promise","resolve","Buffer","from","repeat","JSON","stringify","version","secrets","Error","writeFile","mockResolvedValue","undefined","access","mkdir","it","initialize","expect","toHaveBeenCalled","toHaveBeenCalledWith","stringContaining","any","objectContaining","mode","mockRejectedValue","String","setSecret","uninitializedVault","rejects","toThrow","globalVault","auditLog","getAuditLog","toHaveLength","toMatchObject","operation","key","scope","lastWrite","calls","find","value","getSecret","toBe","toBeNull","some","log","result","deleteSecret","filter","pop","keys","listSecrets","toContain","toEqual","originalData","encrypted","encrypt","toHaveProperty","encryptedData","not","decrypted","decrypt","data","encrypted1","encrypted2","iv","replace","length","toBeGreaterThanOrEqual","map","toBeGreaterThan","clearAuditLog","before","Date","after","entry","timestamp","toBeInstanceOf","getTime","toBeLessThanOrEqual"],"sources":["SecretsVault.test.ts"],"sourcesContent":["import { SecretsVault } from '../SecretsVault';\nimport * as fs from 'fs/promises';\nimport * as path from 'path';\nimport { app } from 'electron';\n\n// Mock electron app\njest.mock('electron', () => ({\n  app: {\n    getPath: jest.fn((name: string) => {\n      if (name === 'userData') {\n        return '/mock/user/data';\n      }\n      return '/mock/path';\n    }),\n  },\n}));\n\n// Mock fs/promises\njest.mock('fs/promises');\n\ndescribe('SecretsVault', () => {\n  let vault: SecretsVault;\n  const mockProjectPath = '/mock/project';\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    vault = new SecretsVault(mockProjectPath);\n    \n    // Mock fs operations\n    (fs.readFile as jest.Mock).mockImplementation((filePath: string) => {\n      if (filePath.includes('.master-key')) {\n        // Return a mock 32-byte key\n        return Promise.resolve(Buffer.from('a'.repeat(64), 'hex'));\n      }\n      if (filePath.includes('secrets-vault.json')) {\n        return Promise.resolve(JSON.stringify({\n          version: '1.0.0',\n          secrets: {},\n        }));\n      }\n      throw new Error('File not found');\n    });\n\n    (fs.writeFile as jest.Mock).mockResolvedValue(undefined);\n    (fs.access as jest.Mock).mockResolvedValue(undefined);\n    (fs.mkdir as jest.Mock).mockResolvedValue(undefined);\n  });\n\n  describe('initialization', () => {\n    it('should initialize vault successfully', async () => {\n      await vault.initialize();\n      \n      expect(fs.readFile).toHaveBeenCalled();\n      expect(fs.access).toHaveBeenCalled();\n    });\n\n    it('should generate master key if not exists', async () => {\n      (fs.readFile as jest.Mock).mockImplementation((filePath: string) => {\n        if (filePath.includes('.master-key')) {\n          throw new Error('File not found');\n        }\n        return Promise.resolve(JSON.stringify({ version: '1.0.0', secrets: {} }));\n      });\n\n      await vault.initialize();\n      \n      expect(fs.writeFile).toHaveBeenCalledWith(\n        expect.stringContaining('.master-key'),\n        expect.any(Buffer),\n        expect.objectContaining({ mode: 0o600 })\n      );\n    });\n\n    it('should create vault files if they do not exist', async () => {\n      (fs.access as jest.Mock).mockRejectedValue(new Error('File not found'));\n\n      await vault.initialize();\n      \n      expect(fs.mkdir).toHaveBeenCalled();\n      expect(fs.writeFile).toHaveBeenCalledWith(\n        expect.stringContaining('secrets-vault.json'),\n        expect.any(String),\n        expect.objectContaining({ mode: 0o600 })\n      );\n    });\n  });\n\n  describe('setSecret', () => {\n    beforeEach(async () => {\n      await vault.initialize();\n    });\n\n    it('should store a secret in global scope', async () => {\n      await vault.setSecret('API_KEY', 'secret-value-123', 'global');\n      \n      expect(fs.writeFile).toHaveBeenCalledWith(\n        expect.stringContaining('secrets-vault.json'),\n        expect.stringContaining('API_KEY'),\n        expect.objectContaining({ mode: 0o600 })\n      );\n    });\n\n    it('should store a secret in project scope', async () => {\n      await vault.setSecret('DB_PASSWORD', 'db-secret-456', 'project');\n      \n      expect(fs.writeFile).toHaveBeenCalledWith(\n        expect.stringContaining('.azstudio'),\n        expect.any(String),\n        expect.objectContaining({ mode: 0o600 })\n      );\n    });\n\n    it('should throw error if vault not initialized', async () => {\n      const uninitializedVault = new SecretsVault();\n      \n      await expect(\n        uninitializedVault.setSecret('KEY', 'value')\n      ).rejects.toThrow('Vault not initialized');\n    });\n\n    it('should throw error for project scope without project path', async () => {\n      const globalVault = new SecretsVault();\n      await globalVault.initialize();\n      \n      await expect(\n        globalVault.setSecret('KEY', 'value', 'project')\n      ).rejects.toThrow('Project vault not available');\n    });\n\n    it('should log the write operation', async () => {\n      await vault.setSecret('TEST_KEY', 'test-value', 'global');\n      \n      const auditLog = vault.getAuditLog();\n      expect(auditLog).toHaveLength(1);\n      expect(auditLog[0]).toMatchObject({\n        operation: 'write',\n        key: 'TEST_KEY',\n        scope: 'global',\n      });\n    });\n  });\n\n  describe('getSecret', () => {\n    beforeEach(async () => {\n      await vault.initialize();\n    });\n\n    it('should retrieve a stored secret', async () => {\n      // First store a secret\n      await vault.setSecret('API_KEY', 'secret-value-123', 'global');\n      \n      // Mock reading the stored secret\n      (fs.readFile as jest.Mock).mockImplementation((filePath: string) => {\n        if (filePath.includes('secrets-vault.json')) {\n          // Get the encrypted data from the last writeFile call\n          const lastWrite = (fs.writeFile as jest.Mock).mock.calls.find(\n            call => call[0].includes('secrets-vault.json')\n          );\n          return Promise.resolve(lastWrite[1]);\n        }\n        return Promise.resolve(Buffer.from('a'.repeat(64), 'hex'));\n      });\n      \n      const value = await vault.getSecret('API_KEY', 'global');\n      expect(value).toBe('secret-value-123');\n    });\n\n    it('should return null for non-existent secret', async () => {\n      const value = await vault.getSecret('NON_EXISTENT', 'global');\n      expect(value).toBeNull();\n    });\n\n    it('should log the read operation', async () => {\n      await vault.setSecret('TEST_KEY', 'test-value', 'global');\n      \n      // Mock reading\n      (fs.readFile as jest.Mock).mockImplementation((filePath: string) => {\n        if (filePath.includes('secrets-vault.json')) {\n          const lastWrite = (fs.writeFile as jest.Mock).mock.calls.find(\n            call => call[0].includes('secrets-vault.json')\n          );\n          return Promise.resolve(lastWrite[1]);\n        }\n        return Promise.resolve(Buffer.from('a'.repeat(64), 'hex'));\n      });\n      \n      await vault.getSecret('TEST_KEY', 'global');\n      \n      const auditLog = vault.getAuditLog();\n      expect(auditLog.some(log => log.operation === 'read')).toBe(true);\n    });\n  });\n\n  describe('deleteSecret', () => {\n    beforeEach(async () => {\n      await vault.initialize();\n    });\n\n    it('should delete an existing secret', async () => {\n      await vault.setSecret('TO_DELETE', 'value', 'global');\n      \n      // Mock reading the vault with the secret\n      (fs.readFile as jest.Mock).mockImplementation((filePath: string) => {\n        if (filePath.includes('secrets-vault.json')) {\n          const lastWrite = (fs.writeFile as jest.Mock).mock.calls.find(\n            call => call[0].includes('secrets-vault.json')\n          );\n          return Promise.resolve(lastWrite[1]);\n        }\n        return Promise.resolve(Buffer.from('a'.repeat(64), 'hex'));\n      });\n      \n      const result = await vault.deleteSecret('TO_DELETE', 'global');\n      expect(result).toBe(true);\n    });\n\n    it('should return false for non-existent secret', async () => {\n      const result = await vault.deleteSecret('NON_EXISTENT', 'global');\n      expect(result).toBe(false);\n    });\n\n    it('should log the delete operation', async () => {\n      await vault.setSecret('TO_DELETE', 'value', 'global');\n      \n      (fs.readFile as jest.Mock).mockImplementation((filePath: string) => {\n        if (filePath.includes('secrets-vault.json')) {\n          const lastWrite = (fs.writeFile as jest.Mock).mock.calls.find(\n            call => call[0].includes('secrets-vault.json')\n          );\n          return Promise.resolve(lastWrite[1]);\n        }\n        return Promise.resolve(Buffer.from('a'.repeat(64), 'hex'));\n      });\n      \n      await vault.deleteSecret('TO_DELETE', 'global');\n      \n      const auditLog = vault.getAuditLog();\n      expect(auditLog.some(log => log.operation === 'delete')).toBe(true);\n    });\n  });\n\n  describe('listSecrets', () => {\n    beforeEach(async () => {\n      await vault.initialize();\n    });\n\n    it('should list all secret keys in global scope', async () => {\n      await vault.setSecret('KEY1', 'value1', 'global');\n      await vault.setSecret('KEY2', 'value2', 'global');\n      \n      (fs.readFile as jest.Mock).mockImplementation((filePath: string) => {\n        if (filePath.includes('secrets-vault.json') && !filePath.includes('.azstudio')) {\n          const lastWrite = (fs.writeFile as jest.Mock).mock.calls\n            .filter(call => call[0].includes('secrets-vault.json') && !call[0].includes('.azstudio'))\n            .pop();\n          return Promise.resolve(lastWrite[1]);\n        }\n        return Promise.resolve(Buffer.from('a'.repeat(64), 'hex'));\n      });\n      \n      const keys = await vault.listSecrets('global');\n      expect(keys).toContain('KEY1');\n      expect(keys).toContain('KEY2');\n    });\n\n    it('should return empty array for project scope without project path', async () => {\n      const globalVault = new SecretsVault();\n      await globalVault.initialize();\n      \n      const keys = await globalVault.listSecrets('project');\n      expect(keys).toEqual([]);\n    });\n  });\n\n  describe('encryption/decryption', () => {\n    beforeEach(async () => {\n      await vault.initialize();\n    });\n\n    it('should encrypt and decrypt data correctly', async () => {\n      const originalData = 'sensitive-information-123';\n      \n      const encrypted = vault.encrypt(originalData);\n      expect(encrypted).toHaveProperty('iv');\n      expect(encrypted).toHaveProperty('encryptedData');\n      expect(encrypted).toHaveProperty('authTag');\n      expect(encrypted.encryptedData).not.toBe(originalData);\n      \n      const decrypted = vault.decrypt(encrypted);\n      expect(decrypted).toBe(originalData);\n    });\n\n    it('should produce different ciphertext for same plaintext', async () => {\n      const data = 'test-data';\n      \n      const encrypted1 = vault.encrypt(data);\n      const encrypted2 = vault.encrypt(data);\n      \n      expect(encrypted1.encryptedData).not.toBe(encrypted2.encryptedData);\n      expect(encrypted1.iv).not.toBe(encrypted2.iv);\n    });\n\n    it('should fail decryption with tampered data', async () => {\n      const encrypted = vault.encrypt('test-data');\n      \n      // Tamper with encrypted data\n      encrypted.encryptedData = encrypted.encryptedData.replace('a', 'b');\n      \n      expect(() => vault.decrypt(encrypted)).toThrow();\n    });\n  });\n\n  describe('audit log', () => {\n    beforeEach(async () => {\n      await vault.initialize();\n    });\n\n    it('should track all operations in audit log', async () => {\n      await vault.setSecret('KEY1', 'value1', 'global');\n      \n      (fs.readFile as jest.Mock).mockImplementation((filePath: string) => {\n        if (filePath.includes('secrets-vault.json')) {\n          const lastWrite = (fs.writeFile as jest.Mock).mock.calls.find(\n            call => call[0].includes('secrets-vault.json')\n          );\n          return Promise.resolve(lastWrite[1]);\n        }\n        return Promise.resolve(Buffer.from('a'.repeat(64), 'hex'));\n      });\n      \n      await vault.getSecret('KEY1', 'global');\n      await vault.deleteSecret('KEY1', 'global');\n      \n      const auditLog = vault.getAuditLog();\n      expect(auditLog.length).toBeGreaterThanOrEqual(3);\n      expect(auditLog.map(log => log.operation)).toContain('write');\n      expect(auditLog.map(log => log.operation)).toContain('read');\n      expect(auditLog.map(log => log.operation)).toContain('delete');\n    });\n\n    it('should clear audit log', async () => {\n      await vault.setSecret('KEY1', 'value1', 'global');\n      expect(vault.getAuditLog().length).toBeGreaterThan(0);\n      \n      vault.clearAuditLog();\n      expect(vault.getAuditLog()).toEqual([]);\n    });\n\n    it('should include timestamp in audit entries', async () => {\n      const before = new Date();\n      await vault.setSecret('KEY1', 'value1', 'global');\n      const after = new Date();\n      \n      const auditLog = vault.getAuditLog();\n      const entry = auditLog[0];\n      \n      expect(entry.timestamp).toBeInstanceOf(Date);\n      expect(entry.timestamp.getTime()).toBeGreaterThanOrEqual(before.getTime());\n      expect(entry.timestamp.getTime()).toBeLessThanOrEqual(after.getTime());\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}