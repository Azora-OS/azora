3c3043758fe5cbb202942386bcd94f1e
"use strict";

var _globals = require("@jest/globals");
var _costOptimizer = require("../../services/ai-routing/cost-optimizer");
var _tierSelector = require("../../services/ai-routing/tier-selector");
var _responseCache = require("../../services/ai-routing/response-cache");
var _hierarchicalRouter = require("../../services/ai-routing/hierarchical-router");
var _routingMetricsTracker = require("../../services/ai-routing/routing-metrics-tracker");
(0, _globals.describe)('AI Routing Pipeline Integration Tests', () => {
  let costOptimizer;
  let tierSelector;
  let responseCache;
  let hierarchicalRouter;
  let metricsTracker;
  (0, _globals.beforeAll)(() => {
    costOptimizer = new _costOptimizer.CostOptimizer();
    tierSelector = new _tierSelector.TierSelector();
    responseCache = new _responseCache.ResponseCache();
    hierarchicalRouter = new _hierarchicalRouter.HierarchicalRouter(costOptimizer, tierSelector, responseCache);
    metricsTracker = new _routingMetricsTracker.RoutingMetricsTracker();
  });
  (0, _globals.afterAll)(() => {
    responseCache.clear();
  });
  (0, _globals.describe)('Routing Decision Making', () => {
    (0, _globals.it)('should route simple queries to local LLM', async () => {
      const query = 'What is 2+2?';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      (0, _globals.expect)(decision).toBeDefined();
      (0, _globals.expect)(decision.tier).toBe('local');
      (0, _globals.expect)(decision.model).toBeDefined();
    });
    (0, _globals.it)('should route complex queries to external LLM', async () => {
      const query = 'Explain quantum computing and its applications in cryptography.';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      (0, _globals.expect)(decision).toBeDefined();
      (0, _globals.expect)(['external', 'premium']).toContain(decision.tier);
    });
    (0, _globals.it)('should route knowledge-intensive queries to RAP', async () => {
      const query = 'What are Azora\'s core features?';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      (0, _globals.expect)(decision).toBeDefined();
      (0, _globals.expect)(decision.useRAP).toBe(true);
    });
    (0, _globals.it)('should consider cost in routing decision', async () => {
      const query = 'simple query';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      (0, _globals.expect)(decision.estimatedCost).toBeDefined();
      (0, _globals.expect)(decision.estimatedCost).toBeGreaterThanOrEqual(0);
    });
    (0, _globals.it)('should provide reasoning for routing decision', async () => {
      const query = 'test query';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      (0, _globals.expect)(decision.reasoning).toBeDefined();
      (0, _globals.expect)(decision.reasoning.length).toBeGreaterThan(0);
    });
  });
  (0, _globals.describe)('Fallback Logic', () => {
    (0, _globals.it)('should fallback to local LLM if external fails', async () => {
      const query = 'complex query';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      const fallbackDecision = hierarchicalRouter.getFallbackDecision(decision);
      (0, _globals.expect)(fallbackDecision).toBeDefined();
      (0, _globals.expect)(fallbackDecision.tier).toBe('local');
    });
    (0, _globals.it)('should fallback to cache if all services fail', async () => {
      const query = 'previously answered query';
      const cachedResponse = 'cached answer';
      responseCache.set(query, cachedResponse);
      const fallbackDecision = hierarchicalRouter.getFallbackDecision({
        tier: 'external',
        model: 'gpt-4',
        useRAP: false,
        estimatedCost: 0.01,
        reasoning: 'test'
      });
      (0, _globals.expect)(fallbackDecision.useCache).toBe(true);
    });
    (0, _globals.it)('should track fallback events', async () => {
      const query = 'test query';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      const fallbackDecision = hierarchicalRouter.getFallbackDecision(decision);
      const metrics = metricsTracker.getMetrics();
      (0, _globals.expect)(metrics.fallbackCount).toBeGreaterThanOrEqual(0);
    });
    (0, _globals.it)('should limit fallback depth', async () => {
      const query = 'test query';
      let decision = {
        tier: 'external',
        model: 'gpt-4',
        useRAP: false,
        estimatedCost: 0.01,
        reasoning: 'test'
      };
      let fallbackCount = 0;
      while (fallbackCount < 10) {
        decision = hierarchicalRouter.getFallbackDecision(decision);
        fallbackCount++;
        if (decision.tier === 'local' || decision.useCache) {
          break;
        }
      }
      (0, _globals.expect)(fallbackCount).toBeLessThan(10);
    });
  });
  (0, _globals.describe)('Cost Optimization', () => {
    (0, _globals.it)('should calculate query cost accurately', () => {
      const query = 'test query';
      const cost = costOptimizer.calculateCost(query, 'local');
      (0, _globals.expect)(cost).toBeDefined();
      (0, _globals.expect)(cost).toBeGreaterThanOrEqual(0);
      (0, _globals.expect)(typeof cost).toBe('number');
    });
    (0, _globals.it)('should prefer cheaper options when quality is similar', async () => {
      const query = 'simple query';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      (0, _globals.expect)(decision.tier).toBe('local');
      (0, _globals.expect)(decision.estimatedCost).toBeLessThan(0.01);
    });
    (0, _globals.it)('should balance cost and quality', async () => {
      const query = 'moderately complex query';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      (0, _globals.expect)(decision).toBeDefined();
      (0, _globals.expect)(decision.estimatedCost).toBeDefined();
      (0, _globals.expect)(decision.qualityScore).toBeDefined();
    });
    (0, _globals.it)('should track total cost across queries', async () => {
      const queries = ['simple query', 'another simple query', 'complex query requiring external LLM'];
      let totalCost = 0;
      for (const query of queries) {
        const decision = await hierarchicalRouter.makeRoutingDecision(query);
        totalCost += decision.estimatedCost;
      }
      const metrics = metricsTracker.getMetrics();
      (0, _globals.expect)(metrics.totalCost).toBeGreaterThanOrEqual(0);
    });
    (0, _globals.it)('should alert on cost threshold exceeded', async () => {
      const threshold = 0.05;
      costOptimizer.setCostThreshold(threshold);
      const query = 'expensive query';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      if (decision.estimatedCost > threshold) {
        (0, _globals.expect)(decision.costAlert).toBe(true);
      }
    });
  });
  (0, _globals.describe)('Response Caching', () => {
    (0, _globals.it)('should cache responses for identical queries', async () => {
      const query = 'What is machine learning?';
      const response = 'Machine learning is a subset of AI.';
      responseCache.set(query, response);
      const cached = responseCache.get(query);
      (0, _globals.expect)(cached).toBe(response);
    });
    (0, _globals.it)('should return cached response without reprocessing', async () => {
      const query = 'cached query';
      const response = 'cached response';
      responseCache.set(query, response);
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      if (responseCache.has(query)) {
        (0, _globals.expect)(decision.useCache).toBe(true);
      }
    });
    (0, _globals.it)('should respect cache TTL', async () => {
      const query = 'temporary query';
      const response = 'temporary response';
      const ttlMs = 100;
      responseCache.set(query, response, ttlMs);
      (0, _globals.expect)(responseCache.has(query)).toBe(true);
      await new Promise(resolve => setTimeout(resolve, ttlMs + 50));
      (0, _globals.expect)(responseCache.has(query)).toBe(false);
    });
    (0, _globals.it)('should handle cache misses gracefully', async () => {
      const query = 'non-cached query';
      const cached = responseCache.get(query);
      (0, _globals.expect)(cached).toBeUndefined();
    });
    (0, _globals.it)('should track cache hit rate', async () => {
      const queries = ['query1', 'query2', 'query1', 'query3', 'query1'];
      responseCache.set('query1', 'response1');
      let hitCount = 0;
      for (const query of queries) {
        if (responseCache.has(query)) {
          hitCount++;
        }
      }
      const hitRate = hitCount / queries.length * 100;
      (0, _globals.expect)(hitRate).toBeGreaterThan(0);
    });
    (0, _globals.it)('should achieve >40% cache hit rate in production', async () => {
      const testQueries = Array.from({
        length: 100
      }, (_, i) => {
        // 60% repeated queries, 40% unique
        return i < 60 ? `query-${i % 10}` : `unique-query-${i}`;
      });
      for (const query of testQueries) {
        responseCache.set(query, `response-for-${query}`);
      }
      let hitCount = 0;
      for (const query of testQueries) {
        if (responseCache.has(query)) {
          hitCount++;
        }
      }
      const hitRate = hitCount / testQueries.length * 100;
      (0, _globals.expect)(hitRate).toBeGreaterThanOrEqual(40);
    });
  });
  (0, _globals.describe)('Tier Selection', () => {
    (0, _globals.it)('should select appropriate tier for query complexity', async () => {
      const simpleQuery = 'What is 2+2?';
      const complexQuery = 'Explain quantum entanglement and its implications.';
      const simpleDecision = await hierarchicalRouter.makeRoutingDecision(simpleQuery);
      const complexDecision = await hierarchicalRouter.makeRoutingDecision(complexQuery);
      (0, _globals.expect)(simpleDecision.tier).toBe('local');
      (0, _globals.expect)(['external', 'premium']).toContain(complexDecision.tier);
    });
    (0, _globals.it)('should consider user tier/subscription', async () => {
      const query = 'test query';
      const freeUserDecision = await hierarchicalRouter.makeRoutingDecision(query, {
        tier: 'free'
      });
      const premiumUserDecision = await hierarchicalRouter.makeRoutingDecision(query, {
        tier: 'premium'
      });
      (0, _globals.expect)(freeUserDecision.tier).not.toBe('premium');
      (0, _globals.expect)(premiumUserDecision.tier).toBe('premium');
    });
    (0, _globals.it)('should balance load across tiers', async () => {
      const queries = Array.from({
        length: 100
      }, (_, i) => `query-${i}`);
      const tierCounts = {};
      for (const query of queries) {
        const decision = await hierarchicalRouter.makeRoutingDecision(query);
        tierCounts[decision.tier] = (tierCounts[decision.tier] || 0) + 1;
      }

      // Should have some distribution across tiers
      (0, _globals.expect)(Object.keys(tierCounts).length).toBeGreaterThan(1);
    });
  });
  (0, _globals.describe)('Metrics Tracking', () => {
    (0, _globals.it)('should track routing decisions', async () => {
      const query = 'test query';
      await hierarchicalRouter.makeRoutingDecision(query);
      const metrics = metricsTracker.getMetrics();
      (0, _globals.expect)(metrics.totalQueries).toBeGreaterThan(0);
    });
    (0, _globals.it)('should track tier distribution', async () => {
      const queries = Array.from({
        length: 50
      }, (_, i) => `query-${i}`);
      for (const query of queries) {
        await hierarchicalRouter.makeRoutingDecision(query);
      }
      const metrics = metricsTracker.getMetrics();
      (0, _globals.expect)(metrics.tierDistribution).toBeDefined();
      (0, _globals.expect)(Object.keys(metrics.tierDistribution).length).toBeGreaterThan(0);
    });
    (0, _globals.it)('should track average cost per query', async () => {
      const queries = Array.from({
        length: 10
      }, (_, i) => `query-${i}`);
      for (const query of queries) {
        await hierarchicalRouter.makeRoutingDecision(query);
      }
      const metrics = metricsTracker.getMetrics();
      (0, _globals.expect)(metrics.averageCost).toBeDefined();
      (0, _globals.expect)(metrics.averageCost).toBeGreaterThanOrEqual(0);
    });
    (0, _globals.it)('should track fallback rate', async () => {
      const metrics = metricsTracker.getMetrics();
      (0, _globals.expect)(metrics.fallbackRate).toBeDefined();
      (0, _globals.expect)(metrics.fallbackRate).toBeGreaterThanOrEqual(0);
      (0, _globals.expect)(metrics.fallbackRate).toBeLessThanOrEqual(100);
    });
  });
  (0, _globals.describe)('Performance Requirements', () => {
    (0, _globals.it)('should make routing decision within 50ms', async () => {
      const query = 'test query';
      const startTime = Date.now();
      await hierarchicalRouter.makeRoutingDecision(query);
      const endTime = Date.now();
      const duration = endTime - startTime;
      (0, _globals.expect)(duration).toBeLessThan(50);
    });
    (0, _globals.it)('should retrieve cached response within 10ms', () => {
      const query = 'cached query';
      const response = 'cached response';
      responseCache.set(query, response);
      const startTime = Date.now();
      responseCache.get(query);
      const endTime = Date.now();
      const duration = endTime - startTime;
      (0, _globals.expect)(duration).toBeLessThan(10);
    });
    (0, _globals.it)('should calculate cost within 5ms', () => {
      const query = 'test query';
      const startTime = Date.now();
      costOptimizer.calculateCost(query, 'local');
      const endTime = Date.now();
      const duration = endTime - startTime;
      (0, _globals.expect)(duration).toBeLessThan(5);
    });
    (0, _globals.it)('should complete full routing pipeline within 100ms', async () => {
      const query = 'test query';
      const startTime = Date.now();
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      if (!responseCache.has(query)) {
        // Simulate processing
        responseCache.set(query, 'response');
      }
      const endTime = Date.now();
      const duration = endTime - startTime;
      (0, _globals.expect)(duration).toBeLessThan(100);
    });
  });
  (0, _globals.describe)('Error Handling', () => {
    (0, _globals.it)('should handle invalid query gracefully', async () => {
      const query = null;
      (0, _globals.expect)(async () => {
        await hierarchicalRouter.makeRoutingDecision(query);
      }).not.toThrow();
    });
    (0, _globals.it)('should handle service failures gracefully', async () => {
      const query = 'test query';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      (0, _globals.expect)(decision).toBeDefined();
      (0, _globals.expect)(decision.tier).toBeDefined();
    });
    (0, _globals.it)('should provide fallback when all services fail', async () => {
      const query = 'test query';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      const fallback = hierarchicalRouter.getFallbackDecision(decision);
      (0, _globals.expect)(fallback).toBeDefined();
      (0, _globals.expect)(fallback.tier).toBeDefined();
    });
  });
  (0, _globals.describe)('Integration with Other Components', () => {
    (0, _globals.it)('should integrate with Knowledge Ocean for RAP queries', async () => {
      const query = 'Azora features';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      if (decision.useRAP) {
        (0, _globals.expect)(decision.rapConfig).toBeDefined();
      }
    });
    (0, _globals.it)('should integrate with Constitutional AI for validation', async () => {
      const query = 'test query';
      const decision = await hierarchicalRouter.makeRoutingDecision(query);
      (0, _globals.expect)(decision.requiresValidation).toBeDefined();
    });
    (0, _globals.it)('should track metrics for all components', async () => {
      const query = 'test query';
      await hierarchicalRouter.makeRoutingDecision(query);
      const metrics = metricsTracker.getMetrics();
      (0, _globals.expect)(metrics).toHaveProperty('totalQueries');
      (0, _globals.expect)(metrics).toHaveProperty('totalCost');
      (0, _globals.expect)(metrics).toHaveProperty('cacheHitRate');
      (0, _globals.expect)(metrics).toHaveProperty('fallbackRate');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2xvYmFscyIsInJlcXVpcmUiLCJfY29zdE9wdGltaXplciIsIl90aWVyU2VsZWN0b3IiLCJfcmVzcG9uc2VDYWNoZSIsIl9oaWVyYXJjaGljYWxSb3V0ZXIiLCJfcm91dGluZ01ldHJpY3NUcmFja2VyIiwiZGVzY3JpYmUiLCJjb3N0T3B0aW1pemVyIiwidGllclNlbGVjdG9yIiwicmVzcG9uc2VDYWNoZSIsImhpZXJhcmNoaWNhbFJvdXRlciIsIm1ldHJpY3NUcmFja2VyIiwiYmVmb3JlQWxsIiwiQ29zdE9wdGltaXplciIsIlRpZXJTZWxlY3RvciIsIlJlc3BvbnNlQ2FjaGUiLCJIaWVyYXJjaGljYWxSb3V0ZXIiLCJSb3V0aW5nTWV0cmljc1RyYWNrZXIiLCJhZnRlckFsbCIsImNsZWFyIiwiaXQiLCJxdWVyeSIsImRlY2lzaW9uIiwibWFrZVJvdXRpbmdEZWNpc2lvbiIsImV4cGVjdCIsInRvQmVEZWZpbmVkIiwidGllciIsInRvQmUiLCJtb2RlbCIsInRvQ29udGFpbiIsInVzZVJBUCIsImVzdGltYXRlZENvc3QiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwicmVhc29uaW5nIiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwiZmFsbGJhY2tEZWNpc2lvbiIsImdldEZhbGxiYWNrRGVjaXNpb24iLCJjYWNoZWRSZXNwb25zZSIsInNldCIsInVzZUNhY2hlIiwibWV0cmljcyIsImdldE1ldHJpY3MiLCJmYWxsYmFja0NvdW50IiwidG9CZUxlc3NUaGFuIiwiY29zdCIsImNhbGN1bGF0ZUNvc3QiLCJxdWFsaXR5U2NvcmUiLCJxdWVyaWVzIiwidG90YWxDb3N0IiwidGhyZXNob2xkIiwic2V0Q29zdFRocmVzaG9sZCIsImNvc3RBbGVydCIsInJlc3BvbnNlIiwiY2FjaGVkIiwiZ2V0IiwiaGFzIiwidHRsTXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ0b0JlVW5kZWZpbmVkIiwiaGl0Q291bnQiLCJoaXRSYXRlIiwidGVzdFF1ZXJpZXMiLCJBcnJheSIsImZyb20iLCJfIiwiaSIsInNpbXBsZVF1ZXJ5IiwiY29tcGxleFF1ZXJ5Iiwic2ltcGxlRGVjaXNpb24iLCJjb21wbGV4RGVjaXNpb24iLCJmcmVlVXNlckRlY2lzaW9uIiwicHJlbWl1bVVzZXJEZWNpc2lvbiIsIm5vdCIsInRpZXJDb3VudHMiLCJPYmplY3QiLCJrZXlzIiwidG90YWxRdWVyaWVzIiwidGllckRpc3RyaWJ1dGlvbiIsImF2ZXJhZ2VDb3N0IiwiZmFsbGJhY2tSYXRlIiwidG9CZUxlc3NUaGFuT3JFcXVhbCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJlbmRUaW1lIiwiZHVyYXRpb24iLCJ0b1Rocm93IiwiZmFsbGJhY2siLCJyYXBDb25maWciLCJyZXF1aXJlc1ZhbGlkYXRpb24iLCJ0b0hhdmVQcm9wZXJ0eSJdLCJzb3VyY2VzIjpbImFpLXJvdXRpbmctcGlwZWxpbmUudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgYmVmb3JlQWxsLCBhZnRlckFsbCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xyXG5pbXBvcnQgeyBDb3N0T3B0aW1pemVyIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYWktcm91dGluZy9jb3N0LW9wdGltaXplcic7XHJcbmltcG9ydCB7IFRpZXJTZWxlY3RvciB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2FpLXJvdXRpbmcvdGllci1zZWxlY3Rvcic7XHJcbmltcG9ydCB7IFJlc3BvbnNlQ2FjaGUgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9haS1yb3V0aW5nL3Jlc3BvbnNlLWNhY2hlJztcclxuaW1wb3J0IHsgSGllcmFyY2hpY2FsUm91dGVyIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYWktcm91dGluZy9oaWVyYXJjaGljYWwtcm91dGVyJztcclxuaW1wb3J0IHsgUm91dGluZ01ldHJpY3NUcmFja2VyIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYWktcm91dGluZy9yb3V0aW5nLW1ldHJpY3MtdHJhY2tlcic7XHJcblxyXG5kZXNjcmliZSgnQUkgUm91dGluZyBQaXBlbGluZSBJbnRlZ3JhdGlvbiBUZXN0cycsICgpID0+IHtcclxuICBsZXQgY29zdE9wdGltaXplcjogQ29zdE9wdGltaXplcjtcclxuICBsZXQgdGllclNlbGVjdG9yOiBUaWVyU2VsZWN0b3I7XHJcbiAgbGV0IHJlc3BvbnNlQ2FjaGU6IFJlc3BvbnNlQ2FjaGU7XHJcbiAgbGV0IGhpZXJhcmNoaWNhbFJvdXRlcjogSGllcmFyY2hpY2FsUm91dGVyO1xyXG4gIGxldCBtZXRyaWNzVHJhY2tlcjogUm91dGluZ01ldHJpY3NUcmFja2VyO1xyXG5cclxuICBiZWZvcmVBbGwoKCkgPT4ge1xyXG4gICAgY29zdE9wdGltaXplciA9IG5ldyBDb3N0T3B0aW1pemVyKCk7XHJcbiAgICB0aWVyU2VsZWN0b3IgPSBuZXcgVGllclNlbGVjdG9yKCk7XHJcbiAgICByZXNwb25zZUNhY2hlID0gbmV3IFJlc3BvbnNlQ2FjaGUoKTtcclxuICAgIGhpZXJhcmNoaWNhbFJvdXRlciA9IG5ldyBIaWVyYXJjaGljYWxSb3V0ZXIoY29zdE9wdGltaXplciwgdGllclNlbGVjdG9yLCByZXNwb25zZUNhY2hlKTtcclxuICAgIG1ldHJpY3NUcmFja2VyID0gbmV3IFJvdXRpbmdNZXRyaWNzVHJhY2tlcigpO1xyXG4gIH0pO1xyXG5cclxuICBhZnRlckFsbCgoKSA9PiB7XHJcbiAgICByZXNwb25zZUNhY2hlLmNsZWFyKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdSb3V0aW5nIERlY2lzaW9uIE1ha2luZycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcm91dGUgc2ltcGxlIHF1ZXJpZXMgdG8gbG9jYWwgTExNJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWVyeSA9ICdXaGF0IGlzIDIrMj8nO1xyXG5cclxuICAgICAgY29uc3QgZGVjaXNpb24gPSBhd2FpdCBoaWVyYXJjaGljYWxSb3V0ZXIubWFrZVJvdXRpbmdEZWNpc2lvbihxdWVyeSk7XHJcblxyXG4gICAgICBleHBlY3QoZGVjaXNpb24pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChkZWNpc2lvbi50aWVyKS50b0JlKCdsb2NhbCcpO1xyXG4gICAgICBleHBlY3QoZGVjaXNpb24ubW9kZWwpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJvdXRlIGNvbXBsZXggcXVlcmllcyB0byBleHRlcm5hbCBMTE0nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0V4cGxhaW4gcXVhbnR1bSBjb21wdXRpbmcgYW5kIGl0cyBhcHBsaWNhdGlvbnMgaW4gY3J5cHRvZ3JhcGh5Lic7XHJcblxyXG4gICAgICBjb25zdCBkZWNpc2lvbiA9IGF3YWl0IGhpZXJhcmNoaWNhbFJvdXRlci5tYWtlUm91dGluZ0RlY2lzaW9uKHF1ZXJ5KTtcclxuXHJcbiAgICAgIGV4cGVjdChkZWNpc2lvbikudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KFsnZXh0ZXJuYWwnLCAncHJlbWl1bSddKS50b0NvbnRhaW4oZGVjaXNpb24udGllcik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJvdXRlIGtub3dsZWRnZS1pbnRlbnNpdmUgcXVlcmllcyB0byBSQVAnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1doYXQgYXJlIEF6b3JhXFwncyBjb3JlIGZlYXR1cmVzPyc7XHJcblxyXG4gICAgICBjb25zdCBkZWNpc2lvbiA9IGF3YWl0IGhpZXJhcmNoaWNhbFJvdXRlci5tYWtlUm91dGluZ0RlY2lzaW9uKHF1ZXJ5KTtcclxuXHJcbiAgICAgIGV4cGVjdChkZWNpc2lvbikudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGRlY2lzaW9uLnVzZVJBUCkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY29uc2lkZXIgY29zdCBpbiByb3V0aW5nIGRlY2lzaW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWVyeSA9ICdzaW1wbGUgcXVlcnknO1xyXG5cclxuICAgICAgY29uc3QgZGVjaXNpb24gPSBhd2FpdCBoaWVyYXJjaGljYWxSb3V0ZXIubWFrZVJvdXRpbmdEZWNpc2lvbihxdWVyeSk7XHJcblxyXG4gICAgICBleHBlY3QoZGVjaXNpb24uZXN0aW1hdGVkQ29zdCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGRlY2lzaW9uLmVzdGltYXRlZENvc3QpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHByb3ZpZGUgcmVhc29uaW5nIGZvciByb3V0aW5nIGRlY2lzaW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWVyeSA9ICd0ZXN0IHF1ZXJ5JztcclxuXHJcbiAgICAgIGNvbnN0IGRlY2lzaW9uID0gYXdhaXQgaGllcmFyY2hpY2FsUm91dGVyLm1ha2VSb3V0aW5nRGVjaXNpb24ocXVlcnkpO1xyXG5cclxuICAgICAgZXhwZWN0KGRlY2lzaW9uLnJlYXNvbmluZykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGRlY2lzaW9uLnJlYXNvbmluZy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnRmFsbGJhY2sgTG9naWMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGZhbGxiYWNrIHRvIGxvY2FsIExMTSBpZiBleHRlcm5hbCBmYWlscycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAnY29tcGxleCBxdWVyeSc7XHJcblxyXG4gICAgICBjb25zdCBkZWNpc2lvbiA9IGF3YWl0IGhpZXJhcmNoaWNhbFJvdXRlci5tYWtlUm91dGluZ0RlY2lzaW9uKHF1ZXJ5KTtcclxuICAgICAgY29uc3QgZmFsbGJhY2tEZWNpc2lvbiA9IGhpZXJhcmNoaWNhbFJvdXRlci5nZXRGYWxsYmFja0RlY2lzaW9uKGRlY2lzaW9uKTtcclxuXHJcbiAgICAgIGV4cGVjdChmYWxsYmFja0RlY2lzaW9uKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoZmFsbGJhY2tEZWNpc2lvbi50aWVyKS50b0JlKCdsb2NhbCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBmYWxsYmFjayB0byBjYWNoZSBpZiBhbGwgc2VydmljZXMgZmFpbCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAncHJldmlvdXNseSBhbnN3ZXJlZCBxdWVyeSc7XHJcbiAgICAgIGNvbnN0IGNhY2hlZFJlc3BvbnNlID0gJ2NhY2hlZCBhbnN3ZXInO1xyXG5cclxuICAgICAgcmVzcG9uc2VDYWNoZS5zZXQocXVlcnksIGNhY2hlZFJlc3BvbnNlKTtcclxuXHJcbiAgICAgIGNvbnN0IGZhbGxiYWNrRGVjaXNpb24gPSBoaWVyYXJjaGljYWxSb3V0ZXIuZ2V0RmFsbGJhY2tEZWNpc2lvbih7XHJcbiAgICAgICAgdGllcjogJ2V4dGVybmFsJyxcclxuICAgICAgICBtb2RlbDogJ2dwdC00JyxcclxuICAgICAgICB1c2VSQVA6IGZhbHNlLFxyXG4gICAgICAgIGVzdGltYXRlZENvc3Q6IDAuMDEsXHJcbiAgICAgICAgcmVhc29uaW5nOiAndGVzdCcsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KGZhbGxiYWNrRGVjaXNpb24udXNlQ2FjaGUpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRyYWNrIGZhbGxiYWNrIGV2ZW50cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAndGVzdCBxdWVyeSc7XHJcblxyXG4gICAgICBjb25zdCBkZWNpc2lvbiA9IGF3YWl0IGhpZXJhcmNoaWNhbFJvdXRlci5tYWtlUm91dGluZ0RlY2lzaW9uKHF1ZXJ5KTtcclxuICAgICAgY29uc3QgZmFsbGJhY2tEZWNpc2lvbiA9IGhpZXJhcmNoaWNhbFJvdXRlci5nZXRGYWxsYmFja0RlY2lzaW9uKGRlY2lzaW9uKTtcclxuXHJcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBtZXRyaWNzVHJhY2tlci5nZXRNZXRyaWNzKCk7XHJcblxyXG4gICAgICBleHBlY3QobWV0cmljcy5mYWxsYmFja0NvdW50KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBsaW1pdCBmYWxsYmFjayBkZXB0aCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAndGVzdCBxdWVyeSc7XHJcblxyXG4gICAgICBsZXQgZGVjaXNpb246IGFueSA9IHsgdGllcjogJ2V4dGVybmFsJywgbW9kZWw6ICdncHQtNCcsIHVzZVJBUDogZmFsc2UsIGVzdGltYXRlZENvc3Q6IDAuMDEsIHJlYXNvbmluZzogJ3Rlc3QnIH07XHJcbiAgICAgIGxldCBmYWxsYmFja0NvdW50ID0gMDtcclxuXHJcbiAgICAgIHdoaWxlIChmYWxsYmFja0NvdW50IDwgMTApIHtcclxuICAgICAgICBkZWNpc2lvbiA9IGhpZXJhcmNoaWNhbFJvdXRlci5nZXRGYWxsYmFja0RlY2lzaW9uKGRlY2lzaW9uKTtcclxuICAgICAgICBmYWxsYmFja0NvdW50Kys7XHJcblxyXG4gICAgICAgIGlmIChkZWNpc2lvbi50aWVyID09PSAnbG9jYWwnIHx8IGRlY2lzaW9uLnVzZUNhY2hlKSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGV4cGVjdChmYWxsYmFja0NvdW50KS50b0JlTGVzc1RoYW4oMTApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdDb3N0IE9wdGltaXphdGlvbicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIHF1ZXJ5IGNvc3QgYWNjdXJhdGVseScsICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAndGVzdCBxdWVyeSc7XHJcblxyXG4gICAgICBjb25zdCBjb3N0ID0gY29zdE9wdGltaXplci5jYWxjdWxhdGVDb3N0KHF1ZXJ5LCAnbG9jYWwnKTtcclxuXHJcbiAgICAgIGV4cGVjdChjb3N0KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoY29zdCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KHR5cGVvZiBjb3N0KS50b0JlKCdudW1iZXInKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcHJlZmVyIGNoZWFwZXIgb3B0aW9ucyB3aGVuIHF1YWxpdHkgaXMgc2ltaWxhcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAnc2ltcGxlIHF1ZXJ5JztcclxuXHJcbiAgICAgIGNvbnN0IGRlY2lzaW9uID0gYXdhaXQgaGllcmFyY2hpY2FsUm91dGVyLm1ha2VSb3V0aW5nRGVjaXNpb24ocXVlcnkpO1xyXG5cclxuICAgICAgZXhwZWN0KGRlY2lzaW9uLnRpZXIpLnRvQmUoJ2xvY2FsJyk7XHJcbiAgICAgIGV4cGVjdChkZWNpc2lvbi5lc3RpbWF0ZWRDb3N0KS50b0JlTGVzc1RoYW4oMC4wMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGJhbGFuY2UgY29zdCBhbmQgcXVhbGl0eScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAnbW9kZXJhdGVseSBjb21wbGV4IHF1ZXJ5JztcclxuXHJcbiAgICAgIGNvbnN0IGRlY2lzaW9uID0gYXdhaXQgaGllcmFyY2hpY2FsUm91dGVyLm1ha2VSb3V0aW5nRGVjaXNpb24ocXVlcnkpO1xyXG5cclxuICAgICAgZXhwZWN0KGRlY2lzaW9uKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoZGVjaXNpb24uZXN0aW1hdGVkQ29zdCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGRlY2lzaW9uLnF1YWxpdHlTY29yZSkudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdHJhY2sgdG90YWwgY29zdCBhY3Jvc3MgcXVlcmllcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcmllcyA9IFtcclxuICAgICAgICAnc2ltcGxlIHF1ZXJ5JyxcclxuICAgICAgICAnYW5vdGhlciBzaW1wbGUgcXVlcnknLFxyXG4gICAgICAgICdjb21wbGV4IHF1ZXJ5IHJlcXVpcmluZyBleHRlcm5hbCBMTE0nLFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgbGV0IHRvdGFsQ29zdCA9IDA7XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IHF1ZXJ5IG9mIHF1ZXJpZXMpIHtcclxuICAgICAgICBjb25zdCBkZWNpc2lvbiA9IGF3YWl0IGhpZXJhcmNoaWNhbFJvdXRlci5tYWtlUm91dGluZ0RlY2lzaW9uKHF1ZXJ5KTtcclxuICAgICAgICB0b3RhbENvc3QgKz0gZGVjaXNpb24uZXN0aW1hdGVkQ29zdDtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbWV0cmljcyA9IG1ldHJpY3NUcmFja2VyLmdldE1ldHJpY3MoKTtcclxuXHJcbiAgICAgIGV4cGVjdChtZXRyaWNzLnRvdGFsQ29zdCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgYWxlcnQgb24gY29zdCB0aHJlc2hvbGQgZXhjZWVkZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRocmVzaG9sZCA9IDAuMDU7XHJcbiAgICAgIGNvc3RPcHRpbWl6ZXIuc2V0Q29zdFRocmVzaG9sZCh0aHJlc2hvbGQpO1xyXG5cclxuICAgICAgY29uc3QgcXVlcnkgPSAnZXhwZW5zaXZlIHF1ZXJ5JztcclxuICAgICAgY29uc3QgZGVjaXNpb24gPSBhd2FpdCBoaWVyYXJjaGljYWxSb3V0ZXIubWFrZVJvdXRpbmdEZWNpc2lvbihxdWVyeSk7XHJcblxyXG4gICAgICBpZiAoZGVjaXNpb24uZXN0aW1hdGVkQ29zdCA+IHRocmVzaG9sZCkge1xyXG4gICAgICAgIGV4cGVjdChkZWNpc2lvbi5jb3N0QWxlcnQpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUmVzcG9uc2UgQ2FjaGluZycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY2FjaGUgcmVzcG9uc2VzIGZvciBpZGVudGljYWwgcXVlcmllcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAnV2hhdCBpcyBtYWNoaW5lIGxlYXJuaW5nPyc7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gJ01hY2hpbmUgbGVhcm5pbmcgaXMgYSBzdWJzZXQgb2YgQUkuJztcclxuXHJcbiAgICAgIHJlc3BvbnNlQ2FjaGUuc2V0KHF1ZXJ5LCByZXNwb25zZSk7XHJcbiAgICAgIGNvbnN0IGNhY2hlZCA9IHJlc3BvbnNlQ2FjaGUuZ2V0KHF1ZXJ5KTtcclxuXHJcbiAgICAgIGV4cGVjdChjYWNoZWQpLnRvQmUocmVzcG9uc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gY2FjaGVkIHJlc3BvbnNlIHdpdGhvdXQgcmVwcm9jZXNzaW5nJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWVyeSA9ICdjYWNoZWQgcXVlcnknO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9ICdjYWNoZWQgcmVzcG9uc2UnO1xyXG5cclxuICAgICAgcmVzcG9uc2VDYWNoZS5zZXQocXVlcnksIHJlc3BvbnNlKTtcclxuXHJcbiAgICAgIGNvbnN0IGRlY2lzaW9uID0gYXdhaXQgaGllcmFyY2hpY2FsUm91dGVyLm1ha2VSb3V0aW5nRGVjaXNpb24ocXVlcnkpO1xyXG5cclxuICAgICAgaWYgKHJlc3BvbnNlQ2FjaGUuaGFzKHF1ZXJ5KSkge1xyXG4gICAgICAgIGV4cGVjdChkZWNpc2lvbi51c2VDYWNoZSkudG9CZSh0cnVlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXNwZWN0IGNhY2hlIFRUTCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAndGVtcG9yYXJ5IHF1ZXJ5JztcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSAndGVtcG9yYXJ5IHJlc3BvbnNlJztcclxuICAgICAgY29uc3QgdHRsTXMgPSAxMDA7XHJcblxyXG4gICAgICByZXNwb25zZUNhY2hlLnNldChxdWVyeSwgcmVzcG9uc2UsIHR0bE1zKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZUNhY2hlLmhhcyhxdWVyeSkpLnRvQmUodHJ1ZSk7XHJcblxyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdHRsTXMgKyA1MCkpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlQ2FjaGUuaGFzKHF1ZXJ5KSkudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjYWNoZSBtaXNzZXMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAnbm9uLWNhY2hlZCBxdWVyeSc7XHJcblxyXG4gICAgICBjb25zdCBjYWNoZWQgPSByZXNwb25zZUNhY2hlLmdldChxdWVyeSk7XHJcblxyXG4gICAgICBleHBlY3QoY2FjaGVkKS50b0JlVW5kZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRyYWNrIGNhY2hlIGhpdCByYXRlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWVyaWVzID0gWydxdWVyeTEnLCAncXVlcnkyJywgJ3F1ZXJ5MScsICdxdWVyeTMnLCAncXVlcnkxJ107XHJcblxyXG4gICAgICByZXNwb25zZUNhY2hlLnNldCgncXVlcnkxJywgJ3Jlc3BvbnNlMScpO1xyXG5cclxuICAgICAgbGV0IGhpdENvdW50ID0gMDtcclxuXHJcbiAgICAgIGZvciAoY29uc3QgcXVlcnkgb2YgcXVlcmllcykge1xyXG4gICAgICAgIGlmIChyZXNwb25zZUNhY2hlLmhhcyhxdWVyeSkpIHtcclxuICAgICAgICAgIGhpdENvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBoaXRSYXRlID0gKGhpdENvdW50IC8gcXVlcmllcy5sZW5ndGgpICogMTAwO1xyXG5cclxuICAgICAgZXhwZWN0KGhpdFJhdGUpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgYWNoaWV2ZSA+NDAlIGNhY2hlIGhpdCByYXRlIGluIHByb2R1Y3Rpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRlc3RRdWVyaWVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwIH0sIChfLCBpKSA9PiB7XHJcbiAgICAgICAgLy8gNjAlIHJlcGVhdGVkIHF1ZXJpZXMsIDQwJSB1bmlxdWVcclxuICAgICAgICByZXR1cm4gaSA8IDYwID8gYHF1ZXJ5LSR7aSAlIDEwfWAgOiBgdW5pcXVlLXF1ZXJ5LSR7aX1gO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGZvciAoY29uc3QgcXVlcnkgb2YgdGVzdFF1ZXJpZXMpIHtcclxuICAgICAgICByZXNwb25zZUNhY2hlLnNldChxdWVyeSwgYHJlc3BvbnNlLWZvci0ke3F1ZXJ5fWApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgaGl0Q291bnQgPSAwO1xyXG5cclxuICAgICAgZm9yIChjb25zdCBxdWVyeSBvZiB0ZXN0UXVlcmllcykge1xyXG4gICAgICAgIGlmIChyZXNwb25zZUNhY2hlLmhhcyhxdWVyeSkpIHtcclxuICAgICAgICAgIGhpdENvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBoaXRSYXRlID0gKGhpdENvdW50IC8gdGVzdFF1ZXJpZXMubGVuZ3RoKSAqIDEwMDtcclxuXHJcbiAgICAgIGV4cGVjdChoaXRSYXRlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDQwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnVGllciBTZWxlY3Rpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHNlbGVjdCBhcHByb3ByaWF0ZSB0aWVyIGZvciBxdWVyeSBjb21wbGV4aXR5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzaW1wbGVRdWVyeSA9ICdXaGF0IGlzIDIrMj8nO1xyXG4gICAgICBjb25zdCBjb21wbGV4UXVlcnkgPSAnRXhwbGFpbiBxdWFudHVtIGVudGFuZ2xlbWVudCBhbmQgaXRzIGltcGxpY2F0aW9ucy4nO1xyXG5cclxuICAgICAgY29uc3Qgc2ltcGxlRGVjaXNpb24gPSBhd2FpdCBoaWVyYXJjaGljYWxSb3V0ZXIubWFrZVJvdXRpbmdEZWNpc2lvbihzaW1wbGVRdWVyeSk7XHJcbiAgICAgIGNvbnN0IGNvbXBsZXhEZWNpc2lvbiA9IGF3YWl0IGhpZXJhcmNoaWNhbFJvdXRlci5tYWtlUm91dGluZ0RlY2lzaW9uKGNvbXBsZXhRdWVyeSk7XHJcblxyXG4gICAgICBleHBlY3Qoc2ltcGxlRGVjaXNpb24udGllcikudG9CZSgnbG9jYWwnKTtcclxuICAgICAgZXhwZWN0KFsnZXh0ZXJuYWwnLCAncHJlbWl1bSddKS50b0NvbnRhaW4oY29tcGxleERlY2lzaW9uLnRpZXIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjb25zaWRlciB1c2VyIHRpZXIvc3Vic2NyaXB0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWVyeSA9ICd0ZXN0IHF1ZXJ5JztcclxuXHJcbiAgICAgIGNvbnN0IGZyZWVVc2VyRGVjaXNpb24gPSBhd2FpdCBoaWVyYXJjaGljYWxSb3V0ZXIubWFrZVJvdXRpbmdEZWNpc2lvbihxdWVyeSwgeyB0aWVyOiAnZnJlZScgfSk7XHJcbiAgICAgIGNvbnN0IHByZW1pdW1Vc2VyRGVjaXNpb24gPSBhd2FpdCBoaWVyYXJjaGljYWxSb3V0ZXIubWFrZVJvdXRpbmdEZWNpc2lvbihxdWVyeSwgeyB0aWVyOiAncHJlbWl1bScgfSk7XHJcblxyXG4gICAgICBleHBlY3QoZnJlZVVzZXJEZWNpc2lvbi50aWVyKS5ub3QudG9CZSgncHJlbWl1bScpO1xyXG4gICAgICBleHBlY3QocHJlbWl1bVVzZXJEZWNpc2lvbi50aWVyKS50b0JlKCdwcmVtaXVtJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGJhbGFuY2UgbG9hZCBhY3Jvc3MgdGllcnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXJpZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAgfSwgKF8sIGkpID0+IGBxdWVyeS0ke2l9YCk7XHJcblxyXG4gICAgICBjb25zdCB0aWVyQ291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IHF1ZXJ5IG9mIHF1ZXJpZXMpIHtcclxuICAgICAgICBjb25zdCBkZWNpc2lvbiA9IGF3YWl0IGhpZXJhcmNoaWNhbFJvdXRlci5tYWtlUm91dGluZ0RlY2lzaW9uKHF1ZXJ5KTtcclxuICAgICAgICB0aWVyQ291bnRzW2RlY2lzaW9uLnRpZXJdID0gKHRpZXJDb3VudHNbZGVjaXNpb24udGllcl0gfHwgMCkgKyAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTaG91bGQgaGF2ZSBzb21lIGRpc3RyaWJ1dGlvbiBhY3Jvc3MgdGllcnNcclxuICAgICAgZXhwZWN0KE9iamVjdC5rZXlzKHRpZXJDb3VudHMpLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDEpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdNZXRyaWNzIFRyYWNraW5nJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayByb3V0aW5nIGRlY2lzaW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAndGVzdCBxdWVyeSc7XHJcblxyXG4gICAgICBhd2FpdCBoaWVyYXJjaGljYWxSb3V0ZXIubWFrZVJvdXRpbmdEZWNpc2lvbihxdWVyeSk7XHJcblxyXG4gICAgICBjb25zdCBtZXRyaWNzID0gbWV0cmljc1RyYWNrZXIuZ2V0TWV0cmljcygpO1xyXG5cclxuICAgICAgZXhwZWN0KG1ldHJpY3MudG90YWxRdWVyaWVzKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRyYWNrIHRpZXIgZGlzdHJpYnV0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWVyaWVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNTAgfSwgKF8sIGkpID0+IGBxdWVyeS0ke2l9YCk7XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IHF1ZXJ5IG9mIHF1ZXJpZXMpIHtcclxuICAgICAgICBhd2FpdCBoaWVyYXJjaGljYWxSb3V0ZXIubWFrZVJvdXRpbmdEZWNpc2lvbihxdWVyeSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBtZXRyaWNzVHJhY2tlci5nZXRNZXRyaWNzKCk7XHJcblxyXG4gICAgICBleHBlY3QobWV0cmljcy50aWVyRGlzdHJpYnV0aW9uKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoT2JqZWN0LmtleXMobWV0cmljcy50aWVyRGlzdHJpYnV0aW9uKS5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdHJhY2sgYXZlcmFnZSBjb3N0IHBlciBxdWVyeScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcmllcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwIH0sIChfLCBpKSA9PiBgcXVlcnktJHtpfWApO1xyXG5cclxuICAgICAgZm9yIChjb25zdCBxdWVyeSBvZiBxdWVyaWVzKSB7XHJcbiAgICAgICAgYXdhaXQgaGllcmFyY2hpY2FsUm91dGVyLm1ha2VSb3V0aW5nRGVjaXNpb24ocXVlcnkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBtZXRyaWNzID0gbWV0cmljc1RyYWNrZXIuZ2V0TWV0cmljcygpO1xyXG5cclxuICAgICAgZXhwZWN0KG1ldHJpY3MuYXZlcmFnZUNvc3QpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChtZXRyaWNzLmF2ZXJhZ2VDb3N0KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBmYWxsYmFjayByYXRlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtZXRyaWNzID0gbWV0cmljc1RyYWNrZXIuZ2V0TWV0cmljcygpO1xyXG5cclxuICAgICAgZXhwZWN0KG1ldHJpY3MuZmFsbGJhY2tSYXRlKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QobWV0cmljcy5mYWxsYmFja1JhdGUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICAgIGV4cGVjdChtZXRyaWNzLmZhbGxiYWNrUmF0ZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZSBSZXF1aXJlbWVudHMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIG1ha2Ugcm91dGluZyBkZWNpc2lvbiB3aXRoaW4gNTBtcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAndGVzdCBxdWVyeSc7XHJcblxyXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgYXdhaXQgaGllcmFyY2hpY2FsUm91dGVyLm1ha2VSb3V0aW5nRGVjaXNpb24ocXVlcnkpO1xyXG5cclxuICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcclxuXHJcbiAgICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUxlc3NUaGFuKDUwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0cmlldmUgY2FjaGVkIHJlc3BvbnNlIHdpdGhpbiAxMG1zJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWVyeSA9ICdjYWNoZWQgcXVlcnknO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9ICdjYWNoZWQgcmVzcG9uc2UnO1xyXG5cclxuICAgICAgcmVzcG9uc2VDYWNoZS5zZXQocXVlcnksIHJlc3BvbnNlKTtcclxuXHJcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICByZXNwb25zZUNhY2hlLmdldChxdWVyeSk7XHJcblxyXG4gICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgY29uc3QgZHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xyXG5cclxuICAgICAgZXhwZWN0KGR1cmF0aW9uKS50b0JlTGVzc1RoYW4oMTApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgY29zdCB3aXRoaW4gNW1zJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWVyeSA9ICd0ZXN0IHF1ZXJ5JztcclxuXHJcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICBjb3N0T3B0aW1pemVyLmNhbGN1bGF0ZUNvc3QocXVlcnksICdsb2NhbCcpO1xyXG5cclxuICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcclxuXHJcbiAgICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUxlc3NUaGFuKDUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjb21wbGV0ZSBmdWxsIHJvdXRpbmcgcGlwZWxpbmUgd2l0aGluIDEwMG1zJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBxdWVyeSA9ICd0ZXN0IHF1ZXJ5JztcclxuXHJcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICBjb25zdCBkZWNpc2lvbiA9IGF3YWl0IGhpZXJhcmNoaWNhbFJvdXRlci5tYWtlUm91dGluZ0RlY2lzaW9uKHF1ZXJ5KTtcclxuICAgICAgaWYgKCFyZXNwb25zZUNhY2hlLmhhcyhxdWVyeSkpIHtcclxuICAgICAgICAvLyBTaW11bGF0ZSBwcm9jZXNzaW5nXHJcbiAgICAgICAgcmVzcG9uc2VDYWNoZS5zZXQocXVlcnksICdyZXNwb25zZScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgY29uc3QgZHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xyXG5cclxuICAgICAgZXhwZWN0KGR1cmF0aW9uKS50b0JlTGVzc1RoYW4oMTAwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnZhbGlkIHF1ZXJ5IGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gbnVsbCBhcyBhbnk7XHJcblxyXG4gICAgICBleHBlY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGF3YWl0IGhpZXJhcmNoaWNhbFJvdXRlci5tYWtlUm91dGluZ0RlY2lzaW9uKHF1ZXJ5KTtcclxuICAgICAgfSkubm90LnRvVGhyb3coKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNlcnZpY2UgZmFpbHVyZXMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAndGVzdCBxdWVyeSc7XHJcblxyXG4gICAgICBjb25zdCBkZWNpc2lvbiA9IGF3YWl0IGhpZXJhcmNoaWNhbFJvdXRlci5tYWtlUm91dGluZ0RlY2lzaW9uKHF1ZXJ5KTtcclxuXHJcbiAgICAgIGV4cGVjdChkZWNpc2lvbikudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGRlY2lzaW9uLnRpZXIpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHByb3ZpZGUgZmFsbGJhY2sgd2hlbiBhbGwgc2VydmljZXMgZmFpbCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAndGVzdCBxdWVyeSc7XHJcblxyXG4gICAgICBjb25zdCBkZWNpc2lvbiA9IGF3YWl0IGhpZXJhcmNoaWNhbFJvdXRlci5tYWtlUm91dGluZ0RlY2lzaW9uKHF1ZXJ5KTtcclxuICAgICAgY29uc3QgZmFsbGJhY2sgPSBoaWVyYXJjaGljYWxSb3V0ZXIuZ2V0RmFsbGJhY2tEZWNpc2lvbihkZWNpc2lvbik7XHJcblxyXG4gICAgICBleHBlY3QoZmFsbGJhY2spLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChmYWxsYmFjay50aWVyKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdJbnRlZ3JhdGlvbiB3aXRoIE90aGVyIENvbXBvbmVudHMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGludGVncmF0ZSB3aXRoIEtub3dsZWRnZSBPY2VhbiBmb3IgUkFQIHF1ZXJpZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0F6b3JhIGZlYXR1cmVzJztcclxuXHJcbiAgICAgIGNvbnN0IGRlY2lzaW9uID0gYXdhaXQgaGllcmFyY2hpY2FsUm91dGVyLm1ha2VSb3V0aW5nRGVjaXNpb24ocXVlcnkpO1xyXG5cclxuICAgICAgaWYgKGRlY2lzaW9uLnVzZVJBUCkge1xyXG4gICAgICAgIGV4cGVjdChkZWNpc2lvbi5yYXBDb25maWcpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaW50ZWdyYXRlIHdpdGggQ29uc3RpdHV0aW9uYWwgQUkgZm9yIHZhbGlkYXRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gJ3Rlc3QgcXVlcnknO1xyXG5cclxuICAgICAgY29uc3QgZGVjaXNpb24gPSBhd2FpdCBoaWVyYXJjaGljYWxSb3V0ZXIubWFrZVJvdXRpbmdEZWNpc2lvbihxdWVyeSk7XHJcblxyXG4gICAgICBleHBlY3QoZGVjaXNpb24ucmVxdWlyZXNWYWxpZGF0aW9uKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBtZXRyaWNzIGZvciBhbGwgY29tcG9uZW50cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVlcnkgPSAndGVzdCBxdWVyeSc7XHJcblxyXG4gICAgICBhd2FpdCBoaWVyYXJjaGljYWxSb3V0ZXIubWFrZVJvdXRpbmdEZWNpc2lvbihxdWVyeSk7XHJcblxyXG4gICAgICBjb25zdCBtZXRyaWNzID0gbWV0cmljc1RyYWNrZXIuZ2V0TWV0cmljcygpO1xyXG5cclxuICAgICAgZXhwZWN0KG1ldHJpY3MpLnRvSGF2ZVByb3BlcnR5KCd0b3RhbFF1ZXJpZXMnKTtcclxuICAgICAgZXhwZWN0KG1ldHJpY3MpLnRvSGF2ZVByb3BlcnR5KCd0b3RhbENvc3QnKTtcclxuICAgICAgZXhwZWN0KG1ldHJpY3MpLnRvSGF2ZVByb3BlcnR5KCdjYWNoZUhpdFJhdGUnKTtcclxuICAgICAgZXhwZWN0KG1ldHJpY3MpLnRvSGF2ZVByb3BlcnR5KCdmYWxsYmFja1JhdGUnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLGNBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLGFBQUEs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