{"version":3,"names":["_index","require","_logger","cov_1q3coeg5kg","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","_coverageSchema","coverage","actualCoverage","RevenueService","pricingTiers","Map","id","monthlyPrice","studentDiscount","features","description","tier","limits","coursesPerMonth","aiQueriesPerMonth","storageGB","supportLevel","getPricingTier","tierName","get","getAllPricingTiers","Array","from","values","calculatePrice","isStudent","pricingTier","Error","discount","trackConversionEvent","studentId","eventType","triggerValue","event","prisma","conversionEvent","create","data","logger","info","shouldTriggerOffer","createConversionOffer","error","triggers","eventId","expiresAt","Date","setDate","getDate","offer","conversionOffer","offerType","acceptConversionOffer","offerId","update","where","accepted","acceptedAt","processPayment","courseId","amount","period","toISOString","slice","payment","status","Number","getRevenueByPeriod","result","aggregate","_sum","getConversionMetrics","freeUsers","user","count","premiumUsers","proUsers","totalUsers","conversionRate","Math","round","exports","revenueService"],"sources":["revenue.service.ts"],"sourcesContent":["import { prisma } from '../index';\r\nimport { PricingTier, ConversionOffer, Payment } from '../types';\r\nimport { logger } from '../utils/logger';\r\n\r\nexport class RevenueService {\r\n  private pricingTiers: Map<string, PricingTier> = new Map([\r\n    ['free', {\r\n      id: 'tier-free',\r\n      name: 'free',\r\n      monthlyPrice: 0,\r\n      studentDiscount: 0,\r\n      features: [\r\n        { id: 'f1', name: 'Courses', description: '3 foundational courses', tier: 'free' },\r\n        { id: 'f2', name: 'AI Queries', description: '10 per month', tier: 'free' },\r\n        { id: 'f3', name: 'Storage', description: '1GB', tier: 'free' },\r\n      ],\r\n      limits: {\r\n        coursesPerMonth: 3,\r\n        aiQueriesPerMonth: 10,\r\n        storageGB: 1,\r\n        supportLevel: 'community',\r\n      },\r\n    }],\r\n    ['premium', {\r\n      id: 'tier-premium',\r\n      name: 'premium',\r\n      monthlyPrice: 10,\r\n      studentDiscount: 50,\r\n      features: [\r\n        { id: 'f1', name: 'Courses', description: 'Unlimited', tier: 'premium' },\r\n        { id: 'f2', name: 'AI Queries', description: 'Unlimited', tier: 'premium' },\r\n        { id: 'f3', name: 'Storage', description: '10GB', tier: 'premium' },\r\n        { id: 'f4', name: 'Certificates', description: 'Included', tier: 'premium' },\r\n      ],\r\n      limits: {\r\n        coursesPerMonth: 999,\r\n        aiQueriesPerMonth: 999,\r\n        storageGB: 10,\r\n        supportLevel: 'priority',\r\n      },\r\n    }],\r\n    ['pro', {\r\n      id: 'tier-pro',\r\n      name: 'pro',\r\n      monthlyPrice: 30,\r\n      studentDiscount: 30,\r\n      features: [\r\n        { id: 'f1', name: 'Courses', description: 'Unlimited', tier: 'pro' },\r\n        { id: 'f2', name: 'AI Queries', description: 'Unlimited', tier: 'pro' },\r\n        { id: 'f3', name: 'Storage', description: '100GB', tier: 'pro' },\r\n        { id: 'f4', name: 'Certificates', description: 'Included', tier: 'pro' },\r\n        { id: 'f5', name: 'API Access', description: 'Included', tier: 'pro' },\r\n      ],\r\n      limits: {\r\n        coursesPerMonth: 999,\r\n        aiQueriesPerMonth: 999,\r\n        storageGB: 100,\r\n        supportLevel: 'dedicated',\r\n      },\r\n    }],\r\n  ]);\r\n\r\n  async getPricingTier(tierName: string): Promise<PricingTier | null> {\r\n    return this.pricingTiers.get(tierName) || null;\r\n  }\r\n\r\n  async getAllPricingTiers(): Promise<PricingTier[]> {\r\n    return Array.from(this.pricingTiers.values());\r\n  }\r\n\r\n  async calculatePrice(tier: string, isStudent: boolean): Promise<number> {\r\n    const pricingTier = this.pricingTiers.get(tier);\r\n    if (!pricingTier) {\r\n      throw new Error(`Pricing tier not found: ${tier}`);\r\n    }\r\n\r\n    if (isStudent && tier !== 'free') {\r\n      const discount = pricingTier.studentDiscount;\r\n      return pricingTier.monthlyPrice * (1 - discount / 100);\r\n    }\r\n\r\n    return pricingTier.monthlyPrice;\r\n  }\r\n\r\n  async trackConversionEvent(\r\n    studentId: string,\r\n    eventType: string,\r\n    triggerValue: number\r\n  ): Promise<ConversionOffer | null> {\r\n    try {\r\n      // Create conversion event\r\n      const event = await prisma.conversionEvent.create({\r\n        data: {\r\n          studentId,\r\n          eventType,\r\n          triggerValue,\r\n        },\r\n      });\r\n\r\n      logger.info(`Conversion event tracked: ${studentId} - ${eventType}`);\r\n\r\n      // Check if conversion offer should be triggered\r\n      if (this.shouldTriggerOffer(eventType, triggerValue)) {\r\n        return await this.createConversionOffer(studentId, event.id);\r\n      }\r\n\r\n      return null;\r\n    } catch (error) {\r\n      logger.error('Error tracking conversion event:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  private shouldTriggerOffer(eventType: string, triggerValue: number): boolean {\r\n    const triggers: Record<string, number> = {\r\n      'module_completion': 40,\r\n      'assessment_pass': 70,\r\n      'course_completion': 100,\r\n    };\r\n\r\n    return triggerValue >= (triggers[eventType] || 100);\r\n  }\r\n\r\n  private async createConversionOffer(\r\n    studentId: string,\r\n    eventId: string\r\n  ): Promise<ConversionOffer> {\r\n    const expiresAt = new Date();\r\n    expiresAt.setDate(expiresAt.getDate() + 7); // 7-day expiry\r\n\r\n    const offer = await prisma.conversionOffer.create({\r\n      data: {\r\n        eventId,\r\n        studentId,\r\n        offerType: 'upgrade_discount',\r\n        discount: 50,\r\n        expiresAt,\r\n      },\r\n    });\r\n\r\n    logger.info(`Conversion offer created: ${studentId}`);\r\n    return offer as ConversionOffer;\r\n  }\r\n\r\n  async acceptConversionOffer(offerId: string): Promise<ConversionOffer> {\r\n    try {\r\n      const offer = await prisma.conversionOffer.update({\r\n        where: { id: offerId },\r\n        data: {\r\n          accepted: true,\r\n          acceptedAt: new Date(),\r\n        },\r\n      });\r\n\r\n      logger.info(`Conversion offer accepted: ${offerId}`);\r\n      return offer as ConversionOffer;\r\n    } catch (error) {\r\n      logger.error('Error accepting conversion offer:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async processPayment(\r\n    studentId: string,\r\n    courseId: string,\r\n    tier: string,\r\n    amount: number\r\n  ): Promise<Payment> {\r\n    try {\r\n      const period = new Date().toISOString().slice(0, 7); // YYYY-MM\r\n\r\n      const payment = await prisma.payment.create({\r\n        data: {\r\n          studentId,\r\n          courseId,\r\n          amount,\r\n          tier,\r\n          period,\r\n          status: 'completed',\r\n        },\r\n      });\r\n\r\n      logger.info(`Payment processed: ${studentId} - ${courseId} - $${amount}`);\r\n      return {\r\n        ...payment,\r\n        amount: typeof payment.amount === 'number' ? payment.amount : Number(payment.amount),\r\n      } as unknown as Payment;\r\n    } catch (error) {\r\n      logger.error('Error processing payment:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getRevenueByPeriod(period: string): Promise<number> {\r\n    try {\r\n      const result = await prisma.payment.aggregate({\r\n        where: { period, status: 'completed' },\r\n        _sum: { amount: true },\r\n      });\r\n\r\n      return result._sum.amount ? Number(result._sum.amount) : 0;\r\n    } catch (error) {\r\n      logger.error('Error getting revenue by period:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getConversionMetrics(period: string): Promise<any> {\r\n    try {\r\n      const freeUsers = await prisma.user.count({\r\n        where: { tier: 'free' },\r\n      });\r\n\r\n      const premiumUsers = await prisma.user.count({\r\n        where: { tier: 'premium' },\r\n      });\r\n\r\n      const proUsers = await prisma.user.count({\r\n        where: { tier: 'pro' },\r\n      });\r\n\r\n      const totalUsers = freeUsers + premiumUsers + proUsers;\r\n      const conversionRate = totalUsers > 0 ? ((premiumUsers + proUsers) / totalUsers) * 100 : 0;\r\n\r\n      return {\r\n        period,\r\n        freeUsers,\r\n        premiumUsers,\r\n        proUsers,\r\n        totalUsers,\r\n        conversionRate: Math.round(conversionRate * 100) / 100,\r\n      };\r\n    } catch (error) {\r\n      logger.error('Error getting conversion metrics:', error);\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n\r\nexport const revenueService = new RevenueService();\r\n"],"mappings":";;;;;;;AAAA;AAAA;AAAAA,MAAA,GAAAC,OAAA;AAEA;AAAA;AAAAC,OAAA,GAAAD,OAAA;AAAyC;AAAA,SAAAE,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;Q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","ignoreList":[]}