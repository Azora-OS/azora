{"version":3,"names":["path","_interopRequireWildcard","require","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","FormBuilder","generateForm","spec","outputDir","changes","componentPath","join","toKebabCase","name","push","type","content","generateFormComponent","zodSchema","schemaPath","generateZodSchema","componentName","toPascalCase","schemaName","toCamelCase","hasSubmitEndpoint","submitEndpoint","generateMutationHook","onSuccessRedirect","generateFormFields","fields","submitMethod","map","field","generateFormField","generateTextareaField","generateSelectField","generateCheckboxField","generateRadioField","generateInputField","label","required","placeholder","options","opt","value","typeName","generateZodFieldValidation","validation","getBaseZodType","v","minLength","undefined","maxLength","pattern","min","max","length","values","str","replace","_","c","toUpperCase","pascal","charAt","toLowerCase","slice","exports"],"sources":["FormBuilder.ts"],"sourcesContent":["import { FileChange } from './ChangesetManager';\nimport * as path from 'path';\n\nexport interface FormField {\n  name: string;\n  type: 'text' | 'email' | 'password' | 'number' | 'tel' | 'url' | 'date' | 'textarea' | 'select' | 'checkbox' | 'radio';\n  label: string;\n  placeholder?: string;\n  required?: boolean;\n  validation?: FieldValidation;\n  options?: Array<{ label: string; value: string | number }>; // For select/radio\n  defaultValue?: any;\n}\n\nexport interface FieldValidation {\n  min?: number;\n  max?: number;\n  minLength?: number;\n  maxLength?: number;\n  pattern?: string;\n  custom?: string; // Custom validation function\n}\n\nexport interface FormSpec {\n  id: string;\n  name: string;\n  fields: FormField[];\n  submitEndpoint?: string;\n  submitMethod?: 'POST' | 'PUT' | 'PATCH';\n  onSuccessRedirect?: string;\n  zodSchema?: string; // Backend Zod schema to sync with\n}\n\nexport class FormBuilder {\n  /**\n   * Generate a complete form component with React Hook Form and validation\n   */\n  generateForm(spec: FormSpec, outputDir: string): FileChange[] {\n    const changes: FileChange[] = [];\n    const componentPath = path.join(outputDir, 'components', 'forms', `${this.toKebabCase(spec.name)}.tsx`);\n    \n    changes.push({\n      path: componentPath,\n      type: 'create',\n      content: this.generateFormComponent(spec),\n    });\n\n    // Generate Zod schema if not provided\n    if (!spec.zodSchema) {\n      const schemaPath = path.join(outputDir, 'schemas', `${this.toKebabCase(spec.name)}-schema.ts`);\n      changes.push({\n        path: schemaPath,\n        type: 'create',\n        content: this.generateZodSchema(spec),\n      });\n    }\n\n    return changes;\n  }\n\n  /**\n   * Generate form component with React Hook Form\n   */\n  private generateFormComponent(spec: FormSpec): string {\n    const componentName = this.toPascalCase(spec.name);\n    const schemaName = `${this.toCamelCase(spec.name)}Schema`;\n    const hasSubmitEndpoint = !!spec.submitEndpoint;\n    \n    return `'use client';\n\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\n${hasSubmitEndpoint ? \"import { useMutation } from '@tanstack/react-query';\" : ''}\n${hasSubmitEndpoint ? \"import { useRouter } from 'next/navigation';\" : ''}\nimport { ${schemaName}, type ${this.toPascalCase(spec.name)}FormData } from '@/schemas/${this.toKebabCase(spec.name)}-schema';\n\ninterface ${componentName}Props {\n  defaultValues?: Partial<${this.toPascalCase(spec.name)}FormData>;\n  onSubmit?: (data: ${this.toPascalCase(spec.name)}FormData) => void | Promise<void>;\n}\n\nexport default function ${componentName}({ defaultValues, onSubmit }: ${componentName}Props) {\n  ${hasSubmitEndpoint ? 'const router = useRouter();' : ''}\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting },\n    reset,\n  } = useForm<${this.toPascalCase(spec.name)}FormData>({\n    resolver: zodResolver(${schemaName}),\n    defaultValues,\n  });\n\n  ${hasSubmitEndpoint ? this.generateMutationHook(spec) : ''}\n\n  const onSubmitHandler = async (data: ${this.toPascalCase(spec.name)}FormData) => {\n    try {\n      ${hasSubmitEndpoint ? `\n      await mutation.mutateAsync(data);\n      ${spec.onSuccessRedirect ? `router.push('${spec.onSuccessRedirect}');` : ''}\n      reset();\n      ` : `\n      if (onSubmit) {\n        await onSubmit(data);\n      }\n      `}\n    } catch (error) {\n      console.error('Form submission error:', error);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmitHandler)} className=\"space-y-6 max-w-2xl\">\n      ${this.generateFormFields(spec.fields)}\n\n      <div className=\"flex items-center justify-between pt-4\">\n        <button\n          type=\"button\"\n          onClick={() => reset()}\n          className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n        >\n          Reset\n        </button>\n        <button\n          type=\"submit\"\n          disabled={isSubmitting${hasSubmitEndpoint ? ' || mutation.isPending' : ''}}\n          className=\"px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {isSubmitting${hasSubmitEndpoint ? ' || mutation.isPending' : ''} ? 'Submitting...' : 'Submit'}\n        </button>\n      </div>\n\n      ${hasSubmitEndpoint ? `\n      {mutation.isError && (\n        <div className=\"rounded-md bg-red-50 p-4\">\n          <p className=\"text-sm text-red-800\">\n            Error: {mutation.error instanceof Error ? mutation.error.message : 'An error occurred'}\n          </p>\n        </div>\n      )}\n\n      {mutation.isSuccess && (\n        <div className=\"rounded-md bg-green-50 p-4\">\n          <p className=\"text-sm text-green-800\">Form submitted successfully!</p>\n        </div>\n      )}\n      ` : ''}\n    </form>\n  );\n}\n`;\n  }\n\n  /**\n   * Generate mutation hook for form submission\n   */\n  private generateMutationHook(spec: FormSpec): string {\n    if (!spec.submitEndpoint) return '';\n    \n    return `\n  const mutation = useMutation({\n    mutationFn: async (data: ${this.toPascalCase(spec.name)}FormData) => {\n      const response = await fetch('${spec.submitEndpoint}', {\n        method: '${spec.submitMethod || 'POST'}',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n      });\n\n      if (!response.ok) {\n        throw new Error(\\`HTTP error! status: \\${response.status}\\`);\n      }\n\n      return response.json();\n    },\n  });\n`;\n  }\n\n  /**\n   * Generate form fields JSX\n   */\n  private generateFormFields(fields: FormField[]): string {\n    return fields.map(field => this.generateFormField(field)).join('\\n\\n      ');\n  }\n\n  /**\n   * Generate a single form field\n   */\n  private generateFormField(field: FormField): string {\n    switch (field.type) {\n      case 'textarea':\n        return this.generateTextareaField(field);\n      case 'select':\n        return this.generateSelectField(field);\n      case 'checkbox':\n        return this.generateCheckboxField(field);\n      case 'radio':\n        return this.generateRadioField(field);\n      default:\n        return this.generateInputField(field);\n    }\n  }\n\n  /**\n   * Generate standard input field\n   */\n  private generateInputField(field: FormField): string {\n    return `<div>\n        <label htmlFor=\"${field.name}\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n          ${field.label}${field.required ? ' *' : ''}\n        </label>\n        <input\n          id=\"${field.name}\"\n          type=\"${field.type}\"\n          {...register('${field.name}')}\n          placeholder=\"${field.placeholder || ''}\"\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        />\n        {errors.${field.name} && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.${field.name}?.message}</p>\n        )}\n      </div>`;\n  }\n\n  /**\n   * Generate textarea field\n   */\n  private generateTextareaField(field: FormField): string {\n    return `<div>\n        <label htmlFor=\"${field.name}\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n          ${field.label}${field.required ? ' *' : ''}\n        </label>\n        <textarea\n          id=\"${field.name}\"\n          {...register('${field.name}')}\n          placeholder=\"${field.placeholder || ''}\"\n          rows={4}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        />\n        {errors.${field.name} && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.${field.name}?.message}</p>\n        )}\n      </div>`;\n  }\n\n  /**\n   * Generate select field\n   */\n  private generateSelectField(field: FormField): string {\n    const options = field.options || [];\n    return `<div>\n        <label htmlFor=\"${field.name}\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n          ${field.label}${field.required ? ' *' : ''}\n        </label>\n        <select\n          id=\"${field.name}\"\n          {...register('${field.name}')}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        >\n          <option value=\"\">Select an option</option>\n          ${options.map(opt => `<option value=\"${opt.value}\">${opt.label}</option>`).join('\\n          ')}\n        </select>\n        {errors.${field.name} && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.${field.name}?.message}</p>\n        )}\n      </div>`;\n  }\n\n  /**\n   * Generate checkbox field\n   */\n  private generateCheckboxField(field: FormField): string {\n    return `<div className=\"flex items-center\">\n        <input\n          id=\"${field.name}\"\n          type=\"checkbox\"\n          {...register('${field.name}')}\n          className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n        />\n        <label htmlFor=\"${field.name}\" className=\"ml-2 block text-sm text-gray-900\">\n          ${field.label}${field.required ? ' *' : ''}\n        </label>\n        {errors.${field.name} && (\n          <p className=\"ml-6 text-sm text-red-600\">{errors.${field.name}?.message}</p>\n        )}\n      </div>`;\n  }\n\n  /**\n   * Generate radio field group\n   */\n  private generateRadioField(field: FormField): string {\n    const options = field.options || [];\n    return `<div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          ${field.label}${field.required ? ' *' : ''}\n        </label>\n        <div className=\"space-y-2\">\n          ${options.map(opt => `\n          <div className=\"flex items-center\">\n            <input\n              id=\"${field.name}-${opt.value}\"\n              type=\"radio\"\n              value=\"${opt.value}\"\n              {...register('${field.name}')}\n              className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n            />\n            <label htmlFor=\"${field.name}-${opt.value}\" className=\"ml-2 block text-sm text-gray-900\">\n              ${opt.label}\n            </label>\n          </div>`).join('\\n          ')}\n        </div>\n        {errors.${field.name} && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.${field.name}?.message}</p>\n        )}\n      </div>`;\n  }\n\n  /**\n   * Generate Zod validation schema\n   */\n  private generateZodSchema(spec: FormSpec): string {\n    const schemaName = `${this.toCamelCase(spec.name)}Schema`;\n    const typeName = `${this.toPascalCase(spec.name)}FormData`;\n    \n    return `import { z } from 'zod';\n\nexport const ${schemaName} = z.object({\n${spec.fields.map(field => this.generateZodFieldValidation(field)).join(',\\n')}\n});\n\nexport type ${typeName} = z.infer<typeof ${schemaName}>;\n`;\n  }\n\n  /**\n   * Generate Zod validation for a single field\n   */\n  private generateZodFieldValidation(field: FormField): string {\n    let validation = this.getBaseZodType(field);\n    \n    // Add validation rules\n    if (field.validation) {\n      const v = field.validation;\n      \n      if (field.type === 'text' || field.type === 'textarea' || field.type === 'email' || field.type === 'password' || field.type === 'tel' || field.type === 'url') {\n        if (v.minLength !== undefined) {\n          validation += `.min(${v.minLength}, { message: '${field.label} must be at least ${v.minLength} characters' })`;\n        }\n        if (v.maxLength !== undefined) {\n          validation += `.max(${v.maxLength}, { message: '${field.label} must be at most ${v.maxLength} characters' })`;\n        }\n        if (v.pattern) {\n          validation += `.regex(/${v.pattern}/, { message: '${field.label} format is invalid' })`;\n        }\n      }\n      \n      if (field.type === 'number') {\n        if (v.min !== undefined) {\n          validation += `.min(${v.min}, { message: '${field.label} must be at least ${v.min}' })`;\n        }\n        if (v.max !== undefined) {\n          validation += `.max(${v.max}, { message: '${field.label} must be at most ${v.max}' })`;\n        }\n      }\n    }\n    \n    // Make optional if not required\n    if (!field.required) {\n      validation += '.optional()';\n    }\n    \n    return `  ${field.name}: ${validation}`;\n  }\n\n  /**\n   * Get base Zod type for field\n   */\n  private getBaseZodType(field: FormField): string {\n    switch (field.type) {\n      case 'email':\n        return \"z.string().email({ message: 'Invalid email address' })\";\n      case 'url':\n        return \"z.string().url({ message: 'Invalid URL' })\";\n      case 'number':\n        return 'z.number({ required_error: `${field.label} is required` })';\n      case 'date':\n        return 'z.string().datetime()';\n      case 'checkbox':\n        return 'z.boolean()';\n      case 'select':\n      case 'radio':\n        if (field.options && field.options.length > 0) {\n          const values = field.options.map(o => `'${o.value}'`).join(', ');\n          return `z.enum([${values}])`;\n        }\n        return \"z.string()\";\n      default:\n        return `z.string({ required_error: '${field.label} is required' })`;\n    }\n  }\n\n  /**\n   * Convert string to PascalCase\n   */\n  private toPascalCase(str: string): string {\n    return str.replace(/[-_\\s]+(.)?/g, (_, c) => c ? c.toUpperCase() : '')\n      .replace(/^[a-z]/, c => c.toUpperCase());\n  }\n\n  /**\n   * Convert string to camelCase\n   */\n  private toCamelCase(str: string): string {\n    const pascal = this.toPascalCase(str);\n    return pascal.charAt(0).toLowerCase() + pascal.slice(1);\n  }\n\n  /**\n   * Convert string to kebab-case\n   */\n  private toKebabCase(str: string): string {\n    return str\n      .replace(/([a-z])([A-Z])/g, '$1-$2')\n      .replace(/[\\s_]+/g, '-')\n      .toLowerCase();\n  }\n}\n"],"mappings":"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","ignoreList":[]}