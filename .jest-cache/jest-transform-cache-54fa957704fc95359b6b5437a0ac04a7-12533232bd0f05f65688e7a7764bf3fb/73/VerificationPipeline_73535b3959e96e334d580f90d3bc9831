5689a45fd24e69645c6291f668be890c
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.VerificationPipeline = void 0;
var _child_process = require("child_process");
var _util = require("util");
var _PlaywrightRunner = require("./PlaywrightRunner");
var _AccessibilityChecker = require("./AccessibilityChecker");
var _LighthouseRunner = require("./LighthouseRunner");
const execAsync = (0, _util.promisify)(_child_process.exec);
class VerificationPipeline {
  constructor(projectRoot) {
    this.projectRoot = projectRoot;
    this.playwrightRunner = new _PlaywrightRunner.PlaywrightRunner(projectRoot);
    this.accessibilityChecker = new _AccessibilityChecker.AccessibilityChecker(projectRoot);
    this.lighthouseRunner = new _LighthouseRunner.LighthouseRunner(projectRoot);
  }
  async runTests(pattern) {
    try {
      const command = pattern ? `npm test -- ${pattern}` : 'npm test';
      const {
        stdout
      } = await execAsync(command, {
        cwd: this.projectRoot,
        timeout: 300000 // 5 minutes
      });
      return this.parseTestOutput(stdout);
    } catch (error) {
      return {
        passed: 0,
        failed: 1,
        total: 1,
        duration: 0,
        failures: [{
          test: 'Test execution',
          error: error.message,
          file: ''
        }]
      };
    }
  }
  async verify(includeE2E = false, includeAccessibility = false, includePerformance = false, previewUrl) {
    const tests = await this.runTests();
    let e2eTests;
    let accessibility;
    let performance;
    if (includeE2E) {
      e2eTests = await this.runE2ETests();
    }
    if (includeAccessibility && previewUrl) {
      accessibility = await this.checkAccessibility(previewUrl);
    }
    if (includePerformance && previewUrl) {
      performance = await this.measurePerformance(previewUrl);
    }
    const allPassed = tests.failed === 0 && (!e2eTests || e2eTests.failed === 0) && (!accessibility || accessibility.passed) && (!performance || performance.passed);
    const blockers = [...tests.failures.map(f => f.error), ...(e2eTests?.results.filter(r => !r.passed).map(r => r.error || 'E2E test failed') || []), ...(accessibility?.blockers || []), ...(performance && !performance.passed ? [`Performance score below threshold: ${performance.scores.performance}`] : [])];
    return {
      tests,
      e2eTests,
      accessibility,
      performance,
      passed: allPassed,
      blockers,
      timestamp: new Date()
    };
  }
  async runE2ETests(scenarios) {
    try {
      // Configure Playwright if not already done
      await this.playwrightRunner.configure();

      // Start preview server
      await this.playwrightRunner.startPreviewServer();

      // Run tests
      const results = await this.playwrightRunner.runTests(scenarios);

      // Stop preview server
      await this.playwrightRunner.stopPreviewServer();
      return results;
    } catch (error) {
      return {
        passed: 0,
        failed: 1,
        total: 1,
        duration: 0,
        results: [{
          scenario: 'E2E Test Setup',
          passed: false,
          duration: 0,
          error: error.message
        }]
      };
    }
  }
  async generateE2EScenarios(userJourneys) {
    return this.playwrightRunner.generateTestScenarios(userJourneys);
  }

  /**
   * Check accessibility of a preview URL
   */
  async checkAccessibility(url, options) {
    try {
      return await this.accessibilityChecker.checkAccessibility(url, options);
    } catch (error) {
      return {
        url,
        timestamp: new Date(),
        violations: [],
        passes: 0,
        incomplete: 0,
        inapplicable: 0,
        summary: {
          critical: 0,
          serious: 0,
          moderate: 0,
          minor: 0,
          total: 0
        },
        passed: false,
        blockers: [`Accessibility check failed: ${error.message}`]
      };
    }
  }

  /**
   * Check accessibility of multiple pages
   */
  async checkMultiplePages(urls, options) {
    return await this.accessibilityChecker.checkMultiplePages(urls, options);
  }

  /**
   * Generate HTML report for accessibility violations
   */
  async generateAccessibilityReport(report, outputPath) {
    await this.accessibilityChecker.generateHTMLReport(report, outputPath);
  }

  /**
   * Measure performance with Lighthouse
   */
  async measurePerformance(url, options) {
    try {
      await this.lighthouseRunner.initialize();
      return await this.lighthouseRunner.runAudit(url, options);
    } catch (error) {
      return {
        url,
        timestamp: new Date(),
        scores: {
          performance: 0,
          accessibility: 0,
          bestPractices: 0,
          seo: 0,
          pwa: 0
        },
        coreWebVitals: {
          LCP: 0,
          FID: 0,
          CLS: 0,
          FCP: 0,
          TTI: 0,
          TBT: 0,
          SI: 0
        },
        recommendations: [],
        passed: false
      };
    }
  }

  /**
   * Measure Core Web Vitals specifically
   */
  async measureCoreWebVitals(url) {
    await this.lighthouseRunner.initialize();
    return await this.lighthouseRunner.measureCoreWebVitals(url);
  }

  /**
   * Get performance scores
   */
  async getPerformanceScores(url) {
    await this.lighthouseRunner.initialize();
    return await this.lighthouseRunner.getPerformanceScores(url);
  }

  /**
   * Get performance recommendations
   */
  async getPerformanceRecommendations(url) {
    await this.lighthouseRunner.initialize();
    return await this.lighthouseRunner.getRecommendations(url);
  }

  /**
   * Measure performance on multiple pages
   */
  async measureMultiplePages(urls, options) {
    await this.lighthouseRunner.initialize();
    return await this.lighthouseRunner.runMultipleAudits(urls, options);
  }

  /**
   * Get performance history for a URL
   */
  getPerformanceHistory(url) {
    return this.lighthouseRunner.getHistory(url);
  }

  /**
   * Get all performance history
   */
  getAllPerformanceHistory() {
    return this.lighthouseRunner.getAllHistory();
  }

  /**
   * Get performance trend for a URL
   */
  getPerformanceTrend(url) {
    return this.lighthouseRunner.getTrend(url);
  }

  /**
   * Compare two performance reports
   */
  comparePerformanceReports(baseline, current) {
    return this.lighthouseRunner.compareReports(baseline, current);
  }

  /**
   * Generate HTML report for performance
   */
  async generatePerformanceReport(report, outputPath) {
    await this.lighthouseRunner.generateHTMLReport(report, outputPath);
  }

  /**
   * Close all resources
   */
  async close() {
    await this.accessibilityChecker.close();
  }
  parseTestOutput(output) {
    // Simplified parser - would be more robust in production
    const passedMatch = output.match(/(\d+) passed/);
    const failedMatch = output.match(/(\d+) failed/);
    return {
      passed: passedMatch ? parseInt(passedMatch[1]) : 0,
      failed: failedMatch ? parseInt(failedMatch[1]) : 0,
      total: 0,
      duration: 0,
      failures: []
    };
  }
}
exports.VerificationPipeline = VerificationPipeline;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2hpbGRfcHJvY2VzcyIsInJlcXVpcmUiLCJfdXRpbCIsIl9QbGF5d3JpZ2h0UnVubmVyIiwiX0FjY2Vzc2liaWxpdHlDaGVja2VyIiwiX0xpZ2h0aG91c2VSdW5uZXIiLCJleGVjQXN5bmMiLCJwcm9taXNpZnkiLCJleGVjIiwiVmVyaWZpY2F0aW9uUGlwZWxpbmUiLCJjb25zdHJ1Y3RvciIsInByb2plY3RSb290IiwicGxheXdyaWdodFJ1bm5lciIsIlBsYXl3cmlnaHRSdW5uZXIiLCJhY2Nlc3NpYmlsaXR5Q2hlY2tlciIsIkFjY2Vzc2liaWxpdHlDaGVja2VyIiwibGlnaHRob3VzZVJ1bm5lciIsIkxpZ2h0aG91c2VSdW5uZXIiLCJydW5UZXN0cyIsInBhdHRlcm4iLCJjb21tYW5kIiwic3Rkb3V0IiwiY3dkIiwidGltZW91dCIsInBhcnNlVGVzdE91dHB1dCIsImVycm9yIiwicGFzc2VkIiwiZmFpbGVkIiwidG90YWwiLCJkdXJhdGlvbiIsImZhaWx1cmVzIiwidGVzdCIsIm1lc3NhZ2UiLCJmaWxlIiwidmVyaWZ5IiwiaW5jbHVkZUUyRSIsImluY2x1ZGVBY2Nlc3NpYmlsaXR5IiwiaW5jbHVkZVBlcmZvcm1hbmNlIiwicHJldmlld1VybCIsInRlc3RzIiwiZTJlVGVzdHMiLCJhY2Nlc3NpYmlsaXR5IiwicGVyZm9ybWFuY2UiLCJydW5FMkVUZXN0cyIsImNoZWNrQWNjZXNzaWJpbGl0eSIsIm1lYXN1cmVQZXJmb3JtYW5jZSIsImFsbFBhc3NlZCIsImJsb2NrZXJzIiwibWFwIiwiZiIsInJlc3VsdHMiLCJmaWx0ZXIiLCJyIiwic2NvcmVzIiwidGltZXN0YW1wIiwiRGF0ZSIsInNjZW5hcmlvcyIsImNvbmZpZ3VyZSIsInN0YXJ0UHJldmlld1NlcnZlciIsInN0b3BQcmV2aWV3U2VydmVyIiwic2NlbmFyaW8iLCJnZW5lcmF0ZUUyRVNjZW5hcmlvcyIsInVzZXJKb3VybmV5cyIsImdlbmVyYXRlVGVzdFNjZW5hcmlvcyIsInVybCIsIm9wdGlvbnMiLCJ2aW9sYXRpb25zIiwicGFzc2VzIiwiaW5jb21wbGV0ZSIsImluYXBwbGljYWJsZSIsInN1bW1hcnkiLCJjcml0aWNhbCIsInNlcmlvdXMiLCJtb2RlcmF0ZSIsIm1pbm9yIiwiY2hlY2tNdWx0aXBsZVBhZ2VzIiwidXJscyIsImdlbmVyYXRlQWNjZXNzaWJpbGl0eVJlcG9ydCIsInJlcG9ydCIsIm91dHB1dFBhdGgiLCJnZW5lcmF0ZUhUTUxSZXBvcnQiLCJpbml0aWFsaXplIiwicnVuQXVkaXQiLCJiZXN0UHJhY3RpY2VzIiwic2VvIiwicHdhIiwiY29yZVdlYlZpdGFscyIsIkxDUCIsIkZJRCIsIkNMUyIsIkZDUCIsIlRUSSIsIlRCVCIsIlNJIiwicmVjb21tZW5kYXRpb25zIiwibWVhc3VyZUNvcmVXZWJWaXRhbHMiLCJnZXRQZXJmb3JtYW5jZVNjb3JlcyIsImdldFBlcmZvcm1hbmNlUmVjb21tZW5kYXRpb25zIiwiZ2V0UmVjb21tZW5kYXRpb25zIiwibWVhc3VyZU11bHRpcGxlUGFnZXMiLCJydW5NdWx0aXBsZUF1ZGl0cyIsImdldFBlcmZvcm1hbmNlSGlzdG9yeSIsImdldEhpc3RvcnkiLCJnZXRBbGxQZXJmb3JtYW5jZUhpc3RvcnkiLCJnZXRBbGxIaXN0b3J5IiwiZ2V0UGVyZm9ybWFuY2VUcmVuZCIsImdldFRyZW5kIiwiY29tcGFyZVBlcmZvcm1hbmNlUmVwb3J0cyIsImJhc2VsaW5lIiwiY3VycmVudCIsImNvbXBhcmVSZXBvcnRzIiwiZ2VuZXJhdGVQZXJmb3JtYW5jZVJlcG9ydCIsImNsb3NlIiwib3V0cHV0IiwicGFzc2VkTWF0Y2giLCJtYXRjaCIsImZhaWxlZE1hdGNoIiwicGFyc2VJbnQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiVmVyaWZpY2F0aW9uUGlwZWxpbmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXhlYyB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0IHsgcHJvbWlzaWZ5IH0gZnJvbSAndXRpbCc7XG5pbXBvcnQgeyBQbGF5d3JpZ2h0UnVubmVyLCBFMkVSZXN1bHRzLCBFMkVUZXN0U2NlbmFyaW8gfSBmcm9tICcuL1BsYXl3cmlnaHRSdW5uZXInO1xuaW1wb3J0IHsgQWNjZXNzaWJpbGl0eUNoZWNrZXIsIEExMXlSZXBvcnQsIEExMXlDaGVja09wdGlvbnMgfSBmcm9tICcuL0FjY2Vzc2liaWxpdHlDaGVja2VyJztcbmltcG9ydCB7IExpZ2h0aG91c2VSdW5uZXIsIFBlcmZvcm1hbmNlUmVwb3J0LCBMaWdodGhvdXNlT3B0aW9ucyB9IGZyb20gJy4vTGlnaHRob3VzZVJ1bm5lcic7XG5cbmNvbnN0IGV4ZWNBc3luYyA9IHByb21pc2lmeShleGVjKTtcblxuZXhwb3J0IGludGVyZmFjZSBUZXN0UmVzdWx0cyB7XG4gIHBhc3NlZDogbnVtYmVyO1xuICBmYWlsZWQ6IG51bWJlcjtcbiAgdG90YWw6IG51bWJlcjtcbiAgY292ZXJhZ2U/OiBudW1iZXI7XG4gIGR1cmF0aW9uOiBudW1iZXI7XG4gIGZhaWx1cmVzOiBUZXN0RmFpbHVyZVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRlc3RGYWlsdXJlIHtcbiAgdGVzdDogc3RyaW5nO1xuICBlcnJvcjogc3RyaW5nO1xuICBmaWxlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVyaWZpY2F0aW9uUmVwb3J0IHtcbiAgdGVzdHM6IFRlc3RSZXN1bHRzO1xuICBlMmVUZXN0cz86IEUyRVJlc3VsdHM7XG4gIGFjY2Vzc2liaWxpdHk/OiBBMTF5UmVwb3J0O1xuICBwZXJmb3JtYW5jZT86IFBlcmZvcm1hbmNlUmVwb3J0O1xuICBwYXNzZWQ6IGJvb2xlYW47XG4gIGJsb2NrZXJzOiBzdHJpbmdbXTtcbiAgdGltZXN0YW1wOiBEYXRlO1xufVxuXG5leHBvcnQgY2xhc3MgVmVyaWZpY2F0aW9uUGlwZWxpbmUge1xuICBwcml2YXRlIHByb2plY3RSb290OiBzdHJpbmc7XG4gIHByaXZhdGUgcGxheXdyaWdodFJ1bm5lcjogUGxheXdyaWdodFJ1bm5lcjtcbiAgcHJpdmF0ZSBhY2Nlc3NpYmlsaXR5Q2hlY2tlcjogQWNjZXNzaWJpbGl0eUNoZWNrZXI7XG4gIHByaXZhdGUgbGlnaHRob3VzZVJ1bm5lcjogTGlnaHRob3VzZVJ1bm5lcjtcblxuICBjb25zdHJ1Y3Rvcihwcm9qZWN0Um9vdDogc3RyaW5nKSB7XG4gICAgdGhpcy5wcm9qZWN0Um9vdCA9IHByb2plY3RSb290O1xuICAgIHRoaXMucGxheXdyaWdodFJ1bm5lciA9IG5ldyBQbGF5d3JpZ2h0UnVubmVyKHByb2plY3RSb290KTtcbiAgICB0aGlzLmFjY2Vzc2liaWxpdHlDaGVja2VyID0gbmV3IEFjY2Vzc2liaWxpdHlDaGVja2VyKHByb2plY3RSb290KTtcbiAgICB0aGlzLmxpZ2h0aG91c2VSdW5uZXIgPSBuZXcgTGlnaHRob3VzZVJ1bm5lcihwcm9qZWN0Um9vdCk7XG4gIH1cblxuICBhc3luYyBydW5UZXN0cyhwYXR0ZXJuPzogc3RyaW5nKTogUHJvbWlzZTxUZXN0UmVzdWx0cz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb21tYW5kID0gcGF0dGVybiBcbiAgICAgICAgPyBgbnBtIHRlc3QgLS0gJHtwYXR0ZXJufWAgXG4gICAgICAgIDogJ25wbSB0ZXN0JztcblxuICAgICAgY29uc3QgeyBzdGRvdXQgfSA9IGF3YWl0IGV4ZWNBc3luYyhjb21tYW5kLCB7XG4gICAgICAgIGN3ZDogdGhpcy5wcm9qZWN0Um9vdCxcbiAgICAgICAgdGltZW91dDogMzAwMDAwLCAvLyA1IG1pbnV0ZXNcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdGhpcy5wYXJzZVRlc3RPdXRwdXQoc3Rkb3V0KTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXNzZWQ6IDAsXG4gICAgICAgIGZhaWxlZDogMSxcbiAgICAgICAgdG90YWw6IDEsXG4gICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICBmYWlsdXJlczogW3tcbiAgICAgICAgICB0ZXN0OiAnVGVzdCBleGVjdXRpb24nLFxuICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgIGZpbGU6ICcnLFxuICAgICAgICB9XSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdmVyaWZ5KFxuICAgIGluY2x1ZGVFMkU6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICBpbmNsdWRlQWNjZXNzaWJpbGl0eTogYm9vbGVhbiA9IGZhbHNlLFxuICAgIGluY2x1ZGVQZXJmb3JtYW5jZTogYm9vbGVhbiA9IGZhbHNlLFxuICAgIHByZXZpZXdVcmw/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTxWZXJpZmljYXRpb25SZXBvcnQ+IHtcbiAgICBjb25zdCB0ZXN0cyA9IGF3YWl0IHRoaXMucnVuVGVzdHMoKTtcbiAgICBsZXQgZTJlVGVzdHM6IEUyRVJlc3VsdHMgfCB1bmRlZmluZWQ7XG4gICAgbGV0IGFjY2Vzc2liaWxpdHk6IEExMXlSZXBvcnQgfCB1bmRlZmluZWQ7XG4gICAgbGV0IHBlcmZvcm1hbmNlOiBQZXJmb3JtYW5jZVJlcG9ydCB8IHVuZGVmaW5lZDtcbiAgICBcbiAgICBpZiAoaW5jbHVkZUUyRSkge1xuICAgICAgZTJlVGVzdHMgPSBhd2FpdCB0aGlzLnJ1bkUyRVRlc3RzKCk7XG4gICAgfVxuICAgIFxuICAgIGlmIChpbmNsdWRlQWNjZXNzaWJpbGl0eSAmJiBwcmV2aWV3VXJsKSB7XG4gICAgICBhY2Nlc3NpYmlsaXR5ID0gYXdhaXQgdGhpcy5jaGVja0FjY2Vzc2liaWxpdHkocHJldmlld1VybCk7XG4gICAgfVxuICAgIFxuICAgIGlmIChpbmNsdWRlUGVyZm9ybWFuY2UgJiYgcHJldmlld1VybCkge1xuICAgICAgcGVyZm9ybWFuY2UgPSBhd2FpdCB0aGlzLm1lYXN1cmVQZXJmb3JtYW5jZShwcmV2aWV3VXJsKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgYWxsUGFzc2VkID0gXG4gICAgICB0ZXN0cy5mYWlsZWQgPT09IDAgJiYgXG4gICAgICAoIWUyZVRlc3RzIHx8IGUyZVRlc3RzLmZhaWxlZCA9PT0gMCkgJiZcbiAgICAgICghYWNjZXNzaWJpbGl0eSB8fCBhY2Nlc3NpYmlsaXR5LnBhc3NlZCkgJiZcbiAgICAgICghcGVyZm9ybWFuY2UgfHwgcGVyZm9ybWFuY2UucGFzc2VkKTtcbiAgICBcbiAgICBjb25zdCBibG9ja2VycyA9IFtcbiAgICAgIC4uLnRlc3RzLmZhaWx1cmVzLm1hcChmID0+IGYuZXJyb3IpLFxuICAgICAgLi4uKGUyZVRlc3RzPy5yZXN1bHRzLmZpbHRlcihyID0+ICFyLnBhc3NlZCkubWFwKHIgPT4gci5lcnJvciB8fCAnRTJFIHRlc3QgZmFpbGVkJykgfHwgW10pLFxuICAgICAgLi4uKGFjY2Vzc2liaWxpdHk/LmJsb2NrZXJzIHx8IFtdKSxcbiAgICAgIC4uLihwZXJmb3JtYW5jZSAmJiAhcGVyZm9ybWFuY2UucGFzc2VkID8gW2BQZXJmb3JtYW5jZSBzY29yZSBiZWxvdyB0aHJlc2hvbGQ6ICR7cGVyZm9ybWFuY2Uuc2NvcmVzLnBlcmZvcm1hbmNlfWBdIDogW10pLFxuICAgIF07XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHRlc3RzLFxuICAgICAgZTJlVGVzdHMsXG4gICAgICBhY2Nlc3NpYmlsaXR5LFxuICAgICAgcGVyZm9ybWFuY2UsXG4gICAgICBwYXNzZWQ6IGFsbFBhc3NlZCxcbiAgICAgIGJsb2NrZXJzLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgIH07XG4gIH1cblxuICBhc3luYyBydW5FMkVUZXN0cyhzY2VuYXJpb3M/OiBFMkVUZXN0U2NlbmFyaW9bXSk6IFByb21pc2U8RTJFUmVzdWx0cz4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBDb25maWd1cmUgUGxheXdyaWdodCBpZiBub3QgYWxyZWFkeSBkb25lXG4gICAgICBhd2FpdCB0aGlzLnBsYXl3cmlnaHRSdW5uZXIuY29uZmlndXJlKCk7XG4gICAgICBcbiAgICAgIC8vIFN0YXJ0IHByZXZpZXcgc2VydmVyXG4gICAgICBhd2FpdCB0aGlzLnBsYXl3cmlnaHRSdW5uZXIuc3RhcnRQcmV2aWV3U2VydmVyKCk7XG4gICAgICBcbiAgICAgIC8vIFJ1biB0ZXN0c1xuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMucGxheXdyaWdodFJ1bm5lci5ydW5UZXN0cyhzY2VuYXJpb3MpO1xuICAgICAgXG4gICAgICAvLyBTdG9wIHByZXZpZXcgc2VydmVyXG4gICAgICBhd2FpdCB0aGlzLnBsYXl3cmlnaHRSdW5uZXIuc3RvcFByZXZpZXdTZXJ2ZXIoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGFzc2VkOiAwLFxuICAgICAgICBmYWlsZWQ6IDEsXG4gICAgICAgIHRvdGFsOiAxLFxuICAgICAgICBkdXJhdGlvbjogMCxcbiAgICAgICAgcmVzdWx0czogW3tcbiAgICAgICAgICBzY2VuYXJpbzogJ0UyRSBUZXN0IFNldHVwJyxcbiAgICAgICAgICBwYXNzZWQ6IGZhbHNlLFxuICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICB9XSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVFMkVTY2VuYXJpb3ModXNlckpvdXJuZXlzOiBzdHJpbmdbXVtdKTogUHJvbWlzZTxFMkVUZXN0U2NlbmFyaW9bXT4ge1xuICAgIHJldHVybiB0aGlzLnBsYXl3cmlnaHRSdW5uZXIuZ2VuZXJhdGVUZXN0U2NlbmFyaW9zKHVzZXJKb3VybmV5cyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgYWNjZXNzaWJpbGl0eSBvZiBhIHByZXZpZXcgVVJMXG4gICAqL1xuICBhc3luYyBjaGVja0FjY2Vzc2liaWxpdHkoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IEExMXlDaGVja09wdGlvbnNcbiAgKTogUHJvbWlzZTxBMTF5UmVwb3J0PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmFjY2Vzc2liaWxpdHlDaGVja2VyLmNoZWNrQWNjZXNzaWJpbGl0eSh1cmwsIG9wdGlvbnMpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVybCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICB2aW9sYXRpb25zOiBbXSxcbiAgICAgICAgcGFzc2VzOiAwLFxuICAgICAgICBpbmNvbXBsZXRlOiAwLFxuICAgICAgICBpbmFwcGxpY2FibGU6IDAsXG4gICAgICAgIHN1bW1hcnk6IHtcbiAgICAgICAgICBjcml0aWNhbDogMCxcbiAgICAgICAgICBzZXJpb3VzOiAwLFxuICAgICAgICAgIG1vZGVyYXRlOiAwLFxuICAgICAgICAgIG1pbm9yOiAwLFxuICAgICAgICAgIHRvdGFsOiAwLFxuICAgICAgICB9LFxuICAgICAgICBwYXNzZWQ6IGZhbHNlLFxuICAgICAgICBibG9ja2VyczogW2BBY2Nlc3NpYmlsaXR5IGNoZWNrIGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWBdLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgYWNjZXNzaWJpbGl0eSBvZiBtdWx0aXBsZSBwYWdlc1xuICAgKi9cbiAgYXN5bmMgY2hlY2tNdWx0aXBsZVBhZ2VzKFxuICAgIHVybHM6IHN0cmluZ1tdLFxuICAgIG9wdGlvbnM/OiBBMTF5Q2hlY2tPcHRpb25zXG4gICk6IFByb21pc2U8QTExeVJlcG9ydFtdPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuYWNjZXNzaWJpbGl0eUNoZWNrZXIuY2hlY2tNdWx0aXBsZVBhZ2VzKHVybHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIEhUTUwgcmVwb3J0IGZvciBhY2Nlc3NpYmlsaXR5IHZpb2xhdGlvbnNcbiAgICovXG4gIGFzeW5jIGdlbmVyYXRlQWNjZXNzaWJpbGl0eVJlcG9ydChcbiAgICByZXBvcnQ6IEExMXlSZXBvcnQsXG4gICAgb3V0cHV0UGF0aDogc3RyaW5nXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMuYWNjZXNzaWJpbGl0eUNoZWNrZXIuZ2VuZXJhdGVIVE1MUmVwb3J0KHJlcG9ydCwgb3V0cHV0UGF0aCk7XG4gIH1cblxuICAvKipcbiAgICogTWVhc3VyZSBwZXJmb3JtYW5jZSB3aXRoIExpZ2h0aG91c2VcbiAgICovXG4gIGFzeW5jIG1lYXN1cmVQZXJmb3JtYW5jZShcbiAgICB1cmw6IHN0cmluZyxcbiAgICBvcHRpb25zPzogTGlnaHRob3VzZU9wdGlvbnNcbiAgKTogUHJvbWlzZTxQZXJmb3JtYW5jZVJlcG9ydD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmxpZ2h0aG91c2VSdW5uZXIuaW5pdGlhbGl6ZSgpO1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubGlnaHRob3VzZVJ1bm5lci5ydW5BdWRpdCh1cmwsIG9wdGlvbnMpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVybCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBzY29yZXM6IHtcbiAgICAgICAgICBwZXJmb3JtYW5jZTogMCxcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiAwLFxuICAgICAgICAgIGJlc3RQcmFjdGljZXM6IDAsXG4gICAgICAgICAgc2VvOiAwLFxuICAgICAgICAgIHB3YTogMCxcbiAgICAgICAgfSxcbiAgICAgICAgY29yZVdlYlZpdGFsczoge1xuICAgICAgICAgIExDUDogMCxcbiAgICAgICAgICBGSUQ6IDAsXG4gICAgICAgICAgQ0xTOiAwLFxuICAgICAgICAgIEZDUDogMCxcbiAgICAgICAgICBUVEk6IDAsXG4gICAgICAgICAgVEJUOiAwLFxuICAgICAgICAgIFNJOiAwLFxuICAgICAgICB9LFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtdLFxuICAgICAgICBwYXNzZWQ6IGZhbHNlLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWVhc3VyZSBDb3JlIFdlYiBWaXRhbHMgc3BlY2lmaWNhbGx5XG4gICAqL1xuICBhc3luYyBtZWFzdXJlQ29yZVdlYlZpdGFscyh1cmw6IHN0cmluZykge1xuICAgIGF3YWl0IHRoaXMubGlnaHRob3VzZVJ1bm5lci5pbml0aWFsaXplKCk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubGlnaHRob3VzZVJ1bm5lci5tZWFzdXJlQ29yZVdlYlZpdGFscyh1cmwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBwZXJmb3JtYW5jZSBzY29yZXNcbiAgICovXG4gIGFzeW5jIGdldFBlcmZvcm1hbmNlU2NvcmVzKHVybDogc3RyaW5nKSB7XG4gICAgYXdhaXQgdGhpcy5saWdodGhvdXNlUnVubmVyLmluaXRpYWxpemUoKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5saWdodGhvdXNlUnVubmVyLmdldFBlcmZvcm1hbmNlU2NvcmVzKHVybCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHBlcmZvcm1hbmNlIHJlY29tbWVuZGF0aW9uc1xuICAgKi9cbiAgYXN5bmMgZ2V0UGVyZm9ybWFuY2VSZWNvbW1lbmRhdGlvbnModXJsOiBzdHJpbmcpIHtcbiAgICBhd2FpdCB0aGlzLmxpZ2h0aG91c2VSdW5uZXIuaW5pdGlhbGl6ZSgpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmxpZ2h0aG91c2VSdW5uZXIuZ2V0UmVjb21tZW5kYXRpb25zKHVybCk7XG4gIH1cblxuICAvKipcbiAgICogTWVhc3VyZSBwZXJmb3JtYW5jZSBvbiBtdWx0aXBsZSBwYWdlc1xuICAgKi9cbiAgYXN5bmMgbWVhc3VyZU11bHRpcGxlUGFnZXMoXG4gICAgdXJsczogc3RyaW5nW10sXG4gICAgb3B0aW9ucz86IExpZ2h0aG91c2VPcHRpb25zXG4gICk6IFByb21pc2U8UGVyZm9ybWFuY2VSZXBvcnRbXT4ge1xuICAgIGF3YWl0IHRoaXMubGlnaHRob3VzZVJ1bm5lci5pbml0aWFsaXplKCk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubGlnaHRob3VzZVJ1bm5lci5ydW5NdWx0aXBsZUF1ZGl0cyh1cmxzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcGVyZm9ybWFuY2UgaGlzdG9yeSBmb3IgYSBVUkxcbiAgICovXG4gIGdldFBlcmZvcm1hbmNlSGlzdG9yeSh1cmw6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmxpZ2h0aG91c2VSdW5uZXIuZ2V0SGlzdG9yeSh1cmwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgcGVyZm9ybWFuY2UgaGlzdG9yeVxuICAgKi9cbiAgZ2V0QWxsUGVyZm9ybWFuY2VIaXN0b3J5KCkge1xuICAgIHJldHVybiB0aGlzLmxpZ2h0aG91c2VSdW5uZXIuZ2V0QWxsSGlzdG9yeSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBwZXJmb3JtYW5jZSB0cmVuZCBmb3IgYSBVUkxcbiAgICovXG4gIGdldFBlcmZvcm1hbmNlVHJlbmQodXJsOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5saWdodGhvdXNlUnVubmVyLmdldFRyZW5kKHVybCk7XG4gIH1cblxuICAvKipcbiAgICogQ29tcGFyZSB0d28gcGVyZm9ybWFuY2UgcmVwb3J0c1xuICAgKi9cbiAgY29tcGFyZVBlcmZvcm1hbmNlUmVwb3J0cyhiYXNlbGluZTogUGVyZm9ybWFuY2VSZXBvcnQsIGN1cnJlbnQ6IFBlcmZvcm1hbmNlUmVwb3J0KSB7XG4gICAgcmV0dXJuIHRoaXMubGlnaHRob3VzZVJ1bm5lci5jb21wYXJlUmVwb3J0cyhiYXNlbGluZSwgY3VycmVudCk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgSFRNTCByZXBvcnQgZm9yIHBlcmZvcm1hbmNlXG4gICAqL1xuICBhc3luYyBnZW5lcmF0ZVBlcmZvcm1hbmNlUmVwb3J0KFxuICAgIHJlcG9ydDogUGVyZm9ybWFuY2VSZXBvcnQsXG4gICAgb3V0cHV0UGF0aDogc3RyaW5nXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMubGlnaHRob3VzZVJ1bm5lci5nZW5lcmF0ZUhUTUxSZXBvcnQocmVwb3J0LCBvdXRwdXRQYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSBhbGwgcmVzb3VyY2VzXG4gICAqL1xuICBhc3luYyBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLmFjY2Vzc2liaWxpdHlDaGVja2VyLmNsb3NlKCk7XG4gIH1cblxuICBwcml2YXRlIHBhcnNlVGVzdE91dHB1dChvdXRwdXQ6IHN0cmluZyk6IFRlc3RSZXN1bHRzIHtcbiAgICAvLyBTaW1wbGlmaWVkIHBhcnNlciAtIHdvdWxkIGJlIG1vcmUgcm9idXN0IGluIHByb2R1Y3Rpb25cbiAgICBjb25zdCBwYXNzZWRNYXRjaCA9IG91dHB1dC5tYXRjaCgvKFxcZCspIHBhc3NlZC8pO1xuICAgIGNvbnN0IGZhaWxlZE1hdGNoID0gb3V0cHV0Lm1hdGNoKC8oXFxkKykgZmFpbGVkLyk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhc3NlZDogcGFzc2VkTWF0Y2ggPyBwYXJzZUludChwYXNzZWRNYXRjaFsxXSkgOiAwLFxuICAgICAgZmFpbGVkOiBmYWlsZWRNYXRjaCA/IHBhcnNlSW50KGZhaWxlZE1hdGNoWzFdKSA6IDAsXG4gICAgICB0b3RhbDogMCxcbiAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgZmFpbHVyZXM6IFtdLFxuICAgIH07XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsY0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsaUJBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLHFCQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxpQkFBQSxHQUFBSixPQUFBO0FBRUEsTUFBTUssU0FBUyxHQUFHLElBQUFDLGVBQVMsRUFBQ0MsbUJBQUksQ0FBQztBQTJCMUIsTUFBTUMsb0JBQW9CLENBQUM7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