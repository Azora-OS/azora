41e119fa7201711ed70e28dcc4c93d69
"use strict";

const request = require('supertest');
const express = require('express');

// Create test app
const createTestApp = () => {
  const app = express();
  app.use(express.json());

  // Mock service health data
  const serviceHealthData = {
    'auth-service': {
      status: 'healthy',
      responseTime: 45
    },
    'payment-service': {
      status: 'healthy',
      responseTime: 120
    },
    'education-service': {
      status: 'degraded',
      responseTime: 250
    },
    'marketplace-service': {
      status: 'healthy',
      responseTime: 80
    }
  };

  // Health check endpoint
  app.get('/health', (req, res) => {
    res.json({
      status: 'healthy',
      service: 'health-monitor',
      timestamp: new Date().toISOString()
    });
  });

  // Get specific service health
  app.get('/api/health/:serviceId', (req, res) => {
    const {
      serviceId
    } = req.params;
    const healthData = serviceHealthData[serviceId];
    if (!healthData) {
      return res.status(404).json({
        error: 'Service not found'
      });
    }
    res.json({
      serviceId,
      status: healthData.status,
      responseTime: healthData.responseTime,
      lastChecked: new Date().toISOString()
    });
  });

  // Get all services health
  app.get('/api/health', (req, res) => {
    const services = Object.entries(serviceHealthData).map(([id, data]) => ({
      id,
      status: data.status,
      responseTime: data.responseTime,
      lastChecked: new Date().toISOString()
    }));
    res.json({
      success: true,
      data: services,
      count: services.length
    });
  });
  return app;
};
describe('Health Monitor - Service Health Checks', () => {
  let app;
  beforeEach(() => {
    app = createTestApp();
  });
  it('should return health status for specific service', async () => {
    const res = await request(app).get('/api/health/auth-service').expect(200);
    expect(res.body.serviceId).toBe('auth-service');
    expect(res.body.status).toBeDefined();
    expect(res.body.responseTime).toBeDefined();
    expect(res.body.lastChecked).toBeDefined();
  });
  it('should return 404 for unknown service', async () => {
    const res = await request(app).get('/api/health/unknown-service').expect(404);
    expect(res.body.error).toBe('Service not found');
  });
  it('should return health status for all services', async () => {
    const res = await request(app).get('/api/health').expect(200);
    expect(res.body.success).toBe(true);
    expect(res.body.data).toBeDefined();
    expect(Array.isArray(res.body.data)).toBe(true);
    expect(res.body.count).toBeGreaterThan(0);
  });
  it('should include response time in health data', async () => {
    const res = await request(app).get('/api/health/payment-service').expect(200);
    expect(res.body.responseTime).toBeDefined();
    expect(typeof res.body.responseTime).toBe('number');
  });
  it('should detect degraded services', async () => {
    const res = await request(app).get('/api/health/education-service').expect(200);
    expect(res.body.status).toBe('degraded');
  });
});
describe('Health Monitor - Metrics Collection', () => {
  let app;
  beforeEach(() => {
    app = createTestApp();
  });
  it('should collect metrics for all services', async () => {
    const res = await request(app).get('/api/health').expect(200);
    const services = res.body.data;
    services.forEach(service => {
      expect(service.id).toBeDefined();
      expect(service.status).toBeDefined();
      expect(service.responseTime).toBeDefined();
      expect(service.lastChecked).toBeDefined();
    });
  });
  it('should include timestamp in metrics', async () => {
    const res = await request(app).get('/api/health/auth-service').expect(200);
    expect(res.body.lastChecked).toBeDefined();
    const timestamp = new Date(res.body.lastChecked);
    expect(timestamp.getTime()).not.toBeNaN();
  });
});
describe('Health Monitor - Alert Generation', () => {
  it('should identify unhealthy services', async () => {
    const app = createTestApp();
    const res = await request(app).get('/api/health').expect(200);
    const unhealthyServices = res.body.data.filter(service => service.status !== 'healthy');
    expect(unhealthyServices.length).toBeGreaterThan(0);
    expect(unhealthyServices[0].status).toBe('degraded');
  });
  it('should detect slow response times', async () => {
    const app = createTestApp();
    const res = await request(app).get('/api/health').expect(200);
    const slowServices = res.body.data.filter(service => service.responseTime > 200);
    expect(slowServices.length).toBeGreaterThan(0);
  });
});
describe('Health Monitor - Dashboard Data', () => {
  let app;
  beforeEach(() => {
    app = createTestApp();
  });
  it('should provide dashboard-ready data', async () => {
    const res = await request(app).get('/api/health').expect(200);
    expect(res.body.success).toBe(true);
    expect(res.body.data).toBeDefined();
    expect(res.body.count).toBeDefined();
  });
  it('should include service count', async () => {
    const res = await request(app).get('/api/health').expect(200);
    expect(res.body.count).toBe(res.body.data.length);
  });
  it('should format data for visualization', async () => {
    const res = await request(app).get('/api/health').expect(200);
    const services = res.body.data;
    services.forEach(service => {
      expect(service).toHaveProperty('id');
      expect(service).toHaveProperty('status');
      expect(service).toHaveProperty('responseTime');
      expect(service).toHaveProperty('lastChecked');
    });
  });
});
describe('Health Monitor - Self Health Check', () => {
  let app;
  beforeEach(() => {
    app = createTestApp();
  });
  it('should report own health status', async () => {
    const res = await request(app).get('/health').expect(200);
    expect(res.body.status).toBe('healthy');
    expect(res.body.service).toBe('health-monitor');
  });
  it('should include timestamp in health response', async () => {
    const res = await request(app).get('/health').expect(200);
    expect(res.body.timestamp).toBeDefined();
    const timestamp = new Date(res.body.timestamp);
    expect(timestamp.getTime()).not.toBeNaN();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImV4cHJlc3MiLCJjcmVhdGVUZXN0QXBwIiwiYXBwIiwidXNlIiwianNvbiIsInNlcnZpY2VIZWFsdGhEYXRhIiwic3RhdHVzIiwicmVzcG9uc2VUaW1lIiwiZ2V0IiwicmVxIiwicmVzIiwic2VydmljZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInNlcnZpY2VJZCIsInBhcmFtcyIsImhlYWx0aERhdGEiLCJlcnJvciIsImxhc3RDaGVja2VkIiwic2VydmljZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwiaWQiLCJkYXRhIiwic3VjY2VzcyIsImNvdW50IiwibGVuZ3RoIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiaXQiLCJleHBlY3QiLCJib2R5IiwidG9CZSIsInRvQmVEZWZpbmVkIiwiQXJyYXkiLCJpc0FycmF5IiwidG9CZUdyZWF0ZXJUaGFuIiwiZm9yRWFjaCIsImdldFRpbWUiLCJub3QiLCJ0b0JlTmFOIiwidW5oZWFsdGh5U2VydmljZXMiLCJmaWx0ZXIiLCJzbG93U2VydmljZXMiLCJ0b0hhdmVQcm9wZXJ0eSJdLCJzb3VyY2VzIjpbImhlYWx0aC1jaGVja3MudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XHJcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcblxyXG4vLyBDcmVhdGUgdGVzdCBhcHBcclxuY29uc3QgY3JlYXRlVGVzdEFwcCA9ICgpID0+IHtcclxuICBjb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbiAgYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbiAgXHJcbiAgLy8gTW9jayBzZXJ2aWNlIGhlYWx0aCBkYXRhXHJcbiAgY29uc3Qgc2VydmljZUhlYWx0aERhdGEgPSB7XHJcbiAgICAnYXV0aC1zZXJ2aWNlJzogeyBzdGF0dXM6ICdoZWFsdGh5JywgcmVzcG9uc2VUaW1lOiA0NSB9LFxyXG4gICAgJ3BheW1lbnQtc2VydmljZSc6IHsgc3RhdHVzOiAnaGVhbHRoeScsIHJlc3BvbnNlVGltZTogMTIwIH0sXHJcbiAgICAnZWR1Y2F0aW9uLXNlcnZpY2UnOiB7IHN0YXR1czogJ2RlZ3JhZGVkJywgcmVzcG9uc2VUaW1lOiAyNTAgfSxcclxuICAgICdtYXJrZXRwbGFjZS1zZXJ2aWNlJzogeyBzdGF0dXM6ICdoZWFsdGh5JywgcmVzcG9uc2VUaW1lOiA4MCB9XHJcbiAgfTtcclxuICBcclxuICAvLyBIZWFsdGggY2hlY2sgZW5kcG9pbnRcclxuICBhcHAuZ2V0KCcvaGVhbHRoJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ2hlYWx0aHknLFxyXG4gICAgICBzZXJ2aWNlOiAnaGVhbHRoLW1vbml0b3InLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgLy8gR2V0IHNwZWNpZmljIHNlcnZpY2UgaGVhbHRoXHJcbiAgYXBwLmdldCgnL2FwaS9oZWFsdGgvOnNlcnZpY2VJZCcsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgeyBzZXJ2aWNlSWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25zdCBoZWFsdGhEYXRhID0gc2VydmljZUhlYWx0aERhdGFbc2VydmljZUlkXTtcclxuICAgIFxyXG4gICAgaWYgKCFoZWFsdGhEYXRhKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnU2VydmljZSBub3QgZm91bmQnIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHNlcnZpY2VJZCxcclxuICAgICAgc3RhdHVzOiBoZWFsdGhEYXRhLnN0YXR1cyxcclxuICAgICAgcmVzcG9uc2VUaW1lOiBoZWFsdGhEYXRhLnJlc3BvbnNlVGltZSxcclxuICAgICAgbGFzdENoZWNrZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgLy8gR2V0IGFsbCBzZXJ2aWNlcyBoZWFsdGhcclxuICBhcHAuZ2V0KCcvYXBpL2hlYWx0aCcsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qgc2VydmljZXMgPSBPYmplY3QuZW50cmllcyhzZXJ2aWNlSGVhbHRoRGF0YSkubWFwKChbaWQsIGRhdGFdKSA9PiAoe1xyXG4gICAgICBpZCxcclxuICAgICAgc3RhdHVzOiBkYXRhLnN0YXR1cyxcclxuICAgICAgcmVzcG9uc2VUaW1lOiBkYXRhLnJlc3BvbnNlVGltZSxcclxuICAgICAgbGFzdENoZWNrZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfSkpO1xyXG4gICAgXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHNlcnZpY2VzLFxyXG4gICAgICBjb3VudDogc2VydmljZXMubGVuZ3RoXHJcbiAgICB9KTtcclxuICB9KTtcclxuICBcclxuICByZXR1cm4gYXBwO1xyXG59O1xyXG5cclxuZGVzY3JpYmUoJ0hlYWx0aCBNb25pdG9yIC0gU2VydmljZSBIZWFsdGggQ2hlY2tzJywgKCkgPT4ge1xyXG4gIGxldCBhcHA7XHJcbiAgXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBhcHAgPSBjcmVhdGVUZXN0QXBwKCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ3Nob3VsZCByZXR1cm4gaGVhbHRoIHN0YXR1cyBmb3Igc3BlY2lmaWMgc2VydmljZScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAuZ2V0KCcvYXBpL2hlYWx0aC9hdXRoLXNlcnZpY2UnKVxyXG4gICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChyZXMuYm9keS5zZXJ2aWNlSWQpLnRvQmUoJ2F1dGgtc2VydmljZScpO1xyXG4gICAgZXhwZWN0KHJlcy5ib2R5LnN0YXR1cykudG9CZURlZmluZWQoKTtcclxuICAgIGV4cGVjdChyZXMuYm9keS5yZXNwb25zZVRpbWUpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICBleHBlY3QocmVzLmJvZHkubGFzdENoZWNrZWQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ3Nob3VsZCByZXR1cm4gNDA0IGZvciB1bmtub3duIHNlcnZpY2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgLmdldCgnL2FwaS9oZWFsdGgvdW5rbm93bi1zZXJ2aWNlJylcclxuICAgICAgLmV4cGVjdCg0MDQpO1xyXG4gICAgXHJcbiAgICBleHBlY3QocmVzLmJvZHkuZXJyb3IpLnRvQmUoJ1NlcnZpY2Ugbm90IGZvdW5kJyk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ3Nob3VsZCByZXR1cm4gaGVhbHRoIHN0YXR1cyBmb3IgYWxsIHNlcnZpY2VzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgIC5nZXQoJy9hcGkvaGVhbHRoJylcclxuICAgICAgLmV4cGVjdCgyMDApO1xyXG4gICAgXHJcbiAgICBleHBlY3QocmVzLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgIGV4cGVjdChyZXMuYm9keS5kYXRhKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzLmJvZHkuZGF0YSkpLnRvQmUodHJ1ZSk7XHJcbiAgICBleHBlY3QocmVzLmJvZHkuY291bnQpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICB9KTtcclxuICBcclxuICBpdCgnc2hvdWxkIGluY2x1ZGUgcmVzcG9uc2UgdGltZSBpbiBoZWFsdGggZGF0YScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAuZ2V0KCcvYXBpL2hlYWx0aC9wYXltZW50LXNlcnZpY2UnKVxyXG4gICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChyZXMuYm9keS5yZXNwb25zZVRpbWUpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICBleHBlY3QodHlwZW9mIHJlcy5ib2R5LnJlc3BvbnNlVGltZSkudG9CZSgnbnVtYmVyJyk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ3Nob3VsZCBkZXRlY3QgZGVncmFkZWQgc2VydmljZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgLmdldCgnL2FwaS9oZWFsdGgvZWR1Y2F0aW9uLXNlcnZpY2UnKVxyXG4gICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChyZXMuYm9keS5zdGF0dXMpLnRvQmUoJ2RlZ3JhZGVkJyk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ0hlYWx0aCBNb25pdG9yIC0gTWV0cmljcyBDb2xsZWN0aW9uJywgKCkgPT4ge1xyXG4gIGxldCBhcHA7XHJcbiAgXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBhcHAgPSBjcmVhdGVUZXN0QXBwKCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ3Nob3VsZCBjb2xsZWN0IG1ldHJpY3MgZm9yIGFsbCBzZXJ2aWNlcycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAuZ2V0KCcvYXBpL2hlYWx0aCcpXHJcbiAgICAgIC5leHBlY3QoMjAwKTtcclxuICAgIFxyXG4gICAgY29uc3Qgc2VydmljZXMgPSByZXMuYm9keS5kYXRhO1xyXG4gICAgc2VydmljZXMuZm9yRWFjaChzZXJ2aWNlID0+IHtcclxuICAgICAgZXhwZWN0KHNlcnZpY2UuaWQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChzZXJ2aWNlLnN0YXR1cykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHNlcnZpY2UucmVzcG9uc2VUaW1lKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3Qoc2VydmljZS5sYXN0Q2hlY2tlZCkudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGl0KCdzaG91bGQgaW5jbHVkZSB0aW1lc3RhbXAgaW4gbWV0cmljcycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAuZ2V0KCcvYXBpL2hlYWx0aC9hdXRoLXNlcnZpY2UnKVxyXG4gICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChyZXMuYm9keS5sYXN0Q2hlY2tlZCkudG9CZURlZmluZWQoKTtcclxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKHJlcy5ib2R5Lmxhc3RDaGVja2VkKTtcclxuICAgIGV4cGVjdCh0aW1lc3RhbXAuZ2V0VGltZSgpKS5ub3QudG9CZU5hTigpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmRlc2NyaWJlKCdIZWFsdGggTW9uaXRvciAtIEFsZXJ0IEdlbmVyYXRpb24nLCAoKSA9PiB7XHJcbiAgaXQoJ3Nob3VsZCBpZGVudGlmeSB1bmhlYWx0aHkgc2VydmljZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBhcHAgPSBjcmVhdGVUZXN0QXBwKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAuZ2V0KCcvYXBpL2hlYWx0aCcpXHJcbiAgICAgIC5leHBlY3QoMjAwKTtcclxuICAgIFxyXG4gICAgY29uc3QgdW5oZWFsdGh5U2VydmljZXMgPSByZXMuYm9keS5kYXRhLmZpbHRlcihcclxuICAgICAgc2VydmljZSA9PiBzZXJ2aWNlLnN0YXR1cyAhPT0gJ2hlYWx0aHknXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICBleHBlY3QodW5oZWFsdGh5U2VydmljZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICBleHBlY3QodW5oZWFsdGh5U2VydmljZXNbMF0uc3RhdHVzKS50b0JlKCdkZWdyYWRlZCcpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGl0KCdzaG91bGQgZGV0ZWN0IHNsb3cgcmVzcG9uc2UgdGltZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBhcHAgPSBjcmVhdGVUZXN0QXBwKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAuZ2V0KCcvYXBpL2hlYWx0aCcpXHJcbiAgICAgIC5leHBlY3QoMjAwKTtcclxuICAgIFxyXG4gICAgY29uc3Qgc2xvd1NlcnZpY2VzID0gcmVzLmJvZHkuZGF0YS5maWx0ZXIoXHJcbiAgICAgIHNlcnZpY2UgPT4gc2VydmljZS5yZXNwb25zZVRpbWUgPiAyMDBcclxuICAgICk7XHJcbiAgICBcclxuICAgIGV4cGVjdChzbG93U2VydmljZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ0hlYWx0aCBNb25pdG9yIC0gRGFzaGJvYXJkIERhdGEnLCAoKSA9PiB7XHJcbiAgbGV0IGFwcDtcclxuICBcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGFwcCA9IGNyZWF0ZVRlc3RBcHAoKTtcclxuICB9KTtcclxuICBcclxuICBpdCgnc2hvdWxkIHByb3ZpZGUgZGFzaGJvYXJkLXJlYWR5IGRhdGEnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgLmdldCgnL2FwaS9oZWFsdGgnKVxyXG4gICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChyZXMuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgZXhwZWN0KHJlcy5ib2R5LmRhdGEpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICBleHBlY3QocmVzLmJvZHkuY291bnQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ3Nob3VsZCBpbmNsdWRlIHNlcnZpY2UgY291bnQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgLmdldCgnL2FwaS9oZWFsdGgnKVxyXG4gICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChyZXMuYm9keS5jb3VudCkudG9CZShyZXMuYm9keS5kYXRhLmxlbmd0aCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ3Nob3VsZCBmb3JtYXQgZGF0YSBmb3IgdmlzdWFsaXphdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAuZ2V0KCcvYXBpL2hlYWx0aCcpXHJcbiAgICAgIC5leHBlY3QoMjAwKTtcclxuICAgIFxyXG4gICAgY29uc3Qgc2VydmljZXMgPSByZXMuYm9keS5kYXRhO1xyXG4gICAgc2VydmljZXMuZm9yRWFjaChzZXJ2aWNlID0+IHtcclxuICAgICAgZXhwZWN0KHNlcnZpY2UpLnRvSGF2ZVByb3BlcnR5KCdpZCcpO1xyXG4gICAgICBleHBlY3Qoc2VydmljZSkudG9IYXZlUHJvcGVydHkoJ3N0YXR1cycpO1xyXG4gICAgICBleHBlY3Qoc2VydmljZSkudG9IYXZlUHJvcGVydHkoJ3Jlc3BvbnNlVGltZScpO1xyXG4gICAgICBleHBlY3Qoc2VydmljZSkudG9IYXZlUHJvcGVydHkoJ2xhc3RDaGVja2VkJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5kZXNjcmliZSgnSGVhbHRoIE1vbml0b3IgLSBTZWxmIEhlYWx0aCBDaGVjaycsICgpID0+IHtcclxuICBsZXQgYXBwO1xyXG4gIFxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgYXBwID0gY3JlYXRlVGVzdEFwcCgpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGl0KCdzaG91bGQgcmVwb3J0IG93biBoZWFsdGggc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgIC5nZXQoJy9oZWFsdGgnKVxyXG4gICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChyZXMuYm9keS5zdGF0dXMpLnRvQmUoJ2hlYWx0aHknKTtcclxuICAgIGV4cGVjdChyZXMuYm9keS5zZXJ2aWNlKS50b0JlKCdoZWFsdGgtbW9uaXRvcicpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGl0KCdzaG91bGQgaW5jbHVkZSB0aW1lc3RhbXAgaW4gaGVhbHRoIHJlc3BvbnNlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgIC5nZXQoJy9oZWFsdGgnKVxyXG4gICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChyZXMuYm9keS50aW1lc3RhbXApLnRvQmVEZWZpbmVkKCk7XHJcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZShyZXMuYm9keS50aW1lc3RhbXApO1xyXG4gICAgZXhwZWN0KHRpbWVzdGFtcC5nZXRUaW1lKCkpLm5vdC50b0JlTmFOKCk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3BDLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLFNBQVMsQ0FBQzs7QUFFbEM7QUFDQSxNQUFNRSxhQUFhLEdBQUdBLENBQUEsS0FBTTtFQUMxQixNQUFNQyxHQUFHLEdBQUdGLE9BQU8sQ0FBQyxDQUFDO0VBQ3JCRSxHQUFHLENBQUNDLEdBQUcsQ0FBQ0gsT0FBTyxDQUFDSSxJQUFJLENBQUMsQ0FBQyxDQUFDOztFQUV2QjtFQUNBLE1BQU1DLGlCQUFpQixHQUFHO0lBQ3hC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TUFDcENkLE1BQU0sQ0FBQ3JCLE9BQU8sQ0FBQyxDQUFDbUMsY0FBYyxDQUFDLFFBQVEsQ0FBQztNQUN4Q2QsTUFBTSxDQUFDckIsT0FBTyxDQUFDLENBQUNtQyxjQUFjLENBQUMsY0FBYyxDQUFDO01BQzlDZCxNQUFNLENBQUNyQixPQUFPLENBQUMsQ0FBQ21DLGNBQWMsQ0FBQyxhQUFhLENBQUM7SUFDL0MsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUZqQixRQUFRLENBQUMsb0NBQW9DLEVBQUUsTUFBTTtFQUNuRCxJQUFJM0IsR0FBRztFQUVQNEIsVUFBVSxDQUFDLE1BQU07SUFDZjVCLEdBQUcsR0FBR0QsYUFBYSxDQUFDLENBQUM7RUFDdkIsQ0FBQyxDQUFDO0VBRUY4QixFQUFFLENBQUMsaUNBQWlDLEVBQUUsWUFBWTtJQUNoRCxNQUFNckIsR0FBRyxHQUFHLE1BQU1aLE9BQU8sQ0FBQ0ksR0FBRyxDQUFDLENBQzNCTSxHQUFHLENBQUMsU0FBUyxDQUFDLENBQ2R3QixNQUFNLENBQUMsR0FBRyxDQUFDO0lBRWRBLE1BQU0sQ0FBQ3RCLEdBQUcsQ0FBQ3VCLElBQUksQ0FBQzNCLE1BQU0sQ0FBQyxDQUFDNEIsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN2Q0YsTUFBTSxDQUFDdEIsR0FBRyxDQUFDdUIsSUFBSSxDQUFDdEIsT0FBTyxDQUFDLENBQUN1QixJQUFJLENBQUMsZ0JBQWdCLENBQUM7RUFDakQsQ0FBQyxDQUFDO0VBRUZILEVBQUUsQ0FBQyw2Q0FBNkMsRUFBRSxZQUFZO0lBQzVELE1BQU1yQixHQUFHLEdBQUcsTUFBTVosT0FBTyxDQUFDSSxHQUFHLENBQUMsQ0FDM0JNLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FDZHdCLE1BQU0sQ0FBQyxHQUFHLENBQUM7SUFFZEEsTUFBTSxDQUFDdEIsR0FBRyxDQUFDdUIsSUFBSSxDQUFDckIsU0FBUyxDQUFDLENBQUN1QixXQUFXLENBQUMsQ0FBQztJQUN4QyxNQUFNdkIsU0FBUyxHQUFHLElBQUlDLElBQUksQ0FBQ0gsR0FBRyxDQUFDdUIsSUFBSSxDQUFDckIsU0FBUyxDQUFDO0lBQzlDb0IsTUFBTSxDQUFDcEIsU0FBUyxDQUFDNEIsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxHQUFHLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0VBQzNDLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==