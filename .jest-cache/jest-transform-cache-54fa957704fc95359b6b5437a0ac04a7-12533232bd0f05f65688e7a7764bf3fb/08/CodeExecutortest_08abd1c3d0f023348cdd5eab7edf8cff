d06d445748418323127b050d95b943ea
"use strict";

// Mock fs
_getJestObj().mock('fs', () => ({
  promises: {
    readFile: jest.fn(),
    writeFile: jest.fn()
  }
}));
var _CodeExecutor = require("../CodeExecutor");
var fs = _interopRequireWildcard(require("fs"));
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) "default" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
describe('CodeExecutor', () => {
  let executor;
  let mockFs;
  beforeEach(() => {
    executor = new _CodeExecutor.CodeExecutor();
    mockFs = fs;
    jest.clearAllMocks();
  });
  describe('parseCode', () => {
    it('should parse TypeScript code', () => {
      const code = `
        export function test(): string {
          return 'test';
        }
      `;
      const ast = executor.parseCode(code, 'test.ts');
      expect(ast).toBeDefined();
      expect(ast.program).toBeDefined();
    });
    it('should parse JavaScript code', () => {
      const code = `
        export function test() {
          return 'test';
        }
      `;
      const ast = executor.parseCode(code, 'test.js');
      expect(ast).toBeDefined();
      expect(ast.program).toBeDefined();
    });
    it('should parse JSX code', () => {
      const code = `
        export function Component() {
          return <div>Test</div>;
        }
      `;
      const ast = executor.parseCode(code, 'Component.jsx');
      expect(ast).toBeDefined();
      expect(ast.program).toBeDefined();
    });
    it('should parse TSX code', () => {
      const code = `
        export function Component(): JSX.Element {
          return <div>Test</div>;
        }
      `;
      const ast = executor.parseCode(code, 'Component.tsx');
      expect(ast).toBeDefined();
      expect(ast.program).toBeDefined();
    });
    it('should throw error for invalid syntax', () => {
      const code = 'invalid syntax {{{';
      expect(() => executor.parseCode(code, 'test.ts')).toThrow();
    });
  });
  describe('generateCode', () => {
    it('should generate code from AST', () => {
      const code = `
        export function test() {
          return 'test';
        }
      `;
      const ast = executor.parseCode(code, 'test.ts');
      const generated = executor.generateCode(ast);
      expect(generated).toContain('export function test');
      expect(generated).toContain("return 'test'");
    });
    it('should preserve comments', () => {
      const code = `
        // This is a comment
        export function test() {
          return 'test';
        }
      `;
      const ast = executor.parseCode(code, 'test.ts');
      const generated = executor.generateCode(ast);
      expect(generated).toContain('// This is a comment');
    });
  });
  describe('applyTransform', () => {
    it('should apply rename transform', async () => {
      const code = `
        function oldName() {
          return 'test';
        }
        oldName();
      `;
      mockFs.promises.readFile = jest.fn().mockResolvedValue(code);
      const transform = {
        type: 'rename',
        target: 'oldName',
        options: {
          oldName: 'oldName',
          newName: 'newName'
        }
      };
      const result = await executor.applyTransform('test.ts', transform);
      expect(result.success).toBe(true);
      expect(result.code).toContain('newName');
      expect(result.code).not.toContain('oldName');
    });
    it('should apply extract transform', async () => {
      const code = `
        function main() {
          console.log('line 1');
          console.log('line 2');
          console.log('line 3');
        }
      `;
      mockFs.promises.readFile = jest.fn().mockResolvedValue(code);
      const transform = {
        type: 'extract',
        target: 'function',
        options: {
          startLine: 2,
          endLine: 3,
          functionName: 'extracted'
        }
      };
      const result = await executor.applyTransform('test.ts', transform);
      expect(result.success).toBe(true);
      expect(result.code).toContain('function extracted');
    });
    it('should apply update-imports transform', async () => {
      const code = `
        import { test } from './old-path';
        test();
      `;
      mockFs.promises.readFile = jest.fn().mockResolvedValue(code);
      const transform = {
        type: 'update-imports',
        target: './old-path',
        options: {
          oldPath: './old-path',
          newPath: './new-path'
        }
      };
      const result = await executor.applyTransform('test.ts', transform);
      expect(result.success).toBe(true);
      expect(result.code).toContain('./new-path');
      expect(result.code).not.toContain('./old-path');
    });
    it('should handle transform errors', async () => {
      mockFs.promises.readFile = jest.fn().mockRejectedValue(new Error('File not found'));
      const transform = {
        type: 'rename',
        target: 'test',
        options: {
          oldName: 'test',
          newName: 'newTest'
        }
      };
      const result = await executor.applyTransform('test.ts', transform);
      expect(result.success).toBe(false);
      expect(result.error).toBeDefined();
    });
  });
  describe('renameSymbol', () => {
    it('should rename symbol across multiple files', async () => {
      const code1 = `export function oldName() {}`;
      const code2 = `import { oldName } from './file1'; oldName();`;
      mockFs.promises.readFile = jest.fn().mockResolvedValueOnce(code1).mockResolvedValueOnce(code2);
      const results = await executor.renameSymbol(['file1.ts', 'file2.ts'], 'oldName', 'newName');
      expect(results.size).toBe(2);
      expect(results.get('file1.ts')?.success).toBe(true);
      expect(results.get('file2.ts')?.success).toBe(true);
    });
  });
  describe('extractFunction', () => {
    it('should extract code into a new function', async () => {
      const code = `
        function main() {
          console.log('line 1');
          console.log('line 2');
        }
      `;
      mockFs.promises.readFile = jest.fn().mockResolvedValue(code);
      const result = await executor.extractFunction('test.ts', 2, 3, 'extracted');
      expect(result.success).toBe(true);
      expect(result.code).toContain('function extracted');
    });
  });
  describe('updateImports', () => {
    it('should update imports across multiple files', async () => {
      const code1 = `import { test } from './old-path';`;
      const code2 = `import { test } from './old-path';`;
      mockFs.promises.readFile = jest.fn().mockResolvedValueOnce(code1).mockResolvedValueOnce(code2);
      const results = await executor.updateImports(['file1.ts', 'file2.ts'], './old-path', './new-path');
      expect(results.size).toBe(2);
      expect(results.get('file1.ts')?.code).toContain('./new-path');
      expect(results.get('file2.ts')?.code).toContain('./new-path');
    });
  });
  describe('addImport', () => {
    it('should add default import', async () => {
      const code = `export function test() {}`;
      mockFs.promises.readFile = jest.fn().mockResolvedValue(code);
      const result = await executor.addImport('test.ts', 'React', 'react', true);
      expect(result.success).toBe(true);
      expect(result.code).toContain('import React from');
    });
    it('should add named import', async () => {
      const code = `export function test() {}`;
      mockFs.promises.readFile = jest.fn().mockResolvedValue(code);
      const result = await executor.addImport('test.ts', 'useState', 'react', false);
      expect(result.success).toBe(true);
      expect(result.code).toContain('import { useState }');
    });
  });
  describe('removeUnusedImports', () => {
    it('should remove unused imports', async () => {
      const code = `
        import { used, unused } from 'test';
        used();
      `;
      mockFs.promises.readFile = jest.fn().mockResolvedValue(code);
      const result = await executor.removeUnusedImports('test.ts');
      expect(result.success).toBe(true);
      expect(result.code).toContain('used');
      expect(result.code).not.toContain('unused');
    });
    it('should remove entire import if all specifiers unused', async () => {
      const code = `
        import { unused1, unused2 } from 'test';
        console.log('test');
      `;
      mockFs.promises.readFile = jest.fn().mockResolvedValue(code);
      const result = await executor.removeUnusedImports('test.ts');
      expect(result.success).toBe(true);
      expect(result.code).not.toContain('import');
    });
  });
  describe('validateSyntax', () => {
    it('should return no diagnostics for valid code', () => {
      const code = `export function test() { return 'test'; }`;
      const diagnostics = executor.validateSyntax(code, 'test.ts');
      expect(diagnostics.length).toBe(0);
    });
    it('should return error diagnostics for invalid code', () => {
      const code = `invalid syntax {{{`;
      const diagnostics = executor.validateSyntax(code, 'test.ts');
      expect(diagnostics.length).toBeGreaterThan(0);
      expect(diagnostics[0].severity).toBe('error');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJwcm9taXNlcyIsInJlYWRGaWxlIiwiamVzdCIsImZuIiwid3JpdGVGaWxlIiwiX0NvZGVFeGVjdXRvciIsInJlcXVpcmUiLCJmcyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZGVzY3JpYmUiLCJleGVjdXRvciIsIm1vY2tGcyIsImJlZm9yZUVhY2giLCJDb2RlRXhlY3V0b3IiLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJjb2RlIiwiYXN0IiwicGFyc2VDb2RlIiwiZXhwZWN0IiwidG9CZURlZmluZWQiLCJwcm9ncmFtIiwidG9UaHJvdyIsImdlbmVyYXRlZCIsImdlbmVyYXRlQ29kZSIsInRvQ29udGFpbiIsIm1vY2tSZXNvbHZlZFZhbHVlIiwidHJhbnNmb3JtIiwidHlwZSIsInRhcmdldCIsIm9wdGlvbnMiLCJvbGROYW1lIiwibmV3TmFtZSIsInJlc3VsdCIsImFwcGx5VHJhbnNmb3JtIiwic3VjY2VzcyIsInRvQmUiLCJub3QiLCJzdGFydExpbmUiLCJlbmRMaW5lIiwiZnVuY3Rpb25OYW1lIiwib2xkUGF0aCIsIm5ld1BhdGgiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwiZXJyb3IiLCJjb2RlMSIsImNvZGUyIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwicmVzdWx0cyIsInJlbmFtZVN5bWJvbCIsInNpemUiLCJleHRyYWN0RnVuY3Rpb24iLCJ1cGRhdGVJbXBvcnRzIiwiYWRkSW1wb3J0IiwicmVtb3ZlVW51c2VkSW1wb3J0cyIsImRpYWdub3N0aWNzIiwidmFsaWRhdGVTeW50YXgiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJzZXZlcml0eSJdLCJzb3VyY2VzIjpbIkNvZGVFeGVjdXRvci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvZGVFeGVjdXRvciwgQVNUVHJhbnNmb3JtLCBUcmFuc2Zvcm1SZXN1bHQgfSBmcm9tICcuLi9Db2RlRXhlY3V0b3InO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuXG4vLyBNb2NrIGZzXG5qZXN0Lm1vY2soJ2ZzJywgKCkgPT4gKHtcbiAgcHJvbWlzZXM6IHtcbiAgICByZWFkRmlsZTogamVzdC5mbigpLFxuICAgIHdyaXRlRmlsZTogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG5kZXNjcmliZSgnQ29kZUV4ZWN1dG9yJywgKCkgPT4ge1xuICBsZXQgZXhlY3V0b3I6IENvZGVFeGVjdXRvcjtcbiAgbGV0IG1vY2tGczogamVzdC5Nb2NrZWQ8dHlwZW9mIGZzPjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBleGVjdXRvciA9IG5ldyBDb2RlRXhlY3V0b3IoKTtcbiAgICBtb2NrRnMgPSBmcyBhcyBqZXN0Lk1vY2tlZDx0eXBlb2YgZnM+O1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgncGFyc2VDb2RlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcGFyc2UgVHlwZVNjcmlwdCBjb2RlJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29kZSA9IGBcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIHRlc3QoKTogc3RyaW5nIHtcbiAgICAgICAgICByZXR1cm4gJ3Rlc3QnO1xuICAgICAgICB9XG4gICAgICBgO1xuICAgICAgXG4gICAgICBjb25zdCBhc3QgPSBleGVjdXRvci5wYXJzZUNvZGUoY29kZSwgJ3Rlc3QudHMnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGFzdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChhc3QucHJvZ3JhbSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcGFyc2UgSmF2YVNjcmlwdCBjb2RlJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29kZSA9IGBcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIHRlc3QoKSB7XG4gICAgICAgICAgcmV0dXJuICd0ZXN0JztcbiAgICAgICAgfVxuICAgICAgYDtcbiAgICAgIFxuICAgICAgY29uc3QgYXN0ID0gZXhlY3V0b3IucGFyc2VDb2RlKGNvZGUsICd0ZXN0LmpzJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChhc3QpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoYXN0LnByb2dyYW0pLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHBhcnNlIEpTWCBjb2RlJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29kZSA9IGBcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIENvbXBvbmVudCgpIHtcbiAgICAgICAgICByZXR1cm4gPGRpdj5UZXN0PC9kaXY+O1xuICAgICAgICB9XG4gICAgICBgO1xuICAgICAgXG4gICAgICBjb25zdCBhc3QgPSBleGVjdXRvci5wYXJzZUNvZGUoY29kZSwgJ0NvbXBvbmVudC5qc3gnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGFzdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChhc3QucHJvZ3JhbSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcGFyc2UgVFNYIGNvZGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb2RlID0gYFxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gQ29tcG9uZW50KCk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgICByZXR1cm4gPGRpdj5UZXN0PC9kaXY+O1xuICAgICAgICB9XG4gICAgICBgO1xuICAgICAgXG4gICAgICBjb25zdCBhc3QgPSBleGVjdXRvci5wYXJzZUNvZGUoY29kZSwgJ0NvbXBvbmVudC50c3gnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGFzdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChhc3QucHJvZ3JhbSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdGhyb3cgZXJyb3IgZm9yIGludmFsaWQgc3ludGF4JywgKCkgPT4ge1xuICAgICAgY29uc3QgY29kZSA9ICdpbnZhbGlkIHN5bnRheCB7e3snO1xuICAgICAgXG4gICAgICBleHBlY3QoKCkgPT4gZXhlY3V0b3IucGFyc2VDb2RlKGNvZGUsICd0ZXN0LnRzJykpLnRvVGhyb3coKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dlbmVyYXRlQ29kZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGNvZGUgZnJvbSBBU1QnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb2RlID0gYFxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gdGVzdCgpIHtcbiAgICAgICAgICByZXR1cm4gJ3Rlc3QnO1xuICAgICAgICB9XG4gICAgICBgO1xuICAgICAgXG4gICAgICBjb25zdCBhc3QgPSBleGVjdXRvci5wYXJzZUNvZGUoY29kZSwgJ3Rlc3QudHMnKTtcbiAgICAgIGNvbnN0IGdlbmVyYXRlZCA9IGV4ZWN1dG9yLmdlbmVyYXRlQ29kZShhc3QpO1xuICAgICAgXG4gICAgICBleHBlY3QoZ2VuZXJhdGVkKS50b0NvbnRhaW4oJ2V4cG9ydCBmdW5jdGlvbiB0ZXN0Jyk7XG4gICAgICBleHBlY3QoZ2VuZXJhdGVkKS50b0NvbnRhaW4oXCJyZXR1cm4gJ3Rlc3QnXCIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcmVzZXJ2ZSBjb21tZW50cycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvZGUgPSBgXG4gICAgICAgIC8vIFRoaXMgaXMgYSBjb21tZW50XG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiB0ZXN0KCkge1xuICAgICAgICAgIHJldHVybiAndGVzdCc7XG4gICAgICAgIH1cbiAgICAgIGA7XG4gICAgICBcbiAgICAgIGNvbnN0IGFzdCA9IGV4ZWN1dG9yLnBhcnNlQ29kZShjb2RlLCAndGVzdC50cycpO1xuICAgICAgY29uc3QgZ2VuZXJhdGVkID0gZXhlY3V0b3IuZ2VuZXJhdGVDb2RlKGFzdCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChnZW5lcmF0ZWQpLnRvQ29udGFpbignLy8gVGhpcyBpcyBhIGNvbW1lbnQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2FwcGx5VHJhbnNmb3JtJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgYXBwbHkgcmVuYW1lIHRyYW5zZm9ybScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvZGUgPSBgXG4gICAgICAgIGZ1bmN0aW9uIG9sZE5hbWUoKSB7XG4gICAgICAgICAgcmV0dXJuICd0ZXN0JztcbiAgICAgICAgfVxuICAgICAgICBvbGROYW1lKCk7XG4gICAgICBgO1xuICAgICAgXG4gICAgICBtb2NrRnMucHJvbWlzZXMucmVhZEZpbGUgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoY29kZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHRyYW5zZm9ybTogQVNUVHJhbnNmb3JtID0ge1xuICAgICAgICB0eXBlOiAncmVuYW1lJyxcbiAgICAgICAgdGFyZ2V0OiAnb2xkTmFtZScsXG4gICAgICAgIG9wdGlvbnM6IHsgb2xkTmFtZTogJ29sZE5hbWUnLCBuZXdOYW1lOiAnbmV3TmFtZScgfSxcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dG9yLmFwcGx5VHJhbnNmb3JtKCd0ZXN0LnRzJywgdHJhbnNmb3JtKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb2RlKS50b0NvbnRhaW4oJ25ld05hbWUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29kZSkubm90LnRvQ29udGFpbignb2xkTmFtZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhcHBseSBleHRyYWN0IHRyYW5zZm9ybScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvZGUgPSBgXG4gICAgICAgIGZ1bmN0aW9uIG1haW4oKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2xpbmUgMScpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdsaW5lIDInKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnbGluZSAzJyk7XG4gICAgICAgIH1cbiAgICAgIGA7XG4gICAgICBcbiAgICAgIG1vY2tGcy5wcm9taXNlcy5yZWFkRmlsZSA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShjb2RlKTtcbiAgICAgIFxuICAgICAgY29uc3QgdHJhbnNmb3JtOiBBU1RUcmFuc2Zvcm0gPSB7XG4gICAgICAgIHR5cGU6ICdleHRyYWN0JyxcbiAgICAgICAgdGFyZ2V0OiAnZnVuY3Rpb24nLFxuICAgICAgICBvcHRpb25zOiB7IHN0YXJ0TGluZTogMiwgZW5kTGluZTogMywgZnVuY3Rpb25OYW1lOiAnZXh0cmFjdGVkJyB9LFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0b3IuYXBwbHlUcmFuc2Zvcm0oJ3Rlc3QudHMnLCB0cmFuc2Zvcm0pO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmNvZGUpLnRvQ29udGFpbignZnVuY3Rpb24gZXh0cmFjdGVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFwcGx5IHVwZGF0ZS1pbXBvcnRzIHRyYW5zZm9ybScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvZGUgPSBgXG4gICAgICAgIGltcG9ydCB7IHRlc3QgfSBmcm9tICcuL29sZC1wYXRoJztcbiAgICAgICAgdGVzdCgpO1xuICAgICAgYDtcbiAgICAgIFxuICAgICAgbW9ja0ZzLnByb21pc2VzLnJlYWRGaWxlID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKGNvZGUpO1xuICAgICAgXG4gICAgICBjb25zdCB0cmFuc2Zvcm06IEFTVFRyYW5zZm9ybSA9IHtcbiAgICAgICAgdHlwZTogJ3VwZGF0ZS1pbXBvcnRzJyxcbiAgICAgICAgdGFyZ2V0OiAnLi9vbGQtcGF0aCcsXG4gICAgICAgIG9wdGlvbnM6IHsgb2xkUGF0aDogJy4vb2xkLXBhdGgnLCBuZXdQYXRoOiAnLi9uZXctcGF0aCcgfSxcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dG9yLmFwcGx5VHJhbnNmb3JtKCd0ZXN0LnRzJywgdHJhbnNmb3JtKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb2RlKS50b0NvbnRhaW4oJy4vbmV3LXBhdGgnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29kZSkubm90LnRvQ29udGFpbignLi9vbGQtcGF0aCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdHJhbnNmb3JtIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGcy5wcm9taXNlcy5yZWFkRmlsZSA9IGplc3QuZm4oKS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0ZpbGUgbm90IGZvdW5kJykpO1xuICAgICAgXG4gICAgICBjb25zdCB0cmFuc2Zvcm06IEFTVFRyYW5zZm9ybSA9IHtcbiAgICAgICAgdHlwZTogJ3JlbmFtZScsXG4gICAgICAgIHRhcmdldDogJ3Rlc3QnLFxuICAgICAgICBvcHRpb25zOiB7IG9sZE5hbWU6ICd0ZXN0JywgbmV3TmFtZTogJ25ld1Rlc3QnIH0sXG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRvci5hcHBseVRyYW5zZm9ybSgndGVzdC50cycsIHRyYW5zZm9ybSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgncmVuYW1lU3ltYm9sJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuYW1lIHN5bWJvbCBhY3Jvc3MgbXVsdGlwbGUgZmlsZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb2RlMSA9IGBleHBvcnQgZnVuY3Rpb24gb2xkTmFtZSgpIHt9YDtcbiAgICAgIGNvbnN0IGNvZGUyID0gYGltcG9ydCB7IG9sZE5hbWUgfSBmcm9tICcuL2ZpbGUxJzsgb2xkTmFtZSgpO2A7XG4gICAgICBcbiAgICAgIG1vY2tGcy5wcm9taXNlcy5yZWFkRmlsZSA9IGplc3QuZm4oKVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKGNvZGUxKVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKGNvZGUyKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGV4ZWN1dG9yLnJlbmFtZVN5bWJvbChcbiAgICAgICAgWydmaWxlMS50cycsICdmaWxlMi50cyddLFxuICAgICAgICAnb2xkTmFtZScsXG4gICAgICAgICduZXdOYW1lJ1xuICAgICAgKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdHMuc2l6ZSkudG9CZSgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzLmdldCgnZmlsZTEudHMnKT8uc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzLmdldCgnZmlsZTIudHMnKT8uc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2V4dHJhY3RGdW5jdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGV4dHJhY3QgY29kZSBpbnRvIGEgbmV3IGZ1bmN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29kZSA9IGBcbiAgICAgICAgZnVuY3Rpb24gbWFpbigpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnbGluZSAxJyk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2xpbmUgMicpO1xuICAgICAgICB9XG4gICAgICBgO1xuICAgICAgXG4gICAgICBtb2NrRnMucHJvbWlzZXMucmVhZEZpbGUgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoY29kZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dG9yLmV4dHJhY3RGdW5jdGlvbigndGVzdC50cycsIDIsIDMsICdleHRyYWN0ZWQnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb2RlKS50b0NvbnRhaW4oJ2Z1bmN0aW9uIGV4dHJhY3RlZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndXBkYXRlSW1wb3J0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBpbXBvcnRzIGFjcm9zcyBtdWx0aXBsZSBmaWxlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvZGUxID0gYGltcG9ydCB7IHRlc3QgfSBmcm9tICcuL29sZC1wYXRoJztgO1xuICAgICAgY29uc3QgY29kZTIgPSBgaW1wb3J0IHsgdGVzdCB9IGZyb20gJy4vb2xkLXBhdGgnO2A7XG4gICAgICBcbiAgICAgIG1vY2tGcy5wcm9taXNlcy5yZWFkRmlsZSA9IGplc3QuZm4oKVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKGNvZGUxKVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKGNvZGUyKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGV4ZWN1dG9yLnVwZGF0ZUltcG9ydHMoXG4gICAgICAgIFsnZmlsZTEudHMnLCAnZmlsZTIudHMnXSxcbiAgICAgICAgJy4vb2xkLXBhdGgnLFxuICAgICAgICAnLi9uZXctcGF0aCdcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHRzLnNpemUpLnRvQmUoMik7XG4gICAgICBleHBlY3QocmVzdWx0cy5nZXQoJ2ZpbGUxLnRzJyk/LmNvZGUpLnRvQ29udGFpbignLi9uZXctcGF0aCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdHMuZ2V0KCdmaWxlMi50cycpPy5jb2RlKS50b0NvbnRhaW4oJy4vbmV3LXBhdGgnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2FkZEltcG9ydCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGFkZCBkZWZhdWx0IGltcG9ydCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvZGUgPSBgZXhwb3J0IGZ1bmN0aW9uIHRlc3QoKSB7fWA7XG4gICAgICBcbiAgICAgIG1vY2tGcy5wcm9taXNlcy5yZWFkRmlsZSA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShjb2RlKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0b3IuYWRkSW1wb3J0KCd0ZXN0LnRzJywgJ1JlYWN0JywgJ3JlYWN0JywgdHJ1ZSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29kZSkudG9Db250YWluKCdpbXBvcnQgUmVhY3QgZnJvbScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhZGQgbmFtZWQgaW1wb3J0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29kZSA9IGBleHBvcnQgZnVuY3Rpb24gdGVzdCgpIHt9YDtcbiAgICAgIFxuICAgICAgbW9ja0ZzLnByb21pc2VzLnJlYWRGaWxlID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKGNvZGUpO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRvci5hZGRJbXBvcnQoJ3Rlc3QudHMnLCAndXNlU3RhdGUnLCAncmVhY3QnLCBmYWxzZSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29kZSkudG9Db250YWluKCdpbXBvcnQgeyB1c2VTdGF0ZSB9Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdyZW1vdmVVbnVzZWRJbXBvcnRzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVtb3ZlIHVudXNlZCBpbXBvcnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29kZSA9IGBcbiAgICAgICAgaW1wb3J0IHsgdXNlZCwgdW51c2VkIH0gZnJvbSAndGVzdCc7XG4gICAgICAgIHVzZWQoKTtcbiAgICAgIGA7XG4gICAgICBcbiAgICAgIG1vY2tGcy5wcm9taXNlcy5yZWFkRmlsZSA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShjb2RlKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0b3IucmVtb3ZlVW51c2VkSW1wb3J0cygndGVzdC50cycpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmNvZGUpLnRvQ29udGFpbigndXNlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb2RlKS5ub3QudG9Db250YWluKCd1bnVzZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVtb3ZlIGVudGlyZSBpbXBvcnQgaWYgYWxsIHNwZWNpZmllcnMgdW51c2VkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29kZSA9IGBcbiAgICAgICAgaW1wb3J0IHsgdW51c2VkMSwgdW51c2VkMiB9IGZyb20gJ3Rlc3QnO1xuICAgICAgICBjb25zb2xlLmxvZygndGVzdCcpO1xuICAgICAgYDtcbiAgICAgIFxuICAgICAgbW9ja0ZzLnByb21pc2VzLnJlYWRGaWxlID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKGNvZGUpO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRvci5yZW1vdmVVbnVzZWRJbXBvcnRzKCd0ZXN0LnRzJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29kZSkubm90LnRvQ29udGFpbignaW1wb3J0Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd2YWxpZGF0ZVN5bnRheCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBubyBkaWFnbm9zdGljcyBmb3IgdmFsaWQgY29kZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvZGUgPSBgZXhwb3J0IGZ1bmN0aW9uIHRlc3QoKSB7IHJldHVybiAndGVzdCc7IH1gO1xuICAgICAgXG4gICAgICBjb25zdCBkaWFnbm9zdGljcyA9IGV4ZWN1dG9yLnZhbGlkYXRlU3ludGF4KGNvZGUsICd0ZXN0LnRzJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChkaWFnbm9zdGljcy5sZW5ndGgpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBlcnJvciBkaWFnbm9zdGljcyBmb3IgaW52YWxpZCBjb2RlJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29kZSA9IGBpbnZhbGlkIHN5bnRheCB7e3tgO1xuICAgICAgXG4gICAgICBjb25zdCBkaWFnbm9zdGljcyA9IGV4ZWN1dG9yLnZhbGlkYXRlU3ludGF4KGNvZGUsICd0ZXN0LnRzJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChkaWFnbm9zdGljcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChkaWFnbm9zdGljc1swXS5zZXZlcml0eSkudG9CZSgnZXJyb3InKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFHQTtBQUNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTztF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