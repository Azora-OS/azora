158efcbc62e98d01bd2e6c90da91965f
"use strict";

const tamperProofService = require('../index');
describe('Tamper-Proof Data Service', () => {
  const userId = 'test-user-123';
  const dataType = 'test_data';
  const testData = {
    name: 'John Doe',
    age: 30,
    email: 'john@example.com'
  };
  beforeEach(() => {
    // Clear data store and audit trail before each test
    tamperProofService.dataStore.clear();
    tamperProofService.auditTrail = [];
  });
  test('should store data with hash and signature', () => {
    const result = tamperProofService.storeData(userId, dataType, testData);
    expect(result).toBeDefined();
    expect(result.id).toBeDefined();
    expect(result.dataHash).toBeDefined();
    expect(result.signature).toBeDefined();
    expect(result.createdAt).toBeDefined();

    // Verify data was stored
    const storedEntry = tamperProofService.dataStore.get(result.id);
    expect(storedEntry).toBeDefined();
    expect(storedEntry.userId).toBe(userId);
    expect(storedEntry.dataType).toBe(dataType);
    expect(storedEntry.data).toEqual(testData);
  });
  test('should retrieve data and verify integrity', () => {
    // Store data first
    const storeResult = tamperProofService.storeData(userId, dataType, testData);

    // Retrieve data
    const retrievedData = tamperProofService.retrieveData(storeResult.id, userId);
    expect(retrievedData).toBeDefined();
    expect(retrievedData.id).toBe(storeResult.id);
    expect(retrievedData.data).toEqual(testData);
    expect(retrievedData.dataType).toBe(dataType);
    expect(retrievedData.isValid).toBe(true);
  });
  test('should update data with new signature', () => {
    // Store data first
    const storeResult = tamperProofService.storeData(userId, dataType, testData);

    // Update data
    const updatedData = {
      ...testData,
      age: 31
    };
    const updateResult = tamperProofService.updateData(storeResult.id, userId, updatedData);
    expect(updateResult).toBeDefined();
    expect(updateResult.id).toBe(storeResult.id);
    expect(updateResult.dataHash).toBeDefined();
    expect(updateResult.signature).toBeDefined();

    // Verify updated data
    const retrievedData = tamperProofService.retrieveData(storeResult.id, userId);
    expect(retrievedData.data).toEqual(updatedData);
    expect(retrievedData.isValid).toBe(true);
  });
  test('should delete data', () => {
    // Store data first
    const storeResult = tamperProofService.storeData(userId, dataType, testData);

    // Verify data exists
    expect(tamperProofService.dataStore.has(storeResult.id)).toBe(true);

    // Delete data
    const deleteResult = tamperProofService.deleteData(storeResult.id, userId);
    expect(deleteResult.success).toBe(true);

    // Verify data was deleted
    expect(tamperProofService.dataStore.has(storeResult.id)).toBe(false);
  });
  test('should verify data integrity', () => {
    // Store data
    const storeResult = tamperProofService.storeData(userId, dataType, testData);
    const storedEntry = tamperProofService.dataStore.get(storeResult.id);

    // Verify integrity
    const isValid = tamperProofService.verifyDataIntegrity(storedEntry);
    expect(isValid).toBe(true);
  });
  test('should detect tampered data', () => {
    // Store data
    const storeResult = tamperProofService.storeData(userId, dataType, testData);
    const storedEntry = tamperProofService.dataStore.get(storeResult.id);

    // Tamper with data
    storedEntry.data.name = 'Evil Hacker';

    // Verify integrity fails
    const isValid = tamperProofService.verifyDataIntegrity(storedEntry);
    expect(isValid).toBe(false);
  });
  test('should list user data', () => {
    // Store multiple data entries
    tamperProofService.storeData(userId, 'type1', {
      data: 'test1'
    });
    tamperProofService.storeData(userId, 'type2', {
      data: 'test2'
    });
    tamperProofService.storeData('other-user', 'type3', {
      data: 'test3'
    });

    // List user data
    const userEntries = tamperProofService.listUserData(userId);
    expect(userEntries.length).toBe(2);
    expect(userEntries.every(entry => entry.dataType.startsWith('type'))).toBe(true);
  });
  test('should verify all user data', () => {
    // Store multiple data entries
    tamperProofService.storeData(userId, 'type1', {
      data: 'test1'
    });
    tamperProofService.storeData(userId, 'type2', {
      data: 'test2'
    });

    // Verify all user data
    const results = tamperProofService.verifyAllUserData(userId);
    expect(results.length).toBe(2);
    expect(results.every(result => result.isValid)).toBe(true);
  });
  test('should maintain audit trail', () => {
    // Store data
    const storeResult = tamperProofService.storeData(userId, dataType, testData);

    // Update data
    tamperProofService.updateData(storeResult.id, userId, {
      ...testData,
      age: 31
    });

    // Get audit trail
    const auditTrail = tamperProofService.getAuditTrail(storeResult.id);
    expect(auditTrail.length).toBe(2);
    expect(auditTrail[0].action).toBe('CREATE');
    expect(auditTrail[1].action).toBe('UPDATE');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0YW1wZXJQcm9vZlNlcnZpY2UiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJ1c2VySWQiLCJkYXRhVHlwZSIsInRlc3REYXRhIiwibmFtZSIsImFnZSIsImVtYWlsIiwiYmVmb3JlRWFjaCIsImRhdGFTdG9yZSIsImNsZWFyIiwiYXVkaXRUcmFpbCIsInRlc3QiLCJyZXN1bHQiLCJzdG9yZURhdGEiLCJleHBlY3QiLCJ0b0JlRGVmaW5lZCIsImlkIiwiZGF0YUhhc2giLCJzaWduYXR1cmUiLCJjcmVhdGVkQXQiLCJzdG9yZWRFbnRyeSIsImdldCIsInRvQmUiLCJkYXRhIiwidG9FcXVhbCIsInN0b3JlUmVzdWx0IiwicmV0cmlldmVkRGF0YSIsInJldHJpZXZlRGF0YSIsImlzVmFsaWQiLCJ1cGRhdGVkRGF0YSIsInVwZGF0ZVJlc3VsdCIsInVwZGF0ZURhdGEiLCJoYXMiLCJkZWxldGVSZXN1bHQiLCJkZWxldGVEYXRhIiwic3VjY2VzcyIsInZlcmlmeURhdGFJbnRlZ3JpdHkiLCJ1c2VyRW50cmllcyIsImxpc3RVc2VyRGF0YSIsImxlbmd0aCIsImV2ZXJ5IiwiZW50cnkiLCJzdGFydHNXaXRoIiwicmVzdWx0cyIsInZlcmlmeUFsbFVzZXJEYXRhIiwiZ2V0QXVkaXRUcmFpbCIsImFjdGlvbiJdLCJzb3VyY2VzIjpbInRhbXBlci1wcm9vZi1zZXJ2aWNlLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdGFtcGVyUHJvb2ZTZXJ2aWNlID0gcmVxdWlyZSgnLi4vaW5kZXgnKTtcblxuZGVzY3JpYmUoJ1RhbXBlci1Qcm9vZiBEYXRhIFNlcnZpY2UnLCAoKSA9PiB7XG4gIGNvbnN0IHVzZXJJZCA9ICd0ZXN0LXVzZXItMTIzJztcbiAgY29uc3QgZGF0YVR5cGUgPSAndGVzdF9kYXRhJztcbiAgY29uc3QgdGVzdERhdGEgPSB7IG5hbWU6ICdKb2huIERvZScsIGFnZTogMzAsIGVtYWlsOiAnam9obkBleGFtcGxlLmNvbScgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAvLyBDbGVhciBkYXRhIHN0b3JlIGFuZCBhdWRpdCB0cmFpbCBiZWZvcmUgZWFjaCB0ZXN0XG4gICAgdGFtcGVyUHJvb2ZTZXJ2aWNlLmRhdGFTdG9yZS5jbGVhcigpO1xuICAgIHRhbXBlclByb29mU2VydmljZS5hdWRpdFRyYWlsID0gW107XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBzdG9yZSBkYXRhIHdpdGggaGFzaCBhbmQgc2lnbmF0dXJlJywgKCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRhbXBlclByb29mU2VydmljZS5zdG9yZURhdGEodXNlcklkLCBkYXRhVHlwZSwgdGVzdERhdGEpO1xuXG4gICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3QocmVzdWx0LmlkKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChyZXN1bHQuZGF0YUhhc2gpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHJlc3VsdC5zaWduYXR1cmUpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHJlc3VsdC5jcmVhdGVkQXQpLnRvQmVEZWZpbmVkKCk7XG5cbiAgICAvLyBWZXJpZnkgZGF0YSB3YXMgc3RvcmVkXG4gICAgY29uc3Qgc3RvcmVkRW50cnkgPSB0YW1wZXJQcm9vZlNlcnZpY2UuZGF0YVN0b3JlLmdldChyZXN1bHQuaWQpO1xuICAgIGV4cGVjdChzdG9yZWRFbnRyeSkudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3Qoc3RvcmVkRW50cnkudXNlcklkKS50b0JlKHVzZXJJZCk7XG4gICAgZXhwZWN0KHN0b3JlZEVudHJ5LmRhdGFUeXBlKS50b0JlKGRhdGFUeXBlKTtcbiAgICBleHBlY3Qoc3RvcmVkRW50cnkuZGF0YSkudG9FcXVhbCh0ZXN0RGF0YSk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCByZXRyaWV2ZSBkYXRhIGFuZCB2ZXJpZnkgaW50ZWdyaXR5JywgKCkgPT4ge1xuICAgIC8vIFN0b3JlIGRhdGEgZmlyc3RcbiAgICBjb25zdCBzdG9yZVJlc3VsdCA9IHRhbXBlclByb29mU2VydmljZS5zdG9yZURhdGEodXNlcklkLCBkYXRhVHlwZSwgdGVzdERhdGEpO1xuXG4gICAgLy8gUmV0cmlldmUgZGF0YVxuICAgIGNvbnN0IHJldHJpZXZlZERhdGEgPSB0YW1wZXJQcm9vZlNlcnZpY2UucmV0cmlldmVEYXRhKHN0b3JlUmVzdWx0LmlkLCB1c2VySWQpO1xuXG4gICAgZXhwZWN0KHJldHJpZXZlZERhdGEpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHJldHJpZXZlZERhdGEuaWQpLnRvQmUoc3RvcmVSZXN1bHQuaWQpO1xuICAgIGV4cGVjdChyZXRyaWV2ZWREYXRhLmRhdGEpLnRvRXF1YWwodGVzdERhdGEpO1xuICAgIGV4cGVjdChyZXRyaWV2ZWREYXRhLmRhdGFUeXBlKS50b0JlKGRhdGFUeXBlKTtcbiAgICBleHBlY3QocmV0cmlldmVkRGF0YS5pc1ZhbGlkKS50b0JlKHRydWUpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgdXBkYXRlIGRhdGEgd2l0aCBuZXcgc2lnbmF0dXJlJywgKCkgPT4ge1xuICAgIC8vIFN0b3JlIGRhdGEgZmlyc3RcbiAgICBjb25zdCBzdG9yZVJlc3VsdCA9IHRhbXBlclByb29mU2VydmljZS5zdG9yZURhdGEodXNlcklkLCBkYXRhVHlwZSwgdGVzdERhdGEpO1xuXG4gICAgLy8gVXBkYXRlIGRhdGFcbiAgICBjb25zdCB1cGRhdGVkRGF0YSA9IHsgLi4udGVzdERhdGEsIGFnZTogMzEgfTtcbiAgICBjb25zdCB1cGRhdGVSZXN1bHQgPSB0YW1wZXJQcm9vZlNlcnZpY2UudXBkYXRlRGF0YShzdG9yZVJlc3VsdC5pZCwgdXNlcklkLCB1cGRhdGVkRGF0YSk7XG5cbiAgICBleHBlY3QodXBkYXRlUmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdCh1cGRhdGVSZXN1bHQuaWQpLnRvQmUoc3RvcmVSZXN1bHQuaWQpO1xuICAgIGV4cGVjdCh1cGRhdGVSZXN1bHQuZGF0YUhhc2gpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHVwZGF0ZVJlc3VsdC5zaWduYXR1cmUpLnRvQmVEZWZpbmVkKCk7XG5cbiAgICAvLyBWZXJpZnkgdXBkYXRlZCBkYXRhXG4gICAgY29uc3QgcmV0cmlldmVkRGF0YSA9IHRhbXBlclByb29mU2VydmljZS5yZXRyaWV2ZURhdGEoc3RvcmVSZXN1bHQuaWQsIHVzZXJJZCk7XG4gICAgZXhwZWN0KHJldHJpZXZlZERhdGEuZGF0YSkudG9FcXVhbCh1cGRhdGVkRGF0YSk7XG4gICAgZXhwZWN0KHJldHJpZXZlZERhdGEuaXNWYWxpZCkudG9CZSh0cnVlKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIGRlbGV0ZSBkYXRhJywgKCkgPT4ge1xuICAgIC8vIFN0b3JlIGRhdGEgZmlyc3RcbiAgICBjb25zdCBzdG9yZVJlc3VsdCA9IHRhbXBlclByb29mU2VydmljZS5zdG9yZURhdGEodXNlcklkLCBkYXRhVHlwZSwgdGVzdERhdGEpO1xuXG4gICAgLy8gVmVyaWZ5IGRhdGEgZXhpc3RzXG4gICAgZXhwZWN0KHRhbXBlclByb29mU2VydmljZS5kYXRhU3RvcmUuaGFzKHN0b3JlUmVzdWx0LmlkKSkudG9CZSh0cnVlKTtcblxuICAgIC8vIERlbGV0ZSBkYXRhXG4gICAgY29uc3QgZGVsZXRlUmVzdWx0ID0gdGFtcGVyUHJvb2ZTZXJ2aWNlLmRlbGV0ZURhdGEoc3RvcmVSZXN1bHQuaWQsIHVzZXJJZCk7XG5cbiAgICBleHBlY3QoZGVsZXRlUmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG5cbiAgICAvLyBWZXJpZnkgZGF0YSB3YXMgZGVsZXRlZFxuICAgIGV4cGVjdCh0YW1wZXJQcm9vZlNlcnZpY2UuZGF0YVN0b3JlLmhhcyhzdG9yZVJlc3VsdC5pZCkpLnRvQmUoZmFsc2UpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgdmVyaWZ5IGRhdGEgaW50ZWdyaXR5JywgKCkgPT4ge1xuICAgIC8vIFN0b3JlIGRhdGFcbiAgICBjb25zdCBzdG9yZVJlc3VsdCA9IHRhbXBlclByb29mU2VydmljZS5zdG9yZURhdGEodXNlcklkLCBkYXRhVHlwZSwgdGVzdERhdGEpO1xuICAgIGNvbnN0IHN0b3JlZEVudHJ5ID0gdGFtcGVyUHJvb2ZTZXJ2aWNlLmRhdGFTdG9yZS5nZXQoc3RvcmVSZXN1bHQuaWQpO1xuXG4gICAgLy8gVmVyaWZ5IGludGVncml0eVxuICAgIGNvbnN0IGlzVmFsaWQgPSB0YW1wZXJQcm9vZlNlcnZpY2UudmVyaWZ5RGF0YUludGVncml0eShzdG9yZWRFbnRyeSk7XG5cbiAgICBleHBlY3QoaXNWYWxpZCkudG9CZSh0cnVlKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIGRldGVjdCB0YW1wZXJlZCBkYXRhJywgKCkgPT4ge1xuICAgIC8vIFN0b3JlIGRhdGFcbiAgICBjb25zdCBzdG9yZVJlc3VsdCA9IHRhbXBlclByb29mU2VydmljZS5zdG9yZURhdGEodXNlcklkLCBkYXRhVHlwZSwgdGVzdERhdGEpO1xuICAgIGNvbnN0IHN0b3JlZEVudHJ5ID0gdGFtcGVyUHJvb2ZTZXJ2aWNlLmRhdGFTdG9yZS5nZXQoc3RvcmVSZXN1bHQuaWQpO1xuXG4gICAgLy8gVGFtcGVyIHdpdGggZGF0YVxuICAgIHN0b3JlZEVudHJ5LmRhdGEubmFtZSA9ICdFdmlsIEhhY2tlcic7XG5cbiAgICAvLyBWZXJpZnkgaW50ZWdyaXR5IGZhaWxzXG4gICAgY29uc3QgaXNWYWxpZCA9IHRhbXBlclByb29mU2VydmljZS52ZXJpZnlEYXRhSW50ZWdyaXR5KHN0b3JlZEVudHJ5KTtcblxuICAgIGV4cGVjdChpc1ZhbGlkKS50b0JlKGZhbHNlKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIGxpc3QgdXNlciBkYXRhJywgKCkgPT4ge1xuICAgIC8vIFN0b3JlIG11bHRpcGxlIGRhdGEgZW50cmllc1xuICAgIHRhbXBlclByb29mU2VydmljZS5zdG9yZURhdGEodXNlcklkLCAndHlwZTEnLCB7IGRhdGE6ICd0ZXN0MScgfSk7XG4gICAgdGFtcGVyUHJvb2ZTZXJ2aWNlLnN0b3JlRGF0YSh1c2VySWQsICd0eXBlMicsIHsgZGF0YTogJ3Rlc3QyJyB9KTtcbiAgICB0YW1wZXJQcm9vZlNlcnZpY2Uuc3RvcmVEYXRhKCdvdGhlci11c2VyJywgJ3R5cGUzJywgeyBkYXRhOiAndGVzdDMnIH0pO1xuXG4gICAgLy8gTGlzdCB1c2VyIGRhdGFcbiAgICBjb25zdCB1c2VyRW50cmllcyA9IHRhbXBlclByb29mU2VydmljZS5saXN0VXNlckRhdGEodXNlcklkKTtcblxuICAgIGV4cGVjdCh1c2VyRW50cmllcy5sZW5ndGgpLnRvQmUoMik7XG4gICAgZXhwZWN0KHVzZXJFbnRyaWVzLmV2ZXJ5KGVudHJ5ID0+IGVudHJ5LmRhdGFUeXBlLnN0YXJ0c1dpdGgoJ3R5cGUnKSkpLnRvQmUodHJ1ZSk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCB2ZXJpZnkgYWxsIHVzZXIgZGF0YScsICgpID0+IHtcbiAgICAvLyBTdG9yZSBtdWx0aXBsZSBkYXRhIGVudHJpZXNcbiAgICB0YW1wZXJQcm9vZlNlcnZpY2Uuc3RvcmVEYXRhKHVzZXJJZCwgJ3R5cGUxJywgeyBkYXRhOiAndGVzdDEnIH0pO1xuICAgIHRhbXBlclByb29mU2VydmljZS5zdG9yZURhdGEodXNlcklkLCAndHlwZTInLCB7IGRhdGE6ICd0ZXN0MicgfSk7XG5cbiAgICAvLyBWZXJpZnkgYWxsIHVzZXIgZGF0YVxuICAgIGNvbnN0IHJlc3VsdHMgPSB0YW1wZXJQcm9vZlNlcnZpY2UudmVyaWZ5QWxsVXNlckRhdGEodXNlcklkKTtcblxuICAgIGV4cGVjdChyZXN1bHRzLmxlbmd0aCkudG9CZSgyKTtcbiAgICBleHBlY3QocmVzdWx0cy5ldmVyeShyZXN1bHQgPT4gcmVzdWx0LmlzVmFsaWQpKS50b0JlKHRydWUpO1xuICB9KTtcblxuICB0ZXN0KCdzaG91bGQgbWFpbnRhaW4gYXVkaXQgdHJhaWwnLCAoKSA9PiB7XG4gICAgLy8gU3RvcmUgZGF0YVxuICAgIGNvbnN0IHN0b3JlUmVzdWx0ID0gdGFtcGVyUHJvb2ZTZXJ2aWNlLnN0b3JlRGF0YSh1c2VySWQsIGRhdGFUeXBlLCB0ZXN0RGF0YSk7XG5cbiAgICAvLyBVcGRhdGUgZGF0YVxuICAgIHRhbXBlclByb29mU2VydmljZS51cGRhdGVEYXRhKHN0b3JlUmVzdWx0LmlkLCB1c2VySWQsIHsgLi4udGVzdERhdGEsIGFnZTogMzEgfSk7XG5cbiAgICAvLyBHZXQgYXVkaXQgdHJhaWxcbiAgICBjb25zdCBhdWRpdFRyYWlsID0gdGFtcGVyUHJvb2ZTZXJ2aWNlLmdldEF1ZGl0VHJhaWwoc3RvcmVSZXN1bHQuaWQpO1xuXG4gICAgZXhwZWN0KGF1ZGl0VHJhaWwubGVuZ3RoKS50b0JlKDIpO1xuICAgIGV4cGVjdChhdWRpdFRyYWlsWzBdLmFjdGlvbikudG9CZSgnQ1JFQVRFJyk7XG4gICAgZXhwZWN0KGF1ZGl0VHJhaWxbMV0uYWN0aW9uKS50b0JlKCdVUERBVEUnKTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxrQkFBa0IsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUU5Q0MsUUFBUSxDQUFDLDJCQUEyQixFQUFFLE1BQU07RUFDMUMsTUFBTUMsTUFBTSxHQUFHLGVBQWU7RUFDOUIsTUFBTUMsUUFBUSxHQUFHLFdBQVc7RUFDNUIsTUFBTUMsUUFBUSxHQUFHO0lBQUVDLElBQUksRUFBRSxVQUFVO0lBQUVDLEdBQUcsRUFBRSxFQUFFO0lBQUVDLEtBQUssRUFBRTtFQUFtQixDQUFDO0VBRXpFQyxVQUFVLENBQUMsTUFBTTtJQUNmO0lBQ0FULGtCQUFrQixDQUFDVSxTQUFTLENBQUNDLEtBQUssQ0FBQyxDQUFDO0lBQ3BDWCxrQkFBa0IsQ0FBQ1ksVUFBVSxHQUFHLEVBQUU7RUFDcEMsQ0FBQyxDQUFDO0VBRUZDLElBQUksQ0FBQywyQ0FBMkMsRUFBRSxNQUFNO0lBQ3RELE1BQU1DLE1BQU0sR0FBR2Qsa0JBQWtCLENBQUNlLFNBQVMsQ0FBQ1osTUFBTSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsQ0FBQztJQUV2RVcsTUFBTSxDQUFDRixNQUFNLENB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