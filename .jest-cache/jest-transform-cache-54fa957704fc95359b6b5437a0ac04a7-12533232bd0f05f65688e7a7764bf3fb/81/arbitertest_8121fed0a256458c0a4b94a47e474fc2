7023992ebdcd11b6d4005160231a5c6b
"use strict";

const request = require('supertest');
const app = require('../index.js');
describe('Arbiter System', () => {
  // Health check test
  describe('GET /health', () => {
    it('should return health status', async () => {
      const response = await request(app).get('/health').expect(200);
      expect(response.body.status).toBe('healthy');
      expect(response.body.service).toBe('arbiter-system');
    });
  });

  // Get all disputes test
  describe('GET /api/disputes', () => {
    it('should return all disputes', async () => {
      const response = await request(app).get('/api/disputes').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
      expect(response.body.count).toBeGreaterThanOrEqual(0);
    });
  });

  // Get specific dispute test
  describe('GET /api/disputes/:disputeId', () => {
    it('should return specific dispute data', async () => {
      const response = await request(app).get('/api/disputes/dispute_1').expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.id).toBe('dispute_1');
    });
    it('should return 404 for non-existent dispute', async () => {
      const response = await request(app).get('/api/disputes/non-existent').expect(404);
      expect(response.body.error).toBe('Dispute not found');
    });
  });

  // Submit a new dispute test
  describe('POST /api/disputes', () => {
    it('should submit a new dispute', async () => {
      const disputeData = {
        parties: ['party_x', 'party_y'],
        type: 'contractual',
        description: 'Contract terms disagreement'
      };
      const response = await request(app).post('/api/disputes').send(disputeData).expect(201);
      expect(response.body.success).toBe(true);
      expect(response.body.data.parties).toEqual(['party_x', 'party_y']);
      expect(response.body.data.type).toBe('contractual');
    });
    it('should return 400 for missing parties', async () => {
      const disputeData = {
        type: 'contractual',
        description: 'Contract terms disagreement'
      };
      const response = await request(app).post('/api/disputes').send(disputeData).expect(400);
      expect(response.body.error).toBe('At least two parties are required');
    });
    it('should return 400 for missing type or description', async () => {
      const disputeData = {
        parties: ['party_x', 'party_y'],
        description: 'Contract terms disagreement'
      };
      const response = await request(app).post('/api/disputes').send(disputeData).expect(400);
      expect(response.body.error).toBe('Type and description are required');
    });
  });

  // Update dispute status test
  describe('PUT /api/disputes/:disputeId', () => {
    let disputeId;
    beforeAll(async () => {
      // Create a dispute first
      const disputeData = {
        parties: ['party_m', 'party_n'],
        type: 'technical',
        description: 'API integration issue'
      };
      const response = await request(app).post('/api/disputes').send(disputeData);
      disputeId = response.body.data.id;
    });
    it('should update dispute status', async () => {
      const updateData = {
        status: 'in_progress',
        resolution: 'Parties are negotiating'
      };
      const response = await request(app).put(`/api/disputes/${disputeId}`).send(updateData).expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.status).toBe('in_progress');
      expect(response.body.data.resolution).toBe('Parties are negotiating');
    });
    it('should return 404 for non-existent dispute', async () => {
      const updateData = {
        status: 'resolved'
      };
      const response = await request(app).put('/api/disputes/non-existent').send(updateData).expect(404);
      expect(response.body.error).toBe('Dispute not found');
    });
  });

  // Schedule mediation session test
  describe('POST /api/mediation', () => {
    let disputeId;
    beforeAll(async () => {
      // Create a dispute first
      const disputeData = {
        parties: ['party_p', 'party_q'],
        type: 'financial',
        description: 'Payment dispute'
      };
      const response = await request(app).post('/api/disputes').send(disputeData);
      disputeId = response.body.data.id;
    });
    it('should schedule a mediation session', async () => {
      const mediationData = {
        disputeId: disputeId,
        mediator: 'mediator_123'
      };
      const response = await request(app).post('/api/mediation').send(mediationData).expect(201);
      expect(response.body.success).toBe(true);
      expect(response.body.data.disputeId).toBe(disputeId);
      expect(response.body.data.mediator).toBe('mediator_123');
      expect(response.body.data.status).toBe('scheduled');
    });
    it('should return 400 for missing dispute ID or mediator', async () => {
      const mediationData = {
        mediator: 'mediator_123'
      };
      const response = await request(app).post('/api/mediation').send(mediationData).expect(400);
      expect(response.body.error).toBe('Dispute ID and mediator are required');
    });
    it('should return 404 for non-existent dispute', async () => {
      const mediationData = {
        disputeId: 'non-existent',
        mediator: 'mediator_123'
      };
      const response = await request(app).post('/api/mediation').send(mediationData).expect(404);
      expect(response.body.error).toBe('Dispute not found');
    });
  });

  // Get all mediation sessions test
  describe('GET /api/mediation', () => {
    it('should return all mediation sessions', async () => {
      const response = await request(app).get('/api/mediation').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
      expect(response.body.count).toBeGreaterThanOrEqual(0);
    });
  });

  // Get specific mediation session test
  describe('GET /api/mediation/:sessionId', () => {
    let sessionId;
    beforeAll(async () => {
      // Create a dispute first
      const disputeData = {
        parties: ['party_r', 'party_s'],
        type: 'service',
        description: 'Service quality issue'
      };
      const disputeResponse = await request(app).post('/api/disputes').send(disputeData);
      const disputeId = disputeResponse.body.data.id;

      // Schedule a mediation session
      const mediationData = {
        disputeId: disputeId,
        mediator: 'mediator_456'
      };
      const mediationResponse = await request(app).post('/api/mediation').send(mediationData);
      sessionId = mediationResponse.body.data.id;
    });
    it('should return specific mediation session', async () => {
      const response = await request(app).get(`/api/mediation/${sessionId}`).expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.id).toBe(sessionId);
    });
    it('should return 404 for non-existent mediation session', async () => {
      const response = await request(app).get('/api/mediation/non-existent').expect(404);
      expect(response.body.error).toBe('Mediation session not found');
    });
  });

  // Get all arbitrators test
  describe('GET /api/arbitrators', () => {
    it('should return all arbitrators', async () => {
      const response = await request(app).get('/api/arbitrators').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
      expect(response.body.count).toBeGreaterThanOrEqual(0);
    });
  });

  // Register a new arbitrator test
  describe('POST /api/arbitrators', () => {
    it('should register a new arbitrator', async () => {
      const arbitratorData = {
        name: 'John Doe',
        expertise: ['contract_law', 'commercial_law'],
        credentials: ['LLB', 'LLM']
      };
      const response = await request(app).post('/api/arbitrators').send(arbitratorData).expect(201);
      expect(response.body.success).toBe(true);
      expect(response.body.data.name).toBe('John Doe');
      expect(response.body.data.expertise).toEqual(['contract_law', 'commercial_law']);
    });
    it('should return 400 for missing name or expertise', async () => {
      const arbitratorData = {
        expertise: ['contract_law']
      };
      const response = await request(app).post('/api/arbitrators').send(arbitratorData).expect(400);
      expect(response.body.error).toBe('Name and expertise are required');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImFwcCIsImRlc2NyaWJlIiwiaXQiLCJyZXNwb25zZSIsImdldCIsImV4cGVjdCIsImJvZHkiLCJzdGF0dXMiLCJ0b0JlIiwic2VydmljZSIsInN1Y2Nlc3MiLCJBcnJheSIsImlzQXJyYXkiLCJkYXRhIiwiY291bnQiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwiaWQiLCJlcnJvciIsImRpc3B1dGVEYXRhIiwicGFydGllcyIsInR5cGUiLCJkZXNjcmlwdGlvbiIsInBvc3QiLCJzZW5kIiwidG9FcXVhbCIsImRpc3B1dGVJZCIsImJlZm9yZUFsbCIsInVwZGF0ZURhdGEiLCJyZXNvbHV0aW9uIiwicHV0IiwibWVkaWF0aW9uRGF0YSIsIm1lZGlhdG9yIiwic2Vzc2lvbklkIiwiZGlzcHV0ZVJlc3BvbnNlIiwibWVkaWF0aW9uUmVzcG9uc2UiLCJhcmJpdHJhdG9yRGF0YSIsIm5hbWUiLCJleHBlcnRpc2UiLCJjcmVkZW50aWFscyJdLCJzb3VyY2VzIjpbImFyYml0ZXIudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi9pbmRleC5qcycpO1xuXG5kZXNjcmliZSgnQXJiaXRlciBTeXN0ZW0nLCAoKSA9PiB7XG4gIC8vIEhlYWx0aCBjaGVjayB0ZXN0XG4gIGRlc2NyaWJlKCdHRVQgL2hlYWx0aCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBoZWFsdGggc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2hlYWx0aCcpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3RhdHVzKS50b0JlKCdoZWFsdGh5Jyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zZXJ2aWNlKS50b0JlKCdhcmJpdGVyLXN5c3RlbScpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBHZXQgYWxsIGRpc3B1dGVzIHRlc3RcbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL2Rpc3B1dGVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGFsbCBkaXNwdXRlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvZGlzcHV0ZXMnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXNwb25zZS5ib2R5LmRhdGEpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuY291bnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIEdldCBzcGVjaWZpYyBkaXNwdXRlIHRlc3RcbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL2Rpc3B1dGVzLzpkaXNwdXRlSWQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3BlY2lmaWMgZGlzcHV0ZSBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS9kaXNwdXRlcy9kaXNwdXRlXzEnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLmlkKS50b0JlKCdkaXNwdXRlXzEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNCBmb3Igbm9uLWV4aXN0ZW50IGRpc3B1dGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL2Rpc3B1dGVzL25vbi1leGlzdGVudCcpXG4gICAgICAgIC5leHBlY3QoNDA0KTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ0Rpc3B1dGUgbm90IGZvdW5kJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFN1Ym1pdCBhIG5ldyBkaXNwdXRlIHRlc3RcbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS9kaXNwdXRlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHN1Ym1pdCBhIG5ldyBkaXNwdXRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGlzcHV0ZURhdGEgPSB7XG4gICAgICAgIHBhcnRpZXM6IFsncGFydHlfeCcsICdwYXJ0eV95J10sXG4gICAgICAgIHR5cGU6ICdjb250cmFjdHVhbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ29udHJhY3QgdGVybXMgZGlzYWdyZWVtZW50J1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvZGlzcHV0ZXMnKVxuICAgICAgICAuc2VuZChkaXNwdXRlRGF0YSlcbiAgICAgICAgLmV4cGVjdCgyMDEpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5wYXJ0aWVzKS50b0VxdWFsKFsncGFydHlfeCcsICdwYXJ0eV95J10pO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS50eXBlKS50b0JlKCdjb250cmFjdHVhbCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIGZvciBtaXNzaW5nIHBhcnRpZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBkaXNwdXRlRGF0YSA9IHtcbiAgICAgICAgdHlwZTogJ2NvbnRyYWN0dWFsJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdDb250cmFjdCB0ZXJtcyBkaXNhZ3JlZW1lbnQnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9kaXNwdXRlcycpXG4gICAgICAgIC5zZW5kKGRpc3B1dGVEYXRhKVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0JlKCdBdCBsZWFzdCB0d28gcGFydGllcyBhcmUgcmVxdWlyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCBmb3IgbWlzc2luZyB0eXBlIG9yIGRlc2NyaXB0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGlzcHV0ZURhdGEgPSB7XG4gICAgICAgIHBhcnRpZXM6IFsncGFydHlfeCcsICdwYXJ0eV95J10sXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ29udHJhY3QgdGVybXMgZGlzYWdyZWVtZW50J1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvZGlzcHV0ZXMnKVxuICAgICAgICAuc2VuZChkaXNwdXRlRGF0YSlcbiAgICAgICAgLmV4cGVjdCg0MDApO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnVHlwZSBhbmQgZGVzY3JpcHRpb24gYXJlIHJlcXVpcmVkJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZSBkaXNwdXRlIHN0YXR1cyB0ZXN0XG4gIGRlc2NyaWJlKCdQVVQgL2FwaS9kaXNwdXRlcy86ZGlzcHV0ZUlkJywgKCkgPT4ge1xuICAgIGxldCBkaXNwdXRlSWQ7XG5cbiAgICBiZWZvcmVBbGwoYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIGEgZGlzcHV0ZSBmaXJzdFxuICAgICAgY29uc3QgZGlzcHV0ZURhdGEgPSB7XG4gICAgICAgIHBhcnRpZXM6IFsncGFydHlfbScsICdwYXJ0eV9uJ10sXG4gICAgICAgIHR5cGU6ICd0ZWNobmljYWwnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FQSSBpbnRlZ3JhdGlvbiBpc3N1ZSdcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL2Rpc3B1dGVzJylcbiAgICAgICAgLnNlbmQoZGlzcHV0ZURhdGEpO1xuXG4gICAgICBkaXNwdXRlSWQgPSByZXNwb25zZS5ib2R5LmRhdGEuaWQ7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBkaXNwdXRlIHN0YXR1cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XG4gICAgICAgIHN0YXR1czogJ2luX3Byb2dyZXNzJyxcbiAgICAgICAgcmVzb2x1dGlvbjogJ1BhcnRpZXMgYXJlIG5lZ290aWF0aW5nJ1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnB1dChgL2FwaS9kaXNwdXRlcy8ke2Rpc3B1dGVJZH1gKVxuICAgICAgICAuc2VuZCh1cGRhdGVEYXRhKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLnN0YXR1cykudG9CZSgnaW5fcHJvZ3Jlc3MnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEucmVzb2x1dGlvbikudG9CZSgnUGFydGllcyBhcmUgbmVnb3RpYXRpbmcnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNCBmb3Igbm9uLWV4aXN0ZW50IGRpc3B1dGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1cGRhdGVEYXRhID0ge1xuICAgICAgICBzdGF0dXM6ICdyZXNvbHZlZCdcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wdXQoJy9hcGkvZGlzcHV0ZXMvbm9uLWV4aXN0ZW50JylcbiAgICAgICAgLnNlbmQodXBkYXRlRGF0YSlcbiAgICAgICAgLmV4cGVjdCg0MDQpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnRGlzcHV0ZSBub3QgZm91bmQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gU2NoZWR1bGUgbWVkaWF0aW9uIHNlc3Npb24gdGVzdFxuICBkZXNjcmliZSgnUE9TVCAvYXBpL21lZGlhdGlvbicsICgpID0+IHtcbiAgICBsZXQgZGlzcHV0ZUlkO1xuXG4gICAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBhIGRpc3B1dGUgZmlyc3RcbiAgICAgIGNvbnN0IGRpc3B1dGVEYXRhID0ge1xuICAgICAgICBwYXJ0aWVzOiBbJ3BhcnR5X3AnLCAncGFydHlfcSddLFxuICAgICAgICB0eXBlOiAnZmluYW5jaWFsJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQYXltZW50IGRpc3B1dGUnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9kaXNwdXRlcycpXG4gICAgICAgIC5zZW5kKGRpc3B1dGVEYXRhKTtcblxuICAgICAgZGlzcHV0ZUlkID0gcmVzcG9uc2UuYm9keS5kYXRhLmlkO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzY2hlZHVsZSBhIG1lZGlhdGlvbiBzZXNzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbWVkaWF0aW9uRGF0YSA9IHtcbiAgICAgICAgZGlzcHV0ZUlkOiBkaXNwdXRlSWQsXG4gICAgICAgIG1lZGlhdG9yOiAnbWVkaWF0b3JfMTIzJ1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvbWVkaWF0aW9uJylcbiAgICAgICAgLnNlbmQobWVkaWF0aW9uRGF0YSlcbiAgICAgICAgLmV4cGVjdCgyMDEpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5kaXNwdXRlSWQpLnRvQmUoZGlzcHV0ZUlkKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEubWVkaWF0b3IpLnRvQmUoJ21lZGlhdG9yXzEyMycpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5zdGF0dXMpLnRvQmUoJ3NjaGVkdWxlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIGZvciBtaXNzaW5nIGRpc3B1dGUgSUQgb3IgbWVkaWF0b3InLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtZWRpYXRpb25EYXRhID0ge1xuICAgICAgICBtZWRpYXRvcjogJ21lZGlhdG9yXzEyMydcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL21lZGlhdGlvbicpXG4gICAgICAgIC5zZW5kKG1lZGlhdGlvbkRhdGEpXG4gICAgICAgIC5leHBlY3QoNDAwKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ0Rpc3B1dGUgSUQgYW5kIG1lZGlhdG9yIGFyZSByZXF1aXJlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDA0IGZvciBub24tZXhpc3RlbnQgZGlzcHV0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1lZGlhdGlvbkRhdGEgPSB7XG4gICAgICAgIGRpc3B1dGVJZDogJ25vbi1leGlzdGVudCcsXG4gICAgICAgIG1lZGlhdG9yOiAnbWVkaWF0b3JfMTIzJ1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvbWVkaWF0aW9uJylcbiAgICAgICAgLnNlbmQobWVkaWF0aW9uRGF0YSlcbiAgICAgICAgLmV4cGVjdCg0MDQpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnRGlzcHV0ZSBub3QgZm91bmQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gR2V0IGFsbCBtZWRpYXRpb24gc2Vzc2lvbnMgdGVzdFxuICBkZXNjcmliZSgnR0VUIC9hcGkvbWVkaWF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGFsbCBtZWRpYXRpb24gc2Vzc2lvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL21lZGlhdGlvbicpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3BvbnNlLmJvZHkuZGF0YSkpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5jb3VudCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gR2V0IHNwZWNpZmljIG1lZGlhdGlvbiBzZXNzaW9uIHRlc3RcbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL21lZGlhdGlvbi86c2Vzc2lvbklkJywgKCkgPT4ge1xuICAgIGxldCBzZXNzaW9uSWQ7XG5cbiAgICBiZWZvcmVBbGwoYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIGEgZGlzcHV0ZSBmaXJzdFxuICAgICAgY29uc3QgZGlzcHV0ZURhdGEgPSB7XG4gICAgICAgIHBhcnRpZXM6IFsncGFydHlfcicsICdwYXJ0eV9zJ10sXG4gICAgICAgIHR5cGU6ICdzZXJ2aWNlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdTZXJ2aWNlIHF1YWxpdHkgaXNzdWUnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBkaXNwdXRlUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvZGlzcHV0ZXMnKVxuICAgICAgICAuc2VuZChkaXNwdXRlRGF0YSk7XG5cbiAgICAgIGNvbnN0IGRpc3B1dGVJZCA9IGRpc3B1dGVSZXNwb25zZS5ib2R5LmRhdGEuaWQ7XG5cbiAgICAgIC8vIFNjaGVkdWxlIGEgbWVkaWF0aW9uIHNlc3Npb25cbiAgICAgIGNvbnN0IG1lZGlhdGlvbkRhdGEgPSB7XG4gICAgICAgIGRpc3B1dGVJZDogZGlzcHV0ZUlkLFxuICAgICAgICBtZWRpYXRvcjogJ21lZGlhdG9yXzQ1NidcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG1lZGlhdGlvblJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL21lZGlhdGlvbicpXG4gICAgICAgIC5zZW5kKG1lZGlhdGlvbkRhdGEpO1xuXG4gICAgICBzZXNzaW9uSWQgPSBtZWRpYXRpb25SZXNwb25zZS5ib2R5LmRhdGEuaWQ7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBzcGVjaWZpYyBtZWRpYXRpb24gc2Vzc2lvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoYC9hcGkvbWVkaWF0aW9uLyR7c2Vzc2lvbklkfWApXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEuaWQpLnRvQmUoc2Vzc2lvbklkKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNCBmb3Igbm9uLWV4aXN0ZW50IG1lZGlhdGlvbiBzZXNzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS9tZWRpYXRpb24vbm9uLWV4aXN0ZW50JylcbiAgICAgICAgLmV4cGVjdCg0MDQpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnTWVkaWF0aW9uIHNlc3Npb24gbm90IGZvdW5kJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIEdldCBhbGwgYXJiaXRyYXRvcnMgdGVzdFxuICBkZXNjcmliZSgnR0VUIC9hcGkvYXJiaXRyYXRvcnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gYWxsIGFyYml0cmF0b3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS9hcmJpdHJhdG9ycycpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3BvbnNlLmJvZHkuZGF0YSkpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5jb3VudCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gUmVnaXN0ZXIgYSBuZXcgYXJiaXRyYXRvciB0ZXN0XG4gIGRlc2NyaWJlKCdQT1NUIC9hcGkvYXJiaXRyYXRvcnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZWdpc3RlciBhIG5ldyBhcmJpdHJhdG9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYXJiaXRyYXRvckRhdGEgPSB7XG4gICAgICAgIG5hbWU6ICdKb2huIERvZScsXG4gICAgICAgIGV4cGVydGlzZTogWydjb250cmFjdF9sYXcnLCAnY29tbWVyY2lhbF9sYXcnXSxcbiAgICAgICAgY3JlZGVudGlhbHM6IFsnTExCJywgJ0xMTSddXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9hcmJpdHJhdG9ycycpXG4gICAgICAgIC5zZW5kKGFyYml0cmF0b3JEYXRhKVxuICAgICAgICAuZXhwZWN0KDIwMSk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLm5hbWUpLnRvQmUoJ0pvaG4gRG9lJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLmV4cGVydGlzZSkudG9FcXVhbChbJ2NvbnRyYWN0X2xhdycsICdjb21tZXJjaWFsX2xhdyddKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCBmb3IgbWlzc2luZyBuYW1lIG9yIGV4cGVydGlzZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFyYml0cmF0b3JEYXRhID0ge1xuICAgICAgICBleHBlcnRpc2U6IFsnY29udHJhY3RfbGF3J11cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL2FyYml0cmF0b3JzJylcbiAgICAgICAgLnNlbmQoYXJiaXRyYXRvckRhdGEpXG4gICAgICAgIC5leHBlY3QoNDAwKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ05hbWUgYW5kIGV4cGVydGlzZSBhcmUgcmVxdWlyZWQnKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFB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