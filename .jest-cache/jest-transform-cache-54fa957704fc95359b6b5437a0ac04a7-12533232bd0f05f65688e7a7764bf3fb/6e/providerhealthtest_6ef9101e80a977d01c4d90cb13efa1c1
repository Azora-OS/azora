2f2a23633fbbc98c5366c66093799c03
"use strict";

var _types = require("../types");
describe('AI Routing - Provider Health Checks', () => {
  describe('Health Check System', () => {
    it('should check local LLM provider health', async () => {
      const healthStatus = {
        tier: _types.RoutingTier.LOCAL_LLM,
        isHealthy: true,
        responseTime: 50,
        lastChecked: new Date()
      };
      expect(healthStatus.isHealthy).toBe(true);
      expect(healthStatus.responseTime).toBeLessThan(100);
    });
    it('should check RAP system provider health', async () => {
      const healthStatus = {
        tier: _types.RoutingTier.RAP_SYSTEM,
        isHealthy: true,
        responseTime: 200,
        lastChecked: new Date()
      };
      expect(healthStatus.isHealthy).toBe(true);
      expect(healthStatus.responseTime).toBeLessThan(500);
    });
    it('should check external LLM provider health', async () => {
      const healthStatus = {
        tier: _types.RoutingTier.EXTERNAL_LLM,
        isHealthy: true,
        responseTime: 1000,
        lastChecked: new Date()
      };
      expect(healthStatus.isHealthy).toBe(true);
      expect(healthStatus.responseTime).toBeLessThan(5000);
    });
    it('should mark provider as unhealthy on timeout', async () => {
      const healthStatus = {
        tier: _types.RoutingTier.LOCAL_LLM,
        isHealthy: false,
        responseTime: 10000,
        lastChecked: new Date(),
        error: 'Timeout'
      };
      expect(healthStatus.isHealthy).toBe(false);
      expect(healthStatus.error).toBe('Timeout');
    });
    it('should mark provider as unhealthy on error', async () => {
      const healthStatus = {
        tier: _types.RoutingTier.EXTERNAL_LLM,
        isHealthy: false,
        responseTime: 0,
        lastChecked: new Date(),
        error: 'Connection refused'
      };
      expect(healthStatus.isHealthy).toBe(false);
      expect(healthStatus.error).toBeDefined();
    });
    it('should track consecutive health check failures', () => {
      const failureCount = 3;
      const threshold = 5;
      const shouldDisable = failureCount >= threshold;
      expect(shouldDisable).toBe(false);
      const highFailureCount = 6;
      const shouldDisableHigh = highFailureCount >= threshold;
      expect(shouldDisableHigh).toBe(true);
    });
    it('should reset failure count on successful health check', () => {
      let failureCount = 3;
      failureCount = 0;
      expect(failureCount).toBe(0);
    });
    it('should perform periodic health checks', () => {
      const checkInterval = 60000;
      const lastCheck = new Date(Date.now() - 70000);
      const now = new Date();
      const shouldCheck = now.getTime() - lastCheck.getTime() >= checkInterval;
      expect(shouldCheck).toBe(true);
    });
    it('should aggregate health status across all providers', () => {
      const providers = [{
        tier: _types.RoutingTier.LOCAL_LLM,
        isHealthy: true
      }, {
        tier: _types.RoutingTier.RAP_SYSTEM,
        isHealthy: true
      }, {
        tier: _types.RoutingTier.EXTERNAL_LLM,
        isHealthy: false
      }];
      const healthyCount = providers.filter(p => p.isHealthy).length;
      const totalCount = providers.length;
      const healthPercentage = healthyCount / totalCount * 100;
      expect(healthPercentage).toBe(66.66666666666666);
    });
    it('should prioritize healthy providers in routing', () => {
      const providers = [{
        tier: _types.RoutingTier.LOCAL_LLM,
        isHealthy: false,
        priority: 1
      }, {
        tier: _types.RoutingTier.RAP_SYSTEM,
        isHealthy: true,
        priority: 2
      }, {
        tier: _types.RoutingTier.EXTERNAL_LLM,
        isHealthy: true,
        priority: 3
      }];
      const healthyProviders = providers.filter(p => p.isHealthy).sort((a, b) => a.priority - b.priority);
      expect(healthyProviders.length).toBe(2);
      expect(healthyProviders[0].tier).toBe(_types.RoutingTier.RAP_SYSTEM);
    });
  });
  describe('Provider Recovery', () => {
    it('should attempt recovery after cooldown period', () => {
      const disabledAt = new Date(Date.now() - 600000);
      const cooldownPeriod = 300000;
      const now = new Date();
      const canRecover = now.getTime() - disabledAt.getTime() >= cooldownPeriod;
      expect(canRecover).toBe(true);
    });
    it('should not attempt recovery during cooldown', () => {
      const disabledAt = new Date(Date.now() - 100000);
      const cooldownPeriod = 300000;
      const now = new Date();
      const canRecover = now.getTime() - disabledAt.getTime() >= cooldownPeriod;
      expect(canRecover).toBe(false);
    });
    it('should gradually increase recovery attempts', () => {
      const attempts = [1, 2, 3, 4, 5];
      const backoffMultiplier = 2;
      const delays = attempts.map(attempt => Math.min(60000 * Math.pow(backoffMultiplier, attempt - 1), 600000));
      expect(delays[0]).toBe(60000);
      expect(delays[1]).toBe(120000);
      expect(delays[2]).toBe(240000);
      expect(delays[3]).toBe(480000);
      expect(delays[4]).toBe(600000);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdHlwZXMiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJpdCIsImhlYWx0aFN0YXR1cyIsInRpZXIiLCJSb3V0aW5nVGllciIsIkxPQ0FMX0xMTSIsImlzSGVhbHRoeSIsInJlc3BvbnNlVGltZSIsImxhc3RDaGVja2VkIiwiRGF0ZSIsImV4cGVjdCIsInRvQmUiLCJ0b0JlTGVzc1RoYW4iLCJSQVBfU1lTVEVNIiwiRVhURVJOQUxfTExNIiwiZXJyb3IiLCJ0b0JlRGVmaW5lZCIsImZhaWx1cmVDb3VudCIsInRocmVzaG9sZCIsInNob3VsZERpc2FibGUiLCJoaWdoRmFpbHVyZUNvdW50Iiwic2hvdWxkRGlzYWJsZUhpZ2giLCJjaGVja0ludGVydmFsIiwibGFzdENoZWNrIiwibm93Iiwic2hvdWxkQ2hlY2siLCJnZXRUaW1lIiwicHJvdmlkZXJzIiwiaGVhbHRoeUNvdW50IiwiZmlsdGVyIiwicCIsImxlbmd0aCIsInRvdGFsQ291bnQiLCJoZWFsdGhQZXJjZW50YWdlIiwicHJpb3JpdHkiLCJoZWFsdGh5UHJvdmlkZXJzIiwic29ydCIsImEiLCJiIiwiZGlzYWJsZWRBdCIsImNvb2xkb3duUGVyaW9kIiwiY2FuUmVjb3ZlciIsImF0dGVtcHRzIiwiYmFja29mZk11bHRpcGxpZXIiLCJkZWxheXMiLCJtYXAiLCJhdHRlbXB0IiwiTWF0aCIsIm1pbiIsInBvdyJdLCJzb3VyY2VzIjpbInByb3ZpZGVyLWhlYWx0aC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRpbmdUaWVyIH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5cclxuZGVzY3JpYmUoJ0FJIFJvdXRpbmcgLSBQcm92aWRlciBIZWFsdGggQ2hlY2tzJywgKCkgPT4ge1xyXG4gIGRlc2NyaWJlKCdIZWFsdGggQ2hlY2sgU3lzdGVtJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjaGVjayBsb2NhbCBMTE0gcHJvdmlkZXIgaGVhbHRoJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBoZWFsdGhTdGF0dXMgPSB7XHJcbiAgICAgICAgdGllcjogUm91dGluZ1RpZXIuTE9DQUxfTExNLFxyXG4gICAgICAgIGlzSGVhbHRoeTogdHJ1ZSxcclxuICAgICAgICByZXNwb25zZVRpbWU6IDUwLFxyXG4gICAgICAgIGxhc3RDaGVja2VkOiBuZXcgRGF0ZSgpLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgZXhwZWN0KGhlYWx0aFN0YXR1cy5pc0hlYWx0aHkpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChoZWFsdGhTdGF0dXMucmVzcG9uc2VUaW1lKS50b0JlTGVzc1RoYW4oMTAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2hlY2sgUkFQIHN5c3RlbSBwcm92aWRlciBoZWFsdGgnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGhlYWx0aFN0YXR1cyA9IHtcclxuICAgICAgICB0aWVyOiBSb3V0aW5nVGllci5SQVBfU1lTVEVNLFxyXG4gICAgICAgIGlzSGVhbHRoeTogdHJ1ZSxcclxuICAgICAgICByZXNwb25zZVRpbWU6IDIwMCxcclxuICAgICAgICBsYXN0Q2hlY2tlZDogbmV3IERhdGUoKSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGV4cGVjdChoZWFsdGhTdGF0dXMuaXNIZWFsdGh5KS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoaGVhbHRoU3RhdHVzLnJlc3BvbnNlVGltZSkudG9CZUxlc3NUaGFuKDUwMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNoZWNrIGV4dGVybmFsIExMTSBwcm92aWRlciBoZWFsdGgnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGhlYWx0aFN0YXR1cyA9IHtcclxuICAgICAgICB0aWVyOiBSb3V0aW5nVGllci5FWFRFUk5BTF9MTE0sXHJcbiAgICAgICAgaXNIZWFsdGh5OiB0cnVlLFxyXG4gICAgICAgIHJlc3BvbnNlVGltZTogMTAwMCxcclxuICAgICAgICBsYXN0Q2hlY2tlZDogbmV3IERhdGUoKSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGV4cGVjdChoZWFsdGhTdGF0dXMuaXNIZWFsdGh5KS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoaGVhbHRoU3RhdHVzLnJlc3BvbnNlVGltZSkudG9CZUxlc3NUaGFuKDUwMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBtYXJrIHByb3ZpZGVyIGFzIHVuaGVhbHRoeSBvbiB0aW1lb3V0JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBoZWFsdGhTdGF0dXMgPSB7XHJcbiAgICAgICAgdGllcjogUm91dGluZ1RpZXIuTE9DQUxfTExNLFxyXG4gICAgICAgIGlzSGVhbHRoeTogZmFsc2UsXHJcbiAgICAgICAgcmVzcG9uc2VUaW1lOiAxMDAwMCxcclxuICAgICAgICBsYXN0Q2hlY2tlZDogbmV3IERhdGUoKSxcclxuICAgICAgICBlcnJvcjogJ1RpbWVvdXQnLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgZXhwZWN0KGhlYWx0aFN0YXR1cy5pc0hlYWx0aHkpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QoaGVhbHRoU3RhdHVzLmVycm9yKS50b0JlKCdUaW1lb3V0Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIG1hcmsgcHJvdmlkZXIgYXMgdW5oZWFsdGh5IG9uIGVycm9yJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBoZWFsdGhTdGF0dXMgPSB7XHJcbiAgICAgICAgdGllcjogUm91dGluZ1RpZXIuRVhURVJOQUxfTExNLFxyXG4gICAgICAgIGlzSGVhbHRoeTogZmFsc2UsXHJcbiAgICAgICAgcmVzcG9uc2VUaW1lOiAwLFxyXG4gICAgICAgIGxhc3RDaGVja2VkOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGVycm9yOiAnQ29ubmVjdGlvbiByZWZ1c2VkJyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGV4cGVjdChoZWFsdGhTdGF0dXMuaXNIZWFsdGh5KS50b0JlKGZhbHNlKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aFN0YXR1cy5lcnJvcikudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdHJhY2sgY29uc2VjdXRpdmUgaGVhbHRoIGNoZWNrIGZhaWx1cmVzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBmYWlsdXJlQ291bnQgPSAzO1xyXG4gICAgICBjb25zdCB0aHJlc2hvbGQgPSA1O1xyXG5cclxuICAgICAgY29uc3Qgc2hvdWxkRGlzYWJsZSA9IGZhaWx1cmVDb3VudCA+PSB0aHJlc2hvbGQ7XHJcbiAgICAgIGV4cGVjdChzaG91bGREaXNhYmxlKS50b0JlKGZhbHNlKTtcclxuXHJcbiAgICAgIGNvbnN0IGhpZ2hGYWlsdXJlQ291bnQgPSA2O1xyXG4gICAgICBjb25zdCBzaG91bGREaXNhYmxlSGlnaCA9IGhpZ2hGYWlsdXJlQ291bnQgPj0gdGhyZXNob2xkO1xyXG4gICAgICBleHBlY3Qoc2hvdWxkRGlzYWJsZUhpZ2gpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJlc2V0IGZhaWx1cmUgY291bnQgb24gc3VjY2Vzc2Z1bCBoZWFsdGggY2hlY2snLCAoKSA9PiB7XHJcbiAgICAgIGxldCBmYWlsdXJlQ291bnQgPSAzO1xyXG5cclxuICAgICAgZmFpbHVyZUNvdW50ID0gMDtcclxuXHJcbiAgICAgIGV4cGVjdChmYWlsdXJlQ291bnQpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHBlcmZvcm0gcGVyaW9kaWMgaGVhbHRoIGNoZWNrcycsICgpID0+IHtcclxuICAgICAgY29uc3QgY2hlY2tJbnRlcnZhbCA9IDYwMDAwO1xyXG4gICAgICBjb25zdCBsYXN0Q2hlY2sgPSBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNzAwMDApO1xyXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgY29uc3Qgc2hvdWxkQ2hlY2sgPSBub3cuZ2V0VGltZSgpIC0gbGFzdENoZWNrLmdldFRpbWUoKSA+PSBjaGVja0ludGVydmFsO1xyXG4gICAgICBleHBlY3Qoc2hvdWxkQ2hlY2spLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGFnZ3JlZ2F0ZSBoZWFsdGggc3RhdHVzIGFjcm9zcyBhbGwgcHJvdmlkZXJzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcm92aWRlcnMgPSBbXHJcbiAgICAgICAgeyB0aWVyOiBSb3V0aW5nVGllci5MT0NBTF9MTE0sIGlzSGVhbHRoeTogdHJ1ZSB9LFxyXG4gICAgICAgIHsgdGllcjogUm91dGluZ1RpZXIuUkFQX1NZU1RFTSwgaXNIZWFsdGh5OiB0cnVlIH0sXHJcbiAgICAgICAgeyB0aWVyOiBSb3V0aW5nVGllci5FWFRFUk5BTF9MTE0sIGlzSGVhbHRoeTogZmFsc2UgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IGhlYWx0aHlDb3VudCA9IHByb3ZpZGVycy5maWx0ZXIocCA9PiBwLmlzSGVhbHRoeSkubGVuZ3RoO1xyXG4gICAgICBjb25zdCB0b3RhbENvdW50ID0gcHJvdmlkZXJzLmxlbmd0aDtcclxuICAgICAgY29uc3QgaGVhbHRoUGVyY2VudGFnZSA9IChoZWFsdGh5Q291bnQgLyB0b3RhbENvdW50KSAqIDEwMDtcclxuXHJcbiAgICAgIGV4cGVjdChoZWFsdGhQZXJjZW50YWdlKS50b0JlKDY2LjY2NjY2NjY2NjY2NjY2KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcHJpb3JpdGl6ZSBoZWFsdGh5IHByb3ZpZGVycyBpbiByb3V0aW5nJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcm92aWRlcnMgPSBbXHJcbiAgICAgICAgeyB0aWVyOiBSb3V0aW5nVGllci5MT0NBTF9MTE0sIGlzSGVhbHRoeTogZmFsc2UsIHByaW9yaXR5OiAxIH0sXHJcbiAgICAgICAgeyB0aWVyOiBSb3V0aW5nVGllci5SQVBfU1lTVEVNLCBpc0hlYWx0aHk6IHRydWUsIHByaW9yaXR5OiAyIH0sXHJcbiAgICAgICAgeyB0aWVyOiBSb3V0aW5nVGllci5FWFRFUk5BTF9MTE0sIGlzSGVhbHRoeTogdHJ1ZSwgcHJpb3JpdHk6IDMgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IGhlYWx0aHlQcm92aWRlcnMgPSBwcm92aWRlcnNcclxuICAgICAgICAuZmlsdGVyKHAgPT4gcC5pc0hlYWx0aHkpXHJcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEucHJpb3JpdHkgLSBiLnByaW9yaXR5KTtcclxuXHJcbiAgICAgIGV4cGVjdChoZWFsdGh5UHJvdmlkZXJzLmxlbmd0aCkudG9CZSgyKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aHlQcm92aWRlcnNbMF0udGllcikudG9CZShSb3V0aW5nVGllci5SQVBfU1lTVEVNKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUHJvdmlkZXIgUmVjb3ZlcnknLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGF0dGVtcHQgcmVjb3ZlcnkgYWZ0ZXIgY29vbGRvd24gcGVyaW9kJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkaXNhYmxlZEF0ID0gbmV3IERhdGUoRGF0ZS5ub3coKSAtIDYwMDAwMCk7XHJcbiAgICAgIGNvbnN0IGNvb2xkb3duUGVyaW9kID0gMzAwMDAwO1xyXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgY29uc3QgY2FuUmVjb3ZlciA9IG5vdy5nZXRUaW1lKCkgLSBkaXNhYmxlZEF0LmdldFRpbWUoKSA+PSBjb29sZG93blBlcmlvZDtcclxuICAgICAgZXhwZWN0KGNhblJlY292ZXIpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIG5vdCBhdHRlbXB0IHJlY292ZXJ5IGR1cmluZyBjb29sZG93bicsICgpID0+IHtcclxuICAgICAgY29uc3QgZGlzYWJsZWRBdCA9IG5ldyBEYXRlKERhdGUubm93KCkgLSAxMDAwMDApO1xyXG4gICAgICBjb25zdCBjb29sZG93blBlcmlvZCA9IDMwMDAwMDtcclxuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgIGNvbnN0IGNhblJlY292ZXIgPSBub3cuZ2V0VGltZSgpIC0gZGlzYWJsZWRBdC5nZXRUaW1lKCkgPj0gY29vbGRvd25QZXJpb2Q7XHJcbiAgICAgIGV4cGVjdChjYW5SZWNvdmVyKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZ3JhZHVhbGx5IGluY3JlYXNlIHJlY292ZXJ5IGF0dGVtcHRzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBhdHRlbXB0cyA9IFsxLCAyLCAzLCA0LCA1XTtcclxuICAgICAgY29uc3QgYmFja29mZk11bHRpcGxpZXIgPSAyO1xyXG5cclxuICAgICAgY29uc3QgZGVsYXlzID0gYXR0ZW1wdHMubWFwKGF0dGVtcHQgPT4gXHJcbiAgICAgICAgTWF0aC5taW4oNjAwMDAgKiBNYXRoLnBvdyhiYWNrb2ZmTXVsdGlwbGllciwgYXR0ZW1wdCAtIDEpLCA2MDAwMDApXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QoZGVsYXlzWzBdKS50b0JlKDYwMDAwKTtcclxuICAgICAgZXhwZWN0KGRlbGF5c1sxXSkudG9CZSgxMjAwMDApO1xyXG4gICAgICBleHBlY3QoZGVsYXlzWzJdKS50b0JlKDI0MDAwMCk7XHJcbiAgICAgIGV4cGVjdChkZWxheXNbM10pLnRvQmUoNDgwMDAwKTtcclxuICAgICAgZXhwZWN0KGRlbGF5c1s0XSkudG9CZSg2MDAwMDApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBRUFDLFFBQVEsQ0FBQyxxQ0FBcUMsRUFBRSxNQUFNO0VBQ3BEQSxRQUFRLENBQUMscUJBQXFCLEVBQUUsTUFBTTtJQUNwQ0MsRUFBRSxDQUFDLHdDQUF3QyxF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