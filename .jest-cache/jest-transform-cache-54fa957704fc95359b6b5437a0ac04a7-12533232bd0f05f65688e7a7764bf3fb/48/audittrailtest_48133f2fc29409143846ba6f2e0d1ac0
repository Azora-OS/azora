fc8295f9475f963842aa5f66c97786aa
"use strict";

var _globals = require("@jest/globals");
var _supertest = _interopRequireDefault(require("supertest"));
var _database = require("../../../tests/utils/database");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const API_URL = process.env.LEDGER_SERVICE_URL || 'http://localhost:3012';
(0, _globals.describe)('Azora Ledger - Audit Trail', () => {
  (0, _globals.beforeEach)(async () => {
    await (0, _database.setupTestDatabase)();
  });
  (0, _globals.afterEach)(async () => {
    await (0, _database.cleanupTestDatabase)();
  });
  (0, _globals.describe)('Transaction Audit', () => {
    (0, _globals.it)('should record transaction creation in audit log', async () => {
      const createRes = await (0, _supertest.default)(API_URL).post('/api/transactions').send({
        amount: 100,
        currency: 'USD',
        accountId: 'account-123',
        type: 'credit'
      });
      const res = await (0, _supertest.default)(API_URL).get(`/api/audit/transactions/${createRes.body.data.id}`);
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.auditLog).toBeDefined();
      (0, _globals.expect)(res.body.auditLog.action).toBe('CREATE');
    });
    (0, _globals.it)('should record transaction updates in audit log', async () => {
      const createRes = await (0, _supertest.default)(API_URL).post('/api/transactions').send({
        amount: 100,
        currency: 'USD',
        accountId: 'account-123'
      });
      await (0, _supertest.default)(API_URL).put(`/api/transactions/${createRes.body.data.id}`).send({
        description: 'Updated'
      });
      const res = await (0, _supertest.default)(API_URL).get(`/api/audit/transactions/${createRes.body.data.id}`);
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.auditLog.length).toBeGreaterThan(1);
    });
    (0, _globals.it)('should record transaction deletion in audit log', async () => {
      const createRes = await (0, _supertest.default)(API_URL).post('/api/transactions').send({
        amount: 100,
        currency: 'USD',
        accountId: 'account-123'
      });
      await (0, _supertest.default)(API_URL).delete(`/api/transactions/${createRes.body.data.id}`);
      const res = await (0, _supertest.default)(API_URL).get(`/api/audit/transactions/${createRes.body.data.id}`);
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.auditLog.some(log => log.action === 'DELETE')).toBe(true);
    });
  });
  (0, _globals.describe)('Account Audit', () => {
    (0, _globals.it)('should retrieve account audit trail', async () => {
      const accountId = 'account-audit';
      await (0, _supertest.default)(API_URL).post('/api/transactions').send({
        amount: 100,
        currency: 'USD',
        accountId,
        type: 'credit'
      });
      const res = await (0, _supertest.default)(API_URL).get(`/api/audit/accounts/${accountId}`);
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(Array.isArray(res.body.auditLog)).toBe(true);
    });
    (0, _globals.it)('should filter audit trail by date', async () => {
      const accountId = 'account-date-audit';
      const res = await (0, _supertest.default)(API_URL).get(`/api/audit/accounts/${accountId}`).query({
        startDate: '2024-01-01',
        endDate: '2024-12-31'
      });
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(Array.isArray(res.body.auditLog)).toBe(true);
    });
    (0, _globals.it)('should filter audit trail by action type', async () => {
      const accountId = 'account-action-audit';
      const res = await (0, _supertest.default)(API_URL).get(`/api/audit/accounts/${accountId}`).query({
        action: 'CREATE'
      });
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(Array.isArray(res.body.auditLog)).toBe(true);
    });
  });
  (0, _globals.describe)('Audit Report Generation', () => {
    (0, _globals.it)('should generate audit report', async () => {
      const res = await (0, _supertest.default)(API_URL).post('/api/audit/reports').send({
        startDate: '2024-01-01',
        endDate: '2024-12-31',
        accountIds: ['account-123', 'account-456']
      });
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.body.report).toBeDefined();
      (0, _globals.expect)(res.body.report.totalTransactions).toBeDefined();
    });
    (0, _globals.it)('should export audit report as CSV', async () => {
      const res = await (0, _supertest.default)(API_URL).get('/api/audit/reports/export').query({
        format: 'csv',
        startDate: '2024-01-01',
        endDate: '2024-12-31'
      });
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.headers['content-type']).toContain('text/csv');
    });
    (0, _globals.it)('should export audit report as PDF', async () => {
      const res = await (0, _supertest.default)(API_URL).get('/api/audit/reports/export').query({
        format: 'pdf',
        startDate: '2024-01-01',
        endDate: '2024-12-31'
      });
      (0, _globals.expect)(res.status).toBe(200);
      (0, _globals.expect)(res.headers['content-type']).toContain('application/pdf');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2xvYmFscyIsInJlcXVpcmUiLCJfc3VwZXJ0ZXN0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9kYXRhYmFzZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIkFQSV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTEVER0VSX1NFUlZJQ0VfVVJMIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwic2V0dXBUZXN0RGF0YWJhc2UiLCJhZnRlckVhY2giLCJjbGVhbnVwVGVzdERhdGFiYXNlIiwiaXQiLCJjcmVhdGVSZXMiLCJyZXF1ZXN0IiwicG9zdCIsInNlbmQiLCJhbW91bnQiLCJjdXJyZW5jeSIsImFjY291bnRJZCIsInR5cGUiLCJyZXMiLCJnZXQiLCJib2R5IiwiZGF0YSIsImlkIiwiZXhwZWN0Iiwic3RhdHVzIiwidG9CZSIsImF1ZGl0TG9nIiwidG9CZURlZmluZWQiLCJhY3Rpb24iLCJwdXQiLCJkZXNjcmlwdGlvbiIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsImRlbGV0ZSIsInNvbWUiLCJsb2ciLCJBcnJheSIsImlzQXJyYXkiLCJxdWVyeSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJhY2NvdW50SWRzIiwicmVwb3J0IiwidG90YWxUcmFuc2FjdGlvbnMiLCJmb3JtYXQiLCJoZWFkZXJzIiwidG9Db250YWluIl0sInNvdXJjZXMiOlsiYXVkaXQtdHJhaWwudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgYmVmb3JlRWFjaCwgYWZ0ZXJFYWNoIH0gZnJvbSAnQGplc3QvZ2xvYmFscyc7XHJcbmltcG9ydCByZXF1ZXN0IGZyb20gJ3N1cGVydGVzdCc7XHJcbmltcG9ydCB7IHNldHVwVGVzdERhdGFiYXNlLCBjbGVhbnVwVGVzdERhdGFiYXNlIH0gZnJvbSAnLi4vLi4vLi4vdGVzdHMvdXRpbHMvZGF0YWJhc2UnO1xyXG5cclxuY29uc3QgQVBJX1VSTCA9IHByb2Nlc3MuZW52LkxFREdFUl9TRVJWSUNFX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDozMDEyJztcclxuXHJcbmRlc2NyaWJlKCdBem9yYSBMZWRnZXIgLSBBdWRpdCBUcmFpbCcsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IHNldHVwVGVzdERhdGFiYXNlKCk7XHJcbiAgfSk7XHJcblxyXG4gIGFmdGVyRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICBhd2FpdCBjbGVhbnVwVGVzdERhdGFiYXNlKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdUcmFuc2FjdGlvbiBBdWRpdCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmVjb3JkIHRyYW5zYWN0aW9uIGNyZWF0aW9uIGluIGF1ZGl0IGxvZycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgY3JlYXRlUmVzID0gYXdhaXQgcmVxdWVzdChBUElfVVJMKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL3RyYW5zYWN0aW9ucycpXHJcbiAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgYW1vdW50OiAxMDAsXHJcbiAgICAgICAgICBjdXJyZW5jeTogJ1VTRCcsXHJcbiAgICAgICAgICBhY2NvdW50SWQ6ICdhY2NvdW50LTEyMycsXHJcbiAgICAgICAgICB0eXBlOiAnY3JlZGl0JyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAuZ2V0KGAvYXBpL2F1ZGl0L3RyYW5zYWN0aW9ucy8ke2NyZWF0ZVJlcy5ib2R5LmRhdGEuaWR9YCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVzLmJvZHkuYXVkaXRMb2cpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXMuYm9keS5hdWRpdExvZy5hY3Rpb24pLnRvQmUoJ0NSRUFURScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZWNvcmQgdHJhbnNhY3Rpb24gdXBkYXRlcyBpbiBhdWRpdCBsb2cnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNyZWF0ZVJlcyA9IGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAucG9zdCgnL2FwaS90cmFuc2FjdGlvbnMnKVxyXG4gICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgIGFtb3VudDogMTAwLFxyXG4gICAgICAgICAgY3VycmVuY3k6ICdVU0QnLFxyXG4gICAgICAgICAgYWNjb3VudElkOiAnYWNjb3VudC0xMjMnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgYXdhaXQgcmVxdWVzdChBUElfVVJMKVxyXG4gICAgICAgIC5wdXQoYC9hcGkvdHJhbnNhY3Rpb25zLyR7Y3JlYXRlUmVzLmJvZHkuZGF0YS5pZH1gKVxyXG4gICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVXBkYXRlZCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLmdldChgL2FwaS9hdWRpdC90cmFuc2FjdGlvbnMvJHtjcmVhdGVSZXMuYm9keS5kYXRhLmlkfWApO1xyXG5cclxuICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlcy5ib2R5LmF1ZGl0TG9nLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZWNvcmQgdHJhbnNhY3Rpb24gZGVsZXRpb24gaW4gYXVkaXQgbG9nJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjcmVhdGVSZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvdHJhbnNhY3Rpb25zJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBhbW91bnQ6IDEwMCxcclxuICAgICAgICAgIGN1cnJlbmN5OiAnVVNEJyxcclxuICAgICAgICAgIGFjY291bnRJZDogJ2FjY291bnQtMTIzJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAuZGVsZXRlKGAvYXBpL3RyYW5zYWN0aW9ucy8ke2NyZWF0ZVJlcy5ib2R5LmRhdGEuaWR9YCk7XHJcblxyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLmdldChgL2FwaS9hdWRpdC90cmFuc2FjdGlvbnMvJHtjcmVhdGVSZXMuYm9keS5kYXRhLmlkfWApO1xyXG5cclxuICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlcy5ib2R5LmF1ZGl0TG9nLnNvbWUoKGxvZzogYW55KSA9PiBsb2cuYWN0aW9uID09PSAnREVMRVRFJykpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0FjY291bnQgQXVkaXQnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHJpZXZlIGFjY291bnQgYXVkaXQgdHJhaWwnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFjY291bnRJZCA9ICdhY2NvdW50LWF1ZGl0JztcclxuXHJcbiAgICAgIGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAucG9zdCgnL2FwaS90cmFuc2FjdGlvbnMnKVxyXG4gICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgIGFtb3VudDogMTAwLFxyXG4gICAgICAgICAgY3VycmVuY3k6ICdVU0QnLFxyXG4gICAgICAgICAgYWNjb3VudElkLFxyXG4gICAgICAgICAgdHlwZTogJ2NyZWRpdCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLmdldChgL2FwaS9hdWRpdC9hY2NvdW50cy8ke2FjY291bnRJZH1gKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlcy5ib2R5LmF1ZGl0TG9nKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGF1ZGl0IHRyYWlsIGJ5IGRhdGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFjY291bnRJZCA9ICdhY2NvdW50LWRhdGUtYXVkaXQnO1xyXG5cclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdChBUElfVVJMKVxyXG4gICAgICAgIC5nZXQoYC9hcGkvYXVkaXQvYWNjb3VudHMvJHthY2NvdW50SWR9YClcclxuICAgICAgICAucXVlcnkoe1xyXG4gICAgICAgICAgc3RhcnREYXRlOiAnMjAyNC0wMS0wMScsXHJcbiAgICAgICAgICBlbmREYXRlOiAnMjAyNC0xMi0zMScsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXMuYm9keS5hdWRpdExvZykpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGZpbHRlciBhdWRpdCB0cmFpbCBieSBhY3Rpb24gdHlwZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgYWNjb3VudElkID0gJ2FjY291bnQtYWN0aW9uLWF1ZGl0JztcclxuXHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAuZ2V0KGAvYXBpL2F1ZGl0L2FjY291bnRzLyR7YWNjb3VudElkfWApXHJcbiAgICAgICAgLnF1ZXJ5KHtcclxuICAgICAgICAgIGFjdGlvbjogJ0NSRUFURScsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXMuYm9keS5hdWRpdExvZykpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0F1ZGl0IFJlcG9ydCBHZW5lcmF0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBhdWRpdCByZXBvcnQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAucG9zdCgnL2FwaS9hdWRpdC9yZXBvcnRzJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBzdGFydERhdGU6ICcyMDI0LTAxLTAxJyxcclxuICAgICAgICAgIGVuZERhdGU6ICcyMDI0LTEyLTMxJyxcclxuICAgICAgICAgIGFjY291bnRJZHM6IFsnYWNjb3VudC0xMjMnLCAnYWNjb3VudC00NTYnXSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChyZXMuYm9keS5yZXBvcnQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXMuYm9keS5yZXBvcnQudG90YWxUcmFuc2FjdGlvbnMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGV4cG9ydCBhdWRpdCByZXBvcnQgYXMgQ1NWJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KEFQSV9VUkwpXHJcbiAgICAgICAgLmdldCgnL2FwaS9hdWRpdC9yZXBvcnRzL2V4cG9ydCcpXHJcbiAgICAgICAgLnF1ZXJ5KHtcclxuICAgICAgICAgIGZvcm1hdDogJ2NzdicsXHJcbiAgICAgICAgICBzdGFydERhdGU6ICcyMDI0LTAxLTAxJyxcclxuICAgICAgICAgIGVuZERhdGU6ICcyMDI0LTEyLTMxJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChyZXMuaGVhZGVyc1snY29udGVudC10eXBlJ10pLnRvQ29udGFpbigndGV4dC9jc3YnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZXhwb3J0IGF1ZGl0IHJlcG9ydCBhcyBQREYnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoQVBJX1VSTClcclxuICAgICAgICAuZ2V0KCcvYXBpL2F1ZGl0L3JlcG9ydHMvZXhwb3J0JylcclxuICAgICAgICAucXVlcnkoe1xyXG4gICAgICAgICAgZm9ybWF0OiAncGRmJyxcclxuICAgICAgICAgIHN0YXJ0RGF0ZTogJzIwMjQtMDEtMDEnLFxyXG4gICAgICAgICAgZW5kRGF0ZTogJzIwMjQtMTItMzEnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlcy5oZWFkZXJzWydjb250ZW50LXR5cGUnXSkudG9Db250YWluKCdhcHBsaWNhdGlvbi9wZGYnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLFNBQUEsR0FBQUgsT0FBQTtBQUF1RixTQUFBRSx1QkFBQUUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUV2RixNQUFNRyxPQUFPLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxrQkFBa0IsSUFBSSx1QkFBdUI7QUFFekUsSUFBQUMsaUJBQVEsRUFBQyw0QkFBNEIsRUFBRSxNQUFNO0VBQzNDLElBQUFDLG1C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