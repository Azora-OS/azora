7564735e7716b183ea02f77d033a60df
"use strict";

// Mock the pricing service
_getJestObj().mock('../../services/pricing.service', () => ({
  pricingService: {
    getAllTiers: jest.fn(),
    getTierByName: jest.fn(),
    getStudentPricing: jest.fn(),
    getTierLimits: jest.fn(),
    canAccessCourse: jest.fn(),
    calculateStudentPrice: jest.fn(),
    createTier: jest.fn(),
    updateTier: jest.fn()
  }
}));
var _supertest = _interopRequireDefault(require("supertest"));
var _index = _interopRequireDefault(require("../../index"));
var _pricing = require("../../services/pricing.service");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
describe('Pricing Routes', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });
  describe('GET /api/v1/pricing/tiers', () => {
    it('should return all pricing tiers', async () => {
      const mockTiers = [{
        id: '1',
        name: 'free',
        monthlyPrice: 0,
        studentDiscount: 0,
        features: [],
        limits: {
          coursesPerMonth: 3,
          aiQueriesPerMonth: 10,
          storageGB: 1,
          supportLevel: 'community'
        }
      }, {
        id: '2',
        name: 'premium',
        monthlyPrice: 29.99,
        studentDiscount: 50,
        features: [],
        limits: {
          coursesPerMonth: 999999,
          aiQueriesPerMonth: 999999,
          storageGB: 10,
          supportLevel: 'priority'
        }
      }];
      _pricing.pricingService.getAllTiers.mockResolvedValue(mockTiers);
      const response = await (0, _supertest.default)(_index.default).get('/api/v1/pricing/tiers');
      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data).toHaveLength(2);
      expect(response.body.data[0].name).toBe('free');
    });
  });
  describe('GET /api/v1/pricing/tiers/:tier', () => {
    it('should return a specific pricing tier', async () => {
      const mockTier = {
        id: '2',
        name: 'premium',
        monthlyPrice: 29.99,
        studentDiscount: 50,
        features: [],
        limits: {
          coursesPerMonth: 999999,
          aiQueriesPerMonth: 999999,
          storageGB: 10,
          supportLevel: 'priority'
        }
      };
      _pricing.pricingService.getTierByName.mockResolvedValue(mockTier);
      const response = await (0, _supertest.default)(_index.default).get('/api/v1/pricing/tiers/premium');
      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.name).toBe('premium');
      expect(response.body.data.monthlyPrice).toBe(29.99);
    });
    it('should return 404 if tier not found', async () => {
      _pricing.pricingService.getTierByName.mockResolvedValue(null);
      const response = await (0, _supertest.default)(_index.default).get('/api/v1/pricing/tiers/nonexistent');
      expect(response.status).toBe(404);
      expect(response.body.success).toBe(false);
      expect(response.body.error).toContain('not found');
    });
  });
  describe('GET /api/v1/pricing/student/:tier', () => {
    it('should return student pricing with discount', async () => {
      const mockPricing = {
        tier: 'premium',
        originalPrice: 29.99,
        studentDiscount: 50,
        studentPrice: 14.995,
        savings: 14.995,
        features: ['Feature 1', 'Feature 2'],
        limits: {
          coursesPerMonth: 999999,
          aiQueriesPerMonth: 999999,
          storageGB: 10,
          supportLevel: 'priority'
        }
      };
      _pricing.pricingService.getStudentPricing.mockResolvedValue(mockPricing);
      const response = await (0, _supertest.default)(_index.default).get('/api/v1/pricing/student/premium');
      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.studentPrice).toBeCloseTo(14.995, 2);
      expect(response.body.data.savings).toBeCloseTo(14.995, 2);
    });
  });
  describe('GET /api/v1/pricing/limits/:tier', () => {
    it('should return tier limits', async () => {
      const mockLimits = {
        coursesPerMonth: 999999,
        aiQueriesPerMonth: 999999,
        storageGB: 10,
        supportLevel: 'priority'
      };
      _pricing.pricingService.getTierLimits.mockResolvedValue(mockLimits);
      const response = await (0, _supertest.default)(_index.default).get('/api/v1/pricing/limits/premium');
      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.coursesPerMonth).toBe(999999);
      expect(response.body.data.storageGB).toBe(10);
    });
    it('should return 404 if tier not found', async () => {
      _pricing.pricingService.getTierLimits.mockResolvedValue(null);
      const response = await (0, _supertest.default)(_index.default).get('/api/v1/pricing/limits/nonexistent');
      expect(response.status).toBe(404);
      expect(response.body.success).toBe(false);
    });
  });
  describe('POST /api/v1/pricing/check-access', () => {
    it('should allow premium student to access free course', async () => {
      _pricing.pricingService.canAccessCourse.mockResolvedValue(true);
      const response = await (0, _supertest.default)(_index.default).post('/api/v1/pricing/check-access').send({
        studentTier: 'premium',
        courseTier: 'free'
      });
      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.canAccess).toBe(true);
    });
    it('should prevent free student from accessing premium course', async () => {
      _pricing.pricingService.canAccessCourse.mockResolvedValue(false);
      const response = await (0, _supertest.default)(_index.default).post('/api/v1/pricing/check-access').send({
        studentTier: 'free',
        courseTier: 'premium'
      });
      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.canAccess).toBe(false);
    });
    it('should return 400 if required fields missing', async () => {
      const response = await (0, _supertest.default)(_index.default).post('/api/v1/pricing/check-access').send({
        studentTier: 'premium'
      });
      expect(response.status).toBe(400);
      expect(response.body.success).toBe(false);
    });
  });
  describe('POST /api/v1/pricing/calculate-price', () => {
    it('should calculate student price with discount', async () => {
      _pricing.pricingService.calculateStudentPrice.mockReturnValue(14.995);
      const response = await (0, _supertest.default)(_index.default).post('/api/v1/pricing/calculate-price').send({
        monthlyPrice: 29.99,
        studentDiscount: 50
      });
      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.originalPrice).toBe(29.99);
      expect(response.body.data.studentDiscount).toBe(50);
      expect(response.body.data.studentPrice).toBeCloseTo(14.995, 2);
    });
    it('should return 400 if required fields missing', async () => {
      const response = await (0, _supertest.default)(_index.default).post('/api/v1/pricing/calculate-price').send({
        monthlyPrice: 29.99
      });
      expect(response.status).toBe(400);
      expect(response.body.success).toBe(false);
    });
  });
  describe('POST /api/v1/pricing/tiers', () => {
    it('should create a new pricing tier', async () => {
      const newTier = {
        id: '3',
        name: 'enterprise',
        monthlyPrice: 299.99,
        studentDiscount: 20,
        features: [],
        limits: {
          coursesPerMonth: 999999,
          aiQueriesPerMonth: 999999,
          storageGB: 500,
          supportLevel: 'dedicated'
        }
      };
      _pricing.pricingService.createTier.mockResolvedValue(newTier);
      const response = await (0, _supertest.default)(_index.default).post('/api/v1/pricing/tiers').send({
        name: 'enterprise',
        monthlyPrice: 299.99,
        studentDiscount: 20,
        features: [],
        coursesPerMonth: 999999,
        aiQueriesPerMonth: 999999,
        storageGB: 500,
        supportLevel: 'dedicated'
      });
      expect(response.status).toBe(201);
      expect(response.body.success).toBe(true);
      expect(response.body.data.name).toBe('enterprise');
    });
  });
  describe('PUT /api/v1/pricing/tiers/:tier', () => {
    it('should update an existing pricing tier', async () => {
      const updatedTier = {
        id: '2',
        name: 'premium',
        monthlyPrice: 39.99,
        studentDiscount: 40,
        features: [],
        limits: {
          coursesPerMonth: 999999,
          aiQueriesPerMonth: 999999,
          storageGB: 10,
          supportLevel: 'priority'
        }
      };
      _pricing.pricingService.updateTier.mockResolvedValue(updatedTier);
      const response = await (0, _supertest.default)(_index.default).put('/api/v1/pricing/tiers/premium').send({
        monthlyPrice: 39.99,
        studentDiscount: 40
      });
      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.monthlyPrice).toBe(39.99);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJwcmljaW5nU2VydmljZSIsImdldEFsbFRpZXJzIiwiamVzdCIsImZuIiwiZ2V0VGllckJ5TmFtZSIsImdldFN0dWRlbnRQcmljaW5nIiwiZ2V0VGllckxpbWl0cyIsImNhbkFjY2Vzc0NvdXJzZSIsImNhbGN1bGF0ZVN0dWRlbnRQcmljZSIsImNyZWF0ZVRpZXIiLCJ1cGRhdGVUaWVyIiwiX3N1cGVydGVzdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2luZGV4IiwiX3ByaWNpbmciLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJtb2NrVGllcnMiLCJpZCIsIm5hbWUiLCJtb250aGx5UHJpY2UiLCJzdHVkZW50RGlzY291bnQiLCJmZWF0dXJlcyIsImxpbWl0cyIsImNvdXJzZXNQZXJNb250aCIsImFpUXVlcmllc1Blck1vbnRoIiwic3RvcmFnZUdCIiwic3VwcG9ydExldmVsIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJyZXNwb25zZSIsInJlcXVlc3QiLCJhcHAiLCJnZXQiLCJleHBlY3QiLCJzdGF0dXMiLCJ0b0JlIiwiYm9keSIsInN1Y2Nlc3MiLCJkYXRhIiwidG9IYXZlTGVuZ3RoIiwibW9ja1RpZXIiLCJlcnJvciIsInRvQ29udGFpbiIsIm1vY2tQcmljaW5nIiwidGllciIsIm9yaWdpbmFsUHJpY2UiLCJzdHVkZW50UHJpY2UiLCJzYXZpbmdzIiwidG9CZUNsb3NlVG8iLCJtb2NrTGltaXRzIiwicG9zdCIsInNlbmQiLCJzdHVkZW50VGllciIsImNvdXJzZVRpZXIiLCJjYW5BY2Nlc3MiLCJtb2NrUmV0dXJuVmFsdWUiLCJuZXdUaWVyIiwidXBkYXRlZFRpZXIiLCJwdXQiXSwic291cmNlcyI6WyJwcmljaW5nLnJvdXRlcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZXF1ZXN0IGZyb20gJ3N1cGVydGVzdCc7XHJcbmltcG9ydCBhcHAgZnJvbSAnLi4vLi4vaW5kZXgnO1xyXG5pbXBvcnQgeyBwcmljaW5nU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3ByaWNpbmcuc2VydmljZSc7XHJcblxyXG4vLyBNb2NrIHRoZSBwcmljaW5nIHNlcnZpY2VcclxuamVzdC5tb2NrKCcuLi8uLi9zZXJ2aWNlcy9wcmljaW5nLnNlcnZpY2UnLCAoKSA9PiAoe1xyXG4gIHByaWNpbmdTZXJ2aWNlOiB7XHJcbiAgICBnZXRBbGxUaWVyczogamVzdC5mbigpLFxyXG4gICAgZ2V0VGllckJ5TmFtZTogamVzdC5mbigpLFxyXG4gICAgZ2V0U3R1ZGVudFByaWNpbmc6IGplc3QuZm4oKSxcclxuICAgIGdldFRpZXJMaW1pdHM6IGplc3QuZm4oKSxcclxuICAgIGNhbkFjY2Vzc0NvdXJzZTogamVzdC5mbigpLFxyXG4gICAgY2FsY3VsYXRlU3R1ZGVudFByaWNlOiBqZXN0LmZuKCksXHJcbiAgICBjcmVhdGVUaWVyOiBqZXN0LmZuKCksXHJcbiAgICB1cGRhdGVUaWVyOiBqZXN0LmZuKCksXHJcbiAgfSxcclxufSkpO1xyXG5cclxuZGVzY3JpYmUoJ1ByaWNpbmcgUm91dGVzJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS92MS9wcmljaW5nL3RpZXJzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gYWxsIHByaWNpbmcgdGllcnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tUaWVycyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogJzEnLFxyXG4gICAgICAgICAgbmFtZTogJ2ZyZWUnLFxyXG4gICAgICAgICAgbW9udGhseVByaWNlOiAwLFxyXG4gICAgICAgICAgc3R1ZGVudERpc2NvdW50OiAwLFxyXG4gICAgICAgICAgZmVhdHVyZXM6IFtdLFxyXG4gICAgICAgICAgbGltaXRzOiB7XHJcbiAgICAgICAgICAgIGNvdXJzZXNQZXJNb250aDogMyxcclxuICAgICAgICAgICAgYWlRdWVyaWVzUGVyTW9udGg6IDEwLFxyXG4gICAgICAgICAgICBzdG9yYWdlR0I6IDEsXHJcbiAgICAgICAgICAgIHN1cHBvcnRMZXZlbDogJ2NvbW11bml0eScsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6ICcyJyxcclxuICAgICAgICAgIG5hbWU6ICdwcmVtaXVtJyxcclxuICAgICAgICAgIG1vbnRobHlQcmljZTogMjkuOTksXHJcbiAgICAgICAgICBzdHVkZW50RGlzY291bnQ6IDUwLFxyXG4gICAgICAgICAgZmVhdHVyZXM6IFtdLFxyXG4gICAgICAgICAgbGltaXRzOiB7XHJcbiAgICAgICAgICAgIGNvdXJzZXNQZXJNb250aDogOTk5OTk5LFxyXG4gICAgICAgICAgICBhaVF1ZXJpZXNQZXJNb250aDogOTk5OTk5LFxyXG4gICAgICAgICAgICBzdG9yYWdlR0I6IDEwLFxyXG4gICAgICAgICAgICBzdXBwb3J0TGV2ZWw6ICdwcmlvcml0eScsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICAocHJpY2luZ1NlcnZpY2UuZ2V0QWxsVGllcnMgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVGllcnMpO1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL3YxL3ByaWNpbmcvdGllcnMnKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlTGVuZ3RoKDIpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhWzBdLm5hbWUpLnRvQmUoJ2ZyZWUnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnR0VUIC9hcGkvdjEvcHJpY2luZy90aWVycy86dGllcicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgc3BlY2lmaWMgcHJpY2luZyB0aWVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2NrVGllciA9IHtcclxuICAgICAgICBpZDogJzInLFxyXG4gICAgICAgIG5hbWU6ICdwcmVtaXVtJyxcclxuICAgICAgICBtb250aGx5UHJpY2U6IDI5Ljk5LFxyXG4gICAgICAgIHN0dWRlbnREaXNjb3VudDogNTAsXHJcbiAgICAgICAgZmVhdHVyZXM6IFtdLFxyXG4gICAgICAgIGxpbWl0czoge1xyXG4gICAgICAgICAgY291cnNlc1Blck1vbnRoOiA5OTk5OTksXHJcbiAgICAgICAgICBhaVF1ZXJpZXNQZXJNb250aDogOTk5OTk5LFxyXG4gICAgICAgICAgc3RvcmFnZUdCOiAxMCxcclxuICAgICAgICAgIHN1cHBvcnRMZXZlbDogJ3ByaW9yaXR5JyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgKHByaWNpbmdTZXJ2aWNlLmdldFRpZXJCeU5hbWUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVGllcik7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKS5nZXQoJy9hcGkvdjEvcHJpY2luZy90aWVycy9wcmVtaXVtJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEubmFtZSkudG9CZSgncHJlbWl1bScpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLm1vbnRobHlQcmljZSkudG9CZSgyOS45OSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDQgaWYgdGllciBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChwcmljaW5nU2VydmljZS5nZXRUaWVyQnlOYW1lIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKS5nZXQoJy9hcGkvdjEvcHJpY2luZy90aWVycy9ub25leGlzdGVudCcpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDQpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQ29udGFpbignbm90IGZvdW5kJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL3YxL3ByaWNpbmcvc3R1ZGVudC86dGllcicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHN0dWRlbnQgcHJpY2luZyB3aXRoIGRpc2NvdW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2NrUHJpY2luZyA9IHtcclxuICAgICAgICB0aWVyOiAncHJlbWl1bScsXHJcbiAgICAgICAgb3JpZ2luYWxQcmljZTogMjkuOTksXHJcbiAgICAgICAgc3R1ZGVudERpc2NvdW50OiA1MCxcclxuICAgICAgICBzdHVkZW50UHJpY2U6IDE0Ljk5NSxcclxuICAgICAgICBzYXZpbmdzOiAxNC45OTUsXHJcbiAgICAgICAgZmVhdHVyZXM6IFsnRmVhdHVyZSAxJywgJ0ZlYXR1cmUgMiddLFxyXG4gICAgICAgIGxpbWl0czoge1xyXG4gICAgICAgICAgY291cnNlc1Blck1vbnRoOiA5OTk5OTksXHJcbiAgICAgICAgICBhaVF1ZXJpZXNQZXJNb250aDogOTk5OTk5LFxyXG4gICAgICAgICAgc3RvcmFnZUdCOiAxMCxcclxuICAgICAgICAgIHN1cHBvcnRMZXZlbDogJ3ByaW9yaXR5JyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgKHByaWNpbmdTZXJ2aWNlLmdldFN0dWRlbnRQcmljaW5nIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja1ByaWNpbmcpO1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL3YxL3ByaWNpbmcvc3R1ZGVudC9wcmVtaXVtJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEuc3R1ZGVudFByaWNlKS50b0JlQ2xvc2VUbygxNC45OTUsIDIpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLnNhdmluZ3MpLnRvQmVDbG9zZVRvKDE0Ljk5NSwgMik7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL3YxL3ByaWNpbmcvbGltaXRzLzp0aWVyJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdGllciBsaW1pdHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tMaW1pdHMgPSB7XHJcbiAgICAgICAgY291cnNlc1Blck1vbnRoOiA5OTk5OTksXHJcbiAgICAgICAgYWlRdWVyaWVzUGVyTW9udGg6IDk5OTk5OSxcclxuICAgICAgICBzdG9yYWdlR0I6IDEwLFxyXG4gICAgICAgIHN1cHBvcnRMZXZlbDogJ3ByaW9yaXR5JyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIChwcmljaW5nU2VydmljZS5nZXRUaWVyTGltaXRzIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja0xpbWl0cyk7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKS5nZXQoJy9hcGkvdjEvcHJpY2luZy9saW1pdHMvcHJlbWl1bScpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLmNvdXJzZXNQZXJNb250aCkudG9CZSg5OTk5OTkpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLnN0b3JhZ2VHQikudG9CZSgxMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDQgaWYgdGllciBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChwcmljaW5nU2VydmljZS5nZXRUaWVyTGltaXRzIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKS5nZXQoJy9hcGkvdjEvcHJpY2luZy9saW1pdHMvbm9uZXhpc3RlbnQnKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDA0KTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS92MS9wcmljaW5nL2NoZWNrLWFjY2VzcycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgYWxsb3cgcHJlbWl1bSBzdHVkZW50IHRvIGFjY2VzcyBmcmVlIGNvdXJzZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgKHByaWNpbmdTZXJ2aWNlLmNhbkFjY2Vzc0NvdXJzZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHRydWUpO1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucG9zdCgnL2FwaS92MS9wcmljaW5nL2NoZWNrLWFjY2VzcycpXHJcbiAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgc3R1ZGVudFRpZXI6ICdwcmVtaXVtJyxcclxuICAgICAgICAgIGNvdXJzZVRpZXI6ICdmcmVlJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5jYW5BY2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHByZXZlbnQgZnJlZSBzdHVkZW50IGZyb20gYWNjZXNzaW5nIHByZW1pdW0gY291cnNlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAocHJpY2luZ1NlcnZpY2UuY2FuQWNjZXNzQ291cnNlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoZmFsc2UpO1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucG9zdCgnL2FwaS92MS9wcmljaW5nL2NoZWNrLWFjY2VzcycpXHJcbiAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgc3R1ZGVudFRpZXI6ICdmcmVlJyxcclxuICAgICAgICAgIGNvdXJzZVRpZXI6ICdwcmVtaXVtJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5jYW5BY2Nlc3MpLnRvQmUoZmFsc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIGlmIHJlcXVpcmVkIGZpZWxkcyBtaXNzaW5nJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL3YxL3ByaWNpbmcvY2hlY2stYWNjZXNzJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBzdHVkZW50VGllcjogJ3ByZW1pdW0nLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUE9TVCAvYXBpL3YxL3ByaWNpbmcvY2FsY3VsYXRlLXByaWNlJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgc3R1ZGVudCBwcmljZSB3aXRoIGRpc2NvdW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAocHJpY2luZ1NlcnZpY2UuY2FsY3VsYXRlU3R1ZGVudFByaWNlIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKDE0Ljk5NSk7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL3YxL3ByaWNpbmcvY2FsY3VsYXRlLXByaWNlJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBtb250aGx5UHJpY2U6IDI5Ljk5LFxyXG4gICAgICAgICAgc3R1ZGVudERpc2NvdW50OiA1MCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5vcmlnaW5hbFByaWNlKS50b0JlKDI5Ljk5KTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5zdHVkZW50RGlzY291bnQpLnRvQmUoNTApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLnN0dWRlbnRQcmljZSkudG9CZUNsb3NlVG8oMTQuOTk1LCAyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCBpZiByZXF1aXJlZCBmaWVsZHMgbWlzc2luZycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucG9zdCgnL2FwaS92MS9wcmljaW5nL2NhbGN1bGF0ZS1wcmljZScpXHJcbiAgICAgICAgLnNlbmQoe1xyXG4gICAgICAgICAgbW9udGhseVByaWNlOiAyOS45OSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS92MS9wcmljaW5nL3RpZXJzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgYSBuZXcgcHJpY2luZyB0aWVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBuZXdUaWVyID0ge1xyXG4gICAgICAgIGlkOiAnMycsXHJcbiAgICAgICAgbmFtZTogJ2VudGVycHJpc2UnLFxyXG4gICAgICAgIG1vbnRobHlQcmljZTogMjk5Ljk5LFxyXG4gICAgICAgIHN0dWRlbnREaXNjb3VudDogMjAsXHJcbiAgICAgICAgZmVhdHVyZXM6IFtdLFxyXG4gICAgICAgIGxpbWl0czoge1xyXG4gICAgICAgICAgY291cnNlc1Blck1vbnRoOiA5OTk5OTksXHJcbiAgICAgICAgICBhaVF1ZXJpZXNQZXJNb250aDogOTk5OTk5LFxyXG4gICAgICAgICAgc3RvcmFnZUdCOiA1MDAsXHJcbiAgICAgICAgICBzdXBwb3J0TGV2ZWw6ICdkZWRpY2F0ZWQnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAocHJpY2luZ1NlcnZpY2UuY3JlYXRlVGllciBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG5ld1RpZXIpO1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucG9zdCgnL2FwaS92MS9wcmljaW5nL3RpZXJzJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBuYW1lOiAnZW50ZXJwcmlzZScsXHJcbiAgICAgICAgICBtb250aGx5UHJpY2U6IDI5OS45OSxcclxuICAgICAgICAgIHN0dWRlbnREaXNjb3VudDogMjAsXHJcbiAgICAgICAgICBmZWF0dXJlczogW10sXHJcbiAgICAgICAgICBjb3Vyc2VzUGVyTW9udGg6IDk5OTk5OSxcclxuICAgICAgICAgIGFpUXVlcmllc1Blck1vbnRoOiA5OTk5OTksXHJcbiAgICAgICAgICBzdG9yYWdlR0I6IDUwMCxcclxuICAgICAgICAgIHN1cHBvcnRMZXZlbDogJ2RlZGljYXRlZCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEubmFtZSkudG9CZSgnZW50ZXJwcmlzZScpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdQVVQgL2FwaS92MS9wcmljaW5nL3RpZXJzLzp0aWVyJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgYW4gZXhpc3RpbmcgcHJpY2luZyB0aWVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1cGRhdGVkVGllciA9IHtcclxuICAgICAgICBpZDogJzInLFxyXG4gICAgICAgIG5hbWU6ICdwcmVtaXVtJyxcclxuICAgICAgICBtb250aGx5UHJpY2U6IDM5Ljk5LFxyXG4gICAgICAgIHN0dWRlbnREaXNjb3VudDogNDAsXHJcbiAgICAgICAgZmVhdHVyZXM6IFtdLFxyXG4gICAgICAgIGxpbWl0czoge1xyXG4gICAgICAgICAgY291cnNlc1Blck1vbnRoOiA5OTk5OTksXHJcbiAgICAgICAgICBhaVF1ZXJpZXNQZXJNb250aDogOTk5OTk5LFxyXG4gICAgICAgICAgc3RvcmFnZUdCOiAxMCxcclxuICAgICAgICAgIHN1cHBvcnRMZXZlbDogJ3ByaW9yaXR5JyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgKHByaWNpbmdTZXJ2aWNlLnVwZGF0ZVRpZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1cGRhdGVkVGllcik7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wdXQoJy9hcGkvdjEvcHJpY2luZy90aWVycy9wcmVtaXVtJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBtb250aGx5UHJpY2U6IDM5Ljk5LFxyXG4gICAgICAgICAgc3R1ZGVudERpc2NvdW50OiA0MCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5tb250aGx5UHJpY2Up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