{"version":3,"names":["_getJestObj","mock","_NetworkSandbox","require","_PermissionManager","_AuditLogger","https","_interopRequireWildcard","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","jest","describe","networkSandbox","mockPermissionManager","mockAuditLogger","beforeEach","PermissionManager","AuditLogger","NetworkSandbox","isNetworkAllowed","fn","mockResolvedValue","addToNetworkAllowlist","undefined","logNetworkRequest","log","it","expect","request","rejects","toThrow","toHaveBeenCalledWith","objectContaining","success","errorMessage","mockRequest","options","callback","mockResponse","statusCode","headers","on","event","handler","Buffer","from","write","end","destroy","mockImplementation","requests","push","catch","Promise","all","rateLimitedCalls","calls","filter","length","toBeGreaterThan","requestPromise","activeRequests","getActiveRequests","url","toBe","response","any","post","put","delete","blockDomain","severity","unblockDomain","stats","getStatistics","toHaveProperty","requestsByDomain","req","Error","duration","Number","logCall","toBeGreaterThanOrEqual"],"sources":["NetworkSandbox.test.ts"],"sourcesContent":["import { NetworkSandbox } from '../NetworkSandbox';\nimport { PermissionManager } from '../PermissionManager';\nimport { AuditLogger } from '../AuditLogger';\nimport * as https from 'https';\nimport * as http from 'http';\n\n// Mock dependencies\njest.mock('../PermissionManager');\njest.mock('../AuditLogger');\njest.mock('https');\njest.mock('http');\n\ndescribe('NetworkSandbox', () => {\n  let networkSandbox: NetworkSandbox;\n  let mockPermissionManager: jest.Mocked<PermissionManager>;\n  let mockAuditLogger: jest.Mocked<AuditLogger>;\n\n  beforeEach(() => {\n    mockPermissionManager = new PermissionManager() as jest.Mocked<PermissionManager>;\n    mockAuditLogger = new AuditLogger() as jest.Mocked<AuditLogger>;\n    \n    networkSandbox = new NetworkSandbox(mockPermissionManager, mockAuditLogger);\n\n    // Mock permission manager methods\n    mockPermissionManager.isNetworkAllowed = jest.fn().mockResolvedValue(true);\n    mockPermissionManager.addToNetworkAllowlist = jest.fn().mockResolvedValue(undefined);\n\n    // Mock audit logger methods\n    mockAuditLogger.logNetworkRequest = jest.fn().mockResolvedValue(undefined);\n    mockAuditLogger.log = jest.fn().mockResolvedValue(undefined);\n  });\n\n  describe('request', () => {\n    it('should check if domain is allowed before making request', async () => {\n      mockPermissionManager.isNetworkAllowed.mockResolvedValue(false);\n\n      await expect(\n        networkSandbox.request('https://blocked-domain.com')\n      ).rejects.toThrow('not allowed');\n\n      expect(mockPermissionManager.isNetworkAllowed).toHaveBeenCalledWith('blocked-domain.com');\n    });\n\n    it('should log denied requests', async () => {\n      mockPermissionManager.isNetworkAllowed.mockResolvedValue(false);\n\n      try {\n        await networkSandbox.request('https://blocked-domain.com');\n      } catch {\n        // Expected to throw\n      }\n\n      expect(mockAuditLogger.logNetworkRequest).toHaveBeenCalledWith(\n        'https://blocked-domain.com',\n        'GET',\n        expect.objectContaining({\n          success: false,\n          errorMessage: 'Domain not allowed',\n        })\n      );\n    });\n\n    it('should enforce rate limiting', async () => {\n      // Mock successful requests\n      const mockRequest = jest.fn((options, callback) => {\n        const mockResponse = {\n          statusCode: 200,\n          headers: {},\n          on: jest.fn((event, handler) => {\n            if (event === 'data') {\n              handler(Buffer.from('test'));\n            } else if (event === 'end') {\n              handler();\n            }\n          }),\n        };\n        callback(mockResponse);\n        return {\n          on: jest.fn(),\n          write: jest.fn(),\n          end: jest.fn(),\n          destroy: jest.fn(),\n        };\n      });\n\n      (https.request as jest.Mock).mockImplementation(mockRequest);\n\n      // Make 61 requests (exceeds limit of 60 per minute)\n      const requests = [];\n      for (let i = 0; i < 61; i++) {\n        requests.push(\n          networkSandbox.request('https://api.example.com/test').catch(() => null)\n        );\n      }\n\n      await Promise.all(requests);\n\n      // At least one request should have been rate limited\n      const rateLimitedCalls = (mockAuditLogger.logNetworkRequest as jest.Mock).mock.calls.filter(\n        call => call[2]?.errorMessage === 'Rate limit exceeded'\n      );\n      \n      expect(rateLimitedCalls.length).toBeGreaterThan(0);\n    });\n\n    it('should track active requests', async () => {\n      const mockRequest = jest.fn((options, callback) => {\n        // Don't call callback immediately to keep request active\n        return {\n          on: jest.fn(),\n          write: jest.fn(),\n          end: jest.fn(),\n          destroy: jest.fn(),\n        };\n      });\n\n      (https.request as jest.Mock).mockImplementation(mockRequest);\n\n      // Start a request but don't await it\n      const requestPromise = networkSandbox.request('https://api.example.com/test');\n\n      // Check active requests\n      const activeRequests = networkSandbox.getActiveRequests();\n      expect(activeRequests.length).toBeGreaterThan(0);\n      expect(activeRequests[0].url).toBe('https://api.example.com/test');\n    });\n  });\n\n  describe('HTTP methods', () => {\n    beforeEach(() => {\n      const mockRequest = jest.fn((options, callback) => {\n        const mockResponse = {\n          statusCode: 200,\n          headers: {},\n          on: jest.fn((event, handler) => {\n            if (event === 'data') {\n              handler(Buffer.from('test'));\n            } else if (event === 'end') {\n              handler();\n            }\n          }),\n        };\n        callback(mockResponse);\n        return {\n          on: jest.fn(),\n          write: jest.fn(),\n          end: jest.fn(),\n          destroy: jest.fn(),\n        };\n      });\n\n      (https.request as jest.Mock).mockImplementation(mockRequest);\n    });\n\n    it('should make GET request', async () => {\n      const response = await networkSandbox.get('https://api.example.com/data');\n      \n      expect(response.statusCode).toBe(200);\n      expect(mockAuditLogger.logNetworkRequest).toHaveBeenCalledWith(\n        'https://api.example.com/data',\n        'GET',\n        expect.any(Object)\n      );\n    });\n\n    it('should make POST request', async () => {\n      const response = await networkSandbox.post('https://api.example.com/data', '{\"test\": true}');\n      \n      expect(response.statusCode).toBe(200);\n      expect(mockAuditLogger.logNetworkRequest).toHaveBeenCalledWith(\n        'https://api.example.com/data',\n        'POST',\n        expect.any(Object)\n      );\n    });\n\n    it('should make PUT request', async () => {\n      const response = await networkSandbox.put('https://api.example.com/data', '{\"test\": true}');\n      \n      expect(response.statusCode).toBe(200);\n      expect(mockAuditLogger.logNetworkRequest).toHaveBeenCalledWith(\n        'https://api.example.com/data',\n        'PUT',\n        expect.any(Object)\n      );\n    });\n\n    it('should make DELETE request', async () => {\n      const response = await networkSandbox.delete('https://api.example.com/data');\n      \n      expect(response.statusCode).toBe(200);\n      expect(mockAuditLogger.logNetworkRequest).toHaveBeenCalledWith(\n        'https://api.example.com/data',\n        'DELETE',\n        expect.any(Object)\n      );\n    });\n  });\n\n  describe('domain blocking', () => {\n    it('should block a domain', async () => {\n      await networkSandbox.blockDomain('malicious.com', 'Security threat');\n\n      expect(mockPermissionManager.addToNetworkAllowlist).toHaveBeenCalledWith(\n        'malicious.com',\n        false,\n        'Security threat'\n      );\n\n      expect(mockAuditLogger.log).toHaveBeenCalledWith(\n        'network:request',\n        'Domain blocked',\n        'malicious.com',\n        expect.objectContaining({\n          severity: 'warning',\n        })\n      );\n    });\n\n    it('should unblock a domain', async () => {\n      await networkSandbox.unblockDomain('safe.com', 'Verified safe');\n\n      expect(mockPermissionManager.addToNetworkAllowlist).toHaveBeenCalledWith(\n        'safe.com',\n        true,\n        'Verified safe'\n      );\n\n      expect(mockAuditLogger.log).toHaveBeenCalledWith(\n        'network:request',\n        'Domain unblocked',\n        'safe.com',\n        expect.objectContaining({\n          severity: 'info',\n        })\n      );\n    });\n  });\n\n  describe('statistics', () => {\n    it('should return network activity statistics', () => {\n      const stats = networkSandbox.getStatistics();\n      \n      expect(stats).toHaveProperty('activeRequests');\n      expect(stats).toHaveProperty('requestsByDomain');\n      expect(typeof stats.activeRequests).toBe('number');\n      expect(typeof stats.requestsByDomain).toBe('object');\n    });\n\n    it('should track requests by domain', async () => {\n      const mockRequest = jest.fn((options, callback) => {\n        // Keep request active\n        return {\n          on: jest.fn(),\n          write: jest.fn(),\n          end: jest.fn(),\n          destroy: jest.fn(),\n        };\n      });\n\n      (https.request as jest.Mock).mockImplementation(mockRequest);\n\n      // Start multiple requests\n      networkSandbox.request('https://api1.example.com/test');\n      networkSandbox.request('https://api1.example.com/test2');\n      networkSandbox.request('https://api2.example.com/test');\n\n      const stats = networkSandbox.getStatistics();\n      expect(stats.activeRequests).toBeGreaterThan(0);\n    });\n  });\n\n  describe('error handling', () => {\n    it('should handle request errors', async () => {\n      const mockRequest = jest.fn(() => {\n        const req = {\n          on: jest.fn((event, handler) => {\n            if (event === 'error') {\n              handler(new Error('Network error'));\n            }\n          }),\n          write: jest.fn(),\n          end: jest.fn(),\n          destroy: jest.fn(),\n        };\n        return req;\n      });\n\n      (https.request as jest.Mock).mockImplementation(mockRequest);\n\n      await expect(\n        networkSandbox.request('https://api.example.com/test')\n      ).rejects.toThrow('Network error');\n\n      expect(mockAuditLogger.logNetworkRequest).toHaveBeenCalledWith(\n        'https://api.example.com/test',\n        'GET',\n        expect.objectContaining({\n          success: false,\n          errorMessage: 'Network error',\n        })\n      );\n    });\n\n    it('should handle request timeout', async () => {\n      const mockRequest = jest.fn(() => {\n        const req = {\n          on: jest.fn((event, handler) => {\n            if (event === 'timeout') {\n              handler();\n            }\n          }),\n          write: jest.fn(),\n          end: jest.fn(),\n          destroy: jest.fn(),\n        };\n        return req;\n      });\n\n      (https.request as jest.Mock).mockImplementation(mockRequest);\n\n      await expect(\n        networkSandbox.request('https://api.example.com/test')\n      ).rejects.toThrow('Request timeout');\n    });\n  });\n\n  describe('request logging', () => {\n    beforeEach(() => {\n      const mockRequest = jest.fn((options, callback) => {\n        const mockResponse = {\n          statusCode: 200,\n          headers: {},\n          on: jest.fn((event, handler) => {\n            if (event === 'data') {\n              handler(Buffer.from('test'));\n            } else if (event === 'end') {\n              handler();\n            }\n          }),\n        };\n        callback(mockResponse);\n        return {\n          on: jest.fn(),\n          write: jest.fn(),\n          end: jest.fn(),\n          destroy: jest.fn(),\n        };\n      });\n\n      (https.request as jest.Mock).mockImplementation(mockRequest);\n    });\n\n    it('should log successful requests', async () => {\n      await networkSandbox.request('https://api.example.com/test');\n\n      expect(mockAuditLogger.logNetworkRequest).toHaveBeenCalledWith(\n        'https://api.example.com/test',\n        'GET',\n        expect.objectContaining({\n          success: true,\n          statusCode: 200,\n          duration: expect.any(Number),\n        })\n      );\n    });\n\n    it('should include request duration in logs', async () => {\n      await networkSandbox.request('https://api.example.com/test');\n\n      const logCall = (mockAuditLogger.logNetworkRequest as jest.Mock).mock.calls[0];\n      expect(logCall[2].duration).toBeGreaterThanOrEqual(0);\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}