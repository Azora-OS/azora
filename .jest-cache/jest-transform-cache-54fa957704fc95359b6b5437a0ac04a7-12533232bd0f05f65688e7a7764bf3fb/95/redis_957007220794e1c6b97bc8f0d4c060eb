a28d595531482ef9cb55b28259f7dd4b
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.batchDeleteTestKeys = batchDeleteTestKeys;
exports.batchGetTestValues = batchGetTestValues;
exports.batchSetTestValues = batchSetTestValues;
exports.checkRedisHealth = checkRedisHealth;
exports.cleanupTestRedis = cleanupTestRedis;
exports.createTestKey = createTestKey;
exports.deleteTestKey = deleteTestKey;
exports.disconnectTestRedis = disconnectTestRedis;
exports.getTestRedisClient = getTestRedisClient;
exports.getTestValue = getTestValue;
exports.setTestValue = setTestValue;
exports.setupTestRedis = setupTestRedis;
var _ioredis = _interopRequireDefault(require("ioredis"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
let redis = null;
const TEST_KEY_PREFIX = 'test:';

/**
 * Get or create a Redis client instance for testing
 */
function getTestRedisClient() {
  if (!redis) {
    const testRedisUrl = process.env.REDIS_URL || 'redis://localhost:6379';
    redis = new _ioredis.default(testRedisUrl, {
      keyPrefix: TEST_KEY_PREFIX,
      lazyConnect: false,
      retryStrategy: times => {
        if (times > 3) {
          return null; // Stop retrying after 3 attempts
        }
        return Math.min(times * 100, 2000);
      }
    });
    redis.on('error', err => {
      console.error('Redis test client error:', err);
    });
  }
  return redis;
}

/**
 * Setup test Redis instance
 */
async function setupTestRedis() {
  const client = getTestRedisClient();
  try {
    // Test connection
    await client.ping();
    console.log('Redis test connection established');
    return client;
  } catch (error) {
    console.error('Failed to setup test Redis:', error);
    throw error;
  }
}

/**
 * Clean up all test keys from Redis
 */
async function cleanupTestRedis() {
  const client = getTestRedisClient();
  try {
    // Get all test keys (with prefix)
    const keys = await client.keys(`${TEST_KEY_PREFIX}*`);
    if (keys.length > 0) {
      // Use pipeline for efficient deletion
      const pipeline = client.pipeline();
      keys.forEach(key => {
        // Remove prefix before deleting since client already adds it
        const keyWithoutPrefix = key.replace(TEST_KEY_PREFIX, '');
        pipeline.del(keyWithoutPrefix);
      });
      await pipeline.exec();
      console.log(`Cleaned up ${keys.length} test keys from Redis`);
    }
  } catch (error) {
    console.error('Error cleaning up test Redis:', error);
    throw error;
  }
}

/**
 * Disconnect from test Redis
 */
async function disconnectTestRedis() {
  if (redis) {
    await redis.quit();
    redis = null;
  }
}

/**
 * Check Redis connection health
 */
async function checkRedisHealth() {
  try {
    const client = getTestRedisClient();
    const result = await client.ping();
    return result === 'PONG';
  } catch (error) {
    console.error('Redis health check failed:', error);
    return false;
  }
}

/**
 * Create a test-specific key with automatic prefixing
 */
function createTestKey(key) {
  return `${TEST_KEY_PREFIX}${key}`;
}

/**
 * Set a test value with automatic expiration
 */
async function setTestValue(key, value, expirationSeconds = 3600) {
  const client = getTestRedisClient();
  await client.setex(key, expirationSeconds, value);
}

/**
 * Get a test value
 */
async function getTestValue(key) {
  const client = getTestRedisClient();
  return client.get(key);
}

/**
 * Delete a specific test key
 */
async function deleteTestKey(key) {
  const client = getTestRedisClient();
  await client.del(key);
}

/**
 * Batch set multiple key-value pairs using pipeline
 */
async function batchSetTestValues(entries) {
  if (entries.length === 0) return;
  const client = getTestRedisClient();
  const pipeline = client.pipeline();
  for (const entry of entries) {
    if (entry.ttl) {
      pipeline.setex(entry.key, entry.ttl, entry.value);
    } else {
      pipeline.set(entry.key, entry.value);
    }
  }
  await pipeline.exec();
}

/**
 * Batch get multiple values using pipeline
 */
async function batchGetTestValues(keys) {
  if (keys.length === 0) return [];
  const client = getTestRedisClient();
  const pipeline = client.pipeline();
  for (const key of keys) {
    pipeline.get(key);
  }
  const results = await pipeline.exec();
  return (results || []).map(([err, value]) => err ? null : value);
}

/**
 * Batch delete multiple keys using pipeline
 */
async function batchDeleteTestKeys(keys) {
  if (keys.length === 0) return 0;
  const client = getTestRedisClient();
  const pipeline = client.pipeline();
  for (const key of keys) {
    pipeline.del(key);
  }
  await pipeline.exec();
  return keys.length;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW9yZWRpcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicmVkaXMiLCJURVNUX0tFWV9QUkVGSVgiLCJnZXRUZXN0UmVkaXNDbGllbnQiLCJ0ZXN0UmVkaXNVcmwiLCJwcm9jZXNzIiwiZW52IiwiUkVESVNfVVJMIiwiUmVkaXMiLCJrZXlQcmVmaXgiLCJsYXp5Q29ubmVjdCIsInJldHJ5U3RyYXRlZ3kiLCJ0aW1lcyIsIk1hdGgiLCJtaW4iLCJvbiIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsInNldHVwVGVzdFJlZGlzIiwiY2xpZW50IiwicGluZyIsImxvZyIsImNsZWFudXBUZXN0UmVkaXMiLCJrZXlzIiwibGVuZ3RoIiwicGlwZWxpbmUiLCJmb3JFYWNoIiwia2V5Iiwia2V5V2l0aG91dFByZWZpeCIsInJlcGxhY2UiLCJkZWwiLCJleGVjIiwiZGlzY29ubmVjdFRlc3RSZWRpcyIsInF1aXQiLCJjaGVja1JlZGlzSGVhbHRoIiwicmVzdWx0IiwiY3JlYXRlVGVzdEtleSIsInNldFRlc3RWYWx1ZSIsInZhbHVlIiwiZXhwaXJhdGlvblNlY29uZHMiLCJzZXRleCIsImdldFRlc3RWYWx1ZSIsImdldCIsImRlbGV0ZVRlc3RLZXkiLCJiYXRjaFNldFRlc3RWYWx1ZXMiLCJlbnRyaWVzIiwiZW50cnkiLCJ0dGwiLCJzZXQiLCJiYXRjaEdldFRlc3RWYWx1ZXMiLCJyZXN1bHRzIiwibWFwIiwiYmF0Y2hEZWxldGVUZXN0S2V5cyJdLCJzb3VyY2VzIjpbInJlZGlzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWRpcyBmcm9tICdpb3JlZGlzJztcclxuXHJcbmxldCByZWRpczogUmVkaXMgfCBudWxsID0gbnVsbDtcclxuY29uc3QgVEVTVF9LRVlfUFJFRklYID0gJ3Rlc3Q6JztcclxuXHJcbi8qKlxyXG4gKiBHZXQgb3IgY3JlYXRlIGEgUmVkaXMgY2xpZW50IGluc3RhbmNlIGZvciB0ZXN0aW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGVzdFJlZGlzQ2xpZW50KCk6IFJlZGlzIHtcclxuICBpZiAoIXJlZGlzKSB7XHJcbiAgICBjb25zdCB0ZXN0UmVkaXNVcmwgPSBwcm9jZXNzLmVudi5SRURJU19VUkwgfHwgJ3JlZGlzOi8vbG9jYWxob3N0OjYzNzknO1xyXG4gICAgXHJcbiAgICByZWRpcyA9IG5ldyBSZWRpcyh0ZXN0UmVkaXNVcmwsIHtcclxuICAgICAga2V5UHJlZml4OiBURVNUX0tFWV9QUkVGSVgsXHJcbiAgICAgIGxhenlDb25uZWN0OiBmYWxzZSxcclxuICAgICAgcmV0cnlTdHJhdGVneTogKHRpbWVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHRpbWVzID4gMykge1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7IC8vIFN0b3AgcmV0cnlpbmcgYWZ0ZXIgMyBhdHRlbXB0c1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5taW4odGltZXMgKiAxMDAsIDIwMDApO1xyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHJlZGlzLm9uKCdlcnJvcicsIChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcignUmVkaXMgdGVzdCBjbGllbnQgZXJyb3I6JywgZXJyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gcmVkaXM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXR1cCB0ZXN0IFJlZGlzIGluc3RhbmNlXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0dXBUZXN0UmVkaXMoKTogUHJvbWlzZTxSZWRpcz4ge1xyXG4gIGNvbnN0IGNsaWVudCA9IGdldFRlc3RSZWRpc0NsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBUZXN0IGNvbm5lY3Rpb25cclxuICAgIGF3YWl0IGNsaWVudC5waW5nKCk7XHJcbiAgICBjb25zb2xlLmxvZygnUmVkaXMgdGVzdCBjb25uZWN0aW9uIGVzdGFibGlzaGVkJyk7XHJcbiAgICByZXR1cm4gY2xpZW50O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2V0dXAgdGVzdCBSZWRpczonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGVhbiB1cCBhbGwgdGVzdCBrZXlzIGZyb20gUmVkaXNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGVhbnVwVGVzdFJlZGlzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IGNsaWVudCA9IGdldFRlc3RSZWRpc0NsaWVudCgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgYWxsIHRlc3Qga2V5cyAod2l0aCBwcmVmaXgpXHJcbiAgICBjb25zdCBrZXlzID0gYXdhaXQgY2xpZW50LmtleXMoYCR7VEVTVF9LRVlfUFJFRklYfSpgKTtcclxuICAgIFxyXG4gICAgaWYgKGtleXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAvLyBVc2UgcGlwZWxpbmUgZm9yIGVmZmljaWVudCBkZWxldGlvblxyXG4gICAgICBjb25zdCBwaXBlbGluZSA9IGNsaWVudC5waXBlbGluZSgpO1xyXG4gICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAvLyBSZW1vdmUgcHJlZml4IGJlZm9yZSBkZWxldGluZyBzaW5jZSBjbGllbnQgYWxyZWFkeSBhZGRzIGl0XHJcbiAgICAgICAgY29uc3Qga2V5V2l0aG91dFByZWZpeCA9IGtleS5yZXBsYWNlKFRFU1RfS0VZX1BSRUZJWCwgJycpO1xyXG4gICAgICAgIHBpcGVsaW5lLmRlbChrZXlXaXRob3V0UHJlZml4KTtcclxuICAgICAgfSk7XHJcbiAgICAgIGF3YWl0IHBpcGVsaW5lLmV4ZWMoKTtcclxuICAgICAgY29uc29sZS5sb2coYENsZWFuZWQgdXAgJHtrZXlzLmxlbmd0aH0gdGVzdCBrZXlzIGZyb20gUmVkaXNgKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY2xlYW5pbmcgdXAgdGVzdCBSZWRpczonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEaXNjb25uZWN0IGZyb20gdGVzdCBSZWRpc1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpc2Nvbm5lY3RUZXN0UmVkaXMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgaWYgKHJlZGlzKSB7XHJcbiAgICBhd2FpdCByZWRpcy5xdWl0KCk7XHJcbiAgICByZWRpcyA9IG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgUmVkaXMgY29ubmVjdGlvbiBoZWFsdGhcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja1JlZGlzSGVhbHRoKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjbGllbnQgPSBnZXRUZXN0UmVkaXNDbGllbnQoKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5waW5nKCk7XHJcbiAgICByZXR1cm4gcmVzdWx0ID09PSAnUE9ORyc7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1JlZGlzIGhlYWx0aCBjaGVjayBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIHRlc3Qtc3BlY2lmaWMga2V5IHdpdGggYXV0b21hdGljIHByZWZpeGluZ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRlc3RLZXkoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHJldHVybiBgJHtURVNUX0tFWV9QUkVGSVh9JHtrZXl9YDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCBhIHRlc3QgdmFsdWUgd2l0aCBhdXRvbWF0aWMgZXhwaXJhdGlvblxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldFRlc3RWYWx1ZShcclxuICBrZXk6IHN0cmluZyxcclxuICB2YWx1ZTogc3RyaW5nLFxyXG4gIGV4cGlyYXRpb25TZWNvbmRzOiBudW1iZXIgPSAzNjAwXHJcbik6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IGNsaWVudCA9IGdldFRlc3RSZWRpc0NsaWVudCgpO1xyXG4gIGF3YWl0IGNsaWVudC5zZXRleChrZXksIGV4cGlyYXRpb25TZWNvbmRzLCB2YWx1ZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgYSB0ZXN0IHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGVzdFZhbHVlKGtleTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XHJcbiAgY29uc3QgY2xpZW50ID0gZ2V0VGVzdFJlZGlzQ2xpZW50KCk7XHJcbiAgcmV0dXJuIGNsaWVudC5nZXQoa2V5KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIERlbGV0ZSBhIHNwZWNpZmljIHRlc3Qga2V5XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVGVzdEtleShrZXk6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IGNsaWVudCA9IGdldFRlc3RSZWRpc0NsaWVudCgpO1xyXG4gIGF3YWl0IGNsaWVudC5kZWwoa2V5KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEJhdGNoIHNldCBtdWx0aXBsZSBrZXktdmFsdWUgcGFpcnMgdXNpbmcgcGlwZWxpbmVcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBiYXRjaFNldFRlc3RWYWx1ZXMoXHJcbiAgZW50cmllczogQXJyYXk8eyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZzsgdHRsPzogbnVtYmVyIH0+XHJcbik6IFByb21pc2U8dm9pZD4ge1xyXG4gIGlmIChlbnRyaWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICBjb25zdCBjbGllbnQgPSBnZXRUZXN0UmVkaXNDbGllbnQoKTtcclxuICBjb25zdCBwaXBlbGluZSA9IGNsaWVudC5waXBlbGluZSgpO1xyXG5cclxuICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcclxuICAgIGlmIChlbnRyeS50dGwpIHtcclxuICAgICAgcGlwZWxpbmUuc2V0ZXgoZW50cnkua2V5LCBlbnRyeS50dGwsIGVudHJ5LnZhbHVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHBpcGVsaW5lLnNldChlbnRyeS5rZXksIGVudHJ5LnZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGF3YWl0IHBpcGVsaW5lLmV4ZWMoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEJhdGNoIGdldCBtdWx0aXBsZSB2YWx1ZXMgdXNpbmcgcGlwZWxpbmVcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBiYXRjaEdldFRlc3RWYWx1ZXMoa2V5czogc3RyaW5nW10pOiBQcm9taXNlPEFycmF5PHN0cmluZyB8IG51bGw+PiB7XHJcbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XHJcblxyXG4gIGNvbnN0IGNsaWVudCA9IGdldFRlc3RSZWRpc0NsaWVudCgpO1xyXG4gIGNvbnN0IHBpcGVsaW5lID0gY2xpZW50LnBpcGVsaW5lKCk7XHJcblxyXG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcclxuICAgIHBpcGVsaW5lLmdldChrZXkpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBpcGVsaW5lLmV4ZWMoKTtcclxuICByZXR1cm4gKHJlc3VsdHMgfHwgW10pLm1hcCgoW2VyciwgdmFsdWVdKSA9PiAoZXJyID8gbnVsbCA6IHZhbHVlIGFzIHN0cmluZyB8IG51bGwpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEJhdGNoIGRlbGV0ZSBtdWx0aXBsZSBrZXlzIHVzaW5nIHBpcGVsaW5lXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYmF0Y2hEZWxldGVUZXN0S2V5cyhrZXlzOiBzdHJpbmdbXSk6IFByb21pc2U8bnVtYmVyPiB7XHJcbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSByZXR1cm4gMDtcclxuXHJcbiAgY29uc3QgY2xpZW50ID0gZ2V0VGVzdFJlZGlzQ2xpZW50KCk7XHJcbiAgY29uc3QgcGlwZWxpbmUgPSBjbGllbnQucGlwZWxpbmUoKTtcclxuXHJcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xyXG4gICAgcGlwZWxpbmUuZGVsKGtleSk7XHJcbiAgfVxyXG5cclxuICBhd2FpdCBwaXBlbGluZS5leGVjKCk7XHJcbiAgcmV0dXJuIGtleXMubGVuZ3RoO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBNEIsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFNUIsSUFBSUcsS0FBbUIsR0FBRyxJQUFJO0FBQzlCLE1BQU1DLGVBQWUsR0FBRyxPQUFPOztBQUUvQjtBQUNBO0FBQ0E7QUFDTyxTQUFTQyxrQkFBa0JBLENBQUEsRUFBVTtFQUMxQyxJQUFJLENBQUNGLEtBQUssRUFBRTtJQUNWLE1BQU1HLFlBQVksR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFNBQVMsSUFBSSx3QkFBd0I7SUFFdEVOLEtBQUssR0FBRyxJQUFJTyxnQkFBSyxDQUFDSixZQUFZLEVBQUU7TUFDOUJLLFNBQVMsRUFBRVAsZUFBZTtNQUMxQlEsV0FBVyxFQUFFLEtBQUs7TUFDbEJDLGFBQWEsRUFBR0MsS0FBSyxJQUFLO1FBQ3hCLElBQUlBLEtBQUssR0FBRyxDQUFDLEVBQUU7VUFDYixPQUFPLElBQUksQ0FBQyxDQUFDO1FBQ2Y7UUFDQSxPQUFPQyxJQUFJLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxHQUFHLEdBQUcsRUFBRSxJQUFJLENBQUM7TUFDcEM7SUFDRixDQUFDLENBQUM7SUFFRlgsS0FBSyxDQUFDYyxFQUFFLENBQUMsT0FBTyxFQUFHQyxHQUFHLElBQUs7TUFDekJDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLDBCQUEwQixFQUFFRixHQUFHLENBQUM7SUFDaEQsQ0FBQyxDQUFDO0VBQ0o7RUFFQSxPQUFPZixLQUFLO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBO0FBQ08sZUFBZWtCLGNBQWNBLENBQUEsRUFBbUI7RUFDckQsTUFBTUMsTUFBTSxHQUFHakIsa0JBQWtCLENBQUMsQ0FBQztFQUVuQyxJQUFJO0lBQ0Y7SUFDQSxNQUFNaUIsTUFBTSxDQUFDQyxJQUFJLENBQUMsQ0FBQztJQUNuQkosT0FBTyxDQUFDSyxHQUFHLENBQUMsbUNBQW1DLENBQUM7SUFDaEQsT0FBT0YsTUFBTTtFQUNmLENBQUMsQ0FBQyxPQUFPRixLQUFLLEVBQUU7SUFDZEQsT0FBTyxDQUFDQyxLQUFLLENBQUMsNkJBQTZCLEVBQUVBLEtBQUssQ0FBQztJQUNuRCxNQUFNQSxLQUFLO0VBQ2I7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDTyxlQUFlSyxnQkFBZ0JBLENBQUEsRUFBa0I7RUFDdEQsTUFBTUgsTUFBTSxHQUFHakIsa0JBQWtCLENBQUMsQ0FBQztFQUVuQyxJQUFJO0lBQ0Y7SUFDQSxNQUFNcUIsSUFBSSxHQUFHLE1BQU1KLE1BQU0sQ0FBQ0ksSUFBSSxDQUFDLEdBQUd0QixlQUFlLEdBQUcsQ0FBQztJQUVyRCxJQUFJc0IsSUFBSSxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQ25CO01BQ0EsTUFBTUMsUUFBUSxHQUFHTixNQUFNLENBQUNNLFFBQVEsQ0FBQyxDQUFDO01BQ2xDRixJQUFJLENBQUNHLE9BQU8sQ0FBQ0MsR0FBRyxJQUFJO1FBQ2xCO1FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUdELEdBQUcsQ0FBQ0UsT0FBTyxDQUFDNUIsZUFBZSxFQUFFLEVBQUUsQ0FBQztRQUN6RHdCLFFBQVEsQ0FBQ0ssR0FBRyxDQUFDRixnQkFBZ0IsQ0FBQztNQUNoQyxDQUFDLENBQUM7TUFDRixNQUFNSCxRQUFRLENBQUNNLElBQUksQ0FBQyxDQUFDO01BQ3JCZixPQUFPLENBQUNLLEdBQUcsQ0FBQyxjQUFjRSxJQUFJLENBQUNDLE1BQU0sdUJBQXVCLENBQUM7SUFDL0Q7RUFDRixDQUFDLENBQUMsT0FBT1AsS0FBSyxFQUFFO0lBQ2RELE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLCtCQUErQixFQUFFQSxLQUFLLENBQUM7SUFDckQsTUFBTUEsS0FBSztFQUNiO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ08sZUFBZWUsbUJBQW1CQSxDQUFBLEVBQWtCO0VBQ3pELElBQUloQyxLQUFLLEVBQUU7SUFDVCxNQUFNQSxLQUFLLENBQUNpQyxJQUFJLENBQUMsQ0FBQztJQUNsQmpDLEtBQUssR0FBRyxJQUFJO0VBQ2Q7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDTyxlQUFla0MsZ0JBQWdCQSxDQUFBLEVBQXFCO0VBQ3pELElBQUk7SUFDRixNQUFNZixNQUFNLEdBQUdqQixrQkFBa0IsQ0FBQyxDQUFDO0lBQ25DLE1BQU1pQyxNQUFNLEdBQUcsTUFBTWhCLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDLENBQUM7SUFDbEMsT0FBT2UsTUFBTSxLQUFLLE1BQU07RUFDMUIsQ0FBQyxDQUFDLE9BQU9sQixLQUFLLEVBQUU7SUFDZEQsT0FBTyxDQUFDQyxLQUFLLENBQUMsNEJBQTRCLEVBQUVBLEtBQUssQ0FBQztJQUNsRCxPQUFPLEtBQUs7RUFDZDtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNPLFNBQVNtQixhQUFhQSxDQUFDVCxHQUFXLEVBQVU7RUFDakQsT0FBTyxHQUFHMUIsZUFBZSxHQUFHMEIsR0FBRyxFQUFFO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTtBQUNPLGVBQWVVLFlBQVlBLENBQ2hDVixHQUFXLEVBQ1hXLEtBQWEsRUFDYkMsaUJBQXlCLEdBQUcsSUFBSSxFQUNqQjtFQUNmLE1BQU1wQixNQUFNLEdBQUdqQixrQkFBa0IsQ0FBQyxDQUFDO0VBQ25DLE1BQU1pQixNQUFNLENBQUNxQixLQUFLLENBQUNiLEdBQUcsRUFBRVksaUJBQWlCLEVBQUVELEtBQUssQ0FBQztBQUNuRDs7QUFFQTtBQUNBO0FBQ0E7QUFDTyxlQUFlRyxZQUFZQSxDQUFDZCxHQUFXLEVBQTBCO0VBQ3RFLE1BQU1SLE1BQU0sR0FBR2pCLGtCQUFrQixDQUFDLENBQUM7RUFDbkMsT0FBT2lCLE1BQU0sQ0FBQ3VCLEdBQUcsQ0FBQ2YsR0FBRyxDQUFDO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNPLGVBQWVnQixhQUFhQSxDQUFDaEIsR0FBVyxFQUFpQjtFQUM5RCxNQUFNUixNQUFNLEdBQUdqQixrQkFBa0IsQ0FBQyxDQUFDO0VBQ25DLE1BQU1pQixNQUFNLENBQUNXLEdBQUcsQ0FBQ0gsR0FBRyxDQUFDO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNPLGVBQWVpQixrQkFBa0JBLENBQ3RDQyxPQUE0RCxFQUM3QztFQUNmLElBQUlBLE9BQU8sQ0FBQ3JCLE1BQU0sS0FBSyxDQUFDLEVBQUU7RUFFMUIsTUFBTUwsTUFBTSxHQUFHakIsa0JBQWtCLENBQUMsQ0FBQztFQUNuQyxNQUFNdUIsUUFBUSxHQUFHTixNQUFNLENBQUNNLFFBQVEsQ0FBQyxDQUFDO0VBRWxDLEtBQUssTUFBTXFCLEtBQUssSUFBSUQsT0FBTyxFQUFFO0lBQzNCLElBQUlDLEtBQUssQ0FBQ0MsR0FBRyxFQUFFO01BQ2J0QixRQUFRLENBQUNlLEtBQUssQ0FBQ00sS0FBSyxDQUFDbkIsR0FBRyxFQUFFbUIsS0FBSyxDQUFDQyxHQUFHLEVBQUVELEtBQUssQ0FBQ1IsS0FBSyxDQUFDO0lBQ25ELENBQUMsTUFBTTtNQUNMYixRQUFRLENBQUN1QixHQUFHLENBQUNGLEtBQUssQ0FBQ25CLEdBQUcsRUFBRW1CLEtBQUssQ0FBQ1IsS0FBSyxDQUFDO0lBQ3RDO0VBQ0Y7RUFFQSxNQUFNYixRQUFRLENBQUNNLElBQUksQ0FBQyxDQUFDO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNPLGVBQWVrQixrQkFBa0JBLENBQUMxQixJQUFjLEVBQWlDO0VBQ3RGLElBQUlBLElBQUksQ0FBQ0MsTUFBTSxLQUFLLENBQUMsRUFBRSxPQUFPLEVBQUU7RUFFaEMsTUFBTUwsTUFBTSxHQUFHakIsa0JBQWtCLENBQUMsQ0FBQztFQUNuQyxNQUFNdUIsUUFBUSxHQUFHTixNQUFNLENBQUNNLFFBQVEsQ0FBQyxDQUFDO0VBRWxDLEtBQUssTUFBTUUsR0FBRyxJQUFJSixJQUFJLEVBQUU7SUFDdEJFLFFBQVEsQ0FBQ2lCLEdBQUcsQ0FBQ2YsR0FBRyxDQUFDO0VBQ25CO0VBRUEsTUFBTXVCLE9BQU8sR0FBRyxNQUFNekIsUUFBUSxDQUFDTSxJQUFJLENBQUMsQ0FBQztFQUNyQyxPQUFPLENBQUNtQixPQUFPLElBQUksRUFBRSxFQUFFQyxHQUFHLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxFQUFFdUIsS0FBSyxDQUFDLEtBQU12QixHQUFHLEdBQUcsSUFBSSxHQUFHdUIsS0FBdUIsQ0FBQztBQUNyRjs7QUFFQTtBQUNBO0FBQ0E7QUFDTyxlQUFlYyxtQkFBbUJBLENBQUM3QixJQUFjLEVBQW1CO0VBQ3pFLElBQUlBLElBQUksQ0FBQ0MsTUFBTSxLQUFLLENBQUMsRUFBRSxPQUFPLENBQUM7RUFFL0IsTUFBTUwsTUFBTSxHQUFHakIsa0JBQWtCLENBQUMsQ0FBQztFQUNuQyxNQUFNdUIsUUFBUSxHQUFHTixNQUFNLENBQUNNLFFBQVEsQ0FBQyxDQUFDO0VBRWxDLEtBQUssTUFBTUUsR0FBRyxJQUFJSixJQUFJLEVBQUU7SUFDdEJFLFFBQVEsQ0FBQ0ssR0FBRyxDQUFDSCxHQUFHLENBQUM7RUFDbkI7RUFFQSxNQUFNRixRQUFRLENBQUNNLElBQUksQ0FBQyxDQUFDO0VBQ3JCLE9BQU9SLElBQUksQ0FBQ0MsTUFBTTtBQUNwQiIsImlnbm9yZUxpc3QiOltdfQ==