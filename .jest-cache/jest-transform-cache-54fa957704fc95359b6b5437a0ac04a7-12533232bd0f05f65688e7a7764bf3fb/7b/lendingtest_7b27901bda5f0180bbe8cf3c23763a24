b0123ab63163e9928e390d0e3e2eb673
"use strict";

const request = require('supertest');
const app = require('../index.js');
describe('Lending Service', () => {
  // Health check test
  describe('GET /health', () => {
    it('should return health status', async () => {
      const response = await request(app).get('/health').expect(200);
      expect(response.body.status).toBe('healthy');
      expect(response.body.service).toBe('lending-service');
    });
  });

  // Get all loan applications test
  describe('GET /api/loans', () => {
    it('should return all loan applications', async () => {
      const response = await request(app).get('/api/loans').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
      expect(response.body.count).toBeGreaterThanOrEqual(0);
    });
  });

  // Get specific loan application test
  describe('GET /api/loans/:loanId', () => {
    it('should return specific loan application', async () => {
      const response = await request(app).get('/api/loans/loan_1').expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.id).toBe('loan_1');
    });
    it('should return 404 for non-existent loan', async () => {
      const response = await request(app).get('/api/loans/non-existent').expect(404);
      expect(response.body.error).toBe('Loan not found');
    });
  });

  // Submit a new loan application test
  describe('POST /api/loans', () => {
    it('should submit a new loan application', async () => {
      const loanData = {
        applicantId: 'user_3',
        applicantName: 'Bob Johnson',
        amount: 15000,
        term: 24,
        purpose: 'Home improvement'
      };
      const response = await request(app).post('/api/loans').send(loanData).expect(201);
      expect(response.body.success).toBe(true);
      expect(response.body.data.applicantId).toBe('user_3');
      expect(response.body.data.amount).toBe(15000);
      expect(response.body.data.status).toBe('pending');
    });
    it('should return 400 for missing required fields', async () => {
      const loanData = {
        applicantId: 'user_3',
        applicantName: 'Bob Johnson',
        amount: 15000
        // Missing term
      };
      const response = await request(app).post('/api/loans').send(loanData).expect(400);
      expect(response.body.error).toBe('Applicant ID, name, amount, and term are required');
    });
  });

  // Update loan application status test
  describe('PUT /api/loans/:loanId', () => {
    let loanId;
    beforeAll(async () => {
      // Create a loan application first
      const loanData = {
        applicantId: 'user_4',
        applicantName: 'Alice Brown',
        amount: 20000,
        term: 36
      };
      const response = await request(app).post('/api/loans').send(loanData);
      loanId = response.body.data.id;
    });
    it('should update loan application status', async () => {
      const updateData = {
        status: 'approved',
        interestRate: 4.5,
        notes: 'Approved based on excellent credit history'
      };
      const response = await request(app).put(`/api/loans/${loanId}`).send(updateData).expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.status).toBe('approved');
      expect(response.body.data.interestRate).toBe(4.5);
    });
    it('should return 404 for non-existent loan', async () => {
      const updateData = {
        status: 'approved'
      };
      const response = await request(app).put('/api/loans/non-existent').send(updateData).expect(404);
      expect(response.body.error).toBe('Loan not found');
    });
  });

  // Credit evaluation test
  describe('POST /api/credit-evaluation', () => {
    it('should evaluate applicant credit', async () => {
      const evaluationData = {
        applicantId: 'user_5',
        applicantName: 'Charlie Wilson',
        amount: 10000,
        income: 50000,
        employment: 'Software Engineer'
      };
      const response = await request(app).post('/api/credit-evaluation').send(evaluationData).expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.applicantId).toBe('user_5');
      expect(typeof response.body.data.creditScore).toBe('number');
      expect(typeof response.body.data.approved).toBe('boolean');
    });
    it('should return 400 for missing required fields', async () => {
      const evaluationData = {
        applicantId: 'user_5',
        applicantName: 'Charlie Wilson'
        // Missing amount
      };
      const response = await request(app).post('/api/credit-evaluation').send(evaluationData).expect(400);
      expect(response.body.error).toBe('Applicant ID, name, and amount are required');
    });
  });

  // Get credit history for applicant test
  describe('GET /api/credit-evaluation/:applicantId', () => {
    let applicantId;
    beforeAll(async () => {
      // Create a credit evaluation first
      const evaluationData = {
        applicantId: 'user_6',
        applicantName: 'Diana Miller',
        amount: 15000
      };
      const response = await request(app).post('/api/credit-evaluation').send(evaluationData);
      applicantId = evaluationData.applicantId;
    });
    it('should return credit history for applicant', async () => {
      const response = await request(app).get(`/api/credit-evaluation/${applicantId}`).expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
      expect(response.body.count).toBeGreaterThanOrEqual(1);
    });
    it('should return 404 for applicant with no credit history', async () => {
      const response = await request(app).get('/api/credit-evaluation/non-existent').expect(404);
      expect(response.body.error).toBe('No credit evaluations found for this applicant');
    });
  });

  // Get applicant info test
  describe('GET /api/applicants/:applicantId', () => {
    let applicantId;
    beforeAll(async () => {
      // Create a credit evaluation first to register the applicant
      const evaluationData = {
        applicantId: 'user_7',
        applicantName: 'Ethan Davis',
        amount: 12000
      };
      await request(app).post('/api/credit-evaluation').send(evaluationData);
      applicantId = evaluationData.applicantId;
    });
    it('should return applicant info', async () => {
      const response = await request(app).get(`/api/applicants/${applicantId}`).expect(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.id).toBe(applicantId);
      expect(response.body.data.name).toBe('Ethan Davis');
    });
    it('should return 404 for non-existent applicant', async () => {
      const response = await request(app).get('/api/applicants/non-existent').expect(404);
      expect(response.body.error).toBe('Applicant not found');
    });
  });

  // Search loans by status test
  describe('GET /api/loans/search', () => {
    it('should search loans by status', async () => {
      const response = await request(app).get('/api/loans/search?status=approved').expect(200);
      expect(response.body.success).toBe(true);
      expect(Array.isArray(response.body.data)).toBe(true);
    });
    it('should return 400 for missing status parameter', async () => {
      const response = await request(app).get('/api/loans/search').expect(400);
      expect(response.body.error).toBe('Status parameter is required');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImFwcCIsImRlc2NyaWJlIiwiaXQiLCJyZXNwb25zZSIsImdldCIsImV4cGVjdCIsImJvZHkiLCJzdGF0dXMiLCJ0b0JlIiwic2VydmljZSIsInN1Y2Nlc3MiLCJBcnJheSIsImlzQXJyYXkiLCJkYXRhIiwiY291bnQiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwiaWQiLCJlcnJvciIsImxvYW5EYXRhIiwiYXBwbGljYW50SWQiLCJhcHBsaWNhbnROYW1lIiwiYW1vdW50IiwidGVybSIsInB1cnBvc2UiLCJwb3N0Iiwic2VuZCIsImxvYW5JZCIsImJlZm9yZUFsbCIsInVwZGF0ZURhdGEiLCJpbnRlcmVzdFJhdGUiLCJub3RlcyIsInB1dCIsImV2YWx1YXRpb25EYXRhIiwiaW5jb21lIiwiZW1wbG95bWVudCIsImNyZWRpdFNjb3JlIiwiYXBwcm92ZWQiLCJuYW1lIl0sInNvdXJjZXMiOlsibGVuZGluZy50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKCdzdXBlcnRlc3QnKTtcclxuY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vaW5kZXguanMnKTtcclxuXHJcbmRlc2NyaWJlKCdMZW5kaW5nIFNlcnZpY2UnLCAoKSA9PiB7XHJcbiAgLy8gSGVhbHRoIGNoZWNrIHRlc3RcclxuICBkZXNjcmliZSgnR0VUIC9oZWFsdGgnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBoZWFsdGggc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5nZXQoJy9oZWFsdGgnKVxyXG4gICAgICAgIC5leHBlY3QoMjAwKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN0YXR1cykudG9CZSgnaGVhbHRoeScpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zZXJ2aWNlKS50b0JlKCdsZW5kaW5nLXNlcnZpY2UnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBHZXQgYWxsIGxvYW4gYXBwbGljYXRpb25zIHRlc3RcclxuICBkZXNjcmliZSgnR0VUIC9hcGkvbG9hbnMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBhbGwgbG9hbiBhcHBsaWNhdGlvbnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLmdldCgnL2FwaS9sb2FucycpXHJcbiAgICAgICAgLmV4cGVjdCgyMDApO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzcG9uc2UuYm9keS5kYXRhKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuY291bnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8gR2V0IHNwZWNpZmljIGxvYW4gYXBwbGljYXRpb24gdGVzdFxyXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9sb2Fucy86bG9hbklkJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3BlY2lmaWMgbG9hbiBhcHBsaWNhdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAuZ2V0KCcvYXBpL2xvYW5zL2xvYW5fMScpXHJcbiAgICAgICAgLmV4cGVjdCgyMDApO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5pZCkudG9CZSgnbG9hbl8xJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDQgZm9yIG5vbi1leGlzdGVudCBsb2FuJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5nZXQoJy9hcGkvbG9hbnMvbm9uLWV4aXN0ZW50JylcclxuICAgICAgICAuZXhwZWN0KDQwNCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnTG9hbiBub3QgZm91bmQnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBTdWJtaXQgYSBuZXcgbG9hbiBhcHBsaWNhdGlvbiB0ZXN0XHJcbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS9sb2FucycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgc3VibWl0IGEgbmV3IGxvYW4gYXBwbGljYXRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxvYW5EYXRhID0ge1xyXG4gICAgICAgIGFwcGxpY2FudElkOiAndXNlcl8zJyxcclxuICAgICAgICBhcHBsaWNhbnROYW1lOiAnQm9iIEpvaG5zb24nLFxyXG4gICAgICAgIGFtb3VudDogMTUwMDAsXHJcbiAgICAgICAgdGVybTogMjQsXHJcbiAgICAgICAgcHVycG9zZTogJ0hvbWUgaW1wcm92ZW1lbnQnXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL2xvYW5zJylcclxuICAgICAgICAuc2VuZChsb2FuRGF0YSlcclxuICAgICAgICAuZXhwZWN0KDIwMSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLmFwcGxpY2FudElkKS50b0JlKCd1c2VyXzMnKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5hbW91bnQpLnRvQmUoMTUwMDApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLnN0YXR1cykudG9CZSgncGVuZGluZycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIGZvciBtaXNzaW5nIHJlcXVpcmVkIGZpZWxkcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbG9hbkRhdGEgPSB7XHJcbiAgICAgICAgYXBwbGljYW50SWQ6ICd1c2VyXzMnLFxyXG4gICAgICAgIGFwcGxpY2FudE5hbWU6ICdCb2IgSm9obnNvbicsXHJcbiAgICAgICAgYW1vdW50OiAxNTAwMFxyXG4gICAgICAgIC8vIE1pc3NpbmcgdGVybVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucG9zdCgnL2FwaS9sb2FucycpXHJcbiAgICAgICAgLnNlbmQobG9hbkRhdGEpXHJcbiAgICAgICAgLmV4cGVjdCg0MDApO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ0FwcGxpY2FudCBJRCwgbmFtZSwgYW1vdW50LCBhbmQgdGVybSBhcmUgcmVxdWlyZWQnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBVcGRhdGUgbG9hbiBhcHBsaWNhdGlvbiBzdGF0dXMgdGVzdFxyXG4gIGRlc2NyaWJlKCdQVVQgL2FwaS9sb2Fucy86bG9hbklkJywgKCkgPT4ge1xyXG4gICAgbGV0IGxvYW5JZDtcclxuXHJcbiAgICBiZWZvcmVBbGwoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBDcmVhdGUgYSBsb2FuIGFwcGxpY2F0aW9uIGZpcnN0XHJcbiAgICAgIGNvbnN0IGxvYW5EYXRhID0ge1xyXG4gICAgICAgIGFwcGxpY2FudElkOiAndXNlcl80JyxcclxuICAgICAgICBhcHBsaWNhbnROYW1lOiAnQWxpY2UgQnJvd24nLFxyXG4gICAgICAgIGFtb3VudDogMjAwMDAsXHJcbiAgICAgICAgdGVybTogMzZcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvbG9hbnMnKVxyXG4gICAgICAgIC5zZW5kKGxvYW5EYXRhKTtcclxuXHJcbiAgICAgIGxvYW5JZCA9IHJlc3BvbnNlLmJvZHkuZGF0YS5pZDtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdXBkYXRlIGxvYW4gYXBwbGljYXRpb24gc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcclxuICAgICAgICBpbnRlcmVzdFJhdGU6IDQuNSxcclxuICAgICAgICBub3RlczogJ0FwcHJvdmVkIGJhc2VkIG9uIGV4Y2VsbGVudCBjcmVkaXQgaGlzdG9yeSdcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLnB1dChgL2FwaS9sb2Fucy8ke2xvYW5JZH1gKVxyXG4gICAgICAgIC5zZW5kKHVwZGF0ZURhdGEpXHJcbiAgICAgICAgLmV4cGVjdCgyMDApO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5zdGF0dXMpLnRvQmUoJ2FwcHJvdmVkJyk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEuaW50ZXJlc3RSYXRlKS50b0JlKDQuNSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDQgZm9yIG5vbi1leGlzdGVudCBsb2FuJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1cGRhdGVEYXRhID0ge1xyXG4gICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJ1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucHV0KCcvYXBpL2xvYW5zL25vbi1leGlzdGVudCcpXHJcbiAgICAgICAgLnNlbmQodXBkYXRlRGF0YSlcclxuICAgICAgICAuZXhwZWN0KDQwNCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnTG9hbiBub3QgZm91bmQnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBDcmVkaXQgZXZhbHVhdGlvbiB0ZXN0XHJcbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS9jcmVkaXQtZXZhbHVhdGlvbicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZXZhbHVhdGUgYXBwbGljYW50IGNyZWRpdCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZXZhbHVhdGlvbkRhdGEgPSB7XHJcbiAgICAgICAgYXBwbGljYW50SWQ6ICd1c2VyXzUnLFxyXG4gICAgICAgIGFwcGxpY2FudE5hbWU6ICdDaGFybGllIFdpbHNvbicsXHJcbiAgICAgICAgYW1vdW50OiAxMDAwMCxcclxuICAgICAgICBpbmNvbWU6IDUwMDAwLFxyXG4gICAgICAgIGVtcGxveW1lbnQ6ICdTb2Z0d2FyZSBFbmdpbmVlcidcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvY3JlZGl0LWV2YWx1YXRpb24nKVxyXG4gICAgICAgIC5zZW5kKGV2YWx1YXRpb25EYXRhKVxyXG4gICAgICAgIC5leHBlY3QoMjAwKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEuYXBwbGljYW50SWQpLnRvQmUoJ3VzZXJfNScpO1xyXG4gICAgICBleHBlY3QodHlwZW9mIHJlc3BvbnNlLmJvZHkuZGF0YS5jcmVkaXRTY29yZSkudG9CZSgnbnVtYmVyJyk7XHJcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzcG9uc2UuYm9keS5kYXRhLmFwcHJvdmVkKS50b0JlKCdib29sZWFuJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgZm9yIG1pc3NpbmcgcmVxdWlyZWQgZmllbGRzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBldmFsdWF0aW9uRGF0YSA9IHtcclxuICAgICAgICBhcHBsaWNhbnRJZDogJ3VzZXJfNScsXHJcbiAgICAgICAgYXBwbGljYW50TmFtZTogJ0NoYXJsaWUgV2lsc29uJ1xyXG4gICAgICAgIC8vIE1pc3NpbmcgYW1vdW50XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL2NyZWRpdC1ldmFsdWF0aW9uJylcclxuICAgICAgICAuc2VuZChldmFsdWF0aW9uRGF0YSlcclxuICAgICAgICAuZXhwZWN0KDQwMCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnQXBwbGljYW50IElELCBuYW1lLCBhbmQgYW1vdW50IGFyZSByZXF1aXJlZCcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEdldCBjcmVkaXQgaGlzdG9yeSBmb3IgYXBwbGljYW50IHRlc3RcclxuICBkZXNjcmliZSgnR0VUIC9hcGkvY3JlZGl0LWV2YWx1YXRpb24vOmFwcGxpY2FudElkJywgKCkgPT4ge1xyXG4gICAgbGV0IGFwcGxpY2FudElkO1xyXG5cclxuICAgIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIENyZWF0ZSBhIGNyZWRpdCBldmFsdWF0aW9uIGZpcnN0XHJcbiAgICAgIGNvbnN0IGV2YWx1YXRpb25EYXRhID0ge1xyXG4gICAgICAgIGFwcGxpY2FudElkOiAndXNlcl82JyxcclxuICAgICAgICBhcHBsaWNhbnROYW1lOiAnRGlhbmEgTWlsbGVyJyxcclxuICAgICAgICBhbW91bnQ6IDE1MDAwXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL2NyZWRpdC1ldmFsdWF0aW9uJylcclxuICAgICAgICAuc2VuZChldmFsdWF0aW9uRGF0YSk7XHJcblxyXG4gICAgICBhcHBsaWNhbnRJZCA9IGV2YWx1YXRpb25EYXRhLmFwcGxpY2FudElkO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gY3JlZGl0IGhpc3RvcnkgZm9yIGFwcGxpY2FudCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAuZ2V0KGAvYXBpL2NyZWRpdC1ldmFsdWF0aW9uLyR7YXBwbGljYW50SWR9YClcclxuICAgICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXNwb25zZS5ib2R5LmRhdGEpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5jb3VudCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNCBmb3IgYXBwbGljYW50IHdpdGggbm8gY3JlZGl0IGhpc3RvcnknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLmdldCgnL2FwaS9jcmVkaXQtZXZhbHVhdGlvbi9ub24tZXhpc3RlbnQnKVxyXG4gICAgICAgIC5leHBlY3QoNDA0KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0JlKCdObyBjcmVkaXQgZXZhbHVhdGlvbnMgZm91bmQgZm9yIHRoaXMgYXBwbGljYW50Jyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8gR2V0IGFwcGxpY2FudCBpbmZvIHRlc3RcclxuICBkZXNjcmliZSgnR0VUIC9hcGkvYXBwbGljYW50cy86YXBwbGljYW50SWQnLCAoKSA9PiB7XHJcbiAgICBsZXQgYXBwbGljYW50SWQ7XHJcblxyXG4gICAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQ3JlYXRlIGEgY3JlZGl0IGV2YWx1YXRpb24gZmlyc3QgdG8gcmVnaXN0ZXIgdGhlIGFwcGxpY2FudFxyXG4gICAgICBjb25zdCBldmFsdWF0aW9uRGF0YSA9IHtcclxuICAgICAgICBhcHBsaWNhbnRJZDogJ3VzZXJfNycsXHJcbiAgICAgICAgYXBwbGljYW50TmFtZTogJ0V0aGFuIERhdmlzJyxcclxuICAgICAgICBhbW91bnQ6IDEyMDAwXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucG9zdCgnL2FwaS9jcmVkaXQtZXZhbHVhdGlvbicpXHJcbiAgICAgICAgLnNlbmQoZXZhbHVhdGlvbkRhdGEpO1xyXG5cclxuICAgICAgYXBwbGljYW50SWQgPSBldmFsdWF0aW9uRGF0YS5hcHBsaWNhbnRJZDtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGFwcGxpY2FudCBpbmZvJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5nZXQoYC9hcGkvYXBwbGljYW50cy8ke2FwcGxpY2FudElkfWApXHJcbiAgICAgICAgLmV4cGVjdCgyMDApO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5pZCkudG9CZShhcHBsaWNhbnRJZCk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEubmFtZSkudG9CZSgnRXRoYW4gRGF2aXMnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNCBmb3Igbm9uLWV4aXN0ZW50IGFwcGxpY2FudCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAuZ2V0KCcvYXBpL2FwcGxpY2FudHMvbm9uLWV4aXN0ZW50JylcclxuICAgICAgICAuZXhwZWN0KDQwNCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnQXBwbGljYW50IG5vdCBmb3VuZCcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFNlYXJjaCBsb2FucyBieSBzdGF0dXMgdGVzdFxyXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9sb2Fucy9zZWFyY2gnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHNlYXJjaCBsb2FucyBieSBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLmdldCgnL2FwaS9sb2Fucy9zZWFyY2g/c3RhdHVzPWFwcHJvdmVkJylcclxuICAgICAgICAuZXhwZWN0KDIwMCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXNwb25zZS5ib2R5LmRhdGEpKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIGZvciBtaXNzaW5nIHN0YXR1cyBwYXJhbWV0ZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLmdldCgnL2FwaS9sb2Fucy9zZWFyY2gnKVxyXG4gICAgICAgIC5leHBlY3QoNDAwKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0JlKCdTdGF0dXMgcGFyYW1ldGVyIGlzIHJlcXVpcmVkJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUNwQyxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFFbENFLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxNQUFNO0VBQ2hDO0VBQ0FBLFFBQVEsQ0FBQyxhQUFhLEVBQUUsTUFBTTtJQUM1QkMsRUFBRSxDQUFDLDZCQUE2QixFQUFFLFlBQVk7TUFDNUMsTUFBTUMsUUFBUSxHQUFHLE1BQU1MLE9BQU8sQ0FBQ0UsR0FBRyxDQUFDLENBQ2hDSSxHQUFHLENBQUMsU0FBUyxDQUFDLENBQ2RDLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDRixRQUFRLENBQUNHLElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQyxTQUFTLENBQUM7TUFDNUNILE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxJQUFJLENBQUNHLE9BQU8sQ0FBQyxDQUFDRCxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFDdkQsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDOztFQUVGO0VBQ0FQLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxNQUFNO0lBQy9CQyxFQUFFLENBQUMscUNBQXFDLEVBQUUsWUFBWTtNQUNwRCxNQUFNQyxRQUFRLEdBQUcsTUFBTUwsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaENJLEdB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