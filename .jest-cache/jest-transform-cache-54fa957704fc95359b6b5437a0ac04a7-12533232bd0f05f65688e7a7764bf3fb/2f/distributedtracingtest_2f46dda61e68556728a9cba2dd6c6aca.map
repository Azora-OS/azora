{"version":3,"names":["DistributedTracing","require","describe","tracing","beforeEach","it","traceId","startTrace","expect","toBeDefined","toBe","trace","getTrace","operationName","parentTraceId","childTraceId","childTrace","startTime","status","spanId","startSpan","spans","toContain","span","find","s","tags","finishSpan","duration","toBeGreaterThanOrEqual","result","addLog","logs","toHaveLength","message","level","timestamp","middleware","length","done","req","headers","method","path","url","res","setHeader","jest","fn","on","next","toHaveBeenCalledWith","any","String","existingTraceId","toBeNull","trace1","trace2","not","t1","t2"],"sources":["distributed-tracing.test.js"],"sourcesContent":["const DistributedTracing = require('../distributed-tracing');\r\n\r\ndescribe('Distributed Tracing', () => {\r\n  let tracing;\r\n\r\n  beforeEach(() => {\r\n    tracing = new DistributedTracing();\r\n  });\r\n\r\n  describe('Trace Management', () => {\r\n    it('should start a new trace', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n\r\n      expect(traceId).toBeDefined();\r\n      expect(typeof traceId).toBe('string');\r\n    });\r\n\r\n    it('should create trace with operation name', () => {\r\n      const traceId = tracing.startTrace('user-registration');\r\n      const trace = tracing.getTrace(traceId);\r\n\r\n      expect(trace).toBeDefined();\r\n      expect(trace.operationName).toBe('user-registration');\r\n    });\r\n\r\n    it('should support parent trace ID', () => {\r\n      const parentTraceId = tracing.startTrace('parent-operation');\r\n      const childTraceId = tracing.startTrace('child-operation', parentTraceId);\r\n\r\n      const childTrace = tracing.getTrace(childTraceId);\r\n      expect(childTrace.parentTraceId).toBe(parentTraceId);\r\n    });\r\n\r\n    it('should track trace start time', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n      const trace = tracing.getTrace(traceId);\r\n\r\n      expect(trace.startTime).toBeDefined();\r\n      expect(typeof trace.startTime).toBe('number');\r\n    });\r\n\r\n    it('should initialize trace with active status', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n      const trace = tracing.getTrace(traceId);\r\n\r\n      expect(trace.status).toBe('active');\r\n    });\r\n  });\r\n\r\n  describe('Span Management', () => {\r\n    it('should start a span within a trace', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n      const spanId = tracing.startSpan(traceId, 'database-query');\r\n\r\n      expect(spanId).toBeDefined();\r\n      expect(typeof spanId).toBe('string');\r\n    });\r\n\r\n    it('should associate span with trace', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n      const spanId = tracing.startSpan(traceId, 'api-call');\r\n\r\n      const trace = tracing.getTrace(traceId);\r\n      expect(trace.spans).toContain(spanId);\r\n    });\r\n\r\n    it('should support span tags', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n      const spanId = tracing.startSpan(traceId, 'http-request', {\r\n        'http.method': 'GET',\r\n        'http.url': '/api/users'\r\n      });\r\n\r\n      const trace = tracing.getTrace(traceId);\r\n      const span = trace.spans.find(s => s.spanId === spanId);\r\n      \r\n      expect(span.tags['http.method']).toBe('GET');\r\n      expect(span.tags['http.url']).toBe('/api/users');\r\n    });\r\n\r\n    it('should finish span and calculate duration', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n      const spanId = tracing.startSpan(traceId, 'test-span');\r\n\r\n      tracing.finishSpan(spanId);\r\n\r\n      const trace = tracing.getTrace(traceId);\r\n      const span = trace.spans.find(s => s.spanId === spanId);\r\n\r\n      expect(span.status).toBe('finished');\r\n      expect(span.duration).toBeDefined();\r\n      expect(span.duration).toBeGreaterThanOrEqual(0);\r\n    });\r\n\r\n    it('should add tags when finishing span', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n      const spanId = tracing.startSpan(traceId, 'test-span');\r\n\r\n      tracing.finishSpan(spanId, { 'result': 'success' });\r\n\r\n      const trace = tracing.getTrace(traceId);\r\n      const span = trace.spans.find(s => s.spanId === spanId);\r\n\r\n      expect(span.tags.result).toBe('success');\r\n    });\r\n  });\r\n\r\n  describe('Span Logging', () => {\r\n    it('should add logs to span', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n      const spanId = tracing.startSpan(traceId, 'test-span');\r\n\r\n      tracing.addLog(spanId, 'Processing request');\r\n\r\n      const trace = tracing.getTrace(traceId);\r\n      const span = trace.spans.find(s => s.spanId === spanId);\r\n\r\n      expect(span.logs).toHaveLength(1);\r\n      expect(span.logs[0].message).toBe('Processing request');\r\n    });\r\n\r\n    it('should support log levels', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n      const spanId = tracing.startSpan(traceId, 'test-span');\r\n\r\n      tracing.addLog(spanId, 'Error occurred', 'error');\r\n\r\n      const trace = tracing.getTrace(traceId);\r\n      const span = trace.spans.find(s => s.spanId === spanId);\r\n\r\n      expect(span.logs[0].level).toBe('error');\r\n    });\r\n\r\n    it('should default to info level', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n      const spanId = tracing.startSpan(traceId, 'test-span');\r\n\r\n      tracing.addLog(spanId, 'Info message');\r\n\r\n      const trace = tracing.getTrace(traceId);\r\n      const span = trace.spans.find(s => s.spanId === spanId);\r\n\r\n      expect(span.logs[0].level).toBe('info');\r\n    });\r\n\r\n    it('should include timestamp in logs', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n      const spanId = tracing.startSpan(traceId, 'test-span');\r\n\r\n      tracing.addLog(spanId, 'Test log');\r\n\r\n      const trace = tracing.getTrace(traceId);\r\n      const span = trace.spans.find(s => s.spanId === spanId);\r\n\r\n      expect(span.logs[0].timestamp).toBeDefined();\r\n    });\r\n  });\r\n\r\n  describe('Middleware Integration', () => {\r\n    it('should create middleware function', () => {\r\n      const middleware = tracing.middleware();\r\n\r\n      expect(typeof middleware).toBe('function');\r\n      expect(middleware.length).toBe(3); // req, res, next\r\n    });\r\n\r\n    it('should add trace ID to request', (done) => {\r\n      const middleware = tracing.middleware();\r\n      const req = { headers: {}, method: 'GET', path: '/test', url: '/test' };\r\n      const res = {\r\n        setHeader: jest.fn(),\r\n        on: jest.fn()\r\n      };\r\n      const next = () => {\r\n        expect(req.traceId).toBeDefined();\r\n        expect(req.spanId).toBeDefined();\r\n        done();\r\n      };\r\n\r\n      middleware(req, res, next);\r\n    });\r\n\r\n    it('should set trace ID header in response', (done) => {\r\n      const middleware = tracing.middleware();\r\n      const req = { headers: {}, method: 'GET', path: '/test', url: '/test' };\r\n      const res = {\r\n        setHeader: jest.fn(),\r\n        on: jest.fn()\r\n      };\r\n      const next = () => {\r\n        expect(res.setHeader).toHaveBeenCalledWith('x-trace-id', expect.any(String));\r\n        done();\r\n      };\r\n\r\n      middleware(req, res, next);\r\n    });\r\n\r\n    it('should use existing trace ID from header', (done) => {\r\n      const existingTraceId = 'existing-trace-123';\r\n      const middleware = tracing.middleware();\r\n      const req = {\r\n        headers: { 'x-trace-id': existingTraceId },\r\n        method: 'GET',\r\n        path: '/test',\r\n        url: '/test'\r\n      };\r\n      const res = {\r\n        setHeader: jest.fn(),\r\n        on: jest.fn()\r\n      };\r\n      const next = () => {\r\n        expect(req.traceId).toBe(existingTraceId);\r\n        done();\r\n      };\r\n\r\n      middleware(req, res, next);\r\n    });\r\n\r\n    it('should create span with HTTP metadata', (done) => {\r\n      const middleware = tracing.middleware();\r\n      const req = {\r\n        headers: { 'user-agent': 'test-agent' },\r\n        method: 'POST',\r\n        path: '/api/users',\r\n        url: '/api/users'\r\n      };\r\n      const res = {\r\n        setHeader: jest.fn(),\r\n        on: jest.fn()\r\n      };\r\n      const next = () => {\r\n        const trace = tracing.getTrace(req.traceId);\r\n        const span = trace.spans.find(s => s.spanId === req.spanId);\r\n        \r\n        expect(span.tags['http.method']).toBe('POST');\r\n        expect(span.tags['http.url']).toBe('/api/users');\r\n        done();\r\n      };\r\n\r\n      middleware(req, res, next);\r\n    });\r\n  });\r\n\r\n  describe('Trace Retrieval', () => {\r\n    it('should retrieve trace by ID', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n      const trace = tracing.getTrace(traceId);\r\n\r\n      expect(trace).toBeDefined();\r\n      expect(trace.traceId).toBe(traceId);\r\n    });\r\n\r\n    it('should return null for non-existent trace', () => {\r\n      const trace = tracing.getTrace('non-existent-id');\r\n\r\n      expect(trace).toBeNull();\r\n    });\r\n\r\n    it('should include all spans in trace', () => {\r\n      const traceId = tracing.startTrace('test-operation');\r\n      tracing.startSpan(traceId, 'span-1');\r\n      tracing.startSpan(traceId, 'span-2');\r\n\r\n      const trace = tracing.getTrace(traceId);\r\n\r\n      expect(trace.spans).toHaveLength(2);\r\n    });\r\n  });\r\n\r\n  describe('Multiple Traces', () => {\r\n    it('should handle multiple concurrent traces', () => {\r\n      const trace1 = tracing.startTrace('operation-1');\r\n      const trace2 = tracing.startTrace('operation-2');\r\n\r\n      expect(trace1).not.toBe(trace2);\r\n      expect(tracing.getTrace(trace1)).toBeDefined();\r\n      expect(tracing.getTrace(trace2)).toBeDefined();\r\n    });\r\n\r\n    it('should keep traces isolated', () => {\r\n      const trace1 = tracing.startTrace('operation-1');\r\n      const trace2 = tracing.startTrace('operation-2');\r\n\r\n      tracing.startSpan(trace1, 'span-1');\r\n      tracing.startSpan(trace2, 'span-2');\r\n\r\n      const t1 = tracing.getTrace(trace1);\r\n      const t2 = tracing.getTrace(trace2);\r\n\r\n      expect(t1.spans).toHaveLength(1);\r\n      expect(t2.spans).toHaveLength(1);\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}