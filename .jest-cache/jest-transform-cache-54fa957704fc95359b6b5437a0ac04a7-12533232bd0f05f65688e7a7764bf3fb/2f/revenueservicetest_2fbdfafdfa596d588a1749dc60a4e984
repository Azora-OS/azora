c61a15cc1bb51b6e2b47f83997d8e408
"use strict";

// Mock Prisma before importing the service
_getJestObj().mock('../../index', () => ({
  prisma: {
    conversionEvent: {
      create: jest.fn()
    },
    conversionOffer: {
      create: jest.fn(),
      update: jest.fn()
    },
    payment: {
      create: jest.fn(),
      aggregate: jest.fn()
    },
    user: {
      count: jest.fn()
    }
  }
}));
var _revenue = require("../revenue.service");
var _index = require("../../index");
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
describe('RevenueService', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });
  describe('getPricingTier', () => {
    it('should return pricing tier for free tier', async () => {
      const result = await _revenue.revenueService.getPricingTier('free');
      expect(result).not.toBeNull();
      expect(result?.name).toBe('free');
      expect(result?.monthlyPrice).toBe(0);
      expect(result?.studentDiscount).toBe(0);
    });
    it('should return pricing tier for premium tier', async () => {
      const result = await _revenue.revenueService.getPricingTier('premium');
      expect(result).not.toBeNull();
      expect(result?.name).toBe('premium');
      expect(result?.monthlyPrice).toBe(10);
      expect(result?.studentDiscount).toBe(50);
    });
    it('should return pricing tier for pro tier', async () => {
      const result = await _revenue.revenueService.getPricingTier('pro');
      expect(result).not.toBeNull();
      expect(result?.name).toBe('pro');
      expect(result?.monthlyPrice).toBe(30);
      expect(result?.studentDiscount).toBe(30);
    });
    it('should return null for invalid tier', async () => {
      const result = await _revenue.revenueService.getPricingTier('invalid');
      expect(result).toBeNull();
    });
    it('should return correct features for each tier', async () => {
      const freeResult = await _revenue.revenueService.getPricingTier('free');
      expect(freeResult?.features).toHaveLength(3);
      expect(freeResult?.limits.coursesPerMonth).toBe(3);
      expect(freeResult?.limits.aiQueriesPerMonth).toBe(10);
      expect(freeResult?.limits.storageGB).toBe(1);
      const premiumResult = await _revenue.revenueService.getPricingTier('premium');
      expect(premiumResult?.features).toHaveLength(4);
      expect(premiumResult?.limits.coursesPerMonth).toBe(999);
      expect(premiumResult?.limits.aiQueriesPerMonth).toBe(999);
      expect(premiumResult?.limits.storageGB).toBe(10);
      const proResult = await _revenue.revenueService.getPricingTier('pro');
      expect(proResult?.features).toHaveLength(5);
      expect(proResult?.limits.storageGB).toBe(100);
    });
  });
  describe('getAllPricingTiers', () => {
    it('should return all three pricing tiers', async () => {
      const result = await _revenue.revenueService.getAllPricingTiers();
      expect(result).toHaveLength(3);
      expect(result.map(t => t.name)).toContain('free');
      expect(result.map(t => t.name)).toContain('premium');
      expect(result.map(t => t.name)).toContain('pro');
    });
    it('should return tiers with correct pricing', async () => {
      const result = await _revenue.revenueService.getAllPricingTiers();
      const freeTier = result.find(t => t.name === 'free');
      const premiumTier = result.find(t => t.name === 'premium');
      const proTier = result.find(t => t.name === 'pro');
      expect(freeTier?.monthlyPrice).toBe(0);
      expect(premiumTier?.monthlyPrice).toBe(10);
      expect(proTier?.monthlyPrice).toBe(30);
    });
  });
  describe('calculatePrice', () => {
    it('should calculate price for free tier', async () => {
      const result = await _revenue.revenueService.calculatePrice('free', false);
      expect(result).toBe(0);
    });
    it('should calculate price for premium tier without student discount', async () => {
      const result = await _revenue.revenueService.calculatePrice('premium', false);
      expect(result).toBe(10);
    });
    it('should calculate price for premium tier with student discount', async () => {
      const result = await _revenue.revenueService.calculatePrice('premium', true);
      // 50% discount: 10 * (1 - 0.5) = 5
      expect(result).toBe(5);
    });
    it('should calculate price for pro tier without student discount', async () => {
      const result = await _revenue.revenueService.calculatePrice('pro', false);
      expect(result).toBe(30);
    });
    it('should calculate price for pro tier with student discount', async () => {
      const result = await _revenue.revenueService.calculatePrice('pro', true);
      // 30% discount: 30 * (1 - 0.3) = 21
      expect(result).toBe(21);
    });
    it('should throw error for invalid tier', async () => {
      await expect(_revenue.revenueService.calculatePrice('invalid', false)).rejects.toThrow('Pricing tier not found: invalid');
    });
    it('should not apply discount to free tier', async () => {
      const result = await _revenue.revenueService.calculatePrice('free', true);
      expect(result).toBe(0);
    });
  });
  describe('trackConversionEvent', () => {
    it('should track module completion event and create offer', async () => {
      const mockEvent = {
        id: 'event-1',
        studentId: 'student-1',
        eventType: 'module_completion',
        triggerValue: 40
      };
      const mockOffer = {
        id: 'offer-1',
        eventId: 'event-1',
        studentId: 'student-1',
        offerType: 'upgrade_discount',
        discount: 50,
        expiresAt: new Date(),
        accepted: false
      };
      _index.prisma.conversionEvent.create.mockResolvedValue(mockEvent);
      _index.prisma.conversionOffer.create.mockResolvedValue(mockOffer);
      const result = await _revenue.revenueService.trackConversionEvent('student-1', 'module_completion', 40);
      expect(result).not.toBeNull();
      expect(result?.offerType).toBe('upgrade_discount');
      expect(result?.discount).toBe(50);
      expect(_index.prisma.conversionEvent.create).toHaveBeenCalledWith({
        data: {
          studentId: 'student-1',
          eventType: 'module_completion',
          triggerValue: 40
        }
      });
    });
    it('should track assessment pass event and create offer', async () => {
      const mockEvent = {
        id: 'event-2',
        studentId: 'student-2',
        eventType: 'assessment_pass',
        triggerValue: 70
      };
      const mockOffer = {
        id: 'offer-2',
        eventId: 'event-2',
        studentId: 'student-2',
        offerType: 'upgrade_discount',
        discount: 50,
        expiresAt: new Date(),
        accepted: false
      };
      _index.prisma.conversionEvent.create.mockResolvedValue(mockEvent);
      _index.prisma.conversionOffer.create.mockResolvedValue(mockOffer);
      const result = await _revenue.revenueService.trackConversionEvent('student-2', 'assessment_pass', 70);
      expect(result).not.toBeNull();
      expect(result?.discount).toBe(50);
    });
    it('should track course completion event and create offer', async () => {
      const mockEvent = {
        id: 'event-3',
        studentId: 'student-3',
        eventType: 'course_completion',
        triggerValue: 100
      };
      const mockOffer = {
        id: 'offer-3',
        eventId: 'event-3',
        studentId: 'student-3',
        offerType: 'upgrade_discount',
        discount: 50,
        expiresAt: new Date(),
        accepted: false
      };
      _index.prisma.conversionEvent.create.mockResolvedValue(mockEvent);
      _index.prisma.conversionOffer.create.mockResolvedValue(mockOffer);
      const result = await _revenue.revenueService.trackConversionEvent('student-3', 'course_completion', 100);
      expect(result).not.toBeNull();
    });
    it('should not create offer if trigger value is below threshold', async () => {
      const mockEvent = {
        id: 'event-4',
        studentId: 'student-4',
        eventType: 'module_completion',
        triggerValue: 30
      };
      _index.prisma.conversionEvent.create.mockResolvedValue(mockEvent);
      const result = await _revenue.revenueService.trackConversionEvent('student-4', 'module_completion', 30);
      expect(result).toBeNull();
      expect(_index.prisma.conversionOffer.create).not.toHaveBeenCalled();
    });
    it('should handle conversion event creation error', async () => {
      _index.prisma.conversionEvent.create.mockRejectedValue(new Error('Database error'));
      await expect(_revenue.revenueService.trackConversionEvent('student-1', 'module_completion', 40)).rejects.toThrow('Database error');
    });
  });
  describe('acceptConversionOffer', () => {
    it('should accept a conversion offer', async () => {
      const mockOffer = {
        id: 'offer-1',
        eventId: 'event-1',
        studentId: 'student-1',
        offerType: 'upgrade_discount',
        discount: 50,
        expiresAt: new Date(),
        accepted: true,
        acceptedAt: new Date()
      };
      _index.prisma.conversionOffer.update.mockResolvedValue(mockOffer);
      const result = await _revenue.revenueService.acceptConversionOffer('offer-1');
      expect(result.accepted).toBe(true);
      expect(result.acceptedAt).not.toBeNull();
      expect(_index.prisma.conversionOffer.update).toHaveBeenCalledWith({
        where: {
          id: 'offer-1'
        },
        data: {
          accepted: true,
          acceptedAt: expect.any(Date)
        }
      });
    });
    it('should handle offer acceptance error', async () => {
      _index.prisma.conversionOffer.update.mockRejectedValue(new Error('Offer not found'));
      await expect(_revenue.revenueService.acceptConversionOffer('invalid-offer')).rejects.toThrow('Offer not found');
    });
  });
  describe('processPayment', () => {
    it('should process a payment successfully', async () => {
      const mockPayment = {
        id: 'payment-1',
        studentId: 'student-1',
        courseId: 'course-1',
        amount: 5,
        tier: 'premium',
        period: '2024-01',
        status: 'completed'
      };
      _index.prisma.payment.create.mockResolvedValue(mockPayment);
      const result = await _revenue.revenueService.processPayment('student-1', 'course-1', 'premium', 5);
      expect(result).not.toBeNull();
      expect(result.status).toBe('completed');
      expect(result.amount).toBe(5);
      expect(_index.prisma.payment.create).toHaveBeenCalled();
    });
    it('should set correct period in payment', async () => {
      const mockPayment = {
        id: 'payment-1',
        studentId: 'student-1',
        courseId: 'course-1',
        amount: 10,
        tier: 'premium',
        period: expect.stringMatching(/^\d{4}-\d{2}$/),
        status: 'completed'
      };
      _index.prisma.payment.create.mockResolvedValue(mockPayment);
      await _revenue.revenueService.processPayment('student-1', 'course-1', 'premium', 10);
      const callArgs = _index.prisma.payment.create.mock.calls[0][0];
      expect(callArgs.data.period).toMatch(/^\d{4}-\d{2}$/);
    });
    it('should handle payment processing error', async () => {
      _index.prisma.payment.create.mockRejectedValue(new Error('Payment failed'));
      await expect(_revenue.revenueService.processPayment('student-1', 'course-1', 'premium', 10)).rejects.toThrow('Payment failed');
    });
  });
  describe('getRevenueByPeriod', () => {
    it('should calculate total revenue for a period', async () => {
      _index.prisma.payment.aggregate.mockResolvedValue({
        _sum: {
          amount: 150
        }
      });
      const result = await _revenue.revenueService.getRevenueByPeriod('2024-01');
      expect(result).toBe(150);
      expect(_index.prisma.payment.aggregate).toHaveBeenCalledWith({
        where: {
          period: '2024-01',
          status: 'completed'
        },
        _sum: {
          amount: true
        }
      });
    });
    it('should return 0 if no payments in period', async () => {
      _index.prisma.payment.aggregate.mockResolvedValue({
        _sum: {
          amount: null
        }
      });
      const result = await _revenue.revenueService.getRevenueByPeriod('2024-01');
      expect(result).toBe(0);
    });
    it('should only count completed payments', async () => {
      _index.prisma.payment.aggregate.mockResolvedValue({
        _sum: {
          amount: 100
        }
      });
      await _revenue.revenueService.getRevenueByPeriod('2024-01');
      const callArgs = _index.prisma.payment.aggregate.mock.calls[0][0];
      expect(callArgs.where.status).toBe('completed');
    });
    it('should handle revenue calculation error', async () => {
      _index.prisma.payment.aggregate.mockRejectedValue(new Error('Database error'));
      await expect(_revenue.revenueService.getRevenueByPeriod('2024-01')).rejects.toThrow('Database error');
    });
  });
  describe('getConversionMetrics', () => {
    it('should calculate conversion metrics correctly', async () => {
      _index.prisma.user.count.mockResolvedValueOnce(100) // free users
      .mockResolvedValueOnce(30) // premium users
      .mockResolvedValueOnce(10); // pro users

      const result = await _revenue.revenueService.getConversionMetrics('2024-01');
      expect(result.freeUsers).toBe(100);
      expect(result.premiumUsers).toBe(30);
      expect(result.proUsers).toBe(10);
      expect(result.totalUsers).toBe(140);
      expect(result.conversionRate).toBe(28.57); // (30 + 10) / 140 * 100
    });
    it('should return 0 conversion rate if no users', async () => {
      _index.prisma.user.count.mockResolvedValueOnce(0).mockResolvedValueOnce(0).mockResolvedValueOnce(0);
      const result = await _revenue.revenueService.getConversionMetrics('2024-01');
      expect(result.conversionRate).toBe(0);
    });
    it('should calculate 100% conversion rate if all users are premium/pro', async () => {
      _index.prisma.user.count.mockResolvedValueOnce(0).mockResolvedValueOnce(50).mockResolvedValueOnce(50);
      const result = await _revenue.revenueService.getConversionMetrics('2024-01');
      expect(result.conversionRate).toBe(100);
    });
    it('should handle conversion metrics calculation error', async () => {
      _index.prisma.user.count.mockRejectedValue(new Error('Database error'));
      await expect(_revenue.revenueService.getConversionMetrics('2024-01')).rejects.toThrow('Database error');
    });
    it('should include period in response', async () => {
      _index.prisma.user.count.mockResolvedValueOnce(100).mockResolvedValueOnce(30).mockResolvedValueOnce(10);
      const result = await _revenue.revenueService.getConversionMetrics('2024-01');
      expect(result.period).toBe('2024-01');
    });
  });
  describe('Pricing tier limits', () => {
    it('should enforce free tier limits', async () => {
      const freeTier = await _revenue.revenueService.getPricingTier('free');
      expect(freeTier?.limits.coursesPerMonth).toBe(3);
      expect(freeTier?.limits.aiQueriesPerMonth).toBe(10);
      expect(freeTier?.limits.storageGB).toBe(1);
      expect(freeTier?.limits.supportLevel).toBe('community');
    });
    it('should enforce premium tier limits', async () => {
      const premiumTier = await _revenue.revenueService.getPricingTier('premium');
      expect(premiumTier?.limits.coursesPerMonth).toBe(999);
      expect(premiumTier?.limits.aiQueriesPerMonth).toBe(999);
      expect(premiumTier?.limits.storageGB).toBe(10);
      expect(premiumTier?.limits.supportLevel).toBe('priority');
    });
    it('should enforce pro tier limits', async () => {
      const proTier = await _revenue.revenueService.getPricingTier('pro');
      expect(proTier?.limits.coursesPerMonth).toBe(999);
      expect(proTier?.limits.aiQueriesPerMonth).toBe(999);
      expect(proTier?.limits.storageGB).toBe(100);
      expect(proTier?.limits.supportLevel).toBe('dedicated');
    });
  });
  describe('Student discount calculations', () => {
    it('should apply 50% discount for premium students', async () => {
      const price = await _revenue.revenueService.calculatePrice('premium', true);
      expect(price).toBe(5); // 50% of 10
    });
    it('should apply 30% discount for pro students', async () => {
      const price = await _revenue.revenueService.calculatePrice('pro', true);
      expect(price).toBe(21); // 70% of 30
    });
    it('should not apply discount to non-students', async () => {
      const premiumPrice = await _revenue.revenueService.calculatePrice('premium', false);
      const proPrice = await _revenue.revenueService.calculatePrice('pro', false);
      expect(premiumPrice).toBe(10);
      expect(proPrice).toBe(30);
    });
  });
  describe('Conversion offer triggers', () => {
    it('should trigger offer at 40% module completion', async () => {
      const mockEvent = {
        id: 'event-1',
        studentId: 'student-1',
        eventType: 'module_completion',
        triggerValue: 40
      };
      const mockOffer = {
        id: 'offer-1',
        eventId: 'event-1',
        studentId: 'student-1',
        offerType: 'upgrade_discount',
        discount: 50,
        expiresAt: new Date(),
        accepted: false
      };
      _index.prisma.conversionEvent.create.mockResolvedValue(mockEvent);
      _index.prisma.conversionOffer.create.mockResolvedValue(mockOffer);
      const result = await _revenue.revenueService.trackConversionEvent('student-1', 'module_completion', 40);
      expect(result).not.toBeNull();
    });
    it('should trigger offer at 70% assessment pass', async () => {
      const mockEvent = {
        id: 'event-2',
        studentId: 'student-2',
        eventType: 'assessment_pass',
        triggerValue: 70
      };
      const mockOffer = {
        id: 'offer-2',
        eventId: 'event-2',
        studentId: 'student-2',
        offerType: 'upgrade_discount',
        discount: 50,
        expiresAt: new Date(),
        accepted: false
      };
      _index.prisma.conversionEvent.create.mockResolvedValue(mockEvent);
      _index.prisma.conversionOffer.create.mockResolvedValue(mockOffer);
      const result = await _revenue.revenueService.trackConversionEvent('student-2', 'assessment_pass', 70);
      expect(result).not.toBeNull();
    });
    it('should trigger offer at 100% course completion', async () => {
      const mockEvent = {
        id: 'event-3',
        studentId: 'student-3',
        eventType: 'course_completion',
        triggerValue: 100
      };
      const mockOffer = {
        id: 'offer-3',
        eventId: 'event-3',
        studentId: 'student-3',
        offerType: 'upgrade_discount',
        discount: 50,
        expiresAt: new Date(),
        accepted: false
      };
      _index.prisma.conversionEvent.create.mockResolvedValue(mockEvent);
      _index.prisma.conversionOffer.create.mockResolvedValue(mockOffer);
      const result = await _revenue.revenueService.trackConversionEvent('student-3', 'course_completion', 100);
      expect(result).not.toBeNull();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJwcmlzbWEiLCJjb252ZXJzaW9uRXZlbnQiLCJjcmVhdGUiLCJqZXN0IiwiZm4iLCJjb252ZXJzaW9uT2ZmZXIiLCJ1cGRhdGUiLCJwYXltZW50IiwiYWdncmVnYXRlIiwidXNlciIsImNvdW50IiwiX3JldmVudWUiLCJyZXF1aXJlIiwiX2luZGV4IiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwicmVzdWx0IiwicmV2ZW51ZVNlcnZpY2UiLCJnZXRQcmljaW5nVGllciIsImV4cGVjdCIsIm5vdCIsInRvQmVOdWxsIiwibmFtZSIsInRvQmUiLCJtb250aGx5UHJpY2UiLCJzdHVkZW50RGlzY291bnQiLCJmcmVlUmVzdWx0IiwiZmVhdHVyZXMiLCJ0b0hhdmVMZW5ndGgiLCJsaW1pdHMiLCJjb3Vyc2VzUGVyTW9udGgiLCJhaVF1ZXJpZXNQZXJNb250aCIsInN0b3JhZ2VHQiIsInByZW1pdW1SZXN1bHQiLCJwcm9SZXN1bHQiLCJnZXRBbGxQcmljaW5nVGllcnMiLCJtYXAiLCJ0IiwidG9Db250YWluIiwiZnJlZVRpZXIiLCJmaW5kIiwicHJlbWl1bVRpZXIiLCJwcm9UaWVyIiwiY2FsY3VsYXRlUHJpY2UiLCJyZWplY3RzIiwidG9UaHJvdyIsIm1vY2tFdmVudCIsImlkIiwic3R1ZGVudElkIiwiZXZlbnRUeXBlIiwidHJpZ2dlclZhbHVlIiwibW9ja09mZmVyIiwiZXZlbnRJZCIsIm9mZmVyVHlwZSIsImRpc2NvdW50IiwiZXhwaXJlc0F0IiwiRGF0ZSIsImFjY2VwdGVkIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJ0cmFja0NvbnZlcnNpb25FdmVudCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiZGF0YSIsInRvSGF2ZUJlZW5DYWxsZWQiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwiYWNjZXB0ZWRBdCIsImFjY2VwdENvbnZlcnNpb25PZmZlciIsIndoZXJlIiwiYW55IiwibW9ja1BheW1lbnQiLCJjb3Vyc2VJZCIsImFtb3VudCIsInRpZXIiLCJwZXJpb2QiLCJzdGF0dXMiLCJwcm9jZXNzUGF5bWVudCIsInN0cmluZ01hdGNoaW5nIiwiY2FsbEFyZ3MiLCJjYWxscyIsInRvTWF0Y2giLCJfc3VtIiwiZ2V0UmV2ZW51ZUJ5UGVyaW9kIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwiZ2V0Q29udmVyc2lvbk1ldHJpY3MiLCJmcmVlVXNlcnMiLCJwcmVtaXVtVXNlcnMiLCJwcm9Vc2VycyIsInRvdGFsVXNlcnMiLCJjb252ZXJzaW9uUmF0ZSIsInN1cHBvcnRMZXZlbCIsInByaWNlIiwicHJlbWl1bVByaWNlIiwicHJvUHJpY2UiXSwic291cmNlcyI6WyJyZXZlbnVlLnNlcnZpY2UudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNb2NrIFByaXNtYSBiZWZvcmUgaW1wb3J0aW5nIHRoZSBzZXJ2aWNlXHJcbmplc3QubW9jaygnLi4vLi4vaW5kZXgnLCAoKSA9PiAoe1xyXG4gIHByaXNtYToge1xyXG4gICAgY29udmVyc2lvbkV2ZW50OiB7XHJcbiAgICAgIGNyZWF0ZTogamVzdC5mbigpLFxyXG4gICAgfSxcclxuICAgIGNvbnZlcnNpb25PZmZlcjoge1xyXG4gICAgICBjcmVhdGU6IGplc3QuZm4oKSxcclxuICAgICAgdXBkYXRlOiBqZXN0LmZuKCksXHJcbiAgICB9LFxyXG4gICAgcGF5bWVudDoge1xyXG4gICAgICBjcmVhdGU6IGplc3QuZm4oKSxcclxuICAgICAgYWdncmVnYXRlOiBqZXN0LmZuKCksXHJcbiAgICB9LFxyXG4gICAgdXNlcjoge1xyXG4gICAgICBjb3VudDogamVzdC5mbigpLFxyXG4gICAgfSxcclxuICB9LFxyXG59KSk7XHJcblxyXG5pbXBvcnQgeyByZXZlbnVlU2VydmljZSB9IGZyb20gJy4uL3JldmVudWUuc2VydmljZSc7XHJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJy4uLy4uL2luZGV4JztcclxuXHJcbmRlc2NyaWJlKCdSZXZlbnVlU2VydmljZScsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2V0UHJpY2luZ1RpZXInLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBwcmljaW5nIHRpZXIgZm9yIGZyZWUgdGllcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuZ2V0UHJpY2luZ1RpZXIoJ2ZyZWUnKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0JlTnVsbCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0Py5uYW1lKS50b0JlKCdmcmVlJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQ/Lm1vbnRobHlQcmljZSkudG9CZSgwKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdD8uc3R1ZGVudERpc2NvdW50KS50b0JlKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcHJpY2luZyB0aWVyIGZvciBwcmVtaXVtIHRpZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLmdldFByaWNpbmdUaWVyKCdwcmVtaXVtJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9CZU51bGwoKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdD8ubmFtZSkudG9CZSgncHJlbWl1bScpO1xyXG4gICAgICBleHBlY3QocmVzdWx0Py5tb250aGx5UHJpY2UpLnRvQmUoMTApO1xyXG4gICAgICBleHBlY3QocmVzdWx0Py5zdHVkZW50RGlzY291bnQpLnRvQmUoNTApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcHJpY2luZyB0aWVyIGZvciBwcm8gdGllcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuZ2V0UHJpY2luZ1RpZXIoJ3BybycpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQmVOdWxsKCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQ/Lm5hbWUpLnRvQmUoJ3BybycpO1xyXG4gICAgICBleHBlY3QocmVzdWx0Py5tb250aGx5UHJpY2UpLnRvQmUoMzApO1xyXG4gICAgICBleHBlY3QocmVzdWx0Py5zdHVkZW50RGlzY291bnQpLnRvQmUoMzApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCBmb3IgaW52YWxpZCB0aWVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXZlbnVlU2VydmljZS5nZXRQcmljaW5nVGllcignaW52YWxpZCcpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZU51bGwoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGNvcnJlY3QgZmVhdHVyZXMgZm9yIGVhY2ggdGllcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZnJlZVJlc3VsdCA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLmdldFByaWNpbmdUaWVyKCdmcmVlJyk7XHJcbiAgICAgIGV4cGVjdChmcmVlUmVzdWx0Py5mZWF0dXJlcykudG9IYXZlTGVuZ3RoKDMpO1xyXG4gICAgICBleHBlY3QoZnJlZVJlc3VsdD8ubGltaXRzLmNvdXJzZXNQZXJNb250aCkudG9CZSgzKTtcclxuICAgICAgZXhwZWN0KGZyZWVSZXN1bHQ/LmxpbWl0cy5haVF1ZXJpZXNQZXJNb250aCkudG9CZSgxMCk7XHJcbiAgICAgIGV4cGVjdChmcmVlUmVzdWx0Py5saW1pdHMuc3RvcmFnZUdCKS50b0JlKDEpO1xyXG5cclxuICAgICAgY29uc3QgcHJlbWl1bVJlc3VsdCA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLmdldFByaWNpbmdUaWVyKCdwcmVtaXVtJyk7XHJcbiAgICAgIGV4cGVjdChwcmVtaXVtUmVzdWx0Py5mZWF0dXJlcykudG9IYXZlTGVuZ3RoKDQpO1xyXG4gICAgICBleHBlY3QocHJlbWl1bVJlc3VsdD8ubGltaXRzLmNvdXJzZXNQZXJNb250aCkudG9CZSg5OTkpO1xyXG4gICAgICBleHBlY3QocHJlbWl1bVJlc3VsdD8ubGltaXRzLmFpUXVlcmllc1Blck1vbnRoKS50b0JlKDk5OSk7XHJcbiAgICAgIGV4cGVjdChwcmVtaXVtUmVzdWx0Py5saW1pdHMuc3RvcmFnZUdCKS50b0JlKDEwKTtcclxuXHJcbiAgICAgIGNvbnN0IHByb1Jlc3VsdCA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLmdldFByaWNpbmdUaWVyKCdwcm8nKTtcclxuICAgICAgZXhwZWN0KHByb1Jlc3VsdD8uZmVhdHVyZXMpLnRvSGF2ZUxlbmd0aCg1KTtcclxuICAgICAgZXhwZWN0KHByb1Jlc3VsdD8ubGltaXRzLnN0b3JhZ2VHQikudG9CZSgxMDApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdnZXRBbGxQcmljaW5nVGllcnMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBhbGwgdGhyZWUgcHJpY2luZyB0aWVycycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuZ2V0QWxsUHJpY2luZ1RpZXJzKCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoMyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQubWFwKHQgPT4gdC5uYW1lKSkudG9Db250YWluKCdmcmVlJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQubWFwKHQgPT4gdC5uYW1lKSkudG9Db250YWluKCdwcmVtaXVtJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQubWFwKHQgPT4gdC5uYW1lKSkudG9Db250YWluKCdwcm8nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHRpZXJzIHdpdGggY29ycmVjdCBwcmljaW5nJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXZlbnVlU2VydmljZS5nZXRBbGxQcmljaW5nVGllcnMoKTtcclxuXHJcbiAgICAgIGNvbnN0IGZyZWVUaWVyID0gcmVzdWx0LmZpbmQodCA9PiB0Lm5hbWUgPT09ICdmcmVlJyk7XHJcbiAgICAgIGNvbnN0IHByZW1pdW1UaWVyID0gcmVzdWx0LmZpbmQodCA9PiB0Lm5hbWUgPT09ICdwcmVtaXVtJyk7XHJcbiAgICAgIGNvbnN0IHByb1RpZXIgPSByZXN1bHQuZmluZCh0ID0+IHQubmFtZSA9PT0gJ3BybycpO1xyXG5cclxuICAgICAgZXhwZWN0KGZyZWVUaWVyPy5tb250aGx5UHJpY2UpLnRvQmUoMCk7XHJcbiAgICAgIGV4cGVjdChwcmVtaXVtVGllcj8ubW9udGhseVByaWNlKS50b0JlKDEwKTtcclxuICAgICAgZXhwZWN0KHByb1RpZXI/Lm1vbnRobHlQcmljZSkudG9CZSgzMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2NhbGN1bGF0ZVByaWNlJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgcHJpY2UgZm9yIGZyZWUgdGllcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuY2FsY3VsYXRlUHJpY2UoJ2ZyZWUnLCBmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBwcmljZSBmb3IgcHJlbWl1bSB0aWVyIHdpdGhvdXQgc3R1ZGVudCBkaXNjb3VudCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuY2FsY3VsYXRlUHJpY2UoJ3ByZW1pdW0nLCBmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoMTApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgcHJpY2UgZm9yIHByZW1pdW0gdGllciB3aXRoIHN0dWRlbnQgZGlzY291bnQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLmNhbGN1bGF0ZVByaWNlKCdwcmVtaXVtJywgdHJ1ZSk7XHJcbiAgICAgIC8vIDUwJSBkaXNjb3VudDogMTAgKiAoMSAtIDAuNSkgPSA1XHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoNSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBwcmljZSBmb3IgcHJvIHRpZXIgd2l0aG91dCBzdHVkZW50IGRpc2NvdW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXZlbnVlU2VydmljZS5jYWxjdWxhdGVQcmljZSgncHJvJywgZmFsc2UpO1xyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKDMwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIHByaWNlIGZvciBwcm8gdGllciB3aXRoIHN0dWRlbnQgZGlzY291bnQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLmNhbGN1bGF0ZVByaWNlKCdwcm8nLCB0cnVlKTtcclxuICAgICAgLy8gMzAlIGRpc2NvdW50OiAzMCAqICgxIC0gMC4zKSA9IDIxXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoMjEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBlcnJvciBmb3IgaW52YWxpZCB0aWVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCBleHBlY3QocmV2ZW51ZVNlcnZpY2UuY2FsY3VsYXRlUHJpY2UoJ2ludmFsaWQnLCBmYWxzZSkpLnJlamVjdHMudG9UaHJvdyhcclxuICAgICAgICAnUHJpY2luZyB0aWVyIG5vdCBmb3VuZDogaW52YWxpZCdcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgbm90IGFwcGx5IGRpc2NvdW50IHRvIGZyZWUgdGllcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuY2FsY3VsYXRlUHJpY2UoJ2ZyZWUnLCB0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgndHJhY2tDb252ZXJzaW9uRXZlbnQnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHRyYWNrIG1vZHVsZSBjb21wbGV0aW9uIGV2ZW50IGFuZCBjcmVhdGUgb2ZmZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tFdmVudCA9IHtcclxuICAgICAgICBpZDogJ2V2ZW50LTEnLFxyXG4gICAgICAgIHN0dWRlbnRJZDogJ3N0dWRlbnQtMScsXHJcbiAgICAgICAgZXZlbnRUeXBlOiAnbW9kdWxlX2NvbXBsZXRpb24nLFxyXG4gICAgICAgIHRyaWdnZXJWYWx1ZTogNDAsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBtb2NrT2ZmZXIgPSB7XHJcbiAgICAgICAgaWQ6ICdvZmZlci0xJyxcclxuICAgICAgICBldmVudElkOiAnZXZlbnQtMScsXHJcbiAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC0xJyxcclxuICAgICAgICBvZmZlclR5cGU6ICd1cGdyYWRlX2Rpc2NvdW50JyxcclxuICAgICAgICBkaXNjb3VudDogNTAsXHJcbiAgICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGFjY2VwdGVkOiBmYWxzZSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIChwcmlzbWEuY29udmVyc2lvbkV2ZW50LmNyZWF0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tFdmVudCk7XHJcbiAgICAgIChwcmlzbWEuY29udmVyc2lvbk9mZmVyLmNyZWF0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tPZmZlcik7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXZlbnVlU2VydmljZS50cmFja0NvbnZlcnNpb25FdmVudCgnc3R1ZGVudC0xJywgJ21vZHVsZV9jb21wbGV0aW9uJywgNDApO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQmVOdWxsKCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQ/Lm9mZmVyVHlwZSkudG9CZSgndXBncmFkZV9kaXNjb3VudCcpO1xyXG4gICAgICBleHBlY3QocmVzdWx0Py5kaXNjb3VudCkudG9CZSg1MCk7XHJcbiAgICAgIGV4cGVjdChwcmlzbWEuY29udmVyc2lvbkV2ZW50LmNyZWF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHN0dWRlbnRJZDogJ3N0dWRlbnQtMScsXHJcbiAgICAgICAgICBldmVudFR5cGU6ICdtb2R1bGVfY29tcGxldGlvbicsXHJcbiAgICAgICAgICB0cmlnZ2VyVmFsdWU6IDQwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBhc3Nlc3NtZW50IHBhc3MgZXZlbnQgYW5kIGNyZWF0ZSBvZmZlcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja0V2ZW50ID0ge1xyXG4gICAgICAgIGlkOiAnZXZlbnQtMicsXHJcbiAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC0yJyxcclxuICAgICAgICBldmVudFR5cGU6ICdhc3Nlc3NtZW50X3Bhc3MnLFxyXG4gICAgICAgIHRyaWdnZXJWYWx1ZTogNzAsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBtb2NrT2ZmZXIgPSB7XHJcbiAgICAgICAgaWQ6ICdvZmZlci0yJyxcclxuICAgICAgICBldmVudElkOiAnZXZlbnQtMicsXHJcbiAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC0yJyxcclxuICAgICAgICBvZmZlclR5cGU6ICd1cGdyYWRlX2Rpc2NvdW50JyxcclxuICAgICAgICBkaXNjb3VudDogNTAsXHJcbiAgICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGFjY2VwdGVkOiBmYWxzZSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIChwcmlzbWEuY29udmVyc2lvbkV2ZW50LmNyZWF0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tFdmVudCk7XHJcbiAgICAgIChwcmlzbWEuY29udmVyc2lvbk9mZmVyLmNyZWF0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tPZmZlcik7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXZlbnVlU2VydmljZS50cmFja0NvbnZlcnNpb25FdmVudCgnc3R1ZGVudC0yJywgJ2Fzc2Vzc21lbnRfcGFzcycsIDcwKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0JlTnVsbCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0Py5kaXNjb3VudCkudG9CZSg1MCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRyYWNrIGNvdXJzZSBjb21wbGV0aW9uIGV2ZW50IGFuZCBjcmVhdGUgb2ZmZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tFdmVudCA9IHtcclxuICAgICAgICBpZDogJ2V2ZW50LTMnLFxyXG4gICAgICAgIHN0dWRlbnRJZDogJ3N0dWRlbnQtMycsXHJcbiAgICAgICAgZXZlbnRUeXBlOiAnY291cnNlX2NvbXBsZXRpb24nLFxyXG4gICAgICAgIHRyaWdnZXJWYWx1ZTogMTAwLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgbW9ja09mZmVyID0ge1xyXG4gICAgICAgIGlkOiAnb2ZmZXItMycsXHJcbiAgICAgICAgZXZlbnRJZDogJ2V2ZW50LTMnLFxyXG4gICAgICAgIHN0dWRlbnRJZDogJ3N0dWRlbnQtMycsXHJcbiAgICAgICAgb2ZmZXJUeXBlOiAndXBncmFkZV9kaXNjb3VudCcsXHJcbiAgICAgICAgZGlzY291bnQ6IDUwLFxyXG4gICAgICAgIGV4cGlyZXNBdDogbmV3IERhdGUoKSxcclxuICAgICAgICBhY2NlcHRlZDogZmFsc2UsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAocHJpc21hLmNvbnZlcnNpb25FdmVudC5jcmVhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrRXZlbnQpO1xyXG4gICAgICAocHJpc21hLmNvbnZlcnNpb25PZmZlci5jcmVhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrT2ZmZXIpO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UudHJhY2tDb252ZXJzaW9uRXZlbnQoJ3N0dWRlbnQtMycsICdjb3Vyc2VfY29tcGxldGlvbicsIDEwMCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9CZU51bGwoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgbm90IGNyZWF0ZSBvZmZlciBpZiB0cmlnZ2VyIHZhbHVlIGlzIGJlbG93IHRocmVzaG9sZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja0V2ZW50ID0ge1xyXG4gICAgICAgIGlkOiAnZXZlbnQtNCcsXHJcbiAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC00JyxcclxuICAgICAgICBldmVudFR5cGU6ICdtb2R1bGVfY29tcGxldGlvbicsXHJcbiAgICAgICAgdHJpZ2dlclZhbHVlOiAzMCxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIChwcmlzbWEuY29udmVyc2lvbkV2ZW50LmNyZWF0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tFdmVudCk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXZlbnVlU2VydmljZS50cmFja0NvbnZlcnNpb25FdmVudCgnc3R1ZGVudC00JywgJ21vZHVsZV9jb21wbGV0aW9uJywgMzApO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZU51bGwoKTtcclxuICAgICAgZXhwZWN0KHByaXNtYS5jb252ZXJzaW9uT2ZmZXIuY3JlYXRlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29udmVyc2lvbiBldmVudCBjcmVhdGlvbiBlcnJvcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgKHByaXNtYS5jb252ZXJzaW9uRXZlbnQuY3JlYXRlIGFzIGplc3QuTW9jaykubW9ja1JlamVjdGVkVmFsdWUoXHJcbiAgICAgICAgbmV3IEVycm9yKCdEYXRhYmFzZSBlcnJvcicpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBhd2FpdCBleHBlY3QoXHJcbiAgICAgICAgcmV2ZW51ZVNlcnZpY2UudHJhY2tDb252ZXJzaW9uRXZlbnQoJ3N0dWRlbnQtMScsICdtb2R1bGVfY29tcGxldGlvbicsIDQwKVxyXG4gICAgICApLnJlamVjdHMudG9UaHJvdygnRGF0YWJhc2UgZXJyb3InKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnYWNjZXB0Q29udmVyc2lvbk9mZmVyJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBhY2NlcHQgYSBjb252ZXJzaW9uIG9mZmVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2NrT2ZmZXIgPSB7XHJcbiAgICAgICAgaWQ6ICdvZmZlci0xJyxcclxuICAgICAgICBldmVudElkOiAnZXZlbnQtMScsXHJcbiAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC0xJyxcclxuICAgICAgICBvZmZlclR5cGU6ICd1cGdyYWRlX2Rpc2NvdW50JyxcclxuICAgICAgICBkaXNjb3VudDogNTAsXHJcbiAgICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGFjY2VwdGVkOiB0cnVlLFxyXG4gICAgICAgIGFjY2VwdGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAocHJpc21hLmNvbnZlcnNpb25PZmZlci51cGRhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrT2ZmZXIpO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuYWNjZXB0Q29udmVyc2lvbk9mZmVyKCdvZmZlci0xJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmFjY2VwdGVkKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmFjY2VwdGVkQXQpLm5vdC50b0JlTnVsbCgpO1xyXG4gICAgICBleHBlY3QocHJpc21hLmNvbnZlcnNpb25PZmZlci51cGRhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogJ29mZmVyLTEnIH0sXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgYWNjZXB0ZWQ6IHRydWUsXHJcbiAgICAgICAgICBhY2NlcHRlZEF0OiBleHBlY3QuYW55KERhdGUpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgb2ZmZXIgYWNjZXB0YW5jZSBlcnJvcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgKHByaXNtYS5jb252ZXJzaW9uT2ZmZXIudXBkYXRlIGFzIGplc3QuTW9jaykubW9ja1JlamVjdGVkVmFsdWUoXHJcbiAgICAgICAgbmV3IEVycm9yKCdPZmZlciBub3QgZm91bmQnKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgYXdhaXQgZXhwZWN0KHJldmVudWVTZXJ2aWNlLmFjY2VwdENvbnZlcnNpb25PZmZlcignaW52YWxpZC1vZmZlcicpKS5yZWplY3RzLnRvVGhyb3coXHJcbiAgICAgICAgJ09mZmVyIG5vdCBmb3VuZCdcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgncHJvY2Vzc1BheW1lbnQnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHByb2Nlc3MgYSBwYXltZW50IHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja1BheW1lbnQgPSB7XHJcbiAgICAgICAgaWQ6ICdwYXltZW50LTEnLFxyXG4gICAgICAgIHN0dWRlbnRJZDogJ3N0dWRlbnQtMScsXHJcbiAgICAgICAgY291cnNlSWQ6ICdjb3Vyc2UtMScsXHJcbiAgICAgICAgYW1vdW50OiA1LFxyXG4gICAgICAgIHRpZXI6ICdwcmVtaXVtJyxcclxuICAgICAgICBwZXJpb2Q6ICcyMDI0LTAxJyxcclxuICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgKHByaXNtYS5wYXltZW50LmNyZWF0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQYXltZW50KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLnByb2Nlc3NQYXltZW50KCdzdHVkZW50LTEnLCAnY291cnNlLTEnLCAncHJlbWl1bScsIDUpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQmVOdWxsKCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKCdjb21wbGV0ZWQnKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5hbW91bnQpLnRvQmUoNSk7XHJcbiAgICAgIGV4cGVjdChwcmlzbWEucGF5bWVudC5jcmVhdGUpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgc2V0IGNvcnJlY3QgcGVyaW9kIGluIHBheW1lbnQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tQYXltZW50ID0ge1xyXG4gICAgICAgIGlkOiAncGF5bWVudC0xJyxcclxuICAgICAgICBzdHVkZW50SWQ6ICdzdHVkZW50LTEnLFxyXG4gICAgICAgIGNvdXJzZUlkOiAnY291cnNlLTEnLFxyXG4gICAgICAgIGFtb3VudDogMTAsXHJcbiAgICAgICAgdGllcjogJ3ByZW1pdW0nLFxyXG4gICAgICAgIHBlcmlvZDogZXhwZWN0LnN0cmluZ01hdGNoaW5nKC9eXFxkezR9LVxcZHsyfSQvKSxcclxuICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgKHByaXNtYS5wYXltZW50LmNyZWF0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQYXltZW50KTtcclxuXHJcbiAgICAgIGF3YWl0IHJldmVudWVTZXJ2aWNlLnByb2Nlc3NQYXltZW50KCdzdHVkZW50LTEnLCAnY291cnNlLTEnLCAncHJlbWl1bScsIDEwKTtcclxuXHJcbiAgICAgIGNvbnN0IGNhbGxBcmdzID0gKHByaXNtYS5wYXltZW50LmNyZWF0ZSBhcyBqZXN0Lk1vY2spLm1vY2suY2FsbHNbMF1bMF07XHJcbiAgICAgIGV4cGVjdChjYWxsQXJncy5kYXRhLnBlcmlvZCkudG9NYXRjaCgvXlxcZHs0fS1cXGR7Mn0kLyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwYXltZW50IHByb2Nlc3NpbmcgZXJyb3InLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChwcmlzbWEucGF5bWVudC5jcmVhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmVqZWN0ZWRWYWx1ZShcclxuICAgICAgICBuZXcgRXJyb3IoJ1BheW1lbnQgZmFpbGVkJylcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGF3YWl0IGV4cGVjdChcclxuICAgICAgICByZXZlbnVlU2VydmljZS5wcm9jZXNzUGF5bWVudCgnc3R1ZGVudC0xJywgJ2NvdXJzZS0xJywgJ3ByZW1pdW0nLCAxMClcclxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coJ1BheW1lbnQgZmFpbGVkJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dldFJldmVudWVCeVBlcmlvZCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIHRvdGFsIHJldmVudWUgZm9yIGEgcGVyaW9kJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAocHJpc21hLnBheW1lbnQuYWdncmVnYXRlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgICAgIF9zdW06IHsgYW1vdW50OiAxNTAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXZlbnVlU2VydmljZS5nZXRSZXZlbnVlQnlQZXJpb2QoJzIwMjQtMDEnKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoMTUwKTtcclxuICAgICAgZXhwZWN0KHByaXNtYS5wYXltZW50LmFnZ3JlZ2F0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICAgIHdoZXJlOiB7IHBlcmlvZDogJzIwMjQtMDEnLCBzdGF0dXM6ICdjb21wbGV0ZWQnIH0sXHJcbiAgICAgICAgX3N1bTogeyBhbW91bnQ6IHRydWUgfSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiAwIGlmIG5vIHBheW1lbnRzIGluIHBlcmlvZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgKHByaXNtYS5wYXltZW50LmFnZ3JlZ2F0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBfc3VtOiB7IGFtb3VudDogbnVsbCB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLmdldFJldmVudWVCeVBlcmlvZCgnMjAyNC0wMScpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgb25seSBjb3VudCBjb21wbGV0ZWQgcGF5bWVudHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChwcmlzbWEucGF5bWVudC5hZ2dyZWdhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgX3N1bTogeyBhbW91bnQ6IDEwMCB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGF3YWl0IHJldmVudWVTZXJ2aWNlLmdldFJldmVudWVCeVBlcmlvZCgnMjAyNC0wMScpO1xyXG5cclxuICAgICAgY29uc3QgY2FsbEFyZ3MgPSAocHJpc21hLnBheW1lbnQuYWdncmVnYXRlIGFzIGplc3QuTW9jaykubW9jay5jYWxsc1swXVswXTtcclxuICAgICAgZXhwZWN0KGNhbGxBcmdzLndoZXJlLnN0YXR1cykudG9CZSgnY29tcGxldGVkJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSByZXZlbnVlIGNhbGN1bGF0aW9uIGVycm9yJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAocHJpc21hLnBheW1lbnQuYWdncmVnYXRlIGFzIGplc3QuTW9jaykubW9ja1JlamVjdGVkVmFsdWUoXHJcbiAgICAgICAgbmV3IEVycm9yKCdEYXRhYmFzZSBlcnJvcicpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBhd2FpdCBleHBlY3QocmV2ZW51ZVNlcnZpY2UuZ2V0UmV2ZW51ZUJ5UGVyaW9kKCcyMDI0LTAxJykpLnJlamVjdHMudG9UaHJvdyhcclxuICAgICAgICAnRGF0YWJhc2UgZXJyb3InXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dldENvbnZlcnNpb25NZXRyaWNzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgY29udmVyc2lvbiBtZXRyaWNzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgKHByaXNtYS51c2VyLmNvdW50IGFzIGplc3QuTW9jaylcclxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKDEwMCkgLy8gZnJlZSB1c2Vyc1xyXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoMzApIC8vIHByZW1pdW0gdXNlcnNcclxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKDEwKTsgLy8gcHJvIHVzZXJzXHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXZlbnVlU2VydmljZS5nZXRDb252ZXJzaW9uTWV0cmljcygnMjAyNC0wMScpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5mcmVlVXNlcnMpLnRvQmUoMTAwKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5wcmVtaXVtVXNlcnMpLnRvQmUoMzApO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnByb1VzZXJzKS50b0JlKDEwKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC50b3RhbFVzZXJzKS50b0JlKDE0MCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY29udmVyc2lvblJhdGUpLnRvQmUoMjguNTcpOyAvLyAoMzAgKyAxMCkgLyAxNDAgKiAxMDBcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDAgY29udmVyc2lvbiByYXRlIGlmIG5vIHVzZXJzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAocHJpc21hLnVzZXIuY291bnQgYXMgamVzdC5Nb2NrKVxyXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoMClcclxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKDApXHJcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSgwKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLmdldENvbnZlcnNpb25NZXRyaWNzKCcyMDI0LTAxJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmNvbnZlcnNpb25SYXRlKS50b0JlKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgMTAwJSBjb252ZXJzaW9uIHJhdGUgaWYgYWxsIHVzZXJzIGFyZSBwcmVtaXVtL3BybycsIGFzeW5jICgpID0+IHtcclxuICAgICAgKHByaXNtYS51c2VyLmNvdW50IGFzIGplc3QuTW9jaylcclxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKDApXHJcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSg1MClcclxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKDUwKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLmdldENvbnZlcnNpb25NZXRyaWNzKCcyMDI0LTAxJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmNvbnZlcnNpb25SYXRlKS50b0JlKDEwMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb252ZXJzaW9uIG1ldHJpY3MgY2FsY3VsYXRpb24gZXJyb3InLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChwcmlzbWEudXNlci5jb3VudCBhcyBqZXN0Lk1vY2spLm1vY2tSZWplY3RlZFZhbHVlKFxyXG4gICAgICAgIG5ldyBFcnJvcignRGF0YWJhc2UgZXJyb3InKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgYXdhaXQgZXhwZWN0KHJldmVudWVTZXJ2aWNlLmdldENvbnZlcnNpb25NZXRyaWNzKCcyMDI0LTAxJykpLnJlamVjdHMudG9UaHJvdyhcclxuICAgICAgICAnRGF0YWJhc2UgZXJyb3InXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgcGVyaW9kIGluIHJlc3BvbnNlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAocHJpc21hLnVzZXIuY291bnQgYXMgamVzdC5Nb2NrKVxyXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoMTAwKVxyXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoMzApXHJcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSgxMCk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXZlbnVlU2VydmljZS5nZXRDb252ZXJzaW9uTWV0cmljcygnMjAyNC0wMScpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5wZXJpb2QpLnRvQmUoJzIwMjQtMDEnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUHJpY2luZyB0aWVyIGxpbWl0cycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZW5mb3JjZSBmcmVlIHRpZXIgbGltaXRzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBmcmVlVGllciA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLmdldFByaWNpbmdUaWVyKCdmcmVlJyk7XHJcblxyXG4gICAgICBleHBlY3QoZnJlZVRpZXI/LmxpbWl0cy5jb3Vyc2VzUGVyTW9udGgpLnRvQmUoMyk7XHJcbiAgICAgIGV4cGVjdChmcmVlVGllcj8ubGltaXRzLmFpUXVlcmllc1Blck1vbnRoKS50b0JlKDEwKTtcclxuICAgICAgZXhwZWN0KGZyZWVUaWVyPy5saW1pdHMuc3RvcmFnZUdCKS50b0JlKDEpO1xyXG4gICAgICBleHBlY3QoZnJlZVRpZXI/LmxpbWl0cy5zdXBwb3J0TGV2ZWwpLnRvQmUoJ2NvbW11bml0eScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBlbmZvcmNlIHByZW1pdW0gdGllciBsaW1pdHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByZW1pdW1UaWVyID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuZ2V0UHJpY2luZ1RpZXIoJ3ByZW1pdW0nKTtcclxuXHJcbiAgICAgIGV4cGVjdChwcmVtaXVtVGllcj8ubGltaXRzLmNvdXJzZXNQZXJNb250aCkudG9CZSg5OTkpO1xyXG4gICAgICBleHBlY3QocHJlbWl1bVRpZXI/LmxpbWl0cy5haVF1ZXJpZXNQZXJNb250aCkudG9CZSg5OTkpO1xyXG4gICAgICBleHBlY3QocHJlbWl1bVRpZXI/LmxpbWl0cy5zdG9yYWdlR0IpLnRvQmUoMTApO1xyXG4gICAgICBleHBlY3QocHJlbWl1bVRpZXI/LmxpbWl0cy5zdXBwb3J0TGV2ZWwpLnRvQmUoJ3ByaW9yaXR5Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGVuZm9yY2UgcHJvIHRpZXIgbGltaXRzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcm9UaWVyID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuZ2V0UHJpY2luZ1RpZXIoJ3BybycpO1xyXG5cclxuICAgICAgZXhwZWN0KHByb1RpZXI/LmxpbWl0cy5jb3Vyc2VzUGVyTW9udGgpLnRvQmUoOTk5KTtcclxuICAgICAgZXhwZWN0KHByb1RpZXI/LmxpbWl0cy5haVF1ZXJpZXNQZXJNb250aCkudG9CZSg5OTkpO1xyXG4gICAgICBleHBlY3QocHJvVGllcj8ubGltaXRzLnN0b3JhZ2VHQikudG9CZSgxMDApO1xyXG4gICAgICBleHBlY3QocHJvVGllcj8ubGltaXRzLnN1cHBvcnRMZXZlbCkudG9CZSgnZGVkaWNhdGVkJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1N0dWRlbnQgZGlzY291bnQgY2FsY3VsYXRpb25zJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBhcHBseSA1MCUgZGlzY291bnQgZm9yIHByZW1pdW0gc3R1ZGVudHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByaWNlID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuY2FsY3VsYXRlUHJpY2UoJ3ByZW1pdW0nLCB0cnVlKTtcclxuICAgICAgZXhwZWN0KHByaWNlKS50b0JlKDUpOyAvLyA1MCUgb2YgMTBcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgYXBwbHkgMzAlIGRpc2NvdW50IGZvciBwcm8gc3R1ZGVudHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByaWNlID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuY2FsY3VsYXRlUHJpY2UoJ3BybycsIHRydWUpO1xyXG4gICAgICBleHBlY3QocHJpY2UpLnRvQmUoMjEpOyAvLyA3MCUgb2YgMzBcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgbm90IGFwcGx5IGRpc2NvdW50IHRvIG5vbi1zdHVkZW50cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJlbWl1bVByaWNlID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuY2FsY3VsYXRlUHJpY2UoJ3ByZW1pdW0nLCBmYWxzZSk7XHJcbiAgICAgIGNvbnN0IHByb1ByaWNlID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuY2FsY3VsYXRlUHJpY2UoJ3BybycsIGZhbHNlKTtcclxuXHJcbiAgICAgIGV4cGVjdChwcmVtaXVtUHJpY2UpLnRvQmUoMTApO1xyXG4gICAgICBleHBlY3QocHJvUHJpY2UpLnRvQmUoMzApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdDb252ZXJzaW9uIG9mZmVyIHRyaWdnZXJzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB0cmlnZ2VyIG9mZmVyIGF0IDQwJSBtb2R1bGUgY29tcGxldGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja0V2ZW50ID0ge1xyXG4gICAgICAgIGlkOiAnZXZlbnQtMScsXHJcbiAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC0xJyxcclxuICAgICAgICBldmVudFR5cGU6ICdtb2R1bGVfY29tcGxldGlvbicsXHJcbiAgICAgICAgdHJpZ2dlclZhbHVlOiA0MCxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IG1vY2tPZmZlciA9IHtcclxuICAgICAgICBpZDogJ29mZmVyLTEnLFxyXG4gICAgICAgIGV2ZW50SWQ6ICdldmVudC0xJyxcclxuICAgICAgICBzdHVkZW50SWQ6ICdzdHVkZW50LTEnLFxyXG4gICAgICAgIG9mZmVyVHlwZTogJ3VwZ3JhZGVfZGlzY291bnQnLFxyXG4gICAgICAgIGRpc2NvdW50OiA1MCxcclxuICAgICAgICBleHBpcmVzQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgYWNjZXB0ZWQ6IGZhbHNlLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgKHByaXNtYS5jb252ZXJzaW9uRXZlbnQuY3JlYXRlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja0V2ZW50KTtcclxuICAgICAgKHByaXNtYS5jb252ZXJzaW9uT2ZmZXIuY3JlYXRlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja09mZmVyKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLnRyYWNrQ29udmVyc2lvbkV2ZW50KCdzdHVkZW50LTEnLCAnbW9kdWxlX2NvbXBsZXRpb24nLCA0MCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9CZU51bGwoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdHJpZ2dlciBvZmZlciBhdCA3MCUgYXNzZXNzbWVudCBwYXNzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2NrRXZlbnQgPSB7XHJcbiAgICAgICAgaWQ6ICdldmVudC0yJyxcclxuICAgICAgICBzdHVkZW50SWQ6ICdzdHVkZW50LTInLFxyXG4gICAgICAgIGV2ZW50VHlwZTogJ2Fzc2Vzc21lbnRfcGFzcycsXHJcbiAgICAgICAgdHJpZ2dlclZhbHVlOiA3MCxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IG1vY2tPZmZlciA9IHtcclxuICAgICAgICBpZDogJ29mZmVyLTInLFxyXG4gICAgICAgIGV2ZW50SWQ6ICdldmVudC0yJyxcclxuICAgICAgICBzdHVkZW50SWQ6ICdzdHVkZW50LTInLFxyXG4gICAgICAgIG9mZmVyVHlwZTogJ3VwZ3JhZGVfZGlzY291bnQnLFxyXG4gICAgICAgIGRpc2NvdW50OiA1MCxcclxuICAgICAgICBleHBpcmVzQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgYWNjZXB0ZWQ6IGZhbHNlLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgKHByaXNtYS5jb252ZXJzaW9uRXZlbnQuY3JlYXRlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja0V2ZW50KTtcclxuICAgICAgKHByaXNtYS5jb252ZXJzaW9uT2ZmZXIuY3JlYXRlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja09mZmVyKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLnRyYWNrQ29udmVyc2lvbkV2ZW50KCdzdHVkZW50LTInLCAnYXNzZXNzbWVudF9wYXNzJywgNzApO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQmVOdWxsKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRyaWdnZXIgb2ZmZXIgYXQgMTAwJSBjb3Vyc2UgY29tcGxldGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja0V2ZW50ID0ge1xyXG4gICAgICAgIGlkOiAnZXZlbnQtMycsXHJcbiAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC0zJyxcclxuICAgICAgICBldmVudFR5cGU6ICdjb3Vyc2VfY29tcGxldGlvbicsXHJcbiAgICAgICAgdHJpZ2dlclZhbHVlOiAxMDAsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBtb2NrT2ZmZXIgPSB7XHJcbiAgICAgICAgaWQ6ICdvZmZlci0zJyxcclxuICAgICAgICBldmVudElkOiAnZXZlbnQtMycsXHJcbiAgICAgICAgc3R1ZGVudElkOiAnc3R1ZGVudC0zJyxcclxuICAgICAgICBvZmZlclR5cGU6ICd1cGdyYWRlX2Rpc2NvdW50JyxcclxuICAgICAgICBkaXNjb3VudDogNTAsXHJcbiAgICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGFjY2VwdGVkOiBmYWxzZSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIChwcmlzbWEuY29udmVyc2lvbkV2ZW50LmNyZWF0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tFdmVudCk7XHJcbiAgICAgIChwcmlzbWEuY29udmVyc2lvbk9mZmVyLmNyZWF0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tPZmZlcik7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXZlbnVlU2VydmljZS50cmFja0NvbnZlcnNpb25FdmVudCgnc3R1ZGVudC0zJywgJ2NvdXJzZV9jb21wbGV0aW9uJywgMTAwKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0JlTnVsbCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsYUFBYSxFQUFFLE9BQU87RUFDOUJDLE1BQU0sRUFBRTtJQUNOQyxlQUFlLEVBQUU7TUFDZkMsTUFBTSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBQ0RDLGVBQWUsRUFBRTtNQUNmSCxNQUFNLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7TUFDakJFLE1BQU0sRUFBRUgsSUFBSSxDQUFDQyxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUNERyxPQUFPLEVBQUU7TUFDUEwsTUFBTSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO01BQ2pCSSxTQUFTLEVBQUVMLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFDREssSUFBSSxFQUFFO01BQ0pDLEtBQUssRUFBRVAsSUFBSSxDQUFDQyxFQUFFLENBQUM7SUFDakI7RUFDRjtBQUNGLENBQUMsQ0FBQyxDQUFDO0FB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