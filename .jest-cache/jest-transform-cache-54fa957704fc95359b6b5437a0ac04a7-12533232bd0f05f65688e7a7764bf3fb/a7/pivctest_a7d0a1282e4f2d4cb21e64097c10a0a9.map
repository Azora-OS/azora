{"version":3,"names":["_pivc","require","describe","it","transaction","amount","pivcAmount","finalAmount","validatePIVC","expect","toBe","transactions","Array","fill","results","Promise","all","map","tx","resolve","forEach","bypassPIVC","toThrow"],"sources":["pivc.test.ts"],"sourcesContent":["import { validatePIVC } from '../path/to/pivc';\r\n\r\ndescribe('PIVC Validation', () => {\r\n  it('should correctly apply 5% PIVC to a standard transaction', () => {\r\n    const transaction = { amount: 100 };\r\n    const { pivcAmount, finalAmount } = validatePIVC(transaction);\r\n    expect(pivcAmount).toBe(5);\r\n    expect(finalAmount).toBe(95);\r\n  });\r\n\r\n  it('should handle high-volume transactions without race conditions', async () => {\r\n    const transactions = Array(1000).fill({ amount: 10 });\r\n    const results = await Promise.all(transactions.map(tx => Promise.resolve(validatePIVC(tx))));\r\n    results.forEach(({ pivcAmount, finalAmount }) => {\r\n      expect(pivcAmount).toBe(0.5);\r\n      expect(finalAmount).toBe(9.5);\r\n    });\r\n  });\r\n\r\n  it('should not apply PIVC to a zero-value transaction', () => {\r\n    const transaction = { amount: 0 };\r\n    const { pivcAmount, finalAmount } = validatePIVC(transaction);\r\n    expect(pivcAmount).toBe(0);\r\n    expect(finalAmount).toBe(0);\r\n  });\r\n\r\n  it('should reject transactions attempting to bypass PIVC', () => {\r\n    const transaction = { amount: 100, bypassPIVC: true };\r\n    expect(() => validatePIVC(transaction)).toThrow('PIVC bypass detected');\r\n  });\r\n});"],"mappings":";;AAAA,IAAAA,KAAA,GAAAC,OAAA;AAEAC,QAAQ,CAAC,iBAAiB,EAAE,MAAM;EAChCC,EAAE,CAAC,0DAA0D,EAAE,MAAM;IACnE,MAAMC,WAAW,GAAG;MAAEC,MAAM,EAAE;IAAI,CAAC;IACnC,MAAM;MAAEC,UAAU;MAAEC;IAAY,CAAC,GAAG,IAAAC,kBAAY,EAACJ,WAAW,CAAC;IAC7DK,MAAM,CAACH,UAAU,CAAC,CAACI,IAAI,CAAC,CAAC,CAAC;IAC1BD,MAAM,CAACF,WAAW,CAAC,CAACG,IAAI,CAAC,EAAE,CAAC;EAC9B,CAAC,CAAC;EAEFP,EAAE,CAAC,gEAAgE,EAAE,YAAY;IAC/E,MAAMQ,YAAY,GAAGC,KAAK,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC;MAAER,MAAM,EAAE;IAAG,CAAC,CAAC;IACrD,MAAMS,OAAO,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACL,YAAY,CAACM,GAAG,CAACC,EAAE,IAAIH,OAAO,CAACI,OAAO,CAAC,IAAAX,kBAAY,EAACU,EAAE,CAAC,CAAC,CAAC,CAAC;IAC5FJ,OAAO,CAACM,OAAO,CAAC,CAAC;MAAEd,UAAU;MAAEC;IAAY,CAAC,KAAK;MAC/CE,MAAM,CAACH,UAAU,CAAC,CAACI,IAAI,CAAC,GAAG,CAAC;MAC5BD,MAAM,CAACF,WAAW,CAAC,CAACG,IAAI,CAAC,GAAG,CAAC;IAC/B,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFP,EAAE,CAAC,mDAAmD,EAAE,MAAM;IAC5D,MAAMC,WAAW,GAAG;MAAEC,MAAM,EAAE;IAAE,CAAC;IACjC,MAAM;MAAEC,UAAU;MAAEC;IAAY,CAAC,GAAG,IAAAC,kBAAY,EAACJ,WAAW,CAAC;IAC7DK,MAAM,CAACH,UAAU,CAAC,CAACI,IAAI,CAAC,CAAC,CAAC;IAC1BD,MAAM,CAACF,WAAW,CAAC,CAACG,IAAI,CAAC,CAAC,CAAC;EAC7B,CAAC,CAAC;EAEFP,EAAE,CAAC,sDAAsD,EAAE,MAAM;IAC/D,MAAMC,WAAW,GAAG;MAAEC,MAAM,EAAE,GAAG;MAAEgB,UAAU,EAAE;IAAK,CAAC;IACrDZ,MAAM,CAAC,MAAM,IAAAD,kBAAY,EAACJ,WAAW,CAAC,CAAC,CAACkB,OAAO,CAAC,sBAAsB,CAAC;EACzE,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}