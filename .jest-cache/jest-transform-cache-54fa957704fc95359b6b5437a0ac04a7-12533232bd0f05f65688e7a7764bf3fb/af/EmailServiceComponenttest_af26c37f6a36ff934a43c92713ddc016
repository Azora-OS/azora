cd6775b40bacfee5e227dfba93623525
"use strict";

var _EmailServiceComponent = require("../EmailServiceComponent");
describe('EmailServiceComponent', () => {
  let emailComponent;
  const outputDir = '/test/output';
  beforeEach(() => {
    emailComponent = new _EmailServiceComponent.EmailServiceComponent();
  });
  describe('generateEmailService', () => {
    it('should generate basic email service files', () => {
      const config = {
        name: 'test-email',
        port: 3003
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      expect(changes).toBeInstanceOf(Array);
      expect(changes.length).toBeGreaterThan(0);
      const filePaths = changes.map(c => c.path);
      expect(filePaths).toContain(expect.stringContaining('index.ts'));
      expect(filePaths).toContain(expect.stringContaining('email.controller.ts'));
      expect(filePaths).toContain(expect.stringContaining('email.service.ts'));
      expect(filePaths).toContain(expect.stringContaining('provider.service.ts'));
      expect(filePaths).toContain(expect.stringContaining('email.repository.ts'));
    });
    it('should include template service when enabled', () => {
      const config = {
        name: 'test-email',
        enableTemplates: true
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      const filePaths = changes.map(c => c.path);
      expect(filePaths).toContain(expect.stringContaining('template.service.ts'));
      expect(filePaths).toContain(expect.stringContaining('welcome.html'));
      expect(filePaths).toContain(expect.stringContaining('password-reset.html'));
      expect(filePaths).toContain(expect.stringContaining('verification.html'));
    });
    it('should generate SendGrid provider by default', () => {
      const config = {
        name: 'test-email'
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      const providerFile = changes.find(c => c.path.includes('provider.service.ts'));
      expect(providerFile).toBeDefined();
      expect(providerFile.content).toContain('@sendgrid/mail');
      expect(providerFile.content).toContain('SENDGRID_API_KEY');
    });
    it('should generate SES provider when specified', () => {
      const config = {
        name: 'test-email',
        provider: 'ses'
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      const providerFile = changes.find(c => c.path.includes('provider.service.ts'));
      expect(providerFile).toBeDefined();
      expect(providerFile.content).toContain('@aws-sdk/client-ses');
      expect(providerFile.content).toContain('SESClient');
    });
    it('should generate SMTP provider when specified', () => {
      const config = {
        name: 'test-email',
        provider: 'smtp'
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      const providerFile = changes.find(c => c.path.includes('provider.service.ts'));
      expect(providerFile).toBeDefined();
      expect(providerFile.content).toContain('nodemailer');
      expect(providerFile.content).toContain('SMTP_HOST');
    });
    it('should include verification endpoints when enabled', () => {
      const config = {
        name: 'test-email',
        enableVerification: true
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      const controllerFile = changes.find(c => c.path.includes('email.controller.ts'));
      expect(controllerFile).toBeDefined();
      expect(controllerFile.content).toContain('sendVerificationEmail');
      expect(controllerFile.content).toContain('verifyEmailToken');
    });
    it('should generate email sending logic', () => {
      const config = {
        name: 'test-email'
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      const serviceFile = changes.find(c => c.path.includes('email.service.ts'));
      expect(serviceFile).toBeDefined();
      expect(serviceFile.content).toContain('sendEmail');
      expect(serviceFile.content).toContain('getEmailById');
      expect(serviceFile.content).toContain('listEmails');
    });
    it('should generate template rendering when enabled', () => {
      const config = {
        name: 'test-email',
        enableTemplates: true
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      const templateFile = changes.find(c => c.path.includes('template.service.ts'));
      expect(templateFile).toBeDefined();
      expect(templateFile.content).toContain('Handlebars');
      expect(templateFile.content).toContain('render');
      expect(templateFile.content).toContain('htmlToText');
    });
    it('should generate Prisma schema with Email model', () => {
      const config = {
        name: 'test-email'
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      const schemaFile = changes.find(c => c.path.includes('schema.prisma'));
      expect(schemaFile).toBeDefined();
      expect(schemaFile.content).toContain('model Email');
      expect(schemaFile.content).toContain('messageId');
      expect(schemaFile.content).toContain('status');
    });
    it('should include verification models when enabled', () => {
      const config = {
        name: 'test-email',
        enableVerification: true
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      const schemaFile = changes.find(c => c.path.includes('schema.prisma'));
      expect(schemaFile).toBeDefined();
      expect(schemaFile.content).toContain('model EmailVerification');
      expect(schemaFile.content).toContain('emailVerified');
    });
    it('should generate validation schemas', () => {
      const config = {
        name: 'test-email',
        enableVerification: true
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      const validationFile = changes.find(c => c.path.includes('email.schemas.ts'));
      expect(validationFile).toBeDefined();
      expect(validationFile.content).toContain('send');
      expect(validationFile.content).toContain('sendTemplate');
      expect(validationFile.content).toContain('verify');
    });
    it('should generate HTML email templates', () => {
      const config = {
        name: 'test-email',
        enableTemplates: true
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      const welcomeTemplate = changes.find(c => c.path.includes('welcome.html'));
      const resetTemplate = changes.find(c => c.path.includes('password-reset.html'));
      expect(welcomeTemplate).toBeDefined();
      expect(welcomeTemplate.content).toContain('SUBJECT:');
      expect(welcomeTemplate.content).toContain('{{appName}}');
      expect(resetTemplate).toBeDefined();
      expect(resetTemplate.content).toContain('{{resetUrl}}');
    });
    it('should generate package.json with correct provider dependency', () => {
      const config = {
        name: 'test-email',
        provider: 'sendgrid',
        enableTemplates: true
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      const packageFile = changes.find(c => c.path.includes('package.json'));
      expect(packageFile).toBeDefined();
      const packageJson = JSON.parse(packageFile.content);
      expect(packageJson.dependencies).toHaveProperty('@sendgrid/mail');
      expect(packageJson.dependencies).toHaveProperty('handlebars');
    });
    it('should generate README with template documentation', () => {
      const config = {
        name: 'test-email',
        enableTemplates: true,
        enableVerification: true
      };
      const changes = emailComponent.generateEmailService(config, outputDir);
      const readmeFile = changes.find(c => c.path.includes('README.md'));
      expect(readmeFile).toBeDefined();
      expect(readmeFile.content).toContain('Email Service');
      expect(readmeFile.content).toContain('Email Templates');
      expect(readmeFile.content).toContain('/api/email/send');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfRW1haWxTZXJ2aWNlQ29tcG9uZW50IiwicmVxdWlyZSIsImRlc2NyaWJlIiwiZW1haWxDb21wb25lbnQiLCJvdXRwdXREaXIiLCJiZWZvcmVFYWNoIiwiRW1haWxTZXJ2aWNlQ29tcG9uZW50IiwiaXQiLCJjb25maWciLCJuYW1lIiwicG9ydCIsImNoYW5nZXMiLCJnZW5lcmF0ZUVtYWlsU2VydmljZSIsImV4cGVjdCIsInRvQmVJbnN0YW5jZU9mIiwiQXJyYXkiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJmaWxlUGF0aHMiLCJtYXAiLCJjIiwicGF0aCIsInRvQ29udGFpbiIsInN0cmluZ0NvbnRhaW5pbmciLCJlbmFibGVUZW1wbGF0ZXMiLCJwcm92aWRlckZpbGUiLCJmaW5kIiwiaW5jbHVkZXMiLCJ0b0JlRGVmaW5lZCIsImNvbnRlbnQiLCJwcm92aWRlciIsImVuYWJsZVZlcmlmaWNhdGlvbiIsImNvbnRyb2xsZXJGaWxlIiwic2VydmljZUZpbGUiLCJ0ZW1wbGF0ZUZpbGUiLCJzY2hlbWFGaWxlIiwidmFsaWRhdGlvbkZpbGUiLCJ3ZWxjb21lVGVtcGxhdGUiLCJyZXNldFRlbXBsYXRlIiwicGFja2FnZUZpbGUiLCJwYWNrYWdlSnNvbiIsIkpTT04iLCJwYXJzZSIsImRlcGVuZGVuY2llcyIsInRvSGF2ZVByb3BlcnR5IiwicmVhZG1lRmlsZSJdLCJzb3VyY2VzIjpbIkVtYWlsU2VydmljZUNvbXBvbmVudC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVtYWlsU2VydmljZUNvbXBvbmVudCwgRW1haWxTZXJ2aWNlQ29uZmlnIH0gZnJvbSAnLi4vRW1haWxTZXJ2aWNlQ29tcG9uZW50JztcblxuZGVzY3JpYmUoJ0VtYWlsU2VydmljZUNvbXBvbmVudCcsICgpID0+IHtcbiAgbGV0IGVtYWlsQ29tcG9uZW50OiBFbWFpbFNlcnZpY2VDb21wb25lbnQ7XG4gIGNvbnN0IG91dHB1dERpciA9ICcvdGVzdC9vdXRwdXQnO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGVtYWlsQ29tcG9uZW50ID0gbmV3IEVtYWlsU2VydmljZUNvbXBvbmVudCgpO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2VuZXJhdGVFbWFpbFNlcnZpY2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBiYXNpYyBlbWFpbCBzZXJ2aWNlIGZpbGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBFbWFpbFNlcnZpY2VDb25maWcgPSB7XG4gICAgICAgIG5hbWU6ICd0ZXN0LWVtYWlsJyxcbiAgICAgICAgcG9ydDogMzAwMyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBlbWFpbENvbXBvbmVudC5nZW5lcmF0ZUVtYWlsU2VydmljZShjb25maWcsIG91dHB1dERpcik7XG5cbiAgICAgIGV4cGVjdChjaGFuZ2VzKS50b0JlSW5zdGFuY2VPZihBcnJheSk7XG4gICAgICBleHBlY3QoY2hhbmdlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcblxuICAgICAgY29uc3QgZmlsZVBhdGhzID0gY2hhbmdlcy5tYXAoYyA9PiBjLnBhdGgpO1xuICAgICAgZXhwZWN0KGZpbGVQYXRocykudG9Db250YWluKGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdpbmRleC50cycpKTtcbiAgICAgIGV4cGVjdChmaWxlUGF0aHMpLnRvQ29udGFpbihleHBlY3Quc3RyaW5nQ29udGFpbmluZygnZW1haWwuY29udHJvbGxlci50cycpKTtcbiAgICAgIGV4cGVjdChmaWxlUGF0aHMpLnRvQ29udGFpbihleHBlY3Quc3RyaW5nQ29udGFpbmluZygnZW1haWwuc2VydmljZS50cycpKTtcbiAgICAgIGV4cGVjdChmaWxlUGF0aHMpLnRvQ29udGFpbihleHBlY3Quc3RyaW5nQ29udGFpbmluZygncHJvdmlkZXIuc2VydmljZS50cycpKTtcbiAgICAgIGV4cGVjdChmaWxlUGF0aHMpLnRvQ29udGFpbihleHBlY3Quc3RyaW5nQ29udGFpbmluZygnZW1haWwucmVwb3NpdG9yeS50cycpKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSB0ZW1wbGF0ZSBzZXJ2aWNlIHdoZW4gZW5hYmxlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogRW1haWxTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1lbWFpbCcsXG4gICAgICAgIGVuYWJsZVRlbXBsYXRlczogdHJ1ZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBlbWFpbENvbXBvbmVudC5nZW5lcmF0ZUVtYWlsU2VydmljZShjb25maWcsIG91dHB1dERpcik7XG4gICAgICBjb25zdCBmaWxlUGF0aHMgPSBjaGFuZ2VzLm1hcChjID0+IGMucGF0aCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChmaWxlUGF0aHMpLnRvQ29udGFpbihleHBlY3Quc3RyaW5nQ29udGFpbmluZygndGVtcGxhdGUuc2VydmljZS50cycpKTtcbiAgICAgIGV4cGVjdChmaWxlUGF0aHMpLnRvQ29udGFpbihleHBlY3Quc3RyaW5nQ29udGFpbmluZygnd2VsY29tZS5odG1sJykpO1xuICAgICAgZXhwZWN0KGZpbGVQYXRocykudG9Db250YWluKGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdwYXNzd29yZC1yZXNldC5odG1sJykpO1xuICAgICAgZXhwZWN0KGZpbGVQYXRocykudG9Db250YWluKGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCd2ZXJpZmljYXRpb24uaHRtbCcpKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgU2VuZEdyaWQgcHJvdmlkZXIgYnkgZGVmYXVsdCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogRW1haWxTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1lbWFpbCcsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gZW1haWxDb21wb25lbnQuZ2VuZXJhdGVFbWFpbFNlcnZpY2UoY29uZmlnLCBvdXRwdXREaXIpO1xuICAgICAgY29uc3QgcHJvdmlkZXJGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdwcm92aWRlci5zZXJ2aWNlLnRzJykpO1xuXG4gICAgICBleHBlY3QocHJvdmlkZXJGaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHByb3ZpZGVyRmlsZSEuY29udGVudCkudG9Db250YWluKCdAc2VuZGdyaWQvbWFpbCcpO1xuICAgICAgZXhwZWN0KHByb3ZpZGVyRmlsZSEuY29udGVudCkudG9Db250YWluKCdTRU5ER1JJRF9BUElfS0VZJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIFNFUyBwcm92aWRlciB3aGVuIHNwZWNpZmllZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogRW1haWxTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1lbWFpbCcsXG4gICAgICAgIHByb3ZpZGVyOiAnc2VzJyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBlbWFpbENvbXBvbmVudC5nZW5lcmF0ZUVtYWlsU2VydmljZShjb25maWcsIG91dHB1dERpcik7XG4gICAgICBjb25zdCBwcm92aWRlckZpbGUgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ3Byb3ZpZGVyLnNlcnZpY2UudHMnKSk7XG5cbiAgICAgIGV4cGVjdChwcm92aWRlckZpbGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocHJvdmlkZXJGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ0Bhd3Mtc2RrL2NsaWVudC1zZXMnKTtcbiAgICAgIGV4cGVjdChwcm92aWRlckZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignU0VTQ2xpZW50Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIFNNVFAgcHJvdmlkZXIgd2hlbiBzcGVjaWZpZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWc6IEVtYWlsU2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtZW1haWwnLFxuICAgICAgICBwcm92aWRlcjogJ3NtdHAnLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IGVtYWlsQ29tcG9uZW50LmdlbmVyYXRlRW1haWxTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IHByb3ZpZGVyRmlsZSA9IGNoYW5nZXMuZmluZChjID0+IGMucGF0aC5pbmNsdWRlcygncHJvdmlkZXIuc2VydmljZS50cycpKTtcblxuICAgICAgZXhwZWN0KHByb3ZpZGVyRmlsZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChwcm92aWRlckZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignbm9kZW1haWxlcicpO1xuICAgICAgZXhwZWN0KHByb3ZpZGVyRmlsZSEuY29udGVudCkudG9Db250YWluKCdTTVRQX0hPU1QnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSB2ZXJpZmljYXRpb24gZW5kcG9pbnRzIHdoZW4gZW5hYmxlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogRW1haWxTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1lbWFpbCcsXG4gICAgICAgIGVuYWJsZVZlcmlmaWNhdGlvbjogdHJ1ZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBlbWFpbENvbXBvbmVudC5nZW5lcmF0ZUVtYWlsU2VydmljZShjb25maWcsIG91dHB1dERpcik7XG4gICAgICBjb25zdCBjb250cm9sbGVyRmlsZSA9IGNoYW5nZXMuZmluZChjID0+IGMucGF0aC5pbmNsdWRlcygnZW1haWwuY29udHJvbGxlci50cycpKTtcblxuICAgICAgZXhwZWN0KGNvbnRyb2xsZXJGaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGNvbnRyb2xsZXJGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ3NlbmRWZXJpZmljYXRpb25FbWFpbCcpO1xuICAgICAgZXhwZWN0KGNvbnRyb2xsZXJGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ3ZlcmlmeUVtYWlsVG9rZW4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgZW1haWwgc2VuZGluZyBsb2dpYycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogRW1haWxTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1lbWFpbCcsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gZW1haWxDb21wb25lbnQuZ2VuZXJhdGVFbWFpbFNlcnZpY2UoY29uZmlnLCBvdXRwdXREaXIpO1xuICAgICAgY29uc3Qgc2VydmljZUZpbGUgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ2VtYWlsLnNlcnZpY2UudHMnKSk7XG5cbiAgICAgIGV4cGVjdChzZXJ2aWNlRmlsZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzZXJ2aWNlRmlsZSEuY29udGVudCkudG9Db250YWluKCdzZW5kRW1haWwnKTtcbiAgICAgIGV4cGVjdChzZXJ2aWNlRmlsZSEuY29udGVudCkudG9Db250YWluKCdnZXRFbWFpbEJ5SWQnKTtcbiAgICAgIGV4cGVjdChzZXJ2aWNlRmlsZSEuY29udGVudCkudG9Db250YWluKCdsaXN0RW1haWxzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIHRlbXBsYXRlIHJlbmRlcmluZyB3aGVuIGVuYWJsZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWc6IEVtYWlsU2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtZW1haWwnLFxuICAgICAgICBlbmFibGVUZW1wbGF0ZXM6IHRydWUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gZW1haWxDb21wb25lbnQuZ2VuZXJhdGVFbWFpbFNlcnZpY2UoY29uZmlnLCBvdXRwdXREaXIpO1xuICAgICAgY29uc3QgdGVtcGxhdGVGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCd0ZW1wbGF0ZS5zZXJ2aWNlLnRzJykpO1xuXG4gICAgICBleHBlY3QodGVtcGxhdGVGaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHRlbXBsYXRlRmlsZSEuY29udGVudCkudG9Db250YWluKCdIYW5kbGViYXJzJyk7XG4gICAgICBleHBlY3QodGVtcGxhdGVGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ3JlbmRlcicpO1xuICAgICAgZXhwZWN0KHRlbXBsYXRlRmlsZSEuY29udGVudCkudG9Db250YWluKCdodG1sVG9UZXh0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIFByaXNtYSBzY2hlbWEgd2l0aCBFbWFpbCBtb2RlbCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogRW1haWxTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1lbWFpbCcsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gZW1haWxDb21wb25lbnQuZ2VuZXJhdGVFbWFpbFNlcnZpY2UoY29uZmlnLCBvdXRwdXREaXIpO1xuICAgICAgY29uc3Qgc2NoZW1hRmlsZSA9IGNoYW5nZXMuZmluZChjID0+IGMucGF0aC5pbmNsdWRlcygnc2NoZW1hLnByaXNtYScpKTtcblxuICAgICAgZXhwZWN0KHNjaGVtYUZpbGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qoc2NoZW1hRmlsZSEuY29udGVudCkudG9Db250YWluKCdtb2RlbCBFbWFpbCcpO1xuICAgICAgZXhwZWN0KHNjaGVtYUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignbWVzc2FnZUlkJyk7XG4gICAgICBleHBlY3Qoc2NoZW1hRmlsZSEuY29udGVudCkudG9Db250YWluKCdzdGF0dXMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSB2ZXJpZmljYXRpb24gbW9kZWxzIHdoZW4gZW5hYmxlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogRW1haWxTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1lbWFpbCcsXG4gICAgICAgIGVuYWJsZVZlcmlmaWNhdGlvbjogdHJ1ZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBlbWFpbENvbXBvbmVudC5nZW5lcmF0ZUVtYWlsU2VydmljZShjb25maWcsIG91dHB1dERpcik7XG4gICAgICBjb25zdCBzY2hlbWFGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdzY2hlbWEucHJpc21hJykpO1xuXG4gICAgICBleHBlY3Qoc2NoZW1hRmlsZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzY2hlbWFGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ21vZGVsIEVtYWlsVmVyaWZpY2F0aW9uJyk7XG4gICAgICBleHBlY3Qoc2NoZW1hRmlsZSEuY29udGVudCkudG9Db250YWluKCdlbWFpbFZlcmlmaWVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIHZhbGlkYXRpb24gc2NoZW1hcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogRW1haWxTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1lbWFpbCcsXG4gICAgICAgIGVuYWJsZVZlcmlmaWNhdGlvbjogdHJ1ZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBlbWFpbENvbXBvbmVudC5nZW5lcmF0ZUVtYWlsU2VydmljZShjb25maWcsIG91dHB1dERpcik7XG4gICAgICBjb25zdCB2YWxpZGF0aW9uRmlsZSA9IGNoYW5nZXMuZmluZChjID0+IGMucGF0aC5pbmNsdWRlcygnZW1haWwuc2NoZW1hcy50cycpKTtcblxuICAgICAgZXhwZWN0KHZhbGlkYXRpb25GaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHZhbGlkYXRpb25GaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ3NlbmQnKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uRmlsZSEuY29udGVudCkudG9Db250YWluKCdzZW5kVGVtcGxhdGUnKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uRmlsZSEuY29udGVudCkudG9Db250YWluKCd2ZXJpZnknKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgSFRNTCBlbWFpbCB0ZW1wbGF0ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWc6IEVtYWlsU2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtZW1haWwnLFxuICAgICAgICBlbmFibGVUZW1wbGF0ZXM6IHRydWUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gZW1haWxDb21wb25lbnQuZ2VuZXJhdGVFbWFpbFNlcnZpY2UoY29uZmlnLCBvdXRwdXREaXIpO1xuICAgICAgY29uc3Qgd2VsY29tZVRlbXBsYXRlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCd3ZWxjb21lLmh0bWwnKSk7XG4gICAgICBjb25zdCByZXNldFRlbXBsYXRlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdwYXNzd29yZC1yZXNldC5odG1sJykpO1xuXG4gICAgICBleHBlY3Qod2VsY29tZVRlbXBsYXRlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHdlbGNvbWVUZW1wbGF0ZSEuY29udGVudCkudG9Db250YWluKCdTVUJKRUNUOicpO1xuICAgICAgZXhwZWN0KHdlbGNvbWVUZW1wbGF0ZSEuY29udGVudCkudG9Db250YWluKCd7e2FwcE5hbWV9fScpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzZXRUZW1wbGF0ZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXNldFRlbXBsYXRlIS5jb250ZW50KS50b0NvbnRhaW4oJ3t7cmVzZXRVcmx9fScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBwYWNrYWdlLmpzb24gd2l0aCBjb3JyZWN0IHByb3ZpZGVyIGRlcGVuZGVuY3knLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWc6IEVtYWlsU2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtZW1haWwnLFxuICAgICAgICBwcm92aWRlcjogJ3NlbmRncmlkJyxcbiAgICAgICAgZW5hYmxlVGVtcGxhdGVzOiB0cnVlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IGVtYWlsQ29tcG9uZW50LmdlbmVyYXRlRW1haWxTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IHBhY2thZ2VGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdwYWNrYWdlLmpzb24nKSk7XG5cbiAgICAgIGV4cGVjdChwYWNrYWdlRmlsZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGNvbnN0IHBhY2thZ2VKc29uID0gSlNPTi5wYXJzZShwYWNrYWdlRmlsZSEuY29udGVudCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChwYWNrYWdlSnNvbi5kZXBlbmRlbmNpZXMpLnRvSGF2ZVByb3BlcnR5KCdAc2VuZGdyaWQvbWFpbCcpO1xuICAgICAgZXhwZWN0KHBhY2thZ2VKc29uLmRlcGVuZGVuY2llcykudG9IYXZlUHJvcGVydHkoJ2hhbmRsZWJhcnMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgUkVBRE1FIHdpdGggdGVtcGxhdGUgZG9jdW1lbnRhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogRW1haWxTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1lbWFpbCcsXG4gICAgICAgIGVuYWJsZVRlbXBsYXRlczogdHJ1ZSxcbiAgICAgICAgZW5hYmxlVmVyaWZpY2F0aW9uOiB0cnVlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IGVtYWlsQ29tcG9uZW50LmdlbmVyYXRlRW1haWxTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IHJlYWRtZUZpbGUgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ1JFQURNRS5tZCcpKTtcblxuICAgICAgZXhwZWN0KHJlYWRtZUZpbGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVhZG1lRmlsZSEuY29udGVudCkudG9Db250YWluKCdFbWFpbCBTZXJ2aWNlJyk7XG4gICAgICBleHBlY3QocmVhZG1lRmlsZSEuY29udGVudCkudG9Db250YWluKCdFbWFpbCBUZW1wbGF0ZXMnKTtcbiAgICAgIGV4cGVjdChyZWFkbWVGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJy9hcGkvZW1haWwvc2VuZCcpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFFQUMsUUFBUSxDQUFDLHVCQUF1QixFQUFFLE1BQU07RUFDdEMsSUFBSUMsY0FBcUM7RUFDekMsTUFBTUMsU0FBUyxHQUFHLGNBQWM7RUFFaENDLFVBQVUsQ0FBQyxNQUFNO0lBQ2ZGLGNBQWMsR0FBRyxJQUFJRyw0Q0FBcUIsQ0FBQyxDQUFDO0VBQzlDLENBQUMsQ0FBQztFQUVGSixRQUFRLENBQUMsc0JBQXNCLEVBQUUsTUFBTTtJQUNyQ0ssRUFBRSxDQUFDLDJDQUEyQyxFQUFFLE1BQU07TUFDcEQsTUFBTUMsTUFBMEIsR0FBRztRQUNqQ0MsSUFBSSxFQUFFLFlBQVk7UUFDbEJDLElBQUksRUFBRTtNQUNSLENBQUM7TUFFRCxNQUFNQyxPQUFPLEdBQUdSLGNBQWMsQ0FBQ1Msb0JBQW9CLENBQUNKLE1BQU0sRUFBRUosU0FBUyxDQUFDO01BRXRFUyxNQUFNLENBQUNGLE9BQU8sQ0FBQyxDQUFDRyxjQUFjLENBQUNDLEtBQUssQ0FBQztNQUNyQ0YsTUFBTSxDQUFDRixPQUFPLENB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