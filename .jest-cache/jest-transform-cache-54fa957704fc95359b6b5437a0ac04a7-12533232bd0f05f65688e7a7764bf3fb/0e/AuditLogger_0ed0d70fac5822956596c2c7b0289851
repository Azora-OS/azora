9f5ba00cd52c5154ded26a7980e8b499
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AuditLogger = void 0;
var fs = _interopRequireWildcard(require("fs/promises"));
var path = _interopRequireWildcard(require("path"));
var _electron = require("electron");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) "default" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }
/**
 * Audit event types
 */

/**
 * Audit event severity levels
 */

/**
 * Audit event entry
 */

/**
 * Audit log query options
 */

/**
 * Audit log statistics
 */

/**
 * AuditLogger provides comprehensive audit logging for all sensitive operations
 * in AzStudio including AI actions, file modifications, network requests, and
 * permission grants.
 * 
 * Features:
 * - Structured event logging with metadata
 * - Queryable audit trail
 * - Automatic log rotation
 * - Export capabilities
 * - Real-time statistics
 */
class AuditLogger {
  static MAX_LOG_SIZE = 10 * 1024 * 1024; // 10MB
  static MAX_LOG_FILES = 5;
  static FLUSH_INTERVAL = 5000; // 5 seconds

  events = [];
  flushTimer = null;
  eventCounter = 0;
  constructor(projectPath) {
    if (projectPath) {
      this.logPath = path.join(projectPath, '.azstudio', 'audit-logs');
    } else {
      this.logPath = path.join(_electron.app.getPath('userData'), 'audit-logs');
    }
    this.currentLogFile = path.join(this.logPath, `audit-${Date.now()}.jsonl`);
  }

  /**
   * Initialize the audit logger
   */
  async initialize() {
    // Ensure log directory exists
    await fs.mkdir(this.logPath, {
      recursive: true
    });

    // Start periodic flush
    this.startPeriodicFlush();

    // Rotate logs if needed
    await this.rotateLogs();
  }

  /**
   * Log an audit event
   */
  async log(type, action, resource, options) {
    const event = {
      id: this.generateEventId(),
      timestamp: new Date(),
      type,
      severity: options?.severity || 'info',
      actor: options?.actor || 'system',
      resource,
      action,
      details: options?.details,
      metadata: options?.metadata
    };
    this.events.push(event);

    // Flush if buffer is large
    if (this.events.length >= 100) {
      await this.flush();
    }
  }

  /**
   * Log AI request
   */
  async logAIRequest(model, prompt, options) {
    await this.log('ai:request', 'AI request sent', model, {
      severity: 'info',
      details: {
        promptLength: prompt.length,
        tokens: options?.tokens,
        cost: options?.cost
      },
      metadata: {
        projectPath: options?.projectPath
      }
    });
  }

  /**
   * Log AI response
   */
  async logAIResponse(model, success, options) {
    await this.log('ai:response', 'AI response received', model, {
      severity: success ? 'info' : 'error',
      details: {
        tokens: options?.tokens
      },
      metadata: {
        success,
        duration: options?.duration,
        errorMessage: options?.errorMessage
      }
    });
  }

  /**
   * Log file operation
   */
  async logFileOperation(operation, filePath, options) {
    const typeMap = {
      read: 'file:read',
      write: 'file:write',
      delete: 'file:delete',
      create: 'file:create'
    };
    await this.log(typeMap[operation], `File ${operation}`, filePath, {
      severity: options?.success === false ? 'error' : 'info',
      metadata: {
        fileSize: options?.fileSize,
        success: options?.success,
        errorMessage: options?.errorMessage
      }
    });
  }

  /**
   * Log network request
   */
  async logNetworkRequest(url, method, options) {
    await this.log('network:request', `${method} request`, url, {
      severity: options?.success === false ? 'warning' : 'info',
      details: {
        method,
        statusCode: options?.statusCode
      },
      metadata: {
        duration: options?.duration,
        success: options?.success,
        errorMessage: options?.errorMessage
      }
    });
  }

  /**
   * Log permission grant/deny
   */
  async logPermission(permissionType, resource, granted, reason) {
    await this.log(granted ? 'permission:grant' : 'permission:deny', granted ? 'Permission granted' : 'Permission denied', resource, {
      severity: granted ? 'info' : 'warning',
      details: {
        permissionType,
        reason
      },
      metadata: {
        success: granted
      }
    });
  }

  /**
   * Log secret access
   */
  async logSecretAccess(operation, key, scope) {
    const typeMap = {
      read: 'secret:read',
      write: 'secret:write',
      delete: 'secret:delete'
    };
    await this.log(typeMap[operation], `Secret ${operation}`, key, {
      severity: 'info',
      details: {
        scope
      }
    });
  }

  /**
   * Log Git operation
   */
  async logGitOperation(operation, repository, options) {
    const typeMap = {
      commit: 'git:commit',
      push: 'git:push',
      pull: 'git:pull'
    };
    await this.log(typeMap[operation], `Git ${operation}`, repository, {
      severity: options?.success === false ? 'error' : 'info',
      details: {
        branch: options?.branch
      },
      metadata: {
        success: options?.success,
        errorMessage: options?.errorMessage
      }
    });
  }

  /**
   * Log code execution
   */
  async logCodeExecution(action, description, options) {
    const type = action === 'execute' ? 'code:execute' : 'code:generate';
    await this.log(type, description, options?.projectPath || 'unknown', {
      severity: options?.success === false ? 'error' : 'info',
      details: {
        filesAffected: options?.filesAffected
      },
      metadata: {
        projectPath: options?.projectPath,
        success: options?.success,
        errorMessage: options?.errorMessage
      }
    });
  }

  /**
   * Query audit events
   */
  async query(options = {}) {
    const allEvents = await this.loadAllEvents();
    let filtered = allEvents;

    // Filter by date range
    if (options.startDate) {
      filtered = filtered.filter(e => e.timestamp >= options.startDate);
    }
    if (options.endDate) {
      filtered = filtered.filter(e => e.timestamp <= options.endDate);
    }

    // Filter by type
    if (options.types && options.types.length > 0) {
      filtered = filtered.filter(e => options.types.includes(e.type));
    }

    // Filter by severity
    if (options.severities && options.severities.length > 0) {
      filtered = filtered.filter(e => options.severities.includes(e.severity));
    }

    // Filter by actor
    if (options.actor) {
      filtered = filtered.filter(e => e.actor === options.actor);
    }

    // Filter by resource
    if (options.resource) {
      filtered = filtered.filter(e => e.resource.includes(options.resource));
    }

    // Apply pagination
    const offset = options.offset || 0;
    const limit = options.limit || filtered.length;
    return filtered.slice(offset, offset + limit);
  }

  /**
   * Get audit statistics
   */
  async getStatistics() {
    const allEvents = await this.loadAllEvents();
    const eventsByType = {};
    const eventsBySeverity = {};
    const resourceCounts = {};
    for (const event of allEvents) {
      // Count by type
      eventsByType[event.type] = (eventsByType[event.type] || 0) + 1;

      // Count by severity
      eventsBySeverity[event.severity] = (eventsBySeverity[event.severity] || 0) + 1;

      // Count by resource
      resourceCounts[event.resource] = (resourceCounts[event.resource] || 0) + 1;
    }

    // Get recent errors
    const recentErrors = allEvents.filter(e => e.severity === 'error' || e.severity === 'critical').slice(-10);

    // Get top resources
    const topResources = Object.entries(resourceCounts).sort((a, b) => b[1] - a[1]).slice(0, 10).map(([resource, count]) => ({
      resource,
      count
    }));
    return {
      totalEvents: allEvents.length,
      eventsByType: eventsByType,
      eventsBySeverity: eventsBySeverity,
      recentErrors,
      topResources
    };
  }

  /**
   * Export audit log to file
   */
  async export(outputPath, options = {}) {
    const events = await this.query(options);
    const json = JSON.stringify(events, null, 2);
    await fs.writeFile(outputPath, json, 'utf-8');
  }

  /**
   * Clear old audit logs
   */
  async clearOldLogs(daysToKeep = 30) {
    const files = await fs.readdir(this.logPath);
    const cutoffDate = new Date(Date.now() - daysToKeep * 24 * 60 * 60 * 1000);
    let deletedCount = 0;
    for (const file of files) {
      if (!file.startsWith('audit-') || !file.endsWith('.jsonl')) {
        continue;
      }
      const filePath = path.join(this.logPath, file);
      const stats = await fs.stat(filePath);
      if (stats.mtime < cutoffDate) {
        await fs.unlink(filePath);
        deletedCount++;
      }
    }
    return deletedCount;
  }

  /**
   * Flush buffered events to disk
   */
  async flush() {
    if (this.events.length === 0) {
      return;
    }
    const eventsToWrite = [...this.events];
    this.events = [];

    // Write events as JSONL (one JSON object per line)
    const lines = eventsToWrite.map(e => JSON.stringify(e)).join('\n') + '\n';
    try {
      await fs.appendFile(this.currentLogFile, lines, 'utf-8');
    } catch (error) {
      // If write fails, put events back in buffer
      this.events.unshift(...eventsToWrite);
      throw error;
    }

    // Check if log rotation is needed
    await this.rotateLogs();
  }

  /**
   * Shutdown the audit logger
   */
  async shutdown() {
    if (this.flushTimer) {
      clearInterval(this.flushTimer);
      this.flushTimer = null;
    }
    await this.flush();
  }

  /**
   * Generate unique event ID
   */
  generateEventId() {
    return `${Date.now()}-${this.eventCounter++}`;
  }

  /**
   * Start periodic flush timer
   */
  startPeriodicFlush() {
    this.flushTimer = setInterval(() => {
      this.flush().catch(console.error);
    }, AuditLogger.FLUSH_INTERVAL);
  }

  /**
   * Rotate logs if current file is too large
   */
  async rotateLogs() {
    try {
      const stats = await fs.stat(this.currentLogFile);
      if (stats.size >= AuditLogger.MAX_LOG_SIZE) {
        // Create new log file
        this.currentLogFile = path.join(this.logPath, `audit-${Date.now()}.jsonl`);

        // Delete old log files if we have too many
        await this.cleanupOldLogs();
      }
    } catch (error) {
      // File doesn't exist yet, that's fine
    }
  }

  /**
   * Clean up old log files
   */
  async cleanupOldLogs() {
    const files = await fs.readdir(this.logPath);
    const logFiles = files.filter(f => f.startsWith('audit-') && f.endsWith('.jsonl')).map(f => ({
      name: f,
      path: path.join(this.logPath, f)
    }));
    if (logFiles.length <= AuditLogger.MAX_LOG_FILES) {
      return;
    }

    // Sort by modification time
    const filesWithStats = await Promise.all(logFiles.map(async f => ({
      ...f,
      stats: await fs.stat(f.path)
    })));
    filesWithStats.sort((a, b) => a.stats.mtime.getTime() - b.stats.mtime.getTime());

    // Delete oldest files
    const toDelete = filesWithStats.slice(0, filesWithStats.length - AuditLogger.MAX_LOG_FILES);
    await Promise.all(toDelete.map(f => fs.unlink(f.path)));
  }

  /**
   * Load all events from log files
   */
  async loadAllEvents() {
    const files = await fs.readdir(this.logPath);
    const logFiles = files.filter(f => f.startsWith('audit-') && f.endsWith('.jsonl')).map(f => path.join(this.logPath, f));
    const allEvents = [];
    for (const file of logFiles) {
      try {
        const content = await fs.readFile(file, 'utf-8');
        const lines = content.trim().split('\n');
        for (const line of lines) {
          if (line.trim()) {
            const event = JSON.parse(line);
            event.timestamp = new Date(event.timestamp);
            allEvents.push(event);
          }
        }
      } catch (error) {
        console.error(`Error reading log file ${file}:`, error);
      }
    }

    // Sort by timestamp
    allEvents.sort((a, b) => a.timestamp.getTime() - b.timestamp.getTime());
    return allEvents;
  }
}
exports.AuditLogger = AuditLogger;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsInBhdGgiLCJfZWxlY3Ryb24iLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJBdWRpdExvZ2dlciIsIk1BWF9MT0dfU0laRSIsIk1BWF9MT0dfRklMRVMiLCJGTFVTSF9JTlRFUlZBTCIsImV2ZW50cyIsImZsdXNoVGltZXIiLCJldmVudENvdW50ZXIiLCJjb25zdHJ1Y3RvciIsInByb2plY3RQYXRoIiwibG9nUGF0aCIsImpvaW4iLCJhcHAiLCJnZXRQYXRoIiwiY3VycmVudExvZ0ZpbGUiLCJEYXRlIiwibm93IiwiaW5pdGlhbGl6ZSIsIm1rZGlyIiwicmVjdXJzaXZlIiwic3RhcnRQZXJpb2RpY0ZsdXNoIiwicm90YXRlTG9ncyIsImxvZyIsInR5cGUiLCJhY3Rpb24iLCJyZXNvdXJjZSIsIm9wdGlvbnMiLCJldmVudCIsImlkIiwiZ2VuZXJhdGVFdmVudElkIiwidGltZXN0YW1wIiwic2V2ZXJpdHkiLCJhY3RvciIsImRldGFpbHMiLCJtZXRhZGF0YSIsInB1c2giLCJsZW5ndGgiLCJmbHVzaCIsImxvZ0FJUmVxdWVzdCIsIm1vZGVsIiwicHJvbXB0IiwicHJvbXB0TGVuZ3RoIiwidG9rZW5zIiwiY29zdCIsImxvZ0FJUmVzcG9uc2UiLCJzdWNjZXNzIiwiZHVyYXRpb24iLCJlcnJvck1lc3NhZ2UiLCJsb2dGaWxlT3BlcmF0aW9uIiwib3BlcmF0aW9uIiwiZmlsZVBhdGgiLCJ0eXBlTWFwIiwicmVhZCIsIndyaXRlIiwiZGVsZXRlIiwiY3JlYXRlIiwiZmlsZVNpemUiLCJsb2dOZXR3b3JrUmVxdWVzdCIsInVybCIsIm1ldGhvZCIsInN0YXR1c0NvZGUiLCJsb2dQZXJtaXNzaW9uIiwicGVybWlzc2lvblR5cGUiLCJncmFudGVkIiwicmVhc29uIiwibG9nU2VjcmV0QWNjZXNzIiwia2V5Iiwic2NvcGUiLCJsb2dHaXRPcGVyYXRpb24iLCJyZXBvc2l0b3J5IiwiY29tbWl0IiwicHVsbCIsImJyYW5jaCIsImxvZ0NvZGVFeGVjdXRpb24iLCJkZXNjcmlwdGlvbiIsImZpbGVzQWZmZWN0ZWQiLCJxdWVyeSIsImFsbEV2ZW50cyIsImxvYWRBbGxFdmVudHMiLCJmaWx0ZXJlZCIsInN0YXJ0RGF0ZSIsImZpbHRlciIsImVuZERhdGUiLCJ0eXBlcyIsImluY2x1ZGVzIiwic2V2ZXJpdGllcyIsIm9mZnNldCIsImxpbWl0Iiwic2xpY2UiLCJnZXRTdGF0aXN0aWNzIiwiZXZlbnRzQnlUeXBlIiwiZXZlbnRzQnlTZXZlcml0eSIsInJlc291cmNlQ291bnRzIiwicmVjZW50RXJyb3JzIiwidG9wUmVzb3VyY2VzIiwiZW50cmllcyIsInNvcnQiLCJhIiwiYiIsIm1hcCIsImNvdW50IiwidG90YWxFdmVudHMiLCJleHBvcnQiLCJvdXRwdXRQYXRoIiwianNvbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJ3cml0ZUZpbGUiLCJjbGVhck9sZExvZ3MiLCJkYXlzVG9LZWVwIiwiZmlsZXMiLCJyZWFkZGlyIiwiY3V0b2ZmRGF0ZSIsImRlbGV0ZWRDb3VudCIsImZpbGUiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJzdGF0cyIsInN0YXQiLCJtdGltZSIsInVubGluayIsImV2ZW50c1RvV3JpdGUiLCJsaW5lcyIsImFwcGVuZEZpbGUiLCJlcnJvciIsInVuc2hpZnQiLCJzaHV0ZG93biIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNhdGNoIiwiY29uc29sZSIsInNpemUiLCJjbGVhbnVwT2xkTG9ncyIsImxvZ0ZpbGVzIiwibmFtZSIsImZpbGVzV2l0aFN0YXRzIiwiUHJvbWlzZSIsImFsbCIsImdldFRpbWUiLCJ0b0RlbGV0ZSIsImNvbnRlbnQiLCJyZWFkRmlsZSIsInRyaW0iLCJzcGxpdCIsImxpbmUiLCJwYXJzZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJBdWRpdExvZ2dlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBmcyBmcm9tICdmcy9wcm9taXNlcyc7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgYXBwIH0gZnJvbSAnZWxlY3Ryb24nO1xuXG4vKipcbiAqIEF1ZGl0IGV2ZW50IHR5cGVzXG4gKi9cbmV4cG9ydCB0eXBlIEF1ZGl0RXZlbnRUeXBlID1cbiAgfCAnYWk6cmVxdWVzdCdcbiAgfCAnYWk6cmVzcG9uc2UnXG4gIHwgJ2ZpbGU6cmVhZCdcbiAgfCAnZmlsZTp3cml0ZSdcbiAgfCAnZmlsZTpkZWxldGUnXG4gIHwgJ2ZpbGU6Y3JlYXRlJ1xuICB8ICduZXR3b3JrOnJlcXVlc3QnXG4gIHwgJ25ldHdvcms6cmVzcG9uc2UnXG4gIHwgJ3Blcm1pc3Npb246Z3JhbnQnXG4gIHwgJ3Blcm1pc3Npb246ZGVueSdcbiAgfCAnc2VjcmV0OnJlYWQnXG4gIHwgJ3NlY3JldDp3cml0ZSdcbiAgfCAnc2VjcmV0OmRlbGV0ZSdcbiAgfCAnZ2l0OmNvbW1pdCdcbiAgfCAnZ2l0OnB1c2gnXG4gIHwgJ2dpdDpwdWxsJ1xuICB8ICdwcm9qZWN0Om9wZW4nXG4gIHwgJ3Byb2plY3Q6Y2xvc2UnXG4gIHwgJ2NvZGU6ZXhlY3V0ZSdcbiAgfCAnY29kZTpnZW5lcmF0ZSc7XG5cbi8qKlxuICogQXVkaXQgZXZlbnQgc2V2ZXJpdHkgbGV2ZWxzXG4gKi9cbmV4cG9ydCB0eXBlIEF1ZGl0U2V2ZXJpdHkgPSAnaW5mbycgfCAnd2FybmluZycgfCAnZXJyb3InIHwgJ2NyaXRpY2FsJztcblxuLyoqXG4gKiBBdWRpdCBldmVudCBlbnRyeVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0RXZlbnQge1xuICBpZDogc3RyaW5nO1xuICB0aW1lc3RhbXA6IERhdGU7XG4gIHR5cGU6IEF1ZGl0RXZlbnRUeXBlO1xuICBzZXZlcml0eTogQXVkaXRTZXZlcml0eTtcbiAgYWN0b3I6IHN0cmluZzsgLy8gVXNlciBvciBzeXN0ZW0gY29tcG9uZW50XG4gIHJlc291cmNlOiBzdHJpbmc7XG4gIGFjdGlvbjogc3RyaW5nO1xuICBkZXRhaWxzPzogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgbWV0YWRhdGE/OiB7XG4gICAgcHJvamVjdFBhdGg/OiBzdHJpbmc7XG4gICAgZmlsZVNpemU/OiBudW1iZXI7XG4gICAgZHVyYXRpb24/OiBudW1iZXI7XG4gICAgc3VjY2Vzcz86IGJvb2xlYW47XG4gICAgZXJyb3JNZXNzYWdlPzogc3RyaW5nO1xuICB9O1xufVxuXG4vKipcbiAqIEF1ZGl0IGxvZyBxdWVyeSBvcHRpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaXRRdWVyeU9wdGlvbnMge1xuICBzdGFydERhdGU/OiBEYXRlO1xuICBlbmREYXRlPzogRGF0ZTtcbiAgdHlwZXM/OiBBdWRpdEV2ZW50VHlwZVtdO1xuICBzZXZlcml0aWVzPzogQXVkaXRTZXZlcml0eVtdO1xuICBhY3Rvcj86IHN0cmluZztcbiAgcmVzb3VyY2U/OiBzdHJpbmc7XG4gIGxpbWl0PzogbnVtYmVyO1xuICBvZmZzZXQ/OiBudW1iZXI7XG59XG5cbi8qKlxuICogQXVkaXQgbG9nIHN0YXRpc3RpY3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdWRpdFN0YXRpc3RpY3Mge1xuICB0b3RhbEV2ZW50czogbnVtYmVyO1xuICBldmVudHNCeVR5cGU6IFJlY29yZDxBdWRpdEV2ZW50VHlwZSwgbnVtYmVyPjtcbiAgZXZlbnRzQnlTZXZlcml0eTogUmVjb3JkPEF1ZGl0U2V2ZXJpdHksIG51bWJlcj47XG4gIHJlY2VudEVycm9yczogQXVkaXRFdmVudFtdO1xuICB0b3BSZXNvdXJjZXM6IEFycmF5PHsgcmVzb3VyY2U6IHN0cmluZzsgY291bnQ6IG51bWJlciB9Pjtcbn1cblxuLyoqXG4gKiBBdWRpdExvZ2dlciBwcm92aWRlcyBjb21wcmVoZW5zaXZlIGF1ZGl0IGxvZ2dpbmcgZm9yIGFsbCBzZW5zaXRpdmUgb3BlcmF0aW9uc1xuICogaW4gQXpTdHVkaW8gaW5jbHVkaW5nIEFJIGFjdGlvbnMsIGZpbGUgbW9kaWZpY2F0aW9ucywgbmV0d29yayByZXF1ZXN0cywgYW5kXG4gKiBwZXJtaXNzaW9uIGdyYW50cy5cbiAqIFxuICogRmVhdHVyZXM6XG4gKiAtIFN0cnVjdHVyZWQgZXZlbnQgbG9nZ2luZyB3aXRoIG1ldGFkYXRhXG4gKiAtIFF1ZXJ5YWJsZSBhdWRpdCB0cmFpbFxuICogLSBBdXRvbWF0aWMgbG9nIHJvdGF0aW9uXG4gKiAtIEV4cG9ydCBjYXBhYmlsaXRpZXNcbiAqIC0gUmVhbC10aW1lIHN0YXRpc3RpY3NcbiAqL1xuZXhwb3J0IGNsYXNzIEF1ZGl0TG9nZ2VyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgTUFYX0xPR19TSVpFID0gMTAgKiAxMDI0ICogMTAyNDsgLy8gMTBNQlxuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBNQVhfTE9HX0ZJTEVTID0gNTtcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgRkxVU0hfSU5URVJWQUwgPSA1MDAwOyAvLyA1IHNlY29uZHNcblxuICBwcml2YXRlIGxvZ1BhdGg6IHN0cmluZztcbiAgcHJpdmF0ZSBjdXJyZW50TG9nRmlsZTogc3RyaW5nO1xuICBwcml2YXRlIGV2ZW50czogQXVkaXRFdmVudFtdID0gW107XG4gIHByaXZhdGUgZmx1c2hUaW1lcjogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBldmVudENvdW50ZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKHByb2plY3RQYXRoPzogc3RyaW5nKSB7XG4gICAgaWYgKHByb2plY3RQYXRoKSB7XG4gICAgICB0aGlzLmxvZ1BhdGggPSBwYXRoLmpvaW4ocHJvamVjdFBhdGgsICcuYXpzdHVkaW8nLCAnYXVkaXQtbG9ncycpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZ1BhdGggPSBwYXRoLmpvaW4oYXBwLmdldFBhdGgoJ3VzZXJEYXRhJyksICdhdWRpdC1sb2dzJyk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuY3VycmVudExvZ0ZpbGUgPSBwYXRoLmpvaW4odGhpcy5sb2dQYXRoLCBgYXVkaXQtJHtEYXRlLm5vdygpfS5qc29ubGApO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGF1ZGl0IGxvZ2dlclxuICAgKi9cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBFbnN1cmUgbG9nIGRpcmVjdG9yeSBleGlzdHNcbiAgICBhd2FpdCBmcy5ta2Rpcih0aGlzLmxvZ1BhdGgsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuXG4gICAgLy8gU3RhcnQgcGVyaW9kaWMgZmx1c2hcbiAgICB0aGlzLnN0YXJ0UGVyaW9kaWNGbHVzaCgpO1xuXG4gICAgLy8gUm90YXRlIGxvZ3MgaWYgbmVlZGVkXG4gICAgYXdhaXQgdGhpcy5yb3RhdGVMb2dzKCk7XG4gIH1cblxuICAvKipcbiAgICogTG9nIGFuIGF1ZGl0IGV2ZW50XG4gICAqL1xuICBhc3luYyBsb2coXG4gICAgdHlwZTogQXVkaXRFdmVudFR5cGUsXG4gICAgYWN0aW9uOiBzdHJpbmcsXG4gICAgcmVzb3VyY2U6IHN0cmluZyxcbiAgICBvcHRpb25zPzoge1xuICAgICAgc2V2ZXJpdHk/OiBBdWRpdFNldmVyaXR5O1xuICAgICAgYWN0b3I/OiBzdHJpbmc7XG4gICAgICBkZXRhaWxzPzogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICAgIG1ldGFkYXRhPzogQXVkaXRFdmVudFsnbWV0YWRhdGEnXTtcbiAgICB9XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGV2ZW50OiBBdWRpdEV2ZW50ID0ge1xuICAgICAgaWQ6IHRoaXMuZ2VuZXJhdGVFdmVudElkKCksXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICB0eXBlLFxuICAgICAgc2V2ZXJpdHk6IG9wdGlvbnM/LnNldmVyaXR5IHx8ICdpbmZvJyxcbiAgICAgIGFjdG9yOiBvcHRpb25zPy5hY3RvciB8fCAnc3lzdGVtJyxcbiAgICAgIHJlc291cmNlLFxuICAgICAgYWN0aW9uLFxuICAgICAgZGV0YWlsczogb3B0aW9ucz8uZGV0YWlscyxcbiAgICAgIG1ldGFkYXRhOiBvcHRpb25zPy5tZXRhZGF0YSxcbiAgICB9O1xuXG4gICAgdGhpcy5ldmVudHMucHVzaChldmVudCk7XG5cbiAgICAvLyBGbHVzaCBpZiBidWZmZXIgaXMgbGFyZ2VcbiAgICBpZiAodGhpcy5ldmVudHMubGVuZ3RoID49IDEwMCkge1xuICAgICAgYXdhaXQgdGhpcy5mbHVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2cgQUkgcmVxdWVzdFxuICAgKi9cbiAgYXN5bmMgbG9nQUlSZXF1ZXN0KFxuICAgIG1vZGVsOiBzdHJpbmcsXG4gICAgcHJvbXB0OiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IHtcbiAgICAgIHRva2Vucz86IG51bWJlcjtcbiAgICAgIGNvc3Q/OiBudW1iZXI7XG4gICAgICBwcm9qZWN0UGF0aD86IHN0cmluZztcbiAgICB9XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMubG9nKCdhaTpyZXF1ZXN0JywgJ0FJIHJlcXVlc3Qgc2VudCcsIG1vZGVsLCB7XG4gICAgICBzZXZlcml0eTogJ2luZm8nLFxuICAgICAgZGV0YWlsczoge1xuICAgICAgICBwcm9tcHRMZW5ndGg6IHByb21wdC5sZW5ndGgsXG4gICAgICAgIHRva2Vuczogb3B0aW9ucz8udG9rZW5zLFxuICAgICAgICBjb3N0OiBvcHRpb25zPy5jb3N0LFxuICAgICAgfSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIHByb2plY3RQYXRoOiBvcHRpb25zPy5wcm9qZWN0UGF0aCxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTG9nIEFJIHJlc3BvbnNlXG4gICAqL1xuICBhc3luYyBsb2dBSVJlc3BvbnNlKFxuICAgIG1vZGVsOiBzdHJpbmcsXG4gICAgc3VjY2VzczogYm9vbGVhbixcbiAgICBvcHRpb25zPzoge1xuICAgICAgdG9rZW5zPzogbnVtYmVyO1xuICAgICAgZHVyYXRpb24/OiBudW1iZXI7XG4gICAgICBlcnJvck1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgfVxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLmxvZygnYWk6cmVzcG9uc2UnLCAnQUkgcmVzcG9uc2UgcmVjZWl2ZWQnLCBtb2RlbCwge1xuICAgICAgc2V2ZXJpdHk6IHN1Y2Nlc3MgPyAnaW5mbycgOiAnZXJyb3InLFxuICAgICAgZGV0YWlsczoge1xuICAgICAgICB0b2tlbnM6IG9wdGlvbnM/LnRva2VucyxcbiAgICAgIH0sXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBzdWNjZXNzLFxuICAgICAgICBkdXJhdGlvbjogb3B0aW9ucz8uZHVyYXRpb24sXG4gICAgICAgIGVycm9yTWVzc2FnZTogb3B0aW9ucz8uZXJyb3JNZXNzYWdlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2cgZmlsZSBvcGVyYXRpb25cbiAgICovXG4gIGFzeW5jIGxvZ0ZpbGVPcGVyYXRpb24oXG4gICAgb3BlcmF0aW9uOiAncmVhZCcgfCAnd3JpdGUnIHwgJ2RlbGV0ZScgfCAnY3JlYXRlJyxcbiAgICBmaWxlUGF0aDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiB7XG4gICAgICBmaWxlU2l6ZT86IG51bWJlcjtcbiAgICAgIHN1Y2Nlc3M/OiBib29sZWFuO1xuICAgICAgZXJyb3JNZXNzYWdlPzogc3RyaW5nO1xuICAgIH1cbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgdHlwZU1hcCA9IHtcbiAgICAgIHJlYWQ6ICdmaWxlOnJlYWQnIGFzIEF1ZGl0RXZlbnRUeXBlLFxuICAgICAgd3JpdGU6ICdmaWxlOndyaXRlJyBhcyBBdWRpdEV2ZW50VHlwZSxcbiAgICAgIGRlbGV0ZTogJ2ZpbGU6ZGVsZXRlJyBhcyBBdWRpdEV2ZW50VHlwZSxcbiAgICAgIGNyZWF0ZTogJ2ZpbGU6Y3JlYXRlJyBhcyBBdWRpdEV2ZW50VHlwZSxcbiAgICB9O1xuXG4gICAgYXdhaXQgdGhpcy5sb2codHlwZU1hcFtvcGVyYXRpb25dLCBgRmlsZSAke29wZXJhdGlvbn1gLCBmaWxlUGF0aCwge1xuICAgICAgc2V2ZXJpdHk6IG9wdGlvbnM/LnN1Y2Nlc3MgPT09IGZhbHNlID8gJ2Vycm9yJyA6ICdpbmZvJyxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGZpbGVTaXplOiBvcHRpb25zPy5maWxlU2l6ZSxcbiAgICAgICAgc3VjY2Vzczogb3B0aW9ucz8uc3VjY2VzcyxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiBvcHRpb25zPy5lcnJvck1lc3NhZ2UsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExvZyBuZXR3b3JrIHJlcXVlc3RcbiAgICovXG4gIGFzeW5jIGxvZ05ldHdvcmtSZXF1ZXN0KFxuICAgIHVybDogc3RyaW5nLFxuICAgIG1ldGhvZDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiB7XG4gICAgICBkdXJhdGlvbj86IG51bWJlcjtcbiAgICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgICBzdWNjZXNzPzogYm9vbGVhbjtcbiAgICAgIGVycm9yTWVzc2FnZT86IHN0cmluZztcbiAgICB9XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMubG9nKCduZXR3b3JrOnJlcXVlc3QnLCBgJHttZXRob2R9IHJlcXVlc3RgLCB1cmwsIHtcbiAgICAgIHNldmVyaXR5OiBvcHRpb25zPy5zdWNjZXNzID09PSBmYWxzZSA/ICd3YXJuaW5nJyA6ICdpbmZvJyxcbiAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBzdGF0dXNDb2RlOiBvcHRpb25zPy5zdGF0dXNDb2RlLFxuICAgICAgfSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGR1cmF0aW9uOiBvcHRpb25zPy5kdXJhdGlvbixcbiAgICAgICAgc3VjY2Vzczogb3B0aW9ucz8uc3VjY2VzcyxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiBvcHRpb25zPy5lcnJvck1lc3NhZ2UsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExvZyBwZXJtaXNzaW9uIGdyYW50L2RlbnlcbiAgICovXG4gIGFzeW5jIGxvZ1Blcm1pc3Npb24oXG4gICAgcGVybWlzc2lvblR5cGU6IHN0cmluZyxcbiAgICByZXNvdXJjZTogc3RyaW5nLFxuICAgIGdyYW50ZWQ6IGJvb2xlYW4sXG4gICAgcmVhc29uPzogc3RyaW5nXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMubG9nKFxuICAgICAgZ3JhbnRlZCA/ICdwZXJtaXNzaW9uOmdyYW50JyA6ICdwZXJtaXNzaW9uOmRlbnknLFxuICAgICAgZ3JhbnRlZCA/ICdQZXJtaXNzaW9uIGdyYW50ZWQnIDogJ1Blcm1pc3Npb24gZGVuaWVkJyxcbiAgICAgIHJlc291cmNlLFxuICAgICAge1xuICAgICAgICBzZXZlcml0eTogZ3JhbnRlZCA/ICdpbmZvJyA6ICd3YXJuaW5nJyxcbiAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgIHBlcm1pc3Npb25UeXBlLFxuICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgfSxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICBzdWNjZXNzOiBncmFudGVkLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTG9nIHNlY3JldCBhY2Nlc3NcbiAgICovXG4gIGFzeW5jIGxvZ1NlY3JldEFjY2VzcyhcbiAgICBvcGVyYXRpb246ICdyZWFkJyB8ICd3cml0ZScgfCAnZGVsZXRlJyxcbiAgICBrZXk6IHN0cmluZyxcbiAgICBzY29wZTogc3RyaW5nXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHR5cGVNYXAgPSB7XG4gICAgICByZWFkOiAnc2VjcmV0OnJlYWQnIGFzIEF1ZGl0RXZlbnRUeXBlLFxuICAgICAgd3JpdGU6ICdzZWNyZXQ6d3JpdGUnIGFzIEF1ZGl0RXZlbnRUeXBlLFxuICAgICAgZGVsZXRlOiAnc2VjcmV0OmRlbGV0ZScgYXMgQXVkaXRFdmVudFR5cGUsXG4gICAgfTtcblxuICAgIGF3YWl0IHRoaXMubG9nKHR5cGVNYXBbb3BlcmF0aW9uXSwgYFNlY3JldCAke29wZXJhdGlvbn1gLCBrZXksIHtcbiAgICAgIHNldmVyaXR5OiAnaW5mbycsXG4gICAgICBkZXRhaWxzOiB7XG4gICAgICAgIHNjb3BlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2cgR2l0IG9wZXJhdGlvblxuICAgKi9cbiAgYXN5bmMgbG9nR2l0T3BlcmF0aW9uKFxuICAgIG9wZXJhdGlvbjogJ2NvbW1pdCcgfCAncHVzaCcgfCAncHVsbCcsXG4gICAgcmVwb3NpdG9yeTogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiB7XG4gICAgICBicmFuY2g/OiBzdHJpbmc7XG4gICAgICBzdWNjZXNzPzogYm9vbGVhbjtcbiAgICAgIGVycm9yTWVzc2FnZT86IHN0cmluZztcbiAgICB9XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHR5cGVNYXAgPSB7XG4gICAgICBjb21taXQ6ICdnaXQ6Y29tbWl0JyBhcyBBdWRpdEV2ZW50VHlwZSxcbiAgICAgIHB1c2g6ICdnaXQ6cHVzaCcgYXMgQXVkaXRFdmVudFR5cGUsXG4gICAgICBwdWxsOiAnZ2l0OnB1bGwnIGFzIEF1ZGl0RXZlbnRUeXBlLFxuICAgIH07XG5cbiAgICBhd2FpdCB0aGlzLmxvZyh0eXBlTWFwW29wZXJhdGlvbl0sIGBHaXQgJHtvcGVyYXRpb259YCwgcmVwb3NpdG9yeSwge1xuICAgICAgc2V2ZXJpdHk6IG9wdGlvbnM/LnN1Y2Nlc3MgPT09IGZhbHNlID8gJ2Vycm9yJyA6ICdpbmZvJyxcbiAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgYnJhbmNoOiBvcHRpb25zPy5icmFuY2gsXG4gICAgICB9LFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgc3VjY2Vzczogb3B0aW9ucz8uc3VjY2VzcyxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiBvcHRpb25zPy5lcnJvck1lc3NhZ2UsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExvZyBjb2RlIGV4ZWN1dGlvblxuICAgKi9cbiAgYXN5bmMgbG9nQ29kZUV4ZWN1dGlvbihcbiAgICBhY3Rpb246ICdleGVjdXRlJyB8ICdnZW5lcmF0ZScsXG4gICAgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgICBvcHRpb25zPzoge1xuICAgICAgcHJvamVjdFBhdGg/OiBzdHJpbmc7XG4gICAgICBmaWxlc0FmZmVjdGVkPzogbnVtYmVyO1xuICAgICAgc3VjY2Vzcz86IGJvb2xlYW47XG4gICAgICBlcnJvck1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgfVxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB0eXBlID0gYWN0aW9uID09PSAnZXhlY3V0ZScgPyAnY29kZTpleGVjdXRlJyA6ICdjb2RlOmdlbmVyYXRlJztcblxuICAgIGF3YWl0IHRoaXMubG9nKHR5cGUsIGRlc2NyaXB0aW9uLCBvcHRpb25zPy5wcm9qZWN0UGF0aCB8fCAndW5rbm93bicsIHtcbiAgICAgIHNldmVyaXR5OiBvcHRpb25zPy5zdWNjZXNzID09PSBmYWxzZSA/ICdlcnJvcicgOiAnaW5mbycsXG4gICAgICBkZXRhaWxzOiB7XG4gICAgICAgIGZpbGVzQWZmZWN0ZWQ6IG9wdGlvbnM/LmZpbGVzQWZmZWN0ZWQsXG4gICAgICB9LFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgcHJvamVjdFBhdGg6IG9wdGlvbnM/LnByb2plY3RQYXRoLFxuICAgICAgICBzdWNjZXNzOiBvcHRpb25zPy5zdWNjZXNzLFxuICAgICAgICBlcnJvck1lc3NhZ2U6IG9wdGlvbnM/LmVycm9yTWVzc2FnZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUXVlcnkgYXVkaXQgZXZlbnRzXG4gICAqL1xuICBhc3luYyBxdWVyeShvcHRpb25zOiBBdWRpdFF1ZXJ5T3B0aW9ucyA9IHt9KTogUHJvbWlzZTxBdWRpdEV2ZW50W10+IHtcbiAgICBjb25zdCBhbGxFdmVudHMgPSBhd2FpdCB0aGlzLmxvYWRBbGxFdmVudHMoKTtcbiAgICBcbiAgICBsZXQgZmlsdGVyZWQgPSBhbGxFdmVudHM7XG5cbiAgICAvLyBGaWx0ZXIgYnkgZGF0ZSByYW5nZVxuICAgIGlmIChvcHRpb25zLnN0YXJ0RGF0ZSkge1xuICAgICAgZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIoZSA9PiBlLnRpbWVzdGFtcCA+PSBvcHRpb25zLnN0YXJ0RGF0ZSEpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5lbmREYXRlKSB7XG4gICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihlID0+IGUudGltZXN0YW1wIDw9IG9wdGlvbnMuZW5kRGF0ZSEpO1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBieSB0eXBlXG4gICAgaWYgKG9wdGlvbnMudHlwZXMgJiYgb3B0aW9ucy50eXBlcy5sZW5ndGggPiAwKSB7XG4gICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihlID0+IG9wdGlvbnMudHlwZXMhLmluY2x1ZGVzKGUudHlwZSkpO1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBieSBzZXZlcml0eVxuICAgIGlmIChvcHRpb25zLnNldmVyaXRpZXMgJiYgb3B0aW9ucy5zZXZlcml0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGUgPT4gb3B0aW9ucy5zZXZlcml0aWVzIS5pbmNsdWRlcyhlLnNldmVyaXR5KSk7XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIGJ5IGFjdG9yXG4gICAgaWYgKG9wdGlvbnMuYWN0b3IpIHtcbiAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGUgPT4gZS5hY3RvciA9PT0gb3B0aW9ucy5hY3Rvcik7XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIGJ5IHJlc291cmNlXG4gICAgaWYgKG9wdGlvbnMucmVzb3VyY2UpIHtcbiAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGUgPT4gZS5yZXNvdXJjZS5pbmNsdWRlcyhvcHRpb25zLnJlc291cmNlISkpO1xuICAgIH1cblxuICAgIC8vIEFwcGx5IHBhZ2luYXRpb25cbiAgICBjb25zdCBvZmZzZXQgPSBvcHRpb25zLm9mZnNldCB8fCAwO1xuICAgIGNvbnN0IGxpbWl0ID0gb3B0aW9ucy5saW1pdCB8fCBmaWx0ZXJlZC5sZW5ndGg7XG4gICAgXG4gICAgcmV0dXJuIGZpbHRlcmVkLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhdWRpdCBzdGF0aXN0aWNzXG4gICAqL1xuICBhc3luYyBnZXRTdGF0aXN0aWNzKCk6IFByb21pc2U8QXVkaXRTdGF0aXN0aWNzPiB7XG4gICAgY29uc3QgYWxsRXZlbnRzID0gYXdhaXQgdGhpcy5sb2FkQWxsRXZlbnRzKCk7XG5cbiAgICBjb25zdCBldmVudHNCeVR5cGU6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgICBjb25zdCBldmVudHNCeVNldmVyaXR5OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgY29uc3QgcmVzb3VyY2VDb3VudHM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcblxuICAgIGZvciAoY29uc3QgZXZlbnQgb2YgYWxsRXZlbnRzKSB7XG4gICAgICAvLyBDb3VudCBieSB0eXBlXG4gICAgICBldmVudHNCeVR5cGVbZXZlbnQudHlwZV0gPSAoZXZlbnRzQnlUeXBlW2V2ZW50LnR5cGVdIHx8IDApICsgMTtcblxuICAgICAgLy8gQ291bnQgYnkgc2V2ZXJpdHlcbiAgICAgIGV2ZW50c0J5U2V2ZXJpdHlbZXZlbnQuc2V2ZXJpdHldID0gKGV2ZW50c0J5U2V2ZXJpdHlbZXZlbnQuc2V2ZXJpdHldIHx8IDApICsgMTtcblxuICAgICAgLy8gQ291bnQgYnkgcmVzb3VyY2VcbiAgICAgIHJlc291cmNlQ291bnRzW2V2ZW50LnJlc291cmNlXSA9IChyZXNvdXJjZUNvdW50c1tldmVudC5yZXNvdXJjZV0gfHwgMCkgKyAxO1xuICAgIH1cblxuICAgIC8vIEdldCByZWNlbnQgZXJyb3JzXG4gICAgY29uc3QgcmVjZW50RXJyb3JzID0gYWxsRXZlbnRzXG4gICAgICAuZmlsdGVyKGUgPT4gZS5zZXZlcml0eSA9PT0gJ2Vycm9yJyB8fCBlLnNldmVyaXR5ID09PSAnY3JpdGljYWwnKVxuICAgICAgLnNsaWNlKC0xMCk7XG5cbiAgICAvLyBHZXQgdG9wIHJlc291cmNlc1xuICAgIGNvbnN0IHRvcFJlc291cmNlcyA9IE9iamVjdC5lbnRyaWVzKHJlc291cmNlQ291bnRzKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGJbMV0gLSBhWzFdKVxuICAgICAgLnNsaWNlKDAsIDEwKVxuICAgICAgLm1hcCgoW3Jlc291cmNlLCBjb3VudF0pID0+ICh7IHJlc291cmNlLCBjb3VudCB9KSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxFdmVudHM6IGFsbEV2ZW50cy5sZW5ndGgsXG4gICAgICBldmVudHNCeVR5cGU6IGV2ZW50c0J5VHlwZSBhcyBSZWNvcmQ8QXVkaXRFdmVudFR5cGUsIG51bWJlcj4sXG4gICAgICBldmVudHNCeVNldmVyaXR5OiBldmVudHNCeVNldmVyaXR5IGFzIFJlY29yZDxBdWRpdFNldmVyaXR5LCBudW1iZXI+LFxuICAgICAgcmVjZW50RXJyb3JzLFxuICAgICAgdG9wUmVzb3VyY2VzLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRXhwb3J0IGF1ZGl0IGxvZyB0byBmaWxlXG4gICAqL1xuICBhc3luYyBleHBvcnQob3V0cHV0UGF0aDogc3RyaW5nLCBvcHRpb25zOiBBdWRpdFF1ZXJ5T3B0aW9ucyA9IHt9KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZXZlbnRzID0gYXdhaXQgdGhpcy5xdWVyeShvcHRpb25zKTtcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoZXZlbnRzLCBudWxsLCAyKTtcbiAgICBhd2FpdCBmcy53cml0ZUZpbGUob3V0cHV0UGF0aCwganNvbiwgJ3V0Zi04Jyk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgb2xkIGF1ZGl0IGxvZ3NcbiAgICovXG4gIGFzeW5jIGNsZWFyT2xkTG9ncyhkYXlzVG9LZWVwOiBudW1iZXIgPSAzMCk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgY29uc3QgZmlsZXMgPSBhd2FpdCBmcy5yZWFkZGlyKHRoaXMubG9nUGF0aCk7XG4gICAgY29uc3QgY3V0b2ZmRGF0ZSA9IG5ldyBEYXRlKERhdGUubm93KCkgLSBkYXlzVG9LZWVwICogMjQgKiA2MCAqIDYwICogMTAwMCk7XG4gICAgXG4gICAgbGV0IGRlbGV0ZWRDb3VudCA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICAgIGlmICghZmlsZS5zdGFydHNXaXRoKCdhdWRpdC0nKSB8fCAhZmlsZS5lbmRzV2l0aCgnLmpzb25sJykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKHRoaXMubG9nUGF0aCwgZmlsZSk7XG4gICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IGZzLnN0YXQoZmlsZVBhdGgpO1xuICAgICAgXG4gICAgICBpZiAoc3RhdHMubXRpbWUgPCBjdXRvZmZEYXRlKSB7XG4gICAgICAgIGF3YWl0IGZzLnVubGluayhmaWxlUGF0aCk7XG4gICAgICAgIGRlbGV0ZWRDb3VudCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkQ291bnQ7XG4gIH1cblxuICAvKipcbiAgICogRmx1c2ggYnVmZmVyZWQgZXZlbnRzIHRvIGRpc2tcbiAgICovXG4gIGFzeW5jIGZsdXNoKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmV2ZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBldmVudHNUb1dyaXRlID0gWy4uLnRoaXMuZXZlbnRzXTtcbiAgICB0aGlzLmV2ZW50cyA9IFtdO1xuXG4gICAgLy8gV3JpdGUgZXZlbnRzIGFzIEpTT05MIChvbmUgSlNPTiBvYmplY3QgcGVyIGxpbmUpXG4gICAgY29uc3QgbGluZXMgPSBldmVudHNUb1dyaXRlLm1hcChlID0+IEpTT04uc3RyaW5naWZ5KGUpKS5qb2luKCdcXG4nKSArICdcXG4nO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmcy5hcHBlbmRGaWxlKHRoaXMuY3VycmVudExvZ0ZpbGUsIGxpbmVzLCAndXRmLTgnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWYgd3JpdGUgZmFpbHMsIHB1dCBldmVudHMgYmFjayBpbiBidWZmZXJcbiAgICAgIHRoaXMuZXZlbnRzLnVuc2hpZnQoLi4uZXZlbnRzVG9Xcml0ZSk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBsb2cgcm90YXRpb24gaXMgbmVlZGVkXG4gICAgYXdhaXQgdGhpcy5yb3RhdGVMb2dzKCk7XG4gIH1cblxuICAvKipcbiAgICogU2h1dGRvd24gdGhlIGF1ZGl0IGxvZ2dlclxuICAgKi9cbiAgYXN5bmMgc2h1dGRvd24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuZmx1c2hUaW1lcikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmZsdXNoVGltZXIpO1xuICAgICAgdGhpcy5mbHVzaFRpbWVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLmZsdXNoKCk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgdW5pcXVlIGV2ZW50IElEXG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlRXZlbnRJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgJHtEYXRlLm5vdygpfS0ke3RoaXMuZXZlbnRDb3VudGVyKyt9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBwZXJpb2RpYyBmbHVzaCB0aW1lclxuICAgKi9cbiAgcHJpdmF0ZSBzdGFydFBlcmlvZGljRmx1c2goKTogdm9pZCB7XG4gICAgdGhpcy5mbHVzaFRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5mbHVzaCgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgIH0sIEF1ZGl0TG9nZ2VyLkZMVVNIX0lOVEVSVkFMKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSb3RhdGUgbG9ncyBpZiBjdXJyZW50IGZpbGUgaXMgdG9vIGxhcmdlXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHJvdGF0ZUxvZ3MoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgZnMuc3RhdCh0aGlzLmN1cnJlbnRMb2dGaWxlKTtcbiAgICAgIFxuICAgICAgaWYgKHN0YXRzLnNpemUgPj0gQXVkaXRMb2dnZXIuTUFYX0xPR19TSVpFKSB7XG4gICAgICAgIC8vIENyZWF0ZSBuZXcgbG9nIGZpbGVcbiAgICAgICAgdGhpcy5jdXJyZW50TG9nRmlsZSA9IHBhdGguam9pbih0aGlzLmxvZ1BhdGgsIGBhdWRpdC0ke0RhdGUubm93KCl9Lmpzb25sYCk7XG5cbiAgICAgICAgLy8gRGVsZXRlIG9sZCBsb2cgZmlsZXMgaWYgd2UgaGF2ZSB0b28gbWFueVxuICAgICAgICBhd2FpdCB0aGlzLmNsZWFudXBPbGRMb2dzKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIEZpbGUgZG9lc24ndCBleGlzdCB5ZXQsIHRoYXQncyBmaW5lXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwIG9sZCBsb2cgZmlsZXNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgY2xlYW51cE9sZExvZ3MoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZmlsZXMgPSBhd2FpdCBmcy5yZWFkZGlyKHRoaXMubG9nUGF0aCk7XG4gICAgY29uc3QgbG9nRmlsZXMgPSBmaWxlc1xuICAgICAgLmZpbHRlcihmID0+IGYuc3RhcnRzV2l0aCgnYXVkaXQtJykgJiYgZi5lbmRzV2l0aCgnLmpzb25sJykpXG4gICAgICAubWFwKGYgPT4gKHtcbiAgICAgICAgbmFtZTogZixcbiAgICAgICAgcGF0aDogcGF0aC5qb2luKHRoaXMubG9nUGF0aCwgZiksXG4gICAgICB9KSk7XG5cbiAgICBpZiAobG9nRmlsZXMubGVuZ3RoIDw9IEF1ZGl0TG9nZ2VyLk1BWF9MT0dfRklMRVMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTb3J0IGJ5IG1vZGlmaWNhdGlvbiB0aW1lXG4gICAgY29uc3QgZmlsZXNXaXRoU3RhdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIGxvZ0ZpbGVzLm1hcChhc3luYyBmID0+ICh7XG4gICAgICAgIC4uLmYsXG4gICAgICAgIHN0YXRzOiBhd2FpdCBmcy5zdGF0KGYucGF0aCksXG4gICAgICB9KSlcbiAgICApO1xuXG4gICAgZmlsZXNXaXRoU3RhdHMuc29ydCgoYSwgYikgPT4gYS5zdGF0cy5tdGltZS5nZXRUaW1lKCkgLSBiLnN0YXRzLm10aW1lLmdldFRpbWUoKSk7XG5cbiAgICAvLyBEZWxldGUgb2xkZXN0IGZpbGVzXG4gICAgY29uc3QgdG9EZWxldGUgPSBmaWxlc1dpdGhTdGF0cy5zbGljZSgwLCBmaWxlc1dpdGhTdGF0cy5sZW5ndGggLSBBdWRpdExvZ2dlci5NQVhfTE9HX0ZJTEVTKTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbCh0b0RlbGV0ZS5tYXAoZiA9PiBmcy51bmxpbmsoZi5wYXRoKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYWxsIGV2ZW50cyBmcm9tIGxvZyBmaWxlc1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBsb2FkQWxsRXZlbnRzKCk6IFByb21pc2U8QXVkaXRFdmVudFtdPiB7XG4gICAgY29uc3QgZmlsZXMgPSBhd2FpdCBmcy5yZWFkZGlyKHRoaXMubG9nUGF0aCk7XG4gICAgY29uc3QgbG9nRmlsZXMgPSBmaWxlc1xuICAgICAgLmZpbHRlcihmID0+IGYuc3RhcnRzV2l0aCgnYXVkaXQtJykgJiYgZi5lbmRzV2l0aCgnLmpzb25sJykpXG4gICAgICAubWFwKGYgPT4gcGF0aC5qb2luKHRoaXMubG9nUGF0aCwgZikpO1xuXG4gICAgY29uc3QgYWxsRXZlbnRzOiBBdWRpdEV2ZW50W10gPSBbXTtcblxuICAgIGZvciAoY29uc3QgZmlsZSBvZiBsb2dGaWxlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZzLnJlYWRGaWxlKGZpbGUsICd1dGYtOCcpO1xuICAgICAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQudHJpbSgpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgIGlmIChsaW5lLnRyaW0oKSkge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBKU09OLnBhcnNlKGxpbmUpO1xuICAgICAgICAgICAgZXZlbnQudGltZXN0YW1wID0gbmV3IERhdGUoZXZlbnQudGltZXN0YW1wKTtcbiAgICAgICAgICAgIGFsbEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHJlYWRpbmcgbG9nIGZpbGUgJHtmaWxlfTpgLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU29ydCBieSB0aW1lc3RhbXBcbiAgICBhbGxFdmVudHMuc29ydCgoYSwgYikgPT4gYS50aW1lc3RhbXAuZ2V0VGltZSgpIC0gYi50aW1lc3RhbXAuZ2V0VGltZSgpKTtcblxuICAgIHJldHVybiBhbGxFdmVudHM7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6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