{"version":3,"names":["_winston","_interopRequireDefault","require","e","__esModule","default","cov_1bv9g17arm","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","s","f","b","_coverageSchema","coverage","actualCoverage","createLogger","serviceName","logger","winston","defaultMeta","service","format","combine","timestamp","errors","stack","json","printf","level","message","meta","JSON","stringify","transports","Console","colorize","metaStr","Object","keys","length","File","filename","maxsize","maxFiles","requestLoggingMiddleware","req","res","next","Date","now","originalSend","send","data","duration","info","method","status","statusCode","ip","userAgent","get","traceId","spanId","call","logInfo","logWarn","warn","logError","error","logDebug","debug","logDatabaseOperation","operation","table","success","log","logAuthEvent","event","userId","logBusinessEvent","logPaymentEvent","transactionId","amount","currency","logErrorWithContext","context","_default","exports"],"sources":["index.ts"],"sourcesContent":["/**\r\n * Winston Structured Logging Setup\r\n * Provides centralized logging for all Azora services\r\n */\r\n\r\nimport winston from 'winston';\r\nimport { Request, Response, NextFunction } from 'express';\r\n\r\n/**\r\n * Create a logger instance for a service\r\n */\r\nexport function createLogger(serviceName: string) {\r\n  const logger = winston.createLogger({\r\n    defaultMeta: { service: serviceName },\r\n    format: winston.format.combine(\r\n      winston.format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }),\r\n      winston.format.errors({ stack: true }),\r\n      winston.format.json(),\r\n      winston.format.printf(({ timestamp, level, message, service, ...meta }) => {\r\n        return JSON.stringify({\r\n          timestamp,\r\n          level,\r\n          service,\r\n          message,\r\n          ...meta,\r\n        });\r\n      })\r\n    ),\r\n    transports: [\r\n      // Console output\r\n      new winston.transports.Console({\r\n        format: winston.format.combine(\r\n          winston.format.colorize(),\r\n          winston.format.printf(({ timestamp, level, message, service, ...meta }) => {\r\n            const metaStr = Object.keys(meta).length ? JSON.stringify(meta) : '';\r\n            return `${timestamp} [${service}] ${level}: ${message} ${metaStr}`;\r\n          })\r\n        ),\r\n      }),\r\n\r\n      // File output - all logs\r\n      new winston.transports.File({\r\n        filename: `logs/${serviceName}-all.log`,\r\n        maxsize: 10485760, // 10MB\r\n        maxFiles: 5,\r\n      }),\r\n\r\n      // File output - errors only\r\n      new winston.transports.File({\r\n        filename: `logs/${serviceName}-error.log`,\r\n        level: 'error',\r\n        maxsize: 10485760,\r\n        maxFiles: 5,\r\n      }),\r\n    ],\r\n  });\r\n\r\n  return logger;\r\n}\r\n\r\n/**\r\n * Express middleware for request logging\r\n */\r\nexport function requestLoggingMiddleware(logger: winston.Logger) {\r\n  return (req: Request, res: Response, next: NextFunction) => {\r\n    const start = Date.now();\r\n\r\n    // Capture response\r\n    const originalSend = res.send;\r\n    res.send = function (data: any) {\r\n      const duration = Date.now() - start;\r\n\r\n      logger.info('HTTP Request', {\r\n        method: req.method,\r\n        path: req.path,\r\n        status: res.statusCode,\r\n        duration: `${duration}ms`,\r\n        ip: req.ip,\r\n        userAgent: req.get('user-agent'),\r\n        traceId: (req as any).traceId,\r\n        spanId: (req as any).spanId,\r\n      });\r\n\r\n      return originalSend.call(this, data);\r\n    };\r\n\r\n    next();\r\n  };\r\n}\r\n\r\n/**\r\n * Log info message\r\n */\r\nexport function logInfo(logger: winston.Logger, message: string, meta?: Record<string, any>) {\r\n  logger.info(message, meta);\r\n}\r\n\r\n/**\r\n * Log warning message\r\n */\r\nexport function logWarn(logger: winston.Logger, message: string, meta?: Record<string, any>) {\r\n  logger.warn(message, meta);\r\n}\r\n\r\n/**\r\n * Log error message\r\n */\r\nexport function logError(logger: winston.Logger, message: string, error?: Error, meta?: Record<string, any>) {\r\n  logger.error(message, {\r\n    error: error?.message,\r\n    stack: error?.stack,\r\n    ...meta,\r\n  });\r\n}\r\n\r\n/**\r\n * Log debug message\r\n */\r\nexport function logDebug(logger: winston.Logger, message: string, meta?: Record<string, any>) {\r\n  logger.debug(message, meta);\r\n}\r\n\r\n/**\r\n * Log database operation\r\n */\r\nexport function logDatabaseOperation(\r\n  logger: winston.Logger,\r\n  operation: string,\r\n  table: string,\r\n  duration: number,\r\n  success: boolean,\r\n  error?: Error\r\n) {\r\n  const level = success ? 'info' : 'error';\r\n  const message = `Database ${operation} on ${table}`;\r\n\r\n  logger.log(level, message, {\r\n    operation,\r\n    table,\r\n    duration: `${duration}ms`,\r\n    success,\r\n    error: error?.message,\r\n  });\r\n}\r\n\r\n/**\r\n * Log authentication event\r\n */\r\nexport function logAuthEvent(\r\n  logger: winston.Logger,\r\n  event: 'login' | 'logout' | 'failed_login' | 'mfa_enabled' | 'password_reset',\r\n  userId?: string,\r\n  meta?: Record<string, any>\r\n) {\r\n  logger.info(`Auth: ${event}`, {\r\n    event,\r\n    userId,\r\n    ...meta,\r\n  });\r\n}\r\n\r\n/**\r\n * Log business event\r\n */\r\nexport function logBusinessEvent(\r\n  logger: winston.Logger,\r\n  event: string,\r\n  userId: string,\r\n  meta?: Record<string, any>\r\n) {\r\n  logger.info(`Business: ${event}`, {\r\n    event,\r\n    userId,\r\n    ...meta,\r\n  });\r\n}\r\n\r\n/**\r\n * Log payment event\r\n */\r\nexport function logPaymentEvent(\r\n  logger: winston.Logger,\r\n  event: 'payment_initiated' | 'payment_completed' | 'payment_failed' | 'refund_issued',\r\n  transactionId: string,\r\n  amount: number,\r\n  currency: string,\r\n  meta?: Record<string, any>\r\n) {\r\n  logger.info(`Payment: ${event}`, {\r\n    event,\r\n    transactionId,\r\n    amount,\r\n    currency,\r\n    ...meta,\r\n  });\r\n}\r\n\r\n/**\r\n * Log error with context\r\n */\r\nexport function logErrorWithContext(\r\n  logger: winston.Logger,\r\n  error: Error,\r\n  context: string,\r\n  meta?: Record<string, any>\r\n) {\r\n  logger.error(`Error in ${context}`, {\r\n    error: error.message,\r\n    stack: error.stack,\r\n    context,\r\n    ...meta,\r\n  });\r\n}\r\n\r\nexport default {\r\n  createLogger,\r\n  requestLoggingMiddleware,\r\n  logInfo,\r\n  logWarn,\r\n  logError,\r\n  logDebug,\r\n  logDatabaseOperation,\r\n  logAuthEvent,\r\n  logBusinessEvent,\r\n  logPaymentEvent,\r\n  logErrorWithContext,\r\n};\r\n"],"mappings":"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","ignoreList":[]}