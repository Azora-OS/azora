{"version":3,"names":["_nodeCron","_interopRequireDefault","require","_chaosEngine","e","__esModule","default","cov_18izzoeed4","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","_coverageSchema","coverage","actualCoverage","ChaosScheduler","constructor","config","engine","ChaosEngine","scheduledTask","enabled","console","log","intensity","schedule","frequency","duration","targetServices","join","excludeServices","cron","runChaosWindow","on","result","logToAuditLedger","stop","endTime","Date","now","eventCount","requireApproval","approved","requestConstitutionalApproval","injectChaos","waitTime","calculateWaitTime","sleep","error","response","fetch","method","headers","body","JSON","stringify","prompt","actionType","agentId","ok","data","json","success","verdict","warn","from","to","amount","currency","chaosEvent","catch","base","Math","random","getHistory","getActiveEvents","ms","Promise","resolve","setTimeout","exports","_default"],"sources":["chaos-scheduler.ts"],"sourcesContent":["import cron from 'node-cron';\nimport { ChaosEngine } from './chaos-engine';\nimport { ChaosConfig } from './failure-types';\n\nexport class ChaosScheduler {\n    private engine: ChaosEngine;\n    private config: ChaosConfig;\n    private scheduledTask: cron.ScheduledTask | null;\n\n    constructor(config: ChaosConfig) {\n        this.config = config;\n        this.engine = new ChaosEngine(config);\n        this.scheduledTask = null;\n    }\n\n    /**\n     * Start scheduled chaos injection\n     */\n    start(): void {\n        if (!this.config.enabled) {\n            console.log('üêµ ChaosMonkey is disabled');\n            return;\n        }\n\n        console.log(`üêµ ChaosMonkey started with ${this.config.intensity} intensity`);\n        console.log(`   Schedule: ${this.config.schedule.frequency}`);\n        console.log(`   Duration: ${this.config.schedule.duration} minutes`);\n        console.log(`   Targets: ${this.config.targetServices.join(', ')}`);\n        console.log(`   Excluded: ${this.config.excludeServices.join(', ')}`);\n\n        // Schedule chaos injection\n        this.scheduledTask = cron.schedule(this.config.schedule.frequency, async () => {\n            console.log('üêµ ChaosMonkey: Scheduled chaos window starting...');\n            await this.runChaosWindow();\n        });\n\n        // Listen to chaos events\n        this.engine.on('chaos-injected', (result) => {\n            console.log(`üêµ Chaos event completed:`, result);\n            this.logToAuditLedger(result);\n        });\n    }\n\n    /**\n     * Stop scheduled chaos injection\n     */\n    stop(): void {\n        if (this.scheduledTask) {\n            this.scheduledTask.stop();\n            console.log('üêµ ChaosMonkey stopped');\n        }\n    }\n\n    /**\n     * Run a chaos window (inject multiple failures over duration)\n     */\n    private async runChaosWindow(): Promise<void> {\n        const endTime = Date.now() + (this.config.schedule.duration * 60 * 1000);\n        let eventCount = 0;\n\n        while (Date.now() < endTime) {\n            try {\n                // Check if we need Constitutional AI approval\n                if (this.config.requireApproval && this.config.intensity === 'high') {\n                    const approved = await this.requestConstitutionalApproval();\n                    if (!approved) {\n                        console.log('üêµ High-intensity chaos rejected by Constitutional AI');\n                        break;\n                    }\n                }\n\n                // Inject chaos\n                await this.engine.injectChaos();\n                eventCount++;\n\n                // Wait before next injection\n                const waitTime = this.calculateWaitTime();\n                await this.sleep(waitTime);\n            } catch (error) {\n                console.error('üêµ Chaos injection error:', error);\n            }\n        }\n\n        console.log(`üêµ Chaos window complete. Injected ${eventCount} events.`);\n    }\n\n    /**\n     * Request approval from Constitutional AI\n     */\n    private async requestConstitutionalApproval(): Promise<boolean> {\n        try {\n            const response = await fetch('http://localhost:3014/api/critique', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    prompt: `High-intensity chaos injection requested. This will intentionally stress the system.`,\n                    actionType: 'TRANSACTION',\n                    agentId: 'chaos-monkey'\n                })\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                return data.success && data.data.verdict !== 'REJECT';\n            }\n        } catch (error) {\n            console.warn('Constitutional AI unavailable, proceeding with chaos');\n        }\n        return true; // Fail open\n    }\n\n    /**\n     * Log chaos event to Auditable Mutation Ledger\n     */\n    private async logToAuditLedger(result: any): Promise<void> {\n        try {\n            // In production, log to azora-mint blockchain\n            await fetch('http://localhost:3011/api/blockchain/transaction', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    from: 'chaos-monkey',\n                    to: 'system',\n                    amount: 0,\n                    currency: 'AZR',\n                    type: 'Education', // Chaos teaches the system\n                    data: { chaosEvent: result }\n                })\n            }).catch(() => console.warn('Failed to log to AML'));\n        } catch (error) {\n            console.warn('AML logging failed:', error);\n        }\n    }\n\n    /**\n     * Calculate wait time between chaos events\n     */\n    private calculateWaitTime(): number {\n        const base = this.config.intensity === 'high' ? 30000 :\n            this.config.intensity === 'medium' ? 60000 : 120000;\n        return base + Math.random() * 30000;\n    }\n\n    /**\n     * Get chaos history\n     */\n    public getHistory() {\n        return this.engine.getHistory();\n    }\n\n    /**\n     * Get active events\n     */\n    public getActiveEvents() {\n        return this.engine.getActiveEvents();\n    }\n\n    private sleep(ms: number): Promise<void> {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n}\n\nexport default ChaosScheduler;\n"],"mappings":";;;;;;;AAAA;AAAA;AAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA;AAAA;AAAAC,YAAA,GAAAD,OAAA;AAA6C,oCAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,SAAAG,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;MAAA;QAAAC,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;IAAA;IAAAO,SAAA;MAAA;QAAAD,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;IAAA;IAAAW,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,eAAA;IAAArB,IAAA;EAAA;EAAA,IAAAsB,QAAA,GAAArB,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAAmB,QAAA,CAAAvB,IAAA,KAAAuB,QAAA,CAAAvB,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAAsB,QAAA,CAAAvB,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAAmB,cAAA,GAAAD,QAAA,CAAAvB,IAAA;EAAA;IAcjC;IAAAD,cAAA,YAAAA,CAAA;MAAA,OAAAyB,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAzB,cAAA;AAXL,MAAM0B,cAAc,CAAC;EAKxBC,WAAWA,CAACC,MAAmB,EAAE;IAAA;IAAA5B,cAAA,GAAAqB,CAAA;IAAArB,cAAA,GAAAoB,CAAA;IAC7B,IAAI,CAACQ,MAAM,GAAGA,MAAM;IAAC;IAAA5B,cAAA,GAAAoB,CAAA;IACrB,IAAI,CAACS,MAAM,GAAG;IAAIC;IAAAA;IAAAA;IAAAA,WAAW,CAACF,MAAM,CAAC;IAAC;IAAA5B,cAAA,GAAAoB,CAAA;IACtC,IAAI,CAACW,aAAa,GAAG,IAAI;EAC7B;;EAEA;AACJ;AACA;EACIvB,KAAKA,CAAA,EAAS;IAAA;IAAAR,cAAA,GAAAqB,CAAA;IAAArB,cAAA,GAAAoB,CAAA;IACV,IAAI,CAAC,IAAI,CAACQ,MAAM,CAACI,OAAO,EAAE;MAAA;MAAAhC,cAAA,GAAAsB,CAAA;MAAAtB,cAAA,GAAAoB,CAAA;MACtBa,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;MAAC;MAAAlC,cAAA,GAAAoB,CAAA;MAC1C;IACJ,CAAC;IAAA;IAAA;MAAApB,cAAA,GAAAsB,CAAA;IAAA;IAAAtB,cAAA,GAAAoB,CAAA;IAEDa,OAAO,CAACC,GAAG,CAAC,+BAA+B,IAAI,CAACN,MAAM,CAACO,SAAS,YAAY,CAAC;IAAC;IAAAnC,cAAA,GAAAoB,CAAA;IAC9Ea,OAAO,CAACC,GAAG,CAAC,gBAAgB,IAAI,CAACN,MAAM,CAACQ,QAAQ,CAACC,SAAS,EAAE,CAAC;IAAC;IAAArC,cAAA,GAAAoB,CAAA;IAC9Da,OAAO,CAACC,GAAG,CAAC,gBAAgB,IAAI,CAACN,MAAM,CAACQ,QAAQ,CAACE,QAAQ,UAAU,CAAC;IAAC;IAAAtC,cAAA,GAAAoB,CAAA;IACrEa,OAAO,CAACC,GAAG,CAAC,eAAe,IAAI,CAACN,MAAM,CAACW,cAAc,CAACC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;IAAC;IAAAxC,cAAA,GAAAoB,CAAA;IACpEa,OAAO,CAACC,GAAG,CAAC,gBAAgB,IAAI,CAACN,MAAM,CAACa,eAAe,CAACD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;;IAErE;IAAA;IAAAxC,cAAA,GAAAoB,CAAA;IACA,IAAI,CAACW,aAAa;IAAGW;IAAAA;IAAAA;IAAAA,OAAI,CAACN,QAAQ,CAAC,IAAI,CAACR,MAAM,CAACQ,QAAQ,CAACC,SAAS,EAAE,YAAY;MAAA;MAAArC,cAAA,GAAAqB,CAAA;MAAArB,cAAA,GAAAoB,CAAA;MAC3Ea,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC;MAAC;MAAAlC,cAAA,GAAAoB,CAAA;MAClE,MAAM,IAAI,CAACuB,cAAc,CAAC,CAAC;IAC/B,CAAC,CAAC;;IAEF;IAAA;IAAA3C,cAAA,GAAAoB,CAAA;IACA,IAAI,CAACS,MAAM,CAACe,EAAE,CAAC,gBAAgB,EAAGC,MAAM,IAAK;MAAA;MAAA7C,cAAA,GAAAqB,CAAA;MAAArB,cAAA,GAAAoB,CAAA;MACzCa,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEW,MAAM,CAAC;MAAC;MAAA7C,cAAA,GAAAoB,CAAA;MACjD,IAAI,CAAC0B,gBAAgB,CAACD,MAAM,CAAC;IACjC,CAAC,CAAC;EACN;;EAEA;AACJ;AACA;EACIE,IAAIA,CAAA,EAAS;IAAA;IAAA/C,cAAA,GAAAqB,CAAA;IAAArB,cAAA,GAAAoB,CAAA;IACT,IAAI,IAAI,CAACW,aAAa,EAAE;MAAA;MAAA/B,cAAA,GAAAsB,CAAA;MAAAtB,cAAA,GAAAoB,CAAA;MACpB,IAAI,CAACW,aAAa,CAACgB,IAAI,CAAC,CAAC;MAAC;MAAA/C,cAAA,GAAAoB,CAAA;MAC1Ba,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;IACzC,CAAC;IAAA;IAAA;MAAAlC,cAAA,GAAAsB,CAAA;IAAA;EACL;;EAEA;AACJ;AACA;EACI,MAAcqB,cAAcA,CAAA,EAAkB;IAAA;IAAA3C,cAAA,GAAAqB,CAAA;IAC1C,MAAM2B,OAAO;IAAA;IAAA,CAAAhD,cAAA,GAAAoB,CAAA,QAAG6B,IAAI,CAACC,GAAG,CAAC,CAAC,GAAI,IAAI,CAACtB,MAAM,CAACQ,QAAQ,CAACE,QAAQ,GAAG,EAAE,GAAG,IAAK;IACxE,IAAIa,UAAU;IAAA;IAAA,CAAAnD,cAAA,GAAAoB,CAAA,QAAG,CAAC;IAAC;IAAApB,cAAA,GAAAoB,CAAA;IAEnB,OAAO6B,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,OAAO,EAAE;MAAA;MAAAhD,cAAA,GAAAoB,CAAA;MACzB,IAAI;QAAA;QAAApB,cAAA,GAAAoB,CAAA;QACA;QACA;QAAI;QAAA,CAAApB,cAAA,GAAAsB,CAAA,cAAI,CAACM,MAAM,CAACwB,eAAe;QAAA;QAAA,CAAApD,cAAA,GAAAsB,CAAA,UAAI,IAAI,CAACM,MAAM,CAACO,SAAS,KAAK,MAAM,GAAE;UAAA;UAAAnC,cAAA,GAAAsB,CAAA;UACjE,MAAM+B,QAAQ;UAAA;UAAA,CAAArD,cAAA,GAAAoB,CAAA,QAAG,MAAM,IAAI,CAACkC,6BAA6B,CAAC,CAAC;UAAC;UAAAtD,cAAA,GAAAoB,CAAA;UAC5D,IAAI,CAACiC,QAAQ,EAAE;YAAA;YAAArD,cAAA,GAAAsB,CAAA;YAAAtB,cAAA,GAAAoB,CAAA;YACXa,OAAO,CAACC,GAAG,CAAC,uDAAuD,CAAC;YAAC;YAAAlC,cAAA,GAAAoB,CAAA;YACrE;UACJ,CAAC;UAAA;UAAA;YAAApB,cAAA,GAAAsB,CAAA;UAAA;QACL,CAAC;QAAA;QAAA;UAAAtB,cAAA,GAAAsB,CAAA;QAAA;;QAED;QAAAtB,cAAA,GAAAoB,CAAA;QACA,MAAM,IAAI,CAACS,MAAM,CAAC0B,WAAW,CAAC,CAAC;QAAC;QAAAvD,cAAA,GAAAoB,CAAA;QAChC+B,UAAU,EAAE;;QAEZ;QACA,MAAMK,QAAQ;QAAA;QAAA,CAAAxD,cAAA,GAAAoB,CAAA,QAAG,IAAI,CAACqC,iBAAiB,CAAC,CAAC;QAAC;QAAAzD,cAAA,GAAAoB,CAAA;QAC1C,MAAM,IAAI,CAACsC,KAAK,CAACF,QAAQ,CAAC;MAC9B,CAAC,CAAC,OAAOG,KAAK,EAAE;QAAA;QAAA3D,cAAA,GAAAoB,CAAA;QACZa,OAAO,CAAC0B,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACrD;IACJ;IAAC;IAAA3D,cAAA,GAAAoB,CAAA;IAEDa,OAAO,CAACC,GAAG,CAAC,sCAAsCiB,UAAU,UAAU,CAAC;EAC3E;;EAEA;AACJ;AACA;EACI,MAAcG,6BAA6BA,CAAA,EAAqB;IAAA;IAAAtD,cAAA,GAAAqB,CAAA;IAAArB,cAAA,GAAAoB,CAAA;IAC5D,IAAI;MACA,MAAMwC,QAAQ;MAAA;MAAA,CAAA5D,cAAA,GAAAoB,CAAA,QAAG,MAAMyC,KAAK,CAAC,oCAAoC,EAAE;QAC/DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBC,MAAM,EAAE,sFAAsF;UAC9FC,UAAU,EAAE,aAAa;UACzBC,OAAO,EAAE;QACb,CAAC;MACL,CAAC,CAAC;MAAC;MAAArE,cAAA,GAAAoB,CAAA;MAEH,IAAIwC,QAAQ,CAACU,EAAE,EAAE;QAAA;QAAAtE,cAAA,GAAAsB,CAAA;QACb,MAAMiD,IAAI;QAAA;QAAA,CAAAvE,cAAA,GAAAoB,CAAA,QAAG,MAAMwC,QAAQ,CAACY,IAAI,CAAC,CAAC;QAAC;QAAAxE,cAAA,GAAAoB,CAAA;QACnC,OAAO,2BAAApB,cAAA,GAAAsB,CAAA,UAAAiD,IAAI,CAACE,OAAO;QAAA;QAAA,CAAAzE,cAAA,GAAAsB,CAAA,UAAIiD,IAAI,CAACA,IAAI,CAACG,OAAO,KAAK,QAAQ;MACzD,CAAC;MAAA;MAAA;QAAA1E,cAAA,GAAAsB,CAAA;MAAA;IACL,CAAC,CAAC,OAAOqC,KAAK,EAAE;MAAA;MAAA3D,cAAA,GAAAoB,CAAA;MACZa,OAAO,CAAC0C,IAAI,CAAC,sDAAsD,CAAC;IACxE;IAAC;IAAA3E,cAAA,GAAAoB,CAAA;IACD,OAAO,IAAI,CAAC,CAAC;EACjB;;EAEA;AACJ;AACA;EACI,MAAc0B,gBAAgBA,CAACD,MAAW,EAAiB;IAAA;IAAA7C,cAAA,GAAAqB,CAAA;IAAArB,cAAA,GAAAoB,CAAA;IACvD,IAAI;MAAA;MAAApB,cAAA,GAAAoB,CAAA;MACA;MACA,MAAMyC,KAAK,CAAC,kDAAkD,EAAE;QAC5DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBU,IAAI,EAAE,cAAc;UACpBC,EAAE,EAAE,QAAQ;UACZC,MAAM,EAAE,CAAC;UACTC,QAAQ,EAAE,KAAK;UACf9D,IAAI,EAAE,WAAW;UAAE;UACnBsD,IAAI,EAAE;YAAES,UAAU,EAAEnC;UAAO;QAC/B,CAAC;MACL,CAAC,CAAC,CAACoC,KAAK,CAAC,MAAM;QAAA;QAAAjF,cAAA,GAAAqB,CAAA;QAAArB,cAAA,GAAAoB,CAAA;QAAA,OAAAa,OAAO,CAAC0C,IAAI,CAAC,sBAAsB,CAAC;MAAD,CAAC,CAAC;IACxD,CAAC,CAAC,OAAOhB,KAAK,EAAE;MAAA;MAAA3D,cAAA,GAAAoB,CAAA;MACZa,OAAO,CAAC0C,IAAI,CAAC,qBAAqB,EAAEhB,KAAK,CAAC;IAC9C;EACJ;;EAEA;AACJ;AACA;EACYF,iBAAiBA,CAAA,EAAW;IAAA;IAAAzD,cAAA,GAAAqB,CAAA;IAChC,MAAM6D,IAAI;IAAA;IAAA,CAAAlF,cAAA,GAAAoB,CAAA,QAAG,IAAI,CAACQ,MAAM,CAACO,SAAS,KAAK,MAAM;IAAA;IAAA,CAAAnC,cAAA,GAAAsB,CAAA,UAAG,KAAK;IAAA;IAAA,CAAAtB,cAAA,GAAAsB,CAAA,UACjD,IAAI,CAACM,MAAM,CAACO,SAAS,KAAK,QAAQ;IAAA;IAAA,CAAAnC,cAAA,GAAAsB,CAAA,UAAG,KAAK;IAAA;IAAA,CAAAtB,cAAA,GAAAsB,CAAA,UAAG,MAAM;IAAC;IAAAtB,cAAA,GAAAoB,CAAA;IACxD,OAAO8D,IAAI,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,KAAK;EACvC;;EAEA;AACJ;AACA;EACWC,UAAUA,CAAA,EAAG;IAAA;IAAArF,cAAA,GAAAqB,CAAA;IAAArB,cAAA,GAAAoB,CAAA;IAChB,OAAO,IAAI,CAACS,MAAM,CAACwD,UAAU,CAAC,CAAC;EACnC;;EAEA;AACJ;AACA;EACWC,eAAeA,CAAA,EAAG;IAAA;IAAAtF,cAAA,GAAAqB,CAAA;IAAArB,cAAA,GAAAoB,CAAA;IACrB,OAAO,IAAI,CAACS,MAAM,CAACyD,eAAe,CAAC,CAAC;EACxC;EAEQ5B,KAAKA,CAAC6B,EAAU,EAAiB;IAAA;IAAAvF,cAAA,GAAAqB,CAAA;IAAArB,cAAA,GAAAoB,CAAA;IACrC,OAAO,IAAIoE,OAAO,CAACC,OAAO,IAAI;MAAA;MAAAzF,cAAA,GAAAqB,CAAA;MAAArB,cAAA,GAAAoB,CAAA;MAAA,OAAAsE,UAAU,CAACD,OAAO,EAAEF,EAAE,CAAC;IAAD,CAAC,CAAC;EAC1D;AACJ;AAAC;AAAAI,OAAA,CAAAjE,cAAA,GAAAA,cAAA;AAAA,IAAAkE,QAAA,GAAAD,OAAA,CAAA5F,OAAA,GAEc2B,cAAc","ignoreList":[]}