0db2e8d69b10e0e1869cbfb750484d52
"use strict";

var _PaymentServiceComponent = require("../PaymentServiceComponent");
describe('PaymentServiceComponent', () => {
  let paymentComponent;
  const outputDir = '/test/output';
  beforeEach(() => {
    paymentComponent = new _PaymentServiceComponent.PaymentServiceComponent();
  });
  describe('generatePaymentService', () => {
    it('should generate basic payment service files', () => {
      const config = {
        name: 'test-payment',
        port: 3002
      };
      const changes = paymentComponent.generatePaymentService(config, outputDir);
      expect(changes).toBeInstanceOf(Array);
      expect(changes.length).toBeGreaterThan(0);
      const filePaths = changes.map(c => c.path);
      expect(filePaths).toContain(expect.stringContaining('index.ts'));
      expect(filePaths).toContain(expect.stringContaining('payment.controller.ts'));
      expect(filePaths).toContain(expect.stringContaining('webhook.controller.ts'));
      expect(filePaths).toContain(expect.stringContaining('stripe.service.ts'));
      expect(filePaths).toContain(expect.stringContaining('payment.service.ts'));
      expect(filePaths).toContain(expect.stringContaining('payment.repository.ts'));
      expect(filePaths).toContain(expect.stringContaining('schema.prisma'));
    });
    it('should include subscription service when enabled', () => {
      const config = {
        name: 'test-payment',
        enableSubscriptions: true
      };
      const changes = paymentComponent.generatePaymentService(config, outputDir);
      const filePaths = changes.map(c => c.path);
      expect(filePaths).toContain(expect.stringContaining('subscription.service.ts'));
    });
    it('should generate Stripe integration', () => {
      const config = {
        name: 'test-payment'
      };
      const changes = paymentComponent.generatePaymentService(config, outputDir);
      const stripeFile = changes.find(c => c.path.includes('stripe.service.ts'));
      expect(stripeFile).toBeDefined();
      expect(stripeFile.content).toContain('createPaymentIntent');
      expect(stripeFile.content).toContain('confirmPaymentIntent');
      expect(stripeFile.content).toContain('constructWebhookEvent');
    });
    it('should include refund functionality when enabled', () => {
      const config = {
        name: 'test-payment',
        enableRefunds: true
      };
      const changes = paymentComponent.generatePaymentService(config, outputDir);
      const stripeFile = changes.find(c => c.path.includes('stripe.service.ts'));
      const controllerFile = changes.find(c => c.path.includes('payment.controller.ts'));
      expect(stripeFile.content).toContain('createRefund');
      expect(controllerFile.content).toContain('refundPayment');
    });
    it('should generate webhook handling', () => {
      const config = {
        name: 'test-payment',
        enableSubscriptions: true
      };
      const changes = paymentComponent.generatePaymentService(config, outputDir);
      const webhookFile = changes.find(c => c.path.includes('webhook.controller.ts'));
      expect(webhookFile).toBeDefined();
      expect(webhookFile.content).toContain('handleStripeWebhook');
      expect(webhookFile.content).toContain('payment_intent.succeeded');
      expect(webhookFile.content).toContain('customer.subscription.created');
    });
    it('should generate payment processing logic', () => {
      const config = {
        name: 'test-payment'
      };
      const changes = paymentComponent.generatePaymentService(config, outputDir);
      const serviceFile = changes.find(c => c.path.includes('payment.service.ts'));
      expect(serviceFile).toBeDefined();
      expect(serviceFile.content).toContain('createPaymentIntent');
      expect(serviceFile.content).toContain('confirmPayment');
      expect(serviceFile.content).toContain('handlePaymentSuccess');
      expect(serviceFile.content).toContain('handlePaymentFailure');
    });
    it('should generate subscription management when enabled', () => {
      const config = {
        name: 'test-payment',
        enableSubscriptions: true
      };
      const changes = paymentComponent.generatePaymentService(config, outputDir);
      const subscriptionFile = changes.find(c => c.path.includes('subscription.service.ts'));
      expect(subscriptionFile).toBeDefined();
      expect(subscriptionFile.content).toContain('createSubscription');
      expect(subscriptionFile.content).toContain('cancelSubscription');
      expect(subscriptionFile.content).toContain('listUserSubscriptions');
    });
    it('should generate Prisma schema with Payment model', () => {
      const config = {
        name: 'test-payment'
      };
      const changes = paymentComponent.generatePaymentService(config, outputDir);
      const schemaFile = changes.find(c => c.path.includes('schema.prisma'));
      expect(schemaFile).toBeDefined();
      expect(schemaFile.content).toContain('model Payment');
      expect(schemaFile.content).toContain('stripePaymentIntentId');
      expect(schemaFile.content).toContain('amount');
      expect(schemaFile.content).toContain('status');
    });
    it('should include subscription models when enabled', () => {
      const config = {
        name: 'test-payment',
        enableSubscriptions: true
      };
      const changes = paymentComponent.generatePaymentService(config, outputDir);
      const schemaFile = changes.find(c => c.path.includes('schema.prisma'));
      expect(schemaFile).toBeDefined();
      expect(schemaFile.content).toContain('model Customer');
      expect(schemaFile.content).toContain('model Subscription');
    });
    it('should generate validation schemas', () => {
      const config = {
        name: 'test-payment',
        enableRefunds: true
      };
      const changes = paymentComponent.generatePaymentService(config, outputDir);
      const validationFile = changes.find(c => c.path.includes('payment.schemas.ts'));
      expect(validationFile).toBeDefined();
      expect(validationFile.content).toContain('createIntent');
      expect(validationFile.content).toContain('confirmPayment');
      expect(validationFile.content).toContain('refund');
    });
    it('should generate package.json with Stripe dependency', () => {
      const config = {
        name: 'test-payment'
      };
      const changes = paymentComponent.generatePaymentService(config, outputDir);
      const packageFile = changes.find(c => c.path.includes('package.json'));
      expect(packageFile).toBeDefined();
      const packageJson = JSON.parse(packageFile.content);
      expect(packageJson.dependencies).toHaveProperty('stripe');
      expect(packageJson.dependencies).toHaveProperty('@prisma/client');
    });
    it('should generate README with webhook setup instructions', () => {
      const config = {
        name: 'test-payment',
        enableSubscriptions: true
      };
      const changes = paymentComponent.generatePaymentService(config, outputDir);
      const readmeFile = changes.find(c => c.path.includes('README.md'));
      expect(readmeFile).toBeDefined();
      expect(readmeFile.content).toContain('Payment Service');
      expect(readmeFile.content).toContain('Stripe webhook');
      expect(readmeFile.content).toContain('/api/payments/intent');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUGF5bWVudFNlcnZpY2VDb21wb25lbnQiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJwYXltZW50Q29tcG9uZW50Iiwib3V0cHV0RGlyIiwiYmVmb3JlRWFjaCIsIlBheW1lbnRTZXJ2aWNlQ29tcG9uZW50IiwiaXQiLCJjb25maWciLCJuYW1lIiwicG9ydCIsImNoYW5nZXMiLCJnZW5lcmF0ZVBheW1lbnRTZXJ2aWNlIiwiZXhwZWN0IiwidG9CZUluc3RhbmNlT2YiLCJBcnJheSIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsImZpbGVQYXRocyIsIm1hcCIsImMiLCJwYXRoIiwidG9Db250YWluIiwic3RyaW5nQ29udGFpbmluZyIsImVuYWJsZVN1YnNjcmlwdGlvbnMiLCJzdHJpcGVGaWxlIiwiZmluZCIsImluY2x1ZGVzIiwidG9CZURlZmluZWQiLCJjb250ZW50IiwiZW5hYmxlUmVmdW5kcyIsImNvbnRyb2xsZXJGaWxlIiwid2ViaG9va0ZpbGUiLCJzZXJ2aWNlRmlsZSIsInN1YnNjcmlwdGlvbkZpbGUiLCJzY2hlbWFGaWxlIiwidmFsaWRhdGlvbkZpbGUiLCJwYWNrYWdlRmlsZSIsInBhY2thZ2VKc29uIiwiSlNPTiIsInBhcnNlIiwiZGVwZW5kZW5jaWVzIiwidG9IYXZlUHJvcGVydHkiLCJyZWFkbWVGaWxlIl0sInNvdXJjZXMiOlsiUGF5bWVudFNlcnZpY2VDb21wb25lbnQudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYXltZW50U2VydmljZUNvbXBvbmVudCwgUGF5bWVudFNlcnZpY2VDb25maWcgfSBmcm9tICcuLi9QYXltZW50U2VydmljZUNvbXBvbmVudCc7XG5cbmRlc2NyaWJlKCdQYXltZW50U2VydmljZUNvbXBvbmVudCcsICgpID0+IHtcbiAgbGV0IHBheW1lbnRDb21wb25lbnQ6IFBheW1lbnRTZXJ2aWNlQ29tcG9uZW50O1xuICBjb25zdCBvdXRwdXREaXIgPSAnL3Rlc3Qvb3V0cHV0JztcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBwYXltZW50Q29tcG9uZW50ID0gbmV3IFBheW1lbnRTZXJ2aWNlQ29tcG9uZW50KCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZW5lcmF0ZVBheW1lbnRTZXJ2aWNlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgYmFzaWMgcGF5bWVudCBzZXJ2aWNlIGZpbGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBQYXltZW50U2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtcGF5bWVudCcsXG4gICAgICAgIHBvcnQ6IDMwMDIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gcGF5bWVudENvbXBvbmVudC5nZW5lcmF0ZVBheW1lbnRTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcblxuICAgICAgZXhwZWN0KGNoYW5nZXMpLnRvQmVJbnN0YW5jZU9mKEFycmF5KTtcbiAgICAgIGV4cGVjdChjaGFuZ2VzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuXG4gICAgICBjb25zdCBmaWxlUGF0aHMgPSBjaGFuZ2VzLm1hcChjID0+IGMucGF0aCk7XG4gICAgICBleHBlY3QoZmlsZVBhdGhzKS50b0NvbnRhaW4oZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ2luZGV4LnRzJykpO1xuICAgICAgZXhwZWN0KGZpbGVQYXRocykudG9Db250YWluKGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdwYXltZW50LmNvbnRyb2xsZXIudHMnKSk7XG4gICAgICBleHBlY3QoZmlsZVBhdGhzKS50b0NvbnRhaW4oZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ3dlYmhvb2suY29udHJvbGxlci50cycpKTtcbiAgICAgIGV4cGVjdChmaWxlUGF0aHMpLnRvQ29udGFpbihleHBlY3Quc3RyaW5nQ29udGFpbmluZygnc3RyaXBlLnNlcnZpY2UudHMnKSk7XG4gICAgICBleHBlY3QoZmlsZVBhdGhzKS50b0NvbnRhaW4oZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ3BheW1lbnQuc2VydmljZS50cycpKTtcbiAgICAgIGV4cGVjdChmaWxlUGF0aHMpLnRvQ29udGFpbihleHBlY3Quc3RyaW5nQ29udGFpbmluZygncGF5bWVudC5yZXBvc2l0b3J5LnRzJykpO1xuICAgICAgZXhwZWN0KGZpbGVQYXRocykudG9Db250YWluKGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdzY2hlbWEucHJpc21hJykpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIHN1YnNjcmlwdGlvbiBzZXJ2aWNlIHdoZW4gZW5hYmxlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogUGF5bWVudFNlcnZpY2VDb25maWcgPSB7XG4gICAgICAgIG5hbWU6ICd0ZXN0LXBheW1lbnQnLFxuICAgICAgICBlbmFibGVTdWJzY3JpcHRpb25zOiB0cnVlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IHBheW1lbnRDb21wb25lbnQuZ2VuZXJhdGVQYXltZW50U2VydmljZShjb25maWcsIG91dHB1dERpcik7XG4gICAgICBjb25zdCBmaWxlUGF0aHMgPSBjaGFuZ2VzLm1hcChjID0+IGMucGF0aCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChmaWxlUGF0aHMpLnRvQ29udGFpbihleHBlY3Quc3RyaW5nQ29udGFpbmluZygnc3Vic2NyaXB0aW9uLnNlcnZpY2UudHMnKSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIFN0cmlwZSBpbnRlZ3JhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogUGF5bWVudFNlcnZpY2VDb25maWcgPSB7XG4gICAgICAgIG5hbWU6ICd0ZXN0LXBheW1lbnQnLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IHBheW1lbnRDb21wb25lbnQuZ2VuZXJhdGVQYXltZW50U2VydmljZShjb25maWcsIG91dHB1dERpcik7XG4gICAgICBjb25zdCBzdHJpcGVGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdzdHJpcGUuc2VydmljZS50cycpKTtcblxuICAgICAgZXhwZWN0KHN0cmlwZUZpbGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qoc3RyaXBlRmlsZSEuY29udGVudCkudG9Db250YWluKCdjcmVhdGVQYXltZW50SW50ZW50Jyk7XG4gICAgICBleHBlY3Qoc3RyaXBlRmlsZSEuY29udGVudCkudG9Db250YWluKCdjb25maXJtUGF5bWVudEludGVudCcpO1xuICAgICAgZXhwZWN0KHN0cmlwZUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignY29uc3RydWN0V2ViaG9va0V2ZW50Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgcmVmdW5kIGZ1bmN0aW9uYWxpdHkgd2hlbiBlbmFibGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBQYXltZW50U2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtcGF5bWVudCcsXG4gICAgICAgIGVuYWJsZVJlZnVuZHM6IHRydWUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gcGF5bWVudENvbXBvbmVudC5nZW5lcmF0ZVBheW1lbnRTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IHN0cmlwZUZpbGUgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ3N0cmlwZS5zZXJ2aWNlLnRzJykpO1xuICAgICAgY29uc3QgY29udHJvbGxlckZpbGUgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ3BheW1lbnQuY29udHJvbGxlci50cycpKTtcblxuICAgICAgZXhwZWN0KHN0cmlwZUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignY3JlYXRlUmVmdW5kJyk7XG4gICAgICBleHBlY3QoY29udHJvbGxlckZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbigncmVmdW5kUGF5bWVudCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSB3ZWJob29rIGhhbmRsaW5nJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBQYXltZW50U2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtcGF5bWVudCcsXG4gICAgICAgIGVuYWJsZVN1YnNjcmlwdGlvbnM6IHRydWUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gcGF5bWVudENvbXBvbmVudC5nZW5lcmF0ZVBheW1lbnRTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IHdlYmhvb2tGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCd3ZWJob29rLmNvbnRyb2xsZXIudHMnKSk7XG5cbiAgICAgIGV4cGVjdCh3ZWJob29rRmlsZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdCh3ZWJob29rRmlsZSEuY29udGVudCkudG9Db250YWluKCdoYW5kbGVTdHJpcGVXZWJob29rJyk7XG4gICAgICBleHBlY3Qod2ViaG9va0ZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbigncGF5bWVudF9pbnRlbnQuc3VjY2VlZGVkJyk7XG4gICAgICBleHBlY3Qod2ViaG9va0ZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignY3VzdG9tZXIuc3Vic2NyaXB0aW9uLmNyZWF0ZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgcGF5bWVudCBwcm9jZXNzaW5nIGxvZ2ljJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBQYXltZW50U2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtcGF5bWVudCcsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gcGF5bWVudENvbXBvbmVudC5nZW5lcmF0ZVBheW1lbnRTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IHNlcnZpY2VGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdwYXltZW50LnNlcnZpY2UudHMnKSk7XG5cbiAgICAgIGV4cGVjdChzZXJ2aWNlRmlsZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzZXJ2aWNlRmlsZSEuY29udGVudCkudG9Db250YWluKCdjcmVhdGVQYXltZW50SW50ZW50Jyk7XG4gICAgICBleHBlY3Qoc2VydmljZUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignY29uZmlybVBheW1lbnQnKTtcbiAgICAgIGV4cGVjdChzZXJ2aWNlRmlsZSEuY29udGVudCkudG9Db250YWluKCdoYW5kbGVQYXltZW50U3VjY2VzcycpO1xuICAgICAgZXhwZWN0KHNlcnZpY2VGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ2hhbmRsZVBheW1lbnRGYWlsdXJlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIHN1YnNjcmlwdGlvbiBtYW5hZ2VtZW50IHdoZW4gZW5hYmxlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogUGF5bWVudFNlcnZpY2VDb25maWcgPSB7XG4gICAgICAgIG5hbWU6ICd0ZXN0LXBheW1lbnQnLFxuICAgICAgICBlbmFibGVTdWJzY3JpcHRpb25zOiB0cnVlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IHBheW1lbnRDb21wb25lbnQuZ2VuZXJhdGVQYXltZW50U2VydmljZShjb25maWcsIG91dHB1dERpcik7XG4gICAgICBjb25zdCBzdWJzY3JpcHRpb25GaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdzdWJzY3JpcHRpb24uc2VydmljZS50cycpKTtcblxuICAgICAgZXhwZWN0KHN1YnNjcmlwdGlvbkZpbGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qoc3Vic2NyaXB0aW9uRmlsZSEuY29udGVudCkudG9Db250YWluKCdjcmVhdGVTdWJzY3JpcHRpb24nKTtcbiAgICAgIGV4cGVjdChzdWJzY3JpcHRpb25GaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ2NhbmNlbFN1YnNjcmlwdGlvbicpO1xuICAgICAgZXhwZWN0KHN1YnNjcmlwdGlvbkZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignbGlzdFVzZXJTdWJzY3JpcHRpb25zJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIFByaXNtYSBzY2hlbWEgd2l0aCBQYXltZW50IG1vZGVsJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBQYXltZW50U2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtcGF5bWVudCcsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gcGF5bWVudENvbXBvbmVudC5nZW5lcmF0ZVBheW1lbnRTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IHNjaGVtYUZpbGUgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ3NjaGVtYS5wcmlzbWEnKSk7XG5cbiAgICAgIGV4cGVjdChzY2hlbWFGaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHNjaGVtYUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignbW9kZWwgUGF5bWVudCcpO1xuICAgICAgZXhwZWN0KHNjaGVtYUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignc3RyaXBlUGF5bWVudEludGVudElkJyk7XG4gICAgICBleHBlY3Qoc2NoZW1hRmlsZSEuY29udGVudCkudG9Db250YWluKCdhbW91bnQnKTtcbiAgICAgIGV4cGVjdChzY2hlbWFGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ3N0YXR1cycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIHN1YnNjcmlwdGlvbiBtb2RlbHMgd2hlbiBlbmFibGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBQYXltZW50U2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtcGF5bWVudCcsXG4gICAgICAgIGVuYWJsZVN1YnNjcmlwdGlvbnM6IHRydWUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gcGF5bWVudENvbXBvbmVudC5nZW5lcmF0ZVBheW1lbnRTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IHNjaGVtYUZpbGUgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ3NjaGVtYS5wcmlzbWEnKSk7XG5cbiAgICAgIGV4cGVjdChzY2hlbWFGaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHNjaGVtYUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignbW9kZWwgQ3VzdG9tZXInKTtcbiAgICAgIGV4cGVjdChzY2hlbWFGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ21vZGVsIFN1YnNjcmlwdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSB2YWxpZGF0aW9uIHNjaGVtYXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWc6IFBheW1lbnRTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1wYXltZW50JyxcbiAgICAgICAgZW5hYmxlUmVmdW5kczogdHJ1ZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBwYXltZW50Q29tcG9uZW50LmdlbmVyYXRlUGF5bWVudFNlcnZpY2UoY29uZmlnLCBvdXRwdXREaXIpO1xuICAgICAgY29uc3QgdmFsaWRhdGlvbkZpbGUgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ3BheW1lbnQuc2NoZW1hcy50cycpKTtcblxuICAgICAgZXhwZWN0KHZhbGlkYXRpb25GaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHZhbGlkYXRpb25GaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ2NyZWF0ZUludGVudCcpO1xuICAgICAgZXhwZWN0KHZhbGlkYXRpb25GaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ2NvbmZpcm1QYXltZW50Jyk7XG4gICAgICBleHBlY3QodmFsaWRhdGlvbkZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbigncmVmdW5kJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIHBhY2thZ2UuanNvbiB3aXRoIFN0cmlwZSBkZXBlbmRlbmN5JywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBQYXltZW50U2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtcGF5bWVudCcsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gcGF5bWVudENvbXBvbmVudC5nZW5lcmF0ZVBheW1lbnRTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IHBhY2thZ2VGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdwYWNrYWdlLmpzb24nKSk7XG5cbiAgICAgIGV4cGVjdChwYWNrYWdlRmlsZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGNvbnN0IHBhY2thZ2VKc29uID0gSlNPTi5wYXJzZShwYWNrYWdlRmlsZSEuY29udGVudCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChwYWNrYWdlSnNvbi5kZXBlbmRlbmNpZXMpLnRvSGF2ZVByb3BlcnR5KCdzdHJpcGUnKTtcbiAgICAgIGV4cGVjdChwYWNrYWdlSnNvbi5kZXBlbmRlbmNpZXMpLnRvSGF2ZVByb3BlcnR5KCdAcHJpc21hL2NsaWVudCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBSRUFETUUgd2l0aCB3ZWJob29rIHNldHVwIGluc3RydWN0aW9ucycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogUGF5bWVudFNlcnZpY2VDb25maWcgPSB7XG4gICAgICAgIG5hbWU6ICd0ZXN0LXBheW1lbnQnLFxuICAgICAgICBlbmFibGVTdWJzY3JpcHRpb25zOiB0cnVlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IHBheW1lbnRDb21wb25lbnQuZ2VuZXJhdGVQYXltZW50U2VydmljZShjb25maWcsIG91dHB1dERpcik7XG4gICAgICBjb25zdCByZWFkbWVGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdSRUFETUUubWQnKSk7XG5cbiAgICAgIGV4cGVjdChyZWFkbWVGaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlYWRtZUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignUGF5bWVudCBTZXJ2aWNlJyk7XG4gICAgICBleHBlY3QocmVhZG1lRmlsZSEuY29udGVudCkudG9Db250YWluKCdTdHJpcGUgd2ViaG9vaycpO1xuICAgICAgZXhwZWN0KHJlYWRtZUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignL2FwaS9wYXltZW50cy9pbnRlbnQnKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSx3QkFBQSxHQUFBQyxPQUFBO0FBRUFDLFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxNQUFNO0VBQ3hDLElBQUlDLGdCQUF5QztFQUM3QyxNQUFNQyxTQUFTLEdBQUcsY0FBYztFQUVoQ0MsVUFBVSxDQUFDLE1BQU07SUFDZkYsZ0JBQWdCLEdBQUcsSUFBSUcsZ0RBQXVCLENBQUMsQ0FBQztFQUNsRCxDQUFDLENBQUM7RUFFRkosUUFBUSxDQUFDLHdCQUF3QixFQUFFLE1BQU07SUFDdkNLLEVBQUUsQ0FBQyw2Q0FBNkMsRUFBRSxNQUFNO01BQ3RELE1BQU1DLE1BQTRCLEdBQUc7UUFDbkNDLElBQUksRUFBRSxjQUFjO1FBQ3BCQyxJQUFJLEVBQUU7TUFDUixDQUFDO01BRUQsTUFBTUMsT0FBTyxHQUFHUixnQkFBZ0IsQ0FBQ1Msc0JBQXNCLENBQUNKLE1BQU0sRUFBRUosU0FBUyxDQUFDO01BRTFFUyxNQUFNLENBQUNGLE9BQU8sQ0FBQyxDQUFDRyxjQUFjLENBQUNDLEtBQUssQ0FBQztNQUNyQ0YsTUFBTSxDQUFDRixPQUFPLENB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