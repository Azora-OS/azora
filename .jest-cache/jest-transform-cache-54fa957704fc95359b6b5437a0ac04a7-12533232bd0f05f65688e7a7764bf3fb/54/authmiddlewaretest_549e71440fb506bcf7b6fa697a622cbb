6045010cf00ebcda655a9ebc7108d5d4
"use strict";

var _auth = require("../middleware/auth");
describe('Shared Utilities - Authentication Middleware', () => {
  let mockRequest;
  let mockResponse;
  let nextFunction;
  beforeEach(() => {
    mockRequest = {
      headers: {}
    };
    mockResponse = {
      status: jest.fn().mockReturnThis(),
      json: jest.fn().mockReturnThis()
    };
    nextFunction = jest.fn();
  });
  describe('authenticate', () => {
    it('should authenticate valid Bearer token', () => {
      const userData = {
        userId: '123',
        email: 'test@azora.world'
      };
      const token = Buffer.from(JSON.stringify(userData)).toString('base64');
      mockRequest.headers = {
        authorization: `Bearer ${token}`
      };
      (0, _auth.authenticate)(mockRequest, mockResponse, nextFunction);
      expect(mockRequest.user).toEqual(userData);
      expect(nextFunction).toHaveBeenCalled();
    });
    it('should reject request without authorization header', () => {
      (0, _auth.authenticate)(mockRequest, mockResponse, nextFunction);
      expect(nextFunction).toHaveBeenCalledWith(expect.any(Error));
    });
    it('should reject request with invalid token format', () => {
      mockRequest.headers = {
        authorization: 'InvalidFormat token'
      };
      (0, _auth.authenticate)(mockRequest, mockResponse, nextFunction);
      expect(nextFunction).toHaveBeenCalledWith(expect.any(Error));
    });
    it('should reject request with malformed token', () => {
      mockRequest.headers = {
        authorization: 'Bearer invalid-token'
      };
      (0, _auth.authenticate)(mockRequest, mockResponse, nextFunction);
      expect(nextFunction).toHaveBeenCalledWith(expect.any(Error));
    });
  });
  describe('requireRole', () => {
    it('should allow user with required role', () => {
      mockRequest.user = {
        userId: '123',
        role: 'admin',
        email: 'admin@azora.world'
      };
      const middleware = (0, _auth.requireRole)(['admin', 'moderator']);
      middleware(mockRequest, mockResponse, nextFunction);
      expect(nextFunction).toHaveBeenCalledWith();
    });
    it('should reject user without required role', () => {
      mockRequest.user = {
        userId: '123',
        role: 'user',
        email: 'user@azora.world'
      };
      const middleware = (0, _auth.requireRole)(['admin', 'moderator']);
      middleware(mockRequest, mockResponse, nextFunction);
      expect(nextFunction).toHaveBeenCalledWith(expect.any(Error));
    });
    it('should reject unauthenticated user', () => {
      const middleware = (0, _auth.requireRole)(['admin']);
      middleware(mockRequest, mockResponse, nextFunction);
      expect(nextFunction).toHaveBeenCalledWith(expect.any(Error));
    });
    it('should handle multiple allowed roles', () => {
      mockRequest.user = {
        userId: '123',
        role: 'moderator',
        email: 'mod@azora.world'
      };
      const middleware = (0, _auth.requireRole)(['admin', 'moderator', 'editor']);
      middleware(mockRequest, mockResponse, nextFunction);
      expect(nextFunction).toHaveBeenCalledWith();
    });
  });
  describe('optionalAuth', () => {
    it('should attach user if valid token provided', () => {
      const userData = {
        userId: '123',
        email: 'test@azora.world'
      };
      const token = Buffer.from(JSON.stringify(userData)).toString('base64');
      mockRequest.headers = {
        authorization: `Bearer ${token}`
      };
      (0, _auth.optionalAuth)(mockRequest, mockResponse, nextFunction);
      expect(mockRequest.user).toEqual(userData);
      expect(nextFunction).toHaveBeenCalled();
    });
    it('should continue without user if no token provided', () => {
      (0, _auth.optionalAuth)(mockRequest, mockResponse, nextFunction);
      expect(mockRequest.user).toBeUndefined();
      expect(nextFunction).toHaveBeenCalled();
    });
    it('should continue without user if invalid token provided', () => {
      mockRequest.headers = {
        authorization: 'Bearer invalid-token'
      };
      (0, _auth.optionalAuth)(mockRequest, mockResponse, nextFunction);
      expect(mockRequest.user).toBeUndefined();
      expect(nextFunction).toHaveBeenCalled();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aCIsInJlcXVpcmUiLCJkZXNjcmliZSIsIm1vY2tSZXF1ZXN0IiwibW9ja1Jlc3BvbnNlIiwibmV4dEZ1bmN0aW9uIiwiYmVmb3JlRWFjaCIsImhlYWRlcnMiLCJzdGF0dXMiLCJqZXN0IiwiZm4iLCJtb2NrUmV0dXJuVGhpcyIsImpzb24iLCJpdCIsInVzZXJEYXRhIiwidXNlcklkIiwiZW1haWwiLCJ0b2tlbiIsIkJ1ZmZlciIsImZyb20iLCJKU09OIiwic3RyaW5naWZ5IiwidG9TdHJpbmciLCJhdXRob3JpemF0aW9uIiwiYXV0aGVudGljYXRlIiwiZXhwZWN0IiwidXNlciIsInRvRXF1YWwiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJhbnkiLCJFcnJvciIsInJvbGUiLCJtaWRkbGV3YXJlIiwicmVxdWlyZVJvbGUiLCJvcHRpb25hbEF1dGgiLCJ0b0JlVW5kZWZpbmVkIl0sInNvdXJjZXMiOlsiYXV0aC1taWRkbGV3YXJlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UsIE5leHRGdW5jdGlvbiB9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgeyBhdXRoZW50aWNhdGUsIHJlcXVpcmVSb2xlLCBvcHRpb25hbEF1dGggfSBmcm9tICcuLi9taWRkbGV3YXJlL2F1dGgnO1xyXG5cclxuZGVzY3JpYmUoJ1NoYXJlZCBVdGlsaXRpZXMgLSBBdXRoZW50aWNhdGlvbiBNaWRkbGV3YXJlJywgKCkgPT4ge1xyXG4gIGxldCBtb2NrUmVxdWVzdDogUGFydGlhbDxSZXF1ZXN0PjtcclxuICBsZXQgbW9ja1Jlc3BvbnNlOiBQYXJ0aWFsPFJlc3BvbnNlPjtcclxuICBsZXQgbmV4dEZ1bmN0aW9uOiBOZXh0RnVuY3Rpb247XHJcbiAgXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBtb2NrUmVxdWVzdCA9IHtcclxuICAgICAgaGVhZGVyczoge31cclxuICAgIH07XHJcbiAgICBtb2NrUmVzcG9uc2UgPSB7XHJcbiAgICAgIHN0YXR1czogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXHJcbiAgICAgIGpzb246IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpXHJcbiAgICB9O1xyXG4gICAgbmV4dEZ1bmN0aW9uID0gamVzdC5mbigpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGRlc2NyaWJlKCdhdXRoZW50aWNhdGUnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGF1dGhlbnRpY2F0ZSB2YWxpZCBCZWFyZXIgdG9rZW4nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0geyB1c2VySWQ6ICcxMjMnLCBlbWFpbDogJ3Rlc3RAYXpvcmEud29ybGQnIH07XHJcbiAgICAgIGNvbnN0IHRva2VuID0gQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpKS50b1N0cmluZygnYmFzZTY0Jyk7XHJcbiAgICAgIFxyXG4gICAgICBtb2NrUmVxdWVzdC5oZWFkZXJzID0ge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBhdXRoZW50aWNhdGUobW9ja1JlcXVlc3QgYXMgUmVxdWVzdCwgbW9ja1Jlc3BvbnNlIGFzIFJlc3BvbnNlLCBuZXh0RnVuY3Rpb24pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KG1vY2tSZXF1ZXN0LnVzZXIpLnRvRXF1YWwodXNlckRhdGEpO1xyXG4gICAgICBleHBlY3QobmV4dEZ1bmN0aW9uKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgcmVxdWVzdCB3aXRob3V0IGF1dGhvcml6YXRpb24gaGVhZGVyJywgKCkgPT4ge1xyXG4gICAgICBhdXRoZW50aWNhdGUobW9ja1JlcXVlc3QgYXMgUmVxdWVzdCwgbW9ja1Jlc3BvbnNlIGFzIFJlc3BvbnNlLCBuZXh0RnVuY3Rpb24pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KG5leHRGdW5jdGlvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXhwZWN0LmFueShFcnJvcikpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCdzaG91bGQgcmVqZWN0IHJlcXVlc3Qgd2l0aCBpbnZhbGlkIHRva2VuIGZvcm1hdCcsICgpID0+IHtcclxuICAgICAgbW9ja1JlcXVlc3QuaGVhZGVycyA9IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiAnSW52YWxpZEZvcm1hdCB0b2tlbidcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGF1dGhlbnRpY2F0ZShtb2NrUmVxdWVzdCBhcyBSZXF1ZXN0LCBtb2NrUmVzcG9uc2UgYXMgUmVzcG9uc2UsIG5leHRGdW5jdGlvbik7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QobmV4dEZ1bmN0aW9uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3QuYW55KEVycm9yKSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgcmVxdWVzdCB3aXRoIG1hbGZvcm1lZCB0b2tlbicsICgpID0+IHtcclxuICAgICAgbW9ja1JlcXVlc3QuaGVhZGVycyA9IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiAnQmVhcmVyIGludmFsaWQtdG9rZW4nXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBhdXRoZW50aWNhdGUobW9ja1JlcXVlc3QgYXMgUmVxdWVzdCwgbW9ja1Jlc3BvbnNlIGFzIFJlc3BvbnNlLCBuZXh0RnVuY3Rpb24pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KG5leHRGdW5jdGlvbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXhwZWN0LmFueShFcnJvcikpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgZGVzY3JpYmUoJ3JlcXVpcmVSb2xlJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBhbGxvdyB1c2VyIHdpdGggcmVxdWlyZWQgcm9sZScsICgpID0+IHtcclxuICAgICAgbW9ja1JlcXVlc3QudXNlciA9IHtcclxuICAgICAgICB1c2VySWQ6ICcxMjMnLFxyXG4gICAgICAgIHJvbGU6ICdhZG1pbicsXHJcbiAgICAgICAgZW1haWw6ICdhZG1pbkBhem9yYS53b3JsZCdcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG1pZGRsZXdhcmUgPSByZXF1aXJlUm9sZShbJ2FkbWluJywgJ21vZGVyYXRvciddKTtcclxuICAgICAgbWlkZGxld2FyZShtb2NrUmVxdWVzdCBhcyBSZXF1ZXN0LCBtb2NrUmVzcG9uc2UgYXMgUmVzcG9uc2UsIG5leHRGdW5jdGlvbik7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QobmV4dEZ1bmN0aW9uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCdzaG91bGQgcmVqZWN0IHVzZXIgd2l0aG91dCByZXF1aXJlZCByb2xlJywgKCkgPT4ge1xyXG4gICAgICBtb2NrUmVxdWVzdC51c2VyID0ge1xyXG4gICAgICAgIHVzZXJJZDogJzEyMycsXHJcbiAgICAgICAgcm9sZTogJ3VzZXInLFxyXG4gICAgICAgIGVtYWlsOiAndXNlckBhem9yYS53b3JsZCdcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG1pZGRsZXdhcmUgPSByZXF1aXJlUm9sZShbJ2FkbWluJywgJ21vZGVyYXRvciddKTtcclxuICAgICAgbWlkZGxld2FyZShtb2NrUmVxdWVzdCBhcyBSZXF1ZXN0LCBtb2NrUmVzcG9uc2UgYXMgUmVzcG9uc2UsIG5leHRGdW5jdGlvbik7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QobmV4dEZ1bmN0aW9uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3QuYW55KEVycm9yKSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgdW5hdXRoZW50aWNhdGVkIHVzZXInLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1pZGRsZXdhcmUgPSByZXF1aXJlUm9sZShbJ2FkbWluJ10pO1xyXG4gICAgICBtaWRkbGV3YXJlKG1vY2tSZXF1ZXN0IGFzIFJlcXVlc3QsIG1vY2tSZXNwb25zZSBhcyBSZXNwb25zZSwgbmV4dEZ1bmN0aW9uKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChuZXh0RnVuY3Rpb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdC5hbnkoRXJyb3IpKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtdWx0aXBsZSBhbGxvd2VkIHJvbGVzJywgKCkgPT4ge1xyXG4gICAgICBtb2NrUmVxdWVzdC51c2VyID0ge1xyXG4gICAgICAgIHVzZXJJZDogJzEyMycsXHJcbiAgICAgICAgcm9sZTogJ21vZGVyYXRvcicsXHJcbiAgICAgICAgZW1haWw6ICdtb2RAYXpvcmEud29ybGQnXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBtaWRkbGV3YXJlID0gcmVxdWlyZVJvbGUoWydhZG1pbicsICdtb2RlcmF0b3InLCAnZWRpdG9yJ10pO1xyXG4gICAgICBtaWRkbGV3YXJlKG1vY2tSZXF1ZXN0IGFzIFJlcXVlc3QsIG1vY2tSZXNwb25zZSBhcyBSZXNwb25zZSwgbmV4dEZ1bmN0aW9uKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChuZXh0RnVuY3Rpb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBcclxuICBkZXNjcmliZSgnb3B0aW9uYWxBdXRoJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBhdHRhY2ggdXNlciBpZiB2YWxpZCB0b2tlbiBwcm92aWRlZCcsICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlckRhdGEgPSB7IHVzZXJJZDogJzEyMycsIGVtYWlsOiAndGVzdEBhem9yYS53b3JsZCcgfTtcclxuICAgICAgY29uc3QgdG9rZW4gPSBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSkpLnRvU3RyaW5nKCdiYXNlNjQnKTtcclxuICAgICAgXHJcbiAgICAgIG1vY2tSZXF1ZXN0LmhlYWRlcnMgPSB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWBcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIG9wdGlvbmFsQXV0aChtb2NrUmVxdWVzdCBhcyBSZXF1ZXN0LCBtb2NrUmVzcG9uc2UgYXMgUmVzcG9uc2UsIG5leHRGdW5jdGlvbik7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QobW9ja1JlcXVlc3QudXNlcikudG9FcXVhbCh1c2VyRGF0YSk7XHJcbiAgICAgIGV4cGVjdChuZXh0RnVuY3Rpb24pLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgnc2hvdWxkIGNvbnRpbnVlIHdpdGhvdXQgdXNlciBpZiBubyB0b2tlbiBwcm92aWRlZCcsICgpID0+IHtcclxuICAgICAgb3B0aW9uYWxBdXRoKG1vY2tSZXF1ZXN0IGFzIFJlcXVlc3QsIG1vY2tSZXNwb25zZSBhcyBSZXNwb25zZSwgbmV4dEZ1bmN0aW9uKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChtb2NrUmVxdWVzdC51c2VyKS50b0JlVW5kZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChuZXh0RnVuY3Rpb24pLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgnc2hvdWxkIGNvbnRpbnVlIHdpdGhvdXQgdXNlciBpZiBpbnZhbGlkIHRva2VuIHByb3ZpZGVkJywgKCkgPT4ge1xyXG4gICAgICBtb2NrUmVxdWVzdC5oZWFkZXJzID0ge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246ICdCZWFyZXIgaW52YWxpZC10b2tlbidcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIG9wdGlvbmFsQXV0aChtb2NrUmVxdWVzdCBhcyBSZXF1ZXN0LCBtb2NrUmVzcG9uc2UgYXMgUmVzcG9uc2UsIG5leHRGdW5jdGlvbik7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QobW9ja1JlcXVlc3QudXNlcikudG9CZVVuZGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QobmV4dEZ1bmN0aW9uKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFDQSxJQUFBQSxLQUFBLEdBQUFDLE9BQUE7QUFFQUMsUUFBUSxDQUFDLDhDQUE4QyxFQUFFLE1BQU07RUFDN0QsSUFBSUMsV0FBNkI7RUFDakMsSUFBSUMsWUFBK0I7RUFDbkMsSUFBSUMsWUFBMEI7RUFFOUJDLFVBQVUsQ0FBQyxNQUFNO0lBQ2ZILFdBQVcsR0FBRztNQUNaSSxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFDREgsWUFBWSxHQUFHO01BQ2JJLE1BQU0sRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxjQUFjLENBQUMsQ0FBQztNQUNsQ0MsSUFBSSxFQUFFSCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGNBQWMsQ0FBQztJQUNqQyxDQUFDO0lBQ0ROLFlBQVksR0FBR0ksSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUMxQixDQUFDLENBQUM7RUFFRlIsUUFBUSxDQUFDLGNBQWMsRUFBRSxNQUFNO0lBQzdCVyxFQUFFLENBQUMsd0NBQXdDLEVBQUUsTUFBTTtNQUNqRCxNQUFNQyxRQUFRLEdBQUc7UUFBRUMsTUFBTSxFQUFFLEtBQUs7UUFBRUMsS0FBSyxFQUFFO01BQW1CLENBQUM7TUFDN0QsTUFBTUMsS0FBSyxHQUFHQyxNQUFNLENBQUNDLElBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLENBQUNQLFFBQVEsQ0FBQyxDQUFDLENBQUNRLFFBQVEsQ0FBQyxRQUFRLENBQUM7TUFFdEVuQixXQUFXLENBQUNJLE9BQU8sR0FBRztRQUNwQmdCLGFBQWEsRUFBRSxVQUFVTixLQUFLO01BQ2hDLENBQUM7TUFF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