f71d41637364308b50279e27e51eebdf
"use strict";

var _AuthServiceComponent = require("../AuthServiceComponent");
describe('AuthServiceComponent', () => {
  let authComponent;
  const outputDir = '/test/output';
  beforeEach(() => {
    authComponent = new _AuthServiceComponent.AuthServiceComponent();
  });
  describe('generateAuthService', () => {
    it('should generate basic auth service files', () => {
      const config = {
        name: 'test-auth',
        port: 3001
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      expect(changes).toBeInstanceOf(Array);
      expect(changes.length).toBeGreaterThan(0);

      // Check for essential files
      const filePaths = changes.map(c => c.path);
      expect(filePaths).toContain(expect.stringContaining('index.ts'));
      expect(filePaths).toContain(expect.stringContaining('auth.controller.ts'));
      expect(filePaths).toContain(expect.stringContaining('auth.service.ts'));
      expect(filePaths).toContain(expect.stringContaining('token.service.ts'));
      expect(filePaths).toContain(expect.stringContaining('session.service.ts'));
      expect(filePaths).toContain(expect.stringContaining('user.repository.ts'));
      expect(filePaths).toContain(expect.stringContaining('schema.prisma'));
      expect(filePaths).toContain(expect.stringContaining('package.json'));
    });
    it('should include MFA endpoints when enabled', () => {
      const config = {
        name: 'test-auth',
        enableMFA: true
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      const controllerFile = changes.find(c => c.path.includes('auth.controller.ts'));
      expect(controllerFile).toBeDefined();
      expect(controllerFile.content).toContain('enableMFA');
      expect(controllerFile.content).toContain('verifyMFA');
      expect(controllerFile.content).toContain('disableMFA');
    });
    it('should generate JWT authentication logic', () => {
      const config = {
        name: 'test-auth'
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      const serviceFile = changes.find(c => c.path.includes('auth.service.ts'));
      expect(serviceFile).toBeDefined();
      expect(serviceFile.content).toContain('register');
      expect(serviceFile.content).toContain('login');
      expect(serviceFile.content).toContain('logout');
      expect(serviceFile.content).toContain('refreshToken');
    });
    it('should generate password reset functionality', () => {
      const config = {
        name: 'test-auth',
        passwordResetExpiry: 2
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      const serviceFile = changes.find(c => c.path.includes('auth.service.ts'));
      expect(serviceFile).toBeDefined();
      expect(serviceFile.content).toContain('requestPasswordReset');
      expect(serviceFile.content).toContain('confirmPasswordReset');
    });
    it('should generate session management', () => {
      const config = {
        name: 'test-auth',
        sessionDuration: 48
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      const sessionFile = changes.find(c => c.path.includes('session.service.ts'));
      expect(sessionFile).toBeDefined();
      expect(sessionFile.content).toContain('createSession');
      expect(sessionFile.content).toContain('getSessionByToken');
      expect(sessionFile.content).toContain('deleteSessionByToken');
      expect(sessionFile.content).toContain('cleanupExpiredSessions');
    });
    it('should generate Prisma schema with User and Session models', () => {
      const config = {
        name: 'test-auth'
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      const schemaFile = changes.find(c => c.path.includes('schema.prisma'));
      expect(schemaFile).toBeDefined();
      expect(schemaFile.content).toContain('model User');
      expect(schemaFile.content).toContain('model Session');
      expect(schemaFile.content).toContain('passwordResetToken');
      expect(schemaFile.content).toContain('refreshToken');
    });
    it('should include MFA fields in schema when enabled', () => {
      const config = {
        name: 'test-auth',
        enableMFA: true
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      const schemaFile = changes.find(c => c.path.includes('schema.prisma'));
      expect(schemaFile).toBeDefined();
      expect(schemaFile.content).toContain('mfaEnabled');
      expect(schemaFile.content).toContain('mfaSecret');
    });
    it('should generate validation schemas with Zod', () => {
      const config = {
        name: 'test-auth'
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      const validationFile = changes.find(c => c.path.includes('auth.schemas.ts'));
      expect(validationFile).toBeDefined();
      expect(validationFile.content).toContain('z.object');
      expect(validationFile.content).toContain('register');
      expect(validationFile.content).toContain('login');
      expect(validationFile.content).toContain('passwordResetRequest');
    });
    it('should generate auth middleware', () => {
      const config = {
        name: 'test-auth'
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      const middlewareFile = changes.find(c => c.path.includes('auth.middleware.ts'));
      expect(middlewareFile).toBeDefined();
      expect(middlewareFile.content).toContain('authMiddleware');
      expect(middlewareFile.content).toContain('verifyAccessToken');
      expect(middlewareFile.content).toContain('optionalAuth');
    });
    it('should generate password utilities with bcrypt', () => {
      const config = {
        name: 'test-auth'
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      const passwordFile = changes.find(c => c.path.includes('password.ts'));
      expect(passwordFile).toBeDefined();
      expect(passwordFile.content).toContain('hashPassword');
      expect(passwordFile.content).toContain('verifyPassword');
      expect(passwordFile.content).toContain('bcrypt');
    });
    it('should generate package.json with correct dependencies', () => {
      const config = {
        name: 'test-auth',
        enableMFA: true
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      const packageFile = changes.find(c => c.path.includes('package.json'));
      expect(packageFile).toBeDefined();
      const packageJson = JSON.parse(packageFile.content);
      expect(packageJson.dependencies).toHaveProperty('express');
      expect(packageJson.dependencies).toHaveProperty('jsonwebtoken');
      expect(packageJson.dependencies).toHaveProperty('bcrypt');
      expect(packageJson.dependencies).toHaveProperty('@prisma/client');
      expect(packageJson.dependencies).toHaveProperty('speakeasy');
      expect(packageJson.dependencies).toHaveProperty('qrcode');
    });
    it('should generate README with API documentation', () => {
      const config = {
        name: 'test-auth',
        enableMFA: true
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      const readmeFile = changes.find(c => c.path.includes('README.md'));
      expect(readmeFile).toBeDefined();
      expect(readmeFile.content).toContain('Auth Service');
      expect(readmeFile.content).toContain('/api/auth/register');
      expect(readmeFile.content).toContain('/api/auth/login');
      expect(readmeFile.content).toContain('/api/auth/mfa/enable');
    });
    it('should use custom port when specified', () => {
      const config = {
        name: 'test-auth',
        port: 4000
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      const indexFile = changes.find(c => c.path.includes('src/index.ts'));
      expect(indexFile).toBeDefined();
      expect(indexFile.content).toContain('4000');
    });
    it('should use custom session duration', () => {
      const config = {
        name: 'test-auth',
        sessionDuration: 72
      };
      const changes = authComponent.generateAuthService(config, outputDir);
      const tokenFile = changes.find(c => c.path.includes('token.service.ts'));
      expect(tokenFile).toBeDefined();
      expect(tokenFile.content).toContain('72h');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQXV0aFNlcnZpY2VDb21wb25lbnQiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJhdXRoQ29tcG9uZW50Iiwib3V0cHV0RGlyIiwiYmVmb3JlRWFjaCIsIkF1dGhTZXJ2aWNlQ29tcG9uZW50IiwiaXQiLCJjb25maWciLCJuYW1lIiwicG9ydCIsImNoYW5nZXMiLCJnZW5lcmF0ZUF1dGhTZXJ2aWNlIiwiZXhwZWN0IiwidG9CZUluc3RhbmNlT2YiLCJBcnJheSIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsImZpbGVQYXRocyIsIm1hcCIsImMiLCJwYXRoIiwidG9Db250YWluIiwic3RyaW5nQ29udGFpbmluZyIsImVuYWJsZU1GQSIsImNvbnRyb2xsZXJGaWxlIiwiZmluZCIsImluY2x1ZGVzIiwidG9CZURlZmluZWQiLCJjb250ZW50Iiwic2VydmljZUZpbGUiLCJwYXNzd29yZFJlc2V0RXhwaXJ5Iiwic2Vzc2lvbkR1cmF0aW9uIiwic2Vzc2lvbkZpbGUiLCJzY2hlbWFGaWxlIiwidmFsaWRhdGlvbkZpbGUiLCJtaWRkbGV3YXJlRmlsZSIsInBhc3N3b3JkRmlsZSIsInBhY2thZ2VGaWxlIiwicGFja2FnZUpzb24iLCJKU09OIiwicGFyc2UiLCJkZXBlbmRlbmNpZXMiLCJ0b0hhdmVQcm9wZXJ0eSIsInJlYWRtZUZpbGUiLCJpbmRleEZpbGUiLCJ0b2tlbkZpbGUiXSwic291cmNlcyI6WyJBdXRoU2VydmljZUNvbXBvbmVudC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF1dGhTZXJ2aWNlQ29tcG9uZW50LCBBdXRoU2VydmljZUNvbmZpZyB9IGZyb20gJy4uL0F1dGhTZXJ2aWNlQ29tcG9uZW50JztcbmltcG9ydCB7IEZpbGVDaGFuZ2UgfSBmcm9tICcuLi8uLi9DaGFuZ2VzZXRNYW5hZ2VyJztcblxuZGVzY3JpYmUoJ0F1dGhTZXJ2aWNlQ29tcG9uZW50JywgKCkgPT4ge1xuICBsZXQgYXV0aENvbXBvbmVudDogQXV0aFNlcnZpY2VDb21wb25lbnQ7XG4gIGNvbnN0IG91dHB1dERpciA9ICcvdGVzdC9vdXRwdXQnO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGF1dGhDb21wb25lbnQgPSBuZXcgQXV0aFNlcnZpY2VDb21wb25lbnQoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dlbmVyYXRlQXV0aFNlcnZpY2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBiYXNpYyBhdXRoIHNlcnZpY2UgZmlsZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWc6IEF1dGhTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1hdXRoJyxcbiAgICAgICAgcG9ydDogMzAwMSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBhdXRoQ29tcG9uZW50LmdlbmVyYXRlQXV0aFNlcnZpY2UoY29uZmlnLCBvdXRwdXREaXIpO1xuXG4gICAgICBleHBlY3QoY2hhbmdlcykudG9CZUluc3RhbmNlT2YoQXJyYXkpO1xuICAgICAgZXhwZWN0KGNoYW5nZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBlc3NlbnRpYWwgZmlsZXNcbiAgICAgIGNvbnN0IGZpbGVQYXRocyA9IGNoYW5nZXMubWFwKGMgPT4gYy5wYXRoKTtcbiAgICAgIGV4cGVjdChmaWxlUGF0aHMpLnRvQ29udGFpbihleHBlY3Quc3RyaW5nQ29udGFpbmluZygnaW5kZXgudHMnKSk7XG4gICAgICBleHBlY3QoZmlsZVBhdGhzKS50b0NvbnRhaW4oZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ2F1dGguY29udHJvbGxlci50cycpKTtcbiAgICAgIGV4cGVjdChmaWxlUGF0aHMpLnRvQ29udGFpbihleHBlY3Quc3RyaW5nQ29udGFpbmluZygnYXV0aC5zZXJ2aWNlLnRzJykpO1xuICAgICAgZXhwZWN0KGZpbGVQYXRocykudG9Db250YWluKGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCd0b2tlbi5zZXJ2aWNlLnRzJykpO1xuICAgICAgZXhwZWN0KGZpbGVQYXRocykudG9Db250YWluKGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdzZXNzaW9uLnNlcnZpY2UudHMnKSk7XG4gICAgICBleHBlY3QoZmlsZVBhdGhzKS50b0NvbnRhaW4oZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ3VzZXIucmVwb3NpdG9yeS50cycpKTtcbiAgICAgIGV4cGVjdChmaWxlUGF0aHMpLnRvQ29udGFpbihleHBlY3Quc3RyaW5nQ29udGFpbmluZygnc2NoZW1hLnByaXNtYScpKTtcbiAgICAgIGV4cGVjdChmaWxlUGF0aHMpLnRvQ29udGFpbihleHBlY3Quc3RyaW5nQ29udGFpbmluZygncGFja2FnZS5qc29uJykpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIE1GQSBlbmRwb2ludHMgd2hlbiBlbmFibGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBBdXRoU2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtYXV0aCcsXG4gICAgICAgIGVuYWJsZU1GQTogdHJ1ZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBhdXRoQ29tcG9uZW50LmdlbmVyYXRlQXV0aFNlcnZpY2UoY29uZmlnLCBvdXRwdXREaXIpO1xuICAgICAgY29uc3QgY29udHJvbGxlckZpbGUgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ2F1dGguY29udHJvbGxlci50cycpKTtcblxuICAgICAgZXhwZWN0KGNvbnRyb2xsZXJGaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGNvbnRyb2xsZXJGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ2VuYWJsZU1GQScpO1xuICAgICAgZXhwZWN0KGNvbnRyb2xsZXJGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ3ZlcmlmeU1GQScpO1xuICAgICAgZXhwZWN0KGNvbnRyb2xsZXJGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ2Rpc2FibGVNRkEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgSldUIGF1dGhlbnRpY2F0aW9uIGxvZ2ljJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBBdXRoU2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtYXV0aCcsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gYXV0aENvbXBvbmVudC5nZW5lcmF0ZUF1dGhTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IHNlcnZpY2VGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdhdXRoLnNlcnZpY2UudHMnKSk7XG5cbiAgICAgIGV4cGVjdChzZXJ2aWNlRmlsZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzZXJ2aWNlRmlsZSEuY29udGVudCkudG9Db250YWluKCdyZWdpc3RlcicpO1xuICAgICAgZXhwZWN0KHNlcnZpY2VGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ2xvZ2luJyk7XG4gICAgICBleHBlY3Qoc2VydmljZUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignbG9nb3V0Jyk7XG4gICAgICBleHBlY3Qoc2VydmljZUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbigncmVmcmVzaFRva2VuJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIHBhc3N3b3JkIHJlc2V0IGZ1bmN0aW9uYWxpdHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWc6IEF1dGhTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1hdXRoJyxcbiAgICAgICAgcGFzc3dvcmRSZXNldEV4cGlyeTogMixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBhdXRoQ29tcG9uZW50LmdlbmVyYXRlQXV0aFNlcnZpY2UoY29uZmlnLCBvdXRwdXREaXIpO1xuICAgICAgY29uc3Qgc2VydmljZUZpbGUgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ2F1dGguc2VydmljZS50cycpKTtcblxuICAgICAgZXhwZWN0KHNlcnZpY2VGaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHNlcnZpY2VGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ3JlcXVlc3RQYXNzd29yZFJlc2V0Jyk7XG4gICAgICBleHBlY3Qoc2VydmljZUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignY29uZmlybVBhc3N3b3JkUmVzZXQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgc2Vzc2lvbiBtYW5hZ2VtZW50JywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBBdXRoU2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtYXV0aCcsXG4gICAgICAgIHNlc3Npb25EdXJhdGlvbjogNDgsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gYXV0aENvbXBvbmVudC5nZW5lcmF0ZUF1dGhTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IHNlc3Npb25GaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdzZXNzaW9uLnNlcnZpY2UudHMnKSk7XG5cbiAgICAgIGV4cGVjdChzZXNzaW9uRmlsZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzZXNzaW9uRmlsZSEuY29udGVudCkudG9Db250YWluKCdjcmVhdGVTZXNzaW9uJyk7XG4gICAgICBleHBlY3Qoc2Vzc2lvbkZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignZ2V0U2Vzc2lvbkJ5VG9rZW4nKTtcbiAgICAgIGV4cGVjdChzZXNzaW9uRmlsZSEuY29udGVudCkudG9Db250YWluKCdkZWxldGVTZXNzaW9uQnlUb2tlbicpO1xuICAgICAgZXhwZWN0KHNlc3Npb25GaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ2NsZWFudXBFeHBpcmVkU2Vzc2lvbnMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgUHJpc21hIHNjaGVtYSB3aXRoIFVzZXIgYW5kIFNlc3Npb24gbW9kZWxzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBBdXRoU2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtYXV0aCcsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gYXV0aENvbXBvbmVudC5nZW5lcmF0ZUF1dGhTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IHNjaGVtYUZpbGUgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ3NjaGVtYS5wcmlzbWEnKSk7XG5cbiAgICAgIGV4cGVjdChzY2hlbWFGaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHNjaGVtYUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignbW9kZWwgVXNlcicpO1xuICAgICAgZXhwZWN0KHNjaGVtYUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignbW9kZWwgU2Vzc2lvbicpO1xuICAgICAgZXhwZWN0KHNjaGVtYUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbigncGFzc3dvcmRSZXNldFRva2VuJyk7XG4gICAgICBleHBlY3Qoc2NoZW1hRmlsZSEuY29udGVudCkudG9Db250YWluKCdyZWZyZXNoVG9rZW4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSBNRkEgZmllbGRzIGluIHNjaGVtYSB3aGVuIGVuYWJsZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWc6IEF1dGhTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1hdXRoJyxcbiAgICAgICAgZW5hYmxlTUZBOiB0cnVlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IGF1dGhDb21wb25lbnQuZ2VuZXJhdGVBdXRoU2VydmljZShjb25maWcsIG91dHB1dERpcik7XG4gICAgICBjb25zdCBzY2hlbWFGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdzY2hlbWEucHJpc21hJykpO1xuXG4gICAgICBleHBlY3Qoc2NoZW1hRmlsZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzY2hlbWFGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ21mYUVuYWJsZWQnKTtcbiAgICAgIGV4cGVjdChzY2hlbWFGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ21mYVNlY3JldCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSB2YWxpZGF0aW9uIHNjaGVtYXMgd2l0aCBab2QnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWc6IEF1dGhTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1hdXRoJyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBhdXRoQ29tcG9uZW50LmdlbmVyYXRlQXV0aFNlcnZpY2UoY29uZmlnLCBvdXRwdXREaXIpO1xuICAgICAgY29uc3QgdmFsaWRhdGlvbkZpbGUgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ2F1dGguc2NoZW1hcy50cycpKTtcblxuICAgICAgZXhwZWN0KHZhbGlkYXRpb25GaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHZhbGlkYXRpb25GaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ3oub2JqZWN0Jyk7XG4gICAgICBleHBlY3QodmFsaWRhdGlvbkZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbigncmVnaXN0ZXInKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uRmlsZSEuY29udGVudCkudG9Db250YWluKCdsb2dpbicpO1xuICAgICAgZXhwZWN0KHZhbGlkYXRpb25GaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ3Bhc3N3b3JkUmVzZXRSZXF1ZXN0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGF1dGggbWlkZGxld2FyZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogQXV0aFNlcnZpY2VDb25maWcgPSB7XG4gICAgICAgIG5hbWU6ICd0ZXN0LWF1dGgnLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IGF1dGhDb21wb25lbnQuZ2VuZXJhdGVBdXRoU2VydmljZShjb25maWcsIG91dHB1dERpcik7XG4gICAgICBjb25zdCBtaWRkbGV3YXJlRmlsZSA9IGNoYW5nZXMuZmluZChjID0+IGMucGF0aC5pbmNsdWRlcygnYXV0aC5taWRkbGV3YXJlLnRzJykpO1xuXG4gICAgICBleHBlY3QobWlkZGxld2FyZUZpbGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QobWlkZGxld2FyZUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignYXV0aE1pZGRsZXdhcmUnKTtcbiAgICAgIGV4cGVjdChtaWRkbGV3YXJlRmlsZSEuY29udGVudCkudG9Db250YWluKCd2ZXJpZnlBY2Nlc3NUb2tlbicpO1xuICAgICAgZXhwZWN0KG1pZGRsZXdhcmVGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ29wdGlvbmFsQXV0aCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBwYXNzd29yZCB1dGlsaXRpZXMgd2l0aCBiY3J5cHQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWc6IEF1dGhTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1hdXRoJyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNoYW5nZXMgPSBhdXRoQ29tcG9uZW50LmdlbmVyYXRlQXV0aFNlcnZpY2UoY29uZmlnLCBvdXRwdXREaXIpO1xuICAgICAgY29uc3QgcGFzc3dvcmRGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdwYXNzd29yZC50cycpKTtcblxuICAgICAgZXhwZWN0KHBhc3N3b3JkRmlsZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChwYXNzd29yZEZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignaGFzaFBhc3N3b3JkJyk7XG4gICAgICBleHBlY3QocGFzc3dvcmRGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ3ZlcmlmeVBhc3N3b3JkJyk7XG4gICAgICBleHBlY3QocGFzc3dvcmRGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJ2JjcnlwdCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBwYWNrYWdlLmpzb24gd2l0aCBjb3JyZWN0IGRlcGVuZGVuY2llcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogQXV0aFNlcnZpY2VDb25maWcgPSB7XG4gICAgICAgIG5hbWU6ICd0ZXN0LWF1dGgnLFxuICAgICAgICBlbmFibGVNRkE6IHRydWUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gYXV0aENvbXBvbmVudC5nZW5lcmF0ZUF1dGhTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IHBhY2thZ2VGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdwYWNrYWdlLmpzb24nKSk7XG5cbiAgICAgIGV4cGVjdChwYWNrYWdlRmlsZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGNvbnN0IHBhY2thZ2VKc29uID0gSlNPTi5wYXJzZShwYWNrYWdlRmlsZSEuY29udGVudCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChwYWNrYWdlSnNvbi5kZXBlbmRlbmNpZXMpLnRvSGF2ZVByb3BlcnR5KCdleHByZXNzJyk7XG4gICAgICBleHBlY3QocGFja2FnZUpzb24uZGVwZW5kZW5jaWVzKS50b0hhdmVQcm9wZXJ0eSgnanNvbndlYnRva2VuJyk7XG4gICAgICBleHBlY3QocGFja2FnZUpzb24uZGVwZW5kZW5jaWVzKS50b0hhdmVQcm9wZXJ0eSgnYmNyeXB0Jyk7XG4gICAgICBleHBlY3QocGFja2FnZUpzb24uZGVwZW5kZW5jaWVzKS50b0hhdmVQcm9wZXJ0eSgnQHByaXNtYS9jbGllbnQnKTtcbiAgICAgIGV4cGVjdChwYWNrYWdlSnNvbi5kZXBlbmRlbmNpZXMpLnRvSGF2ZVByb3BlcnR5KCdzcGVha2Vhc3knKTtcbiAgICAgIGV4cGVjdChwYWNrYWdlSnNvbi5kZXBlbmRlbmNpZXMpLnRvSGF2ZVByb3BlcnR5KCdxcmNvZGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgUkVBRE1FIHdpdGggQVBJIGRvY3VtZW50YXRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWc6IEF1dGhTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICBuYW1lOiAndGVzdC1hdXRoJyxcbiAgICAgICAgZW5hYmxlTUZBOiB0cnVlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IGF1dGhDb21wb25lbnQuZ2VuZXJhdGVBdXRoU2VydmljZShjb25maWcsIG91dHB1dERpcik7XG4gICAgICBjb25zdCByZWFkbWVGaWxlID0gY2hhbmdlcy5maW5kKGMgPT4gYy5wYXRoLmluY2x1ZGVzKCdSRUFETUUubWQnKSk7XG5cbiAgICAgIGV4cGVjdChyZWFkbWVGaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlYWRtZUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignQXV0aCBTZXJ2aWNlJyk7XG4gICAgICBleHBlY3QocmVhZG1lRmlsZSEuY29udGVudCkudG9Db250YWluKCcvYXBpL2F1dGgvcmVnaXN0ZXInKTtcbiAgICAgIGV4cGVjdChyZWFkbWVGaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJy9hcGkvYXV0aC9sb2dpbicpO1xuICAgICAgZXhwZWN0KHJlYWRtZUZpbGUhLmNvbnRlbnQpLnRvQ29udGFpbignL2FwaS9hdXRoL21mYS9lbmFibGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXNlIGN1c3RvbSBwb3J0IHdoZW4gc3BlY2lmaWVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnOiBBdXRoU2VydmljZUNvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3QtYXV0aCcsXG4gICAgICAgIHBvcnQ6IDQwMDAsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjaGFuZ2VzID0gYXV0aENvbXBvbmVudC5nZW5lcmF0ZUF1dGhTZXJ2aWNlKGNvbmZpZywgb3V0cHV0RGlyKTtcbiAgICAgIGNvbnN0IGluZGV4RmlsZSA9IGNoYW5nZXMuZmluZChjID0+IGMucGF0aC5pbmNsdWRlcygnc3JjL2luZGV4LnRzJykpO1xuXG4gICAgICBleHBlY3QoaW5kZXhGaWxlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGluZGV4RmlsZSEuY29udGVudCkudG9Db250YWluKCc0MDAwJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVzZSBjdXN0b20gc2Vzc2lvbiBkdXJhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZpZzogQXV0aFNlcnZpY2VDb25maWcgPSB7XG4gICAgICAgIG5hbWU6ICd0ZXN0LWF1dGgnLFxuICAgICAgICBzZXNzaW9uRHVyYXRpb246IDcyLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlcyA9IGF1dGhDb21wb25lbnQuZ2VuZXJhdGVBdXRoU2VydmljZShjb25maWcsIG91dHB1dERpcik7XG4gICAgICBjb25zdCB0b2tlbkZpbGUgPSBjaGFuZ2VzLmZpbmQoYyA9PiBjLnBhdGguaW5jbHVkZXMoJ3Rva2VuLnNlcnZpY2UudHMnKSk7XG5cbiAgICAgIGV4cGVjdCh0b2tlbkZpbGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodG9rZW5GaWxlIS5jb250ZW50KS50b0NvbnRhaW4oJzcyaCcpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLE9BQUE7QUFHQUMsUUFBUSxDQUFDLHNCQUFzQixFQUFFLE1BQU07RUFDckMsSUFBSUMsYUFBbUM7RUFDdkMsTUFBTUMsU0FBUyxHQUFHLGNBQWM7RUFFaEND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