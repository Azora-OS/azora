dd5320f0c3e6b1d1e6e38cc09d357986
"use strict";

var _factories = require("../../../tests/factories");
var _database = require("../../../tests/utils/database");
const prisma = (0, _database.getTestPrismaClient)();
describe('Education Service - Assessment', () => {
  afterEach(async () => {
    await (0, _database.cleanupTestDatabase)();
  });
  it('should create assessment', async () => {
    const instructor = await _factories.userFactory.createInstructor();
    const course = await _factories.courseFactory.create({
      instructorId: instructor.id
    });
    const assessment = await prisma.assessment.create({
      data: {
        courseId: course.id,
        title: 'Quiz 1',
        type: 'QUIZ',
        userId: instructor.id,
        questions: JSON.stringify([{
          question: 'What is 2+2?',
          answer: '4'
        }]),
        maxScore: 100
      }
    });
    expect(assessment).toBeDefined();
    expect(assessment.title).toBe('Quiz 1');
    expect(assessment.maxScore).toBe(100);
  });
  it('should track progress', async () => {
    const student = await _factories.userFactory.createStudent();
    const instructor = await _factories.userFactory.createInstructor();
    const course = await _factories.courseFactory.create({
      instructorId: instructor.id
    });
    const enrollment = await prisma.enrollment.create({
      data: {
        userId: student.id,
        courseId: course.id,
        progress: 75,
        status: 'ACTIVE',
        enrolledAt: new Date()
      }
    });
    expect(enrollment.progress).toBe(75);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZmFjdG9yaWVzIiwicmVxdWlyZSIsIl9kYXRhYmFzZSIsInByaXNtYSIsImdldFRlc3RQcmlzbWFDbGllbnQiLCJkZXNjcmliZSIsImFmdGVyRWFjaCIsImNsZWFudXBUZXN0RGF0YWJhc2UiLCJpdCIsImluc3RydWN0b3IiLCJ1c2VyRmFjdG9yeSIsImNyZWF0ZUluc3RydWN0b3IiLCJjb3Vyc2UiLCJjb3Vyc2VGYWN0b3J5IiwiY3JlYXRlIiwiaW5zdHJ1Y3RvcklkIiwiaWQiLCJhc3Nlc3NtZW50IiwiZGF0YSIsImNvdXJzZUlkIiwidGl0bGUiLCJ0eXBlIiwidXNlcklkIiwicXVlc3Rpb25zIiwiSlNPTiIsInN0cmluZ2lmeSIsInF1ZXN0aW9uIiwiYW5zd2VyIiwibWF4U2NvcmUiLCJleHBlY3QiLCJ0b0JlRGVmaW5lZCIsInRvQmUiLCJzdHVkZW50IiwiY3JlYXRlU3R1ZGVudCIsImVucm9sbG1lbnQiLCJwcm9ncmVzcyIsInN0YXR1cyIsImVucm9sbGVkQXQiLCJEYXRlIl0sInNvdXJjZXMiOlsiYXNzZXNzbWVudC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZXJGYWN0b3J5LCBjb3Vyc2VGYWN0b3J5IH0gZnJvbSAnLi4vLi4vLi4vdGVzdHMvZmFjdG9yaWVzJztcbmltcG9ydCB7IGdldFRlc3RQcmlzbWFDbGllbnQsIGNsZWFudXBUZXN0RGF0YWJhc2UgfSBmcm9tICcuLi8uLi8uLi90ZXN0cy91dGlscy9kYXRhYmFzZSc7XG5cbmNvbnN0IHByaXNtYSA9IGdldFRlc3RQcmlzbWFDbGllbnQoKTtcblxuZGVzY3JpYmUoJ0VkdWNhdGlvbiBTZXJ2aWNlIC0gQXNzZXNzbWVudCcsICgpID0+IHtcbiAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBjbGVhbnVwVGVzdERhdGFiYXNlKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgY3JlYXRlIGFzc2Vzc21lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgaW5zdHJ1Y3RvciA9IGF3YWl0IHVzZXJGYWN0b3J5LmNyZWF0ZUluc3RydWN0b3IoKTtcbiAgICBjb25zdCBjb3Vyc2UgPSBhd2FpdCBjb3Vyc2VGYWN0b3J5LmNyZWF0ZSh7IGluc3RydWN0b3JJZDogaW5zdHJ1Y3Rvci5pZCB9KTtcblxuICAgIGNvbnN0IGFzc2Vzc21lbnQgPSBhd2FpdCBwcmlzbWEuYXNzZXNzbWVudC5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBjb3Vyc2VJZDogY291cnNlLmlkLFxuICAgICAgICB0aXRsZTogJ1F1aXogMScsXG4gICAgICAgIHR5cGU6ICdRVUlaJyxcbiAgICAgICAgdXNlcklkOiBpbnN0cnVjdG9yLmlkLFxuICAgICAgICBxdWVzdGlvbnM6IEpTT04uc3RyaW5naWZ5KFt7IHF1ZXN0aW9uOiAnV2hhdCBpcyAyKzI/JywgYW5zd2VyOiAnNCcgfV0pLFxuICAgICAgICBtYXhTY29yZTogMTAwLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGV4cGVjdChhc3Nlc3NtZW50KS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChhc3Nlc3NtZW50LnRpdGxlKS50b0JlKCdRdWl6IDEnKTtcbiAgICBleHBlY3QoYXNzZXNzbWVudC5tYXhTY29yZSkudG9CZSgxMDApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHRyYWNrIHByb2dyZXNzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHN0dWRlbnQgPSBhd2FpdCB1c2VyRmFjdG9yeS5jcmVhdGVTdHVkZW50KCk7XG4gICAgY29uc3QgaW5zdHJ1Y3RvciA9IGF3YWl0IHVzZXJGYWN0b3J5LmNyZWF0ZUluc3RydWN0b3IoKTtcbiAgICBjb25zdCBjb3Vyc2UgPSBhd2FpdCBjb3Vyc2VGYWN0b3J5LmNyZWF0ZSh7IGluc3RydWN0b3JJZDogaW5zdHJ1Y3Rvci5pZCB9KTtcblxuICAgIGNvbnN0IGVucm9sbG1lbnQgPSBhd2FpdCBwcmlzbWEuZW5yb2xsbWVudC5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICB1c2VySWQ6IHN0dWRlbnQuaWQsXG4gICAgICAgIGNvdXJzZUlkOiBjb3Vyc2UuaWQsXG4gICAgICAgIHByb2dyZXNzOiA3NSxcbiAgICAgICAgc3RhdHVzOiAnQUNUSVZFJyxcbiAgICAgICAgZW5yb2xsZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGV4cGVjdChlbnJvbGxtZW50LnByb2dyZXNzKS50b0JlKDc1KTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRCxPQUFBO0FBRUEsTUFBTUUsTUFBTSxHQUFHLElBQUFDLDZCQUFtQixFQUFDLENBQUM7QUFFcENDLFFBQVEsQ0FBQyxnQ0FBZ0MsRUFBRSxNQUFNO0VBQy9DQyxTQUFTLENBQUMsWUFBWTtJQUNwQixNQUFNLElBQUFDLDZCQUFtQixFQUFDLENBQUM7RUFDN0IsQ0FBQyxDQUFDO0VBRUZDLEVBQUUsQ0FBQywwQkFBMEIsRUFBRSxZQUFZO0lBQ3pDLE1BQU1DLFVBQVUsR0FBRyxNQUFNQyxzQkFBVyxDQUFDQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3ZELE1BQU1DLE1BQU0sR0FBRyxNQUFNQyx3QkFBYSxDQUFDQyxNQUFNLENBQUM7TUFBRUMsWUFBWSxFQUFFTixVQUFVLENBQUNPO0lBQUcsQ0FBQyxDQUFDO0lBRTFFLE1BQU1DLFVBQVUsR0FBRyxNQUFNZCxNQUFNLENBQUNjLFVBQVUsQ0FBQ0gsTUFBTSxDQUFDO01BQ2hESSxJQUFJLEVBQUU7UUFDSkMsUUFBUSxFQUFFUCxNQUFNLENBQUNJLEVBQUU7UUFDbkJJLEtBQUssRUFBRSxRQUFRO1FBQ2ZDLElBQUksRUFBRSxNQUFNO1FBQ1pDLE1BQU0sRUFBRWIsVUFBVSxDQUFDTyxFQUFFO1FBQ3JCTyxTQUFTLEVBQUVDLElBQUksQ0FBQ0MsU0FBUyxDQUFDLENBQUM7VUFBRUMsUUFBUSxFQUFFLGNBQWM7VUFBRUMsTUFBTSxFQUFFO1FBQUksQ0FBQyxDQUFDLENBQUM7UUFDdEVDLFFBQVEsRUFBRTtNQUNaO0lBQ0YsQ0FBQyxDQUFDO0lBRUZDLE1BQU0sQ0FBQ1osVUFBVSxDQUFDLENBQUNhLFdBQVcsQ0FBQyxDQUFDO0lBQ2hDRCxNQUFNLENBQUNaLFVBQVUsQ0FBQ0csS0FBSyxDQUFDLENBQUNXLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkNGLE1BQU0sQ0FBQ1osVUFBVSxDQUFDVyxRQUFRLENBQUMsQ0FBQ0csSUFBSSxDQUFDLEdBQUcsQ0FBQztFQUN2QyxDQUFDLENBQUM7RUFFRnZCLEVBQUUsQ0FBQyx1QkFBdUIsRUFBRSxZQUFZO0lBQ3RDLE1BQU13QixPQUFPLEdBQUcsTUFBTXRCLHNCQUFXLENBQUN1QixhQUFhLENBQUMsQ0FBQztJQUNqRCxNQUFNeEIsVUFBVSxHQUFHLE1BQU1DLHNCQUFXLENBQUNDLGdCQUFnQixDQUFDLENBQUM7SUFDdkQsTUFBTUMsTUFBTSxHQUFHLE1BQU1DLHdCQUFhLENBQUNDLE1BQU0sQ0FBQztNQUFFQyxZQUFZLEVBQUVOLFVBQVUsQ0FBQ087SUFBRyxDQUFDLENBQUM7SUFFMUUsTUFBTWtCLFVBQVUsR0FBRyxNQUFNL0IsTUFBTSxDQUFDK0IsVUFBVSxDQUFDcEIsTUFBTSxDQUFDO01BQ2hESSxJQUFJLEVBQUU7UUFDSkksTUFBTSxFQUFFVSxPQUFPLENBQUNoQixFQUFFO1FBQ2xCRyxRQUFRLEVBQUVQLE1BQU0sQ0FBQ0ksRUFBRTtRQUNuQm1CLFFBQVEsRUFBRSxFQUFFO1FBQ1pDLE1BQU0sRUFBRSxRQUFRO1FBQ2hCQyxVQUFVLEVBQUUsSUFBSUMsSUFBSSxDQUFDO01BQ3ZCO0lBQ0YsQ0FBQyxDQUFDO0lBRUZULE1BQU0sQ0FBQ0ssVUFBVSxDQUFDQyxRQUFRLENBQUMsQ0FBQ0osSUFBSSxDQUFDLEVBQUUsQ0FBQztFQUN0QyxDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=