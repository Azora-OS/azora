619ae46a4d0c8c25afcbe2851e2e8154
/* istanbul ignore next */
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.HealthMonitor = void 0;
function cov_1050mx1q0b() {
  var path = "C:\\Users\\Azora Sapiens\\Documents\\azora\\services\\phoenix-server\\src\\health-monitor.ts";
  var hash = "a1a764afdb1298e95c0236a4302e38a615e148f6";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\Azora Sapiens\\Documents\\azora\\services\\phoenix-server\\src\\health-monitor.ts",
    statementMap: {
      "0": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 25,
          column: 34
        }
      },
      "1": {
        start: {
          line: 26,
          column: 8
        },
        end: {
          line: 26,
          column: 43
        }
      },
      "2": {
        start: {
          line: 27,
          column: 8
        },
        end: {
          line: 27,
          column: 38
        }
      },
      "3": {
        start: {
          line: 34,
          column: 8
        },
        end: {
          line: 42,
          column: 11
        }
      },
      "4": {
        start: {
          line: 43,
          column: 8
        },
        end: {
          line: 43,
          column: 67
        }
      },
      "5": {
        start: {
          line: 50,
          column: 8
        },
        end: {
          line: 53,
          column: 9
        }
      },
      "6": {
        start: {
          line: 51,
          column: 12
        },
        end: {
          line: 51,
          column: 60
        }
      },
      "7": {
        start: {
          line: 52,
          column: 12
        },
        end: {
          line: 52,
          column: 19
        }
      },
      "8": {
        start: {
          line: 55,
          column: 8
        },
        end: {
          line: 55,
          column: 37
        }
      },
      "9": {
        start: {
          line: 56,
          column: 8
        },
        end: {
          line: 56,
          column: 93
        }
      },
      "10": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 58,
          column: 27
        }
      },
      "11": {
        start: {
          line: 65,
          column: 8
        },
        end: {
          line: 65,
          column: 38
        }
      },
      "12": {
        start: {
          line: 66,
          column: 8
        },
        end: {
          line: 66,
          column: 52
        }
      },
      "13": {
        start: {
          line: 73,
          column: 8
        },
        end: {
          line: 76,
          column: 9
        }
      },
      "14": {
        start: {
          line: 74,
          column: 12
        },
        end: {
          line: 74,
          column: 42
        }
      },
      "15": {
        start: {
          line: 75,
          column: 12
        },
        end: {
          line: 75,
          column: 49
        }
      },
      "16": {
        start: {
          line: 83,
          column: 23
        },
        end: {
          line: 85,
          column: 9
        }
      },
      "17": {
        start: {
          line: 84,
          column: 12
        },
        end: {
          line: 84,
          column: 42
        }
      },
      "18": {
        start: {
          line: 87,
          column: 8
        },
        end: {
          line: 87,
          column: 34
        }
      },
      "19": {
        start: {
          line: 94,
          column: 24
        },
        end: {
          line: 94,
          column: 54
        }
      },
      "20": {
        start: {
          line: 95,
          column: 8
        },
        end: {
          line: 97,
          column: 9
        }
      },
      "21": {
        start: {
          line: 96,
          column: 12
        },
        end: {
          line: 96,
          column: 69
        }
      },
      "22": {
        start: {
          line: 99,
          column: 26
        },
        end: {
          line: 99,
          column: 36
        }
      },
      "23": {
        start: {
          line: 101,
          column: 8
        },
        end: {
          line: 142,
          column: 9
        }
      },
      "24": {
        start: {
          line: 102,
          column: 29
        },
        end: {
          line: 105,
          column: 14
        }
      },
      "25": {
        start: {
          line: 107,
          column: 33
        },
        end: {
          line: 107,
          column: 55
        }
      },
      "26": {
        start: {
          line: 108,
          column: 28
        },
        end: {
          line: 108,
          column: 39
        }
      },
      "27": {
        start: {
          line: 111,
          column: 12
        },
        end: {
          line: 111,
          column: 62
        }
      },
      "28": {
        start: {
          line: 112,
          column: 12
        },
        end: {
          line: 112,
          column: 57
        }
      },
      "29": {
        start: {
          line: 113,
          column: 12
        },
        end: {
          line: 113,
          column: 48
        }
      },
      "30": {
        start: {
          line: 116,
          column: 12
        },
        end: {
          line: 120,
          column: 13
        }
      },
      "31": {
        start: {
          line: 117,
          column: 16
        },
        end: {
          line: 117,
          column: 69
        }
      },
      "32": {
        start: {
          line: 119,
          column: 16
        },
        end: {
          line: 119,
          column: 65
        }
      },
      "33": {
        start: {
          line: 122,
          column: 12
        },
        end: {
          line: 127,
          column: 14
        }
      },
      "34": {
        start: {
          line: 130,
          column: 12
        },
        end: {
          line: 130,
          column: 36
        }
      },
      "35": {
        start: {
          line: 131,
          column: 12
        },
        end: {
          line: 131,
          column: 57
        }
      },
      "36": {
        start: {
          line: 132,
          column: 12
        },
        end: {
          line: 132,
          column: 61
        }
      },
      "37": {
        start: {
          line: 133,
          column: 12
        },
        end: {
          line: 133,
          column: 69
        }
      },
      "38": {
        start: {
          line: 135,
          column: 12
        },
        end: {
          line: 141,
          column: 14
        }
      },
      "39": {
        start: {
          line: 149,
          column: 8
        },
        end: {
          line: 149,
          column: 50
        }
      },
      "40": {
        start: {
          line: 156,
          column: 8
        },
        end: {
          line: 156,
          column: 46
        }
      },
      "41": {
        start: {
          line: 163,
          column: 8
        },
        end: {
          line: 165,
          column: 10
        }
      },
      "42": {
        start: {
          line: 164,
          column: 23
        },
        end: {
          line: 164,
          column: 51
        }
      },
      "43": {
        start: {
          line: 169,
          column: 8
        },
        end: {
          line: 169,
          column: 63
        }
      },
      "44": {
        start: {
          line: 169,
          column: 38
        },
        end: {
          line: 169,
          column: 61
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 24,
            column: 4
          },
          end: {
            line: 24,
            column: 5
          }
        },
        loc: {
          start: {
            line: 24,
            column: 47
          },
          end: {
            line: 28,
            column: 5
          }
        },
        line: 24
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 33,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        },
        loc: {
          start: {
            line: 33,
            column: 53
          },
          end: {
            line: 44,
            column: 5
          }
        },
        line: 33
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 49,
            column: 4
          },
          end: {
            line: 49,
            column: 5
          }
        },
        loc: {
          start: {
            line: 49,
            column: 18
          },
          end: {
            line: 59,
            column: 5
          }
        },
        line: 49
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 64,
            column: 4
          },
          end: {
            line: 64,
            column: 5
          }
        },
        loc: {
          start: {
            line: 64,
            column: 17
          },
          end: {
            line: 67,
            column: 5
          }
        },
        line: 64
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 72,
            column: 4
          },
          end: {
            line: 72,
            column: 5
          }
        },
        loc: {
          start: {
            line: 72,
            column: 47
          },
          end: {
            line: 77,
            column: 5
          }
        },
        line: 72
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 82,
            column: 4
          },
          end: {
            line: 82,
            column: 5
          }
        },
        loc: {
          start: {
            line: 82,
            column: 52
          },
          end: {
            line: 88,
            column: 5
          }
        },
        line: 82
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 83,
            column: 60
          },
          end: {
            line: 83,
            column: 61
          }
        },
        loc: {
          start: {
            line: 84,
            column: 12
          },
          end: {
            line: 84,
            column: 42
          }
        },
        line: 84
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 93,
            column: 4
          },
          end: {
            line: 93,
            column: 5
          }
        },
        loc: {
          start: {
            line: 93,
            column: 72
          },
          end: {
            line: 143,
            column: 5
          }
        },
        line: 93
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 148,
            column: 4
          },
          end: {
            line: 148,
            column: 5
          }
        },
        loc: {
          start: {
            line: 148,
            column: 36
          },
          end: {
            line: 150,
            column: 5
          }
        },
        line: 148
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 155,
            column: 4
          },
          end: {
            line: 155,
            column: 5
          }
        },
        loc: {
          start: {
            line: 155,
            column: 69
          },
          end: {
            line: 157,
            column: 5
          }
        },
        line: 155
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 162,
            column: 4
          },
          end: {
            line: 162,
            column: 5
          }
        },
        loc: {
          start: {
            line: 162,
            column: 44
          },
          end: {
            line: 166,
            column: 5
          }
        },
        line: 162
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 164,
            column: 12
          },
          end: {
            line: 164,
            column: 13
          }
        },
        loc: {
          start: {
            line: 164,
            column: 23
          },
          end: {
            line: 164,
            column: 51
          }
        },
        line: 164
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 168,
            column: 4
          },
          end: {
            line: 168,
            column: 5
          }
        },
        loc: {
          start: {
            line: 168,
            column: 45
          },
          end: {
            line: 170,
            column: 5
          }
        },
        line: 168
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 169,
            column: 27
          },
          end: {
            line: 169,
            column: 28
          }
        },
        loc: {
          start: {
            line: 169,
            column: 38
          },
          end: {
            line: 169,
            column: 61
          }
        },
        line: 169
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 24,
            column: 16
          },
          end: {
            line: 24,
            column: 45
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 24,
            column: 40
          },
          end: {
            line: 24,
            column: 45
          }
        }],
        line: 24
      },
      "1": {
        loc: {
          start: {
            line: 50,
            column: 8
          },
          end: {
            line: 53,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 50,
            column: 8
          },
          end: {
            line: 53,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 50
      },
      "2": {
        loc: {
          start: {
            line: 95,
            column: 8
          },
          end: {
            line: 97,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 95,
            column: 8
          },
          end: {
            line: 97,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 95
      },
      "3": {
        loc: {
          start: {
            line: 111,
            column: 29
          },
          end: {
            line: 111,
            column: 61
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 111,
            column: 39
          },
          end: {
            line: 111,
            column: 48
          }
        }, {
          start: {
            line: 111,
            column: 51
          },
          end: {
            line: 111,
            column: 61
          }
        }],
        line: 111
      },
      "4": {
        loc: {
          start: {
            line: 116,
            column: 12
          },
          end: {
            line: 120,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 116,
            column: 12
          },
          end: {
            line: 120,
            column: 13
          }
        }, {
          start: {
            line: 118,
            column: 19
          },
          end: {
            line: 120,
            column: 13
          }
        }],
        line: 116
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "a1a764afdb1298e95c0236a4302e38a615e148f6"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1050mx1q0b = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1050mx1q0b();
class HealthMonitor {
  constructor(checkInterval =
  /* istanbul ignore next */
  (cov_1050mx1q0b().b[0][0]++, 30000)) {
    /* istanbul ignore next */
    cov_1050mx1q0b().f[0]++;
    cov_1050mx1q0b().s[0]++;
    // 30 seconds
    this.services = new Map();
    /* istanbul ignore next */
    cov_1050mx1q0b().s[1]++;
    this.checkInterval = checkInterval;
    /* istanbul ignore next */
    cov_1050mx1q0b().s[2]++;
    this.monitoringActive = false;
  }

  /**
   * Register a service for monitoring
   */
  registerService(name, url) {
    /* istanbul ignore next */
    cov_1050mx1q0b().f[1]++;
    cov_1050mx1q0b().s[3]++;
    this.services.set(name, {
      name,
      url,
      status: 'healthy',
      lastCheck: new Date().toISOString(),
      responseTime: 0,
      errorRate: 0,
      uptime: 100
    });
    /* istanbul ignore next */
    cov_1050mx1q0b().s[4]++;
    console.log(`ðŸ” Registered ${name} for health monitoring`);
  }

  /**
   * Start continuous health monitoring
   */
  start() {
    /* istanbul ignore next */
    cov_1050mx1q0b().f[2]++;
    cov_1050mx1q0b().s[5]++;
    if (this.monitoringActive) {
      /* istanbul ignore next */
      cov_1050mx1q0b().b[1][0]++;
      cov_1050mx1q0b().s[6]++;
      console.log('Health monitoring already active');
      /* istanbul ignore next */
      cov_1050mx1q0b().s[7]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_1050mx1q0b().b[1][1]++;
    }
    cov_1050mx1q0b().s[8]++;
    this.monitoringActive = true;
    /* istanbul ignore next */
    cov_1050mx1q0b().s[9]++;
    console.log(`ðŸ” Health monitoring started (checking every ${this.checkInterval}ms)`);
    /* istanbul ignore next */
    cov_1050mx1q0b().s[10]++;
    this.monitorLoop();
  }

  /**
   * Stop health monitoring
   */
  stop() {
    /* istanbul ignore next */
    cov_1050mx1q0b().f[3]++;
    cov_1050mx1q0b().s[11]++;
    this.monitoringActive = false;
    /* istanbul ignore next */
    cov_1050mx1q0b().s[12]++;
    console.log('ðŸ” Health monitoring stopped');
  }

  /**
   * Continuous monitoring loop
   */
  async monitorLoop() {
    /* istanbul ignore next */
    cov_1050mx1q0b().f[4]++;
    cov_1050mx1q0b().s[13]++;
    while (this.monitoringActive) {
      /* istanbul ignore next */
      cov_1050mx1q0b().s[14]++;
      await this.checkAllServices();
      /* istanbul ignore next */
      cov_1050mx1q0b().s[15]++;
      await this.sleep(this.checkInterval);
    }
  }

  /**
   * Check health of all registered services
   */
  async checkAllServices() {
    /* istanbul ignore next */
    cov_1050mx1q0b().f[5]++;
    const checks =
    /* istanbul ignore next */
    (cov_1050mx1q0b().s[16]++, Array.from(this.services.keys()).map(serviceName => {
      /* istanbul ignore next */
      cov_1050mx1q0b().f[6]++;
      cov_1050mx1q0b().s[17]++;
      return this.checkService(serviceName);
    }));
    /* istanbul ignore next */
    cov_1050mx1q0b().s[18]++;
    await Promise.all(checks);
  }

  /**
   * Check health of a specific service
   */
  async checkService(serviceName) {
    /* istanbul ignore next */
    cov_1050mx1q0b().f[7]++;
    const service =
    /* istanbul ignore next */
    (cov_1050mx1q0b().s[19]++, this.services.get(serviceName));
    /* istanbul ignore next */
    cov_1050mx1q0b().s[20]++;
    if (!service) {
      /* istanbul ignore next */
      cov_1050mx1q0b().b[2][0]++;
      cov_1050mx1q0b().s[21]++;
      throw new Error(`Service ${serviceName} not registered`);
    } else
    /* istanbul ignore next */
    {
      cov_1050mx1q0b().b[2][1]++;
    }
    const startTime =
    /* istanbul ignore next */
    (cov_1050mx1q0b().s[22]++, Date.now());
    /* istanbul ignore next */
    cov_1050mx1q0b().s[23]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_1050mx1q0b().s[24]++, await fetch(`${service.url}/health`, {
        method: 'GET',
        signal: AbortSignal.timeout(5000) // 5 second timeout
      }));
      const responseTime =
      /* istanbul ignore next */
      (cov_1050mx1q0b().s[25]++, Date.now() - startTime);
      const healthy =
      /* istanbul ignore next */
      (cov_1050mx1q0b().s[26]++, response.ok);

      // Update service health
      /* istanbul ignore next */
      cov_1050mx1q0b().s[27]++;
      service.status = healthy ?
      /* istanbul ignore next */
      (cov_1050mx1q0b().b[3][0]++, 'healthy') :
      /* istanbul ignore next */
      (cov_1050mx1q0b().b[3][1]++, 'degraded');
      /* istanbul ignore next */
      cov_1050mx1q0b().s[28]++;
      service.lastCheck = new Date().toISOString();
      /* istanbul ignore next */
      cov_1050mx1q0b().s[29]++;
      service.responseTime = responseTime;

      // Calculate uptime
      /* istanbul ignore next */
      cov_1050mx1q0b().s[30]++;
      if (healthy) {
        /* istanbul ignore next */
        cov_1050mx1q0b().b[4][0]++;
        cov_1050mx1q0b().s[31]++;
        service.uptime = Math.min(100, service.uptime + 0.1);
      } else {
        /* istanbul ignore next */
        cov_1050mx1q0b().b[4][1]++;
        cov_1050mx1q0b().s[32]++;
        service.uptime = Math.max(0, service.uptime - 1);
      }
      /* istanbul ignore next */
      cov_1050mx1q0b().s[33]++;
      return {
        service: serviceName,
        healthy,
        responseTime,
        timestamp: new Date().toISOString()
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_1050mx1q0b().s[34]++;
      // Service is down
      service.status = 'down';
      /* istanbul ignore next */
      cov_1050mx1q0b().s[35]++;
      service.lastCheck = new Date().toISOString();
      /* istanbul ignore next */
      cov_1050mx1q0b().s[36]++;
      service.uptime = Math.max(0, service.uptime - 2);
      /* istanbul ignore next */
      cov_1050mx1q0b().s[37]++;
      service.errorRate = Math.min(100, service.errorRate + 5);
      /* istanbul ignore next */
      cov_1050mx1q0b().s[38]++;
      return {
        service: serviceName,
        healthy: false,
        responseTime: Date.now() - startTime,
        error: error.message,
        timestamp: new Date().toISOString()
      };
    }
  }

  /**
   * Get health status of all services
   */
  getAllHealth() {
    /* istanbul ignore next */
    cov_1050mx1q0b().f[8]++;
    cov_1050mx1q0b().s[39]++;
    return Array.from(this.services.values());
  }

  /**
   * Get health status of a specific service
   */
  getServiceHealth(serviceName) {
    /* istanbul ignore next */
    cov_1050mx1q0b().f[9]++;
    cov_1050mx1q0b().s[40]++;
    return this.services.get(serviceName);
  }

  /**
   * Get list of unhealthy services
   */
  getUnhealthyServices() {
    /* istanbul ignore next */
    cov_1050mx1q0b().f[10]++;
    cov_1050mx1q0b().s[41]++;
    return Array.from(this.services.values()).filter(service => {
      /* istanbul ignore next */
      cov_1050mx1q0b().f[11]++;
      cov_1050mx1q0b().s[42]++;
      return service.status !== 'healthy';
    });
  }
  sleep(ms) {
    /* istanbul ignore next */
    cov_1050mx1q0b().f[12]++;
    cov_1050mx1q0b().s[43]++;
    return new Promise(resolve => {
      /* istanbul ignore next */
      cov_1050mx1q0b().f[13]++;
      cov_1050mx1q0b().s[44]++;
      return setTimeout(resolve, ms);
    });
  }
}
/* istanbul ignore next */
exports.HealthMonitor = HealthMonitor;
var _default = exports.default = HealthMonitor;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTA1MG14MXEwYiIsImFjdHVhbENvdmVyYWdlIiwiSGVhbHRoTW9uaXRvciIsImNvbnN0cnVjdG9yIiwiY2hlY2tJbnRlcnZhbCIsImIiLCJmIiwicyIsInNlcnZpY2VzIiwiTWFwIiwibW9uaXRvcmluZ0FjdGl2ZSIsInJlZ2lzdGVyU2VydmljZSIsIm5hbWUiLCJ1cmwiLCJzZXQiLCJzdGF0dXMiLCJsYXN0Q2hlY2siLCJEYXRlIiwidG9JU09TdHJpbmciLCJyZXNwb25zZVRpbWUiLCJlcnJvclJhdGUiLCJ1cHRpbWUiLCJjb25zb2xlIiwibG9nIiwic3RhcnQiLCJtb25pdG9yTG9vcCIsInN0b3AiLCJjaGVja0FsbFNlcnZpY2VzIiwic2xlZXAiLCJjaGVja3MiLCJBcnJheSIsImZyb20iLCJrZXlzIiwibWFwIiwic2VydmljZU5hbWUiLCJjaGVja1NlcnZpY2UiLCJQcm9taXNlIiwiYWxsIiwic2VydmljZSIsImdldCIsIkVycm9yIiwic3RhcnRUaW1lIiwibm93IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsInNpZ25hbCIsIkFib3J0U2lnbmFsIiwidGltZW91dCIsImhlYWx0aHkiLCJvayIsIk1hdGgiLCJtaW4iLCJtYXgiLCJ0aW1lc3RhbXAiLCJlcnJvciIsIm1lc3NhZ2UiLCJnZXRBbGxIZWFsdGgiLCJ2YWx1ZXMiLCJnZXRTZXJ2aWNlSGVhbHRoIiwiZ2V0VW5oZWFsdGh5U2VydmljZXMiLCJmaWx0ZXIiLCJtcyIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZXhwb3J0cyIsIl9kZWZhdWx0IiwiZGVmYXVsdCJdLCJzb3VyY2VzIjpbImhlYWx0aC1tb25pdG9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBpbnRlcmZhY2UgU2VydmljZUhlYWx0aCB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHVybDogc3RyaW5nO1xuICAgIHN0YXR1czogJ2hlYWx0aHknIHwgJ2RlZ3JhZGVkJyB8ICdkb3duJztcbiAgICBsYXN0Q2hlY2s6IHN0cmluZztcbiAgICByZXNwb25zZVRpbWU6IG51bWJlcjtcbiAgICBlcnJvclJhdGU6IG51bWJlcjtcbiAgICB1cHRpbWU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIZWFsdGhDaGVja1Jlc3VsdCB7XG4gICAgc2VydmljZTogc3RyaW5nO1xuICAgIGhlYWx0aHk6IGJvb2xlYW47XG4gICAgcmVzcG9uc2VUaW1lOiBudW1iZXI7XG4gICAgZXJyb3I/OiBzdHJpbmc7XG4gICAgdGltZXN0YW1wOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBIZWFsdGhNb25pdG9yIHtcbiAgICBwcml2YXRlIHNlcnZpY2VzOiBNYXA8c3RyaW5nLCBTZXJ2aWNlSGVhbHRoPjtcbiAgICBwcml2YXRlIGNoZWNrSW50ZXJ2YWw6IG51bWJlcjtcbiAgICBwcml2YXRlIG1vbml0b3JpbmdBY3RpdmU6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihjaGVja0ludGVydmFsOiBudW1iZXIgPSAzMDAwMCkgeyAvLyAzMCBzZWNvbmRzXG4gICAgICAgIHRoaXMuc2VydmljZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuY2hlY2tJbnRlcnZhbCA9IGNoZWNrSW50ZXJ2YWw7XG4gICAgICAgIHRoaXMubW9uaXRvcmluZ0FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgc2VydmljZSBmb3IgbW9uaXRvcmluZ1xuICAgICAqL1xuICAgIHJlZ2lzdGVyU2VydmljZShuYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2VydmljZXMuc2V0KG5hbWUsIHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBzdGF0dXM6ICdoZWFsdGh5JyxcbiAgICAgICAgICAgIGxhc3RDaGVjazogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgcmVzcG9uc2VUaW1lOiAwLFxuICAgICAgICAgICAgZXJyb3JSYXRlOiAwLFxuICAgICAgICAgICAgdXB0aW1lOiAxMDBcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5SNIFJlZ2lzdGVyZWQgJHtuYW1lfSBmb3IgaGVhbHRoIG1vbml0b3JpbmdgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydCBjb250aW51b3VzIGhlYWx0aCBtb25pdG9yaW5nXG4gICAgICovXG4gICAgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLm1vbml0b3JpbmdBY3RpdmUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIZWFsdGggbW9uaXRvcmluZyBhbHJlYWR5IGFjdGl2ZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tb25pdG9yaW5nQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgY29uc29sZS5sb2coYPCflI0gSGVhbHRoIG1vbml0b3Jpbmcgc3RhcnRlZCAoY2hlY2tpbmcgZXZlcnkgJHt0aGlzLmNoZWNrSW50ZXJ2YWx9bXMpYCk7XG5cbiAgICAgICAgdGhpcy5tb25pdG9yTG9vcCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3AgaGVhbHRoIG1vbml0b3JpbmdcbiAgICAgKi9cbiAgICBzdG9wKCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1vbml0b3JpbmdBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gSGVhbHRoIG1vbml0b3Jpbmcgc3RvcHBlZCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnRpbnVvdXMgbW9uaXRvcmluZyBsb29wXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBtb25pdG9yTG9vcCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgd2hpbGUgKHRoaXMubW9uaXRvcmluZ0FjdGl2ZSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jaGVja0FsbFNlcnZpY2VzKCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNsZWVwKHRoaXMuY2hlY2tJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBoZWFsdGggb2YgYWxsIHJlZ2lzdGVyZWQgc2VydmljZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGNoZWNrQWxsU2VydmljZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGNoZWNrcyA9IEFycmF5LmZyb20odGhpcy5zZXJ2aWNlcy5rZXlzKCkpLm1hcChzZXJ2aWNlTmFtZSA9PlxuICAgICAgICAgICAgdGhpcy5jaGVja1NlcnZpY2Uoc2VydmljZU5hbWUpXG4gICAgICAgICk7XG5cbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoY2hlY2tzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBoZWFsdGggb2YgYSBzcGVjaWZpYyBzZXJ2aWNlXG4gICAgICovXG4gICAgYXN5bmMgY2hlY2tTZXJ2aWNlKHNlcnZpY2VOYW1lOiBzdHJpbmcpOiBQcm9taXNlPEhlYWx0aENoZWNrUmVzdWx0PiB7XG4gICAgICAgIGNvbnN0IHNlcnZpY2UgPSB0aGlzLnNlcnZpY2VzLmdldChzZXJ2aWNlTmFtZSk7XG4gICAgICAgIGlmICghc2VydmljZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2aWNlICR7c2VydmljZU5hbWV9IG5vdCByZWdpc3RlcmVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3NlcnZpY2UudXJsfS9oZWFsdGhgLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQoNTAwMCkgLy8gNSBzZWNvbmQgdGltZW91dFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICAgICAgICBjb25zdCBoZWFsdGh5ID0gcmVzcG9uc2Uub2s7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzZXJ2aWNlIGhlYWx0aFxuICAgICAgICAgICAgc2VydmljZS5zdGF0dXMgPSBoZWFsdGh5ID8gJ2hlYWx0aHknIDogJ2RlZ3JhZGVkJztcbiAgICAgICAgICAgIHNlcnZpY2UubGFzdENoZWNrID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgc2VydmljZS5yZXNwb25zZVRpbWUgPSByZXNwb25zZVRpbWU7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB1cHRpbWVcbiAgICAgICAgICAgIGlmIChoZWFsdGh5KSB7XG4gICAgICAgICAgICAgICAgc2VydmljZS51cHRpbWUgPSBNYXRoLm1pbigxMDAsIHNlcnZpY2UudXB0aW1lICsgMC4xKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VydmljZS51cHRpbWUgPSBNYXRoLm1heCgwLCBzZXJ2aWNlLnVwdGltZSAtIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNlcnZpY2U6IHNlcnZpY2VOYW1lLFxuICAgICAgICAgICAgICAgIGhlYWx0aHksXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VUaW1lLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gU2VydmljZSBpcyBkb3duXG4gICAgICAgICAgICBzZXJ2aWNlLnN0YXR1cyA9ICdkb3duJztcbiAgICAgICAgICAgIHNlcnZpY2UubGFzdENoZWNrID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgc2VydmljZS51cHRpbWUgPSBNYXRoLm1heCgwLCBzZXJ2aWNlLnVwdGltZSAtIDIpO1xuICAgICAgICAgICAgc2VydmljZS5lcnJvclJhdGUgPSBNYXRoLm1pbigxMDAsIHNlcnZpY2UuZXJyb3JSYXRlICsgNSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2VydmljZTogc2VydmljZU5hbWUsXG4gICAgICAgICAgICAgICAgaGVhbHRoeTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VUaW1lOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGhlYWx0aCBzdGF0dXMgb2YgYWxsIHNlcnZpY2VzXG4gICAgICovXG4gICAgZ2V0QWxsSGVhbHRoKCk6IFNlcnZpY2VIZWFsdGhbXSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2VydmljZXMudmFsdWVzKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBoZWFsdGggc3RhdHVzIG9mIGEgc3BlY2lmaWMgc2VydmljZVxuICAgICAqL1xuICAgIGdldFNlcnZpY2VIZWFsdGgoc2VydmljZU5hbWU6IHN0cmluZyk6IFNlcnZpY2VIZWFsdGggfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlcy5nZXQoc2VydmljZU5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBsaXN0IG9mIHVuaGVhbHRoeSBzZXJ2aWNlc1xuICAgICAqL1xuICAgIGdldFVuaGVhbHRoeVNlcnZpY2VzKCk6IFNlcnZpY2VIZWFsdGhbXSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2VydmljZXMudmFsdWVzKCkpLmZpbHRlcihcbiAgICAgICAgICAgIHNlcnZpY2UgPT4gc2VydmljZS5zdGF0dXMgIT09ICdoZWFsdGh5J1xuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2xlZXAobXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBIZWFsdGhNb25pdG9yO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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