59f8acfbc03a3575388df63be83e595f
"use strict";

_getJestObj().mock('../../services/course.service');
var _supertest = _interopRequireDefault(require("supertest"));
var _express = _interopRequireDefault(require("express"));
var _course = _interopRequireDefault(require("../course.routes"));
var _course2 = require("../../services/course.service");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const app = (0, _express.default)();
app.use(_express.default.json());
app.use('/api/v1/courses', _course.default);
describe('Course Routes', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });
  describe('GET /api/v1/courses', () => {
    it('should list courses', async () => {
      const mockCourses = [{
        id: 'course-1',
        title: 'Course 1',
        description: 'Description 1',
        instructorId: 'instructor-1',
        tier: 'free',
        modules: [],
        assessments: []
      }];
      _course2.courseService.listCourses.mockResolvedValue({
        courses: mockCourses,
        total: 1
      });
      const response = await (0, _supertest.default)(app).get('/api/v1/courses');
      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data).toEqual(mockCourses);
    });
  });
  describe('POST /api/v1/courses', () => {
    it('should create a course', async () => {
      const courseData = {
        title: 'New Course',
        description: 'Course description',
        instructorId: 'instructor-1',
        tier: 'free'
      };
      const mockCourse = {
        id: 'course-1',
        ...courseData,
        modules: [],
        assessments: []
      };
      _course2.courseService.createCourse.mockResolvedValue(mockCourse);
      const response = await (0, _supertest.default)(app).post('/api/v1/courses').send(courseData);
      expect(response.status).toBe(201);
      expect(response.body.success).toBe(true);
      expect(response.body.data).toEqual(mockCourse);
    });
  });
  describe('GET /api/v1/courses/:id', () => {
    it('should get a course by ID', async () => {
      const mockCourse = {
        id: 'course-1',
        title: 'Course 1',
        description: 'Description',
        instructorId: 'instructor-1',
        tier: 'free',
        modules: [],
        assessments: []
      };
      _course2.courseService.getCourse.mockResolvedValue(mockCourse);
      const response = await (0, _supertest.default)(app).get('/api/v1/courses/course-1');
      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data).toEqual(mockCourse);
    });
    it('should return 404 if course not found', async () => {
      _course2.courseService.getCourse.mockResolvedValue(null);
      const response = await (0, _supertest.default)(app).get('/api/v1/courses/non-existent');
      expect(response.status).toBe(404);
      expect(response.body.success).toBe(false);
    });
  });
  describe('PUT /api/v1/courses/:id', () => {
    it('should update a course', async () => {
      const updateData = {
        title: 'Updated Title'
      };
      const mockUpdatedCourse = {
        id: 'course-1',
        title: 'Updated Title',
        description: 'Description',
        instructorId: 'instructor-1',
        tier: 'free',
        modules: [],
        assessments: []
      };
      _course2.courseService.updateCourse.mockResolvedValue(mockUpdatedCourse);
      const response = await (0, _supertest.default)(app).put('/api/v1/courses/course-1').send(updateData);
      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.title).toBe('Updated Title');
    });
  });
  describe('DELETE /api/v1/courses/:id', () => {
    it('should delete a course', async () => {
      _course2.courseService.deleteCourse.mockResolvedValue(undefined);
      const response = await (0, _supertest.default)(app).delete('/api/v1/courses/course-1');
      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
    });
  });
  describe('POST /api/v1/courses/:id/modules', () => {
    it('should create a module', async () => {
      const moduleData = {
        title: 'Module 1',
        content: 'Module content',
        order: 1,
        estimatedTime: 60
      };
      const mockModule = {
        id: 'module-1',
        courseId: 'course-1',
        ...moduleData
      };
      _course2.courseService.createModule.mockResolvedValue(mockModule);
      const response = await (0, _supertest.default)(app).post('/api/v1/courses/course-1/modules').send(moduleData);
      expect(response.status).toBe(201);
      expect(response.body.success).toBe(true);
      expect(response.body.data).toEqual(mockModule);
    });
  });
  describe('POST /api/v1/courses/:id/assessments', () => {
    it('should create an assessment', async () => {
      const assessmentData = {
        moduleId: 'module-1',
        title: 'Quiz 1',
        questions: ['Q1', 'Q2'],
        passingScore: 70
      };
      const mockAssessment = {
        id: 'assessment-1',
        courseId: 'course-1',
        ...assessmentData
      };
      _course2.courseService.createAssessment.mockResolvedValue(mockAssessment);
      const response = await (0, _supertest.default)(app).post('/api/v1/courses/course-1/assessments').send(assessmentData);
      expect(response.status).toBe(201);
      expect(response.body.success).toBe(true);
      expect(response.body.data).toEqual(mockAssessment);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfc3VwZXJ0ZXN0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZXhwcmVzcyIsIl9jb3Vyc2UiLCJfY291cnNlMiIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImplc3QiLCJhcHAiLCJleHByZXNzIiwidXNlIiwianNvbiIsImNvdXJzZVJvdXRlcyIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsIm1vY2tDb3Vyc2VzIiwiaWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiaW5zdHJ1Y3RvcklkIiwidGllciIsIm1vZHVsZXMiLCJhc3Nlc3NtZW50cyIsImNvdXJzZVNlcnZpY2UiLCJsaXN0Q291cnNlcyIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiY291cnNlcyIsInRvdGFsIiwicmVzcG9uc2UiLCJyZXF1ZXN0IiwiZ2V0IiwiZXhwZWN0Iiwic3RhdHVzIiwidG9CZSIsImJvZHkiLCJzdWNjZXNzIiwiZGF0YSIsInRvRXF1YWwiLCJjb3Vyc2VEYXRhIiwibW9ja0NvdXJzZSIsImNyZWF0ZUNvdXJzZSIsInBvc3QiLCJzZW5kIiwiZ2V0Q291cnNlIiwidXBkYXRlRGF0YSIsIm1vY2tVcGRhdGVkQ291cnNlIiwidXBkYXRlQ291cnNlIiwicHV0IiwiZGVsZXRlQ291cnNlIiwidW5kZWZpbmVkIiwiZGVsZXRlIiwibW9kdWxlRGF0YSIsImNvbnRlbnQiLCJvcmRlciIsImVzdGltYXRlZFRpbWUiLCJtb2NrTW9kdWxlIiwiY291cnNlSWQiLCJjcmVhdGVNb2R1bGUiLCJhc3Nlc3NtZW50RGF0YSIsIm1vZHVsZUlkIiwicXVlc3Rpb25zIiwicGFzc2luZ1Njb3JlIiwibW9ja0Fzc2Vzc21lbnQiLCJjcmVhdGVBc3Nlc3NtZW50Il0sInNvdXJjZXMiOlsiY291cnNlLnJvdXRlcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZXF1ZXN0IGZyb20gJ3N1cGVydGVzdCc7XHJcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgY291cnNlUm91dGVzIGZyb20gJy4uL2NvdXJzZS5yb3V0ZXMnO1xyXG5pbXBvcnQgeyBjb3Vyc2VTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY291cnNlLnNlcnZpY2UnO1xyXG5cclxuamVzdC5tb2NrKCcuLi8uLi9zZXJ2aWNlcy9jb3Vyc2Uuc2VydmljZScpO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuYXBwLnVzZSgnL2FwaS92MS9jb3Vyc2VzJywgY291cnNlUm91dGVzKTtcclxuXHJcbmRlc2NyaWJlKCdDb3Vyc2UgUm91dGVzJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS92MS9jb3Vyc2VzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBsaXN0IGNvdXJzZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tDb3Vyc2VzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAnY291cnNlLTEnLFxyXG4gICAgICAgICAgdGl0bGU6ICdDb3Vyc2UgMScsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIDEnLFxyXG4gICAgICAgICAgaW5zdHJ1Y3RvcklkOiAnaW5zdHJ1Y3Rvci0xJyxcclxuICAgICAgICAgIHRpZXI6ICdmcmVlJyxcclxuICAgICAgICAgIG1vZHVsZXM6IFtdLFxyXG4gICAgICAgICAgYXNzZXNzbWVudHM6IFtdLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICAoY291cnNlU2VydmljZS5saXN0Q291cnNlcyBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBjb3Vyc2VzOiBtb2NrQ291cnNlcyxcclxuICAgICAgICB0b3RhbDogMSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKS5nZXQoJy9hcGkvdjEvY291cnNlcycpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhKS50b0VxdWFsKG1vY2tDb3Vyc2VzKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUE9TVCAvYXBpL3YxL2NvdXJzZXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBhIGNvdXJzZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgY291cnNlRGF0YSA9IHtcclxuICAgICAgICB0aXRsZTogJ05ldyBDb3Vyc2UnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ291cnNlIGRlc2NyaXB0aW9uJyxcclxuICAgICAgICBpbnN0cnVjdG9ySWQ6ICdpbnN0cnVjdG9yLTEnLFxyXG4gICAgICAgIHRpZXI6ICdmcmVlJyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IG1vY2tDb3Vyc2UgPSB7XHJcbiAgICAgICAgaWQ6ICdjb3Vyc2UtMScsXHJcbiAgICAgICAgLi4uY291cnNlRGF0YSxcclxuICAgICAgICBtb2R1bGVzOiBbXSxcclxuICAgICAgICBhc3Nlc3NtZW50czogW10sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAoY291cnNlU2VydmljZS5jcmVhdGVDb3Vyc2UgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQ291cnNlKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvdjEvY291cnNlcycpXHJcbiAgICAgICAgLnNlbmQoY291cnNlRGF0YSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvRXF1YWwobW9ja0NvdXJzZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL3YxL2NvdXJzZXMvOmlkJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBnZXQgYSBjb3Vyc2UgYnkgSUQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tDb3Vyc2UgPSB7XHJcbiAgICAgICAgaWQ6ICdjb3Vyc2UtMScsXHJcbiAgICAgICAgdGl0bGU6ICdDb3Vyc2UgMScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbicsXHJcbiAgICAgICAgaW5zdHJ1Y3RvcklkOiAnaW5zdHJ1Y3Rvci0xJyxcclxuICAgICAgICB0aWVyOiAnZnJlZScsXHJcbiAgICAgICAgbW9kdWxlczogW10sXHJcbiAgICAgICAgYXNzZXNzbWVudHM6IFtdLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgKGNvdXJzZVNlcnZpY2UuZ2V0Q291cnNlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja0NvdXJzZSk7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKS5nZXQoJy9hcGkvdjEvY291cnNlcy9jb3Vyc2UtMScpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhKS50b0VxdWFsKG1vY2tDb3Vyc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDA0IGlmIGNvdXJzZSBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChjb3Vyc2VTZXJ2aWNlLmdldENvdXJzZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpO1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL3YxL2NvdXJzZXMvbm9uLWV4aXN0ZW50Jyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwNCk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdQVVQgL2FwaS92MS9jb3Vyc2VzLzppZCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgdXBkYXRlIGEgY291cnNlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1cGRhdGVEYXRhID0geyB0aXRsZTogJ1VwZGF0ZWQgVGl0bGUnIH07XHJcbiAgICAgIGNvbnN0IG1vY2tVcGRhdGVkQ291cnNlID0ge1xyXG4gICAgICAgIGlkOiAnY291cnNlLTEnLFxyXG4gICAgICAgIHRpdGxlOiAnVXBkYXRlZCBUaXRsZScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbicsXHJcbiAgICAgICAgaW5zdHJ1Y3RvcklkOiAnaW5zdHJ1Y3Rvci0xJyxcclxuICAgICAgICB0aWVyOiAnZnJlZScsXHJcbiAgICAgICAgbW9kdWxlczogW10sXHJcbiAgICAgICAgYXNzZXNzbWVudHM6IFtdLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgKGNvdXJzZVNlcnZpY2UudXBkYXRlQ291cnNlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja1VwZGF0ZWRDb3Vyc2UpO1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucHV0KCcvYXBpL3YxL2NvdXJzZXMvY291cnNlLTEnKVxyXG4gICAgICAgIC5zZW5kKHVwZGF0ZURhdGEpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhLnRpdGxlKS50b0JlKCdVcGRhdGVkIFRpdGxlJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0RFTEVURSAvYXBpL3YxL2NvdXJzZXMvOmlkJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBkZWxldGUgYSBjb3Vyc2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChjb3Vyc2VTZXJ2aWNlLmRlbGV0ZUNvdXJzZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKS5kZWxldGUoJy9hcGkvdjEvY291cnNlcy9jb3Vyc2UtMScpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdQT1NUIC9hcGkvdjEvY291cnNlcy86aWQvbW9kdWxlcycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY3JlYXRlIGEgbW9kdWxlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2R1bGVEYXRhID0ge1xyXG4gICAgICAgIHRpdGxlOiAnTW9kdWxlIDEnLFxyXG4gICAgICAgIGNvbnRlbnQ6ICdNb2R1bGUgY29udGVudCcsXHJcbiAgICAgICAgb3JkZXI6IDEsXHJcbiAgICAgICAgZXN0aW1hdGVkVGltZTogNjAsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBtb2NrTW9kdWxlID0ge1xyXG4gICAgICAgIGlkOiAnbW9kdWxlLTEnLFxyXG4gICAgICAgIGNvdXJzZUlkOiAnY291cnNlLTEnLFxyXG4gICAgICAgIC4uLm1vZHVsZURhdGEsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAoY291cnNlU2VydmljZS5jcmVhdGVNb2R1bGUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrTW9kdWxlKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvdjEvY291cnNlcy9jb3Vyc2UtMS9tb2R1bGVzJylcclxuICAgICAgICAuc2VuZChtb2R1bGVEYXRhKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAxKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9FcXVhbChtb2NrTW9kdWxlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUE9TVCAvYXBpL3YxL2NvdXJzZXMvOmlkL2Fzc2Vzc21lbnRzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgYW4gYXNzZXNzbWVudCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgYXNzZXNzbWVudERhdGEgPSB7XHJcbiAgICAgICAgbW9kdWxlSWQ6ICdtb2R1bGUtMScsXHJcbiAgICAgICAgdGl0bGU6ICdRdWl6IDEnLFxyXG4gICAgICAgIHF1ZXN0aW9uczogWydRMScsICdRMiddLFxyXG4gICAgICAgIHBhc3NpbmdTY29yZTogNzAsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBtb2NrQXNzZXNzbWVudCA9IHtcclxuICAgICAgICBpZDogJ2Fzc2Vzc21lbnQtMScsXHJcbiAgICAgICAgY291cnNlSWQ6ICdjb3Vyc2UtMScsXHJcbiAgICAgICAgLi4uYXNzZXNzbWVudERhdGEsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAoY291cnNlU2VydmljZS5jcmVhdGVBc3Nlc3NtZW50IGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja0Fzc2Vzc21lbnQpO1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucG9zdCgnL2FwaS92MS9jb3Vyc2VzL2NvdXJzZS0xL2Fzc2Vzc21lbnRzJylcclxuICAgICAgICAuc2VuZChhc3Nlc3NtZW50RGF0YSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvRXF1YWwobW9ja0Fzc2Vzc21lbnQpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBS0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLCtCQUErQixDQUFDO0FBTDFDLElBQUFDLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE9BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUgsT0FBQTtBQUE4RCxTQUFBRCx1QkFBQUssQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLFNBQUFSLFlBQUE7RUFBQTtJQUFBVztFQUFBLElBQUFQLE9BQUE7RUFBQUosV0FBQSxHQUFBQSxDQUFBLEtBQUFXLElB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