d12ed47fb90eb3f3866f0ac6c07cdc7a
/* istanbul ignore next */
function cov_21bgaefcrj() {
  var path = "/workspaces/azora/services/elara-incubator/src/routes/payment.routes.ts";
  var hash = "d99b34ad5b26a647c4ce60cff16fb73e08f6e478";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/elara-incubator/src/routes/payment.routes.ts",
    statementMap: {
      "0": {
        start: {
          line: 8,
          column: 15
        },
        end: {
          line: 8,
          column: 23
        }
      },
      "1": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 37,
          column: 2
        }
      },
      "2": {
        start: {
          line: 16,
          column: 26
        },
        end: {
          line: 16,
          column: 73
        }
      },
      "3": {
        start: {
          line: 18,
          column: 4
        },
        end: {
          line: 20,
          column: 5
        }
      },
      "4": {
        start: {
          line: 19,
          column: 6
        },
        end: {
          line: 19,
          column: 63
        }
      },
      "5": {
        start: {
          line: 25,
          column: 4
        },
        end: {
          line: 35,
          column: 7
        }
      },
      "6": {
        start: {
          line: 40,
          column: 0
        },
        end: {
          line: 65,
          column: 2
        }
      },
      "7": {
        start: {
          line: 44,
          column: 27
        },
        end: {
          line: 44,
          column: 37
        }
      },
      "8": {
        start: {
          line: 45,
          column: 31
        },
        end: {
          line: 45,
          column: 96
        }
      },
      "9": {
        start: {
          line: 47,
          column: 4
        },
        end: {
          line: 49,
          column: 5
        }
      },
      "10": {
        start: {
          line: 48,
          column: 6
        },
        end: {
          line: 48,
          column: 60
        }
      },
      "11": {
        start: {
          line: 54,
          column: 4
        },
        end: {
          line: 63,
          column: 7
        }
      },
      "12": {
        start: {
          line: 68,
          column: 0
        },
        end: {
          line: 97,
          column: 2
        }
      },
      "13": {
        start: {
          line: 72,
          column: 27
        },
        end: {
          line: 72,
          column: 37
        }
      },
      "14": {
        start: {
          line: 73,
          column: 35
        },
        end: {
          line: 73,
          column: 44
        }
      },
      "15": {
        start: {
          line: 75,
          column: 4
        },
        end: {
          line: 77,
          column: 5
        }
      },
      "16": {
        start: {
          line: 76,
          column: 6
        },
        end: {
          line: 76,
          column: 60
        }
      },
      "17": {
        start: {
          line: 82,
          column: 4
        },
        end: {
          line: 95,
          column: 7
        }
      },
      "18": {
        start: {
          line: 100,
          column: 0
        },
        end: {
          line: 126,
          column: 2
        }
      },
      "19": {
        start: {
          line: 105,
          column: 26
        },
        end: {
          line: 105,
          column: 62
        }
      },
      "20": {
        start: {
          line: 107,
          column: 4
        },
        end: {
          line: 109,
          column: 5
        }
      },
      "21": {
        start: {
          line: 108,
          column: 6
        },
        end: {
          line: 108,
          column: 63
        }
      },
      "22": {
        start: {
          line: 114,
          column: 4
        },
        end: {
          line: 124,
          column: 7
        }
      },
      "23": {
        start: {
          line: 129,
          column: 0
        },
        end: {
          line: 155,
          column: 2
        }
      },
      "24": {
        start: {
          line: 133,
          column: 26
        },
        end: {
          line: 133,
          column: 36
        }
      },
      "25": {
        start: {
          line: 135,
          column: 4
        },
        end: {
          line: 137,
          column: 5
        }
      },
      "26": {
        start: {
          line: 136,
          column: 6
        },
        end: {
          line: 136,
          column: 59
        }
      },
      "27": {
        start: {
          line: 142,
          column: 4
        },
        end: {
          line: 153,
          column: 7
        }
      },
      "28": {
        start: {
          line: 158,
          column: 0
        },
        end: {
          line: 188,
          column: 2
        }
      },
      "29": {
        start: {
          line: 162,
          column: 27
        },
        end: {
          line: 162,
          column: 37
        }
      },
      "30": {
        start: {
          line: 163,
          column: 31
        },
        end: {
          line: 163,
          column: 96
        }
      },
      "31": {
        start: {
          line: 165,
          column: 4
        },
        end: {
          line: 167,
          column: 5
        }
      },
      "32": {
        start: {
          line: 166,
          column: 6
        },
        end: {
          line: 166,
          column: 60
        }
      },
      "33": {
        start: {
          line: 172,
          column: 4
        },
        end: {
          line: 186,
          column: 7
        }
      },
      "34": {
        start: {
          line: 191,
          column: 0
        },
        end: {
          line: 220,
          column: 2
        }
      },
      "35": {
        start: {
          line: 196,
          column: 26
        },
        end: {
          line: 196,
          column: 36
        }
      },
      "36": {
        start: {
          line: 197,
          column: 23
        },
        end: {
          line: 197,
          column: 31
        }
      },
      "37": {
        start: {
          line: 199,
          column: 4
        },
        end: {
          line: 201,
          column: 5
        }
      },
      "38": {
        start: {
          line: 200,
          column: 6
        },
        end: {
          line: 200,
          column: 59
        }
      },
      "39": {
        start: {
          line: 203,
          column: 4
        },
        end: {
          line: 205,
          column: 5
        }
      },
      "40": {
        start: {
          line: 204,
          column: 6
        },
        end: {
          line: 204,
          column: 56
        }
      },
      "41": {
        start: {
          line: 210,
          column: 4
        },
        end: {
          line: 218,
          column: 7
        }
      },
      "42": {
        start: {
          line: 223,
          column: 0
        },
        end: {
          line: 248,
          column: 2
        }
      },
      "43": {
        start: {
          line: 228,
          column: 26
        },
        end: {
          line: 228,
          column: 36
        }
      },
      "44": {
        start: {
          line: 230,
          column: 4
        },
        end: {
          line: 232,
          column: 5
        }
      },
      "45": {
        start: {
          line: 231,
          column: 6
        },
        end: {
          line: 231,
          column: 59
        }
      },
      "46": {
        start: {
          line: 237,
          column: 4
        },
        end: {
          line: 246,
          column: 7
        }
      },
      "47": {
        start: {
          line: 251,
          column: 0
        },
        end: {
          line: 277,
          column: 2
        }
      },
      "48": {
        start: {
          line: 256,
          column: 35
        },
        end: {
          line: 256,
          column: 44
        }
      },
      "49": {
        start: {
          line: 261,
          column: 4
        },
        end: {
          line: 275,
          column: 7
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 15,
            column: 15
          },
          end: {
            line: 15,
            column: 16
          }
        },
        loc: {
          start: {
            line: 15,
            column: 64
          },
          end: {
            line: 36,
            column: 3
          }
        },
        line: 15
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 43,
            column: 15
          },
          end: {
            line: 43,
            column: 16
          }
        },
        loc: {
          start: {
            line: 43,
            column: 58
          },
          end: {
            line: 64,
            column: 3
          }
        },
        line: 43
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 71,
            column: 15
          },
          end: {
            line: 71,
            column: 16
          }
        },
        loc: {
          start: {
            line: 71,
            column: 58
          },
          end: {
            line: 96,
            column: 3
          }
        },
        line: 71
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 104,
            column: 15
          },
          end: {
            line: 104,
            column: 16
          }
        },
        loc: {
          start: {
            line: 104,
            column: 64
          },
          end: {
            line: 125,
            column: 3
          }
        },
        line: 104
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 132,
            column: 15
          },
          end: {
            line: 132,
            column: 16
          }
        },
        loc: {
          start: {
            line: 132,
            column: 58
          },
          end: {
            line: 154,
            column: 3
          }
        },
        line: 132
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 161,
            column: 15
          },
          end: {
            line: 161,
            column: 16
          }
        },
        loc: {
          start: {
            line: 161,
            column: 58
          },
          end: {
            line: 187,
            column: 3
          }
        },
        line: 161
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 195,
            column: 15
          },
          end: {
            line: 195,
            column: 16
          }
        },
        loc: {
          start: {
            line: 195,
            column: 64
          },
          end: {
            line: 219,
            column: 3
          }
        },
        line: 195
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 227,
            column: 15
          },
          end: {
            line: 227,
            column: 16
          }
        },
        loc: {
          start: {
            line: 227,
            column: 64
          },
          end: {
            line: 247,
            column: 3
          }
        },
        line: 227
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 255,
            column: 15
          },
          end: {
            line: 255,
            column: 16
          }
        },
        loc: {
          start: {
            line: 255,
            column: 64
          },
          end: {
            line: 276,
            column: 3
          }
        },
        line: 255
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 20,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 20,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 18
      },
      "1": {
        loc: {
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 18,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 18,
            column: 28
          }
        }, {
          start: {
            line: 18,
            column: 32
          },
          end: {
            line: 18,
            column: 77
          }
        }],
        line: 18
      },
      "2": {
        loc: {
          start: {
            line: 47,
            column: 4
          },
          end: {
            line: 49,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 47,
            column: 4
          },
          end: {
            line: 49,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 47
      },
      "3": {
        loc: {
          start: {
            line: 75,
            column: 4
          },
          end: {
            line: 77,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 75,
            column: 4
          },
          end: {
            line: 77,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 75
      },
      "4": {
        loc: {
          start: {
            line: 91,
            column: 21
          },
          end: {
            line: 91,
            column: 44
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 91,
            column: 21
          },
          end: {
            line: 91,
            column: 30
          }
        }, {
          start: {
            line: 91,
            column: 34
          },
          end: {
            line: 91,
            column: 44
          }
        }],
        line: 91
      },
      "5": {
        loc: {
          start: {
            line: 92,
            column: 19
          },
          end: {
            line: 92,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 92,
            column: 19
          },
          end: {
            line: 92,
            column: 26
          }
        }, {
          start: {
            line: 92,
            column: 30
          },
          end: {
            line: 92,
            column: 40
          }
        }],
        line: 92
      },
      "6": {
        loc: {
          start: {
            line: 107,
            column: 4
          },
          end: {
            line: 109,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 4
          },
          end: {
            line: 109,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 107
      },
      "7": {
        loc: {
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 107,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 107,
            column: 28
          }
        }, {
          start: {
            line: 107,
            column: 32
          },
          end: {
            line: 107,
            column: 77
          }
        }],
        line: 107
      },
      "8": {
        loc: {
          start: {
            line: 135,
            column: 4
          },
          end: {
            line: 137,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 135,
            column: 4
          },
          end: {
            line: 137,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 135
      },
      "9": {
        loc: {
          start: {
            line: 165,
            column: 4
          },
          end: {
            line: 167,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 165,
            column: 4
          },
          end: {
            line: 167,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 165
      },
      "10": {
        loc: {
          start: {
            line: 199,
            column: 4
          },
          end: {
            line: 201,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 199,
            column: 4
          },
          end: {
            line: 201,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 199
      },
      "11": {
        loc: {
          start: {
            line: 203,
            column: 4
          },
          end: {
            line: 205,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 203,
            column: 4
          },
          end: {
            line: 205,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 203
      },
      "12": {
        loc: {
          start: {
            line: 230,
            column: 4
          },
          end: {
            line: 232,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 230,
            column: 4
          },
          end: {
            line: 232,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 230
      },
      "13": {
        loc: {
          start: {
            line: 271,
            column: 21
          },
          end: {
            line: 271,
            column: 44
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 271,
            column: 21
          },
          end: {
            line: 271,
            column: 30
          }
        }, {
          start: {
            line: 271,
            column: 34
          },
          end: {
            line: 271,
            column: 44
          }
        }],
        line: 271
      },
      "14": {
        loc: {
          start: {
            line: 272,
            column: 19
          },
          end: {
            line: 272,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 272,
            column: 19
          },
          end: {
            line: 272,
            column: 26
          }
        }, {
          start: {
            line: 272,
            column: 30
          },
          end: {
            line: 272,
            column: 40
          }
        }],
        line: 272
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "d99b34ad5b26a647c4ce60cff16fb73e08f6e478"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_21bgaefcrj = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_21bgaefcrj();
import { Router } from 'express';
import { authMiddleware } from '../middleware/auth.js';
import { requireRole } from '../middleware/authorization.js';
import { asyncHandler } from '../middleware/errorHandler.js';
import { validators } from '../utils/validators.js';
import { AppError } from '../middleware/errorHandler.js';
const router =
/* istanbul ignore next */
(cov_21bgaefcrj().s[0]++, Router());

// Record revenue transaction
/* istanbul ignore next */
cov_21bgaefcrj().s[1]++;
router.post('/revenue', authMiddleware, requireRole(['admin', 'manager']), asyncHandler(async (req, res) => {
  /* istanbul ignore next */
  cov_21bgaefcrj().f[0]++;
  const validatedData =
  /* istanbul ignore next */
  (cov_21bgaefcrj().s[2]++, validators.validateRevenueTransaction(req.body));
  /* istanbul ignore next */
  cov_21bgaefcrj().s[3]++;
  if (
  /* istanbul ignore next */
  (cov_21bgaefcrj().b[1][0]++, !req.body.businessId) ||
  /* istanbul ignore next */
  (cov_21bgaefcrj().b[1][1]++, !validators.validateUUID(req.body.businessId))) {
    /* istanbul ignore next */
    cov_21bgaefcrj().b[0][0]++;
    cov_21bgaefcrj().s[4]++;
    throw new AppError(400, 'Valid business ID is required');
  } else
  /* istanbul ignore next */
  {
    cov_21bgaefcrj().b[0][1]++;
  }

  // TODO: Call revenue service to record transaction
  // const transaction = await revenueService.recordTransaction(req.body.businessId, validatedData);
  cov_21bgaefcrj().s[5]++;
  res.status(201).json({
    success: true,
    message: 'Revenue transaction recorded successfully',
    data: {
      id: 'transaction-id-placeholder',
      businessId: req.body.businessId,
      ...validatedData,
      status: 'completed',
      createdAt: new Date()
    }
  });
}));

// Get revenue transactions for a business
/* istanbul ignore next */
cov_21bgaefcrj().s[6]++;
router.get('/revenue/:businessId', authMiddleware, asyncHandler(async (req, res) => {
  /* istanbul ignore next */
  cov_21bgaefcrj().f[1]++;
  const {
    businessId
  } =
  /* istanbul ignore next */
  (cov_21bgaefcrj().s[7]++, req.params);
  const {
    page,
    pageSize
  } =
  /* istanbul ignore next */
  (cov_21bgaefcrj().s[8]++, validators.validatePagination(req.query.page, req.query.pageSize));
  /* istanbul ignore next */
  cov_21bgaefcrj().s[9]++;
  if (!validators.validateUUID(businessId)) {
    /* istanbul ignore next */
    cov_21bgaefcrj().b[2][0]++;
    cov_21bgaefcrj().s[10]++;
    throw new AppError(400, 'Invalid business ID format');
  } else
  /* istanbul ignore next */
  {
    cov_21bgaefcrj().b[2][1]++;
  }

  // TODO: Call revenue service to get transactions
  // const transactions = await revenueService.getTransactions(businessId, page, pageSize);
  cov_21bgaefcrj().s[11]++;
  res.json({
    success: true,
    data: [],
    pagination: {
      page,
      pageSize,
      total: 0,
      totalPages: 0
    }
  });
}));

// Get revenue breakdown for a business
/* istanbul ignore next */
cov_21bgaefcrj().s[12]++;
router.get('/revenue/:businessId/breakdown', authMiddleware, asyncHandler(async (req, res) => {
  /* istanbul ignore next */
  cov_21bgaefcrj().f[2]++;
  const {
    businessId
  } =
  /* istanbul ignore next */
  (cov_21bgaefcrj().s[13]++, req.params);
  const {
    startDate,
    endDate
  } =
  /* istanbul ignore next */
  (cov_21bgaefcrj().s[14]++, req.query);
  /* istanbul ignore next */
  cov_21bgaefcrj().s[15]++;
  if (!validators.validateUUID(businessId)) {
    /* istanbul ignore next */
    cov_21bgaefcrj().b[3][0]++;
    cov_21bgaefcrj().s[16]++;
    throw new AppError(400, 'Invalid business ID format');
  } else
  /* istanbul ignore next */
  {
    cov_21bgaefcrj().b[3][1]++;
  }

  // TODO: Call revenue service to get breakdown
  // const breakdown = await revenueService.getBreakdown(businessId, startDate, endDate);
  cov_21bgaefcrj().s[17]++;
  res.json({
    success: true,
    data: {
      businessId,
      totalRevenue: 0,
      businessOwnerShare: 0,
      citadelFundShare: 0,
      currency: 'USD',
      period: {
        startDate:
        /* istanbul ignore next */
        (cov_21bgaefcrj().b[4][0]++, startDate) ||
        /* istanbul ignore next */
        (cov_21bgaefcrj().b[4][1]++, new Date()),
        endDate:
        /* istanbul ignore next */
        (cov_21bgaefcrj().b[5][0]++, endDate) ||
        /* istanbul ignore next */
        (cov_21bgaefcrj().b[5][1]++, new Date())
      }
    }
  });
}));

// Create payment
/* istanbul ignore next */
cov_21bgaefcrj().s[18]++;
router.post('/', authMiddleware, requireRole(['admin', 'manager']), asyncHandler(async (req, res) => {
  /* istanbul ignore next */
  cov_21bgaefcrj().f[3]++;
  const validatedData =
  /* istanbul ignore next */
  (cov_21bgaefcrj().s[19]++, validators.validatePayment(req.body));
  /* istanbul ignore next */
  cov_21bgaefcrj().s[20]++;
  if (
  /* istanbul ignore next */
  (cov_21bgaefcrj().b[7][0]++, !req.body.businessId) ||
  /* istanbul ignore next */
  (cov_21bgaefcrj().b[7][1]++, !validators.validateUUID(req.body.businessId))) {
    /* istanbul ignore next */
    cov_21bgaefcrj().b[6][0]++;
    cov_21bgaefcrj().s[21]++;
    throw new AppError(400, 'Valid business ID is required');
  } else
  /* istanbul ignore next */
  {
    cov_21bgaefcrj().b[6][1]++;
  }

  // TODO: Call payment service to create payment
  // const payment = await paymentService.createPayment(req.body.businessId, validatedData);
  cov_21bgaefcrj().s[22]++;
  res.status(201).json({
    success: true,
    message: 'Payment created successfully',
    data: {
      id: 'payment-id-placeholder',
      businessId: req.body.businessId,
      ...validatedData,
      status: 'pending',
      createdAt: new Date()
    }
  });
}));

// Get payment by ID
/* istanbul ignore next */
cov_21bgaefcrj().s[23]++;
router.get('/:paymentId', authMiddleware, asyncHandler(async (req, res) => {
  /* istanbul ignore next */
  cov_21bgaefcrj().f[4]++;
  const {
    paymentId
  } =
  /* istanbul ignore next */
  (cov_21bgaefcrj().s[24]++, req.params);
  /* istanbul ignore next */
  cov_21bgaefcrj().s[25]++;
  if (!validators.validateUUID(paymentId)) {
    /* istanbul ignore next */
    cov_21bgaefcrj().b[8][0]++;
    cov_21bgaefcrj().s[26]++;
    throw new AppError(400, 'Invalid payment ID format');
  } else
  /* istanbul ignore next */
  {
    cov_21bgaefcrj().b[8][1]++;
  }

  // TODO: Call payment service to get payment
  // const payment = await paymentService.getPaymentById(paymentId, req.userId);
  cov_21bgaefcrj().s[27]++;
  res.json({
    success: true,
    data: {
      id: paymentId,
      businessId: 'business-id',
      userId: req.userId,
      amount: 0,
      type: 'revenue',
      status: 'pending',
      createdAt: new Date()
    }
  });
}));

// Get payment history for a business
/* istanbul ignore next */
cov_21bgaefcrj().s[28]++;
router.get('/history/:businessId', authMiddleware, asyncHandler(async (req, res) => {
  /* istanbul ignore next */
  cov_21bgaefcrj().f[5]++;
  const {
    businessId
  } =
  /* istanbul ignore next */
  (cov_21bgaefcrj().s[29]++, req.params);
  const {
    page,
    pageSize
  } =
  /* istanbul ignore next */
  (cov_21bgaefcrj().s[30]++, validators.validatePagination(req.query.page, req.query.pageSize));
  /* istanbul ignore next */
  cov_21bgaefcrj().s[31]++;
  if (!validators.validateUUID(businessId)) {
    /* istanbul ignore next */
    cov_21bgaefcrj().b[9][0]++;
    cov_21bgaefcrj().s[32]++;
    throw new AppError(400, 'Invalid business ID format');
  } else
  /* istanbul ignore next */
  {
    cov_21bgaefcrj().b[9][1]++;
  }

  // TODO: Call payment service to get history
  // const history = await paymentService.getPaymentHistory(businessId, page, pageSize);
  cov_21bgaefcrj().s[33]++;
  res.json({
    success: true,
    data: {
      payments: [],
      totalAmount: 0,
      totalCount: 0,
      averageAmount: 0,
      statusBreakdown: {
        pending: 0,
        processing: 0,
        completed: 0,
        failed: 0
      }
    }
  });
}));

// Update payment status
/* istanbul ignore next */
cov_21bgaefcrj().s[34]++;
router.put('/:paymentId/status', authMiddleware, requireRole(['admin', 'manager']), asyncHandler(async (req, res) => {
  /* istanbul ignore next */
  cov_21bgaefcrj().f[6]++;
  const {
    paymentId
  } =
  /* istanbul ignore next */
  (cov_21bgaefcrj().s[35]++, req.params);
  const {
    status
  } =
  /* istanbul ignore next */
  (cov_21bgaefcrj().s[36]++, req.body);
  /* istanbul ignore next */
  cov_21bgaefcrj().s[37]++;
  if (!validators.validateUUID(paymentId)) {
    /* istanbul ignore next */
    cov_21bgaefcrj().b[10][0]++;
    cov_21bgaefcrj().s[38]++;
    throw new AppError(400, 'Invalid payment ID format');
  } else
  /* istanbul ignore next */
  {
    cov_21bgaefcrj().b[10][1]++;
  }
  cov_21bgaefcrj().s[39]++;
  if (!validators.validatePaymentStatus(status)) {
    /* istanbul ignore next */
    cov_21bgaefcrj().b[11][0]++;
    cov_21bgaefcrj().s[40]++;
    throw new AppError(400, 'Invalid payment status');
  } else
  /* istanbul ignore next */
  {
    cov_21bgaefcrj().b[11][1]++;
  }

  // TODO: Call payment service to update status
  // const payment = await paymentService.updatePaymentStatus(paymentId, status);
  cov_21bgaefcrj().s[41]++;
  res.json({
    success: true,
    message: 'Payment status updated successfully',
    data: {
      id: paymentId,
      status,
      updatedAt: new Date()
    }
  });
}));

// Retry failed payment
/* istanbul ignore next */
cov_21bgaefcrj().s[42]++;
router.post('/:paymentId/retry', authMiddleware, requireRole(['admin', 'manager']), asyncHandler(async (req, res) => {
  /* istanbul ignore next */
  cov_21bgaefcrj().f[7]++;
  const {
    paymentId
  } =
  /* istanbul ignore next */
  (cov_21bgaefcrj().s[43]++, req.params);
  /* istanbul ignore next */
  cov_21bgaefcrj().s[44]++;
  if (!validators.validateUUID(paymentId)) {
    /* istanbul ignore next */
    cov_21bgaefcrj().b[12][0]++;
    cov_21bgaefcrj().s[45]++;
    throw new AppError(400, 'Invalid payment ID format');
  } else
  /* istanbul ignore next */
  {
    cov_21bgaefcrj().b[12][1]++;
  }

  // TODO: Call payment service to retry payment
  // const payment = await paymentService.retryPayment(paymentId);
  cov_21bgaefcrj().s[46]++;
  res.json({
    success: true,
    message: 'Payment retry initiated',
    data: {
      id: paymentId,
      status: 'processing',
      retryCount: 1,
      updatedAt: new Date()
    }
  });
}));

// Get payment statistics
/* istanbul ignore next */
cov_21bgaefcrj().s[47]++;
router.get('/stats/summary', authMiddleware, requireRole(['admin', 'manager']), asyncHandler(async (req, res) => {
  /* istanbul ignore next */
  cov_21bgaefcrj().f[8]++;
  const {
    startDate,
    endDate
  } =
  /* istanbul ignore next */
  (cov_21bgaefcrj().s[48]++, req.query);

  // TODO: Call payment service to get statistics
  // const stats = await paymentService.getStatistics(startDate, endDate);
  /* istanbul ignore next */
  cov_21bgaefcrj().s[49]++;
  res.json({
    success: true,
    data: {
      totalPayments: 0,
      totalAmount: 0,
      averageAmount: 0,
      successRate: 0,
      failureRate: 0,
      pendingCount: 0,
      period: {
        startDate:
        /* istanbul ignore next */
        (cov_21bgaefcrj().b[13][0]++, startDate) ||
        /* istanbul ignore next */
        (cov_21bgaefcrj().b[13][1]++, new Date()),
        endDate:
        /* istanbul ignore next */
        (cov_21bgaefcrj().b[14][0]++, endDate) ||
        /* istanbul ignore next */
        (cov_21bgaefcrj().b[14][1]++, new Date())
      }
    }
  });
}));
export default router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjFiZ2FlZmNyaiIsImFjdHVhbENvdmVyYWdlIiwiUm91dGVyIiwiYXV0aE1pZGRsZXdhcmUiLCJyZXF1aXJlUm9sZSIsImFzeW5jSGFuZGxlciIsInZhbGlkYXRvcnMiLCJBcHBFcnJvciIsInJvdXRlciIsInMiLCJwb3N0IiwicmVxIiwicmVzIiwiZiIsInZhbGlkYXRlZERhdGEiLCJ2YWxpZGF0ZVJldmVudWVUcmFuc2FjdGlvbiIsImJvZHkiLCJiIiwiYnVzaW5lc3NJZCIsInZhbGlkYXRlVVVJRCIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsImRhdGEiLCJpZCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJnZXQiLCJwYXJhbXMiLCJwYWdlIiwicGFnZVNpemUiLCJ2YWxpZGF0ZVBhZ2luYXRpb24iLCJxdWVyeSIsInBhZ2luYXRpb24iLCJ0b3RhbCIsInRvdGFsUGFnZXMiLCJzdGFydERhdGUiLCJlbmREYXRlIiwidG90YWxSZXZlbnVlIiwiYnVzaW5lc3NPd25lclNoYXJlIiwiY2l0YWRlbEZ1bmRTaGFyZSIsImN1cnJlbmN5IiwicGVyaW9kIiwidmFsaWRhdGVQYXltZW50IiwicGF5bWVudElkIiwidXNlcklkIiwiYW1vdW50IiwidHlwZSIsInBheW1lbnRzIiwidG90YWxBbW91bnQiLCJ0b3RhbENvdW50IiwiYXZlcmFnZUFtb3VudCIsInN0YXR1c0JyZWFrZG93biIsInBlbmRpbmciLCJwcm9jZXNzaW5nIiwiY29tcGxldGVkIiwiZmFpbGVkIiwicHV0IiwidmFsaWRhdGVQYXltZW50U3RhdHVzIiwidXBkYXRlZEF0IiwicmV0cnlDb3VudCIsInRvdGFsUGF5bWVudHMiLCJzdWNjZXNzUmF0ZSIsImZhaWx1cmVSYXRlIiwicGVuZGluZ0NvdW50Il0sInNvdXJjZXMiOlsicGF5bWVudC5yb3V0ZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyLCBSZXNwb25zZSB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgYXV0aE1pZGRsZXdhcmUsIEF1dGhSZXF1ZXN0IH0gZnJvbSAnLi4vbWlkZGxld2FyZS9hdXRoLmpzJztcbmltcG9ydCB7IHJlcXVpcmVSb2xlLCBBdXRob3JpemVkUmVxdWVzdCB9IGZyb20gJy4uL21pZGRsZXdhcmUvYXV0aG9yaXphdGlvbi5qcyc7XG5pbXBvcnQgeyBhc3luY0hhbmRsZXIgfSBmcm9tICcuLi9taWRkbGV3YXJlL2Vycm9ySGFuZGxlci5qcyc7XG5pbXBvcnQgeyB2YWxpZGF0b3JzIH0gZnJvbSAnLi4vdXRpbHMvdmFsaWRhdG9ycy5qcyc7XG5pbXBvcnQgeyBBcHBFcnJvciB9IGZyb20gJy4uL21pZGRsZXdhcmUvZXJyb3JIYW5kbGVyLmpzJztcblxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XG5cbi8vIFJlY29yZCByZXZlbnVlIHRyYW5zYWN0aW9uXG5yb3V0ZXIucG9zdChcbiAgJy9yZXZlbnVlJyxcbiAgYXV0aE1pZGRsZXdhcmUsXG4gIHJlcXVpcmVSb2xlKFsnYWRtaW4nLCAnbWFuYWdlciddKSxcbiAgYXN5bmNIYW5kbGVyKGFzeW5jIChyZXE6IEF1dGhvcml6ZWRSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdGVkRGF0YSA9IHZhbGlkYXRvcnMudmFsaWRhdGVSZXZlbnVlVHJhbnNhY3Rpb24ocmVxLmJvZHkpO1xuICAgIFxuICAgIGlmICghcmVxLmJvZHkuYnVzaW5lc3NJZCB8fCAhdmFsaWRhdG9ycy52YWxpZGF0ZVVVSUQocmVxLmJvZHkuYnVzaW5lc3NJZCkpIHtcbiAgICAgIHRocm93IG5ldyBBcHBFcnJvcig0MDAsICdWYWxpZCBidXNpbmVzcyBJRCBpcyByZXF1aXJlZCcpO1xuICAgIH1cbiAgICBcbiAgICAvLyBUT0RPOiBDYWxsIHJldmVudWUgc2VydmljZSB0byByZWNvcmQgdHJhbnNhY3Rpb25cbiAgICAvLyBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLnJlY29yZFRyYW5zYWN0aW9uKHJlcS5ib2R5LmJ1c2luZXNzSWQsIHZhbGlkYXRlZERhdGEpO1xuICAgIFxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiAnUmV2ZW51ZSB0cmFuc2FjdGlvbiByZWNvcmRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgZGF0YToge1xuICAgICAgICBpZDogJ3RyYW5zYWN0aW9uLWlkLXBsYWNlaG9sZGVyJyxcbiAgICAgICAgYnVzaW5lc3NJZDogcmVxLmJvZHkuYnVzaW5lc3NJZCxcbiAgICAgICAgLi4udmFsaWRhdGVkRGF0YSxcbiAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSlcbik7XG5cbi8vIEdldCByZXZlbnVlIHRyYW5zYWN0aW9ucyBmb3IgYSBidXNpbmVzc1xucm91dGVyLmdldChcbiAgJy9yZXZlbnVlLzpidXNpbmVzc0lkJyxcbiAgYXV0aE1pZGRsZXdhcmUsXG4gIGFzeW5jSGFuZGxlcihhc3luYyAocmVxOiBBdXRoUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xuICAgIGNvbnN0IHsgYnVzaW5lc3NJZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCB7IHBhZ2UsIHBhZ2VTaXplIH0gPSB2YWxpZGF0b3JzLnZhbGlkYXRlUGFnaW5hdGlvbihyZXEucXVlcnkucGFnZSwgcmVxLnF1ZXJ5LnBhZ2VTaXplKTtcbiAgICBcbiAgICBpZiAoIXZhbGlkYXRvcnMudmFsaWRhdGVVVUlEKGJ1c2luZXNzSWQpKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwRXJyb3IoNDAwLCAnSW52YWxpZCBidXNpbmVzcyBJRCBmb3JtYXQnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gVE9ETzogQ2FsbCByZXZlbnVlIHNlcnZpY2UgdG8gZ2V0IHRyYW5zYWN0aW9uc1xuICAgIC8vIGNvbnN0IHRyYW5zYWN0aW9ucyA9IGF3YWl0IHJldmVudWVTZXJ2aWNlLmdldFRyYW5zYWN0aW9ucyhidXNpbmVzc0lkLCBwYWdlLCBwYWdlU2l6ZSk7XG4gICAgXG4gICAgcmVzLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IFtdLFxuICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICBwYWdlLFxuICAgICAgICBwYWdlU2l6ZSxcbiAgICAgICAgdG90YWw6IDAsXG4gICAgICAgIHRvdGFsUGFnZXM6IDAsXG4gICAgICB9LFxuICAgIH0pO1xuICB9KVxuKTtcblxuLy8gR2V0IHJldmVudWUgYnJlYWtkb3duIGZvciBhIGJ1c2luZXNzXG5yb3V0ZXIuZ2V0KFxuICAnL3JldmVudWUvOmJ1c2luZXNzSWQvYnJlYWtkb3duJyxcbiAgYXV0aE1pZGRsZXdhcmUsXG4gIGFzeW5jSGFuZGxlcihhc3luYyAocmVxOiBBdXRoUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xuICAgIGNvbnN0IHsgYnVzaW5lc3NJZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9ID0gcmVxLnF1ZXJ5O1xuICAgIFxuICAgIGlmICghdmFsaWRhdG9ycy52YWxpZGF0ZVVVSUQoYnVzaW5lc3NJZCkpIHtcbiAgICAgIHRocm93IG5ldyBBcHBFcnJvcig0MDAsICdJbnZhbGlkIGJ1c2luZXNzIElEIGZvcm1hdCcpO1xuICAgIH1cbiAgICBcbiAgICAvLyBUT0RPOiBDYWxsIHJldmVudWUgc2VydmljZSB0byBnZXQgYnJlYWtkb3duXG4gICAgLy8gY29uc3QgYnJlYWtkb3duID0gYXdhaXQgcmV2ZW51ZVNlcnZpY2UuZ2V0QnJlYWtkb3duKGJ1c2luZXNzSWQsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSk7XG4gICAgXG4gICAgcmVzLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYnVzaW5lc3NJZCxcbiAgICAgICAgdG90YWxSZXZlbnVlOiAwLFxuICAgICAgICBidXNpbmVzc093bmVyU2hhcmU6IDAsXG4gICAgICAgIGNpdGFkZWxGdW5kU2hhcmU6IDAsXG4gICAgICAgIGN1cnJlbmN5OiAnVVNEJyxcbiAgICAgICAgcGVyaW9kOiB7XG4gICAgICAgICAgc3RhcnREYXRlOiBzdGFydERhdGUgfHwgbmV3IERhdGUoKSxcbiAgICAgICAgICBlbmREYXRlOiBlbmREYXRlIHx8IG5ldyBEYXRlKCksXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9KVxuKTtcblxuLy8gQ3JlYXRlIHBheW1lbnRcbnJvdXRlci5wb3N0KFxuICAnLycsXG4gIGF1dGhNaWRkbGV3YXJlLFxuICByZXF1aXJlUm9sZShbJ2FkbWluJywgJ21hbmFnZXInXSksXG4gIGFzeW5jSGFuZGxlcihhc3luYyAocmVxOiBBdXRob3JpemVkUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRlZERhdGEgPSB2YWxpZGF0b3JzLnZhbGlkYXRlUGF5bWVudChyZXEuYm9keSk7XG4gICAgXG4gICAgaWYgKCFyZXEuYm9keS5idXNpbmVzc0lkIHx8ICF2YWxpZGF0b3JzLnZhbGlkYXRlVVVJRChyZXEuYm9keS5idXNpbmVzc0lkKSkge1xuICAgICAgdGhyb3cgbmV3IEFwcEVycm9yKDQwMCwgJ1ZhbGlkIGJ1c2luZXNzIElEIGlzIHJlcXVpcmVkJyk7XG4gICAgfVxuICAgIFxuICAgIC8vIFRPRE86IENhbGwgcGF5bWVudCBzZXJ2aWNlIHRvIGNyZWF0ZSBwYXltZW50XG4gICAgLy8gY29uc3QgcGF5bWVudCA9IGF3YWl0IHBheW1lbnRTZXJ2aWNlLmNyZWF0ZVBheW1lbnQocmVxLmJvZHkuYnVzaW5lc3NJZCwgdmFsaWRhdGVkRGF0YSk7XG4gICAgXG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdQYXltZW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgaWQ6ICdwYXltZW50LWlkLXBsYWNlaG9sZGVyJyxcbiAgICAgICAgYnVzaW5lc3NJZDogcmVxLmJvZHkuYnVzaW5lc3NJZCxcbiAgICAgICAgLi4udmFsaWRhdGVkRGF0YSxcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pXG4pO1xuXG4vLyBHZXQgcGF5bWVudCBieSBJRFxucm91dGVyLmdldChcbiAgJy86cGF5bWVudElkJyxcbiAgYXV0aE1pZGRsZXdhcmUsXG4gIGFzeW5jSGFuZGxlcihhc3luYyAocmVxOiBBdXRoUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xuICAgIGNvbnN0IHsgcGF5bWVudElkIH0gPSByZXEucGFyYW1zO1xuICAgIFxuICAgIGlmICghdmFsaWRhdG9ycy52YWxpZGF0ZVVVSUQocGF5bWVudElkKSkge1xuICAgICAgdGhyb3cgbmV3IEFwcEVycm9yKDQwMCwgJ0ludmFsaWQgcGF5bWVudCBJRCBmb3JtYXQnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gVE9ETzogQ2FsbCBwYXltZW50IHNlcnZpY2UgdG8gZ2V0IHBheW1lbnRcbiAgICAvLyBjb25zdCBwYXltZW50ID0gYXdhaXQgcGF5bWVudFNlcnZpY2UuZ2V0UGF5bWVudEJ5SWQocGF5bWVudElkLCByZXEudXNlcklkKTtcbiAgICBcbiAgICByZXMuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YToge1xuICAgICAgICBpZDogcGF5bWVudElkLFxuICAgICAgICBidXNpbmVzc0lkOiAnYnVzaW5lc3MtaWQnLFxuICAgICAgICB1c2VySWQ6IHJlcS51c2VySWQsXG4gICAgICAgIGFtb3VudDogMCxcbiAgICAgICAgdHlwZTogJ3JldmVudWUnLFxuICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSlcbik7XG5cbi8vIEdldCBwYXltZW50IGhpc3RvcnkgZm9yIGEgYnVzaW5lc3NcbnJvdXRlci5nZXQoXG4gICcvaGlzdG9yeS86YnVzaW5lc3NJZCcsXG4gIGF1dGhNaWRkbGV3YXJlLFxuICBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcTogQXV0aFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcbiAgICBjb25zdCB7IGJ1c2luZXNzSWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgeyBwYWdlLCBwYWdlU2l6ZSB9ID0gdmFsaWRhdG9ycy52YWxpZGF0ZVBhZ2luYXRpb24ocmVxLnF1ZXJ5LnBhZ2UsIHJlcS5xdWVyeS5wYWdlU2l6ZSk7XG4gICAgXG4gICAgaWYgKCF2YWxpZGF0b3JzLnZhbGlkYXRlVVVJRChidXNpbmVzc0lkKSkge1xuICAgICAgdGhyb3cgbmV3IEFwcEVycm9yKDQwMCwgJ0ludmFsaWQgYnVzaW5lc3MgSUQgZm9ybWF0Jyk7XG4gICAgfVxuICAgIFxuICAgIC8vIFRPRE86IENhbGwgcGF5bWVudCBzZXJ2aWNlIHRvIGdldCBoaXN0b3J5XG4gICAgLy8gY29uc3QgaGlzdG9yeSA9IGF3YWl0IHBheW1lbnRTZXJ2aWNlLmdldFBheW1lbnRIaXN0b3J5KGJ1c2luZXNzSWQsIHBhZ2UsIHBhZ2VTaXplKTtcbiAgICBcbiAgICByZXMuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YToge1xuICAgICAgICBwYXltZW50czogW10sXG4gICAgICAgIHRvdGFsQW1vdW50OiAwLFxuICAgICAgICB0b3RhbENvdW50OiAwLFxuICAgICAgICBhdmVyYWdlQW1vdW50OiAwLFxuICAgICAgICBzdGF0dXNCcmVha2Rvd246IHtcbiAgICAgICAgICBwZW5kaW5nOiAwLFxuICAgICAgICAgIHByb2Nlc3Npbmc6IDAsXG4gICAgICAgICAgY29tcGxldGVkOiAwLFxuICAgICAgICAgIGZhaWxlZDogMCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pXG4pO1xuXG4vLyBVcGRhdGUgcGF5bWVudCBzdGF0dXNcbnJvdXRlci5wdXQoXG4gICcvOnBheW1lbnRJZC9zdGF0dXMnLFxuICBhdXRoTWlkZGxld2FyZSxcbiAgcmVxdWlyZVJvbGUoWydhZG1pbicsICdtYW5hZ2VyJ10pLFxuICBhc3luY0hhbmRsZXIoYXN5bmMgKHJlcTogQXV0aG9yaXplZFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcbiAgICBjb25zdCB7IHBheW1lbnRJZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gcmVxLmJvZHk7XG4gICAgXG4gICAgaWYgKCF2YWxpZGF0b3JzLnZhbGlkYXRlVVVJRChwYXltZW50SWQpKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwRXJyb3IoNDAwLCAnSW52YWxpZCBwYXltZW50IElEIGZvcm1hdCcpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIXZhbGlkYXRvcnMudmFsaWRhdGVQYXltZW50U3RhdHVzKHN0YXR1cykpIHtcbiAgICAgIHRocm93IG5ldyBBcHBFcnJvcig0MDAsICdJbnZhbGlkIHBheW1lbnQgc3RhdHVzJyk7XG4gICAgfVxuICAgIFxuICAgIC8vIFRPRE86IENhbGwgcGF5bWVudCBzZXJ2aWNlIHRvIHVwZGF0ZSBzdGF0dXNcbiAgICAvLyBjb25zdCBwYXltZW50ID0gYXdhaXQgcGF5bWVudFNlcnZpY2UudXBkYXRlUGF5bWVudFN0YXR1cyhwYXltZW50SWQsIHN0YXR1cyk7XG4gICAgXG4gICAgcmVzLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdQYXltZW50IHN0YXR1cyB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGlkOiBwYXltZW50SWQsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSlcbik7XG5cbi8vIFJldHJ5IGZhaWxlZCBwYXltZW50XG5yb3V0ZXIucG9zdChcbiAgJy86cGF5bWVudElkL3JldHJ5JyxcbiAgYXV0aE1pZGRsZXdhcmUsXG4gIHJlcXVpcmVSb2xlKFsnYWRtaW4nLCAnbWFuYWdlciddKSxcbiAgYXN5bmNIYW5kbGVyKGFzeW5jIChyZXE6IEF1dGhvcml6ZWRSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XG4gICAgY29uc3QgeyBwYXltZW50SWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgXG4gICAgaWYgKCF2YWxpZGF0b3JzLnZhbGlkYXRlVVVJRChwYXltZW50SWQpKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwRXJyb3IoNDAwLCAnSW52YWxpZCBwYXltZW50IElEIGZvcm1hdCcpO1xuICAgIH1cbiAgICBcbiAgICAvLyBUT0RPOiBDYWxsIHBheW1lbnQgc2VydmljZSB0byByZXRyeSBwYXltZW50XG4gICAgLy8gY29uc3QgcGF5bWVudCA9IGF3YWl0IHBheW1lbnRTZXJ2aWNlLnJldHJ5UGF5bWVudChwYXltZW50SWQpO1xuICAgIFxuICAgIHJlcy5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiAnUGF5bWVudCByZXRyeSBpbml0aWF0ZWQnLFxuICAgICAgZGF0YToge1xuICAgICAgICBpZDogcGF5bWVudElkLFxuICAgICAgICBzdGF0dXM6ICdwcm9jZXNzaW5nJyxcbiAgICAgICAgcmV0cnlDb3VudDogMSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSlcbik7XG5cbi8vIEdldCBwYXltZW50IHN0YXRpc3RpY3NcbnJvdXRlci5nZXQoXG4gICcvc3RhdHMvc3VtbWFyeScsXG4gIGF1dGhNaWRkbGV3YXJlLFxuICByZXF1aXJlUm9sZShbJ2FkbWluJywgJ21hbmFnZXInXSksXG4gIGFzeW5jSGFuZGxlcihhc3luYyAocmVxOiBBdXRob3JpemVkUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xuICAgIGNvbnN0IHsgc3RhcnREYXRlLCBlbmREYXRlIH0gPSByZXEucXVlcnk7XG4gICAgXG4gICAgLy8gVE9ETzogQ2FsbCBwYXltZW50IHNlcnZpY2UgdG8gZ2V0IHN0YXRpc3RpY3NcbiAgICAvLyBjb25zdCBzdGF0cyA9IGF3YWl0IHBheW1lbnRTZXJ2aWNlLmdldFN0YXRpc3RpY3Moc3RhcnREYXRlLCBlbmREYXRlKTtcbiAgICBcbiAgICByZXMuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YToge1xuICAgICAgICB0b3RhbFBheW1lbnRzOiAwLFxuICAgICAgICB0b3RhbEFtb3VudDogMCxcbiAgICAgICAgYXZlcmFnZUFtb3VudDogMCxcbiAgICAgICAgc3VjY2Vzc1JhdGU6IDAsXG4gICAgICAgIGZhaWx1cmVSYXRlOiAwLFxuICAgICAgICBwZW5kaW5nQ291bnQ6IDAsXG4gICAgICAgIHBlcmlvZDoge1xuICAgICAgICAgIHN0YXJ0RGF0ZTogc3RhcnREYXRlIHx8IG5ldyBEYXRlKCksXG4gICAgICAgICAgZW5kRGF0ZTogZW5kRGF0ZSB8fCBuZXcgRGF0ZSgpLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSlcbik7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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