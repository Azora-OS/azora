9bbb42aa98cb6334496acc2dc941092e
/* istanbul ignore next */
function cov_1dyc8tl2ag() {
  var path = "/workspaces/azora/services/azora-cloud/azora-mint/src/attribution/transfer-validator.ts";
  var hash = "fba3a6f94d28d58da788aca3039057069cf28847";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/azora-cloud/azora-mint/src/attribution/transfer-validator.ts",
    statementMap: {
      "0": {
        start: {
          line: 7,
          column: 8
        },
        end: {
          line: 7,
          column: 53
        }
      },
      "1": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 25,
          column: 9
        }
      },
      "2": {
        start: {
          line: 21,
          column: 12
        },
        end: {
          line: 24,
          column: 14
        }
      },
      "3": {
        start: {
          line: 27,
          column: 8
        },
        end: {
          line: 29,
          column: 9
        }
      },
      "4": {
        start: {
          line: 28,
          column: 12
        },
        end: {
          line: 28,
          column: 35
        }
      },
      "5": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 37,
          column: 9
        }
      },
      "6": {
        start: {
          line: 33,
          column: 12
        },
        end: {
          line: 36,
          column: 14
        }
      },
      "7": {
        start: {
          line: 39,
          column: 8
        },
        end: {
          line: 44,
          column: 9
        }
      },
      "8": {
        start: {
          line: 40,
          column: 12
        },
        end: {
          line: 43,
          column: 14
        }
      },
      "9": {
        start: {
          line: 47,
          column: 26
        },
        end: {
          line: 50,
          column: 9
        }
      },
      "10": {
        start: {
          line: 52,
          column: 8
        },
        end: {
          line: 55,
          column: 10
        }
      },
      "11": {
        start: {
          line: 68,
          column: 27
        },
        end: {
          line: 68,
          column: 79
        }
      },
      "12": {
        start: {
          line: 70,
          column: 8
        },
        end: {
          line: 72,
          column: 9
        }
      },
      "13": {
        start: {
          line: 71,
          column: 12
        },
        end: {
          line: 71,
          column: 46
        }
      },
      "14": {
        start: {
          line: 75,
          column: 26
        },
        end: {
          line: 75,
          column: 59
        }
      },
      "15": {
        start: {
          line: 76,
          column: 29
        },
        end: {
          line: 76,
          column: 94
        }
      },
      "16": {
        start: {
          line: 76,
          column: 81
        },
        end: {
          line: 76,
          column: 90
        }
      },
      "17": {
        start: {
          line: 77,
          column: 26
        },
        end: {
          line: 77,
          column: 47
        }
      },
      "18": {
        start: {
          line: 79,
          column: 8
        },
        end: {
          line: 79,
          column: 58
        }
      },
      "19": {
        start: {
          line: 80,
          column: 8
        },
        end: {
          line: 80,
          column: 52
        }
      },
      "20": {
        start: {
          line: 81,
          column: 8
        },
        end: {
          line: 81,
          column: 48
        }
      },
      "21": {
        start: {
          line: 82,
          column: 8
        },
        end: {
          line: 82,
          column: 48
        }
      },
      "22": {
        start: {
          line: 83,
          column: 8
        },
        end: {
          line: 83,
          column: 57
        }
      },
      "23": {
        start: {
          line: 86,
          column: 8
        },
        end: {
          line: 88,
          column: 9
        }
      },
      "24": {
        start: {
          line: 87,
          column: 12
        },
        end: {
          line: 87,
          column: 84
        }
      },
      "25": {
        start: {
          line: 91,
          column: 8
        },
        end: {
          line: 91,
          column: 56
        }
      },
      "26": {
        start: {
          line: 93,
          column: 8
        },
        end: {
          line: 96,
          column: 10
        }
      },
      "27": {
        start: {
          line: 108,
          column: 8
        },
        end: {
          line: 127,
          column: 9
        }
      },
      "28": {
        start: {
          line: 109,
          column: 12
        },
        end: {
          line: 123,
          column: 15
        }
      },
      "29": {
        start: {
          line: 124,
          column: 12
        },
        end: {
          line: 124,
          column: 64
        }
      },
      "30": {
        start: {
          line: 126,
          column: 12
        },
        end: {
          line: 126,
          column: 61
        }
      },
      "31": {
        start: {
          line: 134,
          column: 8
        },
        end: {
          line: 149,
          column: 9
        }
      },
      "32": {
        start: {
          line: 135,
          column: 12
        },
        end: {
          line: 145,
          column: 15
        }
      },
      "33": {
        start: {
          line: 147,
          column: 12
        },
        end: {
          line: 147,
          column: 53
        }
      },
      "34": {
        start: {
          line: 148,
          column: 12
        },
        end: {
          line: 148,
          column: 24
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 6,
            column: 4
          },
          end: {
            line: 6,
            column: 5
          }
        },
        loc: {
          start: {
            line: 6,
            column: 56
          },
          end: {
            line: 8,
            column: 5
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 75
          },
          end: {
            line: 56,
            column: 5
          }
        },
        line: 18
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 61,
            column: 4
          },
          end: {
            line: 61,
            column: 5
          }
        },
        loc: {
          start: {
            line: 66,
            column: 69
          },
          end: {
            line: 97,
            column: 5
          }
        },
        line: 66
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 76,
            column: 67
          },
          end: {
            line: 76,
            column: 68
          }
        },
        loc: {
          start: {
            line: 76,
            column: 81
          },
          end: {
            line: 76,
            column: 90
          }
        },
        line: 76
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 102,
            column: 4
          },
          end: {
            line: 102,
            column: 5
          }
        },
        loc: {
          start: {
            line: 107,
            column: 21
          },
          end: {
            line: 128,
            column: 5
          }
        },
        line: 107
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 133,
            column: 4
          },
          end: {
            line: 133,
            column: 5
          }
        },
        loc: {
          start: {
            line: 133,
            column: 91
          },
          end: {
            line: 150,
            column: 5
          }
        },
        line: 133
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 20,
            column: 8
          },
          end: {
            line: 25,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 20,
            column: 8
          },
          end: {
            line: 25,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 20
      },
      "1": {
        loc: {
          start: {
            line: 20,
            column: 12
          },
          end: {
            line: 20,
            column: 38
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 20,
            column: 12
          },
          end: {
            line: 20,
            column: 22
          }
        }, {
          start: {
            line: 20,
            column: 26
          },
          end: {
            line: 20,
            column: 38
          }
        }],
        line: 20
      },
      "2": {
        loc: {
          start: {
            line: 27,
            column: 8
          },
          end: {
            line: 29,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 27,
            column: 8
          },
          end: {
            line: 29,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 27
      },
      "3": {
        loc: {
          start: {
            line: 32,
            column: 8
          },
          end: {
            line: 37,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 32,
            column: 8
          },
          end: {
            line: 37,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 32
      },
      "4": {
        loc: {
          start: {
            line: 39,
            column: 8
          },
          end: {
            line: 44,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 39,
            column: 8
          },
          end: {
            line: 44,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 39
      },
      "5": {
        loc: {
          start: {
            line: 39,
            column: 12
          },
          end: {
            line: 39,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 39,
            column: 12
          },
          end: {
            line: 39,
            column: 35
          }
        }, {
          start: {
            line: 39,
            column: 39
          },
          end: {
            line: 39,
            column: 74
          }
        }],
        line: 39
      },
      "6": {
        loc: {
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 72,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 72,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 70
      },
      "7": {
        loc: {
          start: {
            line: 75,
            column: 26
          },
          end: {
            line: 75,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 75,
            column: 26
          },
          end: {
            line: 75,
            column: 46
          }
        }, {
          start: {
            line: 75,
            column: 50
          },
          end: {
            line: 75,
            column: 59
          }
        }],
        line: 75
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "fba3a6f94d28d58da788aca3039057069cf28847"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1dyc8tl2ag = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1dyc8tl2ag();
export class TransferValidator {
  constructor(attributionTracker) {
    /* istanbul ignore next */
    cov_1dyc8tl2ag().f[0]++;
    cov_1dyc8tl2ag().s[0]++;
    this.attributionTracker = attributionTracker;
  }

  /**
   * Validate transfer includes proper attribution
   */
  validateTransfer(from, to, amount, attribution) {
    /* istanbul ignore next */
    cov_1dyc8tl2ag().f[1]++;
    cov_1dyc8tl2ag().s[1]++;
    // Check if attribution is required
    if (
    /* istanbul ignore next */
    (cov_1dyc8tl2ag().b[1][0]++, amount > 0) &&
    /* istanbul ignore next */
    (cov_1dyc8tl2ag().b[1][1]++, !attribution)) {
      /* istanbul ignore next */
      cov_1dyc8tl2ag().b[0][0]++;
      cov_1dyc8tl2ag().s[2]++;
      return {
        valid: false,
        error: 'Attribution required for all value transfers'
      };
    } else
    /* istanbul ignore next */
    {
      cov_1dyc8tl2ag().b[0][1]++;
    }
    cov_1dyc8tl2ag().s[3]++;
    if (!attribution) {
      /* istanbul ignore next */
      cov_1dyc8tl2ag().b[2][0]++;
      cov_1dyc8tl2ag().s[4]++;
      return {
        valid: true
      }; // Zero-value transfers don't need attribution
    } else
    /* istanbul ignore next */
    {
      cov_1dyc8tl2ag().b[2][1]++;
    }

    // Validate attribution structure
    cov_1dyc8tl2ag().s[5]++;
    if (!attribution.originalCreator) {
      /* istanbul ignore next */
      cov_1dyc8tl2ag().b[3][0]++;
      cov_1dyc8tl2ag().s[6]++;
      return {
        valid: false,
        error: 'Original creator must be specified'
      };
    } else
    /* istanbul ignore next */
    {
      cov_1dyc8tl2ag().b[3][1]++;
    }
    cov_1dyc8tl2ag().s[7]++;
    if (
    /* istanbul ignore next */
    (cov_1dyc8tl2ag().b[5][0]++, !attribution.valueChain) ||
    /* istanbul ignore next */
    (cov_1dyc8tl2ag().b[5][1]++, attribution.valueChain.length === 0)) {
      /* istanbul ignore next */
      cov_1dyc8tl2ag().b[4][0]++;
      cov_1dyc8tl2ag().s[8]++;
      return {
        valid: false,
        error: 'Value chain must be specified'
      };
    } else
    /* istanbul ignore next */
    {
      cov_1dyc8tl2ag().b[4][1]++;
    }

    // Calculate royalty distribution
    const royalties =
    /* istanbul ignore next */
    (cov_1dyc8tl2ag().s[9]++, this.attributionTracker.calculateRoyaltyDistribution(attribution, amount));
    /* istanbul ignore next */
    cov_1dyc8tl2ag().s[10]++;
    return {
      valid: true,
      royalties
    };
  }

  /**
   * Process transfer with attribution
   */
  async processAttributedTransfer(from, to, amount, attribution) {
    /* istanbul ignore next */
    cov_1dyc8tl2ag().f[2]++;
    // Validate transfer
    const validation =
    /* istanbul ignore next */
    (cov_1dyc8tl2ag().s[11]++, this.validateTransfer(from, to, amount, attribution));
    /* istanbul ignore next */
    cov_1dyc8tl2ag().s[12]++;
    if (!validation.valid) {
      /* istanbul ignore next */
      cov_1dyc8tl2ag().b[6][0]++;
      cov_1dyc8tl2ag().s[13]++;
      throw new Error(validation.error);
    } else
    /* istanbul ignore next */
    {
      cov_1dyc8tl2ag().b[6][1]++;
    }

    // Calculate royalties
    const royalties =
    /* istanbul ignore next */
    (cov_1dyc8tl2ag().s[14]++,
    /* istanbul ignore next */
    (cov_1dyc8tl2ag().b[7][0]++, validation.royalties) ||
    /* istanbul ignore next */
    (cov_1dyc8tl2ag().b[7][1]++, new Map()));
    const royaltyTotal =
    /* istanbul ignore next */
    (cov_1dyc8tl2ag().s[15]++, Array.from(royalties.values()).reduce((sum, val) => {
      /* istanbul ignore next */
      cov_1dyc8tl2ag().f[3]++;
      cov_1dyc8tl2ag().s[16]++;
      return sum + val;
    }, 0));
    const netAmount =
    /* istanbul ignore next */
    (cov_1dyc8tl2ag().s[17]++, amount - royaltyTotal);
    /* istanbul ignore next */
    cov_1dyc8tl2ag().s[18]++;
    console.log(`ðŸ”— Processing attributed transfer:`);
    /* istanbul ignore next */
    cov_1dyc8tl2ag().s[19]++;
    console.log(`   From: ${from} â†’ To: ${to}`);
    /* istanbul ignore next */
    cov_1dyc8tl2ag().s[20]++;
    console.log(`   Amount: ${amount} AZR`);
    /* istanbul ignore next */
    cov_1dyc8tl2ag().s[21]++;
    console.log(`   Net: ${netAmount} AZR`);
    /* istanbul ignore next */
    cov_1dyc8tl2ag().s[22]++;
    console.log(`   Royalties: ${royaltyTotal} AZR`);

    // Distribute royalties
    /* istanbul ignore next */
    cov_1dyc8tl2ag().s[23]++;
    for (const [recipient, royaltyAmount] of royalties.entries()) {
      /* istanbul ignore next */
      cov_1dyc8tl2ag().s[24]++;
      await this.transferRoyalty(from, recipient, royaltyAmount, attribution);
    }

    // Transfer net amount
    /* istanbul ignore next */
    cov_1dyc8tl2ag().s[25]++;
    await this.executeTransfer(from, to, netAmount);
    /* istanbul ignore next */
    cov_1dyc8tl2ag().s[26]++;
    return {
      success: true,
      royalties
    };
  }

  /**
   * Transfer royalty to creator
   */
  async transferRoyalty(from, to, amount, attribution) {
    /* istanbul ignore next */
    cov_1dyc8tl2ag().f[4]++;
    cov_1dyc8tl2ag().s[27]++;
    try {
      /* istanbul ignore next */
      cov_1dyc8tl2ag().s[28]++;
      await fetch('http://localhost:3011/api/blockchain/transaction', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          from,
          to,
          amount,
          currency: 'AZR',
          type: 'Transfer',
          data: {
            royalty: true,
            attribution
          }
        })
      });
      /* istanbul ignore next */
      cov_1dyc8tl2ag().s[29]++;
      console.log(`   ðŸ’° Royalty: ${amount} AZR â†’ ${to}`);
    } catch (error) {
      /* istanbul ignore next */
      cov_1dyc8tl2ag().s[30]++;
      console.error('Royalty transfer failed:', error);
    }
  }

  /**
   * Execute main transfer
   */
  async executeTransfer(from, to, amount) {
    /* istanbul ignore next */
    cov_1dyc8tl2ag().f[5]++;
    cov_1dyc8tl2ag().s[31]++;
    try {
      /* istanbul ignore next */
      cov_1dyc8tl2ag().s[32]++;
      await fetch('http://localhost:3011/api/blockchain/transaction', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          from,
          to,
          amount,
          currency: 'AZR',
          type: 'Transfer'
        })
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_1dyc8tl2ag().s[33]++;
      console.error('Transfer failed:', error);
      /* istanbul ignore next */
      cov_1dyc8tl2ag().s[34]++;
      throw error;
    }
  }
}
export default TransferValidator;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWR5Yzh0bDJhZyIsImFjdHVhbENvdmVyYWdlIiwiVHJhbnNmZXJWYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsImF0dHJpYnV0aW9uVHJhY2tlciIsImYiLCJzIiwidmFsaWRhdGVUcmFuc2ZlciIsImZyb20iLCJ0byIsImFtb3VudCIsImF0dHJpYnV0aW9uIiwiYiIsInZhbGlkIiwiZXJyb3IiLCJvcmlnaW5hbENyZWF0b3IiLCJ2YWx1ZUNoYWluIiwibGVuZ3RoIiwicm95YWx0aWVzIiwiY2FsY3VsYXRlUm95YWx0eURpc3RyaWJ1dGlvbiIsInByb2Nlc3NBdHRyaWJ1dGVkVHJhbnNmZXIiLCJ2YWxpZGF0aW9uIiwiRXJyb3IiLCJNYXAiLCJyb3lhbHR5VG90YWwiLCJBcnJheSIsInZhbHVlcyIsInJlZHVjZSIsInN1bSIsInZhbCIsIm5ldEFtb3VudCIsImNvbnNvbGUiLCJsb2ciLCJyZWNpcGllbnQiLCJyb3lhbHR5QW1vdW50IiwiZW50cmllcyIsInRyYW5zZmVyUm95YWx0eSIsImV4ZWN1dGVUcmFuc2ZlciIsInN1Y2Nlc3MiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImN1cnJlbmN5IiwidHlwZSIsImRhdGEiLCJyb3lhbHR5Il0sInNvdXJjZXMiOlsidHJhbnNmZXItdmFsaWRhdG9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF0dHJpYnV0aW9uVHJhY2tlciwgQXR0cmlidXRpb24gfSBmcm9tICcuL2F0dHJpYnV0aW9uLXRyYWNrZXInO1xuXG5leHBvcnQgY2xhc3MgVHJhbnNmZXJWYWxpZGF0b3Ige1xuICAgIHByaXZhdGUgYXR0cmlidXRpb25UcmFja2VyOiBBdHRyaWJ1dGlvblRyYWNrZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihhdHRyaWJ1dGlvblRyYWNrZXI6IEF0dHJpYnV0aW9uVHJhY2tlcikge1xuICAgICAgICB0aGlzLmF0dHJpYnV0aW9uVHJhY2tlciA9IGF0dHJpYnV0aW9uVHJhY2tlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSB0cmFuc2ZlciBpbmNsdWRlcyBwcm9wZXIgYXR0cmlidXRpb25cbiAgICAgKi9cbiAgICB2YWxpZGF0ZVRyYW5zZmVyKFxuICAgICAgICBmcm9tOiBzdHJpbmcsXG4gICAgICAgIHRvOiBzdHJpbmcsXG4gICAgICAgIGFtb3VudDogbnVtYmVyLFxuICAgICAgICBhdHRyaWJ1dGlvbj86IEF0dHJpYnV0aW9uXG4gICAgKTogeyB2YWxpZDogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmc7IHJveWFsdGllcz86IE1hcDxzdHJpbmcsIG51bWJlcj4gfSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGF0dHJpYnV0aW9uIGlzIHJlcXVpcmVkXG4gICAgICAgIGlmIChhbW91bnQgPiAwICYmICFhdHRyaWJ1dGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXJyb3I6ICdBdHRyaWJ1dGlvbiByZXF1aXJlZCBmb3IgYWxsIHZhbHVlIHRyYW5zZmVycydcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWF0dHJpYnV0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSB9OyAvLyBaZXJvLXZhbHVlIHRyYW5zZmVycyBkb24ndCBuZWVkIGF0dHJpYnV0aW9uXG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYWxpZGF0ZSBhdHRyaWJ1dGlvbiBzdHJ1Y3R1cmVcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGlvbi5vcmlnaW5hbENyZWF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yOiAnT3JpZ2luYWwgY3JlYXRvciBtdXN0IGJlIHNwZWNpZmllZCdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWF0dHJpYnV0aW9uLnZhbHVlQ2hhaW4gfHwgYXR0cmlidXRpb24udmFsdWVDaGFpbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yOiAnVmFsdWUgY2hhaW4gbXVzdCBiZSBzcGVjaWZpZWQnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHJveWFsdHkgZGlzdHJpYnV0aW9uXG4gICAgICAgIGNvbnN0IHJveWFsdGllcyA9IHRoaXMuYXR0cmlidXRpb25UcmFja2VyLmNhbGN1bGF0ZVJveWFsdHlEaXN0cmlidXRpb24oXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbixcbiAgICAgICAgICAgIGFtb3VudFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgICAgIHJveWFsdGllc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdHJhbnNmZXIgd2l0aCBhdHRyaWJ1dGlvblxuICAgICAqL1xuICAgIGFzeW5jIHByb2Nlc3NBdHRyaWJ1dGVkVHJhbnNmZXIoXG4gICAgICAgIGZyb206IHN0cmluZyxcbiAgICAgICAgdG86IHN0cmluZyxcbiAgICAgICAgYW1vdW50OiBudW1iZXIsXG4gICAgICAgIGF0dHJpYnV0aW9uOiBBdHRyaWJ1dGlvblxuICAgICk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyByb3lhbHRpZXM6IE1hcDxzdHJpbmcsIG51bWJlcj4gfT4ge1xuICAgICAgICAvLyBWYWxpZGF0ZSB0cmFuc2ZlclxuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gdGhpcy52YWxpZGF0ZVRyYW5zZmVyKGZyb20sIHRvLCBhbW91bnQsIGF0dHJpYnV0aW9uKTtcblxuICAgICAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih2YWxpZGF0aW9uLmVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZSByb3lhbHRpZXNcbiAgICAgICAgY29uc3Qgcm95YWx0aWVzID0gdmFsaWRhdGlvbi5yb3lhbHRpZXMgfHwgbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCByb3lhbHR5VG90YWwgPSBBcnJheS5mcm9tKHJveWFsdGllcy52YWx1ZXMoKSkucmVkdWNlKChzdW0sIHZhbCkgPT4gc3VtICsgdmFsLCAwKTtcbiAgICAgICAgY29uc3QgbmV0QW1vdW50ID0gYW1vdW50IC0gcm95YWx0eVRvdGFsO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5SXIFByb2Nlc3NpbmcgYXR0cmlidXRlZCB0cmFuc2ZlcjpgKTtcbiAgICAgICAgY29uc29sZS5sb2coYCAgIEZyb206ICR7ZnJvbX0g4oaSIFRvOiAke3RvfWApO1xuICAgICAgICBjb25zb2xlLmxvZyhgICAgQW1vdW50OiAke2Ftb3VudH0gQVpSYCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGAgICBOZXQ6ICR7bmV0QW1vdW50fSBBWlJgKTtcbiAgICAgICAgY29uc29sZS5sb2coYCAgIFJveWFsdGllczogJHtyb3lhbHR5VG90YWx9IEFaUmApO1xuXG4gICAgICAgIC8vIERpc3RyaWJ1dGUgcm95YWx0aWVzXG4gICAgICAgIGZvciAoY29uc3QgW3JlY2lwaWVudCwgcm95YWx0eUFtb3VudF0gb2Ygcm95YWx0aWVzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy50cmFuc2ZlclJveWFsdHkoZnJvbSwgcmVjaXBpZW50LCByb3lhbHR5QW1vdW50LCBhdHRyaWJ1dGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcmFuc2ZlciBuZXQgYW1vdW50XG4gICAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZVRyYW5zZmVyKGZyb20sIHRvLCBuZXRBbW91bnQpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgcm95YWx0aWVzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmZXIgcm95YWx0eSB0byBjcmVhdG9yXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyB0cmFuc2ZlclJveWFsdHkoXG4gICAgICAgIGZyb206IHN0cmluZyxcbiAgICAgICAgdG86IHN0cmluZyxcbiAgICAgICAgYW1vdW50OiBudW1iZXIsXG4gICAgICAgIGF0dHJpYnV0aW9uOiBBdHRyaWJ1dGlvblxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAxMS9hcGkvYmxvY2tjaGFpbi90cmFuc2FjdGlvbicsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAnQVpSJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1RyYW5zZmVyJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm95YWx0eTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9uXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgICAg8J+SsCBSb3lhbHR5OiAke2Ftb3VudH0gQVpSIOKGkiAke3RvfWApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignUm95YWx0eSB0cmFuc2ZlciBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBtYWluIHRyYW5zZmVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBleGVjdXRlVHJhbnNmZXIoZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nLCBhbW91bnQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAxMS9hcGkvYmxvY2tjaGFpbi90cmFuc2FjdGlvbicsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAnQVpSJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1RyYW5zZmVyJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RyYW5zZmVyIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNmZXJWYWxpZGF0b3I7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBZVk7SUFBQUEsY0FBQSxZQUFBQSxDQUFBO01BQUEsT0FBQUMsY0FBQTtJQUFBO0VBQUE7RUFBQSxPQUFBQSxjQUFBO0FBQUE7QUFB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