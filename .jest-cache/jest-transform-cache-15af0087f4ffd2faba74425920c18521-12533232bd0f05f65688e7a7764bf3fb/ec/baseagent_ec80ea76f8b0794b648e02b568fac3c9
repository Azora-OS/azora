ea9aa0ac68d38c51d22a7b24625ab79c
/* istanbul ignore next */
function cov_1f5kvmgkoa() {
  var path = "/workspaces/azora/packages/shared-ai/base-agent.ts";
  var hash = "773b2e5abaacfbe9702720dd113c0bd9793956ab";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/packages/shared-ai/base-agent.ts",
    statementMap: {
      "0": {
        start: {
          line: 21,
          column: 26
        },
        end: {
          line: 21,
          column: 47
        }
      },
      "1": {
        start: {
          line: 24,
          column: 4
        },
        end: {
          line: 24,
          column: 21
        }
      },
      "2": {
        start: {
          line: 25,
          column: 4
        },
        end: {
          line: 25,
          column: 21
        }
      },
      "3": {
        start: {
          line: 26,
          column: 4
        },
        end: {
          line: 29,
          column: 7
        }
      },
      "4": {
        start: {
          line: 36,
          column: 4
        },
        end: {
          line: 36,
          column: 14
        }
      },
      "5": {
        start: {
          line: 41,
          column: 19
        },
        end: {
          line: 57,
          column: 5
        }
      },
      "6": {
        start: {
          line: 59,
          column: 21
        },
        end: {
          line: 63,
          column: 6
        }
      },
      "7": {
        start: {
          line: 65,
          column: 4
        },
        end: {
          line: 65,
          column: 85
        }
      },
      "8": {
        start: {
          line: 70,
          column: 23
        },
        end: {
          line: 70,
          column: 97
        }
      },
      "9": {
        start: {
          line: 70,
          column: 54
        },
        end: {
          line: 70,
          column: 85
        }
      },
      "10": {
        start: {
          line: 72,
          column: 19
        },
        end: {
          line: 85,
          column: 5
        }
      },
      "11": {
        start: {
          line: 87,
          column: 21
        },
        end: {
          line: 92,
          column: 6
        }
      },
      "12": {
        start: {
          line: 94,
          column: 4
        },
        end: {
          line: 94,
          column: 86
        }
      },
      "13": {
        start: {
          line: 99,
          column: 4
        },
        end: {
          line: 99,
          column: 76
        }
      },
      "14": {
        start: {
          line: 101,
          column: 4
        },
        end: {
          line: 101,
          column: 53
        }
      },
      "15": {
        start: {
          line: 106,
          column: 4
        },
        end: {
          line: 106,
          column: 77
        }
      },
      "16": {
        start: {
          line: 109,
          column: 21
        },
        end: {
          line: 109,
          column: 58
        }
      },
      "17": {
        start: {
          line: 111,
          column: 37
        },
        end: {
          line: 115,
          column: 5
        }
      },
      "18": {
        start: {
          line: 118,
          column: 4
        },
        end: {
          line: 120,
          column: 5
        }
      },
      "19": {
        start: {
          line: 119,
          column: 6
        },
        end: {
          line: 119,
          column: 25
        }
      },
      "20": {
        start: {
          line: 123,
          column: 27
        },
        end: {
          line: 123,
          column: 176
        }
      },
      "21": {
        start: {
          line: 125,
          column: 22
        },
        end: {
          line: 125,
          column: 64
        }
      },
      "22": {
        start: {
          line: 126,
          column: 27
        },
        end: {
          line: 126,
          column: 50
        }
      },
      "23": {
        start: {
          line: 129,
          column: 26
        },
        end: {
          line: 129,
          column: 61
        }
      },
      "24": {
        start: {
          line: 130,
          column: 4
        },
        end: {
          line: 130,
          column: 46
        }
      },
      "25": {
        start: {
          line: 132,
          column: 4
        },
        end: {
          line: 141,
          column: 5
        }
      },
      "26": {
        start: {
          line: 134,
          column: 6
        },
        end: {
          line: 134,
          column: 38
        }
      },
      "27": {
        start: {
          line: 135,
          column: 6
        },
        end: {
          line: 135,
          column: 47
        }
      },
      "28": {
        start: {
          line: 136,
          column: 6
        },
        end: {
          line: 136,
          column: 67
        }
      },
      "29": {
        start: {
          line: 139,
          column: 6
        },
        end: {
          line: 139,
          column: 38
        }
      },
      "30": {
        start: {
          line: 140,
          column: 6
        },
        end: {
          line: 140,
          column: 92
        }
      },
      "31": {
        start: {
          line: 143,
          column: 4
        },
        end: {
          line: 143,
          column: 23
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 23,
            column: 2
          },
          end: {
            line: 23,
            column: 3
          }
        },
        loc: {
          start: {
            line: 23,
            column: 59
          },
          end: {
            line: 30,
            column: 3
          }
        },
        line: 23
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 33,
            column: 2
          },
          end: {
            line: 33,
            column: 3
          }
        },
        loc: {
          start: {
            line: 33,
            column: 71
          },
          end: {
            line: 37,
            column: 3
          }
        },
        line: 33
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 40,
            column: 2
          },
          end: {
            line: 40,
            column: 3
          }
        },
        loc: {
          start: {
            line: 40,
            column: 83
          },
          end: {
            line: 66,
            column: 3
          }
        },
        line: 40
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 69,
            column: 2
          },
          end: {
            line: 69,
            column: 3
          }
        },
        loc: {
          start: {
            line: 69,
            column: 67
          },
          end: {
            line: 95,
            column: 3
          }
        },
        line: 69
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 70,
            column: 49
          },
          end: {
            line: 70,
            column: 50
          }
        },
        loc: {
          start: {
            line: 70,
            column: 54
          },
          end: {
            line: 70,
            column: 85
          }
        },
        line: 70
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 98,
            column: 2
          },
          end: {
            line: 98,
            column: 3
          }
        },
        loc: {
          start: {
            line: 98,
            column: 50
          },
          end: {
            line: 102,
            column: 3
          }
        },
        line: 98
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 105,
            column: 2
          },
          end: {
            line: 105,
            column: 3
          }
        },
        loc: {
          start: {
            line: 105,
            column: 70
          },
          end: {
            line: 144,
            column: 3
          }
        },
        line: 105
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 27,
            column: 14
          },
          end: {
            line: 27,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 27,
            column: 14
          },
          end: {
            line: 27,
            column: 20
          }
        }, {
          start: {
            line: 27,
            column: 24
          },
          end: {
            line: 27,
            column: 50
          }
        }],
        line: 27
      },
      "1": {
        loc: {
          start: {
            line: 65,
            column: 22
          },
          end: {
            line: 65,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 65,
            column: 22
          },
          end: {
            line: 65,
            column: 57
          }
        }, {
          start: {
            line: 65,
            column: 61
          },
          end: {
            line: 65,
            column: 65
          }
        }],
        line: 65
      },
      "2": {
        loc: {
          start: {
            line: 94,
            column: 22
          },
          end: {
            line: 94,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 94,
            column: 22
          },
          end: {
            line: 94,
            column: 57
          }
        }, {
          start: {
            line: 94,
            column: 61
          },
          end: {
            line: 94,
            column: 65
          }
        }],
        line: 94
      },
      "3": {
        loc: {
          start: {
            line: 118,
            column: 4
          },
          end: {
            line: 120,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 118,
            column: 4
          },
          end: {
            line: 120,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 118
      },
      "4": {
        loc: {
          start: {
            line: 118,
            column: 8
          },
          end: {
            line: 118,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 118,
            column: 8
          },
          end: {
            line: 118,
            column: 29
          }
        }, {
          start: {
            line: 118,
            column: 33
          },
          end: {
            line: 118,
            column: 63
          }
        }],
        line: 118
      },
      "5": {
        loc: {
          start: {
            line: 123,
            column: 27
          },
          end: {
            line: 123,
            column: 176
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 123,
            column: 27
          },
          end: {
            line: 123,
            column: 38
          }
        }, {
          start: {
            line: 123,
            column: 42
          },
          end: {
            line: 123,
            column: 176
          }
        }],
        line: 123
      },
      "6": {
        loc: {
          start: {
            line: 132,
            column: 4
          },
          end: {
            line: 141,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 132,
            column: 4
          },
          end: {
            line: 141,
            column: 5
          }
        }, {
          start: {
            line: 137,
            column: 11
          },
          end: {
            line: 141,
            column: 5
          }
        }],
        line: 132
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "773b2e5abaacfbe9702720dd113c0bd9793956ab"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1f5kvmgkoa = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1f5kvmgkoa();
import OpenAI from 'openai';
import { DIVINE_LAW_PRINCIPLES } from './constitutional-types';

// ðŸ§  The Base Agent Class that all Family Members will inherit from
export class BaseAgent {
  model =
  /* istanbul ignore next */
  (cov_1f5kvmgkoa().s[0]++, "gpt-4-turbo-preview"); // System 2 capable model

  constructor(name, role, apiKey) {
    /* istanbul ignore next */
    cov_1f5kvmgkoa().f[0]++;
    cov_1f5kvmgkoa().s[1]++;
    this.name = name;
    /* istanbul ignore next */
    cov_1f5kvmgkoa().s[2]++;
    this.role = role;
    /* istanbul ignore next */
    cov_1f5kvmgkoa().s[3]++;
    this.openai = new OpenAI({
      apiKey:
      /* istanbul ignore next */
      (cov_1f5kvmgkoa().b[0][0]++, apiKey) ||
      /* istanbul ignore next */
      (cov_1f5kvmgkoa().b[0][1]++, process.env.OPENAI_API_KEY),
      dangerouslyAllowBrowser: true // For now, allowing in potential browser contexts
    });
  }

  // 1. Active Pattern Recognition
  async recognizePatterns(context) {
    /* istanbul ignore next */
    cov_1f5kvmgkoa().f[1]++;
    cov_1f5kvmgkoa().s[4]++;
    // TODO: Connect to real monitoring data
    // This is where we would analyze user behavior, logs, etc.
    return [];
  }

  // 2. System 2 Reasoning (The "Deep Think")
  async reason(pattern, context) {
    /* istanbul ignore next */
    cov_1f5kvmgkoa().f[2]++;
    const prompt =
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().s[5]++, `
      You are ${this.name}, the ${this.role} of Azora OS.
      
      PATTERN DETECTED:
      ${JSON.stringify(pattern, null, 2)}
      
      CONTEXT:
      ${JSON.stringify(context, null, 2)}
      
      Perform a System 2 "Chain of Thought" analysis:
      1. Deconstruct the problem.
      2. Consider multiple approaches.
      3. Evaluate against Ubuntu Philosophy ("I am because we are").
      4. Propose the most optimal action.
      
      Return a JSON object matching the ReasoningChain interface.
    `);
    const response =
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().s[6]++, await this.openai.chat.completions.create({
      model: this.model,
      messages: [{
        role: 'system',
        content: prompt
      }],
      response_format: {
        type: 'json_object'
      }
    }));
    /* istanbul ignore next */
    cov_1f5kvmgkoa().s[7]++;
    return JSON.parse(
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().b[1][0]++, response.choices[0].message.content) ||
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().b[1][1]++, '{}'));
  }

  // 3. Constitutional Validation
  async validate(action) {
    /* istanbul ignore next */
    cov_1f5kvmgkoa().f[3]++;
    const principles =
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().s[8]++, DIVINE_LAW_PRINCIPLES.map(p => {
      /* istanbul ignore next */
      cov_1f5kvmgkoa().f[4]++;
      cov_1f5kvmgkoa().s[9]++;
      return `- ${p.name}: ${p.description}`;
    }).join('\n'));
    const prompt =
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().s[10]++, `
      CONSTITUTIONAL COURT REVIEW
      
      PROPOSED ACTION:
      ${JSON.stringify(action, null, 2)}
      
      PRINCIPLES:
      ${principles}
      
      Analyze this action. Does it violate any principles?
      If yes, REJECT it. If no, APPROVE it.
      
      Return a JSON object matching the EthicalAnalysis interface.
    `);
    const response =
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().s[11]++, await this.openai.chat.completions.create({
      model: this.model,
      messages: [{
        role: 'system',
        content: prompt
      }],
      response_format: {
        type: 'json_object'
      },
      temperature: 0.1 // Low temp for strict adherence
    }));
    /* istanbul ignore next */
    cov_1f5kvmgkoa().s[12]++;
    return JSON.parse(
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().b[2][0]++, response.choices[0].message.content) ||
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().b[2][1]++, '{}'));
  }

  // 4. Act (The Execution)
  async act(action) {
    /* istanbul ignore next */
    cov_1f5kvmgkoa().f[5]++;
    cov_1f5kvmgkoa().s[13]++;
    console.log(`[${this.name}] EXECUTING: ${action.type}`, action.payload);
    // In a real system, this would dispatch to an Event Bus or API Gateway
    /* istanbul ignore next */
    cov_1f5kvmgkoa().s[14]++;
    return {
      success: true,
      txHash: 'mock_tx_hash'
    };
  }

  // ðŸŒŸ The "Awake" Loop
  async runAgenticLoop(context) {
    /* istanbul ignore next */
    cov_1f5kvmgkoa().f[6]++;
    cov_1f5kvmgkoa().s[15]++;
    console.log(`[${this.name}] waking up... context: ${context.sessionId}`);

    // 1. Scan for patterns
    const patterns =
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().s[16]++, await this.recognizePatterns(context));
    const actionChain =
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().s[17]++, {
      id: crypto.randomUUID(),
      actions: [],
      status: 'pending'
    });

    // If no patterns, nothing to do (unless reactive)
    /* istanbul ignore next */
    cov_1f5kvmgkoa().s[18]++;
    if (
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().b[4][0]++, patterns.length === 0) &&
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().b[4][1]++, !context.requiresDeepReasoning)) {
      /* istanbul ignore next */
      cov_1f5kvmgkoa().b[3][0]++;
      cov_1f5kvmgkoa().s[19]++;
      return actionChain;
    } else
    /* istanbul ignore next */
    {
      cov_1f5kvmgkoa().b[3][1]++;
    }

    // 2. Reason about the most critical pattern
    const primaryPattern =
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().s[20]++,
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().b[5][0]++, patterns[0]) ||
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().b[5][1]++, {
      id: 'manual-trigger',
      type: 'opportunity',
      confidence: 1,
      indicators: ['user-request'],
      detectedAt: Date.now(),
      severity: 'medium'
    }));
    const reasoning =
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().s[21]++, await this.reason(primaryPattern, context));
    const proposedAction =
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().s[22]++, reasoning.finalDecision);

    // 3. Validate Constitutionality
    const ethicalReview =
    /* istanbul ignore next */
    (cov_1f5kvmgkoa().s[23]++, await this.validate(proposedAction));
    /* istanbul ignore next */
    cov_1f5kvmgkoa().s[24]++;
    actionChain.ethicalReview = ethicalReview;
    /* istanbul ignore next */
    cov_1f5kvmgkoa().s[25]++;
    if (ethicalReview.approved) {
      /* istanbul ignore next */
      cov_1f5kvmgkoa().b[6][0]++;
      cov_1f5kvmgkoa().s[26]++;
      // 4. Execute
      actionChain.status = 'executed';
      /* istanbul ignore next */
      cov_1f5kvmgkoa().s[27]++;
      actionChain.actions.push(proposedAction);
      /* istanbul ignore next */
      cov_1f5kvmgkoa().s[28]++;
      actionChain.executionResult = await this.act(proposedAction);
    } else {
      /* istanbul ignore next */
      cov_1f5kvmgkoa().b[6][1]++;
      cov_1f5kvmgkoa().s[29]++;
      // VETOED
      actionChain.status = 'rejected';
      /* istanbul ignore next */
      cov_1f5kvmgkoa().s[30]++;
      console.warn(`[${this.name}] Action VETOED by Constitution:`, ethicalReview.concerns);
    }
    /* istanbul ignore next */
    cov_1f5kvmgkoa().s[31]++;
    return actionChain;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWY1a3ZtZ2tvYSIsImFjdHVhbENvdmVyYWdlIiwiT3BlbkFJIiwiRElWSU5FX0xBV19QUklOQ0lQTEVTIiwiQmFzZUFnZW50IiwibW9kZWwiLCJzIiwiY29uc3RydWN0b3IiLCJuYW1lIiwicm9sZSIsImFwaUtleSIsImYiLCJvcGVuYWkiLCJiIiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwiZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXIiLCJyZWNvZ25pemVQYXR0ZXJucyIsImNvbnRleHQiLCJyZWFzb24iLCJwYXR0ZXJuIiwicHJvbXB0IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3BvbnNlIiwiY2hhdCIsImNvbXBsZXRpb25zIiwiY3JlYXRlIiwibWVzc2FnZXMiLCJjb250ZW50IiwicmVzcG9uc2VfZm9ybWF0IiwidHlwZSIsInBhcnNlIiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJ2YWxpZGF0ZSIsImFjdGlvbiIsInByaW5jaXBsZXMiLCJtYXAiLCJwIiwiZGVzY3JpcHRpb24iLCJqb2luIiwidGVtcGVyYXR1cmUiLCJhY3QiLCJjb25zb2xlIiwibG9nIiwicGF5bG9hZCIsInN1Y2Nlc3MiLCJ0eEhhc2giLCJydW5BZ2VudGljTG9vcCIsInNlc3Npb25JZCIsInBhdHRlcm5zIiwiYWN0aW9uQ2hhaW4iLCJpZCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJhY3Rpb25zIiwic3RhdHVzIiwibGVuZ3RoIiwicmVxdWlyZXNEZWVwUmVhc29uaW5nIiwicHJpbWFyeVBhdHRlcm4iLCJjb25maWRlbmNlIiwiaW5kaWNhdG9ycyIsImRldGVjdGVkQXQiLCJEYXRlIiwibm93Iiwic2V2ZXJpdHkiLCJyZWFzb25pbmciLCJwcm9wb3NlZEFjdGlvbiIsImZpbmFsRGVjaXNpb24iLCJldGhpY2FsUmV2aWV3IiwiYXBwcm92ZWQiLCJwdXNoIiwiZXhlY3V0aW9uUmVzdWx0Iiwid2FybiIsImNvbmNlcm5zIl0sInNvdXJjZXMiOlsiYmFzZS1hZ2VudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgT3BlbkFJIGZyb20gJ29wZW5haSc7XG5pbXBvcnQgeyBcbiAgQXpvcmFBZ2VudCwgXG4gIEFnZW50aWNDb250ZXh0LCBcbiAgUGF0dGVybiwgXG4gIFBhdHRlcm5EZXRlY3RvciwgXG4gIFN5c3RlbTJSZWFzb25pbmcsIFxuICBDb25zdGl0dXRpb25hbFZhbGlkYXRvcixcbiAgUHJvcG9zZWRBY3Rpb24sXG4gIEFjdGlvbkNoYWluLFxuICBSZWFzb25pbmdDaGFpbixcbiAgRXRoaWNhbEFuYWx5c2lzXG59IGZyb20gJy4vYWdlbnRpYy1jb3JlJztcbmltcG9ydCB7IERJVklORV9MQVdfUFJJTkNJUExFUyB9IGZyb20gJy4vY29uc3RpdHV0aW9uYWwtdHlwZXMnO1xuXG4vLyDwn6egIFRoZSBCYXNlIEFnZW50IENsYXNzIHRoYXQgYWxsIEZhbWlseSBNZW1iZXJzIHdpbGwgaW5oZXJpdCBmcm9tXG5leHBvcnQgY2xhc3MgQmFzZUFnZW50IGltcGxlbWVudHMgQXpvcmFBZ2VudCB7XG4gIG5hbWU6IHN0cmluZztcbiAgcm9sZTogc3RyaW5nO1xuICBwcml2YXRlIG9wZW5haTogT3BlbkFJO1xuICBwcml2YXRlIG1vZGVsOiBzdHJpbmcgPSBcImdwdC00LXR1cmJvLXByZXZpZXdcIjsgLy8gU3lzdGVtIDIgY2FwYWJsZSBtb2RlbFxuXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgcm9sZTogc3RyaW5nLCBhcGlLZXk/OiBzdHJpbmcpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gICAgdGhpcy5vcGVuYWkgPSBuZXcgT3BlbkFJKHtcbiAgICAgIGFwaUtleTogYXBpS2V5IHx8IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZLFxuICAgICAgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUgLy8gRm9yIG5vdywgYWxsb3dpbmcgaW4gcG90ZW50aWFsIGJyb3dzZXIgY29udGV4dHNcbiAgICB9KTtcbiAgfVxuXG4gIC8vIDEuIEFjdGl2ZSBQYXR0ZXJuIFJlY29nbml0aW9uXG4gIGFzeW5jIHJlY29nbml6ZVBhdHRlcm5zKGNvbnRleHQ6IEFnZW50aWNDb250ZXh0KTogUHJvbWlzZTxQYXR0ZXJuW10+IHtcbiAgICAvLyBUT0RPOiBDb25uZWN0IHRvIHJlYWwgbW9uaXRvcmluZyBkYXRhXG4gICAgLy8gVGhpcyBpcyB3aGVyZSB3ZSB3b3VsZCBhbmFseXplIHVzZXIgYmVoYXZpb3IsIGxvZ3MsIGV0Yy5cbiAgICByZXR1cm4gW107IFxuICB9XG5cbiAgLy8gMi4gU3lzdGVtIDIgUmVhc29uaW5nIChUaGUgXCJEZWVwIFRoaW5rXCIpXG4gIGFzeW5jIHJlYXNvbihwYXR0ZXJuOiBQYXR0ZXJuLCBjb250ZXh0OiBBZ2VudGljQ29udGV4dCk6IFByb21pc2U8UmVhc29uaW5nQ2hhaW4+IHtcbiAgICBjb25zdCBwcm9tcHQgPSBgXG4gICAgICBZb3UgYXJlICR7dGhpcy5uYW1lfSwgdGhlICR7dGhpcy5yb2xlfSBvZiBBem9yYSBPUy5cbiAgICAgIFxuICAgICAgUEFUVEVSTiBERVRFQ1RFRDpcbiAgICAgICR7SlNPTi5zdHJpbmdpZnkocGF0dGVybiwgbnVsbCwgMil9XG4gICAgICBcbiAgICAgIENPTlRFWFQ6XG4gICAgICAke0pTT04uc3RyaW5naWZ5KGNvbnRleHQsIG51bGwsIDIpfVxuICAgICAgXG4gICAgICBQZXJmb3JtIGEgU3lzdGVtIDIgXCJDaGFpbiBvZiBUaG91Z2h0XCIgYW5hbHlzaXM6XG4gICAgICAxLiBEZWNvbnN0cnVjdCB0aGUgcHJvYmxlbS5cbiAgICAgIDIuIENvbnNpZGVyIG11bHRpcGxlIGFwcHJvYWNoZXMuXG4gICAgICAzLiBFdmFsdWF0ZSBhZ2FpbnN0IFVidW50dSBQaGlsb3NvcGh5IChcIkkgYW0gYmVjYXVzZSB3ZSBhcmVcIikuXG4gICAgICA0LiBQcm9wb3NlIHRoZSBtb3N0IG9wdGltYWwgYWN0aW9uLlxuICAgICAgXG4gICAgICBSZXR1cm4gYSBKU09OIG9iamVjdCBtYXRjaGluZyB0aGUgUmVhc29uaW5nQ2hhaW4gaW50ZXJmYWNlLlxuICAgIGA7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMub3BlbmFpLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcbiAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLFxuICAgICAgbWVzc2FnZXM6IFt7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiBwcm9tcHQgfV0sXG4gICAgICByZXNwb25zZV9mb3JtYXQ6IHsgdHlwZTogJ2pzb25fb2JqZWN0JyB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gSlNPTi5wYXJzZShyZXNwb25zZS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudCB8fCAne30nKSBhcyBSZWFzb25pbmdDaGFpbjtcbiAgfVxuXG4gIC8vIDMuIENvbnN0aXR1dGlvbmFsIFZhbGlkYXRpb25cbiAgYXN5bmMgdmFsaWRhdGUoYWN0aW9uOiBQcm9wb3NlZEFjdGlvbik6IFByb21pc2U8RXRoaWNhbEFuYWx5c2lzPiB7XG4gICAgY29uc3QgcHJpbmNpcGxlcyA9IERJVklORV9MQVdfUFJJTkNJUExFUy5tYXAocCA9PiBgLSAke3AubmFtZX06ICR7cC5kZXNjcmlwdGlvbn1gKS5qb2luKCdcXG4nKTtcbiAgICBcbiAgICBjb25zdCBwcm9tcHQgPSBgXG4gICAgICBDT05TVElUVVRJT05BTCBDT1VSVCBSRVZJRVdcbiAgICAgIFxuICAgICAgUFJPUE9TRUQgQUNUSU9OOlxuICAgICAgJHtKU09OLnN0cmluZ2lmeShhY3Rpb24sIG51bGwsIDIpfVxuICAgICAgXG4gICAgICBQUklOQ0lQTEVTOlxuICAgICAgJHtwcmluY2lwbGVzfVxuICAgICAgXG4gICAgICBBbmFseXplIHRoaXMgYWN0aW9uLiBEb2VzIGl0IHZpb2xhdGUgYW55IHByaW5jaXBsZXM/XG4gICAgICBJZiB5ZXMsIFJFSkVDVCBpdC4gSWYgbm8sIEFQUFJPVkUgaXQuXG4gICAgICBcbiAgICAgIFJldHVybiBhIEpTT04gb2JqZWN0IG1hdGNoaW5nIHRoZSBFdGhpY2FsQW5hbHlzaXMgaW50ZXJmYWNlLlxuICAgIGA7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMub3BlbmFpLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcbiAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLFxuICAgICAgbWVzc2FnZXM6IFt7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiBwcm9tcHQgfV0sXG4gICAgICByZXNwb25zZV9mb3JtYXQ6IHsgdHlwZTogJ2pzb25fb2JqZWN0JyB9LFxuICAgICAgdGVtcGVyYXR1cmU6IDAuMSAvLyBMb3cgdGVtcCBmb3Igc3RyaWN0IGFkaGVyZW5jZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2UuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQgfHwgJ3t9JykgYXMgRXRoaWNhbEFuYWx5c2lzO1xuICB9XG5cbiAgLy8gNC4gQWN0IChUaGUgRXhlY3V0aW9uKVxuICBhc3luYyBhY3QoYWN0aW9uOiBQcm9wb3NlZEFjdGlvbik6IFByb21pc2U8YW55PiB7XG4gICAgY29uc29sZS5sb2coYFske3RoaXMubmFtZX1dIEVYRUNVVElORzogJHthY3Rpb24udHlwZX1gLCBhY3Rpb24ucGF5bG9hZCk7XG4gICAgLy8gSW4gYSByZWFsIHN5c3RlbSwgdGhpcyB3b3VsZCBkaXNwYXRjaCB0byBhbiBFdmVudCBCdXMgb3IgQVBJIEdhdGV3YXlcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB0eEhhc2g6ICdtb2NrX3R4X2hhc2gnIH07XG4gIH1cblxuICAvLyDwn4yfIFRoZSBcIkF3YWtlXCIgTG9vcFxuICBhc3luYyBydW5BZ2VudGljTG9vcChjb250ZXh0OiBBZ2VudGljQ29udGV4dCk6IFByb21pc2U8QWN0aW9uQ2hhaW4+IHtcbiAgICBjb25zb2xlLmxvZyhgWyR7dGhpcy5uYW1lfV0gd2FraW5nIHVwLi4uIGNvbnRleHQ6ICR7Y29udGV4dC5zZXNzaW9uSWR9YCk7XG5cbiAgICAvLyAxLiBTY2FuIGZvciBwYXR0ZXJuc1xuICAgIGNvbnN0IHBhdHRlcm5zID0gYXdhaXQgdGhpcy5yZWNvZ25pemVQYXR0ZXJucyhjb250ZXh0KTtcbiAgICBcbiAgICBjb25zdCBhY3Rpb25DaGFpbjogQWN0aW9uQ2hhaW4gPSB7XG4gICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgIGFjdGlvbnM6IFtdLFxuICAgICAgc3RhdHVzOiAncGVuZGluZydcbiAgICB9O1xuXG4gICAgLy8gSWYgbm8gcGF0dGVybnMsIG5vdGhpbmcgdG8gZG8gKHVubGVzcyByZWFjdGl2ZSlcbiAgICBpZiAocGF0dGVybnMubGVuZ3RoID09PSAwICYmICFjb250ZXh0LnJlcXVpcmVzRGVlcFJlYXNvbmluZykge1xuICAgICAgcmV0dXJuIGFjdGlvbkNoYWluO1xuICAgIH1cblxuICAgIC8vIDIuIFJlYXNvbiBhYm91dCB0aGUgbW9zdCBjcml0aWNhbCBwYXR0ZXJuXG4gICAgY29uc3QgcHJpbWFyeVBhdHRlcm4gPSBwYXR0ZXJuc1swXSB8fCB7IGlkOiAnbWFudWFsLXRyaWdnZXInLCB0eXBlOiAnb3Bwb3J0dW5pdHknLCBjb25maWRlbmNlOiAxLCBpbmRpY2F0b3JzOiBbJ3VzZXItcmVxdWVzdCddLCBkZXRlY3RlZEF0OiBEYXRlLm5vdygpLCBzZXZlcml0eTogJ21lZGl1bScgfTtcbiAgICBcbiAgICBjb25zdCByZWFzb25pbmcgPSBhd2FpdCB0aGlzLnJlYXNvbihwcmltYXJ5UGF0dGVybiwgY29udGV4dCk7XG4gICAgY29uc3QgcHJvcG9zZWRBY3Rpb24gPSByZWFzb25pbmcuZmluYWxEZWNpc2lvbjtcblxuICAgIC8vIDMuIFZhbGlkYXRlIENvbnN0aXR1dGlvbmFsaXR5XG4gICAgY29uc3QgZXRoaWNhbFJldmlldyA9IGF3YWl0IHRoaXMudmFsaWRhdGUocHJvcG9zZWRBY3Rpb24pO1xuICAgIGFjdGlvbkNoYWluLmV0aGljYWxSZXZpZXcgPSBldGhpY2FsUmV2aWV3O1xuXG4gICAgaWYgKGV0aGljYWxSZXZpZXcuYXBwcm92ZWQpIHtcbiAgICAgIC8vIDQuIEV4ZWN1dGVcbiAgICAgIGFjdGlvbkNoYWluLnN0YXR1cyA9ICdleGVjdXRlZCc7XG4gICAgICBhY3Rpb25DaGFpbi5hY3Rpb25zLnB1c2gocHJvcG9zZWRBY3Rpb24pO1xuICAgICAgYWN0aW9uQ2hhaW4uZXhlY3V0aW9uUmVzdWx0ID0gYXdhaXQgdGhpcy5hY3QocHJvcG9zZWRBY3Rpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBWRVRPRURcbiAgICAgIGFjdGlvbkNoYWluLnN0YXR1cyA9ICdyZWplY3RlZCc7XG4gICAgICBjb25zb2xlLndhcm4oYFske3RoaXMubmFtZX1dIEFjdGlvbiBWRVRPRUQgYnkgQ29uc3RpdHV0aW9uOmAsIGV0aGljYWxSZXZpZXcuY29uY2VybnMpO1xuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb25DaGFpbjtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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