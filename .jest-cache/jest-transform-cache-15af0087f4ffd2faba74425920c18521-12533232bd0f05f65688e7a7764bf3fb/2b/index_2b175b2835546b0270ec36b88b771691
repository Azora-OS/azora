406595564ba32adcbdfeef4733de7ea8
/* istanbul ignore next */
function cov_2a5jcxxd2a() {
  var path = "/workspaces/azora/services/elara-orchestrator/src/index.ts";
  var hash = "de7e128e879bd2e3e4a0e5b93e7f2e2575cd1eb7";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/elara-orchestrator/src/index.ts",
    statementMap: {
      "0": {
        start: {
          line: 13,
          column: 12
        },
        end: {
          line: 13,
          column: 21
        }
      },
      "1": {
        start: {
          line: 14,
          column: 13
        },
        end: {
          line: 14,
          column: 37
        }
      },
      "2": {
        start: {
          line: 16,
          column: 0
        },
        end: {
          line: 16,
          column: 24
        }
      },
      "3": {
        start: {
          line: 18,
          column: 15
        },
        end: {
          line: 18,
          column: 27
        }
      },
      "4": {
        start: {
          line: 19,
          column: 23
        },
        end: {
          line: 19,
          column: 43
        }
      },
      "5": {
        start: {
          line: 25,
          column: 0
        },
        end: {
          line: 59,
          column: 3
        }
      },
      "6": {
        start: {
          line: 26,
          column: 50
        },
        end: {
          line: 26,
          column: 58
        }
      },
      "7": {
        start: {
          line: 28,
          column: 2
        },
        end: {
          line: 31,
          column: 3
        }
      },
      "8": {
        start: {
          line: 29,
          column: 4
        },
        end: {
          line: 29,
          column: 59
        }
      },
      "9": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 30,
          column: 11
        }
      },
      "10": {
        start: {
          line: 33,
          column: 2
        },
        end: {
          line: 58,
          column: 3
        }
      },
      "11": {
        start: {
          line: 35,
          column: 20
        },
        end: {
          line: 35,
          column: 64
        }
      },
      "12": {
        start: {
          line: 38,
          column: 21
        },
        end: {
          line: 43,
          column: 6
        }
      },
      "13": {
        start: {
          line: 46,
          column: 4
        },
        end: {
          line: 46,
          column: 59
        }
      },
      "14": {
        start: {
          line: 47,
          column: 4
        },
        end: {
          line: 47,
          column: 73
        }
      },
      "15": {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 54,
          column: 7
        }
      },
      "16": {
        start: {
          line: 56,
          column: 4
        },
        end: {
          line: 56,
          column: 49
        }
      },
      "17": {
        start: {
          line: 57,
          column: 4
        },
        end: {
          line: 57,
          column: 61
        }
      },
      "18": {
        start: {
          line: 65,
          column: 0
        },
        end: {
          line: 101,
          column: 3
        }
      },
      "19": {
        start: {
          line: 66,
          column: 50
        },
        end: {
          line: 66,
          column: 58
        }
      },
      "20": {
        start: {
          line: 68,
          column: 2
        },
        end: {
          line: 71,
          column: 3
        }
      },
      "21": {
        start: {
          line: 69,
          column: 4
        },
        end: {
          line: 69,
          column: 59
        }
      },
      "22": {
        start: {
          line: 70,
          column: 4
        },
        end: {
          line: 70,
          column: 11
        }
      },
      "23": {
        start: {
          line: 73,
          column: 2
        },
        end: {
          line: 100,
          column: 3
        }
      },
      "24": {
        start: {
          line: 74,
          column: 4
        },
        end: {
          line: 74,
          column: 55
        }
      },
      "25": {
        start: {
          line: 75,
          column: 4
        },
        end: {
          line: 75,
          column: 47
        }
      },
      "26": {
        start: {
          line: 76,
          column: 4
        },
        end: {
          line: 76,
          column: 46
        }
      },
      "27": {
        start: {
          line: 78,
          column: 20
        },
        end: {
          line: 78,
          column: 64
        }
      },
      "28": {
        start: {
          line: 79,
          column: 4
        },
        end: {
          line: 79,
          column: 59
        }
      },
      "29": {
        start: {
          line: 81,
          column: 19
        },
        end: {
          line: 86,
          column: 6
        }
      },
      "30": {
        start: {
          line: 88,
          column: 22
        },
        end: {
          line: 88,
          column: 24
        }
      },
      "31": {
        start: {
          line: 89,
          column: 4
        },
        end: {
          line: 92,
          column: 5
        }
      },
      "32": {
        start: {
          line: 90,
          column: 6
        },
        end: {
          line: 90,
          column: 27
        }
      },
      "33": {
        start: {
          line: 91,
          column: 6
        },
        end: {
          line: 91,
          column: 65
        }
      },
      "34": {
        start: {
          line: 94,
          column: 4
        },
        end: {
          line: 94,
          column: 68
        }
      },
      "35": {
        start: {
          line: 95,
          column: 4
        },
        end: {
          line: 95,
          column: 34
        }
      },
      "36": {
        start: {
          line: 96,
          column: 4
        },
        end: {
          line: 96,
          column: 14
        }
      },
      "37": {
        start: {
          line: 98,
          column: 4
        },
        end: {
          line: 98,
          column: 42
        }
      },
      "38": {
        start: {
          line: 99,
          column: 4
        },
        end: {
          line: 99,
          column: 56
        }
      },
      "39": {
        start: {
          line: 107,
          column: 0
        },
        end: {
          line: 120,
          column: 3
        }
      },
      "40": {
        start: {
          line: 108,
          column: 18
        },
        end: {
          line: 108,
          column: 58
        }
      },
      "41": {
        start: {
          line: 110,
          column: 2
        },
        end: {
          line: 113,
          column: 3
        }
      },
      "42": {
        start: {
          line: 111,
          column: 4
        },
        end: {
          line: 111,
          column: 57
        }
      },
      "43": {
        start: {
          line: 112,
          column: 4
        },
        end: {
          line: 112,
          column: 11
        }
      },
      "44": {
        start: {
          line: 115,
          column: 2
        },
        end: {
          line: 119,
          column: 5
        }
      },
      "45": {
        start: {
          line: 126,
          column: 0
        },
        end: {
          line: 129,
          column: 3
        }
      },
      "46": {
        start: {
          line: 127,
          column: 2
        },
        end: {
          line: 127,
          column: 46
        }
      },
      "47": {
        start: {
          line: 128,
          column: 2
        },
        end: {
          line: 128,
          column: 30
        }
      },
      "48": {
        start: {
          line: 135,
          column: 0
        },
        end: {
          line: 137,
          column: 3
        }
      },
      "49": {
        start: {
          line: 136,
          column: 2
        },
        end: {
          line: 136,
          column: 60
        }
      },
      "50": {
        start: {
          line: 139,
          column: 0
        },
        end: {
          line: 143,
          column: 1
        }
      },
      "51": {
        start: {
          line: 140,
          column: 2
        },
        end: {
          line: 142,
          column: 5
        }
      },
      "52": {
        start: {
          line: 141,
          column: 4
        },
        end: {
          line: 141,
          column: 67
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 25,
            column: 26
          },
          end: {
            line: 25,
            column: 27
          }
        },
        loc: {
          start: {
            line: 25,
            column: 46
          },
          end: {
            line: 59,
            column: 1
          }
        },
        line: 25
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 65,
            column: 26
          },
          end: {
            line: 65,
            column: 27
          }
        },
        loc: {
          start: {
            line: 65,
            column: 46
          },
          end: {
            line: 101,
            column: 1
          }
        },
        line: 65
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 107,
            column: 24
          },
          end: {
            line: 107,
            column: 25
          }
        },
        loc: {
          start: {
            line: 107,
            column: 38
          },
          end: {
            line: 120,
            column: 1
          }
        },
        line: 107
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 126,
            column: 27
          },
          end: {
            line: 126,
            column: 28
          }
        },
        loc: {
          start: {
            line: 126,
            column: 41
          },
          end: {
            line: 129,
            column: 1
          }
        },
        line: 126
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 135,
            column: 19
          },
          end: {
            line: 135,
            column: 20
          }
        },
        loc: {
          start: {
            line: 135,
            column: 33
          },
          end: {
            line: 137,
            column: 1
          }
        },
        line: 135
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 140,
            column: 19
          },
          end: {
            line: 140,
            column: 20
          }
        },
        loc: {
          start: {
            line: 140,
            column: 25
          },
          end: {
            line: 142,
            column: 3
          }
        },
        line: 140
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 14,
            column: 13
          },
          end: {
            line: 14,
            column: 37
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 14,
            column: 13
          },
          end: {
            line: 14,
            column: 29
          }
        }, {
          start: {
            line: 14,
            column: 33
          },
          end: {
            line: 14,
            column: 37
          }
        }],
        line: 14
      },
      "1": {
        loc: {
          start: {
            line: 28,
            column: 2
          },
          end: {
            line: 31,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 28,
            column: 2
          },
          end: {
            line: 31,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 28
      },
      "2": {
        loc: {
          start: {
            line: 68,
            column: 2
          },
          end: {
            line: 71,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 68,
            column: 2
          },
          end: {
            line: 71,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 68
      },
      "3": {
        loc: {
          start: {
            line: 110,
            column: 2
          },
          end: {
            line: 113,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 110,
            column: 2
          },
          end: {
            line: 113,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 110
      },
      "4": {
        loc: {
          start: {
            line: 139,
            column: 0
          },
          end: {
            line: 143,
            column: 1
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 139,
            column: 0
          },
          end: {
            line: 143,
            column: 1
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 139
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "de7e128e879bd2e3e4a0e5b93e7f2e2575cd1eb7"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2a5jcxxd2a = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2a5jcxxd2a();
/**
 * Elara Orchestrator Service
 * Multi-agent LLM routing engine with constitutional validation
 * 
 * Routes queries to optimal agent (Sankofa, Themba, Jabari, Nia, Imani)
 * Manages session state, tool use, and streaming responses
 */

import express from 'express';
import { Router } from './router';
import { SessionManager } from './session-manager';
const app =
/* istanbul ignore next */
(cov_2a5jcxxd2a().s[0]++, express());
const port =
/* istanbul ignore next */
(cov_2a5jcxxd2a().s[1]++,
/* istanbul ignore next */
(cov_2a5jcxxd2a().b[0][0]++, process.env.PORT) ||
/* istanbul ignore next */
(cov_2a5jcxxd2a().b[0][1]++, 3010));
/* istanbul ignore next */
cov_2a5jcxxd2a().s[2]++;
app.use(express.json());
const router =
/* istanbul ignore next */
(cov_2a5jcxxd2a().s[3]++, new Router());
const sessionManager =
/* istanbul ignore next */
(cov_2a5jcxxd2a().s[4]++, new SessionManager());

/**
 * POST /agent/prompt
 * Route a user prompt through the agent network
 */
/* istanbul ignore next */
cov_2a5jcxxd2a().s[5]++;
app.post('/agent/prompt', async (req, res) => {
  /* istanbul ignore next */
  cov_2a5jcxxd2a().f[0]++;
  const {
    message,
    sessionId,
    agentPreference
  } =
  /* istanbul ignore next */
  (cov_2a5jcxxd2a().s[6]++, req.body);
  /* istanbul ignore next */
  cov_2a5jcxxd2a().s[7]++;
  if (!message) {
    /* istanbul ignore next */
    cov_2a5jcxxd2a().b[1][0]++;
    cov_2a5jcxxd2a().s[8]++;
    res.status(400).json({
      error: 'message is required'
    });
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[9]++;
    return;
  } else
  /* istanbul ignore next */
  {
    cov_2a5jcxxd2a().b[1][1]++;
  }
  cov_2a5jcxxd2a().s[10]++;
  try {
    // Get or create session
    const session =
    /* istanbul ignore next */
    (cov_2a5jcxxd2a().s[11]++, sessionManager.getOrCreateSession(sessionId));

    // Route to optimal agent
    const response =
    /* istanbul ignore next */
    (cov_2a5jcxxd2a().s[12]++, await router.route({
      message,
      sessionId: session.id,
      agentPreference,
      conversationHistory: session.history
    }));

    // Update session history
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[13]++;
    session.addMessage({
      role: 'user',
      content: message
    });
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[14]++;
    session.addMessage({
      role: 'assistant',
      content: response.content
    });
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[15]++;
    res.json({
      sessionId: session.id,
      message: response.content,
      agent: response.agent,
      tokens: response.tokens
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[16]++;
    console.error('Agent routing error:', error);
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[17]++;
    res.status(500).json({
      error: 'Internal server error'
    });
  }
});

/**
 * POST /agent/stream
 * Stream responses from agent in real-time
 */
/* istanbul ignore next */
cov_2a5jcxxd2a().s[18]++;
app.post('/agent/stream', async (req, res) => {
  /* istanbul ignore next */
  cov_2a5jcxxd2a().f[1]++;
  const {
    message,
    sessionId,
    agentPreference
  } =
  /* istanbul ignore next */
  (cov_2a5jcxxd2a().s[19]++, req.body);
  /* istanbul ignore next */
  cov_2a5jcxxd2a().s[20]++;
  if (!message) {
    /* istanbul ignore next */
    cov_2a5jcxxd2a().b[2][0]++;
    cov_2a5jcxxd2a().s[21]++;
    res.status(400).json({
      error: 'message is required'
    });
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[22]++;
    return;
  } else
  /* istanbul ignore next */
  {
    cov_2a5jcxxd2a().b[2][1]++;
  }
  cov_2a5jcxxd2a().s[23]++;
  try {
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[24]++;
    res.setHeader('Content-Type', 'text/event-stream');
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[25]++;
    res.setHeader('Cache-Control', 'no-cache');
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[26]++;
    res.setHeader('Connection', 'keep-alive');
    const session =
    /* istanbul ignore next */
    (cov_2a5jcxxd2a().s[27]++, sessionManager.getOrCreateSession(sessionId));
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[28]++;
    session.addMessage({
      role: 'user',
      content: message
    });
    const stream =
    /* istanbul ignore next */
    (cov_2a5jcxxd2a().s[29]++, await router.routeStream({
      message,
      sessionId: session.id,
      agentPreference,
      conversationHistory: session.history
    }));
    let fullContent =
    /* istanbul ignore next */
    (cov_2a5jcxxd2a().s[30]++, '');
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[31]++;
    for await (const chunk of stream) {
      /* istanbul ignore next */
      cov_2a5jcxxd2a().s[32]++;
      fullContent += chunk;
      /* istanbul ignore next */
      cov_2a5jcxxd2a().s[33]++;
      res.write(`data: ${JSON.stringify({
        token: chunk
      })}\n\n`);
    }
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[34]++;
    session.addMessage({
      role: 'assistant',
      content: fullContent
    });
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[35]++;
    res.write('data: [DONE]\n\n');
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[36]++;
    res.end();
  } catch (error) {
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[37]++;
    console.error('Stream error:', error);
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[38]++;
    res.status(500).json({
      error: 'Streaming failed'
    });
  }
});

/**
 * GET /session/:id
 * Get session details
 */
/* istanbul ignore next */
cov_2a5jcxxd2a().s[39]++;
app.get('/session/:id', (req, res) => {
  /* istanbul ignore next */
  cov_2a5jcxxd2a().f[2]++;
  const session =
  /* istanbul ignore next */
  (cov_2a5jcxxd2a().s[40]++, sessionManager.getSession(req.params.id));
  /* istanbul ignore next */
  cov_2a5jcxxd2a().s[41]++;
  if (!session) {
    /* istanbul ignore next */
    cov_2a5jcxxd2a().b[3][0]++;
    cov_2a5jcxxd2a().s[42]++;
    res.status(404).json({
      error: 'Session not found'
    });
    /* istanbul ignore next */
    cov_2a5jcxxd2a().s[43]++;
    return;
  } else
  /* istanbul ignore next */
  {
    cov_2a5jcxxd2a().b[3][1]++;
  }
  cov_2a5jcxxd2a().s[44]++;
  res.json({
    id: session.id,
    createdAt: session.createdAt,
    messageCount: session.history.length
  });
});

/**
 * DELETE /session/:id
 * Close and clear session
 */
/* istanbul ignore next */
cov_2a5jcxxd2a().s[45]++;
app.delete('/session/:id', (req, res) => {
  /* istanbul ignore next */
  cov_2a5jcxxd2a().f[3]++;
  cov_2a5jcxxd2a().s[46]++;
  sessionManager.deleteSession(req.params.id);
  /* istanbul ignore next */
  cov_2a5jcxxd2a().s[47]++;
  res.json({
    success: true
  });
});

/**
 * GET /health
 * Health check
 */
/* istanbul ignore next */
cov_2a5jcxxd2a().s[48]++;
app.get('/health', (req, res) => {
  /* istanbul ignore next */
  cov_2a5jcxxd2a().f[4]++;
  cov_2a5jcxxd2a().s[49]++;
  res.json({
    status: 'ok',
    service: 'elara-orchestrator'
  });
});
/* istanbul ignore next */
cov_2a5jcxxd2a().s[50]++;
if (require.main === module) {
  /* istanbul ignore next */
  cov_2a5jcxxd2a().b[4][0]++;
  cov_2a5jcxxd2a().s[51]++;
  app.listen(port, () => {
    /* istanbul ignore next */
    cov_2a5jcxxd2a().f[5]++;
    cov_2a5jcxxd2a().s[52]++;
    console.log(`ðŸ¤– Elara Orchestrator listening on port ${port}`);
  });
} else
/* istanbul ignore next */
{
  cov_2a5jcxxd2a().b[4][1]++;
}
export default app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmE1amN4eGQyYSIsImFjdHVhbENvdmVyYWdlIiwiZXhwcmVzcyIsIlJvdXRlciIsIlNlc3Npb25NYW5hZ2VyIiwiYXBwIiwicyIsInBvcnQiLCJiIiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJ1c2UiLCJqc29uIiwicm91dGVyIiwic2Vzc2lvbk1hbmFnZXIiLCJwb3N0IiwicmVxIiwicmVzIiwiZiIsIm1lc3NhZ2UiLCJzZXNzaW9uSWQiLCJhZ2VudFByZWZlcmVuY2UiLCJib2R5Iiwic3RhdHVzIiwiZXJyb3IiLCJzZXNzaW9uIiwiZ2V0T3JDcmVhdGVTZXNzaW9uIiwicmVzcG9uc2UiLCJyb3V0ZSIsImlkIiwiY29udmVyc2F0aW9uSGlzdG9yeSIsImhpc3RvcnkiLCJhZGRNZXNzYWdlIiwicm9sZSIsImNvbnRlbnQiLCJhZ2VudCIsInRva2VucyIsImNvbnNvbGUiLCJzZXRIZWFkZXIiLCJzdHJlYW0iLCJyb3V0ZVN0cmVhbSIsImZ1bGxDb250ZW50IiwiY2h1bmsiLCJ3cml0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b2tlbiIsImVuZCIsImdldCIsImdldFNlc3Npb24iLCJwYXJhbXMiLCJjcmVhdGVkQXQiLCJtZXNzYWdlQ291bnQiLCJsZW5ndGgiLCJkZWxldGUiLCJkZWxldGVTZXNzaW9uIiwic3VjY2VzcyIsInNlcnZpY2UiLCJyZXF1aXJlIiwibWFpbiIsIm1vZHVsZSIsImxpc3RlbiIsImxvZyJdLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRWxhcmEgT3JjaGVzdHJhdG9yIFNlcnZpY2VcbiAqIE11bHRpLWFnZW50IExMTSByb3V0aW5nIGVuZ2luZSB3aXRoIGNvbnN0aXR1dGlvbmFsIHZhbGlkYXRpb25cbiAqIFxuICogUm91dGVzIHF1ZXJpZXMgdG8gb3B0aW1hbCBhZ2VudCAoU2Fua29mYSwgVGhlbWJhLCBKYWJhcmksIE5pYSwgSW1hbmkpXG4gKiBNYW5hZ2VzIHNlc3Npb24gc3RhdGUsIHRvb2wgdXNlLCBhbmQgc3RyZWFtaW5nIHJlc3BvbnNlc1xuICovXG5cbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnLi9yb3V0ZXInO1xuaW1wb3J0IHsgU2Vzc2lvbk1hbmFnZXIgfSBmcm9tICcuL3Nlc3Npb24tbWFuYWdlcic7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMTA7XG5cbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKCk7XG5jb25zdCBzZXNzaW9uTWFuYWdlciA9IG5ldyBTZXNzaW9uTWFuYWdlcigpO1xuXG4vKipcbiAqIFBPU1QgL2FnZW50L3Byb21wdFxuICogUm91dGUgYSB1c2VyIHByb21wdCB0aHJvdWdoIHRoZSBhZ2VudCBuZXR3b3JrXG4gKi9cbmFwcC5wb3N0KCcvYWdlbnQvcHJvbXB0JywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgbWVzc2FnZSwgc2Vzc2lvbklkLCBhZ2VudFByZWZlcmVuY2UgfSA9IHJlcS5ib2R5O1xuXG4gIGlmICghbWVzc2FnZSkge1xuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdtZXNzYWdlIGlzIHJlcXVpcmVkJyB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0cnkge1xuICAgIC8vIEdldCBvciBjcmVhdGUgc2Vzc2lvblxuICAgIGNvbnN0IHNlc3Npb24gPSBzZXNzaW9uTWFuYWdlci5nZXRPckNyZWF0ZVNlc3Npb24oc2Vzc2lvbklkKTtcblxuICAgIC8vIFJvdXRlIHRvIG9wdGltYWwgYWdlbnRcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJvdXRlci5yb3V0ZSh7XG4gICAgICBtZXNzYWdlLFxuICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uLmlkLFxuICAgICAgYWdlbnRQcmVmZXJlbmNlLFxuICAgICAgY29udmVyc2F0aW9uSGlzdG9yeTogc2Vzc2lvbi5oaXN0b3J5XG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgc2Vzc2lvbiBoaXN0b3J5XG4gICAgc2Vzc2lvbi5hZGRNZXNzYWdlKHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiBtZXNzYWdlIH0pO1xuICAgIHNlc3Npb24uYWRkTWVzc2FnZSh7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiByZXNwb25zZS5jb250ZW50IH0pO1xuXG4gICAgcmVzLmpzb24oe1xuICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uLmlkLFxuICAgICAgbWVzc2FnZTogcmVzcG9uc2UuY29udGVudCxcbiAgICAgIGFnZW50OiByZXNwb25zZS5hZ2VudCxcbiAgICAgIHRva2VuczogcmVzcG9uc2UudG9rZW5zXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQWdlbnQgcm91dGluZyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFBPU1QgL2FnZW50L3N0cmVhbVxuICogU3RyZWFtIHJlc3BvbnNlcyBmcm9tIGFnZW50IGluIHJlYWwtdGltZVxuICovXG5hcHAucG9zdCgnL2FnZW50L3N0cmVhbScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IG1lc3NhZ2UsIHNlc3Npb25JZCwgYWdlbnRQcmVmZXJlbmNlIH0gPSByZXEuYm9keTtcblxuICBpZiAoIW1lc3NhZ2UpIHtcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnbWVzc2FnZSBpcyByZXF1aXJlZCcgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9ldmVudC1zdHJlYW0nKTtcbiAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ25vLWNhY2hlJyk7XG4gICAgcmVzLnNldEhlYWRlcignQ29ubmVjdGlvbicsICdrZWVwLWFsaXZlJyk7XG5cbiAgICBjb25zdCBzZXNzaW9uID0gc2Vzc2lvbk1hbmFnZXIuZ2V0T3JDcmVhdGVTZXNzaW9uKHNlc3Npb25JZCk7XG4gICAgc2Vzc2lvbi5hZGRNZXNzYWdlKHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiBtZXNzYWdlIH0pO1xuXG4gICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgcm91dGVyLnJvdXRlU3RyZWFtKHtcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBzZXNzaW9uSWQ6IHNlc3Npb24uaWQsXG4gICAgICBhZ2VudFByZWZlcmVuY2UsXG4gICAgICBjb252ZXJzYXRpb25IaXN0b3J5OiBzZXNzaW9uLmhpc3RvcnlcbiAgICB9KTtcblxuICAgIGxldCBmdWxsQ29udGVudCA9ICcnO1xuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG4gICAgICBmdWxsQ29udGVudCArPSBjaHVuaztcbiAgICAgIHJlcy53cml0ZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeSh7IHRva2VuOiBjaHVuayB9KX1cXG5cXG5gKTtcbiAgICB9XG5cbiAgICBzZXNzaW9uLmFkZE1lc3NhZ2UoeyByb2xlOiAnYXNzaXN0YW50JywgY29udGVudDogZnVsbENvbnRlbnQgfSk7XG4gICAgcmVzLndyaXRlKCdkYXRhOiBbRE9ORV1cXG5cXG4nKTtcbiAgICByZXMuZW5kKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3RyZWFtIGVycm9yOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnU3RyZWFtaW5nIGZhaWxlZCcgfSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEdFVCAvc2Vzc2lvbi86aWRcbiAqIEdldCBzZXNzaW9uIGRldGFpbHNcbiAqL1xuYXBwLmdldCgnL3Nlc3Npb24vOmlkJywgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHNlc3Npb24gPSBzZXNzaW9uTWFuYWdlci5nZXRTZXNzaW9uKHJlcS5wYXJhbXMuaWQpO1xuXG4gIGlmICghc2Vzc2lvbikge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdTZXNzaW9uIG5vdCBmb3VuZCcgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmVzLmpzb24oe1xuICAgIGlkOiBzZXNzaW9uLmlkLFxuICAgIGNyZWF0ZWRBdDogc2Vzc2lvbi5jcmVhdGVkQXQsXG4gICAgbWVzc2FnZUNvdW50OiBzZXNzaW9uLmhpc3RvcnkubGVuZ3RoXG4gIH0pO1xufSk7XG5cbi8qKlxuICogREVMRVRFIC9zZXNzaW9uLzppZFxuICogQ2xvc2UgYW5kIGNsZWFyIHNlc3Npb25cbiAqL1xuYXBwLmRlbGV0ZSgnL3Nlc3Npb24vOmlkJywgKHJlcSwgcmVzKSA9PiB7XG4gIHNlc3Npb25NYW5hZ2VyLmRlbGV0ZVNlc3Npb24ocmVxLnBhcmFtcy5pZCk7XG4gIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcbn0pO1xuXG4vKipcbiAqIEdFVCAvaGVhbHRoXG4gKiBIZWFsdGggY2hlY2tcbiAqL1xuYXBwLmdldCgnL2hlYWx0aCcsIChyZXEsIHJlcykgPT4ge1xuICByZXMuanNvbih7IHN0YXR1czogJ29rJywgc2VydmljZTogJ2VsYXJhLW9yY2hlc3RyYXRvcicgfSk7XG59KTtcblxuaWYgKHJlcXVpcmUubWFpbiA9PT0gbW9kdWxlKSB7XG4gIGFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGDwn6SWIEVsYXJhIE9yY2hlc3RyYXRvciBsaXN0ZW5pbmcgb24gcG9ydCAke3BvcnR9YCk7XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBhcHA7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBZVk7SUFBQUEsY0FBQSxZQUFBQSxDQUFBO01BQUEsT0FBQUMsY0FBQTtJQUFBO0VBQUE7RUFBQSxPQUFBQSxj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