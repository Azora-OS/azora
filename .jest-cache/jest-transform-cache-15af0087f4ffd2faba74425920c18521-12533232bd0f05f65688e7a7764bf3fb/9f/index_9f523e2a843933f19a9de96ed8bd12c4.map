{"version":3,"names":["cov_eejhjiri4","actualCoverage","express_1","s","__importDefault","require","body_parser_1","fileWatcher_1","indexer_1","aiRouter_1","logger_1","auth_1","path_1","app","default","use","json","indexer","DatabaseIndexer","ai","AIProviderRouter","workspacePath","b","process","env","WORKSPACE_PATH","resolve","cwd","watcher","FileWatcher","nodes","f","n","embedding","embedText","content","indexNodes","start","get","req","res","q","query","status","error","results","search","post","apiKeyOrJwtAuth","apiKeyHeader","headers","indexApiKey","INDEX_API_KEY","body","Array","isArray","length","id","success","count","err","logger","port","PORT","listen","info"],"sources":["index.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}