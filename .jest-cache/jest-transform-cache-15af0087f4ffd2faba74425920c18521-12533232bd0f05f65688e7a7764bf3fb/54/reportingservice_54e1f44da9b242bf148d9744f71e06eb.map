{"version":3,"names":["cov_1fn5u2d8ai","actualCoverage","generateUUID","revenueService","paymentService","fundService","businessService","ReportingService","generateFinancialReport","businessId","startDate","endDate","f","reportId","s","now","Date","revenueBreakdown","getBreakdown","paymentHistory","getPaymentHistory","paymentStats","completed","payments","filter","p","status","length","pending","failed","report","id","period","totalRevenue","businessOwnerShare","citadelFundShare","totalPayments","totalCount","generatedAt","exportReportAsCSV","headers","row","toISOString","toFixed","csv","map","r","cell","join","exportReportAsJSON","JSON","stringify","generateFundReport","fundStatus","getFundStatus","distributionStats","getDistributionStats","impactMetrics","getImpactMetrics","balance","totalContributions","totalDistributions","generateBusinessSummaryReport","business","getBusinessById","wizardProgress","getWizardProgress","revenueStats","getStatistics","businessInfo","name","businessName","type","businessType","createdAt","metrics","progress","citadelFundContribution","citadelFundTotal","generateComplianceReport","getPaymentStats","complianceScore","Math","max","failureRate","totalTransactions","totalAmount","flaggedTransactions","round","auditTrail","totalActions","actionsByType","successRate","pendingCount","generateRevenueTrendReport","days","b","trend","getRevenueTrend","reduce","sum","t","revenue","averageDailyRevenue","highestDay","date","lowestDay","min","summary","scheduleReportDelivery","reportType","frequency","email","nextDelivery","calculateNextDelivery","console","log","scheduled","getTime","getReportStatistics","totalReportsGenerated","reportsByType","financial","fund","business_summary","compliance","revenue_trend","averageGenerationTime","reportingService"],"sources":["reporting.service.ts"],"sourcesContent":["import { generateUUID } from '../utils/uuid.js';\nimport { revenueService } from './revenue.service.js';\nimport { paymentService } from './payment.service.js';\nimport { fundService } from './fund.service.js';\nimport { businessService } from './business.service.js';\n\n/**\n * Reporting Service\n * Generates financial reports, exports, and analytics\n * Requirements: 6.3, 6.4\n */\n\ninterface FinancialReport {\n  id: string;\n  businessId: string;\n  period: { startDate: Date; endDate: Date };\n  totalRevenue: number;\n  businessOwnerShare: number;\n  citadelFundShare: number;\n  totalPayments: number;\n  paymentStats: {\n    completed: number;\n    pending: number;\n    failed: number;\n  };\n  generatedAt: Date;\n}\n\nexport class ReportingService {\n  /**\n   * Generate financial report for a business\n   * Requirements: 6.3, 6.4\n   */\n  async generateFinancialReport(\n    businessId: string,\n    startDate: Date,\n    endDate: Date\n  ): Promise<FinancialReport> {\n    const reportId = generateUUID();\n    const now = new Date();\n\n    // Get revenue data\n    const revenueBreakdown = await revenueService.getBreakdown(businessId, startDate, endDate);\n\n    // Get payment data\n    const paymentHistory = await paymentService.getPaymentHistory(businessId);\n\n    // Count payments by status\n    const paymentStats = {\n      completed: paymentHistory.payments.filter((p) => p.status === 'completed').length,\n      pending: paymentHistory.payments.filter((p) => p.status === 'pending').length,\n      failed: paymentHistory.payments.filter((p) => p.status === 'failed').length,\n    };\n\n    const report: FinancialReport = {\n      id: reportId,\n      businessId,\n      period: { startDate, endDate },\n      totalRevenue: revenueBreakdown.totalRevenue,\n      businessOwnerShare: revenueBreakdown.businessOwnerShare,\n      citadelFundShare: revenueBreakdown.citadelFundShare,\n      totalPayments: paymentHistory.totalCount,\n      paymentStats,\n      generatedAt: now,\n    };\n\n    return report;\n  }\n\n  /**\n   * Export report as CSV\n   * Requirements: 6.3, 6.4\n   */\n  async exportReportAsCSV(report: FinancialReport): Promise<string> {\n    const headers = [\n      'Report ID',\n      'Business ID',\n      'Period Start',\n      'Period End',\n      'Total Revenue',\n      'Business Owner Share',\n      'Citadel Fund Share',\n      'Total Payments',\n      'Completed Payments',\n      'Pending Payments',\n      'Failed Payments',\n      'Generated At',\n    ];\n\n    const row = [\n      report.id,\n      report.businessId,\n      report.period.startDate.toISOString(),\n      report.period.endDate.toISOString(),\n      report.totalRevenue.toFixed(2),\n      report.businessOwnerShare.toFixed(2),\n      report.citadelFundShare.toFixed(2),\n      report.totalPayments,\n      report.paymentStats.completed,\n      report.paymentStats.pending,\n      report.paymentStats.failed,\n      report.generatedAt.toISOString(),\n    ];\n\n    const csv = [headers, row].map((r) => r.map((cell) => `\"${cell}\"`).join(',')).join('\\n');\n\n    return csv;\n  }\n\n  /**\n   * Export report as JSON\n   * Requirements: 6.3, 6.4\n   */\n  async exportReportAsJSON(report: FinancialReport): Promise<string> {\n    return JSON.stringify(report, null, 2);\n  }\n\n  /**\n   * Generate fund report\n   * Requirements: 6.3, 6.4\n   */\n  async generateFundReport(startDate: Date, endDate: Date): Promise<{\n    period: { startDate: Date; endDate: Date };\n    fundStatus: {\n      balance: number;\n      totalContributions: number;\n      totalDistributions: number;\n    };\n    distributionStats: {\n      totalDistributions: number;\n      byType: Record<string, { count: number; amount: number }>;\n      byStatus: Record<string, number>;\n    };\n    impactMetrics: {\n      scholarshipsAwarded: number;\n      projectsFunded: number;\n      communityBeneficiaries: number;\n      totalImpactAmount: number;\n    };\n    generatedAt: Date;\n  }> {\n    const fundStatus = await fundService.getFundStatus();\n    const distributionStats = await fundService.getDistributionStats();\n    const impactMetrics = await fundService.getImpactMetrics();\n\n    return {\n      period: { startDate, endDate },\n      fundStatus: {\n        balance: fundStatus.balance,\n        totalContributions: fundStatus.totalContributions,\n        totalDistributions: fundStatus.totalDistributions,\n      },\n      distributionStats,\n      impactMetrics,\n      generatedAt: new Date(),\n    };\n  }\n\n  /**\n   * Generate business summary report\n   * Requirements: 6.3, 6.4\n   */\n  async generateBusinessSummaryReport(businessId: string): Promise<{\n    businessId: string;\n    businessInfo: {\n      name: string;\n      type: string;\n      status: string;\n      createdAt: Date;\n    };\n    metrics: {\n      wizardProgress: number;\n      totalRevenue: number;\n      totalPayments: number;\n      citadelFundContribution: number;\n    };\n    generatedAt: Date;\n  }> {\n    const business = await businessService.getBusinessById(businessId, '');\n    const wizardProgress = await businessService.getWizardProgress(businessId, '');\n    const revenueStats = await revenueService.getStatistics(businessId);\n    const paymentHistory = await paymentService.getPaymentHistory(businessId);\n\n    return {\n      businessId,\n      businessInfo: {\n        name: business.businessName,\n        type: business.businessType,\n        status: business.status,\n        createdAt: business.createdAt,\n      },\n      metrics: {\n        wizardProgress: wizardProgress.progress,\n        totalRevenue: revenueStats.totalRevenue,\n        totalPayments: paymentHistory.totalCount,\n        citadelFundContribution: revenueStats.citadelFundTotal,\n      },\n      generatedAt: new Date(),\n    };\n  }\n\n  /**\n   * Generate compliance report\n   * Requirements: 6.3, 6.4\n   */\n  async generateComplianceReport(startDate: Date, endDate: Date): Promise<{\n    period: { startDate: Date; endDate: Date };\n    totalTransactions: number;\n    totalAmount: number;\n    complianceScore: number;\n    flaggedTransactions: number;\n    auditTrail: {\n      totalActions: number;\n      actionsByType: Record<string, number>;\n    };\n    generatedAt: Date;\n  }> {\n    const paymentStats = await paymentService.getPaymentStats(startDate, endDate);\n\n    // Calculate compliance score\n    const complianceScore = Math.max(0, 100 - paymentStats.failureRate * 2);\n\n    return {\n      period: { startDate, endDate },\n      totalTransactions: paymentStats.totalPayments,\n      totalAmount: paymentStats.totalAmount,\n      complianceScore,\n      flaggedTransactions: Math.round(paymentStats.totalPayments * (paymentStats.failureRate / 100)),\n      auditTrail: {\n        totalActions: paymentStats.totalPayments,\n        actionsByType: {\n          completed: Math.round(paymentStats.totalPayments * (paymentStats.successRate / 100)),\n          failed: Math.round(paymentStats.totalPayments * (paymentStats.failureRate / 100)),\n          pending: paymentStats.pendingCount,\n        },\n      },\n      generatedAt: new Date(),\n    };\n  }\n\n  /**\n   * Generate revenue trend report\n   * Requirements: 6.3, 6.4\n   */\n  async generateRevenueTrendReport(businessId: string, days: number = 30): Promise<{\n    businessId: string;\n    period: number;\n    trend: Array<{\n      date: string;\n      revenue: number;\n      businessOwnerShare: number;\n      citadelFundShare: number;\n    }>;\n    summary: {\n      totalRevenue: number;\n      averageDailyRevenue: number;\n      highestDay: { date: string; revenue: number };\n      lowestDay: { date: string; revenue: number };\n    };\n    generatedAt: Date;\n  }> {\n    const trend = await revenueService.getRevenueTrend(businessId, days);\n\n    const totalRevenue = trend.reduce((sum, t) => sum + t.revenue, 0);\n    const averageDailyRevenue = trend.length > 0 ? totalRevenue / trend.length : 0;\n\n    const highestDay = trend.reduce((max, t) => (t.revenue > max.revenue ? t : max), trend[0] || {\n      date: '',\n      revenue: 0,\n    });\n    const lowestDay = trend.reduce((min, t) => (t.revenue < min.revenue ? t : min), trend[0] || {\n      date: '',\n      revenue: 0,\n    });\n\n    return {\n      businessId,\n      period: days,\n      trend,\n      summary: {\n        totalRevenue,\n        averageDailyRevenue,\n        highestDay: { date: highestDay.date, revenue: highestDay.revenue },\n        lowestDay: { date: lowestDay.date, revenue: lowestDay.revenue },\n      },\n      generatedAt: new Date(),\n    };\n  }\n\n  /**\n   * Schedule report delivery\n   * Requirements: 6.3, 6.4\n   */\n  async scheduleReportDelivery(\n    businessId: string,\n    reportType: string,\n    frequency: 'daily' | 'weekly' | 'monthly',\n    email: string\n  ): Promise<{\n    scheduled: boolean;\n    reportType: string;\n    frequency: string;\n    nextDelivery: Date;\n  }> {\n    // Mock implementation - in production, integrate with email service and job queue\n    const nextDelivery = this.calculateNextDelivery(frequency);\n\n    console.log(\n      `[Reporting] Scheduled ${reportType} report for ${businessId} to ${email} (${frequency})`\n    );\n\n    return {\n      scheduled: true,\n      reportType,\n      frequency,\n      nextDelivery,\n    };\n  }\n\n  /**\n   * Calculate next delivery date\n   * Requirements: 6.3, 6.4\n   */\n  private calculateNextDelivery(frequency: 'daily' | 'weekly' | 'monthly'): Date {\n    const now = new Date();\n\n    switch (frequency) {\n      case 'daily':\n        return new Date(now.getTime() + 24 * 60 * 60 * 1000);\n      case 'weekly':\n        return new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000);\n      case 'monthly':\n        return new Date(now.getTime() + 30 * 24 * 60 * 60 * 1000);\n      default:\n        return now;\n    }\n  }\n\n  /**\n   * Get report statistics\n   * Requirements: 6.3, 6.4\n   */\n  async getReportStatistics(): Promise<{\n    totalReportsGenerated: number;\n    reportsByType: Record<string, number>;\n    averageGenerationTime: number;\n  }> {\n    // Mock implementation - in production, track actual report generation\n    return {\n      totalReportsGenerated: 0,\n      reportsByType: {\n        financial: 0,\n        fund: 0,\n        business_summary: 0,\n        compliance: 0,\n        revenue_trend: 0,\n      },\n      averageGenerationTime: 0,\n    };\n  }\n}\n\nexport const reportingService = new ReportingService();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}