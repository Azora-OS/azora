{"version":3,"names":["cov_22ikboz8fj","actualCoverage","TokenMinter","constructor","f","s","totalSupply","maxSupply","mintingRate","transactions","halvingInterval","blocksMinted","mint","userId","amount","proof","b","success","reason","currentSupply","adjustedAmount","transaction","txId","generateTxId","activityType","proofHash","hashProof","timestamp","Date","blockNumber","push","newBalance","calculateInflation","recentBlocks","Math","min","recentMinting","slice","reduce","sum","tx","crypto","require","randomBytes","toString","createHash","update","JSON","stringify","digest","getSupplyInfo","remainingSupply","percentageMinted","currentMintingRate","nextHalving","module","exports"],"sources":["token-minter.js"],"sourcesContent":["class TokenMinter {\n  constructor() {\n    this.totalSupply = 0;\n    this.maxSupply = 1000000000;\n    this.mintingRate = 1.0;\n    this.transactions = [];\n    this.halvingInterval = 210000;\n    this.blocksMinted = 0;\n  }\n\n  mint(userId, amount, proof) {\n    if (this.totalSupply + amount > this.maxSupply) {\n      return { \n        success: false, \n        reason: 'Max supply reached',\n        currentSupply: this.totalSupply,\n        maxSupply: this.maxSupply\n      };\n    }\n\n    const adjustedAmount = amount * this.mintingRate;\n    this.totalSupply += adjustedAmount;\n    this.blocksMinted++;\n\n    if (this.blocksMinted % this.halvingInterval === 0) {\n      this.mintingRate *= 0.5;\n    }\n\n    const transaction = {\n      txId: this.generateTxId(),\n      userId,\n      amount: adjustedAmount,\n      proof: proof.activityType,\n      proofHash: this.hashProof(proof),\n      timestamp: new Date(),\n      blockNumber: this.blocksMinted\n    };\n\n    this.transactions.push(transaction);\n\n    return {\n      success: true,\n      transaction,\n      newBalance: adjustedAmount,\n      totalSupply: this.totalSupply\n    };\n  }\n\n  calculateInflation() {\n    const recentBlocks = Math.min(this.blocksMinted, 10000);\n    if (recentBlocks === 0) return 0;\n\n    const recentMinting = this.transactions\n      .slice(-recentBlocks)\n      .reduce((sum, tx) => sum + tx.amount, 0);\n\n    return (recentMinting / this.totalSupply) * 100;\n  }\n\n  generateTxId() {\n    const crypto = require('crypto');\n    return crypto.randomBytes(32).toString('hex');\n  }\n\n  hashProof(proof) {\n    const crypto = require('crypto');\n    return crypto.createHash('sha256')\n      .update(JSON.stringify(proof))\n      .digest('hex');\n  }\n\n  getSupplyInfo() {\n    return {\n      totalSupply: this.totalSupply,\n      maxSupply: this.maxSupply,\n      remainingSupply: this.maxSupply - this.totalSupply,\n      percentageMinted: (this.totalSupply / this.maxSupply) * 100,\n      currentMintingRate: this.mintingRate,\n      blocksMinted: this.blocksMinted,\n      nextHalving: this.halvingInterval - (this.blocksMinted % this.halvingInterval)\n    };\n  }\n}\n\nmodule.exports = new TokenMinter();\n"],"mappings":"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","ignoreList":[]}