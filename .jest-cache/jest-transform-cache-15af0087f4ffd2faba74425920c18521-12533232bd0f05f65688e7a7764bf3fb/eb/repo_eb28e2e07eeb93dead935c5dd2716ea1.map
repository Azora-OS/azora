{"version":3,"names":["cov_ua3tmzyih","actualCoverage","prisma","createTaskRecord","task","f","s","create","data","id","status","payload","agentId","b","undefined","updateTaskRecord","updates","update","where","getTaskRecord","findUnique"],"sources":["repo.ts"],"sourcesContent":["import prisma from './prismaClient';\nimport { TaskRecord } from './persistence';\n\nexport async function createTaskRecord(task: TaskRecord) {\n  return prisma.task.create({\n    data: {\n      id: task.id,\n      status: task.status,\n      payload: task.payload as any,\n      agentId: task.agentId ?? undefined\n    }\n  });\n}\n\nexport async function updateTaskRecord(id: string, updates: Partial<TaskRecord>) {\n  return prisma.task.update({\n    where: { id },\n    data: {\n      status: updates.status ?? undefined,\n      payload: updates.payload ?? undefined,\n      agentId: updates.agentId ?? undefined\n    }\n  });\n}\n\nexport async function getTaskRecord(id: string) {\n  return prisma.task.findUnique({ where: { id } });\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAfZ,OAAOE,MAAM,MAAM,gBAAgB;AAGnC,OAAO,eAAeC,gBAAgBA,CAACC,IAAgB,EAAE;EAAA;EAAAJ,aAAA,GAAAK,CAAA;EAAAL,aAAA,GAAAM,CAAA;EACvD,OAAOJ,MAAM,CAACE,IAAI,CAACG,MAAM,CAAC;IACxBC,IAAI,EAAE;MACJC,EAAE,EAAEL,IAAI,CAACK,EAAE;MACXC,MAAM,EAAEN,IAAI,CAACM,MAAM;MACnBC,OAAO,EAAEP,IAAI,CAACO,OAAc;MAC5BC,OAAO;MAAE;MAAA,CAAAZ,aAAA,GAAAa,CAAA,UAAAT,IAAI,CAACQ,OAAO;MAAA;MAAA,CAAAZ,aAAA,GAAAa,CAAA,UAAIC,SAAS;IACpC;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,eAAeC,gBAAgBA,CAACN,EAAU,EAAEO,OAA4B,EAAE;EAAA;EAAAhB,aAAA,GAAAK,CAAA;EAAAL,aAAA,GAAAM,CAAA;EAC/E,OAAOJ,MAAM,CAACE,IAAI,CAACa,MAAM,CAAC;IACxBC,KAAK,EAAE;MAAET;IAAG,CAAC;IACbD,IAAI,EAAE;MACJE,MAAM;MAAE;MAAA,CAAAV,aAAA,GAAAa,CAAA,UAAAG,OAAO,CAACN,MAAM;MAAA;MAAA,CAAAV,aAAA,GAAAa,CAAA,UAAIC,SAAS;MACnCH,OAAO;MAAE;MAAA,CAAAX,aAAA,GAAAa,CAAA,UAAAG,OAAO,CAACL,OAAO;MAAA;MAAA,CAAAX,aAAA,GAAAa,CAAA,UAAIC,SAAS;MACrCF,OAAO;MAAE;MAAA,CAAAZ,aAAA,GAAAa,CAAA,UAAAG,OAAO,CAACJ,OAAO;MAAA;MAAA,CAAAZ,aAAA,GAAAa,CAAA,UAAIC,SAAS;IACvC;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,eAAeK,aAAaA,CAACV,EAAU,EAAE;EAAA;EAAAT,aAAA,GAAAK,CAAA;EAAAL,aAAA,GAAAM,CAAA;EAC9C,OAAOJ,MAAM,CAACE,IAAI,CAACgB,UAAU,CAAC;IAAEF,KAAK,EAAE;MAAET;IAAG;EAAE,CAAC,CAAC;AAClD","ignoreList":[]}