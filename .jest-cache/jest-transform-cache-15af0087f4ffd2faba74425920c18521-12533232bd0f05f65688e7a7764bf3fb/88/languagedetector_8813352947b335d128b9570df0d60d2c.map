{"version":3,"names":["cov_1ze3jhk0zh","actualCoverage","LanguageDetector","languagePatterns","s","Map","commonWords","constructor","f","initializePatterns","initializeCommonWords","set","Set","detectLanguage","text","b","length","language","confidence","alternatives","scores","languages","score","patterns","get","pattern","matches","match","words","toLowerCase","split","word","has","bestLanguage","bestScore","totalScore","Array","from","values","reduce","a","entries","filter","lang","map","sort","slice","Math","min","detectFromPreferences","userLanguage","userCountry","userRegion","startsWith","getSupportedLanguages","getLanguageName","names","en","fr","sw","ar","pt","am","yo","zu"],"sources":["language-detector.ts"],"sourcesContent":["import { Language } from '../regions/region-manager';\n\nexport interface LanguageDetectionResult {\n  language: Language;\n  confidence: number;\n  alternatives: Array<{ language: Language; confidence: number }>;\n}\n\nexport class LanguageDetector {\n  private languagePatterns: Map<Language, RegExp[]> = new Map();\n  private commonWords: Map<Language, Set<string>> = new Map();\n\n  constructor() {\n    this.initializePatterns();\n    this.initializeCommonWords();\n  }\n\n  /**\n   * Initialize language patterns\n   */\n  private initializePatterns(): void {\n    // English patterns\n    this.languagePatterns.set('en', [\n      /\\b(the|is|and|to|of|a|in|that|it|for|was|on|be|with|as|by|at|from|or|an|are|this|but|his|they|have|had|has|do|does|did|will|would|should|could|can|may|might|must|shall)\\b/gi,\n    ]);\n\n    // French patterns\n    this.languagePatterns.set('fr', [\n      /\\b(le|de|un|et|à|que|est|en|pour|dans|ce|il|qui|ne|sur|se|pas|plus|pouvoir|devoir|vouloir|aller|être|avoir)\\b/gi,\n    ]);\n\n    // Swahili patterns\n    this.languagePatterns.set('sw', [\n      /\\b(na|ni|ya|wa|kwa|za|ta|ka|ku|ki|vi|m|n|u|a|i|o|e)\\b/gi,\n    ]);\n\n    // Arabic patterns\n    this.languagePatterns.set('ar', [/[\\u0600-\\u06FF]/g]);\n\n    // Portuguese patterns\n    this.languagePatterns.set('pt', [\n      /\\b(o|a|de|que|e|do|da|em|um|para|é|com|não|uma|os|no|se|na|por|mais|as|dos|como|mas|foi|ao|ele|das|tem|à|seu|sua|ou|ser|quando|muito|há|nos|já|está|eu|também|só|pelo|pela|até|isso|ela|entre|era|depois|sem|mesmo|aos|ter|seus|quem|nas|me|esse|eles|estão|você|tinha|foram|essa|num|nem|suas|meu|às|minha|têm|numa|pelos|elas)\\b/gi,\n    ]);\n\n    // Amharic patterns\n    this.languagePatterns.set('am', [/[\\u1200-\\u137F]/g]);\n\n    // Yoruba patterns\n    this.languagePatterns.set('yo', [\n      /\\b(ni|ti|lo|si|fun|ati|o|a|e|i|u|ọ|ẹ|ọ̀|ẹ̀|ọ́|ẹ́)\\b/gi,\n    ]);\n\n    // Zulu patterns\n    this.languagePatterns.set('zu', [\n      /\\b(i|u|a|e|o|aba|ama|imi|isi|izi|izin|izim|izil|izit|izik|izib|izin|izim|izil|izit|izik|izib)\\b/gi,\n    ]);\n  }\n\n  /**\n   * Initialize common words for each language\n   */\n  private initializeCommonWords(): void {\n    this.commonWords.set('en', new Set([\n      'the', 'is', 'and', 'to', 'of', 'a', 'in', 'that', 'it', 'for', 'was', 'on', 'be', 'with', 'as', 'by', 'at', 'from', 'or', 'an', 'are', 'this', 'but', 'his', 'they', 'have', 'had', 'has', 'do', 'does', 'did', 'will', 'would', 'should', 'could', 'can', 'may', 'might', 'must', 'shall',\n    ]));\n\n    this.commonWords.set('fr', new Set([\n      'le', 'de', 'un', 'et', 'à', 'que', 'est', 'en', 'pour', 'dans', 'ce', 'il', 'qui', 'ne', 'sur', 'se', 'pas', 'plus', 'pouvoir', 'devoir', 'vouloir', 'aller', 'être', 'avoir',\n    ]));\n\n    this.commonWords.set('sw', new Set([\n      'na', 'ni', 'ya', 'wa', 'kwa', 'za', 'ta', 'ka', 'ku', 'ki', 'vi', 'm', 'n', 'u', 'a', 'i', 'o', 'e',\n    ]));\n\n    this.commonWords.set('ar', new Set([\n      'في', 'من', 'إلى', 'هو', 'هي', 'أن', 'كان', 'كانت', 'هذا', 'هذه', 'ذلك', 'تلك', 'التي', 'الذي', 'ما', 'من', 'أي', 'كل', 'بعض',\n    ]));\n\n    this.commonWords.set('pt', new Set([\n      'o', 'a', 'de', 'que', 'e', 'do', 'da', 'em', 'um', 'para', 'é', 'com', 'não', 'uma', 'os', 'no', 'se', 'na', 'por', 'mais', 'as', 'dos', 'como', 'mas', 'foi', 'ao', 'ele', 'das', 'tem', 'à', 'seu', 'sua', 'ou', 'ser', 'quando', 'muito', 'há', 'nos', 'já', 'está', 'eu', 'também', 'só', 'pelo', 'pela', 'até', 'isso', 'ela', 'entre', 'era', 'depois', 'sem', 'mesmo', 'aos', 'ter', 'seus', 'quem', 'nas', 'me', 'esse', 'eles', 'estão', 'você', 'tinha', 'foram', 'essa', 'num', 'nem', 'suas', 'meu', 'às', 'minha', 'têm', 'numa', 'pelos', 'elas',\n    ]));\n\n    this.commonWords.set('am', new Set([\n      'ነው', 'ያለ', 'ሆነ', 'ሊ', 'ከ', 'ወደ', 'በ', 'ላይ', 'ውስጥ', 'ስር', 'ላ', 'ሳ', 'ሲ', 'ሲሆን', 'ሲሆነ',\n    ]));\n\n    this.commonWords.set('yo', new Set([\n      'ni', 'ti', 'lo', 'si', 'fun', 'ati', 'o', 'a', 'e', 'i', 'u', 'ọ', 'ẹ',\n    ]));\n\n    this.commonWords.set('zu', new Set([\n      'i', 'u', 'a', 'e', 'o', 'aba', 'ama', 'imi', 'isi', 'izi', 'izin', 'izim', 'izil', 'izit', 'izik', 'izib',\n    ]));\n  }\n\n  /**\n   * Detect language from text\n   */\n  detectLanguage(text: string): LanguageDetectionResult {\n    if (!text || text.length === 0) {\n      return {\n        language: 'en',\n        confidence: 0,\n        alternatives: [],\n      };\n    }\n\n    const scores: Map<Language, number> = new Map();\n    const languages: Language[] = ['en', 'fr', 'sw', 'ar', 'pt', 'am', 'yo', 'zu'];\n\n    // Score each language\n    for (const language of languages) {\n      let score = 0;\n\n      // Check patterns\n      const patterns = this.languagePatterns.get(language) || [];\n      for (const pattern of patterns) {\n        const matches = text.match(pattern);\n        if (matches) {\n          score += matches.length;\n        }\n      }\n\n      // Check common words\n      const words = text.toLowerCase().split(/\\s+/);\n      const commonWords = this.commonWords.get(language) || new Set();\n      for (const word of words) {\n        if (commonWords.has(word)) {\n          score += 2;\n        }\n      }\n\n      scores.set(language, score);\n    }\n\n    // Find best match\n    let bestLanguage: Language = 'en';\n    let bestScore = 0;\n\n    for (const [language, score] of scores) {\n      if (score > bestScore) {\n        bestScore = score;\n        bestLanguage = language;\n      }\n    }\n\n    // Calculate confidence\n    const totalScore = Array.from(scores.values()).reduce((a, b) => a + b, 0);\n    const confidence = totalScore > 0 ? bestScore / totalScore : 0;\n\n    // Get alternatives\n    const alternatives = Array.from(scores.entries())\n      .filter(([lang]) => lang !== bestLanguage)\n      .map(([lang, score]) => ({\n        language: lang,\n        confidence: totalScore > 0 ? score / totalScore : 0,\n      }))\n      .sort((a, b) => b.confidence - a.confidence)\n      .slice(0, 3);\n\n    return {\n      language: bestLanguage,\n      confidence: Math.min(confidence, 1),\n      alternatives,\n    };\n  }\n\n  /**\n   * Detect language from user preferences\n   */\n  detectFromPreferences(\n    userLanguage?: string,\n    userCountry?: string,\n    userRegion?: string\n  ): Language {\n    // If user explicitly set language, use it\n    if (userLanguage) {\n      const lang = userLanguage.toLowerCase();\n      if (lang.startsWith('en')) {return 'en';}\n      if (lang.startsWith('fr')) {return 'fr';}\n      if (lang.startsWith('sw')) {return 'sw';}\n      if (lang.startsWith('ar')) {return 'ar';}\n      if (lang.startsWith('pt')) {return 'pt';}\n      if (lang.startsWith('am')) {return 'am';}\n      if (lang.startsWith('yo')) {return 'yo';}\n      if (lang.startsWith('zu')) {return 'zu';}\n    }\n\n    // Default to English\n    return 'en';\n  }\n\n  /**\n   * Get supported languages\n   */\n  getSupportedLanguages(): Language[] {\n    return ['en', 'fr', 'sw', 'ar', 'pt', 'am', 'yo', 'zu'];\n  }\n\n  /**\n   * Get language name\n   */\n  getLanguageName(language: Language): string {\n    const names: Record<Language, string> = {\n      en: 'English',\n      fr: 'Français',\n      sw: 'Kiswahili',\n      ar: 'العربية',\n      pt: 'Português',\n      am: 'አማርኛ',\n      yo: 'Yorùbá',\n      zu: 'isiZulu',\n    };\n\n    return names[language] || 'Unknown';\n  }\n}\n\nexport default LanguageDetector;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}