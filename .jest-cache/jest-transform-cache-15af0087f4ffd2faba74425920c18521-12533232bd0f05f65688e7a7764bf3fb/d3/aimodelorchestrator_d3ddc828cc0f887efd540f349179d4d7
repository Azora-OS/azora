72486d111496b2c88974d0444022c742
/* istanbul ignore next */
function cov_1bspjpp54y() {
  var path = "/workspaces/azora/services/ai-family-service/ai-model-orchestrator.js";
  var hash = "ea5690f64ff20a8b1e7b5ea13049a92f2c15de1c";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/ai-family-service/ai-model-orchestrator.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 0
        },
        end: {
          line: 1,
          column: 27
        }
      },
      "1": {
        start: {
          line: 5,
          column: 4
        },
        end: {
          line: 5,
          column: 62
        }
      },
      "2": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 6,
          column: 66
        }
      },
      "3": {
        start: {
          line: 7,
          column: 4
        },
        end: {
          line: 7,
          column: 65
        }
      },
      "4": {
        start: {
          line: 8,
          column: 4
        },
        end: {
          line: 8,
          column: 44
        }
      },
      "5": {
        start: {
          line: 12,
          column: 20
        },
        end: {
          line: 12,
          column: 22
        }
      },
      "6": {
        start: {
          line: 14,
          column: 4
        },
        end: {
          line: 19,
          column: 5
        }
      },
      "7": {
        start: {
          line: 15,
          column: 6
        },
        end: {
          line: 18,
          column: 20
        }
      },
      "8": {
        start: {
          line: 16,
          column: 23
        },
        end: {
          line: 16,
          column: 40
        }
      },
      "9": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 76
        }
      },
      "10": {
        start: {
          line: 21,
          column: 4
        },
        end: {
          line: 26,
          column: 5
        }
      },
      "11": {
        start: {
          line: 22,
          column: 6
        },
        end: {
          line: 25,
          column: 20
        }
      },
      "12": {
        start: {
          line: 23,
          column: 26
        },
        end: {
          line: 23,
          column: 54
        }
      },
      "13": {
        start: {
          line: 24,
          column: 8
        },
        end: {
          line: 24,
          column: 85
        }
      },
      "14": {
        start: {
          line: 28,
          column: 4
        },
        end: {
          line: 28,
          column: 19
        }
      },
      "15": {
        start: {
          line: 32,
          column: 22
        },
        end: {
          line: 34,
          column: 23
        }
      },
      "16": {
        start: {
          line: 36,
          column: 4
        },
        end: {
          line: 43,
          column: 5
        }
      },
      "17": {
        start: {
          line: 37,
          column: 6
        },
        end: {
          line: 42,
          column: 7
        }
      },
      "18": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 38,
          column: 89
        }
      },
      "19": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 40,
          column: 60
        }
      },
      "20": {
        start: {
          line: 41,
          column: 8
        },
        end: {
          line: 41,
          column: 48
        }
      },
      "21": {
        start: {
          line: 41,
          column: 35
        },
        end: {
          line: 41,
          column: 47
        }
      },
      "22": {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 45,
          column: 64
        }
      },
      "23": {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 60,
          column: 5
        }
      },
      "24": {
        start: {
          line: 50,
          column: 23
        },
        end: {
          line: 58,
          column: 8
        }
      },
      "25": {
        start: {
          line: 59,
          column: 6
        },
        end: {
          line: 59,
          column: 49
        }
      },
      "26": {
        start: {
          line: 62,
          column: 4
        },
        end: {
          line: 74,
          column: 5
        }
      },
      "27": {
        start: {
          line: 63,
          column: 23
        },
        end: {
          line: 69,
          column: 8
        }
      },
      "28": {
        start: {
          line: 70,
          column: 19
        },
        end: {
          line: 70,
          column: 40
        }
      },
      "29": {
        start: {
          line: 71,
          column: 6
        },
        end: {
          line: 71,
          column: 60
        }
      },
      "30": {
        start: {
          line: 71,
          column: 23
        },
        end: {
          line: 71,
          column: 59
        }
      },
      "31": {
        start: {
          line: 72,
          column: 6
        },
        end: {
          line: 72,
          column: 99
        }
      },
      "32": {
        start: {
          line: 72,
          column: 52
        },
        end: {
          line: 72,
          column: 98
        }
      },
      "33": {
        start: {
          line: 73,
          column: 6
        },
        end: {
          line: 73,
          column: 54
        }
      },
      "34": {
        start: {
          line: 76,
          column: 4
        },
        end: {
          line: 83,
          column: 5
        }
      },
      "35": {
        start: {
          line: 77,
          column: 23
        },
        end: {
          line: 81,
          column: 8
        }
      },
      "36": {
        start: {
          line: 82,
          column: 6
        },
        end: {
          line: 82,
          column: 38
        }
      },
      "37": {
        start: {
          line: 85,
          column: 4
        },
        end: {
          line: 85,
          column: 58
        }
      },
      "38": {
        start: {
          line: 89,
          column: 22
        },
        end: {
          line: 101,
          column: 5
        }
      },
      "39": {
        start: {
          line: 103,
          column: 4
        },
        end: {
          line: 103,
          column: 119
        }
      },
      "40": {
        start: {
          line: 107,
          column: 4
        },
        end: {
          line: 107,
          column: 77
        }
      },
      "41": {
        start: {
          line: 111,
          column: 4
        },
        end: {
          line: 117,
          column: 6
        }
      },
      "42": {
        start: {
          line: 121,
          column: 0
        },
        end: {
          line: 121,
          column: 43
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 4,
            column: 2
          },
          end: {
            line: 4,
            column: 3
          }
        },
        loc: {
          start: {
            line: 4,
            column: 16
          },
          end: {
            line: 9,
            column: 3
          }
        },
        line: 4
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 11,
            column: 2
          },
          end: {
            line: 11,
            column: 3
          }
        },
        loc: {
          start: {
            line: 11,
            column: 22
          },
          end: {
            line: 29,
            column: 3
          }
        },
        line: 11
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 31,
            column: 2
          },
          end: {
            line: 31,
            column: 3
          }
        },
        loc: {
          start: {
            line: 31,
            column: 65
          },
          end: {
            line: 46,
            column: 3
          }
        },
        line: 31
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 48,
            column: 2
          },
          end: {
            line: 48,
            column: 3
          }
        },
        loc: {
          start: {
            line: 48,
            column: 71
          },
          end: {
            line: 86,
            column: 3
          }
        },
        line: 48
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 88,
            column: 2
          },
          end: {
            line: 88,
            column: 3
          }
        },
        loc: {
          start: {
            line: 88,
            column: 46
          },
          end: {
            line: 104,
            column: 3
          }
        },
        line: 88
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 106,
            column: 2
          },
          end: {
            line: 106,
            column: 3
          }
        },
        loc: {
          start: {
            line: 106,
            column: 16
          },
          end: {
            line: 108,
            column: 3
          }
        },
        line: 106
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 110,
            column: 2
          },
          end: {
            line: 110,
            column: 3
          }
        },
        loc: {
          start: {
            line: 110,
            column: 14
          },
          end: {
            line: 118,
            column: 3
          }
        },
        line: 110
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 5,
            column: 20
          },
          end: {
            line: 5,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 5,
            column: 20
          },
          end: {
            line: 5,
            column: 49
          }
        }, {
          start: {
            line: 5,
            column: 53
          },
          end: {
            line: 5,
            column: 61
          }
        }],
        line: 5
      },
      "1": {
        loc: {
          start: {
            line: 6,
            column: 21
          },
          end: {
            line: 6,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 6,
            column: 21
          },
          end: {
            line: 6,
            column: 46
          }
        }, {
          start: {
            line: 6,
            column: 50
          },
          end: {
            line: 6,
            column: 65
          }
        }],
        line: 6
      },
      "2": {
        loc: {
          start: {
            line: 14,
            column: 4
          },
          end: {
            line: 19,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 14,
            column: 4
          },
          end: {
            line: 19,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 14
      },
      "3": {
        loc: {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 26,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 26,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 21
      },
      "4": {
        loc: {
          start: {
            line: 32,
            column: 22
          },
          end: {
            line: 34,
            column: 23
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 33,
            column: 50
          }
        }, {
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 34,
            column: 23
          }
        }],
        line: 32
      },
      "5": {
        loc: {
          start: {
            line: 41,
            column: 8
          },
          end: {
            line: 41,
            column: 48
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 41,
            column: 8
          },
          end: {
            line: 41,
            column: 48
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 41
      },
      "6": {
        loc: {
          start: {
            line: 49,
            column: 4
          },
          end: {
            line: 60,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 49,
            column: 4
          },
          end: {
            line: 60,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 49
      },
      "7": {
        loc: {
          start: {
            line: 49,
            column: 8
          },
          end: {
            line: 49,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 49,
            column: 8
          },
          end: {
            line: 49,
            column: 29
          }
        }, {
          start: {
            line: 49,
            column: 33
          },
          end: {
            line: 49,
            column: 52
          }
        }],
        line: 49
      },
      "8": {
        loc: {
          start: {
            line: 62,
            column: 4
          },
          end: {
            line: 74,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 62,
            column: 4
          },
          end: {
            line: 74,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 62
      },
      "9": {
        loc: {
          start: {
            line: 62,
            column: 8
          },
          end: {
            line: 62,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 62,
            column: 8
          },
          end: {
            line: 62,
            column: 29
          }
        }, {
          start: {
            line: 62,
            column: 33
          },
          end: {
            line: 62,
            column: 62
          }
        }],
        line: 62
      },
      "10": {
        loc: {
          start: {
            line: 71,
            column: 6
          },
          end: {
            line: 71,
            column: 60
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 71,
            column: 6
          },
          end: {
            line: 71,
            column: 60
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 71
      },
      "11": {
        loc: {
          start: {
            line: 72,
            column: 6
          },
          end: {
            line: 72,
            column: 99
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 72,
            column: 6
          },
          end: {
            line: 72,
            column: 99
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 72
      },
      "12": {
        loc: {
          start: {
            line: 72,
            column: 10
          },
          end: {
            line: 72,
            column: 49
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 72,
            column: 10
          },
          end: {
            line: 72,
            column: 26
          }
        }, {
          start: {
            line: 72,
            column: 30
          },
          end: {
            line: 72,
            column: 49
          }
        }],
        line: 72
      },
      "13": {
        loc: {
          start: {
            line: 76,
            column: 4
          },
          end: {
            line: 83,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 76,
            column: 4
          },
          end: {
            line: 83,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 76
      },
      "14": {
        loc: {
          start: {
            line: 76,
            column: 8
          },
          end: {
            line: 76,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 76,
            column: 8
          },
          end: {
            line: 76,
            column: 32
          }
        }, {
          start: {
            line: 76,
            column: 36
          },
          end: {
            line: 76,
            column: 58
          }
        }],
        line: 76
      },
      "15": {
        loc: {
          start: {
            line: 103,
            column: 11
          },
          end: {
            line: 103,
            column: 118
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 103,
            column: 11
          },
          end: {
            line: 103,
            column: 52
          }
        }, {
          start: {
            line: 103,
            column: 56
          },
          end: {
            line: 103,
            column: 118
          }
        }],
        line: 103
      },
      "16": {
        loc: {
          start: {
            line: 107,
            column: 11
          },
          end: {
            line: 107,
            column: 76
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 107,
            column: 11
          },
          end: {
            line: 107,
            column: 47
          }
        }, {
          start: {
            line: 107,
            column: 51
          },
          end: {
            line: 107,
            column: 76
          }
        }],
        line: 107
      },
      "17": {
        loc: {
          start: {
            line: 116,
            column: 14
          },
          end: {
            line: 116,
            column: 59
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 116,
            column: 35
          },
          end: {
            line: 116,
            column: 42
          }
        }, {
          start: {
            line: 116,
            column: 45
          },
          end: {
            line: 116,
            column: 59
          }
        }],
        line: 116
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "ea5690f64ff20a8b1e7b5ea13049a92f2c15de1c"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1bspjpp54y = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1bspjpp54y();
cov_1bspjpp54y().s[0]++;
require('dotenv').config();
class AIModelOrchestrator {
  constructor() {
    /* istanbul ignore next */
    cov_1bspjpp54y().f[0]++;
    cov_1bspjpp54y().s[1]++;
    this.provider =
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[0][0]++, process.env.AI_MODEL_PROVIDER) ||
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[0][1]++, 'openai');
    /* istanbul ignore next */
    cov_1bspjpp54y().s[2]++;
    this.modelName =
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[1][0]++, process.env.AI_MODEL_NAME) ||
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[1][1]++, 'gpt-3.5-turbo');
    /* istanbul ignore next */
    cov_1bspjpp54y().s[3]++;
    this.enableFallback = process.env.ENABLE_FALLBACK === 'true';
    /* istanbul ignore next */
    cov_1bspjpp54y().s[4]++;
    this.clients = this.initializeClients();
  }
  initializeClients() {
    /* istanbul ignore next */
    cov_1bspjpp54y().f[1]++;
    const clients =
    /* istanbul ignore next */
    (cov_1bspjpp54y().s[5]++, {});
    /* istanbul ignore next */
    cov_1bspjpp54y().s[6]++;
    if (process.env.OPENAI_API_KEY) {
      /* istanbul ignore next */
      cov_1bspjpp54y().b[2][0]++;
      cov_1bspjpp54y().s[7]++;
      try {
        const OpenAI =
        /* istanbul ignore next */
        (cov_1bspjpp54y().s[8]++, require('openai'));
        /* istanbul ignore next */
        cov_1bspjpp54y().s[9]++;
        clients.openai = new OpenAI({
          apiKey: process.env.OPENAI_API_KEY
        });
      } catch (e) {}
    } else
    /* istanbul ignore next */
    {
      cov_1bspjpp54y().b[2][1]++;
    }
    cov_1bspjpp54y().s[10]++;
    if (process.env.ANTHROPIC_API_KEY) {
      /* istanbul ignore next */
      cov_1bspjpp54y().b[3][0]++;
      cov_1bspjpp54y().s[11]++;
      try {
        const Anthropic =
        /* istanbul ignore next */
        (cov_1bspjpp54y().s[12]++, require('@anthropic-ai/sdk'));
        /* istanbul ignore next */
        cov_1bspjpp54y().s[13]++;
        clients.anthropic = new Anthropic({
          apiKey: process.env.ANTHROPIC_API_KEY
        });
      } catch (e) {}
    } else
    /* istanbul ignore next */
    {
      cov_1bspjpp54y().b[3][1]++;
    }
    cov_1bspjpp54y().s[14]++;
    return clients;
  }
  async generateResponse(systemPrompt, userMessage, personality) {
    /* istanbul ignore next */
    cov_1bspjpp54y().f[2]++;
    const providers =
    /* istanbul ignore next */
    (cov_1bspjpp54y().s[15]++, this.enableFallback ?
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[4][0]++, ['google', 'openai', 'anthropic', 'local']) :
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[4][1]++, [this.provider]));
    /* istanbul ignore next */
    cov_1bspjpp54y().s[16]++;
    for (const provider of providers) {
      /* istanbul ignore next */
      cov_1bspjpp54y().s[17]++;
      try {
        /* istanbul ignore next */
        cov_1bspjpp54y().s[18]++;
        return await this.callProvider(provider, systemPrompt, userMessage, personality);
      } catch (error) {
        /* istanbul ignore next */
        cov_1bspjpp54y().s[19]++;
        console.error(`${provider} failed:`, error.message);
        /* istanbul ignore next */
        cov_1bspjpp54y().s[20]++;
        if (!this.enableFallback) {
          /* istanbul ignore next */
          cov_1bspjpp54y().b[5][0]++;
          cov_1bspjpp54y().s[21]++;
          throw error;
        } else
        /* istanbul ignore next */
        {
          cov_1bspjpp54y().b[5][1]++;
        }
      }
    }
    /* istanbul ignore next */
    cov_1bspjpp54y().s[22]++;
    return this.generateLocalResponse(personality, userMessage);
  }
  async callProvider(provider, systemPrompt, userMessage, personality) {
    /* istanbul ignore next */
    cov_1bspjpp54y().f[3]++;
    cov_1bspjpp54y().s[23]++;
    if (
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[7][0]++, provider === 'openai') &&
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[7][1]++, this.clients.openai)) {
      /* istanbul ignore next */
      cov_1bspjpp54y().b[6][0]++;
      const response =
      /* istanbul ignore next */
      (cov_1bspjpp54y().s[24]++, await this.clients.openai.chat.completions.create({
        model: this.modelName,
        messages: [{
          role: 'system',
          content: systemPrompt
        }, {
          role: 'user',
          content: userMessage
        }],
        temperature: 0.8,
        max_tokens: 500
      }));
      /* istanbul ignore next */
      cov_1bspjpp54y().s[25]++;
      return response.choices[0].message.content;
    } else
    /* istanbul ignore next */
    {
      cov_1bspjpp54y().b[6][1]++;
    }
    cov_1bspjpp54y().s[26]++;
    if (
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[9][0]++, provider === 'google') &&
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[9][1]++, process.env.GOOGLE_AI_API_KEY)) {
      /* istanbul ignore next */
      cov_1bspjpp54y().b[8][0]++;
      const response =
      /* istanbul ignore next */
      (cov_1bspjpp54y().s[27]++, await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${process.env.GOOGLE_AI_API_KEY}`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          contents: [{
            parts: [{
              text: `${systemPrompt}\n\n${userMessage}`
            }]
          }]
        })
      }));
      const data =
      /* istanbul ignore next */
      (cov_1bspjpp54y().s[28]++, await response.json());
      /* istanbul ignore next */
      cov_1bspjpp54y().s[29]++;
      if (data.error) {
        /* istanbul ignore next */
        cov_1bspjpp54y().b[10][0]++;
        cov_1bspjpp54y().s[30]++;
        throw new Error(data.error.message);
      } else
      /* istanbul ignore next */
      {
        cov_1bspjpp54y().b[10][1]++;
      }
      cov_1bspjpp54y().s[31]++;
      if (
      /* istanbul ignore next */
      (cov_1bspjpp54y().b[12][0]++, !data.candidates) ||
      /* istanbul ignore next */
      (cov_1bspjpp54y().b[12][1]++, !data.candidates[0])) {
        /* istanbul ignore next */
        cov_1bspjpp54y().b[11][0]++;
        cov_1bspjpp54y().s[32]++;
        throw new Error('No response from Google AI');
      } else
      /* istanbul ignore next */
      {
        cov_1bspjpp54y().b[11][1]++;
      }
      cov_1bspjpp54y().s[33]++;
      return data.candidates[0].content.parts[0].text;
    } else
    /* istanbul ignore next */
    {
      cov_1bspjpp54y().b[8][1]++;
    }
    cov_1bspjpp54y().s[34]++;
    if (
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[14][0]++, provider === 'anthropic') &&
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[14][1]++, this.clients.anthropic)) {
      /* istanbul ignore next */
      cov_1bspjpp54y().b[13][0]++;
      const response =
      /* istanbul ignore next */
      (cov_1bspjpp54y().s[35]++, await this.clients.anthropic.messages.create({
        model: 'claude-3-sonnet-20240229',
        max_tokens: 500,
        messages: [{
          role: 'user',
          content: `${systemPrompt}\n\n${userMessage}`
        }]
      }));
      /* istanbul ignore next */
      cov_1bspjpp54y().s[36]++;
      return response.content[0].text;
    } else
    /* istanbul ignore next */
    {
      cov_1bspjpp54y().b[13][1]++;
    }
    cov_1bspjpp54y().s[37]++;
    throw new Error(`Provider ${provider} not available`);
  }
  generateLocalResponse(personality, message) {
    /* istanbul ignore next */
    cov_1bspjpp54y().f[4]++;
    const responses =
    /* istanbul ignore next */
    (cov_1bspjpp54y().s[38]++, {
      elara: `As your teacher, I understand you're asking about: ${message}. Let me guide you with patience and care.`,
      themba: `OMG that's such a great question! ${message} - Let's figure this out together! ðŸš€`,
      sankofa: `The ancestors teach us wisdom about: ${message}. Let me share what I know.`,
      naledi: `From a strategic perspective on ${message}, here's my professional advice.`,
      jabari: `I've analyzed the security aspects of ${message}. Your safety is my priority. ðŸ›¡ï¸`,
      amara: `Let's approach ${message} with grace and understanding.`,
      kofi: `The financial implications of ${message} require careful analysis.`,
      zola: `The data shows interesting patterns regarding ${message}.`,
      abeni: `Let me weave a story about ${message} for you! âœ¨`,
      thembo: `As your uncle, I've learned about ${message} through experience.`,
      nexus: `The family speaks as one on ${message}: collective wisdom guides us.`
    });
    /* istanbul ignore next */
    cov_1bspjpp54y().s[39]++;
    return /* istanbul ignore next */(cov_1bspjpp54y().b[15][0]++, responses[personality.name.toLowerCase()]) ||
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[15][1]++, `I understand your question about ${message}. How can I help?`);
  }
  isAvailable() {
    /* istanbul ignore next */
    cov_1bspjpp54y().f[5]++;
    cov_1bspjpp54y().s[40]++;
    return /* istanbul ignore next */(cov_1bspjpp54y().b[16][0]++, Object.keys(this.clients).length > 0) ||
    /* istanbul ignore next */
    (cov_1bspjpp54y().b[16][1]++, this.provider === 'local');
  }
  getStatus() {
    /* istanbul ignore next */
    cov_1bspjpp54y().f[6]++;
    cov_1bspjpp54y().s[41]++;
    return {
      provider: this.provider,
      model: this.modelName,
      availableProviders: Object.keys(this.clients),
      fallbackEnabled: this.enableFallback,
      status: this.isAvailable() ?
      /* istanbul ignore next */
      (cov_1bspjpp54y().b[17][0]++, 'ready') :
      /* istanbul ignore next */
      (cov_1bspjpp54y().b[17][1]++, 'no-providers')
    };
  }
}
/* istanbul ignore next */
cov_1bspjpp54y().s[42]++;
module.exports = new AIModelOrchestrator();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWJzcGpwcDU0eSIsImFjdHVhbENvdmVyYWdlIiwicyIsInJlcXVpcmUiLCJjb25maWciLCJBSU1vZGVsT3JjaGVzdHJhdG9yIiwiY29uc3RydWN0b3IiLCJmIiwicHJvdmlkZXIiLCJiIiwicHJvY2VzcyIsImVudiIsIkFJX01PREVMX1BST1ZJREVSIiwibW9kZWxOYW1lIiwiQUlfTU9ERUxfTkFNRSIsImVuYWJsZUZhbGxiYWNrIiwiRU5BQkxFX0ZBTExCQUNLIiwiY2xpZW50cyIsImluaXRpYWxpemVDbGllbnRzIiwiT1BFTkFJX0FQSV9LRVkiLCJPcGVuQUkiLCJvcGVuYWkiLCJhcGlLZXkiLCJlIiwiQU5USFJPUElDX0FQSV9LRVkiLCJBbnRocm9waWMiLCJhbnRocm9waWMiLCJnZW5lcmF0ZVJlc3BvbnNlIiwic3lzdGVtUHJvbXB0IiwidXNlck1lc3NhZ2UiLCJwZXJzb25hbGl0eSIsInByb3ZpZGVycyIsImNhbGxQcm92aWRlciIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJnZW5lcmF0ZUxvY2FsUmVzcG9uc2UiLCJyZXNwb25zZSIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIm1vZGVsIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInRlbXBlcmF0dXJlIiwibWF4X3Rva2VucyIsImNob2ljZXMiLCJHT09HTEVfQUlfQVBJX0tFWSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY29udGVudHMiLCJwYXJ0cyIsInRleHQiLCJkYXRhIiwianNvbiIsIkVycm9yIiwiY2FuZGlkYXRlcyIsInJlc3BvbnNlcyIsImVsYXJhIiwidGhlbWJhIiwic2Fua29mYSIsIm5hbGVkaSIsImphYmFyaSIsImFtYXJhIiwia29maSIsInpvbGEiLCJhYmVuaSIsInRoZW1ibyIsIm5leHVzIiwibmFtZSIsInRvTG93ZXJDYXNlIiwiaXNBdmFpbGFibGUiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiZ2V0U3RhdHVzIiwiYXZhaWxhYmxlUHJvdmlkZXJzIiwiZmFsbGJhY2tFbmFibGVkIiwic3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImFpLW1vZGVsLW9yY2hlc3RyYXRvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcblxuY2xhc3MgQUlNb2RlbE9yY2hlc3RyYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucHJvdmlkZXIgPSBwcm9jZXNzLmVudi5BSV9NT0RFTF9QUk9WSURFUiB8fCAnb3BlbmFpJztcbiAgICB0aGlzLm1vZGVsTmFtZSA9IHByb2Nlc3MuZW52LkFJX01PREVMX05BTUUgfHwgJ2dwdC0zLjUtdHVyYm8nO1xuICAgIHRoaXMuZW5hYmxlRmFsbGJhY2sgPSBwcm9jZXNzLmVudi5FTkFCTEVfRkFMTEJBQ0sgPT09ICd0cnVlJztcbiAgICB0aGlzLmNsaWVudHMgPSB0aGlzLmluaXRpYWxpemVDbGllbnRzKCk7XG4gIH1cblxuICBpbml0aWFsaXplQ2xpZW50cygpIHtcbiAgICBjb25zdCBjbGllbnRzID0ge307XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IE9wZW5BSSA9IHJlcXVpcmUoJ29wZW5haScpO1xuICAgICAgICBjbGllbnRzLm9wZW5haSA9IG5ldyBPcGVuQUkoeyBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZIH0pO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuQU5USFJPUElDX0FQSV9LRVkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IEFudGhyb3BpYyA9IHJlcXVpcmUoJ0BhbnRocm9waWMtYWkvc2RrJyk7XG4gICAgICAgIGNsaWVudHMuYW50aHJvcGljID0gbmV3IEFudGhyb3BpYyh7IGFwaUtleTogcHJvY2Vzcy5lbnYuQU5USFJPUElDX0FQSV9LRVkgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cblxuICAgIHJldHVybiBjbGllbnRzO1xuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVSZXNwb25zZShzeXN0ZW1Qcm9tcHQsIHVzZXJNZXNzYWdlLCBwZXJzb25hbGl0eSkge1xuICAgIGNvbnN0IHByb3ZpZGVycyA9IHRoaXMuZW5hYmxlRmFsbGJhY2sgXG4gICAgICA/IFsnZ29vZ2xlJywgJ29wZW5haScsICdhbnRocm9waWMnLCAnbG9jYWwnXVxuICAgICAgOiBbdGhpcy5wcm92aWRlcl07XG5cbiAgICBmb3IgKGNvbnN0IHByb3ZpZGVyIG9mIHByb3ZpZGVycykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY2FsbFByb3ZpZGVyKHByb3ZpZGVyLCBzeXN0ZW1Qcm9tcHQsIHVzZXJNZXNzYWdlLCBwZXJzb25hbGl0eSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGAke3Byb3ZpZGVyfSBmYWlsZWQ6YCwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVGYWxsYmFjaykge3Rocm93IGVycm9yO31cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUxvY2FsUmVzcG9uc2UocGVyc29uYWxpdHksIHVzZXJNZXNzYWdlKTtcbiAgfVxuXG4gIGFzeW5jIGNhbGxQcm92aWRlcihwcm92aWRlciwgc3lzdGVtUHJvbXB0LCB1c2VyTWVzc2FnZSwgcGVyc29uYWxpdHkpIHtcbiAgICBpZiAocHJvdmlkZXIgPT09ICdvcGVuYWknICYmIHRoaXMuY2xpZW50cy5vcGVuYWkpIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnRzLm9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgICB7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiBzeXN0ZW1Qcm9tcHQgfSxcbiAgICAgICAgICB7IHJvbGU6ICd1c2VyJywgY29udGVudDogdXNlck1lc3NhZ2UgfVxuICAgICAgICBdLFxuICAgICAgICB0ZW1wZXJhdHVyZTogMC44LFxuICAgICAgICBtYXhfdG9rZW5zOiA1MDBcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50O1xuICAgIH1cblxuICAgIGlmIChwcm92aWRlciA9PT0gJ2dvb2dsZScgJiYgcHJvY2Vzcy5lbnYuR09PR0xFX0FJX0FQSV9LRVkpIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tL3YxYmV0YS9tb2RlbHMvZ2VtaW5pLTIuNS1mbGFzaDpnZW5lcmF0ZUNvbnRlbnQ/a2V5PSR7cHJvY2Vzcy5lbnYuR09PR0xFX0FJX0FQSV9LRVl9YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBjb250ZW50czogW3sgcGFydHM6IFt7IHRleHQ6IGAke3N5c3RlbVByb21wdH1cXG5cXG4ke3VzZXJNZXNzYWdlfWAgfV0gfV1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChkYXRhLmVycm9yKSB7dGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IubWVzc2FnZSk7fVxuICAgICAgaWYgKCFkYXRhLmNhbmRpZGF0ZXMgfHwgIWRhdGEuY2FuZGlkYXRlc1swXSkge3Rocm93IG5ldyBFcnJvcignTm8gcmVzcG9uc2UgZnJvbSBHb29nbGUgQUknKTt9XG4gICAgICByZXR1cm4gZGF0YS5jYW5kaWRhdGVzWzBdLmNvbnRlbnQucGFydHNbMF0udGV4dDtcbiAgICB9XG5cbiAgICBpZiAocHJvdmlkZXIgPT09ICdhbnRocm9waWMnICYmIHRoaXMuY2xpZW50cy5hbnRocm9waWMpIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnRzLmFudGhyb3BpYy5tZXNzYWdlcy5jcmVhdGUoe1xuICAgICAgICBtb2RlbDogJ2NsYXVkZS0zLXNvbm5ldC0yMDI0MDIyOScsXG4gICAgICAgIG1heF90b2tlbnM6IDUwMCxcbiAgICAgICAgbWVzc2FnZXM6IFt7IHJvbGU6ICd1c2VyJywgY29udGVudDogYCR7c3lzdGVtUHJvbXB0fVxcblxcbiR7dXNlck1lc3NhZ2V9YCB9XVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuY29udGVudFswXS50ZXh0O1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihgUHJvdmlkZXIgJHtwcm92aWRlcn0gbm90IGF2YWlsYWJsZWApO1xuICB9XG5cbiAgZ2VuZXJhdGVMb2NhbFJlc3BvbnNlKHBlcnNvbmFsaXR5LCBtZXNzYWdlKSB7XG4gICAgY29uc3QgcmVzcG9uc2VzID0ge1xuICAgICAgZWxhcmE6IGBBcyB5b3VyIHRlYWNoZXIsIEkgdW5kZXJzdGFuZCB5b3UncmUgYXNraW5nIGFib3V0OiAke21lc3NhZ2V9LiBMZXQgbWUgZ3VpZGUgeW91IHdpdGggcGF0aWVuY2UgYW5kIGNhcmUuYCxcbiAgICAgIHRoZW1iYTogYE9NRyB0aGF0J3Mgc3VjaCBhIGdyZWF0IHF1ZXN0aW9uISAke21lc3NhZ2V9IC0gTGV0J3MgZmlndXJlIHRoaXMgb3V0IHRvZ2V0aGVyISDwn5qAYCxcbiAgICAgIHNhbmtvZmE6IGBUaGUgYW5jZXN0b3JzIHRlYWNoIHVzIHdpc2RvbSBhYm91dDogJHttZXNzYWdlfS4gTGV0IG1lIHNoYXJlIHdoYXQgSSBrbm93LmAsXG4gICAgICBuYWxlZGk6IGBGcm9tIGEgc3RyYXRlZ2ljIHBlcnNwZWN0aXZlIG9uICR7bWVzc2FnZX0sIGhlcmUncyBteSBwcm9mZXNzaW9uYWwgYWR2aWNlLmAsXG4gICAgICBqYWJhcmk6IGBJJ3ZlIGFuYWx5emVkIHRoZSBzZWN1cml0eSBhc3BlY3RzIG9mICR7bWVzc2FnZX0uIFlvdXIgc2FmZXR5IGlzIG15IHByaW9yaXR5LiDwn5uh77iPYCxcbiAgICAgIGFtYXJhOiBgTGV0J3MgYXBwcm9hY2ggJHttZXNzYWdlfSB3aXRoIGdyYWNlIGFuZCB1bmRlcnN0YW5kaW5nLmAsXG4gICAgICBrb2ZpOiBgVGhlIGZpbmFuY2lhbCBpbXBsaWNhdGlvbnMgb2YgJHttZXNzYWdlfSByZXF1aXJlIGNhcmVmdWwgYW5hbHlzaXMuYCxcbiAgICAgIHpvbGE6IGBUaGUgZGF0YSBzaG93cyBpbnRlcmVzdGluZyBwYXR0ZXJucyByZWdhcmRpbmcgJHttZXNzYWdlfS5gLFxuICAgICAgYWJlbmk6IGBMZXQgbWUgd2VhdmUgYSBzdG9yeSBhYm91dCAke21lc3NhZ2V9IGZvciB5b3UhIOKcqGAsXG4gICAgICB0aGVtYm86IGBBcyB5b3VyIHVuY2xlLCBJJ3ZlIGxlYXJuZWQgYWJvdXQgJHttZXNzYWdlfSB0aHJvdWdoIGV4cGVyaWVuY2UuYCxcbiAgICAgIG5leHVzOiBgVGhlIGZhbWlseSBzcGVha3MgYXMgb25lIG9uICR7bWVzc2FnZX06IGNvbGxlY3RpdmUgd2lzZG9tIGd1aWRlcyB1cy5gXG4gICAgfTtcblxuICAgIHJldHVybiByZXNwb25zZXNbcGVyc29uYWxpdHkubmFtZS50b0xvd2VyQ2FzZSgpXSB8fCBgSSB1bmRlcnN0YW5kIHlvdXIgcXVlc3Rpb24gYWJvdXQgJHttZXNzYWdlfS4gSG93IGNhbiBJIGhlbHA/YDtcbiAgfVxuXG4gIGlzQXZhaWxhYmxlKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmNsaWVudHMpLmxlbmd0aCA+IDAgfHwgdGhpcy5wcm92aWRlciA9PT0gJ2xvY2FsJztcbiAgfVxuXG4gIGdldFN0YXR1cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvdmlkZXI6IHRoaXMucHJvdmlkZXIsXG4gICAgICBtb2RlbDogdGhpcy5tb2RlbE5hbWUsXG4gICAgICBhdmFpbGFibGVQcm92aWRlcnM6IE9iamVjdC5rZXlzKHRoaXMuY2xpZW50cyksXG4gICAgICBmYWxsYmFja0VuYWJsZWQ6IHRoaXMuZW5hYmxlRmFsbGJhY2ssXG4gICAgICBzdGF0dXM6IHRoaXMuaXNBdmFpbGFibGUoKSA/ICdyZWFkeScgOiAnbm8tcHJvdmlkZXJzJ1xuICAgIH07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgQUlNb2RlbE9yY2hlc3RyYXRvcigpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWVZO0lBQUFBLGNBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGNBQUE7QUFBQUEsY0FBQSxHQUFBRSxDQUFBO0FBZlpDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFMUIsTUFBTUMsbUJBQW1CLENBQUM7RUFDeEJD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