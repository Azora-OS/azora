{"version":3,"names":["cov_qsc4vxqjz","actualCoverage","express","s","require","cors","helmet","compression","rateLimit","jwt","app","use","origin","b","process","env","ALLOWED_ORIGINS","split","credentials","optionsSuccessStatus","validateInput","req","res","next","f","body","Object","keys","forEach","key","replace","json","limit","console","log","projects","Map","applications","get","status","service","ubuntu","size","timestamp","Date","toISOString","post","title","description","skills","budget","ownerId","project","id","now","applicants","createdAt","set","success","message","data","error","query","projectList","Array","from","values","filter","p","some","skill","includes","total","length","params","userId","proposal","rate","application","projectId","appliedAt","push","PORT","listen","module","exports"],"sources":["server.js"],"sourcesContent":["const express = require('express');\nconst cors = require('cors');\nconst helmet = require('helmet');\nconst compression = require('compression');\nconst rateLimit = require('express-rate-limit');\nconst jwt = require('jsonwebtoken');\n\nconst app = express();\n\napp.use(helmet());\napp.use(cors({\n  origin: process.env.ALLOWED_ORIGINS?.split(',') || ['http://localhost:3000'],\n  credentials: true,\n  optionsSuccessStatus: 200\n}));\napp.use(compression());\n\n// Input validation middleware\nconst validateInput = (req, res, next) => {\n  if (req.body) {\n    Object.keys(req.body).forEach(key => {\n      if (typeof req.body[key] === 'string') {\n        req.body[key] = req.body[key].replace(/<script[^>]*>.*?<\\/script>/gi, '');\n        req.body[key] = req.body[key].replace(/javascript:/gi, '');\n      }\n    });\n  }\n  next();\n};\napp.use(validateInput);\n\napp.use(express.json({ limit: '10mb' }));\n\n// ðŸš€ AZORA PROJECT MARKETPLACE - COLLABORATIVE PROJECTS\nconsole.log('ðŸŒŸ Azora Project Marketplace - Initializing...');\n\nconst projects = new Map();\nconst applications = new Map();\n\n// ðŸŽ¯ API ROUTES\napp.get('/api/health', (req, res) => {\n  res.json({\n    status: 'healthy',\n    service: 'project-marketplace',\n    ubuntu: 'I build because we create together',\n    projects: projects.size,\n    timestamp: new Date().toISOString()\n  });\n});\n\n// Create project\napp.post('/api/projects', (req, res) => {\n  try {\n    const { title, description, skills, budget, ownerId } = req.body;\n    \n    const project = {\n      id: `proj_${Date.now()}`,\n      title,\n      description,\n      skills: skills || [],\n      budget: budget || 0,\n      ownerId,\n      status: 'OPEN',\n      applicants: [],\n      createdAt: new Date().toISOString()\n    };\n    \n    projects.set(project.id, project);\n    \n    res.status(201).json({\n      success: true,\n      message: 'Project created successfully',\n      data: project\n    });\n  } catch (error) {\n    res.status(500).json({ error: 'Failed to create project' });\n  }\n});\n\n// Get projects\napp.get('/api/projects', (req, res) => {\n  try {\n    const { skills, budget } = req.query;\n    let projectList = Array.from(projects.values());\n    \n    if (skills) {\n      projectList = projectList.filter(p => \n        p.skills.some(skill => skill.includes(skills))\n      );\n    }\n    \n    res.json({\n      success: true,\n      data: projectList,\n      total: projectList.length\n    });\n  } catch (error) {\n    res.status(500).json({ error: 'Failed to fetch projects' });\n  }\n});\n\n// Apply to project\napp.post('/api/projects/:id/apply', (req, res) => {\n  try {\n    const { id } = req.params;\n    const { userId, proposal, rate } = req.body;\n    \n    const project = projects.get(id);\n    if (!project) {\n      return res.status(404).json({ error: 'Project not found' });\n    }\n    \n    const application = {\n      id: `app_${Date.now()}`,\n      projectId: id,\n      userId,\n      proposal,\n      rate,\n      status: 'PENDING',\n      appliedAt: new Date().toISOString()\n    };\n    \n    applications.set(application.id, application);\n    project.applicants.push(application.id);\n    projects.set(id, project);\n    \n    res.status(201).json({\n      success: true,\n      message: 'Application submitted successfully',\n      data: application\n    });\n  } catch (error) {\n    res.status(500).json({ error: 'Failed to apply to project' });\n  }\n});\n\nconst PORT = process.env.PORT || 3029;\napp.listen(PORT, () => {\n  console.log('ðŸŒŸ Azora Project Marketplace running on port', PORT);\n});\n\nmodule.exports = app;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAfZ,MAAME,OAAO;AAAA;AAAA,CAAAF,aAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,IAAI;AAAA;AAAA,CAAAL,aAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAME,MAAM;AAAA;AAAA,CAAAN,aAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAMG,WAAW;AAAA;AAAA,CAAAP,aAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,aAAa,CAAC;AAC1C,MAAMI,SAAS;AAAA;AAAA,CAAAR,aAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,oBAAoB,CAAC;AAC/C,MAAMK,GAAG;AAAA;AAAA,CAAAT,aAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,cAAc,CAAC;AAEnC,MAAMM,GAAG;AAAA;AAAA,CAAAV,aAAA,GAAAG,CAAA,OAAGD,OAAO,CAAC,CAAC;AAAC;AAAAF,aAAA,GAAAG,CAAA;AAEtBO,GAAG,CAACC,GAAG,CAACL,MAAM,CAAC,CAAC,CAAC;AAAC;AAAAN,aAAA,GAAAG,CAAA;AAClBO,GAAG,CAACC,GAAG,CAACN,IAAI,CAAC;EACXO,MAAM;EAAE;EAAA,CAAAZ,aAAA,GAAAa,CAAA,UAAAC,OAAO,CAACC,GAAG,CAACC,eAAe,EAAEC,KAAK,CAAC,GAAG,CAAC;EAAA;EAAA,CAAAjB,aAAA,GAAAa,CAAA,UAAI,CAAC,uBAAuB,CAAC;EAC5EK,WAAW,EAAE,IAAI;EACjBC,oBAAoB,EAAE;AACxB,CAAC,CAAC,CAAC;AAAC;AAAAnB,aAAA,GAAAG,CAAA;AACJO,GAAG,CAACC,GAAG,CAACJ,WAAW,CAAC,CAAC,CAAC;;AAEtB;AAAA;AAAAP,aAAA,GAAAG,CAAA;AACA,MAAMiB,aAAa,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAAA;EAAAvB,aAAA,GAAAwB,CAAA;EAAAxB,aAAA,GAAAG,CAAA;EACxC,IAAIkB,GAAG,CAACI,IAAI,EAAE;IAAA;IAAAzB,aAAA,GAAAa,CAAA;IAAAb,aAAA,GAAAG,CAAA;IACZuB,MAAM,CAACC,IAAI,CAACN,GAAG,CAACI,IAAI,CAAC,CAACG,OAAO,CAACC,GAAG,IAAI;MAAA;MAAA7B,aAAA,GAAAwB,CAAA;MAAAxB,aAAA,GAAAG,CAAA;MACnC,IAAI,OAAOkB,GAAG,CAACI,IAAI,CAACI,GAAG,CAAC,KAAK,QAAQ,EAAE;QAAA;QAAA7B,aAAA,GAAAa,CAAA;QAAAb,aAAA,GAAAG,CAAA;QACrCkB,GAAG,CAACI,IAAI,CAACI,GAAG,CAAC,GAAGR,GAAG,CAACI,IAAI,CAACI,GAAG,CAAC,CAACC,OAAO,CAAC,8BAA8B,EAAE,EAAE,CAAC;QAAC;QAAA9B,aAAA,GAAAG,CAAA;QAC1EkB,GAAG,CAACI,IAAI,CAACI,GAAG,CAAC,GAAGR,GAAG,CAACI,IAAI,CAACI,GAAG,CAAC,CAACC,OAAO,CAAC,eAAe,EAAE,EAAE,CAAC;MAC5D,CAAC;MAAA;MAAA;QAAA9B,aAAA,GAAAa,CAAA;MAAA;IACH,CAAC,CAAC;EACJ,CAAC;EAAA;EAAA;IAAAb,aAAA,GAAAa,CAAA;EAAA;EAAAb,aAAA,GAAAG,CAAA;EACDoB,IAAI,CAAC,CAAC;AACR,CAAC;AAAC;AAAAvB,aAAA,GAAAG,CAAA;AACFO,GAAG,CAACC,GAAG,CAACS,aAAa,CAAC;AAAC;AAAApB,aAAA,GAAAG,CAAA;AAEvBO,GAAG,CAACC,GAAG,CAACT,OAAO,CAAC6B,IAAI,CAAC;EAAEC,KAAK,EAAE;AAAO,CAAC,CAAC,CAAC;;AAExC;AAAA;AAAAhC,aAAA,GAAAG,CAAA;AACA8B,OAAO,CAACC,GAAG,CAAC,gDAAgD,CAAC;AAE7D,MAAMC,QAAQ;AAAA;AAAA,CAAAnC,aAAA,GAAAG,CAAA,QAAG,IAAIiC,GAAG,CAAC,CAAC;AAC1B,MAAMC,YAAY;AAAA;AAAA,CAAArC,aAAA,GAAAG,CAAA,QAAG,IAAIiC,GAAG,CAAC,CAAC;;AAE9B;AAAA;AAAApC,aAAA,GAAAG,CAAA;AACAO,GAAG,CAAC4B,GAAG,CAAC,aAAa,EAAE,CAACjB,GAAG,EAAEC,GAAG,KAAK;EAAA;EAAAtB,aAAA,GAAAwB,CAAA;EAAAxB,aAAA,GAAAG,CAAA;EACnCmB,GAAG,CAACS,IAAI,CAAC;IACPQ,MAAM,EAAE,SAAS;IACjBC,OAAO,EAAE,qBAAqB;IAC9BC,MAAM,EAAE,oCAAoC;IAC5CN,QAAQ,EAAEA,QAAQ,CAACO,IAAI;IACvBC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;EACpC,CAAC,CAAC;AACJ,CAAC,CAAC;;AAEF;AAAA;AAAA7C,aAAA,GAAAG,CAAA;AACAO,GAAG,CAACoC,IAAI,CAAC,eAAe,EAAE,CAACzB,GAAG,EAAEC,GAAG,KAAK;EAAA;EAAAtB,aAAA,GAAAwB,CAAA;EAAAxB,aAAA,GAAAG,CAAA;EACtC,IAAI;IACF,MAAM;MAAE4C,KAAK;MAAEC,WAAW;MAAEC,MAAM;MAAEC,MAAM;MAAEC;IAAQ,CAAC;IAAA;IAAA,CAAAnD,aAAA,GAAAG,CAAA,QAAGkB,GAAG,CAACI,IAAI;IAEhE,MAAM2B,OAAO;IAAA;IAAA,CAAApD,aAAA,GAAAG,CAAA,QAAG;MACdkD,EAAE,EAAE,QAAQT,IAAI,CAACU,GAAG,CAAC,CAAC,EAAE;MACxBP,KAAK;MACLC,WAAW;MACXC,MAAM;MAAE;MAAA,CAAAjD,aAAA,GAAAa,CAAA,UAAAoC,MAAM;MAAA;MAAA,CAAAjD,aAAA,GAAAa,CAAA,UAAI,EAAE;MACpBqC,MAAM;MAAE;MAAA,CAAAlD,aAAA,GAAAa,CAAA,UAAAqC,MAAM;MAAA;MAAA,CAAAlD,aAAA,GAAAa,CAAA,UAAI,CAAC;MACnBsC,OAAO;MACPZ,MAAM,EAAE,MAAM;MACdgB,UAAU,EAAE,EAAE;MACdC,SAAS,EAAE,IAAIZ,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC;IAAC;IAAA7C,aAAA,GAAAG,CAAA;IAEFgC,QAAQ,CAACsB,GAAG,CAACL,OAAO,CAACC,EAAE,EAAED,OAAO,CAAC;IAAC;IAAApD,aAAA,GAAAG,CAAA;IAElCmB,GAAG,CAACiB,MAAM,CAAC,GAAG,CAAC,CAACR,IAAI,CAAC;MACnB2B,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,8BAA8B;MACvCC,IAAI,EAAER;IACR,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOS,KAAK,EAAE;IAAA;IAAA7D,aAAA,GAAAG,CAAA;IACdmB,GAAG,CAACiB,MAAM,CAAC,GAAG,CAAC,CAACR,IAAI,CAAC;MAAE8B,KAAK,EAAE;IAA2B,CAAC,CAAC;EAC7D;AACF,CAAC,CAAC;;AAEF;AAAA;AAAA7D,aAAA,GAAAG,CAAA;AACAO,GAAG,CAAC4B,GAAG,CAAC,eAAe,EAAE,CAACjB,GAAG,EAAEC,GAAG,KAAK;EAAA;EAAAtB,aAAA,GAAAwB,CAAA;EAAAxB,aAAA,GAAAG,CAAA;EACrC,IAAI;IACF,MAAM;MAAE8C,MAAM;MAAEC;IAAO,CAAC;IAAA;IAAA,CAAAlD,aAAA,GAAAG,CAAA,QAAGkB,GAAG,CAACyC,KAAK;IACpC,IAAIC,WAAW;IAAA;IAAA,CAAA/D,aAAA,GAAAG,CAAA,QAAG6D,KAAK,CAACC,IAAI,CAAC9B,QAAQ,CAAC+B,MAAM,CAAC,CAAC,CAAC;IAAC;IAAAlE,aAAA,GAAAG,CAAA;IAEhD,IAAI8C,MAAM,EAAE;MAAA;MAAAjD,aAAA,GAAAa,CAAA;MAAAb,aAAA,GAAAG,CAAA;MACV4D,WAAW,GAAGA,WAAW,CAACI,MAAM,CAACC,CAAC,IAChC;QAAA;QAAApE,aAAA,GAAAwB,CAAA;QAAAxB,aAAA,GAAAG,CAAA;QAAA,OAAAiE,CAAC,CAACnB,MAAM,CAACoB,IAAI,CAACC,KAAK,IAAI;UAAA;UAAAtE,aAAA,GAAAwB,CAAA;UAAAxB,aAAA,GAAAG,CAAA;UAAA,OAAAmE,KAAK,CAACC,QAAQ,CAACtB,MAAM,CAAC;QAAD,CAAC,CAAC;MAAD,CAC/C,CAAC;IACH,CAAC;IAAA;IAAA;MAAAjD,aAAA,GAAAa,CAAA;IAAA;IAAAb,aAAA,GAAAG,CAAA;IAEDmB,GAAG,CAACS,IAAI,CAAC;MACP2B,OAAO,EAAE,IAAI;MACbE,IAAI,EAAEG,WAAW;MACjBS,KAAK,EAAET,WAAW,CAACU;IACrB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOZ,KAAK,EAAE;IAAA;IAAA7D,aAAA,GAAAG,CAAA;IACdmB,GAAG,CAACiB,MAAM,CAAC,GAAG,CAAC,CAACR,IAAI,CAAC;MAAE8B,KAAK,EAAE;IAA2B,CAAC,CAAC;EAC7D;AACF,CAAC,CAAC;;AAEF;AAAA;AAAA7D,aAAA,GAAAG,CAAA;AACAO,GAAG,CAACoC,IAAI,CAAC,yBAAyB,EAAE,CAACzB,GAAG,EAAEC,GAAG,KAAK;EAAA;EAAAtB,aAAA,GAAAwB,CAAA;EAAAxB,aAAA,GAAAG,CAAA;EAChD,IAAI;IACF,MAAM;MAAEkD;IAAG,CAAC;IAAA;IAAA,CAAArD,aAAA,GAAAG,CAAA,QAAGkB,GAAG,CAACqD,MAAM;IACzB,MAAM;MAAEC,MAAM;MAAEC,QAAQ;MAAEC;IAAK,CAAC;IAAA;IAAA,CAAA7E,aAAA,GAAAG,CAAA,QAAGkB,GAAG,CAACI,IAAI;IAE3C,MAAM2B,OAAO;IAAA;IAAA,CAAApD,aAAA,GAAAG,CAAA,QAAGgC,QAAQ,CAACG,GAAG,CAACe,EAAE,CAAC;IAAC;IAAArD,aAAA,GAAAG,CAAA;IACjC,IAAI,CAACiD,OAAO,EAAE;MAAA;MAAApD,aAAA,GAAAa,CAAA;MAAAb,aAAA,GAAAG,CAAA;MACZ,OAAOmB,GAAG,CAACiB,MAAM,CAAC,GAAG,CAAC,CAACR,IAAI,CAAC;QAAE8B,KAAK,EAAE;MAAoB,CAAC,CAAC;IAC7D,CAAC;IAAA;IAAA;MAAA7D,aAAA,GAAAa,CAAA;IAAA;IAED,MAAMiE,WAAW;IAAA;IAAA,CAAA9E,aAAA,GAAAG,CAAA,QAAG;MAClBkD,EAAE,EAAE,OAAOT,IAAI,CAACU,GAAG,CAAC,CAAC,EAAE;MACvByB,SAAS,EAAE1B,EAAE;MACbsB,MAAM;MACNC,QAAQ;MACRC,IAAI;MACJtC,MAAM,EAAE,SAAS;MACjByC,SAAS,EAAE,IAAIpC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC;IAAC;IAAA7C,aAAA,GAAAG,CAAA;IAEFkC,YAAY,CAACoB,GAAG,CAACqB,WAAW,CAACzB,EAAE,EAAEyB,WAAW,CAAC;IAAC;IAAA9E,aAAA,GAAAG,CAAA;IAC9CiD,OAAO,CAACG,UAAU,CAAC0B,IAAI,CAACH,WAAW,CAACzB,EAAE,CAAC;IAAC;IAAArD,aAAA,GAAAG,CAAA;IACxCgC,QAAQ,CAACsB,GAAG,CAACJ,EAAE,EAAED,OAAO,CAAC;IAAC;IAAApD,aAAA,GAAAG,CAAA;IAE1BmB,GAAG,CAACiB,MAAM,CAAC,GAAG,CAAC,CAACR,IAAI,CAAC;MACnB2B,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,oCAAoC;MAC7CC,IAAI,EAAEkB;IACR,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOjB,KAAK,EAAE;IAAA;IAAA7D,aAAA,GAAAG,CAAA;IACdmB,GAAG,CAACiB,MAAM,CAAC,GAAG,CAAC,CAACR,IAAI,CAAC;MAAE8B,KAAK,EAAE;IAA6B,CAAC,CAAC;EAC/D;AACF,CAAC,CAAC;AAEF,MAAMqB,IAAI;AAAA;AAAA,CAAAlF,aAAA,GAAAG,CAAA;AAAG;AAAA,CAAAH,aAAA,GAAAa,CAAA,UAAAC,OAAO,CAACC,GAAG,CAACmE,IAAI;AAAA;AAAA,CAAAlF,aAAA,GAAAa,CAAA,UAAI,IAAI;AAAC;AAAAb,aAAA,GAAAG,CAAA;AACtCO,GAAG,CAACyE,MAAM,CAACD,IAAI,EAAE,MAAM;EAAA;EAAAlF,aAAA,GAAAwB,CAAA;EAAAxB,aAAA,GAAAG,CAAA;EACrB8B,OAAO,CAACC,GAAG,CAAC,8CAA8C,EAAEgD,IAAI,CAAC;AACnE,CAAC,CAAC;AAAC;AAAAlF,aAAA,GAAAG,CAAA;AAEHiF,MAAM,CAACC,OAAO,GAAG3E,GAAG","ignoreList":[]}