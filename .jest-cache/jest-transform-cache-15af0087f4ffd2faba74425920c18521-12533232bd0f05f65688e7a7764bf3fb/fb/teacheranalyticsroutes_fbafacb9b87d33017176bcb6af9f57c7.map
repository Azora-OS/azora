{"version":3,"names":["cov_vqvuie8iw","actualCoverage","Router","teacherAnalyticsService","logger","router","s","get","req","res","f","courseId","params","analytics","getCourseAnalytics","json","success","data","error","status","students","getStudentAnalytics","instructorId","report","getRevenueReport"],"sources":["teacher-analytics.routes.ts"],"sourcesContent":["import { Router, Request, Response } from 'express';\nimport { teacherAnalyticsService } from '../services/teacher-analytics.service';\nimport { logger } from '../utils/logger';\n\nconst router = Router();\n\nrouter.get('/teacher/analytics/:courseId', async (req: Request, res: Response) => {\n  try {\n    const { courseId } = req.params;\n    const analytics = await teacherAnalyticsService.getCourseAnalytics(courseId);\n    res.json({ success: true, data: analytics });\n  } catch (error) {\n    logger.error('Error fetching course analytics', { error });\n    res.status(500).json({ success: false, error: 'Failed to fetch analytics' });\n  }\n});\n\nrouter.get('/teacher/analytics/:courseId/students', async (req: Request, res: Response) => {\n  try {\n    const { courseId } = req.params;\n    const students = await teacherAnalyticsService.getStudentAnalytics(courseId);\n    res.json({ success: true, data: students });\n  } catch (error) {\n    logger.error('Error fetching student analytics', { error });\n    res.status(500).json({ success: false, error: 'Failed to fetch student analytics' });\n  }\n});\n\nrouter.get('/teacher/revenue/:instructorId', async (req: Request, res: Response) => {\n  try {\n    const { instructorId } = req.params;\n    const report = await teacherAnalyticsService.getRevenueReport(instructorId);\n    res.json({ success: true, data: report });\n  } catch (error) {\n    logger.error('Error fetching revenue report', { error });\n    res.status(500).json({ success: false, error: 'Failed to fetch revenue report' });\n  }\n});\n\nexport default router;\n"],"mappings":"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","ignoreList":[]}