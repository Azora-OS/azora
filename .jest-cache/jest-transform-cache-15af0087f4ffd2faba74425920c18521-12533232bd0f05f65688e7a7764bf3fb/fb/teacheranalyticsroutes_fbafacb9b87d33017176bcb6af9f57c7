5c65aadb24f3bcd1461bc5cda479c1bd
/* istanbul ignore next */
function cov_vqvuie8iw() {
  var path = "/workspaces/azora/services/education-revenue-engine/src/routes/teacher-analytics.routes.ts";
  var hash = "58a61e96d9f531beb5b345a79c39adeb20ed45fd";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/education-revenue-engine/src/routes/teacher-analytics.routes.ts",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 15
        },
        end: {
          line: 5,
          column: 23
        }
      },
      "1": {
        start: {
          line: 7,
          column: 0
        },
        end: {
          line: 16,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 2
        },
        end: {
          line: 15,
          column: 3
        }
      },
      "3": {
        start: {
          line: 9,
          column: 25
        },
        end: {
          line: 9,
          column: 35
        }
      },
      "4": {
        start: {
          line: 10,
          column: 22
        },
        end: {
          line: 10,
          column: 80
        }
      },
      "5": {
        start: {
          line: 11,
          column: 4
        },
        end: {
          line: 11,
          column: 49
        }
      },
      "6": {
        start: {
          line: 13,
          column: 4
        },
        end: {
          line: 13,
          column: 63
        }
      },
      "7": {
        start: {
          line: 14,
          column: 4
        },
        end: {
          line: 14,
          column: 81
        }
      },
      "8": {
        start: {
          line: 18,
          column: 0
        },
        end: {
          line: 27,
          column: 3
        }
      },
      "9": {
        start: {
          line: 19,
          column: 2
        },
        end: {
          line: 26,
          column: 3
        }
      },
      "10": {
        start: {
          line: 20,
          column: 25
        },
        end: {
          line: 20,
          column: 35
        }
      },
      "11": {
        start: {
          line: 21,
          column: 21
        },
        end: {
          line: 21,
          column: 80
        }
      },
      "12": {
        start: {
          line: 22,
          column: 4
        },
        end: {
          line: 22,
          column: 48
        }
      },
      "13": {
        start: {
          line: 24,
          column: 4
        },
        end: {
          line: 24,
          column: 64
        }
      },
      "14": {
        start: {
          line: 25,
          column: 4
        },
        end: {
          line: 25,
          column: 89
        }
      },
      "15": {
        start: {
          line: 29,
          column: 0
        },
        end: {
          line: 38,
          column: 3
        }
      },
      "16": {
        start: {
          line: 30,
          column: 2
        },
        end: {
          line: 37,
          column: 3
        }
      },
      "17": {
        start: {
          line: 31,
          column: 29
        },
        end: {
          line: 31,
          column: 39
        }
      },
      "18": {
        start: {
          line: 32,
          column: 19
        },
        end: {
          line: 32,
          column: 79
        }
      },
      "19": {
        start: {
          line: 33,
          column: 4
        },
        end: {
          line: 33,
          column: 46
        }
      },
      "20": {
        start: {
          line: 35,
          column: 4
        },
        end: {
          line: 35,
          column: 61
        }
      },
      "21": {
        start: {
          line: 36,
          column: 4
        },
        end: {
          line: 36,
          column: 86
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 43
          },
          end: {
            line: 7,
            column: 44
          }
        },
        loc: {
          start: {
            line: 7,
            column: 82
          },
          end: {
            line: 16,
            column: 1
          }
        },
        line: 7
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 18,
            column: 52
          },
          end: {
            line: 18,
            column: 53
          }
        },
        loc: {
          start: {
            line: 18,
            column: 91
          },
          end: {
            line: 27,
            column: 1
          }
        },
        line: 18
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 29,
            column: 45
          },
          end: {
            line: 29,
            column: 46
          }
        },
        loc: {
          start: {
            line: 29,
            column: 84
          },
          end: {
            line: 38,
            column: 1
          }
        },
        line: 29
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0
    },
    b: {},
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "58a61e96d9f531beb5b345a79c39adeb20ed45fd"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_vqvuie8iw = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_vqvuie8iw();
import { Router } from 'express';
import { teacherAnalyticsService } from '../services/teacher-analytics.service';
import { logger } from '../utils/logger';
const router =
/* istanbul ignore next */
(cov_vqvuie8iw().s[0]++, Router());
/* istanbul ignore next */
cov_vqvuie8iw().s[1]++;
router.get('/teacher/analytics/:courseId', async (req, res) => {
  /* istanbul ignore next */
  cov_vqvuie8iw().f[0]++;
  cov_vqvuie8iw().s[2]++;
  try {
    const {
      courseId
    } =
    /* istanbul ignore next */
    (cov_vqvuie8iw().s[3]++, req.params);
    const analytics =
    /* istanbul ignore next */
    (cov_vqvuie8iw().s[4]++, await teacherAnalyticsService.getCourseAnalytics(courseId));
    /* istanbul ignore next */
    cov_vqvuie8iw().s[5]++;
    res.json({
      success: true,
      data: analytics
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_vqvuie8iw().s[6]++;
    logger.error('Error fetching course analytics', {
      error
    });
    /* istanbul ignore next */
    cov_vqvuie8iw().s[7]++;
    res.status(500).json({
      success: false,
      error: 'Failed to fetch analytics'
    });
  }
});
/* istanbul ignore next */
cov_vqvuie8iw().s[8]++;
router.get('/teacher/analytics/:courseId/students', async (req, res) => {
  /* istanbul ignore next */
  cov_vqvuie8iw().f[1]++;
  cov_vqvuie8iw().s[9]++;
  try {
    const {
      courseId
    } =
    /* istanbul ignore next */
    (cov_vqvuie8iw().s[10]++, req.params);
    const students =
    /* istanbul ignore next */
    (cov_vqvuie8iw().s[11]++, await teacherAnalyticsService.getStudentAnalytics(courseId));
    /* istanbul ignore next */
    cov_vqvuie8iw().s[12]++;
    res.json({
      success: true,
      data: students
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_vqvuie8iw().s[13]++;
    logger.error('Error fetching student analytics', {
      error
    });
    /* istanbul ignore next */
    cov_vqvuie8iw().s[14]++;
    res.status(500).json({
      success: false,
      error: 'Failed to fetch student analytics'
    });
  }
});
/* istanbul ignore next */
cov_vqvuie8iw().s[15]++;
router.get('/teacher/revenue/:instructorId', async (req, res) => {
  /* istanbul ignore next */
  cov_vqvuie8iw().f[2]++;
  cov_vqvuie8iw().s[16]++;
  try {
    const {
      instructorId
    } =
    /* istanbul ignore next */
    (cov_vqvuie8iw().s[17]++, req.params);
    const report =
    /* istanbul ignore next */
    (cov_vqvuie8iw().s[18]++, await teacherAnalyticsService.getRevenueReport(instructorId));
    /* istanbul ignore next */
    cov_vqvuie8iw().s[19]++;
    res.json({
      success: true,
      data: report
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_vqvuie8iw().s[20]++;
    logger.error('Error fetching revenue report', {
      error
    });
    /* istanbul ignore next */
    cov_vqvuie8iw().s[21]++;
    res.status(500).json({
      success: false,
      error: 'Failed to fetch revenue report'
    });
  }
});
export default router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfdnF2dWllOGl3IiwiYWN0dWFsQ292ZXJhZ2UiLCJSb3V0ZXIiLCJ0ZWFjaGVyQW5hbHl0aWNzU2VydmljZSIsImxvZ2dlciIsInJvdXRlciIsInMiLCJnZXQiLCJyZXEiLCJyZXMiLCJmIiwiY291cnNlSWQiLCJwYXJhbXMiLCJhbmFseXRpY3MiLCJnZXRDb3Vyc2VBbmFseXRpY3MiLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJlcnJvciIsInN0YXR1cyIsInN0dWRlbnRzIiwiZ2V0U3R1ZGVudEFuYWx5dGljcyIsImluc3RydWN0b3JJZCIsInJlcG9ydCIsImdldFJldmVudWVSZXBvcnQiXSwic291cmNlcyI6WyJ0ZWFjaGVyLWFuYWx5dGljcy5yb3V0ZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyLCBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgdGVhY2hlckFuYWx5dGljc1NlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy90ZWFjaGVyLWFuYWx5dGljcy5zZXJ2aWNlJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5cbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KCcvdGVhY2hlci9hbmFseXRpY3MvOmNvdXJzZUlkJywgYXN5bmMgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgY291cnNlSWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgYW5hbHl0aWNzID0gYXdhaXQgdGVhY2hlckFuYWx5dGljc1NlcnZpY2UuZ2V0Q291cnNlQW5hbHl0aWNzKGNvdXJzZUlkKTtcbiAgICByZXMuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGFuYWx5dGljcyB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNvdXJzZSBhbmFseXRpY3MnLCB7IGVycm9yIH0pO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGFuYWx5dGljcycgfSk7XG4gIH1cbn0pO1xuXG5yb3V0ZXIuZ2V0KCcvdGVhY2hlci9hbmFseXRpY3MvOmNvdXJzZUlkL3N0dWRlbnRzJywgYXN5bmMgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgY291cnNlSWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3Qgc3R1ZGVudHMgPSBhd2FpdCB0ZWFjaGVyQW5hbHl0aWNzU2VydmljZS5nZXRTdHVkZW50QW5hbHl0aWNzKGNvdXJzZUlkKTtcbiAgICByZXMuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHN0dWRlbnRzIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc3R1ZGVudCBhbmFseXRpY3MnLCB7IGVycm9yIH0pO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIHN0dWRlbnQgYW5hbHl0aWNzJyB9KTtcbiAgfVxufSk7XG5cbnJvdXRlci5nZXQoJy90ZWFjaGVyL3JldmVudWUvOmluc3RydWN0b3JJZCcsIGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluc3RydWN0b3JJZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCByZXBvcnQgPSBhd2FpdCB0ZWFjaGVyQW5hbHl0aWNzU2VydmljZS5nZXRSZXZlbnVlUmVwb3J0KGluc3RydWN0b3JJZCk7XG4gICAgcmVzLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXBvcnQgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdFcnJvciBmZXRjaGluZyByZXZlbnVlIHJlcG9ydCcsIHsgZXJyb3IgfSk7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggcmV2ZW51ZSByZXBvcnQnIH0pO1xuICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWVZO0lBQUFBLGFBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGFBQUE7QUFmWixTQUFTRSxNQUFNLFFBQTJCLFNBQVM7QUFDbkQsU0FBU0MsdUJBQXVCLFFBQVEsdUNBQXVDO0FBQy9FLFNBQVNDLE1BQU0sUUFBUSxpQkFBaUI7QUFFeEMsTUFBTUMsTUFBTTtBQUFBO0FBQUEsQ0FBQUwsYUFBQSxHQUFBTSxDQUFBLE9BQUdKLE1BQU0sQ0FBQyxDQUFDO0FBQUM7QUFBQUYsYUFBQSxHQUFBTSxDQUFBO0FBRXhCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyw4QkFBOEIsRUFBRSxPQUFPQyxHQUFZLEVBQUVDLEdBQWEsS0FBSztFQUFBO0VBQUFULGFBQUEsR0FBQVUsQ0FBQTtFQUFBVixhQUFBLEdBQUFN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