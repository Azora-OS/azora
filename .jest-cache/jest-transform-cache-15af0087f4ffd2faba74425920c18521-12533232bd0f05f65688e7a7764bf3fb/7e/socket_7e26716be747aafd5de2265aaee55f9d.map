{"version":3,"names":["cov_1pu8d759zi","actualCoverage","Server","s","require","io","initSocket","server","f","cors","origin","methods","on","socket","console","log","id","room","join","data","to","emit","getIo","b","Error","module","exports"],"sources":["socket.js"],"sourcesContent":["const { Server } = require('socket.io');\n\nlet io;\n\nfunction initSocket(server) {\n    io = new Server(server, {\n        cors: {\n            origin: '*', // Allow all origins for now\n            methods: ['GET', 'POST']\n        }\n    });\n\n    io.on('connection', (socket) => {\n        console.log('Client connected:', socket.id);\n\n        socket.on('join_room', (room) => {\n            socket.join(room);\n            console.log(`User ${socket.id} joined room: ${room}`);\n        });\n\n        socket.on('send_message', (data) => {\n            // Broadcast to room\n            socket.to(data.room).emit('receive_message', data);\n        });\n\n        socket.on('disconnect', () => {\n            console.log('Client disconnected:', socket.id);\n        });\n    });\n\n    return io;\n}\n\nfunction getIo() {\n    if (!io) {\n        throw new Error('Socket.io not initialized!');\n    }\n    return io;\n}\n\nmodule.exports = { initSocket, getIo };\n"],"mappings":"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","ignoreList":[]}