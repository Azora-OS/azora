{"version":3,"names":["cov_88l87lb2s","actualCoverage","EventEmitter","africaCDN","riverFlows","myceliumNetwork","TreeArchitecture","roots","s","Map","branches","rootConnections","constructor","f","initializeTreeStructure","connectInfrastructure","id","name","type","location","connections","health","forEach","root","set","establishRootConnections","cdnStatus","getNetworkStatus","regions","region","branch","rootId","endpoints","capacity","nodesByRegion","emit","rootCount","length","branchCount","size","rootArray","Array","from","values","filter","r","b","map","on","data","updateBranchHealth","nodeId","event","routeThroughRoots","topology","updateNetworkHealth","find","includes","branchId","flowType","flowId","get","networkHealth","getTreeStatus","healthyRoots","healthyBranches","totalCapacity","reduce","sum","activeConnections","getInfrastructureStatus","tree","cdn","rivers","mycelium","getNetworkTopology","treeArchitecture"],"sources":["tree-architecture.ts"],"sourcesContent":["/*\nAZORA PROPRIETARY LICENSE\nCopyright Â© 2025 Azora ES (Pty) Ltd. All Rights Reserved.\n\nTREE STRUCTURE ARCHITECTURE\nRoots by the rivers, branches across Africa - Hierarchical distributed system\n*/\n\nimport { EventEmitter } from 'events';\nimport { africaCDN } from './africa-cdn';\nimport { riverFlows } from './river-flows';\nimport { myceliumNetwork } from './mycelium-network';\n\nexport interface TreeRoot {\n  id: string;\n  name: string;\n  type: 'data' | 'compute' | 'storage' | 'network';\n  location: string;\n  connections: string[];\n  health: 'healthy' | 'degraded' | 'down';\n}\n\nexport interface TreeBranch {\n  id: string;\n  name: string;\n  region: string;\n  rootId: string;\n  endpoints: string[];\n  capacity: number;\n  health: 'healthy' | 'degraded' | 'down';\n}\n\nexport interface TreeStatus {\n  roots: TreeRoot[];\n  branches: TreeBranch[];\n  networkHealth: 'healthy' | 'degraded' | 'fragmented';\n  totalCapacity: number;\n  activeConnections: number;\n}\n\n/**\n * Tree Structure Architecture\n * Roots by the rivers, branches across Africa\n */\nexport class TreeArchitecture extends EventEmitter {\n  private roots: Map<string, TreeRoot> = new Map();\n  private branches: Map<string, TreeBranch> = new Map();\n  private rootConnections: Map<string, string[]> = new Map();\n\n  constructor() {\n    super();\n    this.initializeTreeStructure();\n    this.connectInfrastructure();\n  }\n\n  /**\n   * Initialize tree structure\n   * Roots by the rivers (data sources)\n   */\n  private initializeTreeStructure(): void {\n    // Roots - Data sources by rivers\n    const roots: TreeRoot[] = [\n      {\n        id: 'root-data-primary',\n        name: 'Primary Data Root',\n        type: 'data',\n        location: 'southern-africa',\n        connections: [],\n        health: 'healthy',\n      },\n      {\n        id: 'root-compute-primary',\n        name: 'Primary Compute Root',\n        type: 'compute',\n        location: 'southern-africa',\n        connections: [],\n        health: 'healthy',\n      },\n      {\n        id: 'root-storage-primary',\n        name: 'Primary Storage Root',\n        type: 'storage',\n        location: 'southern-africa',\n        connections: [],\n        health: 'healthy',\n      },\n      {\n        id: 'root-network-primary',\n        name: 'Primary Network Root',\n        type: 'network',\n        location: 'southern-africa',\n        connections: [],\n        health: 'healthy',\n      },\n    ];\n\n    roots.forEach(root => {\n      this.roots.set(root.id, root);\n    });\n\n    // Establish root connections (rivers connect roots)\n    this.establishRootConnections();\n\n    // Branches - Stretching across Africa\n    const cdnStatus = africaCDN.getNetworkStatus();\n    cdnStatus.regions.forEach(region => {\n      const branch: TreeBranch = {\n        id: `branch-${region}`,\n        name: `${region} Branch`,\n        region,\n        rootId: 'root-network-primary',\n        endpoints: [],\n        capacity: cdnStatus.nodesByRegion[region] * 100,\n        health: 'healthy',\n      };\n      \n      this.branches.set(branch.id, branch);\n    });\n\n    this.emit('tree-initialized', { \n      rootCount: roots.length, \n      branchCount: this.branches.size \n    });\n  }\n\n  /**\n   * Establish root connections\n   * Rivers connect the roots\n   */\n  private establishRootConnections(): void {\n    const rootArray = Array.from(this.roots.values());\n    \n    // Each root connects to others (rivers flow between them)\n    rootArray.forEach(root => {\n      const connections = rootArray\n        .filter(r => r.id !== root.id && r.type !== root.type)\n        .map(r => r.id);\n      \n      root.connections = connections;\n      this.rootConnections.set(root.id, connections);\n    });\n  }\n\n  /**\n   * Connect infrastructure layers\n   * Tree connects CDN, Rivers, and Mycelium\n   */\n  private connectInfrastructure(): void {\n    // Connect CDN branches to tree branches\n    africaCDN.on('node-health-updated', (data: any) => {\n      this.updateBranchHealth(data.nodeId, data.health);\n    });\n\n    // Connect river flows to roots\n    riverFlows.on('river-flow', (event: any) => {\n      this.routeThroughRoots(event);\n    });\n\n    // Connect mycelium network to branches\n    myceliumNetwork.on('network-health-updated', (topology: any) => {\n      this.updateNetworkHealth(topology);\n    });\n  }\n\n  /**\n   * Update branch health\n   */\n  private updateBranchHealth(nodeId: string, health: string): void {\n    // Find corresponding branch and update health\n    const branch = Array.from(this.branches.values())\n      .find(b => nodeId.includes(b.region));\n    \n    if (branch) {\n      branch.health = health as 'healthy' | 'degraded' | 'down';\n      this.emit('branch-health-updated', { branchId: branch.id, health });\n    }\n  }\n\n  /**\n   * Route data through roots\n   */\n  private routeThroughRoots(event: any): void {\n    // Route based on data type\n    const flowType = event.flowId || '';\n    \n    if (flowType.includes('data')) {\n      const root = this.roots.get('root-data-primary');\n      if (root) {\n        root.health = 'healthy';\n      }\n    }\n    \n    if (flowType.includes('compute')) {\n      const root = this.roots.get('root-compute-primary');\n      if (root) {\n        root.health = 'healthy';\n      }\n    }\n  }\n\n  /**\n   * Update network health\n   */\n  private updateNetworkHealth(topology: any): void {\n    // Update tree health based on mycelium network\n    if (topology.networkHealth === 'healthy') {\n      Array.from(this.roots.values()).forEach(root => {\n        if (root.health !== 'down') {\n          root.health = 'healthy';\n        }\n      });\n    }\n  }\n\n  /**\n   * Get tree status\n   */\n  getTreeStatus(): TreeStatus {\n    const roots = Array.from(this.roots.values());\n    const branches = Array.from(this.branches.values());\n    const healthyRoots = roots.filter(r => r.health === 'healthy').length;\n    const healthyBranches = branches.filter(b => b.health === 'healthy').length;\n    \n    let networkHealth: 'healthy' | 'degraded' | 'fragmented';\n    if (healthyRoots === roots.length && healthyBranches === branches.length) {\n      networkHealth = 'healthy';\n    } else if (healthyRoots >= roots.length * 0.7 && healthyBranches >= branches.length * 0.7) {\n      networkHealth = 'degraded';\n    } else {\n      networkHealth = 'fragmented';\n    }\n\n    const totalCapacity = branches.reduce((sum, b) => sum + b.capacity, 0);\n    const activeConnections = roots.reduce((sum, r) => sum + r.connections.length, 0);\n\n    return {\n      roots,\n      branches,\n      networkHealth,\n      totalCapacity,\n      activeConnections,\n    };\n  }\n\n  /**\n   * Get infrastructure status\n   */\n  getInfrastructureStatus(): {\n    tree: TreeStatus;\n    cdn: any;\n    rivers: any;\n    mycelium: any;\n  } {\n    return {\n      tree: this.getTreeStatus(),\n      cdn: africaCDN.getNetworkStatus(),\n      rivers: riverFlows.getNetworkStatus(),\n      mycelium: myceliumNetwork.getNetworkTopology(),\n    };\n  }\n}\n\n// Export singleton\nexport const treeArchitecture = new TreeArchitecture();\n\nexport default TreeArchitecture;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}