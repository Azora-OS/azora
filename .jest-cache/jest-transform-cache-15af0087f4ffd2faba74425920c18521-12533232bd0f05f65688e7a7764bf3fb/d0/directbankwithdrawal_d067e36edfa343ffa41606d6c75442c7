0b4f0cb56f0e014cb6b1c737b4fa4bca
/* istanbul ignore next */
function cov_vwpnrikxl() {
  var path = "/workspaces/azora/services/azora-cloud/azora-mint/direct-bank-withdrawal.ts";
  var hash = "c327f37788009b8b64aabd02f1f66dbaf6f54c3e";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/azora-cloud/azora-mint/direct-bank-withdrawal.ts",
    statementMap: {
      "0": {
        start: {
          line: 41,
          column: 55
        },
        end: {
          line: 41,
          column: 64
        }
      },
      "1": {
        start: {
          line: 42,
          column: 36
        },
        end: {
          line: 42,
          column: 37
        }
      },
      "2": {
        start: {
          line: 43,
          column: 33
        },
        end: {
          line: 43,
          column: 34
        }
      },
      "3": {
        start: {
          line: 46,
          column: 4
        },
        end: {
          line: 46,
          column: 11
        }
      },
      "4": {
        start: {
          line: 47,
          column: 4
        },
        end: {
          line: 47,
          column: 63
        }
      },
      "5": {
        start: {
          line: 48,
          column: 4
        },
        end: {
          line: 48,
          column: 70
        }
      },
      "6": {
        start: {
          line: 60,
          column: 4
        },
        end: {
          line: 60,
          column: 50
        }
      },
      "7": {
        start: {
          line: 61,
          column: 4
        },
        end: {
          line: 61,
          column: 37
        }
      },
      "8": {
        start: {
          line: 62,
          column: 4
        },
        end: {
          line: 62,
          column: 46
        }
      },
      "9": {
        start: {
          line: 63,
          column: 4
        },
        end: {
          line: 63,
          column: 96
        }
      },
      "10": {
        start: {
          line: 66,
          column: 25
        },
        end: {
          line: 66,
          column: 27
        }
      },
      "11": {
        start: {
          line: 67,
          column: 24
        },
        end: {
          line: 67,
          column: 55
        }
      },
      "12": {
        start: {
          line: 68,
          column: 24
        },
        end: {
          line: 68,
          column: 64
        }
      },
      "13": {
        start: {
          line: 70,
          column: 4
        },
        end: {
          line: 70,
          column: 49
        }
      },
      "14": {
        start: {
          line: 71,
          column: 4
        },
        end: {
          line: 71,
          column: 88
        }
      },
      "15": {
        start: {
          line: 72,
          column: 4
        },
        end: {
          line: 72,
          column: 83
        }
      },
      "16": {
        start: {
          line: 73,
          column: 4
        },
        end: {
          line: 73,
          column: 57
        }
      },
      "17": {
        start: {
          line: 76,
          column: 4
        },
        end: {
          line: 76,
          column: 49
        }
      },
      "18": {
        start: {
          line: 77,
          column: 4
        },
        end: {
          line: 77,
          column: 52
        }
      },
      "19": {
        start: {
          line: 79,
          column: 4
        },
        end: {
          line: 111,
          column: 5
        }
      },
      "20": {
        start: {
          line: 80,
          column: 29
        },
        end: {
          line: 80,
          column: 75
        }
      },
      "21": {
        start: {
          line: 82,
          column: 43
        },
        end: {
          line: 94,
          column: 7
        }
      },
      "22": {
        start: {
          line: 96,
          column: 6
        },
        end: {
          line: 96,
          column: 53
        }
      },
      "23": {
        start: {
          line: 98,
          column: 6
        },
        end: {
          line: 98,
          column: 48
        }
      },
      "24": {
        start: {
          line: 99,
          column: 6
        },
        end: {
          line: 99,
          column: 67
        }
      },
      "25": {
        start: {
          line: 100,
          column: 6
        },
        end: {
          line: 100,
          column: 65
        }
      },
      "26": {
        start: {
          line: 101,
          column: 6
        },
        end: {
          line: 101,
          column: 44
        }
      },
      "27": {
        start: {
          line: 102,
          column: 6
        },
        end: {
          line: 102,
          column: 106
        }
      },
      "28": {
        start: {
          line: 104,
          column: 6
        },
        end: {
          line: 104,
          column: 51
        }
      },
      "29": {
        start: {
          line: 105,
          column: 6
        },
        end: {
          line: 105,
          column: 23
        }
      },
      "30": {
        start: {
          line: 108,
          column: 6
        },
        end: {
          line: 108,
          column: 63
        }
      },
      "31": {
        start: {
          line: 109,
          column: 6
        },
        end: {
          line: 109,
          column: 57
        }
      },
      "32": {
        start: {
          line: 110,
          column: 6
        },
        end: {
          line: 110,
          column: 72
        }
      },
      "33": {
        start: {
          line: 122,
          column: 4
        },
        end: {
          line: 122,
          column: 45
        }
      },
      "34": {
        start: {
          line: 123,
          column: 4
        },
        end: {
          line: 123,
          column: 40
        }
      },
      "35": {
        start: {
          line: 124,
          column: 4
        },
        end: {
          line: 124,
          column: 74
        }
      },
      "36": {
        start: {
          line: 125,
          column: 4
        },
        end: {
          line: 125,
          column: 58
        }
      },
      "37": {
        start: {
          line: 128,
          column: 16
        },
        end: {
          line: 128,
          column: 67
        }
      },
      "38": {
        start: {
          line: 129,
          column: 4
        },
        end: {
          line: 129,
          column: 23
        }
      },
      "39": {
        start: {
          line: 131,
          column: 41
        },
        end: {
          line: 142,
          column: 5
        }
      },
      "40": {
        start: {
          line: 144,
          column: 4
        },
        end: {
          line: 144,
          column: 51
        }
      },
      "41": {
        start: {
          line: 146,
          column: 4
        },
        end: {
          line: 146,
          column: 50
        }
      },
      "42": {
        start: {
          line: 147,
          column: 4
        },
        end: {
          line: 147,
          column: 45
        }
      },
      "43": {
        start: {
          line: 148,
          column: 4
        },
        end: {
          line: 148,
          column: 49
        }
      },
      "44": {
        start: {
          line: 149,
          column: 4
        },
        end: {
          line: 149,
          column: 41
        }
      },
      "45": {
        start: {
          line: 150,
          column: 4
        },
        end: {
          line: 150,
          column: 59
        }
      },
      "46": {
        start: {
          line: 151,
          column: 4
        },
        end: {
          line: 151,
          column: 50
        }
      },
      "47": {
        start: {
          line: 152,
          column: 4
        },
        end: {
          line: 152,
          column: 62
        }
      },
      "48": {
        start: {
          line: 153,
          column: 4
        },
        end: {
          line: 153,
          column: 47
        }
      },
      "49": {
        start: {
          line: 154,
          column: 4
        },
        end: {
          line: 154,
          column: 59
        }
      },
      "50": {
        start: {
          line: 155,
          column: 4
        },
        end: {
          line: 155,
          column: 48
        }
      },
      "51": {
        start: {
          line: 157,
          column: 4
        },
        end: {
          line: 161,
          column: 5
        }
      },
      "52": {
        start: {
          line: 158,
          column: 6
        },
        end: {
          line: 158,
          column: 99
        }
      },
      "53": {
        start: {
          line: 160,
          column: 6
        },
        end: {
          line: 160,
          column: 63
        }
      },
      "54": {
        start: {
          line: 163,
          column: 4
        },
        end: {
          line: 163,
          column: 48
        }
      },
      "55": {
        start: {
          line: 164,
          column: 4
        },
        end: {
          line: 164,
          column: 21
        }
      },
      "56": {
        start: {
          line: 175,
          column: 4
        },
        end: {
          line: 175,
          column: 66
        }
      },
      "57": {
        start: {
          line: 176,
          column: 4
        },
        end: {
          line: 176,
          column: 69
        }
      },
      "58": {
        start: {
          line: 177,
          column: 4
        },
        end: {
          line: 177,
          column: 55
        }
      },
      "59": {
        start: {
          line: 179,
          column: 4
        },
        end: {
          line: 179,
          column: 65
        }
      },
      "60": {
        start: {
          line: 187,
          column: 27
        },
        end: {
          line: 187,
          column: 85
        }
      },
      "61": {
        start: {
          line: 189,
          column: 4
        },
        end: {
          line: 195,
          column: 5
        }
      },
      "62": {
        start: {
          line: 190,
          column: 6
        },
        end: {
          line: 190,
          column: 19
        }
      },
      "63": {
        start: {
          line: 191,
          column: 11
        },
        end: {
          line: 195,
          column: 5
        }
      },
      "64": {
        start: {
          line: 192,
          column: 6
        },
        end: {
          line: 192,
          column: 25
        }
      },
      "65": {
        start: {
          line: 194,
          column: 6
        },
        end: {
          line: 194,
          column: 25
        }
      },
      "66": {
        start: {
          line: 202,
          column: 4
        },
        end: {
          line: 211,
          column: 5
        }
      },
      "67": {
        start: {
          line: 204,
          column: 8
        },
        end: {
          line: 204,
          column: 16
        }
      },
      "68": {
        start: {
          line: 206,
          column: 8
        },
        end: {
          line: 206,
          column: 66
        }
      },
      "69": {
        start: {
          line: 208,
          column: 8
        },
        end: {
          line: 208,
          column: 16
        }
      },
      "70": {
        start: {
          line: 210,
          column: 8
        },
        end: {
          line: 210,
          column: 16
        }
      },
      "71": {
        start: {
          line: 218,
          column: 24
        },
        end: {
          line: 218,
          column: 61
        }
      },
      "72": {
        start: {
          line: 219,
          column: 27
        },
        end: {
          line: 219,
          column: 76
        }
      },
      "73": {
        start: {
          line: 219,
          column: 58
        },
        end: {
          line: 219,
          column: 72
        }
      },
      "74": {
        start: {
          line: 220,
          column: 22
        },
        end: {
          line: 220,
          column: 68
        }
      },
      "75": {
        start: {
          line: 220,
          column: 53
        },
        end: {
          line: 220,
          column: 64
        }
      },
      "76": {
        start: {
          line: 222,
          column: 4
        },
        end: {
          line: 229,
          column: 5
        }
      },
      "77": {
        start: {
          line: 233,
          column: 32
        },
        end: {
          line: 233,
          column: 58
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 45,
            column: 2
          },
          end: {
            line: 45,
            column: 3
          }
        },
        loc: {
          start: {
            line: 45,
            column: 16
          },
          end: {
            line: 49,
            column: 3
          }
        },
        line: 45
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 55,
            column: 2
          },
          end: {
            line: 55,
            column: 3
          }
        },
        loc: {
          start: {
            line: 59,
            column: 31
          },
          end: {
            line: 112,
            column: 3
          }
        },
        line: 59
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 117,
            column: 2
          },
          end: {
            line: 117,
            column: 3
          }
        },
        loc: {
          start: {
            line: 121,
            column: 31
          },
          end: {
            line: 165,
            column: 3
          }
        },
        line: 121
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 170,
            column: 2
          },
          end: {
            line: 170,
            column: 3
          }
        },
        loc: {
          start: {
            line: 174,
            column: 31
          },
          end: {
            line: 180,
            column: 3
          }
        },
        line: 174
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 185,
            column: 2
          },
          end: {
            line: 185,
            column: 3
          }
        },
        loc: {
          start: {
            line: 185,
            column: 60
          },
          end: {
            line: 196,
            column: 3
          }
        },
        line: 185
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 201,
            column: 2
          },
          end: {
            line: 201,
            column: 3
          }
        },
        loc: {
          start: {
            line: 201,
            column: 87
          },
          end: {
            line: 212,
            column: 3
          }
        },
        line: 201
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 217,
            column: 2
          },
          end: {
            line: 217,
            column: 3
          }
        },
        loc: {
          start: {
            line: 217,
            column: 15
          },
          end: {
            line: 230,
            column: 3
          }
        },
        line: 217
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 219,
            column: 46
          },
          end: {
            line: 219,
            column: 47
          }
        },
        loc: {
          start: {
            line: 219,
            column: 58
          },
          end: {
            line: 219,
            column: 72
          }
        },
        line: 219
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 220,
            column: 41
          },
          end: {
            line: 220,
            column: 42
          }
        },
        loc: {
          start: {
            line: 220,
            column: 53
          },
          end: {
            line: 220,
            column: 64
          }
        },
        line: 220
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 128,
            column: 16
          },
          end: {
            line: 128,
            column: 67
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 128,
            column: 59
          },
          end: {
            line: 128,
            column: 60
          }
        }, {
          start: {
            line: 128,
            column: 63
          },
          end: {
            line: 128,
            column: 67
          }
        }],
        line: 128
      },
      "1": {
        loc: {
          start: {
            line: 157,
            column: 4
          },
          end: {
            line: 161,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 157,
            column: 4
          },
          end: {
            line: 161,
            column: 5
          }
        }, {
          start: {
            line: 159,
            column: 11
          },
          end: {
            line: 161,
            column: 5
          }
        }],
        line: 157
      },
      "2": {
        loc: {
          start: {
            line: 187,
            column: 27
          },
          end: {
            line: 187,
            column: 85
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 187,
            column: 27
          },
          end: {
            line: 187,
            column: 54
          }
        }, {
          start: {
            line: 187,
            column: 58
          },
          end: {
            line: 187,
            column: 85
          }
        }],
        line: 187
      },
      "3": {
        loc: {
          start: {
            line: 189,
            column: 4
          },
          end: {
            line: 195,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 189,
            column: 4
          },
          end: {
            line: 195,
            column: 5
          }
        }, {
          start: {
            line: 191,
            column: 11
          },
          end: {
            line: 195,
            column: 5
          }
        }],
        line: 189
      },
      "4": {
        loc: {
          start: {
            line: 191,
            column: 11
          },
          end: {
            line: 195,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 191,
            column: 11
          },
          end: {
            line: 195,
            column: 5
          }
        }, {
          start: {
            line: 193,
            column: 11
          },
          end: {
            line: 195,
            column: 5
          }
        }],
        line: 191
      },
      "5": {
        loc: {
          start: {
            line: 202,
            column: 4
          },
          end: {
            line: 211,
            column: 5
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 203,
            column: 6
          },
          end: {
            line: 204,
            column: 16
          }
        }, {
          start: {
            line: 205,
            column: 6
          },
          end: {
            line: 206,
            column: 66
          }
        }, {
          start: {
            line: 207,
            column: 6
          },
          end: {
            line: 208,
            column: 16
          }
        }, {
          start: {
            line: 209,
            column: 6
          },
          end: {
            line: 210,
            column: 16
          }
        }],
        line: 202
      },
      "6": {
        loc: {
          start: {
            line: 206,
            column: 15
          },
          end: {
            line: 206,
            column: 66
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 206,
            column: 58
          },
          end: {
            line: 206,
            column: 59
          }
        }, {
          start: {
            line: 206,
            column: 62
          },
          end: {
            line: 206,
            column: 66
          }
        }],
        line: 206
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0, 0, 0],
      "6": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "c327f37788009b8b64aabd02f1f66dbaf6f54c3e"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_vwpnrikxl = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_vwpnrikxl();
/*
AZORA PROPRIETARY LICENSE

Copyright ¬© 2025 Azora ES (Pty) Ltd. All Rights Reserved.
*/

/**
 * DIRECT BANK WITHDRAWAL SYSTEM
 * Our own withdrawal system - No payment gateway fees!
 * 
 * STRATEGY:
 * 1. Use Luno for crypto ‚Üí ZAR conversion (0% fees!)
 * 2. Withdraw ZAR from Luno ‚Üí Your Capitec account (0% fees!)
 * 3. Manual EFT from Capitec ‚Üí Student accounts (free up to 5/month)
 * 4. Or use Capitec API if available
 */

import { EventEmitter } from 'events';
import { lunoIntegration } from './luno-integration';
import crypto from 'crypto';
export class DirectBankWithdrawal extends EventEmitter {
  withdrawals =
  /* istanbul ignore next */
  (cov_vwpnrikxl().s[0]++, new Map());
  monthlyFreeEFTs =
  /* istanbul ignore next */
  (cov_vwpnrikxl().s[1]++, 5); // Capitec gives 5 free EFTs/month
  usedFreeEFTs =
  /* istanbul ignore next */
  (cov_vwpnrikxl().s[2]++, 0);
  constructor() {
    /* istanbul ignore next */
    cov_vwpnrikxl().f[0]++;
    cov_vwpnrikxl().s[3]++;
    super();
    /* istanbul ignore next */
    cov_vwpnrikxl().s[4]++;
    console.log('üè¶ Direct Bank Withdrawal System initialized');
    /* istanbul ignore next */
    cov_vwpnrikxl().s[5]++;
    console.log('   üí° Strategy: Luno (0% fees) ‚Üí Capitec ‚Üí Students');
  }

  /**
   * CHEAPEST: Withdraw via Luno (RECOMMENDED)
   * Total fees: 0%!
   */
  async withdrawViaLuno(userId, azrAmount, bankAccount) {
    /* istanbul ignore next */
    cov_vwpnrikxl().f[1]++;
    cov_vwpnrikxl().s[6]++;
    console.log('\nüíé LUNO WITHDRAWAL (0% FEES!)');
    /* istanbul ignore next */
    cov_vwpnrikxl().s[7]++;
    console.log(`   User: ${userId}`);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[8]++;
    console.log(`   AZR Amount: ${azrAmount}`);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[9]++;
    console.log(`   Destination: ${bankAccount.bank} ***${bankAccount.accountNumber.slice(-4)}`);

    // Step 1: Convert AZR to ZAR (1% internal conversion fee goes to you)
    const exchangeRate =
    /* istanbul ignore next */
    (cov_vwpnrikxl().s[10]++, 10); // 1 AZR = R10
    const internalFee =
    /* istanbul ignore next */
    (cov_vwpnrikxl().s[11]++, azrAmount * exchangeRate * 0.01);
    const zarAfterFee =
    /* istanbul ignore next */
    (cov_vwpnrikxl().s[12]++, azrAmount * exchangeRate - internalFee);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[13]++;
    console.log('\n   STEP 1: Convert AZR ‚Üí ZAR');
    /* istanbul ignore next */
    cov_vwpnrikxl().s[14]++;
    console.log(`   ${azrAmount} AZR √ó R${exchangeRate} = R${azrAmount * exchangeRate}`);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[15]++;
    console.log(`   Internal fee (1%): R${internalFee.toFixed(2)} (YOUR REVENUE!)`);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[16]++;
    console.log(`   Net ZAR: R${zarAfterFee.toFixed(2)}`);

    // Step 2: Send ZAR to user via Luno (0% fees!)
    /* istanbul ignore next */
    cov_vwpnrikxl().s[17]++;
    console.log('\n   STEP 2: Withdraw via Luno');
    /* istanbul ignore next */
    cov_vwpnrikxl().s[18]++;
    console.log(`   Fee: R0 (Luno doesn't charge!)`);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[19]++;
    try {
      const lunoWithdrawal =
      /* istanbul ignore next */
      (cov_vwpnrikxl().s[20]++, await lunoIntegration.withdrawZAR(zarAfterFee));
      const withdrawal =
      /* istanbul ignore next */
      (cov_vwpnrikxl().s[21]++, {
        id: crypto.randomUUID(),
        userId,
        amount: zarAfterFee,
        currency: 'ZAR',
        method: 'luno',
        status: 'completed',
        fee: 0,
        // No external fees!
        bankAccount,
        reference: lunoWithdrawal.reference,
        createdAt: new Date(),
        completedAt: new Date()
      });
      /* istanbul ignore next */
      cov_vwpnrikxl().s[22]++;
      this.withdrawals.set(withdrawal.id, withdrawal);
      /* istanbul ignore next */
      cov_vwpnrikxl().s[23]++;
      console.log('\n   ‚úÖ WITHDRAWAL COMPLETE!');
      /* istanbul ignore next */
      cov_vwpnrikxl().s[24]++;
      console.log(`   üí∞ Student gets: R${zarAfterFee.toFixed(2)}`);
      /* istanbul ignore next */
      cov_vwpnrikxl().s[25]++;
      console.log(`   üíµ You earned: R${internalFee.toFixed(2)}`);
      /* istanbul ignore next */
      cov_vwpnrikxl().s[26]++;
      console.log(`   üéØ External fees: R0`);
      /* istanbul ignore next */
      cov_vwpnrikxl().s[27]++;
      console.log(`   üìä Total margin: ${(internalFee / (azrAmount * exchangeRate) * 100).toFixed(1)}%`);
      /* istanbul ignore next */
      cov_vwpnrikxl().s[28]++;
      this.emit('withdrawal-completed', withdrawal);
      /* istanbul ignore next */
      cov_vwpnrikxl().s[29]++;
      return withdrawal;
    } catch (error) {
      /* istanbul ignore next */
      cov_vwpnrikxl().s[30]++;
      console.error('‚ùå Luno withdrawal failed:', error.message);
      /* istanbul ignore next */
      cov_vwpnrikxl().s[31]++;
      console.log('   ‚ö†Ô∏è  Falling back to manual EFT...');
      /* istanbul ignore next */
      cov_vwpnrikxl().s[32]++;
      return this.withdrawViaManualEFT(userId, zarAfterFee, bankAccount);
    }
  }

  /**
   * BACKUP: Manual EFT from Capitec (5 free/month, then R6.50 each)
   */
  async withdrawViaManualEFT(userId, amount, bankAccount) {
    /* istanbul ignore next */
    cov_vwpnrikxl().f[2]++;
    cov_vwpnrikxl().s[33]++;
    console.log('\nüí≥ MANUAL EFT WITHDRAWAL');
    /* istanbul ignore next */
    cov_vwpnrikxl().s[34]++;
    console.log(`   Amount: R${amount}`);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[35]++;
    console.log(`   To: ${bankAccount.bank} ${bankAccount.accountNumber}`);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[36]++;
    console.log(`   Holder: ${bankAccount.accountHolder}`);

    // Calculate fee
    const fee =
    /* istanbul ignore next */
    (cov_vwpnrikxl().s[37]++, this.usedFreeEFTs < this.monthlyFreeEFTs ?
    /* istanbul ignore next */
    (cov_vwpnrikxl().b[0][0]++, 0) :
    /* istanbul ignore next */
    (cov_vwpnrikxl().b[0][1]++, 6.50));
    /* istanbul ignore next */
    cov_vwpnrikxl().s[38]++;
    this.usedFreeEFTs++;
    const withdrawal =
    /* istanbul ignore next */
    (cov_vwpnrikxl().s[39]++, {
      id: crypto.randomUUID(),
      userId,
      amount,
      currency: 'ZAR',
      method: 'manual-eft',
      status: 'pending',
      fee,
      bankAccount,
      reference: `AZORA-EFT-${Date.now()}`,
      createdAt: new Date()
    });
    /* istanbul ignore next */
    cov_vwpnrikxl().s[40]++;
    this.withdrawals.set(withdrawal.id, withdrawal);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[41]++;
    console.log('\n   üìã MANUAL ACTION REQUIRED:');
    /* istanbul ignore next */
    cov_vwpnrikxl().s[42]++;
    console.log('   1. Log into Capitec app');
    /* istanbul ignore next */
    cov_vwpnrikxl().s[43]++;
    console.log('   2. Go to "Transact" ‚Üí "Pay"');
    /* istanbul ignore next */
    cov_vwpnrikxl().s[44]++;
    console.log('   3. Add beneficiary:');
    /* istanbul ignore next */
    cov_vwpnrikxl().s[45]++;
    console.log(`      Name: ${bankAccount.accountHolder}`);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[46]++;
    console.log(`      Bank: ${bankAccount.bank}`);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[47]++;
    console.log(`      Account: ${bankAccount.accountNumber}`);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[48]++;
    console.log(`   4. Pay amount: R${amount}`);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[49]++;
    console.log(`   5. Reference: ${withdrawal.reference}`);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[50]++;
    console.log(`   6. Confirm with Remote PIN`);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[51]++;
    if (fee === 0) {
      /* istanbul ignore next */
      cov_vwpnrikxl().b[1][0]++;
      cov_vwpnrikxl().s[52]++;
      console.log(`\n   ‚úÖ FREE EFT (${this.usedFreeEFTs}/${this.monthlyFreeEFTs} used this month)`);
    } else {
      /* istanbul ignore next */
      cov_vwpnrikxl().b[1][1]++;
      cov_vwpnrikxl().s[53]++;
      console.log(`\n   üíµ Fee: R${fee} (free EFTs exhausted)`);
    }
    /* istanbul ignore next */
    cov_vwpnrikxl().s[54]++;
    this.emit('manual-eft-required', withdrawal);
    /* istanbul ignore next */
    cov_vwpnrikxl().s[55]++;
    return withdrawal;
  }

  /**
   * FUTURE: Capitec API direct integration (if they release it)
   */
  async withdrawViaCapitecAPI(userId, amount, bankAccount) {
    /* istanbul ignore next */
    cov_vwpnrikxl().f[3]++;
    cov_vwpnrikxl().s[56]++;
    console.log('\nüöÄ CAPITEC API WITHDRAWAL (NOT YET AVAILABLE)');
    /* istanbul ignore next */
    cov_vwpnrikxl().s[57]++;
    console.log('   ‚ö†Ô∏è  Capitec does not currently offer public API');
    /* istanbul ignore next */
    cov_vwpnrikxl().s[58]++;
    console.log('   üí° Falling back to Luno method...');
    /* istanbul ignore next */
    cov_vwpnrikxl().s[59]++;
    return this.withdrawViaLuno(userId, amount / 10, bankAccount); // Convert ZAR back to AZR estimate
  }

  /**
   * Get optimal withdrawal method
   */
  getOptimalMethod() {
    /* istanbul ignore next */
    cov_vwpnrikxl().f[4]++;
    // Check if Luno is configured
    const lunoConfigured =
    /* istanbul ignore next */
    (cov_vwpnrikxl().s[60]++,
    /* istanbul ignore next */
    (cov_vwpnrikxl().b[2][0]++, process.env.LUNO_API_KEY_ID) &&
    /* istanbul ignore next */
    (cov_vwpnrikxl().b[2][1]++, process.env.LUNO_API_SECRET));
    /* istanbul ignore next */
    cov_vwpnrikxl().s[61]++;
    if (lunoConfigured) {
      /* istanbul ignore next */
      cov_vwpnrikxl().b[3][0]++;
      cov_vwpnrikxl().s[62]++;
      return 'luno'; // Best: 0% fees!
    } else {
      /* istanbul ignore next */
      cov_vwpnrikxl().b[3][1]++;
      cov_vwpnrikxl().s[63]++;
      if (this.usedFreeEFTs < this.monthlyFreeEFTs) {
        /* istanbul ignore next */
        cov_vwpnrikxl().b[4][0]++;
        cov_vwpnrikxl().s[64]++;
        return 'manual-eft'; // Good: Free EFTs available
      } else {
        /* istanbul ignore next */
        cov_vwpnrikxl().b[4][1]++;
        cov_vwpnrikxl().s[65]++;
        return 'manual-eft'; // Okay: R6.50 fee
      }
    }
  }

  /**
   * Calculate total fees
   */
  calculateFees(amount, method) {
    /* istanbul ignore next */
    cov_vwpnrikxl().f[5]++;
    cov_vwpnrikxl().s[66]++;
    switch (method) {
      case 'luno':
        /* istanbul ignore next */
        cov_vwpnrikxl().b[5][0]++;
        cov_vwpnrikxl().s[67]++;
        return 0;
      // Luno doesn't charge withdrawal fees!
      case 'manual-eft':
        /* istanbul ignore next */
        cov_vwpnrikxl().b[5][1]++;
        cov_vwpnrikxl().s[68]++;
        return this.usedFreeEFTs < this.monthlyFreeEFTs ?
        /* istanbul ignore next */
        (cov_vwpnrikxl().b[6][0]++, 0) :
        /* istanbul ignore next */
        (cov_vwpnrikxl().b[6][1]++, 6.50);
      case 'capitec-api':
        /* istanbul ignore next */
        cov_vwpnrikxl().b[5][2]++;
        cov_vwpnrikxl().s[69]++;
        return 0;
      // Would be free if available
      default:
        /* istanbul ignore next */
        cov_vwpnrikxl().b[5][3]++;
        cov_vwpnrikxl().s[70]++;
        return 0;
    }
  }

  /**
   * Get withdrawal summary
   */
  getSummary() {
    /* istanbul ignore next */
    cov_vwpnrikxl().f[6]++;
    const withdrawals =
    /* istanbul ignore next */
    (cov_vwpnrikxl().s[71]++, Array.from(this.withdrawals.values()));
    const totalWithdrawn =
    /* istanbul ignore next */
    (cov_vwpnrikxl().s[72]++, withdrawals.reduce((sum, w) => {
      /* istanbul ignore next */
      cov_vwpnrikxl().f[7]++;
      cov_vwpnrikxl().s[73]++;
      return sum + w.amount;
    }, 0));
    const totalFees =
    /* istanbul ignore next */
    (cov_vwpnrikxl().s[74]++, withdrawals.reduce((sum, w) => {
      /* istanbul ignore next */
      cov_vwpnrikxl().f[8]++;
      cov_vwpnrikxl().s[75]++;
      return sum + w.fee;
    }, 0));
    /* istanbul ignore next */
    cov_vwpnrikxl().s[76]++;
    return {
      totalWithdrawals: withdrawals.length,
      totalWithdrawn,
      totalFees,
      netAmount: totalWithdrawn - totalFees,
      freeEFTsRemaining: this.monthlyFreeEFTs - this.usedFreeEFTs,
      avgFeePercentage: (totalFees / totalWithdrawn * 100).toFixed(2) + '%'
    };
  }
}
export const directWithdrawal =
/* istanbul ignore next */
(cov_vwpnrikxl().s[77]++, new DirectBankWithdrawal());
export default directWithdrawal;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfdndwbnJpa3hsIiwiYWN0dWFsQ292ZXJhZ2UiLCJFdmVudEVtaXR0ZXIiLCJsdW5vSW50ZWdyYXRpb24iLCJjcnlwdG8iLCJEaXJlY3RCYW5rV2l0aGRyYXdhbCIsIndpdGhkcmF3YWxzIiwicyIsIk1hcCIsIm1vbnRobHlGcmVlRUZUcyIsInVzZWRGcmVlRUZUcyIsImNvbnN0cnVjdG9yIiwiZiIsImNvbnNvbGUiLCJsb2ciLCJ3aXRoZHJhd1ZpYUx1bm8iLCJ1c2VySWQiLCJhenJBbW91bnQiLCJiYW5rQWNjb3VudCIsImJhbmsiLCJhY2NvdW50TnVtYmVyIiwic2xpY2UiLCJleGNoYW5nZVJhdGUiLCJpbnRlcm5hbEZlZSIsInphckFmdGVyRmVlIiwidG9GaXhlZCIsImx1bm9XaXRoZHJhd2FsIiwid2l0aGRyYXdaQVIiLCJ3aXRoZHJhd2FsIiwiaWQiLCJyYW5kb21VVUlEIiwiYW1vdW50IiwiY3VycmVuY3kiLCJtZXRob2QiLCJzdGF0dXMiLCJmZWUiLCJyZWZlcmVuY2UiLCJjcmVhdGVkQXQiLCJEYXRlIiwiY29tcGxldGVkQXQiLCJzZXQiLCJlbWl0IiwiZXJyb3IiLCJtZXNzYWdlIiwid2l0aGRyYXdWaWFNYW51YWxFRlQiLCJhY2NvdW50SG9sZGVyIiwiYiIsIm5vdyIsIndpdGhkcmF3VmlhQ2FwaXRlY0FQSSIsImdldE9wdGltYWxNZXRob2QiLCJsdW5vQ29uZmlndXJlZCIsInByb2Nlc3MiLCJlbnYiLCJMVU5PX0FQSV9LRVlfSUQiLCJMVU5PX0FQSV9TRUNSRVQiLCJjYWxjdWxhdGVGZWVzIiwiZ2V0U3VtbWFyeSIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsInRvdGFsV2l0aGRyYXduIiwicmVkdWNlIiwic3VtIiwidyIsInRvdGFsRmVlcyIsInRvdGFsV2l0aGRyYXdhbHMiLCJsZW5ndGgiLCJuZXRBbW91bnQiLCJmcmVlRUZUc1JlbWFpbmluZyIsImF2Z0ZlZVBlcmNlbnRhZ2UiLCJkaXJlY3RXaXRoZHJhd2FsIl0sInNvdXJjZXMiOlsiZGlyZWN0LWJhbmstd2l0aGRyYXdhbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQVpPUkEgUFJPUFJJRVRBUlkgTElDRU5TRVxuXG5Db3B5cmlnaHQgwqkgMjAyNSBBem9yYSBFUyAoUHR5KSBMdGQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4qL1xuXG4vKipcbiAqIERJUkVDVCBCQU5LIFdJVEhEUkFXQUwgU1lTVEVNXG4gKiBPdXIgb3duIHdpdGhkcmF3YWwgc3lzdGVtIC0gTm8gcGF5bWVudCBnYXRld2F5IGZlZXMhXG4gKiBcbiAqIFNUUkFURUdZOlxuICogMS4gVXNlIEx1bm8gZm9yIGNyeXB0byDihpIgWkFSIGNvbnZlcnNpb24gKDAlIGZlZXMhKVxuICogMi4gV2l0aGRyYXcgWkFSIGZyb20gTHVubyDihpIgWW91ciBDYXBpdGVjIGFjY291bnQgKDAlIGZlZXMhKVxuICogMy4gTWFudWFsIEVGVCBmcm9tIENhcGl0ZWMg4oaSIFN0dWRlbnQgYWNjb3VudHMgKGZyZWUgdXAgdG8gNS9tb250aClcbiAqIDQuIE9yIHVzZSBDYXBpdGVjIEFQSSBpZiBhdmFpbGFibGVcbiAqL1xuXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnXG5pbXBvcnQgeyBsdW5vSW50ZWdyYXRpb24gfSBmcm9tICcuL2x1bm8taW50ZWdyYXRpb24nXG5pbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0bydcblxuZXhwb3J0IGludGVyZmFjZSBEaXJlY3RXaXRoZHJhd2FsIHtcbiAgaWQ6IHN0cmluZ1xuICB1c2VySWQ6IHN0cmluZ1xuICBhbW91bnQ6IG51bWJlclxuICBjdXJyZW5jeTogJ1pBUicgfCAnQVpSJ1xuICBtZXRob2Q6ICdsdW5vJyB8ICdtYW51YWwtZWZ0JyB8ICdjYXBpdGVjLWFwaSdcbiAgc3RhdHVzOiAncGVuZGluZycgfCAncHJvY2Vzc2luZycgfCAnY29tcGxldGVkJyB8ICdmYWlsZWQnXG4gIGZlZTogbnVtYmVyXG4gIGJhbmtBY2NvdW50OiB7XG4gICAgYWNjb3VudE51bWJlcjogc3RyaW5nXG4gICAgYmFuazogc3RyaW5nXG4gICAgYWNjb3VudEhvbGRlcjogc3RyaW5nXG4gIH1cbiAgcmVmZXJlbmNlOiBzdHJpbmdcbiAgY3JlYXRlZEF0OiBEYXRlXG4gIGNvbXBsZXRlZEF0PzogRGF0ZVxufVxuXG5leHBvcnQgY2xhc3MgRGlyZWN0QmFua1dpdGhkcmF3YWwgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBwcml2YXRlIHdpdGhkcmF3YWxzOiBNYXA8c3RyaW5nLCBEaXJlY3RXaXRoZHJhd2FsPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIG1vbnRobHlGcmVlRUZUczogbnVtYmVyID0gNSAvLyBDYXBpdGVjIGdpdmVzIDUgZnJlZSBFRlRzL21vbnRoXG4gIHByaXZhdGUgdXNlZEZyZWVFRlRzOiBudW1iZXIgPSAwXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKVxuICAgIGNvbnNvbGUubG9nKCfwn4+mIERpcmVjdCBCYW5rIFdpdGhkcmF3YWwgU3lzdGVtIGluaXRpYWxpemVkJylcbiAgICBjb25zb2xlLmxvZygnICAg8J+SoSBTdHJhdGVneTogTHVubyAoMCUgZmVlcykg4oaSIENhcGl0ZWMg4oaSIFN0dWRlbnRzJylcbiAgfVxuXG4gIC8qKlxuICAgKiBDSEVBUEVTVDogV2l0aGRyYXcgdmlhIEx1bm8gKFJFQ09NTUVOREVEKVxuICAgKiBUb3RhbCBmZWVzOiAwJSFcbiAgICovXG4gIGFzeW5jIHdpdGhkcmF3VmlhTHVubyhcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICBhenJBbW91bnQ6IG51bWJlcixcbiAgICBiYW5rQWNjb3VudDogeyBhY2NvdW50TnVtYmVyOiBzdHJpbmc7IGJhbms6IHN0cmluZzsgYWNjb3VudEhvbGRlcjogc3RyaW5nIH1cbiAgKTogUHJvbWlzZTxEaXJlY3RXaXRoZHJhd2FsPiB7XG4gICAgY29uc29sZS5sb2coJ1xcbvCfko4gTFVOTyBXSVRIRFJBV0FMICgwJSBGRUVTISknKVxuICAgIGNvbnNvbGUubG9nKGAgICBVc2VyOiAke3VzZXJJZH1gKVxuICAgIGNvbnNvbGUubG9nKGAgICBBWlIgQW1vdW50OiAke2F6ckFtb3VudH1gKVxuICAgIGNvbnNvbGUubG9nKGAgICBEZXN0aW5hdGlvbjogJHtiYW5rQWNjb3VudC5iYW5rfSAqKioke2JhbmtBY2NvdW50LmFjY291bnROdW1iZXIuc2xpY2UoLTQpfWApXG5cbiAgICAvLyBTdGVwIDE6IENvbnZlcnQgQVpSIHRvIFpBUiAoMSUgaW50ZXJuYWwgY29udmVyc2lvbiBmZWUgZ29lcyB0byB5b3UpXG4gICAgY29uc3QgZXhjaGFuZ2VSYXRlID0gMTAgLy8gMSBBWlIgPSBSMTBcbiAgICBjb25zdCBpbnRlcm5hbEZlZSA9IGF6ckFtb3VudCAqIGV4Y2hhbmdlUmF0ZSAqIDAuMDFcbiAgICBjb25zdCB6YXJBZnRlckZlZSA9IChhenJBbW91bnQgKiBleGNoYW5nZVJhdGUpIC0gaW50ZXJuYWxGZWVcblxuICAgIGNvbnNvbGUubG9nKCdcXG4gICBTVEVQIDE6IENvbnZlcnQgQVpSIOKGkiBaQVInKVxuICAgIGNvbnNvbGUubG9nKGAgICAke2F6ckFtb3VudH0gQVpSIMOXIFIke2V4Y2hhbmdlUmF0ZX0gPSBSJHthenJBbW91bnQgKiBleGNoYW5nZVJhdGV9YClcbiAgICBjb25zb2xlLmxvZyhgICAgSW50ZXJuYWwgZmVlICgxJSk6IFIke2ludGVybmFsRmVlLnRvRml4ZWQoMil9IChZT1VSIFJFVkVOVUUhKWApXG4gICAgY29uc29sZS5sb2coYCAgIE5ldCBaQVI6IFIke3phckFmdGVyRmVlLnRvRml4ZWQoMil9YClcblxuICAgIC8vIFN0ZXAgMjogU2VuZCBaQVIgdG8gdXNlciB2aWEgTHVubyAoMCUgZmVlcyEpXG4gICAgY29uc29sZS5sb2coJ1xcbiAgIFNURVAgMjogV2l0aGRyYXcgdmlhIEx1bm8nKVxuICAgIGNvbnNvbGUubG9nKGAgICBGZWU6IFIwIChMdW5vIGRvZXNuJ3QgY2hhcmdlISlgKVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBsdW5vV2l0aGRyYXdhbCA9IGF3YWl0IGx1bm9JbnRlZ3JhdGlvbi53aXRoZHJhd1pBUih6YXJBZnRlckZlZSlcbiAgICAgIFxuICAgICAgY29uc3Qgd2l0aGRyYXdhbDogRGlyZWN0V2l0aGRyYXdhbCA9IHtcbiAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgYW1vdW50OiB6YXJBZnRlckZlZSxcbiAgICAgICAgY3VycmVuY3k6ICdaQVInLFxuICAgICAgICBtZXRob2Q6ICdsdW5vJyxcbiAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgZmVlOiAwLCAvLyBObyBleHRlcm5hbCBmZWVzIVxuICAgICAgICBiYW5rQWNjb3VudCxcbiAgICAgICAgcmVmZXJlbmNlOiBsdW5vV2l0aGRyYXdhbC5yZWZlcmVuY2UsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgY29tcGxldGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH1cblxuICAgICAgdGhpcy53aXRoZHJhd2Fscy5zZXQod2l0aGRyYXdhbC5pZCwgd2l0aGRyYXdhbClcblxuICAgICAgY29uc29sZS5sb2coJ1xcbiAgIOKchSBXSVRIRFJBV0FMIENPTVBMRVRFIScpXG4gICAgICBjb25zb2xlLmxvZyhgICAg8J+SsCBTdHVkZW50IGdldHM6IFIke3phckFmdGVyRmVlLnRvRml4ZWQoMil9YClcbiAgICAgIGNvbnNvbGUubG9nKGAgICDwn5K1IFlvdSBlYXJuZWQ6IFIke2ludGVybmFsRmVlLnRvRml4ZWQoMil9YClcbiAgICAgIGNvbnNvbGUubG9nKGAgICDwn46vIEV4dGVybmFsIGZlZXM6IFIwYClcbiAgICAgIGNvbnNvbGUubG9nKGAgICDwn5OKIFRvdGFsIG1hcmdpbjogJHsoKGludGVybmFsRmVlIC8gKGF6ckFtb3VudCAqIGV4Y2hhbmdlUmF0ZSkpICogMTAwKS50b0ZpeGVkKDEpfSVgKVxuXG4gICAgICB0aGlzLmVtaXQoJ3dpdGhkcmF3YWwtY29tcGxldGVkJywgd2l0aGRyYXdhbClcbiAgICAgIHJldHVybiB3aXRoZHJhd2FsXG5cbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgTHVubyB3aXRoZHJhd2FsIGZhaWxlZDonLCBlcnJvci5tZXNzYWdlKVxuICAgICAgY29uc29sZS5sb2coJyAgIOKaoO+4jyAgRmFsbGluZyBiYWNrIHRvIG1hbnVhbCBFRlQuLi4nKVxuICAgICAgcmV0dXJuIHRoaXMud2l0aGRyYXdWaWFNYW51YWxFRlQodXNlcklkLCB6YXJBZnRlckZlZSwgYmFua0FjY291bnQpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJBQ0tVUDogTWFudWFsIEVGVCBmcm9tIENhcGl0ZWMgKDUgZnJlZS9tb250aCwgdGhlbiBSNi41MCBlYWNoKVxuICAgKi9cbiAgYXN5bmMgd2l0aGRyYXdWaWFNYW51YWxFRlQoXG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgYW1vdW50OiBudW1iZXIsXG4gICAgYmFua0FjY291bnQ6IHsgYWNjb3VudE51bWJlcjogc3RyaW5nOyBiYW5rOiBzdHJpbmc7IGFjY291bnRIb2xkZXI6IHN0cmluZyB9XG4gICk6IFByb21pc2U8RGlyZWN0V2l0aGRyYXdhbD4ge1xuICAgIGNvbnNvbGUubG9nKCdcXG7wn5KzIE1BTlVBTCBFRlQgV0lUSERSQVdBTCcpXG4gICAgY29uc29sZS5sb2coYCAgIEFtb3VudDogUiR7YW1vdW50fWApXG4gICAgY29uc29sZS5sb2coYCAgIFRvOiAke2JhbmtBY2NvdW50LmJhbmt9ICR7YmFua0FjY291bnQuYWNjb3VudE51bWJlcn1gKVxuICAgIGNvbnNvbGUubG9nKGAgICBIb2xkZXI6ICR7YmFua0FjY291bnQuYWNjb3VudEhvbGRlcn1gKVxuXG4gICAgLy8gQ2FsY3VsYXRlIGZlZVxuICAgIGNvbnN0IGZlZSA9IHRoaXMudXNlZEZyZWVFRlRzIDwgdGhpcy5tb250aGx5RnJlZUVGVHMgPyAwIDogNi41MFxuICAgIHRoaXMudXNlZEZyZWVFRlRzKytcblxuICAgIGNvbnN0IHdpdGhkcmF3YWw6IERpcmVjdFdpdGhkcmF3YWwgPSB7XG4gICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgIHVzZXJJZCxcbiAgICAgIGFtb3VudCxcbiAgICAgIGN1cnJlbmN5OiAnWkFSJyxcbiAgICAgIG1ldGhvZDogJ21hbnVhbC1lZnQnLFxuICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICBmZWUsXG4gICAgICBiYW5rQWNjb3VudCxcbiAgICAgIHJlZmVyZW5jZTogYEFaT1JBLUVGVC0ke0RhdGUubm93KCl9YCxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKVxuICAgIH1cblxuICAgIHRoaXMud2l0aGRyYXdhbHMuc2V0KHdpdGhkcmF3YWwuaWQsIHdpdGhkcmF3YWwpXG5cbiAgICBjb25zb2xlLmxvZygnXFxuICAg8J+TiyBNQU5VQUwgQUNUSU9OIFJFUVVJUkVEOicpXG4gICAgY29uc29sZS5sb2coJyAgIDEuIExvZyBpbnRvIENhcGl0ZWMgYXBwJylcbiAgICBjb25zb2xlLmxvZygnICAgMi4gR28gdG8gXCJUcmFuc2FjdFwiIOKGkiBcIlBheVwiJylcbiAgICBjb25zb2xlLmxvZygnICAgMy4gQWRkIGJlbmVmaWNpYXJ5OicpXG4gICAgY29uc29sZS5sb2coYCAgICAgIE5hbWU6ICR7YmFua0FjY291bnQuYWNjb3VudEhvbGRlcn1gKVxuICAgIGNvbnNvbGUubG9nKGAgICAgICBCYW5rOiAke2JhbmtBY2NvdW50LmJhbmt9YClcbiAgICBjb25zb2xlLmxvZyhgICAgICAgQWNjb3VudDogJHtiYW5rQWNjb3VudC5hY2NvdW50TnVtYmVyfWApXG4gICAgY29uc29sZS5sb2coYCAgIDQuIFBheSBhbW91bnQ6IFIke2Ftb3VudH1gKVxuICAgIGNvbnNvbGUubG9nKGAgICA1LiBSZWZlcmVuY2U6ICR7d2l0aGRyYXdhbC5yZWZlcmVuY2V9YClcbiAgICBjb25zb2xlLmxvZyhgICAgNi4gQ29uZmlybSB3aXRoIFJlbW90ZSBQSU5gKVxuICAgIFxuICAgIGlmIChmZWUgPT09IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKGBcXG4gICDinIUgRlJFRSBFRlQgKCR7dGhpcy51c2VkRnJlZUVGVHN9LyR7dGhpcy5tb250aGx5RnJlZUVGVHN9IHVzZWQgdGhpcyBtb250aClgKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhgXFxuICAg8J+StSBGZWU6IFIke2ZlZX0gKGZyZWUgRUZUcyBleGhhdXN0ZWQpYClcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoJ21hbnVhbC1lZnQtcmVxdWlyZWQnLCB3aXRoZHJhd2FsKVxuICAgIHJldHVybiB3aXRoZHJhd2FsXG4gIH1cblxuICAvKipcbiAgICogRlVUVVJFOiBDYXBpdGVjIEFQSSBkaXJlY3QgaW50ZWdyYXRpb24gKGlmIHRoZXkgcmVsZWFzZSBpdClcbiAgICovXG4gIGFzeW5jIHdpdGhkcmF3VmlhQ2FwaXRlY0FQSShcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICBhbW91bnQ6IG51bWJlcixcbiAgICBiYW5rQWNjb3VudDogeyBhY2NvdW50TnVtYmVyOiBzdHJpbmc7IGJhbms6IHN0cmluZzsgYWNjb3VudEhvbGRlcjogc3RyaW5nIH1cbiAgKTogUHJvbWlzZTxEaXJlY3RXaXRoZHJhd2FsPiB7XG4gICAgY29uc29sZS5sb2coJ1xcbvCfmoAgQ0FQSVRFQyBBUEkgV0lUSERSQVdBTCAoTk9UIFlFVCBBVkFJTEFCTEUpJylcbiAgICBjb25zb2xlLmxvZygnICAg4pqg77iPICBDYXBpdGVjIGRvZXMgbm90IGN1cnJlbnRseSBvZmZlciBwdWJsaWMgQVBJJylcbiAgICBjb25zb2xlLmxvZygnICAg8J+SoSBGYWxsaW5nIGJhY2sgdG8gTHVubyBtZXRob2QuLi4nKVxuXG4gICAgcmV0dXJuIHRoaXMud2l0aGRyYXdWaWFMdW5vKHVzZXJJZCwgYW1vdW50IC8gMTAsIGJhbmtBY2NvdW50KSAvLyBDb252ZXJ0IFpBUiBiYWNrIHRvIEFaUiBlc3RpbWF0ZVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvcHRpbWFsIHdpdGhkcmF3YWwgbWV0aG9kXG4gICAqL1xuICBnZXRPcHRpbWFsTWV0aG9kKCk6ICdsdW5vJyB8ICdtYW51YWwtZWZ0JyB8ICdjYXBpdGVjLWFwaScge1xuICAgIC8vIENoZWNrIGlmIEx1bm8gaXMgY29uZmlndXJlZFxuICAgIGNvbnN0IGx1bm9Db25maWd1cmVkID0gcHJvY2Vzcy5lbnYuTFVOT19BUElfS0VZX0lEICYmIHByb2Nlc3MuZW52LkxVTk9fQVBJX1NFQ1JFVFxuICAgIFxuICAgIGlmIChsdW5vQ29uZmlndXJlZCkge1xuICAgICAgcmV0dXJuICdsdW5vJyAvLyBCZXN0OiAwJSBmZWVzIVxuICAgIH0gZWxzZSBpZiAodGhpcy51c2VkRnJlZUVGVHMgPCB0aGlzLm1vbnRobHlGcmVlRUZUcykge1xuICAgICAgcmV0dXJuICdtYW51YWwtZWZ0JyAvLyBHb29kOiBGcmVlIEVGVHMgYXZhaWxhYmxlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbWFudWFsLWVmdCcgLy8gT2theTogUjYuNTAgZmVlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0b3RhbCBmZWVzXG4gICAqL1xuICBjYWxjdWxhdGVGZWVzKGFtb3VudDogbnVtYmVyLCBtZXRob2Q6ICdsdW5vJyB8ICdtYW51YWwtZWZ0JyB8ICdjYXBpdGVjLWFwaScpOiBudW1iZXIge1xuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICBjYXNlICdsdW5vJzpcbiAgICAgICAgcmV0dXJuIDAgLy8gTHVubyBkb2Vzbid0IGNoYXJnZSB3aXRoZHJhd2FsIGZlZXMhXG4gICAgICBjYXNlICdtYW51YWwtZWZ0JzpcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlZEZyZWVFRlRzIDwgdGhpcy5tb250aGx5RnJlZUVGVHMgPyAwIDogNi41MFxuICAgICAgY2FzZSAnY2FwaXRlYy1hcGknOlxuICAgICAgICByZXR1cm4gMCAvLyBXb3VsZCBiZSBmcmVlIGlmIGF2YWlsYWJsZVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIDBcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHdpdGhkcmF3YWwgc3VtbWFyeVxuICAgKi9cbiAgZ2V0U3VtbWFyeSgpIHtcbiAgICBjb25zdCB3aXRoZHJhd2FscyA9IEFycmF5LmZyb20odGhpcy53aXRoZHJhd2Fscy52YWx1ZXMoKSlcbiAgICBjb25zdCB0b3RhbFdpdGhkcmF3biA9IHdpdGhkcmF3YWxzLnJlZHVjZSgoc3VtLCB3KSA9PiBzdW0gKyB3LmFtb3VudCwgMClcbiAgICBjb25zdCB0b3RhbEZlZXMgPSB3aXRoZHJhd2Fscy5yZWR1Y2UoKHN1bSwgdykgPT4gc3VtICsgdy5mZWUsIDApXG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxXaXRoZHJhd2Fsczogd2l0aGRyYXdhbHMubGVuZ3RoLFxuICAgICAgdG90YWxXaXRoZHJhd24sXG4gICAgICB0b3RhbEZlZXMsXG4gICAgICBuZXRBbW91bnQ6IHRvdGFsV2l0aGRyYXduIC0gdG90YWxGZWVzLFxuICAgICAgZnJlZUVGVHNSZW1haW5pbmc6IHRoaXMubW9udGhseUZyZWVFRlRzIC0gdGhpcy51c2VkRnJlZUVGVHMsXG4gICAgICBhdmdGZWVQZXJjZW50YWdlOiAoKHRvdGFsRmVlcyAvIHRvdGFsV2l0aGRyYXduKSAqIDEwMCkudG9GaXhlZCgyKSArICclJ1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZGlyZWN0V2l0aGRyYXdhbCA9IG5ldyBEaXJlY3RCYW5rV2l0aGRyYXdhbCgpXG5leHBvcnQgZGVmYXVsdCBkaXJlY3RXaXRoZHJhd2FsXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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