{"version":3,"names":["cov_avw7b7cmr","actualCoverage","express","helmet","cors","compression","dotenv","qualificationRoutes","tutoringRoutes","chatRoutes","s","config","authenticateToken","rateLimiter","require","app","PORT","parseInt","b","process","env","SERVICE_NAME","use","json","max","req","res","next","f","console","log","Date","toISOString","method","path","get","status","service","timestamp","uptime","err","error","message","listen"],"sources":["index.ts"],"sourcesContent":["import express, { Express, Request, Response, NextFunction } from 'express';\nimport helmet from 'helmet';\nimport cors from 'cors';\nimport compression from 'compression';\nimport dotenv from 'dotenv';\n\nimport qualificationRoutes from './routes/qualificationRoutes';\nimport tutoringRoutes from './routes/tutoringRoutes';\nimport chatRoutes from './routes/chatRoutes';\n\ndotenv.config();\n\n// Import auth middleware\nconst { authenticateToken, rateLimiter } = require('@azora/shared-auth');\n\nconst app: Express = express();\nconst PORT: number = parseInt(process.env.PORT || '3001', 10);\nconst SERVICE_NAME: string = process.env.SERVICE_NAME || 'azora-sapiens';\n\n// Middleware\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\napp.use(rateLimiter({ max: 30 }));\n\n// Request logging\napp.use((req: Request, res: Response, next: NextFunction) => {\n  console.log(`[${new Date().toISOString()}] ${req.method} ${req.path}`);\n  next();\n});\n\n// Health check\napp.get('/health', (req: Request, res: Response) => {\n  res.json({\n    status: 'healthy',\n    service: SERVICE_NAME,\n    timestamp: new Date().toISOString(),\n    uptime: process.uptime()\n  });\n});\n\n// API routes\napp.use('/api/qualifications', qualificationRoutes);\napp.use('/api/tutoring', authenticateToken, tutoringRoutes);\napp.use('/api/chat', chatRoutes);\n\n// Error handling\napp.use((err: Error, req: Request, res: Response, next: NextFunction) => {\n  console.error('Error:', err);\n  res.status(500).json({\n    error: 'Internal server error',\n    message: err.message\n  });\n});\n\n// 404 handler\napp.use((req: Request, res: Response) => {\n  res.status(404).json({ error: 'Not found' });\n});\n\n// Start server\napp.listen(PORT, () => {\n  console.log(`‚úÖ ${SERVICE_NAME} running on port ${PORT}`);\n  console.log(`üåç Health check: http://localhost:${PORT}/health`);\n});\n\nexport default app;\n"],"mappings":"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","ignoreList":[]}