{"version":3,"names":["cov_1v03xkfgle","actualCoverage","Counter","Histogram","Gauge","register","winston","performanceLogger","s","createLogger","defaultMeta","service","format","combine","timestamp","json","transports","Console","colorize","printf","level","message","meta","f","metaStr","Object","keys","length","b","JSON","stringify","File","filename","maxsize","maxFiles","httpRequestDuration","name","help","labelNames","buckets","httpRequestTotal","dbQueryDuration","dbQueryTotal","errorRateGauge","slowRequestsTotal","slowQueriesTotal","THRESHOLDS","API_LATENCY_MS","parseInt","process","env","PERF_API_LATENCY_MS","DB_QUERY_MS","PERF_DB_QUERY_MS","ERROR_RATE","parseFloat","PERF_ERROR_RATE","totalRequests","errorRequests","performanceMiddleware","req","res","next","start","Date","now","route","path","on","duration","observe","method","status_code","statusCode","inc","errorRate","set","warn","threshold","status","severity","error","toFixed","trackDbQuery","operation","model","getMetrics","metrics","resetMetrics","clear","getPerformanceStats","thresholds"],"sources":["performance.ts"],"sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport { Counter, Histogram, Gauge, register } from 'prom-client';\nimport winston from 'winston';\n\n// Create logger for performance tracking\nconst performanceLogger = winston.createLogger({\n  defaultMeta: { service: 'performance-monitor' },\n  format: winston.format.combine(\n    winston.format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }),\n    winston.format.json()\n  ),\n  transports: [\n    new winston.transports.Console({\n      format: winston.format.combine(\n        winston.format.colorize(),\n        winston.format.printf(({ timestamp, level, message, ...meta }) => {\n          const metaStr = Object.keys(meta).length ? JSON.stringify(meta) : '';\n          return `${timestamp} [PERF] ${level}: ${message} ${metaStr}`;\n        })\n      ),\n    }),\n    new winston.transports.File({\n      filename: 'logs/performance.log',\n      maxsize: 10485760, // 10MB\n      maxFiles: 5,\n    }),\n  ],\n});\n\n// Prometheus metrics\nconst httpRequestDuration = new Histogram({\n  name: 'http_request_duration_ms',\n  help: 'Duration of HTTP requests in ms',\n  labelNames: ['method', 'route', 'status_code'],\n  buckets: [10, 50, 100, 200, 500, 1000, 2000, 5000]\n});\n\nconst httpRequestTotal = new Counter({\n  name: 'http_requests_total',\n  help: 'Total number of HTTP requests',\n  labelNames: ['method', 'route', 'status_code']\n});\n\nconst dbQueryDuration = new Histogram({\n  name: 'db_query_duration_ms',\n  help: 'Duration of database queries in ms',\n  labelNames: ['operation', 'model'],\n  buckets: [5, 10, 25, 50, 100, 250, 500, 1000]\n});\n\nconst dbQueryTotal = new Counter({\n  name: 'db_queries_total',\n  help: 'Total number of database queries',\n  labelNames: ['operation', 'model', 'status']\n});\n\nconst errorRateGauge = new Gauge({\n  name: 'http_error_rate',\n  help: 'Current HTTP error rate',\n  labelNames: ['service']\n});\n\nconst slowRequestsTotal = new Counter({\n  name: 'slow_requests_total',\n  help: 'Total number of slow API requests',\n  labelNames: ['method', 'route']\n});\n\nconst slowQueriesTotal = new Counter({\n  name: 'slow_queries_total',\n  help: 'Total number of slow database queries',\n  labelNames: ['operation', 'model']\n});\n\n// Performance thresholds (configurable via environment)\nexport const THRESHOLDS = {\n  API_LATENCY_MS: parseInt(process.env.PERF_API_LATENCY_MS || '100', 10),\n  DB_QUERY_MS: parseInt(process.env.PERF_DB_QUERY_MS || '50', 10),\n  ERROR_RATE: parseFloat(process.env.PERF_ERROR_RATE || '0.001') // 0.1%\n};\n\n// Track request counts for error rate calculation\nlet totalRequests = 0;\nlet errorRequests = 0;\n\n/**\n * Express middleware for performance monitoring\n * Measures API response times and records metrics to Prometheus\n */\nexport const performanceMiddleware = (req: Request, res: Response, next: NextFunction) => {\n  const start = Date.now();\n  const route = req.route?.path || req.path;\n  \n  res.on('finish', () => {\n    const duration = Date.now() - start;\n    \n    // Record metrics\n    httpRequestDuration.observe(\n      { method: req.method, route, status_code: res.statusCode },\n      duration\n    );\n    \n    httpRequestTotal.inc({ method: req.method, route, status_code: res.statusCode });\n    \n    // Track error rate\n    totalRequests++;\n    if (res.statusCode >= 400) {\n      errorRequests++;\n    }\n    \n    // Update error rate gauge\n    const errorRate = errorRequests / totalRequests;\n    errorRateGauge.set({ service: 'api' }, errorRate);\n    \n    // Alert on slow API responses\n    if (duration > THRESHOLDS.API_LATENCY_MS) {\n      slowRequestsTotal.inc({ method: req.method, route });\n      performanceLogger.warn('Slow API response detected', {\n        method: req.method,\n        route,\n        duration,\n        threshold: THRESHOLDS.API_LATENCY_MS,\n        status: res.statusCode,\n        severity: duration > THRESHOLDS.API_LATENCY_MS * 2 ? 'high' : 'medium'\n      });\n    }\n    \n    // Alert on high error rate\n    if (errorRate > THRESHOLDS.ERROR_RATE) {\n      performanceLogger.error('High error rate detected', {\n        errorRate: (errorRate * 100).toFixed(2) + '%',\n        threshold: (THRESHOLDS.ERROR_RATE * 100).toFixed(2) + '%',\n        totalRequests,\n        errorRequests,\n        severity: 'high'\n      });\n    }\n  });\n  \n  next();\n};\n\n/**\n * Track database query performance\n * Records query duration and alerts on slow queries\n */\nexport const trackDbQuery = (\n  operation: string,\n  model: string,\n  duration: number,\n  status: 'success' | 'error' = 'success'\n) => {\n  // Record metrics\n  dbQueryDuration.observe({ operation, model }, duration);\n  dbQueryTotal.inc({ operation, model, status });\n  \n  // Alert on slow database queries\n  if (duration > THRESHOLDS.DB_QUERY_MS) {\n    slowQueriesTotal.inc({ operation, model });\n    performanceLogger.warn('Slow database query detected', {\n      operation,\n      model,\n      duration,\n      threshold: THRESHOLDS.DB_QUERY_MS,\n      status,\n      severity: duration > THRESHOLDS.DB_QUERY_MS * 2 ? 'high' : 'medium'\n    });\n  }\n};\n\n/**\n * Get current performance metrics\n */\nexport const getMetrics = async () => {\n  return register.metrics();\n};\n\n/**\n * Reset performance metrics\n */\nexport const resetMetrics = () => {\n  totalRequests = 0;\n  errorRequests = 0;\n  register.clear();\n};\n\n/**\n * Get current performance statistics\n */\nexport const getPerformanceStats = () => {\n  return {\n    totalRequests,\n    errorRequests,\n    errorRate: totalRequests > 0 ? (errorRequests / totalRequests * 100).toFixed(2) + '%' : '0%',\n    thresholds: THRESHOLDS\n  };\n};\n\n/**\n * Export metrics for external use\n */\nexport {\n  httpRequestDuration,\n  httpRequestTotal,\n  dbQueryDuration,\n  dbQueryTotal,\n  errorRateGauge,\n  slowRequestsTotal,\n  slowQueriesTotal,\n  performanceLogger\n};\n"],"mappings":"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","ignoreList":[]}