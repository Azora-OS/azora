c299be89b3e3dfa8395601a4ccae28e2
"use strict";

const request = require('supertest');
const express = require('express');
function createTestApp() {
  const app = express();
  app.use(express.json());
  app.get('/api/health', (req, res) => {
    res.json({
      status: 'OK',
      service: 'AI Family Service',
      timestamp: new Date().toISOString()
    });
  });
  app.post('/api/chat/chat', (req, res) => {
    const {
      familyMember,
      message
    } = req.body;
    if (!familyMember || !message) {
      return res.status(400).json({
        error: 'Family member and message are required'
      });
    }
    const response_data = {
      conversationId: `conv_${Date.now()}`,
      familyMember,
      message,
      response: `Response from ${familyMember}`,
      timestamp: new Date().toISOString()
    };
    res.json(response_data);
  });
  app.post('/api/chat/auto-chat', (req, res) => {
    const {
      message
    } = req.body;
    if (!message) {
      return res.status(400).json({
        error: 'Message is required'
      });
    }
    const response_data = {
      conversationId: `conv_${Date.now()}`,
      selectedMember: 'elara',
      message,
      response: 'Auto-selected response',
      timestamp: new Date().toISOString()
    };
    res.json(response_data);
  });
  app.get('/api/chat/family-config', (req, res) => {
    res.json({
      members: [{
        id: 'elara',
        name: 'Elara',
        specialty: 'education'
      }, {
        id: 'sage',
        name: 'Sage',
        specialty: 'wisdom'
      }],
      count: 2
    });
  });
  app.post('/api/chat/consult-family', (req, res) => {
    const {
      topic,
      members
    } = req.body;
    if (!topic) {
      return res.status(400).json({
        error: 'Topic is required'
      });
    }
    const consultation = {
      consultationId: `consult_${Date.now()}`,
      topic,
      responses: [],
      timestamp: new Date().toISOString()
    };
    res.json(consultation);
  });
  return app;
}
describe('AI Family Service - AI Family Tests', () => {
  let app;
  beforeEach(() => {
    app = createTestApp();
  });
  describe('GET /api/health', () => {
    it('should return health status', async () => {
      const response = await request(app).get('/api/health');
      expect(response.status).toBe(200);
      expect(response.body.status).toBe('OK');
      expect(response.body.service).toBe('AI Family Service');
    });
  });
  describe('POST /api/chat/chat', () => {
    it('should chat with specific family member', async () => {
      const response = await request(app).post('/api/chat/chat').send({
        familyMember: 'elara',
        message: 'Hello, how can you help me?'
      });
      expect(response.status).toBe(200);
      expect(response.body).toHaveProperty('conversationId');
      expect(response.body.familyMember).toBe('elara');
      expect(response.body).toHaveProperty('response');
    });
    it('should return error when family member is missing', async () => {
      const response = await request(app).post('/api/chat/chat').send({
        message: 'Hello'
      });
      expect(response.status).toBe(400);
      expect(response.body.error).toBe('Family member and message are required');
    });
    it('should return error when message is missing', async () => {
      const response = await request(app).post('/api/chat/chat').send({
        familyMember: 'elara'
      });
      expect(response.status).toBe(400);
      expect(response.body.error).toBe('Family member and message are required');
    });
  });
  describe('POST /api/chat/auto-chat', () => {
    it('should auto-select family member for message', async () => {
      const response = await request(app).post('/api/chat/auto-chat').send({
        message: 'I need help with education'
      });
      expect(response.status).toBe(200);
      expect(response.body).toHaveProperty('conversationId');
      expect(response.body).toHaveProperty('selectedMember');
      expect(response.body).toHaveProperty('response');
    });
    it('should return error when message is missing', async () => {
      const response = await request(app).post('/api/chat/auto-chat').send({});
      expect(response.status).toBe(400);
      expect(response.body.error).toBe('Message is required');
    });
  });
  describe('GET /api/chat/family-config', () => {
    it('should return family member configuration', async () => {
      const response = await request(app).get('/api/chat/family-config');
      expect(response.status).toBe(200);
      expect(response.body).toHaveProperty('members');
      expect(Array.isArray(response.body.members)).toBe(true);
      expect(response.body.members.length).toBeGreaterThan(0);
    });
    it('should include member details', async () => {
      const response = await request(app).get('/api/chat/family-config');
      expect(response.status).toBe(200);
      expect(response.body.members[0]).toHaveProperty('id');
      expect(response.body.members[0]).toHaveProperty('name');
      expect(response.body.members[0]).toHaveProperty('specialty');
    });
  });
  describe('POST /api/chat/consult-family', () => {
    it('should consult multiple family members', async () => {
      const response = await request(app).post('/api/chat/consult-family').send({
        topic: 'Career guidance',
        members: ['elara', 'sage']
      });
      expect(response.status).toBe(200);
      expect(response.body).toHaveProperty('consultationId');
      expect(response.body.topic).toBe('Career guidance');
      expect(response.body).toHaveProperty('responses');
    });
    it('should return error when topic is missing', async () => {
      const response = await request(app).post('/api/chat/consult-family').send({
        members: ['elara']
      });
      expect(response.status).toBe(400);
      expect(response.body.error).toBe('Topic is required');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImV4cHJlc3MiLCJjcmVhdGVUZXN0QXBwIiwiYXBwIiwidXNlIiwianNvbiIsImdldCIsInJlcSIsInJlcyIsInN0YXR1cyIsInNlcnZpY2UiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJwb3N0IiwiZmFtaWx5TWVtYmVyIiwibWVzc2FnZSIsImJvZHkiLCJlcnJvciIsInJlc3BvbnNlX2RhdGEiLCJjb252ZXJzYXRpb25JZCIsIm5vdyIsInJlc3BvbnNlIiwic2VsZWN0ZWRNZW1iZXIiLCJtZW1iZXJzIiwiaWQiLCJuYW1lIiwic3BlY2lhbHR5IiwiY291bnQiLCJ0b3BpYyIsImNvbnN1bHRhdGlvbiIsImNvbnN1bHRhdGlvbklkIiwicmVzcG9uc2VzIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiaXQiLCJleHBlY3QiLCJ0b0JlIiwic2VuZCIsInRvSGF2ZVByb3BlcnR5IiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIl0sInNvdXJjZXMiOlsiYWktZmFtaWx5LnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpO1xuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcblxuZnVuY3Rpb24gY3JlYXRlVGVzdEFwcCgpIHtcbiAgY29uc3QgYXBwID0gZXhwcmVzcygpO1xuICBhcHAudXNlKGV4cHJlc3MuanNvbigpKTtcblxuICBhcHAuZ2V0KCcvYXBpL2hlYWx0aCcsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5qc29uKHtcbiAgICAgIHN0YXR1czogJ09LJyxcbiAgICAgIHNlcnZpY2U6ICdBSSBGYW1pbHkgU2VydmljZScsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH0pO1xuICB9KTtcblxuICBhcHAucG9zdCgnL2FwaS9jaGF0L2NoYXQnLCAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGZhbWlseU1lbWJlciwgbWVzc2FnZSB9ID0gcmVxLmJvZHk7XG5cbiAgICBpZiAoIWZhbWlseU1lbWJlciB8fCAhbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdGYW1pbHkgbWVtYmVyIGFuZCBtZXNzYWdlIGFyZSByZXF1aXJlZCcgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2VfZGF0YSA9IHtcbiAgICAgIGNvbnZlcnNhdGlvbklkOiBgY29udl8ke0RhdGUubm93KCl9YCxcbiAgICAgIGZhbWlseU1lbWJlcixcbiAgICAgIG1lc3NhZ2UsXG4gICAgICByZXNwb25zZTogYFJlc3BvbnNlIGZyb20gJHtmYW1pbHlNZW1iZXJ9YCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcblxuICAgIHJlcy5qc29uKHJlc3BvbnNlX2RhdGEpO1xuICB9KTtcblxuICBhcHAucG9zdCgnL2FwaS9jaGF0L2F1dG8tY2hhdCcsIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gcmVxLmJvZHk7XG5cbiAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTWVzc2FnZSBpcyByZXF1aXJlZCcgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2VfZGF0YSA9IHtcbiAgICAgIGNvbnZlcnNhdGlvbklkOiBgY29udl8ke0RhdGUubm93KCl9YCxcbiAgICAgIHNlbGVjdGVkTWVtYmVyOiAnZWxhcmEnLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHJlc3BvbnNlOiAnQXV0by1zZWxlY3RlZCByZXNwb25zZScsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG5cbiAgICByZXMuanNvbihyZXNwb25zZV9kYXRhKTtcbiAgfSk7XG5cbiAgYXBwLmdldCgnL2FwaS9jaGF0L2ZhbWlseS1jb25maWcnLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuanNvbih7XG4gICAgICBtZW1iZXJzOiBbXG4gICAgICAgIHsgaWQ6ICdlbGFyYScsIG5hbWU6ICdFbGFyYScsIHNwZWNpYWx0eTogJ2VkdWNhdGlvbicgfSxcbiAgICAgICAgeyBpZDogJ3NhZ2UnLCBuYW1lOiAnU2FnZScsIHNwZWNpYWx0eTogJ3dpc2RvbScgfVxuICAgICAgXSxcbiAgICAgIGNvdW50OiAyXG4gICAgfSk7XG4gIH0pO1xuXG4gIGFwcC5wb3N0KCcvYXBpL2NoYXQvY29uc3VsdC1mYW1pbHknLCAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IHRvcGljLCBtZW1iZXJzIH0gPSByZXEuYm9keTtcblxuICAgIGlmICghdG9waWMpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnVG9waWMgaXMgcmVxdWlyZWQnIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnN1bHRhdGlvbiA9IHtcbiAgICAgIGNvbnN1bHRhdGlvbklkOiBgY29uc3VsdF8ke0RhdGUubm93KCl9YCxcbiAgICAgIHRvcGljLFxuICAgICAgcmVzcG9uc2VzOiBbXSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcblxuICAgIHJlcy5qc29uKGNvbnN1bHRhdGlvbik7XG4gIH0pO1xuXG4gIHJldHVybiBhcHA7XG59XG5cbmRlc2NyaWJlKCdBSSBGYW1pbHkgU2VydmljZSAtIEFJIEZhbWlseSBUZXN0cycsICgpID0+IHtcbiAgbGV0IGFwcDtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBhcHAgPSBjcmVhdGVUZXN0QXBwKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9oZWFsdGgnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gaGVhbHRoIHN0YXR1cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvaGVhbHRoJyk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN0YXR1cykudG9CZSgnT0snKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnNlcnZpY2UpLnRvQmUoJ0FJIEZhbWlseSBTZXJ2aWNlJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQT1NUIC9hcGkvY2hhdC9jaGF0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2hhdCB3aXRoIHNwZWNpZmljIGZhbWlseSBtZW1iZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9jaGF0L2NoYXQnKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgZmFtaWx5TWVtYmVyOiAnZWxhcmEnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdIZWxsbywgaG93IGNhbiB5b3UgaGVscCBtZT8nXG4gICAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keSkudG9IYXZlUHJvcGVydHkoJ2NvbnZlcnNhdGlvbklkJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5mYW1pbHlNZW1iZXIpLnRvQmUoJ2VsYXJhJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keSkudG9IYXZlUHJvcGVydHkoJ3Jlc3BvbnNlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBlcnJvciB3aGVuIGZhbWlseSBtZW1iZXIgaXMgbWlzc2luZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL2NoYXQvY2hhdCcpXG4gICAgICAgIC5zZW5kKHsgbWVzc2FnZTogJ0hlbGxvJyB9KTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ0ZhbWlseSBtZW1iZXIgYW5kIG1lc3NhZ2UgYXJlIHJlcXVpcmVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBlcnJvciB3aGVuIG1lc3NhZ2UgaXMgbWlzc2luZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL2NoYXQvY2hhdCcpXG4gICAgICAgIC5zZW5kKHsgZmFtaWx5TWVtYmVyOiAnZWxhcmEnIH0pO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5lcnJvcikudG9CZSgnRmFtaWx5IG1lbWJlciBhbmQgbWVzc2FnZSBhcmUgcmVxdWlyZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS9jaGF0L2F1dG8tY2hhdCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGF1dG8tc2VsZWN0IGZhbWlseSBtZW1iZXIgZm9yIG1lc3NhZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9jaGF0L2F1dG8tY2hhdCcpXG4gICAgICAgIC5zZW5kKHsgbWVzc2FnZTogJ0kgbmVlZCBoZWxwIHdpdGggZWR1Y2F0aW9uJyB9KTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkpLnRvSGF2ZVByb3BlcnR5KCdjb252ZXJzYXRpb25JZCcpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkpLnRvSGF2ZVByb3BlcnR5KCdzZWxlY3RlZE1lbWJlcicpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkpLnRvSGF2ZVByb3BlcnR5KCdyZXNwb25zZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZXJyb3Igd2hlbiBtZXNzYWdlIGlzIG1pc3NpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9jaGF0L2F1dG8tY2hhdCcpXG4gICAgICAgIC5zZW5kKHt9KTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvQmUoJ01lc3NhZ2UgaXMgcmVxdWlyZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL2NoYXQvZmFtaWx5LWNvbmZpZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBmYW1pbHkgbWVtYmVyIGNvbmZpZ3VyYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL2NoYXQvZmFtaWx5LWNvbmZpZycpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keSkudG9IYXZlUHJvcGVydHkoJ21lbWJlcnMnKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3BvbnNlLmJvZHkubWVtYmVycykpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5tZW1iZXJzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIG1lbWJlciBkZXRhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS9jaGF0L2ZhbWlseS1jb25maWcnKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkubWVtYmVyc1swXSkudG9IYXZlUHJvcGVydHkoJ2lkJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5tZW1iZXJzWzBdKS50b0hhdmVQcm9wZXJ0eSgnbmFtZScpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkubWVtYmVyc1swXSkudG9IYXZlUHJvcGVydHkoJ3NwZWNpYWx0eScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUE9TVCAvYXBpL2NoYXQvY29uc3VsdC1mYW1pbHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjb25zdWx0IG11bHRpcGxlIGZhbWlseSBtZW1iZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvY2hhdC9jb25zdWx0LWZhbWlseScpXG4gICAgICAgIC5zZW5kKHtcbiAgICAgICAgICB0b3BpYzogJ0NhcmVlciBndWlkYW5jZScsXG4gICAgICAgICAgbWVtYmVyczogWydlbGFyYScsICdzYWdlJ11cbiAgICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5KS50b0hhdmVQcm9wZXJ0eSgnY29uc3VsdGF0aW9uSWQnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnRvcGljKS50b0JlKCdDYXJlZXIgZ3VpZGFuY2UnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5KS50b0hhdmVQcm9wZXJ0eSgncmVzcG9uc2VzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBlcnJvciB3aGVuIHRvcGljIGlzIG1pc3NpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS9jaGF0L2NvbnN1bHQtZmFtaWx5JylcbiAgICAgICAgLnNlbmQoeyBtZW1iZXJzOiBbJ2VsYXJhJ10gfSk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0JlKCdUb3BpYyBpcyByZXF1aXJlZCcpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUNwQyxNQUFNQyxPQUFPLEdBQUdELE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFFbEMsU0FBU0UsYUFBYUEsQ0FBQSxFQUFHO0VBQ3ZCLE1BQU1DLEdBQUcsR0FBR0YsT0FBTyxDQUFDLENBQUM7RUFDckJFLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDSCxPQUFPLENBQUNJLElBQUksQ0FBQyxDQUFDLENBQUM7RUFFdkJGLEdBQUcsQ0FBQ0csR0FBRyxDQUFDLGFBQWEsRUFBRSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUNuQ0EsR0FBRyxDQUFDSCxJQUFJLENBQUM7TUFDUEksTUFBTSxFQUFFLElBQUk7TUFDWkMsT0FBTyxFQUFFLG1CQUFtQjtNQUM1QkMsU0FBUyxFQUFFLElBQUlDLElBQUksQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQztJQUNwQyxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRlYsR0FBRyxDQUFDVyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQ1AsR0FBRyxFQUFFQyxHQUFHLEtBQUs7SUFDdkMsTUFBTTtNQUFFTyxZQUFZO01BQUVDO0lBQVEsQ0FBQyxHQUFHVCxHQUFHLENBQUNV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