{"version":3,"names":["cov_yujpibggn","actualCoverage","SafetyService","constructor","axios","f","reportIncident","incident","s","response","post","success","data","error","b","message","getIncidents","filters","get","params","getIncident","incidentId","updateIncident","updates","patch","getNearbyIncidents","latitude","longitude","radiusKm","radius"],"sources":["safety.service.ts"],"sourcesContent":["import { AxiosInstance } from 'axios';\nimport { ApiResponse, SafetyIncident } from '../types';\n\nexport class SafetyService {\n  constructor(private axios: AxiosInstance) {}\n\n  async reportIncident(incident: Omit<SafetyIncident, 'id' | 'timestamp'>): Promise<ApiResponse<SafetyIncident>> {\n    try {\n      const response = await this.axios.post('/safety/incidents', incident);\n      return { success: true, data: response.data };\n    } catch (error: any) {\n      return { \n        success: false, \n        error: error.response?.data?.message || error.message \n      };\n    }\n  }\n\n  async getIncidents(filters?: {\n    type?: string;\n    severity?: string;\n    status?: string;\n    limit?: number;\n  }): Promise<ApiResponse<SafetyIncident[]>> {\n    try {\n      const response = await this.axios.get('/safety/incidents', { params: filters });\n      return { success: true, data: response.data };\n    } catch (error: any) {\n      return { \n        success: false, \n        error: error.response?.data?.message || error.message \n      };\n    }\n  }\n\n  async getIncident(incidentId: string): Promise<ApiResponse<SafetyIncident>> {\n    try {\n      const response = await this.axios.get(`/safety/incidents/${incidentId}`);\n      return { success: true, data: response.data };\n    } catch (error: any) {\n      return { \n        success: false, \n        error: error.response?.data?.message || error.message \n      };\n    }\n  }\n\n  async updateIncident(\n    incidentId: string, \n    updates: Partial<SafetyIncident>\n  ): Promise<ApiResponse<SafetyIncident>> {\n    try {\n      const response = await this.axios.patch(`/safety/incidents/${incidentId}`, updates);\n      return { success: true, data: response.data };\n    } catch (error: any) {\n      return { \n        success: false, \n        error: error.response?.data?.message || error.message \n      };\n    }\n  }\n\n  async getNearbyIncidents(\n    latitude: number,\n    longitude: number,\n    radiusKm: number = 5\n  ): Promise<ApiResponse<SafetyIncident[]>> {\n    try {\n      const response = await this.axios.get('/safety/incidents/nearby', {\n        params: { latitude, longitude, radius: radiusKm }\n      });\n      return { success: true, data: response.data };\n    } catch (error: any) {\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message\n      };\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]}