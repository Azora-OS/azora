{"version":3,"names":["cov_lw09jgrlu","actualCoverage","Router","revenueService","prisma","logger","router","s","get","req","res","next","f","period","query","b","status","json","success","error","timestamp","Date","totalRevenue","getRevenueByPeriod","conversionMetrics","getConversionMetrics","totalUsers","averageRevenuePerUser","data","Math","round","courseRevenue","payment","groupBy","by","where","_sum","amount","_count","id","enrichedData","Promise","all","map","cr","course","findUnique","courseId","select","title","instructorId","courseTitle","Number","paymentCount","averagePayment","courses","totalCourses","length","reduce","sum","c","instructorMap","Map","instructorCut","azoraCut","has","set","instructor","push","courseInstructorCut","courseAzoraCut","instructorData","Array","from","values","instructors","totalInstructors","i","totalInstructorCut","totalAzoraCut","revenueSplit","instructorPercentage","azoraPlatformPercentage","params","findMany","courseIds","in","payments","orderBy","createdAt","p","courseBreakdown","coursePayments","filter","statusBreakdown","breakdown","sb","count","totalAmount","totalPayments","instructorPayouts","payout","summary","paymentStatus","topCourses","sort","a","slice","revenue"],"sources":["revenue.routes.ts"],"sourcesContent":["import { Router, Request, Response, NextFunction } from 'express';\nimport { revenueService } from '../services/revenue.service';\nimport { prisma } from '../index';\nimport { logger } from '../utils/logger';\n\nconst router = Router();\n\n/**\n * GET /api/v1/revenue/summary\n * Get revenue summary for a period\n * Requirements: 3.1, 5.1\n */\nrouter.get('/summary', async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n  try {\n    const { period } = req.query;\n\n    if (!period || typeof period !== 'string') {\n      res.status(400).json({\n        success: false,\n        error: 'period is required (format: YYYY-MM)',\n        timestamp: new Date(),\n      });\n      return;\n    }\n\n    const totalRevenue = await revenueService.getRevenueByPeriod(period);\n    const conversionMetrics = await revenueService.getConversionMetrics(period);\n\n    // Calculate average revenue per user\n    const totalUsers = conversionMetrics.totalUsers || 1;\n    const averageRevenuePerUser = totalRevenue / totalUsers;\n\n    res.json({\n      success: true,\n      data: {\n        period,\n        totalRevenue,\n        averageRevenuePerUser: Math.round(averageRevenuePerUser * 100) / 100,\n        conversionMetrics,\n        timestamp: new Date(),\n      },\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    logger.error('Error fetching revenue summary:', error);\n    next(error);\n  }\n});\n\n/**\n * GET /api/v1/revenue/by-course\n * Get revenue breakdown by course\n * Requirements: 3.1, 5.1\n */\nrouter.get('/by-course', async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n  try {\n    const { period } = req.query;\n\n    if (!period || typeof period !== 'string') {\n      res.status(400).json({\n        success: false,\n        error: 'period is required (format: YYYY-MM)',\n        timestamp: new Date(),\n      });\n      return;\n    }\n\n    // Get revenue grouped by course\n    const courseRevenue = await prisma.payment.groupBy({\n      by: ['courseId'],\n      where: {\n        period,\n        status: 'completed',\n      },\n      _sum: {\n        amount: true,\n      },\n      _count: {\n        id: true,\n      },\n    });\n\n    // Enrich with course details\n    const enrichedData = await Promise.all(\n      courseRevenue.map(async (cr: any) => {\n        const course = await prisma.course.findUnique({\n          where: { id: cr.courseId },\n          select: { id: true, title: true, instructorId: true },\n        });\n\n        return {\n          courseId: cr.courseId,\n          courseTitle: course?.title || 'Unknown Course',\n          instructorId: course?.instructorId,\n          totalRevenue: cr._sum.amount ? Number(cr._sum.amount) : 0,\n          paymentCount: cr._count.id,\n          averagePayment: cr._count.id > 0 ? (cr._sum.amount ? Number(cr._sum.amount) / cr._count.id : 0) : 0,\n        };\n      })\n    );\n\n    res.json({\n      success: true,\n      data: {\n        period,\n        courses: enrichedData,\n        totalCourses: enrichedData.length,\n        totalRevenue: enrichedData.reduce((sum: number, c: any) => sum + c.totalRevenue, 0),\n        timestamp: new Date(),\n      },\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    logger.error('Error fetching revenue by course:', error);\n    next(error);\n  }\n});\n\n/**\n * GET /api/v1/revenue/by-instructor\n * Get revenue breakdown by instructor with 70/30 split\n * Requirements: 3.1, 5.1\n */\nrouter.get('/by-instructor', async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n  try {\n    const { period } = req.query;\n\n    if (!period || typeof period !== 'string') {\n      res.status(400).json({\n        success: false,\n        error: 'period is required (format: YYYY-MM)',\n        timestamp: new Date(),\n      });\n      return;\n    }\n\n    // Get revenue grouped by instructor through courses\n    const courseRevenue = await prisma.payment.groupBy({\n      by: ['courseId'],\n      where: {\n        period,\n        status: 'completed',\n      },\n      _sum: {\n        amount: true,\n      },\n      _count: {\n        id: true,\n      },\n    });\n\n    // Map to instructors and calculate 70/30 split\n    const instructorMap = new Map<string, any>();\n\n    for (const cr of courseRevenue) {\n      const course = await prisma.course.findUnique({\n        where: { id: cr.courseId },\n        select: { instructorId: true, title: true },\n      });\n\n      if (course?.instructorId) {\n        const totalRevenue = cr._sum.amount ? Number(cr._sum.amount) : 0;\n        const instructorCut = totalRevenue * 0.7; // 70% to instructor\n        const azoraCut = totalRevenue * 0.3; // 30% to Azora\n\n        if (!instructorMap.has(course.instructorId)) {\n          instructorMap.set(course.instructorId, {\n            instructorId: course.instructorId,\n            courses: [],\n            totalRevenue: 0,\n            instructorCut: 0,\n            azoraCut: 0,\n            paymentCount: 0,\n          });\n        }\n\n        const instructor = instructorMap.get(course.instructorId);\n        instructor.courses.push({\n          courseId: cr.courseId,\n          courseTitle: course.title,\n          courseRevenue: totalRevenue,\n          courseInstructorCut: instructorCut,\n          courseAzoraCut: azoraCut,\n        });\n        instructor.totalRevenue += totalRevenue;\n        instructor.instructorCut += instructorCut;\n        instructor.azoraCut += azoraCut;\n        instructor.paymentCount += cr._count.id;\n      }\n    }\n\n    const instructorData = Array.from(instructorMap.values());\n\n    res.json({\n      success: true,\n      data: {\n        period,\n        instructors: instructorData,\n        totalInstructors: instructorData.length,\n        totalRevenue: instructorData.reduce((sum: number, i: any) => sum + i.totalRevenue, 0),\n        totalInstructorCut: instructorData.reduce((sum: number, i: any) => sum + i.instructorCut, 0),\n        totalAzoraCut: instructorData.reduce((sum: number, i: any) => sum + i.azoraCut, 0),\n        revenueSplit: {\n          instructorPercentage: 70,\n          azoraPlatformPercentage: 30,\n        },\n        timestamp: new Date(),\n      },\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    logger.error('Error fetching revenue by instructor:', error);\n    next(error);\n  }\n});\n\n/**\n * GET /api/v1/revenue/instructor/:instructorId\n * Get revenue details for a specific instructor\n * Requirements: 3.1, 5.1\n */\nrouter.get('/instructor/:instructorId', async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n  try {\n    const { instructorId } = req.params;\n    const { period } = req.query;\n\n    if (!instructorId) {\n      res.status(400).json({\n        success: false,\n        error: 'instructorId is required',\n        timestamp: new Date(),\n      });\n      return;\n    }\n\n    // Get instructor's courses\n    const courses = await prisma.course.findMany({\n      where: { instructorId },\n      select: { id: true, title: true },\n    });\n\n    const courseIds = courses.map((c: any) => c.id);\n\n    // Get revenue for instructor's courses\n    const query: any = {\n      courseId: { in: courseIds },\n      status: 'completed',\n    };\n\n    if (period && typeof period === 'string') {\n      query.period = period;\n    }\n\n    const payments = await prisma.payment.findMany({\n      where: query,\n      orderBy: { createdAt: 'desc' },\n    });\n\n    // Calculate totals\n    const totalRevenue = payments.reduce((sum: number, p: any) => sum + Number(p.amount), 0);\n    const instructorCut = totalRevenue * 0.7;\n    const azoraCut = totalRevenue * 0.3;\n\n    // Group by course\n    const courseBreakdown = courses.map((course: any) => {\n      const coursePayments = payments.filter((p: any) => p.courseId === course.id);\n      const courseRevenue = coursePayments.reduce((sum: number, p: any) => sum + Number(p.amount), 0);\n\n      return {\n        courseId: course.id,\n        courseTitle: course.title,\n        totalRevenue: courseRevenue,\n        instructorCut: courseRevenue * 0.7,\n        azoraCut: courseRevenue * 0.3,\n        paymentCount: coursePayments.length,\n      };\n    });\n\n    res.json({\n      success: true,\n      data: {\n        instructorId,\n        period: period || 'all-time',\n        totalRevenue,\n        instructorCut: Math.round(instructorCut * 100) / 100,\n        azoraCut: Math.round(azoraCut * 100) / 100,\n        paymentCount: payments.length,\n        courseBreakdown,\n        revenueSplit: {\n          instructorPercentage: 70,\n          azoraPlatformPercentage: 30,\n        },\n        timestamp: new Date(),\n      },\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    logger.error('Error fetching instructor revenue:', error);\n    next(error);\n  }\n});\n\n/**\n * GET /api/v1/revenue/payment-status\n * Get payment status breakdown\n * Requirements: 5.1\n */\nrouter.get('/payment-status', async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n  try {\n    const { period } = req.query;\n\n    const query: any = {};\n    if (period && typeof period === 'string') {\n      query.period = period;\n    }\n\n    // Get payment counts by status\n    const statusBreakdown = await prisma.payment.groupBy({\n      by: ['status'],\n      where: query,\n      _count: {\n        id: true,\n      },\n      _sum: {\n        amount: true,\n      },\n    });\n\n    const breakdown = statusBreakdown.map((sb: any) => ({\n      status: sb.status,\n      count: sb._count.id,\n      totalAmount: sb._sum.amount ? Number(sb._sum.amount) : 0,\n    }));\n\n    const totalPayments = breakdown.reduce((sum: number, b: any) => sum + b.count, 0);\n    const totalAmount = breakdown.reduce((sum: number, b: any) => sum + b.totalAmount, 0);\n\n    res.json({\n      success: true,\n      data: {\n        period: period || 'all-time',\n        breakdown,\n        totalPayments,\n        totalAmount,\n        timestamp: new Date(),\n      },\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    logger.error('Error fetching payment status:', error);\n    next(error);\n  }\n});\n\n/**\n * GET /api/v1/revenue/report\n * Generate comprehensive revenue report\n * Requirements: 3.1, 5.1\n */\nrouter.get('/report', async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n  try {\n    const { period } = req.query;\n\n    if (!period || typeof period !== 'string') {\n      res.status(400).json({\n        success: false,\n        error: 'period is required (format: YYYY-MM)',\n        timestamp: new Date(),\n      });\n      return;\n    }\n\n    // Get all revenue data\n    const totalRevenue = await revenueService.getRevenueByPeriod(period);\n    const conversionMetrics = await revenueService.getConversionMetrics(period);\n\n    // Get course breakdown\n    const courseRevenue = await prisma.payment.groupBy({\n      by: ['courseId'],\n      where: {\n        period,\n        status: 'completed',\n      },\n      _sum: {\n        amount: true,\n      },\n      _count: {\n        id: true,\n      },\n    });\n\n    // Get payment status breakdown\n    const statusBreakdown = await prisma.payment.groupBy({\n      by: ['status'],\n      where: { period },\n      _count: {\n        id: true,\n      },\n      _sum: {\n        amount: true,\n      },\n    });\n\n    // Calculate instructor payouts\n    const instructorPayouts = await prisma.payment.groupBy({\n      by: ['courseId'],\n      where: {\n        period,\n        status: 'completed',\n      },\n      _sum: {\n        amount: true,\n      },\n    });\n\n    let totalInstructorCut = 0;\n    let totalAzoraCut = 0;\n\n    for (const payout of instructorPayouts) {\n      const amount = payout._sum.amount ? Number(payout._sum.amount) : 0;\n      totalInstructorCut += amount * 0.7;\n      totalAzoraCut += amount * 0.3;\n    }\n\n    res.json({\n      success: true,\n      data: {\n        period,\n        summary: {\n          totalRevenue,\n          totalInstructorCut: Math.round(totalInstructorCut * 100) / 100,\n          totalAzoraCut: Math.round(totalAzoraCut * 100) / 100,\n          revenueSplit: {\n            instructorPercentage: 70,\n            azoraPlatformPercentage: 30,\n          },\n        },\n        conversionMetrics,\n        paymentStatus: statusBreakdown.map((sb: any) => ({\n          status: sb.status,\n          count: sb._count.id,\n          amount: sb._sum.amount ? Number(sb._sum.amount) : 0,\n        })),\n        topCourses: courseRevenue\n          .sort((a: any, b: any) => Number(b._sum.amount || 0) - Number(a._sum.amount || 0))\n          .slice(0, 10)\n          .map((cr: any) => ({\n            courseId: cr.courseId,\n            revenue: cr._sum.amount ? Number(cr._sum.amount) : 0,\n            paymentCount: cr._count.id,\n          })),\n        timestamp: new Date(),\n      },\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    logger.error('Error generating revenue report:', error);\n    next(error);\n  }\n});\n\nexport default router;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}