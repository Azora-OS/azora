{"version":3,"names":["cov_1drap45zw8","actualCoverage","Router","ContractService","ElaraLogger","router","s","service","logger","post","req","res","f","userId","userType","body","result","generateContract","json","success","data","error","status","message","Error","b","get","contractId","params","getContract","signedBy","ipAddress","signContract","getUserContracts"],"sources":["contract.routes.ts"],"sourcesContent":["/**\n * Contract Routes\n */\n\nimport { Router, Request, Response } from 'express';\nimport { ContractService } from '../services/contract.service';\nimport { ElaraLogger } from '../utils/logger';\n\nconst router = Router();\nconst service = new ContractService();\nconst logger = new ElaraLogger('ContractRoutes');\n\nrouter.post('/contracts/generate', async (req: Request, res: Response): Promise<void> => {\n  try {\n    const { userId, userType } = req.body;\n    const result = await service.generateContract(userId, userType);\n    res.json({ success: true, data: result });\n  } catch (error) {\n    logger.error('Error:', error);\n    res.status(500).json({ error: 'Failed', message: error instanceof Error ? error.message : 'Unknown error' });\n  }\n});\n\nrouter.get('/contracts/:contractId', async (req: Request, res: Response): Promise<void> => {\n  try {\n    const { contractId } = req.params;\n    const result = await service.getContract(contractId);\n    res.json({ success: true, data: result });\n  } catch (error) {\n    logger.error('Error:', error);\n    res.status(500).json({ error: 'Failed', message: error instanceof Error ? error.message : 'Unknown error' });\n  }\n});\n\nrouter.post('/contracts/:contractId/sign', async (req: Request, res: Response): Promise<void> => {\n  try {\n    const { contractId } = req.params;\n    const { signedBy, ipAddress } = req.body;\n    const result = await service.signContract(contractId, signedBy, ipAddress);\n    res.json({ success: true, data: result });\n  } catch (error) {\n    logger.error('Error:', error);\n    res.status(500).json({ error: 'Failed', message: error instanceof Error ? error.message : 'Unknown error' });\n  }\n});\n\nrouter.get('/contracts/user/:userId', async (req: Request, res: Response): Promise<void> => {\n  try {\n    const { userId } = req.params;\n    const result = await service.getUserContracts(userId);\n    res.json({ success: true, data: result });\n  } catch (error) {\n    logger.error('Error:', error);\n    res.status(500).json({ error: 'Failed', message: error instanceof Error ? error.message : 'Unknown error' });\n  }\n});\n\nexport default router;\n"],"mappings":"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","ignoreList":[]}