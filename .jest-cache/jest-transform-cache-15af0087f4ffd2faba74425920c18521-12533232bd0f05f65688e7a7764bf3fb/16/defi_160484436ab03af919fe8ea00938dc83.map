{"version":3,"names":["cov_2js0rg174y","actualCoverage","express","s","require","app","use","json","pools","azr_usd","liquidity","apr","post","req","res","f","fromToken","toToken","amount","body","rate","fee","swapped","pool","b","status","error","shares","newLiquidity","get","PORT","listen","console","log"],"sources":["defi.js"],"sourcesContent":["/*\nAZORA PROPRIETARY LICENSE\n\nCopyright Â© 2025 Azora ES (Pty) Ltd. All Rights Reserved.\n\nSee LICENSE file for details.\n*/\n\nconst express = require('express');\nconst app = express();\napp.use(express.json());\n\n/**\n * Advanced DeFi Service for AZR.\n * Supports swaps, liquidity provision, and yield farming.\n */\nlet pools = { azr_usd: { liquidity: 1000000, apr: 0.15 } };\n\napp.post('/api/defi/swap', (req, res) => {\n  const { fromToken, toToken, amount } = req.body;\n  const rate = 1; // Mock rate\n  const fee = amount * 0.003;\n  const swapped = amount * rate - fee;\n  res.json({ swapped, fee, rate });\n});\n\napp.post('/api/defi/add-liquidity', (req, res) => {\n  const { pool, amount } = req.body;\n  if (!pools[pool]) return res.status(400).json({ error: 'Pool not found' });\n  \n  pools[pool].liquidity += amount;\n  const shares = amount; // Simplified\n  res.json({ shares, newLiquidity: pools[pool].liquidity });\n});\n\napp.get('/api/defi/pools', (req, res) => {\n  res.json({ pools });\n});\n\nconst PORT = 4117;\napp.listen(PORT, () => console.log(`ðŸ’± Advanced DeFi Service running on port ${PORT}`));\n"],"mappings":"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","ignoreList":[]}