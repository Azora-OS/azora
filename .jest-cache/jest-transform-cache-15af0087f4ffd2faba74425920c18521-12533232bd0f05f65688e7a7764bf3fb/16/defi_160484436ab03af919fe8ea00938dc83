56973c4612b0a4367652f1c66aee22e2
/* istanbul ignore next */
function cov_2js0rg174y() {
  var path = "/workspaces/azora/services/azora-cloud/azora-mint/defi.js";
  var hash = "1680c18a22fadec24dce7dc61e062f145142f2f6";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/azora-cloud/azora-mint/defi.js",
    statementMap: {
      "0": {
        start: {
          line: 9,
          column: 16
        },
        end: {
          line: 9,
          column: 34
        }
      },
      "1": {
        start: {
          line: 10,
          column: 12
        },
        end: {
          line: 10,
          column: 21
        }
      },
      "2": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 11,
          column: 24
        }
      },
      "3": {
        start: {
          line: 17,
          column: 12
        },
        end: {
          line: 17,
          column: 58
        }
      },
      "4": {
        start: {
          line: 19,
          column: 0
        },
        end: {
          line: 25,
          column: 3
        }
      },
      "5": {
        start: {
          line: 20,
          column: 41
        },
        end: {
          line: 20,
          column: 49
        }
      },
      "6": {
        start: {
          line: 21,
          column: 15
        },
        end: {
          line: 21,
          column: 16
        }
      },
      "7": {
        start: {
          line: 22,
          column: 14
        },
        end: {
          line: 22,
          column: 28
        }
      },
      "8": {
        start: {
          line: 23,
          column: 18
        },
        end: {
          line: 23,
          column: 37
        }
      },
      "9": {
        start: {
          line: 24,
          column: 2
        },
        end: {
          line: 24,
          column: 35
        }
      },
      "10": {
        start: {
          line: 27,
          column: 0
        },
        end: {
          line: 34,
          column: 3
        }
      },
      "11": {
        start: {
          line: 28,
          column: 27
        },
        end: {
          line: 28,
          column: 35
        }
      },
      "12": {
        start: {
          line: 29,
          column: 2
        },
        end: {
          line: 29,
          column: 77
        }
      },
      "13": {
        start: {
          line: 29,
          column: 20
        },
        end: {
          line: 29,
          column: 77
        }
      },
      "14": {
        start: {
          line: 31,
          column: 2
        },
        end: {
          line: 31,
          column: 34
        }
      },
      "15": {
        start: {
          line: 32,
          column: 17
        },
        end: {
          line: 32,
          column: 23
        }
      },
      "16": {
        start: {
          line: 33,
          column: 2
        },
        end: {
          line: 33,
          column: 60
        }
      },
      "17": {
        start: {
          line: 36,
          column: 0
        },
        end: {
          line: 38,
          column: 3
        }
      },
      "18": {
        start: {
          line: 37,
          column: 2
        },
        end: {
          line: 37,
          column: 22
        }
      },
      "19": {
        start: {
          line: 40,
          column: 13
        },
        end: {
          line: 40,
          column: 17
        }
      },
      "20": {
        start: {
          line: 41,
          column: 0
        },
        end: {
          line: 41,
          column: 88
        }
      },
      "21": {
        start: {
          line: 41,
          column: 23
        },
        end: {
          line: 41,
          column: 86
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 19,
            column: 27
          },
          end: {
            line: 19,
            column: 28
          }
        },
        loc: {
          start: {
            line: 19,
            column: 41
          },
          end: {
            line: 25,
            column: 1
          }
        },
        line: 19
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 27,
            column: 36
          },
          end: {
            line: 27,
            column: 37
          }
        },
        loc: {
          start: {
            line: 27,
            column: 50
          },
          end: {
            line: 34,
            column: 1
          }
        },
        line: 27
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 36,
            column: 27
          },
          end: {
            line: 36,
            column: 28
          }
        },
        loc: {
          start: {
            line: 36,
            column: 41
          },
          end: {
            line: 38,
            column: 1
          }
        },
        line: 36
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 41,
            column: 17
          },
          end: {
            line: 41,
            column: 18
          }
        },
        loc: {
          start: {
            line: 41,
            column: 23
          },
          end: {
            line: 41,
            column: 86
          }
        },
        line: 41
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 29,
            column: 2
          },
          end: {
            line: 29,
            column: 77
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 29,
            column: 2
          },
          end: {
            line: 29,
            column: 77
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 29
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    b: {
      "0": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "1680c18a22fadec24dce7dc61e062f145142f2f6"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2js0rg174y = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2js0rg174y();
/*
AZORA PROPRIETARY LICENSE

Copyright Â© 2025 Azora ES (Pty) Ltd. All Rights Reserved.

See LICENSE file for details.
*/

const express =
/* istanbul ignore next */
(cov_2js0rg174y().s[0]++, require('express'));
const app =
/* istanbul ignore next */
(cov_2js0rg174y().s[1]++, express());
/* istanbul ignore next */
cov_2js0rg174y().s[2]++;
app.use(express.json());

/**
 * Advanced DeFi Service for AZR.
 * Supports swaps, liquidity provision, and yield farming.
 */
let pools =
/* istanbul ignore next */
(cov_2js0rg174y().s[3]++, {
  azr_usd: {
    liquidity: 1000000,
    apr: 0.15
  }
});
/* istanbul ignore next */
cov_2js0rg174y().s[4]++;
app.post('/api/defi/swap', (req, res) => {
  /* istanbul ignore next */
  cov_2js0rg174y().f[0]++;
  const {
    fromToken,
    toToken,
    amount
  } =
  /* istanbul ignore next */
  (cov_2js0rg174y().s[5]++, req.body);
  const rate =
  /* istanbul ignore next */
  (cov_2js0rg174y().s[6]++, 1); // Mock rate
  const fee =
  /* istanbul ignore next */
  (cov_2js0rg174y().s[7]++, amount * 0.003);
  const swapped =
  /* istanbul ignore next */
  (cov_2js0rg174y().s[8]++, amount * rate - fee);
  /* istanbul ignore next */
  cov_2js0rg174y().s[9]++;
  res.json({
    swapped,
    fee,
    rate
  });
});
/* istanbul ignore next */
cov_2js0rg174y().s[10]++;
app.post('/api/defi/add-liquidity', (req, res) => {
  /* istanbul ignore next */
  cov_2js0rg174y().f[1]++;
  const {
    pool,
    amount
  } =
  /* istanbul ignore next */
  (cov_2js0rg174y().s[11]++, req.body);
  /* istanbul ignore next */
  cov_2js0rg174y().s[12]++;
  if (!pools[pool]) {
    /* istanbul ignore next */
    cov_2js0rg174y().b[0][0]++;
    cov_2js0rg174y().s[13]++;
    return res.status(400).json({
      error: 'Pool not found'
    });
  } else
  /* istanbul ignore next */
  {
    cov_2js0rg174y().b[0][1]++;
  }
  cov_2js0rg174y().s[14]++;
  pools[pool].liquidity += amount;
  const shares =
  /* istanbul ignore next */
  (cov_2js0rg174y().s[15]++, amount); // Simplified
  /* istanbul ignore next */
  cov_2js0rg174y().s[16]++;
  res.json({
    shares,
    newLiquidity: pools[pool].liquidity
  });
});
/* istanbul ignore next */
cov_2js0rg174y().s[17]++;
app.get('/api/defi/pools', (req, res) => {
  /* istanbul ignore next */
  cov_2js0rg174y().f[2]++;
  cov_2js0rg174y().s[18]++;
  res.json({
    pools
  });
});
const PORT =
/* istanbul ignore next */
(cov_2js0rg174y().s[19]++, 4117);
/* istanbul ignore next */
cov_2js0rg174y().s[20]++;
app.listen(PORT, () => {
  /* istanbul ignore next */
  cov_2js0rg174y().f[3]++;
  cov_2js0rg174y().s[21]++;
  return console.log(`ðŸ’± Advanced DeFi Service running on port ${PORT}`);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmpzMHJnMTc0eSIsImFjdHVhbENvdmVyYWdlIiwiZXhwcmVzcyIsInMiLCJyZXF1aXJlIiwiYXBwIiwidXNlIiwianNvbiIsInBvb2xzIiwiYXpyX3VzZCIsImxpcXVpZGl0eSIsImFwciIsInBvc3QiLCJyZXEiLCJyZXMiLCJmIiwiZnJvbVRva2VuIiwidG9Ub2tlbiIsImFtb3VudCIsImJvZHkiLCJyYXRlIiwiZmVlIiwic3dhcHBlZCIsInBvb2wiLCJiIiwic3RhdHVzIiwiZXJyb3IiLCJzaGFyZXMiLCJuZXdMaXF1aWRpdHkiLCJnZXQiLCJQT1JUIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VzIjpbImRlZmkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFaT1JBIFBST1BSSUVUQVJZIExJQ0VOU0VcblxuQ29weXJpZ2h0IMKpIDIwMjUgQXpvcmEgRVMgKFB0eSkgTHRkLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5TZWUgTElDRU5TRSBmaWxlIGZvciBkZXRhaWxzLlxuKi9cblxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuXG4vKipcbiAqIEFkdmFuY2VkIERlRmkgU2VydmljZSBmb3IgQVpSLlxuICogU3VwcG9ydHMgc3dhcHMsIGxpcXVpZGl0eSBwcm92aXNpb24sIGFuZCB5aWVsZCBmYXJtaW5nLlxuICovXG5sZXQgcG9vbHMgPSB7IGF6cl91c2Q6IHsgbGlxdWlkaXR5OiAxMDAwMDAwLCBhcHI6IDAuMTUgfSB9O1xuXG5hcHAucG9zdCgnL2FwaS9kZWZpL3N3YXAnLCAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBmcm9tVG9rZW4sIHRvVG9rZW4sIGFtb3VudCB9ID0gcmVxLmJvZHk7XG4gIGNvbnN0IHJhdGUgPSAxOyAvLyBNb2NrIHJhdGVcbiAgY29uc3QgZmVlID0gYW1vdW50ICogMC4wMDM7XG4gIGNvbnN0IHN3YXBwZWQgPSBhbW91bnQgKiByYXRlIC0gZmVlO1xuICByZXMuanNvbih7IHN3YXBwZWQsIGZlZSwgcmF0ZSB9KTtcbn0pO1xuXG5hcHAucG9zdCgnL2FwaS9kZWZpL2FkZC1saXF1aWRpdHknLCAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBwb29sLCBhbW91bnQgfSA9IHJlcS5ib2R5O1xuICBpZiAoIXBvb2xzW3Bvb2xdKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1Bvb2wgbm90IGZvdW5kJyB9KTtcbiAgXG4gIHBvb2xzW3Bvb2xdLmxpcXVpZGl0eSArPSBhbW91bnQ7XG4gIGNvbnN0IHNoYXJlcyA9IGFtb3VudDsgLy8gU2ltcGxpZmllZFxuICByZXMuanNvbih7IHNoYXJlcywgbmV3TGlxdWlkaXR5OiBwb29sc1twb29sXS5saXF1aWRpdHkgfSk7XG59KTtcblxuYXBwLmdldCgnL2FwaS9kZWZpL3Bvb2xzJywgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5qc29uKHsgcG9vbHMgfSk7XG59KTtcblxuY29uc3QgUE9SVCA9IDQxMTc7XG5hcHAubGlzdGVuKFBPUlQsICgpID0+IGNvbnNvbGUubG9nKGDwn5KxIEFkdmFuY2VkIERlRmkgU2VydmljZSBydW5uaW5nIG9uIHBvcnQgJHtQT1JUfWApKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBZVk7SUFBQUEsY0FBQSxZQUFBQSxDQUFBO01BQUEsT0FBQUMsY0FBQTtJQUFBO0VBQUE7RUFBQSxPQUFBQSxjQUFBO0FBQUE7QUFBQUQsY0FBQTtBQWZaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1FLE9BQU87QUFBQTtBQUFBLENBQUFGLGNBQUEsR0FBQUcsQ0FBQSxPQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLEdBQUc7QUFBQTtBQUFBLENBQUFMLGNBQUEsR0FBQUcsQ0FBQSxPQUFHRCxPQUFPLENBQUMsQ0FBQztBQUFDO0FBQUFGLGNBQUEsR0FBQUcsQ0FBQTtBQUN0QkUsR0FBRyxDQUFDQyxHQUFHLENBQUNKLE9BQU8sQ0FBQ0ssSUFBSSxDQUFDLENBQUMsQ0FBQzs7QUFFdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJQyxLQUFLO0FBQUE7QUFBQSxDQUFBUixjQUFBLEdBQUFHLENBQUEsT0FBRztFQUFFTSxPQUFPLEVBQUU7SUFBRUMsU0FBUyxFQUFFLE9BQU87SUFBRUMsR0FBRyxFQUFFO0VBQUs7QUFBRSxDQUFDO0FBQUM7QUFBQVgsY0FBQSxHQUFBRyxDQUFBO0FBRTNERSxHQUFHLENBQUNPLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUFBO0VBQUFkLGNBQUEsR0FBQWUsQ0FBQTtFQUN2QyxNQUFNO0lBQUVDLFNBQVM7SUFBRUMsT0FBTztJQUFFQztFQUFPLENBQUM7RUFBQTtFQUFBLENBQUFsQixjQUFBLEdBQUFHLENBQUEsT0FBR1UsR0FBRyxDQUFDTSxJQUFJO0VBQy9DLE1BQU1DLElBQUk7RUFBQTtFQUFBLENBQUFwQixjQUFBLEdBQUFHLENBQUEsT0FBRyxDQUFDLEVBQUMsQ0FBQztFQUNoQixNQUFNa0IsR0FBRztFQUFBO0VBQUEsQ0FBQXJCLGNBQUEsR0FBQUcsQ0FBQSxPQUFHZSxNQUFNLEdBQUcsS0FBSztFQUMxQixNQUFNSSxPQUFPO0VBQUE7RUFBQSxDQUFBdEIsY0FBQSxHQUFBRyxDQUFBLE9BQUdlLE1BQU0sR0FBR0UsSUFBSSxHQUFHQyxHQUFHO0VBQUM7RUFBQXJCLGNBQUEsR0FBQUcsQ0FBQTtFQUNwQ1csR0FBRyxDQUFDUCxJQUFJLENBQUM7SUFBRWUsT0FBTztJQUFFRCxHQUFHO0lBQUVEO0VBQUssQ0FBQyxDQUFDO0FBQ2xDLENBQUMsQ0FBQztBQUFDO0FBQUFwQixjQUFBLEdBQUFHLENBQUE7QUFFSEUsR0FBRyxDQUFDTyxJQUFJLENBQUMseUJBQXlCLEVBQUUsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFBQTtFQUFBZCxjQUFBLEdBQUFlLENBQUE7RUFDaEQsTUFBTTtJQUFFUSxJQUFJO0lBQUVMO0VBQU8sQ0FBQztFQUFBO0VBQUEsQ0FBQWxCLGNBQUEsR0FBQUcsQ0FBQSxRQUFHVSxHQUFHLENBQUNNLElBQUk7RUFBQztFQUFBbkIsY0FBQSxHQUFBRyxDQUFBO0VBQ2xDLElBQUksQ0FBQ0ssS0FBSyxDQUFDZSxJQUFJLENBQUMsRUFBRTtJQUFBO0lBQUF2QixjQUFBLEdBQUF3QixDQUFBO0lBQUF4QixjQUFBLEdBQUFHLENBQUE7SUFBQSxPQUFPVyxHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ2xCLElBQUksQ0FBQztNQUFFbUIsS0FBSyxFQUFFO0lBQWlCLENBQUMsQ0FBQztFQUFBLENBQUM7RUFBQTtFQUFBO0lBQUExQixjQUFBLEdBQUF3QixDQUFBO0VBQUE7RUFBQXhCLGNBQUEsR0FBQUcsQ0FBQTtFQUUzRUssS0FBSyxDQUFDZSxJQUFJLENBQUMsQ0FBQ2IsU0FBUyxJQUFJUSxNQUFNO0VBQy9CLE1BQU1TLE1BQU07RUFBQTtFQUFBLENBQUEzQixjQUFBLEdBQUFHLENBQUEsUUFBR2UsTUFBTSxFQUFDLENBQUM7RUFBQTtFQUFBbEIsY0FBQSxHQUFBRyxDQUFBO0VBQ3ZCVyxHQUFHLENBQUNQLElBQUksQ0FBQztJQUFFb0IsTUFBTTtJQUFFQyxZQUFZLEVBQUVwQixLQUFLLENBQUNlLElBQUksQ0FBQyxDQUFDYjtFQUFVLENBQUMsQ0FBQztBQUMzRCxDQUFDLENBQUM7QUFBQztBQUFBVixjQUFBLEdBQUFHLENBQUE7QUFFSEUsR0FBRyxDQUFDd0IsR0FBRyxDQUFDLGlCQUFpQixFQUFFLENBQUNoQixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUFBO0VBQUFkLGNBQUEsR0FBQWUsQ0FBQTtFQUFBZixjQUFBLEdBQUFHLENBQUE7RUFDdkNXLEdBQUcsQ0FBQ1AsSUFBSSxDQUFDO0lBQUVDO0VBQU0sQ0FBQyxDQUFDO0FBQ3JCLENBQUMsQ0FBQztBQUVGLE1BQU1zQixJQUFJO0FBQUE7QUFBQSxDQUFBOUIsY0FBQSxHQUFBRyxDQUFBLFFBQUcsSUFBSTtBQUFDO0FBQUFILGNBQUEsR0FBQUcsQ0FBQTtBQUNsQkUsR0FBRyxDQUFDMEIsTUFBTSxDQUFDRCxJQUFJLEVBQUUsTUFBTTtFQUFBO0VBQUE5QixjQUFBLEdBQUFlLENBQUE7RUFBQWYsY0FBQSxHQUFBRyxDQUFBO0VBQUEsT0FBQTZCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDRDQUE0Q0gsSUFBSSxFQUFFLENBQUM7QUFBRCxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=