{"version":3,"names":["cov_zyb5zas80","actualCoverage","payouts","s","Map","userPayouts","processPayout","withdrawal","bankAccount","config","f","amount","minPayout","b","success","error","fee","netAmount","maxPayout","Math","round","payoutId","Date","now","random","toString","substr","payout","status","createdAt","estimatedArrival","setHours","getHours","processingTimeHours","set","has","userId","get","push","Error","message","getPayoutStatus","getUserPayouts","updatePayoutStatus","arrivedAt","failureReason","simulatePayoutCompletion","simulatePayoutFailure","reason","getPayoutStats","totalPayouts","length","totalAmount","reduce","sum","p","totalFees","totalNetAmount","completedPayouts","filter","pendingPayouts","failedPayouts","averagePayout","batchProcessPayouts","withdrawals","bankAccounts","results","bankAccountId","result","getPayoutFeeBreakdown","stripeFee","processingFee","totalFee","feePercentage","estimatePayoutArrival","arrival","isPayoutOverdue","expectedArrival"],"sources":["payout-processor.ts"],"sourcesContent":["/**\n * Payout Processor\n * Processes payouts to bank accounts via Stripe Connect\n */\n\nimport { WithdrawalRecord } from './withdrawal-service';\nimport { BankAccount } from './bank-verification';\n\nexport interface PayoutConfig {\n  stripeConnectAccountId: string;\n  stripeApiKey: string;\n  currency: string;\n  minPayout: number;\n  maxPayout: number;\n  processingTimeHours: number;\n}\n\nexport interface PayoutResult {\n  success: boolean;\n  payoutId?: string;\n  error?: string;\n  amount: number;\n  fee: number;\n  netAmount: number;\n  estimatedArrival?: Date;\n}\n\nexport interface PayoutStatus {\n  payoutId: string;\n  status: 'pending' | 'in_transit' | 'paid' | 'failed' | 'cancelled';\n  amount: number;\n  fee: number;\n  netAmount: number;\n  createdAt: Date;\n  arrivedAt?: Date;\n  failureReason?: string;\n}\n\n/**\n * In-memory payout storage (use database in production)\n */\nconst payouts = new Map<string, PayoutStatus>();\nconst userPayouts = new Map<string, PayoutStatus[]>();\n\n/**\n * Process a payout to a bank account\n */\nexport async function processPayout(\n  withdrawal: WithdrawalRecord,\n  bankAccount: BankAccount,\n  config: PayoutConfig\n): Promise<PayoutResult> {\n  try {\n    // Validate payout amount\n    if (withdrawal.amount < config.minPayout) {\n      return {\n        success: false,\n        error: `Minimum payout amount is ${config.minPayout}`,\n        amount: withdrawal.amount,\n        fee: 0,\n        netAmount: 0,\n      };\n    }\n\n    if (withdrawal.amount > config.maxPayout) {\n      return {\n        success: false,\n        error: `Maximum payout amount is ${config.maxPayout}`,\n        amount: withdrawal.amount,\n        fee: 0,\n        netAmount: 0,\n      };\n    }\n\n    // Calculate fees (2% standard)\n    const fee = Math.round(withdrawal.amount * 0.02 * 100) / 100;\n    const netAmount = withdrawal.amount - fee;\n\n    // In production, use Stripe Connect API\n    // For now, simulate payout creation\n    const payoutId = `payout_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n\n    // Create payout record\n    const payout: PayoutStatus = {\n      payoutId,\n      status: 'pending',\n      amount: withdrawal.amount,\n      fee,\n      netAmount,\n      createdAt: new Date(),\n    };\n\n    // Calculate estimated arrival\n    const estimatedArrival = new Date();\n    estimatedArrival.setHours(estimatedArrival.getHours() + config.processingTimeHours);\n\n    payouts.set(payoutId, payout);\n\n    // Add to user payouts\n    if (!userPayouts.has(withdrawal.userId)) {\n      userPayouts.set(withdrawal.userId, []);\n    }\n    userPayouts.get(withdrawal.userId)!.push(payout);\n\n    return {\n      success: true,\n      payoutId,\n      amount: withdrawal.amount,\n      fee,\n      netAmount,\n      estimatedArrival,\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Unknown error',\n      amount: withdrawal.amount,\n      fee: 0,\n      netAmount: 0,\n    };\n  }\n}\n\n/**\n * Get payout status\n */\nexport function getPayoutStatus(payoutId: string): PayoutStatus | null {\n  return payouts.get(payoutId) || null;\n}\n\n/**\n * Get user's payouts\n */\nexport function getUserPayouts(userId: string): PayoutStatus[] {\n  return userPayouts.get(userId) || [];\n}\n\n/**\n * Update payout status\n */\nexport function updatePayoutStatus(\n  payoutId: string,\n  status: PayoutStatus['status'],\n  arrivedAt?: Date,\n  failureReason?: string\n): PayoutStatus | null {\n  const payout = getPayoutStatus(payoutId);\n  if (!payout) {return null;}\n\n  payout.status = status;\n  if (arrivedAt) {payout.arrivedAt = arrivedAt;}\n  if (failureReason) {payout.failureReason = failureReason;}\n\n  return payout;\n}\n\n/**\n * Simulate payout completion (for testing)\n */\nexport function simulatePayoutCompletion(payoutId: string): PayoutStatus | null {\n  const payout = getPayoutStatus(payoutId);\n  if (!payout) {return null;}\n\n  payout.status = 'paid';\n  payout.arrivedAt = new Date();\n\n  return payout;\n}\n\n/**\n * Simulate payout failure (for testing)\n */\nexport function simulatePayoutFailure(payoutId: string, reason: string): PayoutStatus | null {\n  const payout = getPayoutStatus(payoutId);\n  if (!payout) {return null;}\n\n  payout.status = 'failed';\n  payout.failureReason = reason;\n\n  return payout;\n}\n\n/**\n * Get payout statistics\n */\nexport function getPayoutStats(userId: string) {\n  const payouts = getUserPayouts(userId);\n\n  return {\n    totalPayouts: payouts.length,\n    totalAmount: payouts.reduce((sum, p) => sum + p.amount, 0),\n    totalFees: payouts.reduce((sum, p) => sum + p.fee, 0),\n    totalNetAmount: payouts.reduce((sum, p) => sum + p.netAmount, 0),\n    completedPayouts: payouts.filter((p) => p.status === 'paid').length,\n    pendingPayouts: payouts.filter((p) => p.status === 'pending' || p.status === 'in_transit').length,\n    failedPayouts: payouts.filter((p) => p.status === 'failed').length,\n    averagePayout: payouts.length > 0 ? payouts.reduce((sum, p) => sum + p.amount, 0) / payouts.length : 0,\n  };\n}\n\n/**\n * Batch process payouts\n */\nexport async function batchProcessPayouts(\n  withdrawals: WithdrawalRecord[],\n  bankAccounts: Map<string, BankAccount>,\n  config: PayoutConfig\n): Promise<PayoutResult[]> {\n  const results: PayoutResult[] = [];\n\n  for (const withdrawal of withdrawals) {\n    const bankAccount = bankAccounts.get(withdrawal.bankAccountId);\n    if (!bankAccount) {\n      results.push({\n        success: false,\n        error: 'Bank account not found',\n        amount: withdrawal.amount,\n        fee: 0,\n        netAmount: 0,\n      });\n      continue;\n    }\n\n    const result = await processPayout(withdrawal, bankAccount, config);\n    results.push(result);\n  }\n\n  return results;\n}\n\n/**\n * Get payout fee breakdown\n */\nexport function getPayoutFeeBreakdown(amount: number) {\n  const stripeFee = Math.round(amount * 0.01 * 100) / 100; // 1% Stripe fee\n  const processingFee = Math.round(amount * 0.01 * 100) / 100; // 1% processing fee\n  const totalFee = stripeFee + processingFee;\n  const netAmount = amount - totalFee;\n\n  return {\n    amount,\n    stripeFee,\n    processingFee,\n    totalFee,\n    netAmount,\n    feePercentage: (totalFee / amount) * 100,\n  };\n}\n\n/**\n * Estimate payout arrival time\n */\nexport function estimatePayoutArrival(createdAt: Date, processingTimeHours: number): Date {\n  const arrival = new Date(createdAt);\n  arrival.setHours(arrival.getHours() + processingTimeHours);\n  return arrival;\n}\n\n/**\n * Check if payout is overdue\n */\nexport function isPayoutOverdue(payout: PayoutStatus, processingTimeHours: number): boolean {\n  if (payout.status === 'paid' || payout.status === 'failed' || payout.status === 'cancelled') {\n    return false;\n  }\n\n  const expectedArrival = estimatePayoutArrival(payout.createdAt, processingTimeHours);\n  return new Date() > expectedArrival;\n}\n\nexport default {\n  processPayout,\n  getPayoutStatus,\n  getUserPayouts,\n  updatePayoutStatus,\n  simulatePayoutCompletion,\n  simulatePayoutFailure,\n  getPayoutStats,\n  batchProcessPayouts,\n  getPayoutFeeBreakdown,\n  estimatePayoutArrival,\n  isPayoutOverdue,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}