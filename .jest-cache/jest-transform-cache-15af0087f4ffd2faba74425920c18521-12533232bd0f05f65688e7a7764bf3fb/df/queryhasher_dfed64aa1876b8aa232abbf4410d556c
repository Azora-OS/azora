609ffaa6142915fb2615075e94ec7156
/* istanbul ignore next */
function cov_1yfjfw62ei() {
  var path = "/workspaces/azora/services/azora-cloud/ai-routing/query-hasher.ts";
  var hash = "7d0ebca4c2f57d1299bf3d776e8bb974b40d2763";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/azora-cloud/ai-routing/query-hasher.ts",
    statementMap: {
      "0": {
        start: {
          line: 39,
          column: 41
        },
        end: {
          line: 39,
          column: 50
        }
      },
      "1": {
        start: {
          line: 40,
          column: 39
        },
        end: {
          line: 46,
          column: 3
        }
      },
      "2": {
        start: {
          line: 47,
          column: 34
        },
        end: {
          line: 47,
          column: 35
        }
      },
      "3": {
        start: {
          line: 50,
          column: 4
        },
        end: {
          line: 56,
          column: 6
        }
      },
      "4": {
        start: {
          line: 63,
          column: 4
        },
        end: {
          line: 65,
          column: 5
        }
      },
      "5": {
        start: {
          line: 64,
          column: 6
        },
        end: {
          line: 64,
          column: 19
        }
      },
      "6": {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 71,
          column: 31
        }
      },
      "7": {
        start: {
          line: 78,
          column: 19
        },
        end: {
          line: 78,
          column: 30
        }
      },
      "8": {
        start: {
          line: 80,
          column: 4
        },
        end: {
          line: 82,
          column: 5
        }
      },
      "9": {
        start: {
          line: 81,
          column: 6
        },
        end: {
          line: 81,
          column: 49
        }
      },
      "10": {
        start: {
          line: 84,
          column: 4
        },
        end: {
          line: 86,
          column: 5
        }
      },
      "11": {
        start: {
          line: 85,
          column: 6
        },
        end: {
          line: 85,
          column: 48
        }
      },
      "12": {
        start: {
          line: 88,
          column: 4
        },
        end: {
          line: 88,
          column: 20
        }
      },
      "13": {
        start: {
          line: 95,
          column: 22
        },
        end: {
          line: 95,
          column: 32
        }
      },
      "14": {
        start: {
          line: 97,
          column: 4
        },
        end: {
          line: 128,
          column: 5
        }
      },
      "15": {
        start: {
          line: 98,
          column: 29
        },
        end: {
          line: 98,
          column: 60
        }
      },
      "16": {
        start: {
          line: 99,
          column: 30
        },
        end: {
          line: 99,
          column: 65
        }
      },
      "17": {
        start: {
          line: 101,
          column: 19
        },
        end: {
          line: 103,
          column: 22
        }
      },
      "18": {
        start: {
          line: 105,
          column: 23
        },
        end: {
          line: 105,
          column: 38
        }
      },
      "19": {
        start: {
          line: 108,
          column: 6
        },
        end: {
          line: 108,
          column: 51
        }
      },
      "20": {
        start: {
          line: 110,
          column: 23
        },
        end: {
          line: 110,
          column: 45
        }
      },
      "21": {
        start: {
          line: 111,
          column: 6
        },
        end: {
          line: 111,
          column: 37
        }
      },
      "22": {
        start: {
          line: 113,
          column: 6
        },
        end: {
          line: 124,
          column: 8
        }
      },
      "23": {
        start: {
          line: 126,
          column: 6
        },
        end: {
          line: 126,
          column: 53
        }
      },
      "24": {
        start: {
          line: 127,
          column: 6
        },
        end: {
          line: 127,
          column: 18
        }
      },
      "25": {
        start: {
          line: 135,
          column: 23
        },
        end: {
          line: 135,
          column: 55
        }
      },
      "26": {
        start: {
          line: 136,
          column: 4
        },
        end: {
          line: 138,
          column: 21
        }
      },
      "27": {
        start: {
          line: 145,
          column: 17
        },
        end: {
          line: 145,
          column: 41
        }
      },
      "28": {
        start: {
          line: 146,
          column: 22
        },
        end: {
          line: 146,
          column: 56
        }
      },
      "29": {
        start: {
          line: 147,
          column: 4
        },
        end: {
          line: 147,
          column: 33
        }
      },
      "30": {
        start: {
          line: 154,
          column: 17
        },
        end: {
          line: 154,
          column: 41
        }
      },
      "31": {
        start: {
          line: 155,
          column: 4
        },
        end: {
          line: 155,
          column: 36
        }
      },
      "32": {
        start: {
          line: 162,
          column: 17
        },
        end: {
          line: 162,
          column: 41
        }
      },
      "33": {
        start: {
          line: 163,
          column: 4
        },
        end: {
          line: 163,
          column: 45
        }
      },
      "34": {
        start: {
          line: 170,
          column: 17
        },
        end: {
          line: 170,
          column: 41
        }
      },
      "35": {
        start: {
          line: 171,
          column: 4
        },
        end: {
          line: 171,
          column: 47
        }
      },
      "36": {
        start: {
          line: 178,
          column: 4
        },
        end: {
          line: 178,
          column: 34
        }
      },
      "37": {
        start: {
          line: 180,
          column: 4
        },
        end: {
          line: 185,
          column: 5
        }
      },
      "38": {
        start: {
          line: 181,
          column: 6
        },
        end: {
          line: 181,
          column: 46
        }
      },
      "39": {
        start: {
          line: 182,
          column: 6
        },
        end: {
          line: 182,
          column: 38
        }
      },
      "40": {
        start: {
          line: 184,
          column: 6
        },
        end: {
          line: 184,
          column: 35
        }
      },
      "41": {
        start: {
          line: 187,
          column: 4
        },
        end: {
          line: 187,
          column: 87
        }
      },
      "42": {
        start: {
          line: 188,
          column: 4
        },
        end: {
          line: 188,
          column: 45
        }
      },
      "43": {
        start: {
          line: 195,
          column: 4
        },
        end: {
          line: 195,
          column: 34
        }
      },
      "44": {
        start: {
          line: 202,
          column: 4
        },
        end: {
          line: 202,
          column: 25
        }
      },
      "45": {
        start: {
          line: 203,
          column: 4
        },
        end: {
          line: 209,
          column: 6
        }
      },
      "46": {
        start: {
          line: 210,
          column: 4
        },
        end: {
          line: 210,
          column: 27
        }
      },
      "47": {
        start: {
          line: 217,
          column: 4
        },
        end: {
          line: 219,
          column: 5
        }
      },
      "48": {
        start: {
          line: 218,
          column: 6
        },
        end: {
          line: 218,
          column: 15
        }
      },
      "49": {
        start: {
          line: 220,
          column: 4
        },
        end: {
          line: 220,
          column: 76
        }
      },
      "50": {
        start: {
          line: 227,
          column: 19
        },
        end: {
          line: 227,
          column: 43
        }
      },
      "51": {
        start: {
          line: 228,
          column: 4
        },
        end: {
          line: 228,
          column: 40
        }
      },
      "52": {
        start: {
          line: 235,
          column: 4
        },
        end: {
          line: 235,
          column: 58
        }
      },
      "53": {
        start: {
          line: 235,
          column: 32
        },
        end: {
          line: 235,
          column: 56
        }
      },
      "54": {
        start: {
          line: 242,
          column: 4
        },
        end: {
          line: 252,
          column: 6
        }
      },
      "55": {
        start: {
          line: 257,
          column: 38
        },
        end: {
          line: 257,
          column: 42
        }
      },
      "56": {
        start: {
          line: 263,
          column: 2
        },
        end: {
          line: 265,
          column: 3
        }
      },
      "57": {
        start: {
          line: 264,
          column: 4
        },
        end: {
          line: 264,
          column: 42
        }
      },
      "58": {
        start: {
          line: 266,
          column: 2
        },
        end: {
          line: 266,
          column: 21
        }
      },
      "59": {
        start: {
          line: 273,
          column: 17
        },
        end: {
          line: 273,
          column: 39
        }
      },
      "60": {
        start: {
          line: 274,
          column: 2
        },
        end: {
          line: 274,
          column: 36
        }
      },
      "61": {
        start: {
          line: 281,
          column: 17
        },
        end: {
          line: 281,
          column: 39
        }
      },
      "62": {
        start: {
          line: 282,
          column: 2
        },
        end: {
          line: 282,
          column: 52
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 49,
            column: 2
          },
          end: {
            line: 49,
            column: 3
          }
        },
        loc: {
          start: {
            line: 49,
            column: 48
          },
          end: {
            line: 57,
            column: 3
          }
        },
        line: 49
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 62,
            column: 2
          },
          end: {
            line: 62,
            column: 3
          }
        },
        loc: {
          start: {
            line: 62,
            column: 48
          },
          end: {
            line: 72,
            column: 3
          }
        },
        line: 62
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 77,
            column: 2
          },
          end: {
            line: 77,
            column: 3
          }
        },
        loc: {
          start: {
            line: 77,
            column: 54
          },
          end: {
            line: 89,
            column: 3
          }
        },
        line: 77
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 94,
            column: 2
          },
          end: {
            line: 94,
            column: 3
          }
        },
        loc: {
          start: {
            line: 94,
            column: 48
          },
          end: {
            line: 129,
            column: 3
          }
        },
        line: 94
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 134,
            column: 2
          },
          end: {
            line: 134,
            column: 3
          }
        },
        loc: {
          start: {
            line: 134,
            column: 54
          },
          end: {
            line: 139,
            column: 3
          }
        },
        line: 134
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 144,
            column: 2
          },
          end: {
            line: 144,
            column: 3
          }
        },
        loc: {
          start: {
            line: 144,
            column: 72
          },
          end: {
            line: 148,
            column: 3
          }
        },
        line: 144
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 153,
            column: 2
          },
          end: {
            line: 153,
            column: 3
          }
        },
        loc: {
          start: {
            line: 153,
            column: 69
          },
          end: {
            line: 156,
            column: 3
          }
        },
        line: 153
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 161,
            column: 2
          },
          end: {
            line: 161,
            column: 3
          }
        },
        loc: {
          start: {
            line: 161,
            column: 61
          },
          end: {
            line: 164,
            column: 3
          }
        },
        line: 161
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 169,
            column: 2
          },
          end: {
            line: 169,
            column: 3
          }
        },
        loc: {
          start: {
            line: 169,
            column: 63
          },
          end: {
            line: 172,
            column: 3
          }
        },
        line: 169
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 177,
            column: 2
          },
          end: {
            line: 177,
            column: 3
          }
        },
        loc: {
          start: {
            line: 177,
            column: 72
          },
          end: {
            line: 189,
            column: 3
          }
        },
        line: 177
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 194,
            column: 2
          },
          end: {
            line: 194,
            column: 3
          }
        },
        loc: {
          start: {
            line: 194,
            column: 34
          },
          end: {
            line: 196,
            column: 3
          }
        },
        line: 194
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 201,
            column: 2
          },
          end: {
            line: 201,
            column: 3
          }
        },
        loc: {
          start: {
            line: 201,
            column: 26
          },
          end: {
            line: 211,
            column: 3
          }
        },
        line: 201
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 216,
            column: 2
          },
          end: {
            line: 216,
            column: 3
          }
        },
        loc: {
          start: {
            line: 216,
            column: 29
          },
          end: {
            line: 221,
            column: 3
          }
        },
        line: 216
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 226,
            column: 2
          },
          end: {
            line: 226,
            column: 3
          }
        },
        loc: {
          start: {
            line: 226,
            column: 71
          },
          end: {
            line: 229,
            column: 3
          }
        },
        line: 226
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 234,
            column: 2
          },
          end: {
            line: 234,
            column: 3
          }
        },
        loc: {
          start: {
            line: 234,
            column: 59
          },
          end: {
            line: 236,
            column: 3
          }
        },
        line: 234
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 235,
            column: 23
          },
          end: {
            line: 235,
            column: 24
          }
        },
        loc: {
          start: {
            line: 235,
            column: 32
          },
          end: {
            line: 235,
            column: 56
          }
        },
        line: 235
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 241,
            column: 2
          },
          end: {
            line: 241,
            column: 3
          }
        },
        loc: {
          start: {
            line: 241,
            column: 39
          },
          end: {
            line: 253,
            column: 3
          }
        },
        line: 241
      },
      "17": {
        name: "getQueryHasher",
        decl: {
          start: {
            line: 262,
            column: 16
          },
          end: {
            line: 262,
            column: 30
          }
        },
        loc: {
          start: {
            line: 262,
            column: 74
          },
          end: {
            line: 267,
            column: 1
          }
        },
        line: 262
      },
      "18": {
        name: "hashQuery",
        decl: {
          start: {
            line: 272,
            column: 16
          },
          end: {
            line: 272,
            column: 25
          }
        },
        loc: {
          start: {
            line: 272,
            column: 89
          },
          end: {
            line: 275,
            column: 1
          }
        },
        line: 272
      },
      "19": {
        name: "hashQueryString",
        decl: {
          start: {
            line: 280,
            column: 16
          },
          end: {
            line: 280,
            column: 31
          }
        },
        loc: {
          start: {
            line: 280,
            column: 91
          },
          end: {
            line: 283,
            column: 1
          }
        },
        line: 280
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 49,
            column: 14
          },
          end: {
            line: 49,
            column: 46
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 49,
            column: 44
          },
          end: {
            line: 49,
            column: 46
          }
        }],
        line: 49
      },
      "1": {
        loc: {
          start: {
            line: 63,
            column: 4
          },
          end: {
            line: 65,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 63,
            column: 4
          },
          end: {
            line: 65,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 63
      },
      "2": {
        loc: {
          start: {
            line: 80,
            column: 4
          },
          end: {
            line: 82,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 80,
            column: 4
          },
          end: {
            line: 82,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 80
      },
      "3": {
        loc: {
          start: {
            line: 80,
            column: 8
          },
          end: {
            line: 80,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 80,
            column: 8
          },
          end: {
            line: 80,
            column: 35
          }
        }, {
          start: {
            line: 80,
            column: 39
          },
          end: {
            line: 80,
            column: 53
          }
        }],
        line: 80
      },
      "4": {
        loc: {
          start: {
            line: 84,
            column: 4
          },
          end: {
            line: 86,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 84,
            column: 4
          },
          end: {
            line: 86,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 84
      },
      "5": {
        loc: {
          start: {
            line: 84,
            column: 8
          },
          end: {
            line: 84,
            column: 51
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 84,
            column: 8
          },
          end: {
            line: 84,
            column: 34
          }
        }, {
          start: {
            line: 84,
            column: 38
          },
          end: {
            line: 84,
            column: 51
          }
        }],
        line: 84
      },
      "6": {
        loc: {
          start: {
            line: 144,
            column: 41
          },
          end: {
            line: 144,
            column: 62
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 144,
            column: 61
          },
          end: {
            line: 144,
            column: 62
          }
        }],
        line: 144
      },
      "7": {
        loc: {
          start: {
            line: 153,
            column: 35
          },
          end: {
            line: 153,
            column: 59
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 153,
            column: 52
          },
          end: {
            line: 153,
            column: 59
          }
        }],
        line: 153
      },
      "8": {
        loc: {
          start: {
            line: 180,
            column: 4
          },
          end: {
            line: 185,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 180,
            column: 4
          },
          end: {
            line: 185,
            column: 5
          }
        }, {
          start: {
            line: 183,
            column: 11
          },
          end: {
            line: 185,
            column: 5
          }
        }],
        line: 180
      },
      "9": {
        loc: {
          start: {
            line: 217,
            column: 4
          },
          end: {
            line: 219,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 217,
            column: 4
          },
          end: {
            line: 219,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 217
      },
      "10": {
        loc: {
          start: {
            line: 263,
            column: 2
          },
          end: {
            line: 265,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 263,
            column: 2
          },
          end: {
            line: 265,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 263
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0],
      "7": [0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7d0ebca4c2f57d1299bf3d776e8bb974b40d2763"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1yfjfw62ei = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1yfjfw62ei();
/**
 * Query Hasher for Cache Key Generation
 * Implements consistent hashing, cache key generation, and statistics
 */

import { createHash } from 'crypto';
export class QueryHasher {
  hashMap =
  /* istanbul ignore next */
  (cov_1yfjfw62ei().s[0]++, new Map());
  statistics =
  /* istanbul ignore next */
  (cov_1yfjfw62ei().s[1]++, {
    totalHashes: 0,
    uniqueQueries: 0,
    collisions: 0,
    averageHashTime: 0,
    lastUpdated: new Date()
  });
  totalHashTime =
  /* istanbul ignore next */
  (cov_1yfjfw62ei().s[2]++, 0);
  constructor(config =
  /* istanbul ignore next */
  (cov_1yfjfw62ei().b[0][0]++, {})) {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[0]++;
    cov_1yfjfw62ei().s[3]++;
    this.config = {
      algorithm: 'sha256',
      includeMetadata: false,
      includeContext: false,
      normalizeQuery: true,
      ...config
    };
  }

  /**
   * Normalize query string
   */
  normalizeQuery(query) {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[1]++;
    cov_1yfjfw62ei().s[4]++;
    if (!this.config.normalizeQuery) {
      /* istanbul ignore next */
      cov_1yfjfw62ei().b[1][0]++;
      cov_1yfjfw62ei().s[5]++;
      return query;
    } else
    /* istanbul ignore next */
    {
      cov_1yfjfw62ei().b[1][1]++;
    }
    cov_1yfjfw62ei().s[6]++;
    return query.toLowerCase().trim().replace(/\s+/g, ' ').replace(/[^\w\s]/g, '');
  }

  /**
   * Build hashable string from query
   */
  buildHashableString(query) {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[2]++;
    let hashable =
    /* istanbul ignore next */
    (cov_1yfjfw62ei().s[7]++, query.query);
    /* istanbul ignore next */
    cov_1yfjfw62ei().s[8]++;
    if (
    /* istanbul ignore next */
    (cov_1yfjfw62ei().b[3][0]++, this.config.includeMetadata) &&
    /* istanbul ignore next */
    (cov_1yfjfw62ei().b[3][1]++, query.metadata)) {
      /* istanbul ignore next */
      cov_1yfjfw62ei().b[2][0]++;
      cov_1yfjfw62ei().s[9]++;
      hashable += JSON.stringify(query.metadata);
    } else
    /* istanbul ignore next */
    {
      cov_1yfjfw62ei().b[2][1]++;
    }
    cov_1yfjfw62ei().s[10]++;
    if (
    /* istanbul ignore next */
    (cov_1yfjfw62ei().b[5][0]++, this.config.includeContext) &&
    /* istanbul ignore next */
    (cov_1yfjfw62ei().b[5][1]++, query.context)) {
      /* istanbul ignore next */
      cov_1yfjfw62ei().b[4][0]++;
      cov_1yfjfw62ei().s[11]++;
      hashable += JSON.stringify(query.context);
    } else
    /* istanbul ignore next */
    {
      cov_1yfjfw62ei().b[4][1]++;
    }
    cov_1yfjfw62ei().s[12]++;
    return hashable;
  }

  /**
   * Generate hash for query
   */
  generateHash(query) {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[3]++;
    const startTime =
    /* istanbul ignore next */
    (cov_1yfjfw62ei().s[13]++, Date.now());
    /* istanbul ignore next */
    cov_1yfjfw62ei().s[14]++;
    try {
      const hashableString =
      /* istanbul ignore next */
      (cov_1yfjfw62ei().s[15]++, this.buildHashableString(query));
      const normalizedQuery =
      /* istanbul ignore next */
      (cov_1yfjfw62ei().s[16]++, this.normalizeQuery(hashableString));
      const hash =
      /* istanbul ignore next */
      (cov_1yfjfw62ei().s[17]++, createHash(this.config.algorithm).update(normalizedQuery).digest('hex'));
      const cacheKey =
      /* istanbul ignore next */
      (cov_1yfjfw62ei().s[18]++, `query:${hash}`);

      // Track statistics
      /* istanbul ignore next */
      cov_1yfjfw62ei().s[19]++;
      this.updateStatistics(hash, normalizedQuery);
      const hashTime =
      /* istanbul ignore next */
      (cov_1yfjfw62ei().s[20]++, Date.now() - startTime);
      /* istanbul ignore next */
      cov_1yfjfw62ei().s[21]++;
      this.totalHashTime += hashTime;
      /* istanbul ignore next */
      cov_1yfjfw62ei().s[22]++;
      return {
        hash,
        cacheKey,
        queryNormalized: normalizedQuery,
        metadata: {
          algorithm: this.config.algorithm,
          timestamp: new Date(),
          queryLength: query.query.length,
          hasMetadata: !!query.metadata,
          hasContext: !!query.context
        }
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_1yfjfw62ei().s[23]++;
      console.error('Error generating hash:', error);
      /* istanbul ignore next */
      cov_1yfjfw62ei().s[24]++;
      throw error;
    }
  }

  /**
   * Generate hash from string
   */
  generateHashFromString(queryString) {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[4]++;
    const normalized =
    /* istanbul ignore next */
    (cov_1yfjfw62ei().s[25]++, this.normalizeQuery(queryString));
    /* istanbul ignore next */
    cov_1yfjfw62ei().s[26]++;
    return createHash(this.config.algorithm).update(normalized).digest('hex');
  }

  /**
   * Generate consistent hash for distributed caching
   */
  generateConsistentHash(query, nodeCount =
  /* istanbul ignore next */
  (cov_1yfjfw62ei().b[6][0]++, 1)) {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[5]++;
    const hash =
    /* istanbul ignore next */
    (cov_1yfjfw62ei().s[27]++, this.generateHash(query));
    const hashValue =
    /* istanbul ignore next */
    (cov_1yfjfw62ei().s[28]++, parseInt(hash.substring(0, 8), 16));
    /* istanbul ignore next */
    cov_1yfjfw62ei().s[29]++;
    return hashValue % nodeCount;
  }

  /**
   * Generate cache key with prefix
   */
  generateCacheKey(query, prefix =
  /* istanbul ignore next */
  (cov_1yfjfw62ei().b[7][0]++, 'cache')) {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[6]++;
    const hash =
    /* istanbul ignore next */
    (cov_1yfjfw62ei().s[30]++, this.generateHash(query));
    /* istanbul ignore next */
    cov_1yfjfw62ei().s[31]++;
    return `${prefix}:${hash.hash}`;
  }

  /**
   * Generate cache key with tier information
   */
  generateTierCacheKey(query, tier) {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[7]++;
    const hash =
    /* istanbul ignore next */
    (cov_1yfjfw62ei().s[32]++, this.generateHash(query));
    /* istanbul ignore next */
    cov_1yfjfw62ei().s[33]++;
    return `cache:tier:${tier}:${hash.hash}`;
  }

  /**
   * Generate cache key with user information
   */
  generateUserCacheKey(query, userId) {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[8]++;
    const hash =
    /* istanbul ignore next */
    (cov_1yfjfw62ei().s[34]++, this.generateHash(query));
    /* istanbul ignore next */
    cov_1yfjfw62ei().s[35]++;
    return `cache:user:${userId}:${hash.hash}`;
  }

  /**
   * Update statistics
   */
  updateStatistics(hash, normalizedQuery) {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[9]++;
    cov_1yfjfw62ei().s[36]++;
    this.statistics.totalHashes++;
    /* istanbul ignore next */
    cov_1yfjfw62ei().s[37]++;
    if (!this.hashMap.has(hash)) {
      /* istanbul ignore next */
      cov_1yfjfw62ei().b[8][0]++;
      cov_1yfjfw62ei().s[38]++;
      this.hashMap.set(hash, normalizedQuery);
      /* istanbul ignore next */
      cov_1yfjfw62ei().s[39]++;
      this.statistics.uniqueQueries++;
    } else {
      /* istanbul ignore next */
      cov_1yfjfw62ei().b[8][1]++;
      cov_1yfjfw62ei().s[40]++;
      this.statistics.collisions++;
    }
    /* istanbul ignore next */
    cov_1yfjfw62ei().s[41]++;
    this.statistics.averageHashTime = this.totalHashTime / this.statistics.totalHashes;
    /* istanbul ignore next */
    cov_1yfjfw62ei().s[42]++;
    this.statistics.lastUpdated = new Date();
  }

  /**
   * Get hash statistics
   */
  getStatistics() {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[10]++;
    cov_1yfjfw62ei().s[43]++;
    return {
      ...this.statistics
    };
  }

  /**
   * Reset statistics
   */
  resetStatistics() {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[11]++;
    cov_1yfjfw62ei().s[44]++;
    this.hashMap.clear();
    /* istanbul ignore next */
    cov_1yfjfw62ei().s[45]++;
    this.statistics = {
      totalHashes: 0,
      uniqueQueries: 0,
      collisions: 0,
      averageHashTime: 0,
      lastUpdated: new Date()
    };
    /* istanbul ignore next */
    cov_1yfjfw62ei().s[46]++;
    this.totalHashTime = 0;
  }

  /**
   * Get collision rate
   */
  getCollisionRate() {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[12]++;
    cov_1yfjfw62ei().s[47]++;
    if (this.statistics.totalHashes === 0) {
      /* istanbul ignore next */
      cov_1yfjfw62ei().b[9][0]++;
      cov_1yfjfw62ei().s[48]++;
      return 0;
    } else
    /* istanbul ignore next */
    {
      cov_1yfjfw62ei().b[9][1]++;
    }
    cov_1yfjfw62ei().s[49]++;
    return this.statistics.collisions / this.statistics.totalHashes * 100;
  }

  /**
   * Verify hash consistency
   */
  verifyHashConsistency(query, expectedHash) {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[13]++;
    const result =
    /* istanbul ignore next */
    (cov_1yfjfw62ei().s[50]++, this.generateHash(query));
    /* istanbul ignore next */
    cov_1yfjfw62ei().s[51]++;
    return result.hash === expectedHash;
  }

  /**
   * Generate hash batch
   */
  generateHashBatch(queries) {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[14]++;
    cov_1yfjfw62ei().s[52]++;
    return queries.map(query => {
      /* istanbul ignore next */
      cov_1yfjfw62ei().f[15]++;
      cov_1yfjfw62ei().s[53]++;
      return this.generateHash(query);
    });
  }

  /**
   * Export statistics for monitoring
   */
  exportMetrics() {
    /* istanbul ignore next */
    cov_1yfjfw62ei().f[16]++;
    cov_1yfjfw62ei().s[54]++;
    return {
      timestamp: new Date().toISOString(),
      hashing: {
        totalHashes: this.statistics.totalHashes,
        uniqueQueries: this.statistics.uniqueQueries,
        collisions: this.statistics.collisions,
        collisionRate: this.getCollisionRate().toFixed(2) + '%',
        averageHashTime: this.statistics.averageHashTime.toFixed(2) + 'ms',
        algorithm: this.config.algorithm
      }
    };
  }
}

// Singleton instance
let queryHasher =
/* istanbul ignore next */
(cov_1yfjfw62ei().s[55]++, null);

/**
 * Get or create query hasher
 */
export function getQueryHasher(config) {
  /* istanbul ignore next */
  cov_1yfjfw62ei().f[17]++;
  cov_1yfjfw62ei().s[56]++;
  if (!queryHasher) {
    /* istanbul ignore next */
    cov_1yfjfw62ei().b[10][0]++;
    cov_1yfjfw62ei().s[57]++;
    queryHasher = new QueryHasher(config);
  } else
  /* istanbul ignore next */
  {
    cov_1yfjfw62ei().b[10][1]++;
  }
  cov_1yfjfw62ei().s[58]++;
  return queryHasher;
}

/**
 * Generate hash for query
 */
export function hashQuery(query, config) {
  /* istanbul ignore next */
  cov_1yfjfw62ei().f[18]++;
  const hasher =
  /* istanbul ignore next */
  (cov_1yfjfw62ei().s[59]++, getQueryHasher(config));
  /* istanbul ignore next */
  cov_1yfjfw62ei().s[60]++;
  return hasher.generateHash(query);
}

/**
 * Generate hash from string
 */
export function hashQueryString(queryString, config) {
  /* istanbul ignore next */
  cov_1yfjfw62ei().f[19]++;
  const hasher =
  /* istanbul ignore next */
  (cov_1yfjfw62ei().s[61]++, getQueryHasher(config));
  /* istanbul ignore next */
  cov_1yfjfw62ei().s[62]++;
  return hasher.generateHashFromString(queryString);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXlmamZ3NjJlaSIsImFjdHVhbENvdmVyYWdlIiwiY3JlYXRlSGFzaCIsIlF1ZXJ5SGFzaGVyIiwiaGFzaE1hcCIsInMiLCJNYXAiLCJzdGF0aXN0aWNzIiwidG90YWxIYXNoZXMiLCJ1bmlxdWVRdWVyaWVzIiwiY29sbGlzaW9ucyIsImF2ZXJhZ2VIYXNoVGltZSIsImxhc3RVcGRhdGVkIiwiRGF0ZSIsInRvdGFsSGFzaFRpbWUiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImIiLCJmIiwiYWxnb3JpdGhtIiwiaW5jbHVkZU1ldGFkYXRhIiwiaW5jbHVkZUNvbnRleHQiLCJub3JtYWxpemVRdWVyeSIsInF1ZXJ5IiwidG9Mb3dlckNhc2UiLCJ0cmltIiwicmVwbGFjZSIsImJ1aWxkSGFzaGFibGVTdHJpbmciLCJoYXNoYWJsZSIsIm1ldGFkYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRleHQiLCJnZW5lcmF0ZUhhc2giLCJzdGFydFRpbWUiLCJub3ciLCJoYXNoYWJsZVN0cmluZyIsIm5vcm1hbGl6ZWRRdWVyeSIsImhhc2giLCJ1cGRhdGUiLCJkaWdlc3QiLCJjYWNoZUtleSIsInVwZGF0ZVN0YXRpc3RpY3MiLCJoYXNoVGltZSIsInF1ZXJ5Tm9ybWFsaXplZCIsInRpbWVzdGFtcCIsInF1ZXJ5TGVuZ3RoIiwibGVuZ3RoIiwiaGFzTWV0YWRhdGEiLCJoYXNDb250ZXh0IiwiZXJyb3IiLCJjb25zb2xlIiwiZ2VuZXJhdGVIYXNoRnJvbVN0cmluZyIsInF1ZXJ5U3RyaW5nIiwibm9ybWFsaXplZCIsImdlbmVyYXRlQ29uc2lzdGVudEhhc2giLCJub2RlQ291bnQiLCJoYXNoVmFsdWUiLCJwYXJzZUludCIsInN1YnN0cmluZyIsImdlbmVyYXRlQ2FjaGVLZXkiLCJwcmVmaXgiLCJnZW5lcmF0ZVRpZXJDYWNoZUtleSIsInRpZXIiLCJnZW5lcmF0ZVVzZXJDYWNoZUtleSIsInVzZXJJZCIsImhhcyIsInNldCIsImdldFN0YXRpc3RpY3MiLCJyZXNldFN0YXRpc3RpY3MiLCJjbGVhciIsImdldENvbGxpc2lvblJhdGUiLCJ2ZXJpZnlIYXNoQ29uc2lzdGVuY3kiLCJleHBlY3RlZEhhc2giLCJyZXN1bHQiLCJnZW5lcmF0ZUhhc2hCYXRjaCIsInF1ZXJpZXMiLCJtYXAiLCJleHBvcnRNZXRyaWNzIiwidG9JU09TdHJpbmciLCJoYXNoaW5nIiwiY29sbGlzaW9uUmF0ZSIsInRvRml4ZWQiLCJxdWVyeUhhc2hlciIsImdldFF1ZXJ5SGFzaGVyIiwiaGFzaFF1ZXJ5IiwiaGFzaGVyIiwiaGFzaFF1ZXJ5U3RyaW5nIl0sInNvdXJjZXMiOlsicXVlcnktaGFzaGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUXVlcnkgSGFzaGVyIGZvciBDYWNoZSBLZXkgR2VuZXJhdGlvblxuICogSW1wbGVtZW50cyBjb25zaXN0ZW50IGhhc2hpbmcsIGNhY2hlIGtleSBnZW5lcmF0aW9uLCBhbmQgc3RhdGlzdGljc1xuICovXG5cbmltcG9ydCB7IGNyZWF0ZUhhc2ggfSBmcm9tICdjcnlwdG8nO1xuaW1wb3J0IHsgQUlRdWVyeSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEhhc2hDb25maWcge1xuICBhbGdvcml0aG06ICdzaGEyNTYnIHwgJ3NoYTEnIHwgJ21kNSc7XG4gIGluY2x1ZGVNZXRhZGF0YTogYm9vbGVhbjtcbiAgaW5jbHVkZUNvbnRleHQ6IGJvb2xlYW47XG4gIG5vcm1hbGl6ZVF1ZXJ5OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5SGFzaFJlc3VsdCB7XG4gIGhhc2g6IHN0cmluZztcbiAgY2FjaGVLZXk6IHN0cmluZztcbiAgcXVlcnlOb3JtYWxpemVkOiBzdHJpbmc7XG4gIG1ldGFkYXRhOiB7XG4gICAgYWxnb3JpdGhtOiBzdHJpbmc7XG4gICAgdGltZXN0YW1wOiBEYXRlO1xuICAgIHF1ZXJ5TGVuZ3RoOiBudW1iZXI7XG4gICAgaGFzTWV0YWRhdGE6IGJvb2xlYW47XG4gICAgaGFzQ29udGV4dDogYm9vbGVhbjtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIYXNoU3RhdGlzdGljcyB7XG4gIHRvdGFsSGFzaGVzOiBudW1iZXI7XG4gIHVuaXF1ZVF1ZXJpZXM6IG51bWJlcjtcbiAgY29sbGlzaW9uczogbnVtYmVyO1xuICBhdmVyYWdlSGFzaFRpbWU6IG51bWJlcjtcbiAgbGFzdFVwZGF0ZWQ6IERhdGU7XG59XG5cbmV4cG9ydCBjbGFzcyBRdWVyeUhhc2hlciB7XG4gIHByaXZhdGUgY29uZmlnOiBIYXNoQ29uZmlnO1xuICBwcml2YXRlIGhhc2hNYXA6IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgc3RhdGlzdGljczogSGFzaFN0YXRpc3RpY3MgPSB7XG4gICAgdG90YWxIYXNoZXM6IDAsXG4gICAgdW5pcXVlUXVlcmllczogMCxcbiAgICBjb2xsaXNpb25zOiAwLFxuICAgIGF2ZXJhZ2VIYXNoVGltZTogMCxcbiAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKVxuICB9O1xuICBwcml2YXRlIHRvdGFsSGFzaFRpbWU6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBQYXJ0aWFsPEhhc2hDb25maWc+ID0ge30pIHtcbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIGFsZ29yaXRobTogJ3NoYTI1NicsXG4gICAgICBpbmNsdWRlTWV0YWRhdGE6IGZhbHNlLFxuICAgICAgaW5jbHVkZUNvbnRleHQ6IGZhbHNlLFxuICAgICAgbm9ybWFsaXplUXVlcnk6IHRydWUsXG4gICAgICAuLi5jb25maWdcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBxdWVyeSBzdHJpbmdcbiAgICovXG4gIHByaXZhdGUgbm9ybWFsaXplUXVlcnkocXVlcnk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCF0aGlzLmNvbmZpZy5ub3JtYWxpemVRdWVyeSkge1xuICAgICAgcmV0dXJuIHF1ZXJ5O1xuICAgIH1cblxuICAgIHJldHVybiBxdWVyeVxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC50cmltKClcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcbiAgICAgIC5yZXBsYWNlKC9bXlxcd1xcc10vZywgJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGhhc2hhYmxlIHN0cmluZyBmcm9tIHF1ZXJ5XG4gICAqL1xuICBwcml2YXRlIGJ1aWxkSGFzaGFibGVTdHJpbmcocXVlcnk6IEFJUXVlcnkpOiBzdHJpbmcge1xuICAgIGxldCBoYXNoYWJsZSA9IHF1ZXJ5LnF1ZXJ5O1xuXG4gICAgaWYgKHRoaXMuY29uZmlnLmluY2x1ZGVNZXRhZGF0YSAmJiBxdWVyeS5tZXRhZGF0YSkge1xuICAgICAgaGFzaGFibGUgKz0gSlNPTi5zdHJpbmdpZnkocXVlcnkubWV0YWRhdGEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbmZpZy5pbmNsdWRlQ29udGV4dCAmJiBxdWVyeS5jb250ZXh0KSB7XG4gICAgICBoYXNoYWJsZSArPSBKU09OLnN0cmluZ2lmeShxdWVyeS5jb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFzaGFibGU7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgaGFzaCBmb3IgcXVlcnlcbiAgICovXG4gIGdlbmVyYXRlSGFzaChxdWVyeTogQUlRdWVyeSk6IFF1ZXJ5SGFzaFJlc3VsdCB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBoYXNoYWJsZVN0cmluZyA9IHRoaXMuYnVpbGRIYXNoYWJsZVN0cmluZyhxdWVyeSk7XG4gICAgICBjb25zdCBub3JtYWxpemVkUXVlcnkgPSB0aGlzLm5vcm1hbGl6ZVF1ZXJ5KGhhc2hhYmxlU3RyaW5nKTtcblxuICAgICAgY29uc3QgaGFzaCA9IGNyZWF0ZUhhc2godGhpcy5jb25maWcuYWxnb3JpdGhtKVxuICAgICAgICAudXBkYXRlKG5vcm1hbGl6ZWRRdWVyeSlcbiAgICAgICAgLmRpZ2VzdCgnaGV4Jyk7XG5cbiAgICAgIGNvbnN0IGNhY2hlS2V5ID0gYHF1ZXJ5OiR7aGFzaH1gO1xuXG4gICAgICAvLyBUcmFjayBzdGF0aXN0aWNzXG4gICAgICB0aGlzLnVwZGF0ZVN0YXRpc3RpY3MoaGFzaCwgbm9ybWFsaXplZFF1ZXJ5KTtcblxuICAgICAgY29uc3QgaGFzaFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgdGhpcy50b3RhbEhhc2hUaW1lICs9IGhhc2hUaW1lO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBoYXNoLFxuICAgICAgICBjYWNoZUtleSxcbiAgICAgICAgcXVlcnlOb3JtYWxpemVkOiBub3JtYWxpemVkUXVlcnksXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgYWxnb3JpdGhtOiB0aGlzLmNvbmZpZy5hbGdvcml0aG0sXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHF1ZXJ5TGVuZ3RoOiBxdWVyeS5xdWVyeS5sZW5ndGgsXG4gICAgICAgICAgaGFzTWV0YWRhdGE6ICEhcXVlcnkubWV0YWRhdGEsXG4gICAgICAgICAgaGFzQ29udGV4dDogISFxdWVyeS5jb250ZXh0XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgaGFzaDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgaGFzaCBmcm9tIHN0cmluZ1xuICAgKi9cbiAgZ2VuZXJhdGVIYXNoRnJvbVN0cmluZyhxdWVyeVN0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBub3JtYWxpemVkID0gdGhpcy5ub3JtYWxpemVRdWVyeShxdWVyeVN0cmluZyk7XG4gICAgcmV0dXJuIGNyZWF0ZUhhc2godGhpcy5jb25maWcuYWxnb3JpdGhtKVxuICAgICAgLnVwZGF0ZShub3JtYWxpemVkKVxuICAgICAgLmRpZ2VzdCgnaGV4Jyk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgY29uc2lzdGVudCBoYXNoIGZvciBkaXN0cmlidXRlZCBjYWNoaW5nXG4gICAqL1xuICBnZW5lcmF0ZUNvbnNpc3RlbnRIYXNoKHF1ZXJ5OiBBSVF1ZXJ5LCBub2RlQ291bnQ6IG51bWJlciA9IDEpOiBudW1iZXIge1xuICAgIGNvbnN0IGhhc2ggPSB0aGlzLmdlbmVyYXRlSGFzaChxdWVyeSk7XG4gICAgY29uc3QgaGFzaFZhbHVlID0gcGFyc2VJbnQoaGFzaC5zdWJzdHJpbmcoMCwgOCksIDE2KTtcbiAgICByZXR1cm4gaGFzaFZhbHVlICUgbm9kZUNvdW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGNhY2hlIGtleSB3aXRoIHByZWZpeFxuICAgKi9cbiAgZ2VuZXJhdGVDYWNoZUtleShxdWVyeTogQUlRdWVyeSwgcHJlZml4OiBzdHJpbmcgPSAnY2FjaGUnKTogc3RyaW5nIHtcbiAgICBjb25zdCBoYXNoID0gdGhpcy5nZW5lcmF0ZUhhc2gocXVlcnkpO1xuICAgIHJldHVybiBgJHtwcmVmaXh9OiR7aGFzaC5oYXNofWA7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgY2FjaGUga2V5IHdpdGggdGllciBpbmZvcm1hdGlvblxuICAgKi9cbiAgZ2VuZXJhdGVUaWVyQ2FjaGVLZXkocXVlcnk6IEFJUXVlcnksIHRpZXI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgaGFzaCA9IHRoaXMuZ2VuZXJhdGVIYXNoKHF1ZXJ5KTtcbiAgICByZXR1cm4gYGNhY2hlOnRpZXI6JHt0aWVyfToke2hhc2guaGFzaH1gO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGNhY2hlIGtleSB3aXRoIHVzZXIgaW5mb3JtYXRpb25cbiAgICovXG4gIGdlbmVyYXRlVXNlckNhY2hlS2V5KHF1ZXJ5OiBBSVF1ZXJ5LCB1c2VySWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgaGFzaCA9IHRoaXMuZ2VuZXJhdGVIYXNoKHF1ZXJ5KTtcbiAgICByZXR1cm4gYGNhY2hlOnVzZXI6JHt1c2VySWR9OiR7aGFzaC5oYXNofWA7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHN0YXRpc3RpY3NcbiAgICovXG4gIHByaXZhdGUgdXBkYXRlU3RhdGlzdGljcyhoYXNoOiBzdHJpbmcsIG5vcm1hbGl6ZWRRdWVyeTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0aXN0aWNzLnRvdGFsSGFzaGVzKys7XG5cbiAgICBpZiAoIXRoaXMuaGFzaE1hcC5oYXMoaGFzaCkpIHtcbiAgICAgIHRoaXMuaGFzaE1hcC5zZXQoaGFzaCwgbm9ybWFsaXplZFF1ZXJ5KTtcbiAgICAgIHRoaXMuc3RhdGlzdGljcy51bmlxdWVRdWVyaWVzKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGlzdGljcy5jb2xsaXNpb25zKys7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0aXN0aWNzLmF2ZXJhZ2VIYXNoVGltZSA9IHRoaXMudG90YWxIYXNoVGltZSAvIHRoaXMuc3RhdGlzdGljcy50b3RhbEhhc2hlcztcbiAgICB0aGlzLnN0YXRpc3RpY3MubGFzdFVwZGF0ZWQgPSBuZXcgRGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBoYXNoIHN0YXRpc3RpY3NcbiAgICovXG4gIGdldFN0YXRpc3RpY3MoKTogSGFzaFN0YXRpc3RpY3Mge1xuICAgIHJldHVybiB7IC4uLnRoaXMuc3RhdGlzdGljcyB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHN0YXRpc3RpY3NcbiAgICovXG4gIHJlc2V0U3RhdGlzdGljcygpOiB2b2lkIHtcbiAgICB0aGlzLmhhc2hNYXAuY2xlYXIoKTtcbiAgICB0aGlzLnN0YXRpc3RpY3MgPSB7XG4gICAgICB0b3RhbEhhc2hlczogMCxcbiAgICAgIHVuaXF1ZVF1ZXJpZXM6IDAsXG4gICAgICBjb2xsaXNpb25zOiAwLFxuICAgICAgYXZlcmFnZUhhc2hUaW1lOiAwLFxuICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKClcbiAgICB9O1xuICAgIHRoaXMudG90YWxIYXNoVGltZSA9IDA7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGNvbGxpc2lvbiByYXRlXG4gICAqL1xuICBnZXRDb2xsaXNpb25SYXRlKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuc3RhdGlzdGljcy50b3RhbEhhc2hlcyA9PT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiAodGhpcy5zdGF0aXN0aWNzLmNvbGxpc2lvbnMgLyB0aGlzLnN0YXRpc3RpY3MudG90YWxIYXNoZXMpICogMTAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmeSBoYXNoIGNvbnNpc3RlbmN5XG4gICAqL1xuICB2ZXJpZnlIYXNoQ29uc2lzdGVuY3kocXVlcnk6IEFJUXVlcnksIGV4cGVjdGVkSGFzaDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5nZW5lcmF0ZUhhc2gocXVlcnkpO1xuICAgIHJldHVybiByZXN1bHQuaGFzaCA9PT0gZXhwZWN0ZWRIYXNoO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGhhc2ggYmF0Y2hcbiAgICovXG4gIGdlbmVyYXRlSGFzaEJhdGNoKHF1ZXJpZXM6IEFJUXVlcnlbXSk6IFF1ZXJ5SGFzaFJlc3VsdFtdIHtcbiAgICByZXR1cm4gcXVlcmllcy5tYXAocXVlcnkgPT4gdGhpcy5nZW5lcmF0ZUhhc2gocXVlcnkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBvcnQgc3RhdGlzdGljcyBmb3IgbW9uaXRvcmluZ1xuICAgKi9cbiAgZXhwb3J0TWV0cmljcygpOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBoYXNoaW5nOiB7XG4gICAgICAgIHRvdGFsSGFzaGVzOiB0aGlzLnN0YXRpc3RpY3MudG90YWxIYXNoZXMsXG4gICAgICAgIHVuaXF1ZVF1ZXJpZXM6IHRoaXMuc3RhdGlzdGljcy51bmlxdWVRdWVyaWVzLFxuICAgICAgICBjb2xsaXNpb25zOiB0aGlzLnN0YXRpc3RpY3MuY29sbGlzaW9ucyxcbiAgICAgICAgY29sbGlzaW9uUmF0ZTogdGhpcy5nZXRDb2xsaXNpb25SYXRlKCkudG9GaXhlZCgyKSArICclJyxcbiAgICAgICAgYXZlcmFnZUhhc2hUaW1lOiB0aGlzLnN0YXRpc3RpY3MuYXZlcmFnZUhhc2hUaW1lLnRvRml4ZWQoMikgKyAnbXMnLFxuICAgICAgICBhbGdvcml0aG06IHRoaXMuY29uZmlnLmFsZ29yaXRobVxuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblxuLy8gU2luZ2xldG9uIGluc3RhbmNlXG5sZXQgcXVlcnlIYXNoZXI6IFF1ZXJ5SGFzaGVyIHwgbnVsbCA9IG51bGw7XG5cbi8qKlxuICogR2V0IG9yIGNyZWF0ZSBxdWVyeSBoYXNoZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFF1ZXJ5SGFzaGVyKGNvbmZpZz86IFBhcnRpYWw8SGFzaENvbmZpZz4pOiBRdWVyeUhhc2hlciB7XG4gIGlmICghcXVlcnlIYXNoZXIpIHtcbiAgICBxdWVyeUhhc2hlciA9IG5ldyBRdWVyeUhhc2hlcihjb25maWcpO1xuICB9XG4gIHJldHVybiBxdWVyeUhhc2hlcjtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBoYXNoIGZvciBxdWVyeVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaFF1ZXJ5KHF1ZXJ5OiBBSVF1ZXJ5LCBjb25maWc/OiBQYXJ0aWFsPEhhc2hDb25maWc+KTogUXVlcnlIYXNoUmVzdWx0IHtcbiAgY29uc3QgaGFzaGVyID0gZ2V0UXVlcnlIYXNoZXIoY29uZmlnKTtcbiAgcmV0dXJuIGhhc2hlci5nZW5lcmF0ZUhhc2gocXVlcnkpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGhhc2ggZnJvbSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc2hRdWVyeVN0cmluZyhxdWVyeVN0cmluZzogc3RyaW5nLCBjb25maWc/OiBQYXJ0aWFsPEhhc2hDb25maWc+KTogc3RyaW5nIHtcbiAgY29uc3QgaGFzaGVyID0gZ2V0UXVlcnlIYXNoZXIoY29uZmlnKTtcbiAgcmV0dXJuIGhhc2hlci5nZW5lcmF0ZUhhc2hGcm9tU3RyaW5nKHF1ZXJ5U3RyaW5nKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBZVk7SUFBQUEsY0FBQSxZQUFBQSxDQUFBO01BQUEsT0FBQUMsY0FBQTtJQUFB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