{"version":3,"names":["cov_21qrkd1d2t","actualCoverage","prisma","logger","LearningOutcomesService","getStudentCourseAnalytics","studentId","courseId","f","s","enrollment","findFirst","where","include","course","modules","b","Error","outcomes","learningOutcome","findMany","enrollmentId","id","totalModules","length","completedModules","Set","map","o","moduleId","size","completionRate","assessmentScores","assessmentScore","averageScore","reduce","a","totalTimeSpent","sum","timeSpent","timeToMastery","conceptsMastered","conceptsInProgress","conceptsStruggling","forEach","outcome","moduleName","conceptMastery","push","skillProficiency","Map","skillKey","set","error","getStudentOverallAnalytics","enrollments","courseAnalytics","totalCompletionRate","totalScore","scoreCount","analytics","completedCourses","filter","e","status","activeCourses","totalCourses","averageCompletionRate","getCourseOutcomes","orderBy","completedAt","getEnrollmentOutcomes","calculateCourseCompletionRate","completedEnrollments","totalEnrollments","calculateCourseTimeToMastery","averageTimeToMastery","medianTimeToMastery","minTime","maxTime","enrollmentTimes","current","get","times","Array","from","values","t","sort","Math","floor","min","max","calculateCourseAverageScore","medianScore","minScore","maxScore","passRate","scores","identifyAtRiskStudents","scoreThreshold","atRiskStudents","riskFactors","toFixed","getSkillProficiencyDistribution","proficiencyLevels","mastered","proficient","developing","beginning","totalAssessments","getModuleAnalytics","module","moduleAnalytics","title","totalAttempts","averageTimeSpent","uniqueStudents","count","learningOutcomesService"],"sources":["learning-outcomes.service.ts"],"sourcesContent":["import { prisma } from '../index';\nimport { LearningAnalytics, LearningOutcome } from '../types';\nimport { logger } from '../utils/logger';\n\nexport class LearningOutcomesService {\n  /**\n   * Get comprehensive learning analytics for a student in a specific course\n   */\n  async getStudentCourseAnalytics(studentId: string, courseId: string): Promise<LearningAnalytics> {\n    try {\n      const enrollment = await prisma.enrollment.findFirst({\n        where: {\n          studentId,\n          courseId,\n        },\n        include: {\n          course: {\n            include: {\n              modules: true,\n            },\n          },\n        },\n      });\n\n      if (!enrollment) {\n        throw new Error('Enrollment not found');\n      }\n\n      const outcomes = await prisma.learningOutcome.findMany({\n        where: {\n          enrollmentId: enrollment.id,\n          courseId,\n        },\n      });\n\n      // Calculate completion rate\n      const totalModules = enrollment.course.modules.length;\n      const completedModules = new Set(outcomes.map(o => o.moduleId)).size;\n      const completionRate = totalModules > 0 ? (completedModules / totalModules) * 100 : 0;\n\n      // Calculate assessment scores\n      const assessmentScores = outcomes.map(o => o.assessmentScore);\n      const averageScore = assessmentScores.length > 0\n        ? assessmentScores.reduce((a, b) => a + b, 0) / assessmentScores.length\n        : 0;\n\n      // Calculate time to mastery (in hours)\n      const totalTimeSpent = outcomes.reduce((sum, o) => sum + o.timeSpent, 0);\n      const timeToMastery = totalTimeSpent / 3600; // convert seconds to hours\n\n      // Categorize concepts based on mastery\n      const conceptsMastered: string[] = [];\n      const conceptsInProgress: string[] = [];\n      const conceptsStruggling: string[] = [];\n\n      outcomes.forEach(outcome => {\n        const moduleName = `Module ${outcome.moduleId}`;\n        if (outcome.conceptMastery >= 80) {\n          conceptsMastered.push(moduleName);\n        } else if (outcome.conceptMastery >= 50) {\n          conceptsInProgress.push(moduleName);\n        } else {\n          conceptsStruggling.push(moduleName);\n        }\n      });\n\n      // Build skill proficiency map\n      const skillProficiency = new Map<string, number>();\n      outcomes.forEach(outcome => {\n        const skillKey = `Module ${outcome.moduleId}`;\n        skillProficiency.set(skillKey, outcome.conceptMastery);\n      });\n\n      return {\n        studentId,\n        courseId,\n        completionRate,\n        timeToMastery,\n        skillProficiency,\n        assessmentScores,\n        averageScore,\n        conceptsMastered: [...new Set(conceptsMastered)],\n        conceptsInProgress: [...new Set(conceptsInProgress)],\n        conceptsStruggling: [...new Set(conceptsStruggling)],\n      };\n    } catch (error) {\n      logger.error('Error getting student course analytics:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get learning analytics for all courses a student is enrolled in\n   */\n  async getStudentOverallAnalytics(studentId: string): Promise<{\n    totalCourses: number;\n    completedCourses: number;\n    activeCourses: number;\n    averageCompletionRate: number;\n    averageScore: number;\n    totalTimeSpent: number;\n    courseAnalytics: LearningAnalytics[];\n  }> {\n    try {\n      const enrollments = await prisma.enrollment.findMany({\n        where: { studentId },\n        include: {\n          course: {\n            include: {\n              modules: true,\n            },\n          },\n        },\n      });\n\n      const courseAnalytics: LearningAnalytics[] = [];\n      let totalCompletionRate = 0;\n      let totalScore = 0;\n      let totalTimeSpent = 0;\n      let scoreCount = 0;\n\n      for (const enrollment of enrollments) {\n        const analytics = await this.getStudentCourseAnalytics(studentId, enrollment.courseId);\n        courseAnalytics.push(analytics);\n        totalCompletionRate += analytics.completionRate;\n        totalScore += analytics.averageScore;\n        totalTimeSpent += analytics.timeToMastery * 3600; // convert back to seconds\n        scoreCount++;\n      }\n\n      const completedCourses = enrollments.filter(e => e.status === 'completed').length;\n      const activeCourses = enrollments.filter(e => e.status === 'active').length;\n\n      return {\n        totalCourses: enrollments.length,\n        completedCourses,\n        activeCourses,\n        averageCompletionRate: enrollments.length > 0 ? totalCompletionRate / enrollments.length : 0,\n        averageScore: scoreCount > 0 ? totalScore / scoreCount : 0,\n        totalTimeSpent,\n        courseAnalytics,\n      };\n    } catch (error) {\n      logger.error('Error getting student overall analytics:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get learning outcomes for a specific course\n   */\n  async getCourseOutcomes(courseId: string): Promise<LearningOutcome[]> {\n    try {\n      const outcomes = await prisma.learningOutcome.findMany({\n        where: { courseId },\n        orderBy: { completedAt: 'desc' },\n      });\n\n      return outcomes as LearningOutcome[];\n    } catch (error) {\n      logger.error('Error getting course outcomes:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get learning outcomes for a specific enrollment\n   */\n  async getEnrollmentOutcomes(enrollmentId: string): Promise<LearningOutcome[]> {\n    try {\n      const outcomes = await prisma.learningOutcome.findMany({\n        where: { enrollmentId },\n        orderBy: { completedAt: 'asc' },\n      });\n\n      return outcomes as LearningOutcome[];\n    } catch (error) {\n      logger.error('Error getting enrollment outcomes:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Calculate completion rate for a course\n   */\n  async calculateCourseCompletionRate(courseId: string): Promise<{\n    completionRate: number;\n    totalEnrollments: number;\n    completedEnrollments: number;\n  }> {\n    try {\n      const enrollments = await prisma.enrollment.findMany({\n        where: { courseId },\n      });\n\n      const completedEnrollments = enrollments.filter(e => e.status === 'completed').length;\n      const completionRate = enrollments.length > 0\n        ? (completedEnrollments / enrollments.length) * 100\n        : 0;\n\n      return {\n        completionRate,\n        totalEnrollments: enrollments.length,\n        completedEnrollments,\n      };\n    } catch (error) {\n      logger.error('Error calculating course completion rate:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Calculate average time to mastery for a course\n   */\n  async calculateCourseTimeToMastery(courseId: string): Promise<{\n    averageTimeToMastery: number; // in hours\n    medianTimeToMastery: number; // in hours\n    minTime: number; // in hours\n    maxTime: number; // in hours\n  }> {\n    try {\n      const outcomes = await prisma.learningOutcome.findMany({\n        where: { courseId },\n      });\n\n      if (outcomes.length === 0) {\n        return {\n          averageTimeToMastery: 0,\n          medianTimeToMastery: 0,\n          minTime: 0,\n          maxTime: 0,\n        };\n      }\n\n      // Group by enrollment to get total time per student\n      const enrollmentTimes = new Map<string, number>();\n      outcomes.forEach(outcome => {\n        const current = enrollmentTimes.get(outcome.enrollmentId) || 0;\n        enrollmentTimes.set(outcome.enrollmentId, current + outcome.timeSpent);\n      });\n\n      const times = Array.from(enrollmentTimes.values()).map(t => t / 3600); // convert to hours\n      times.sort((a, b) => a - b);\n\n      const averageTimeToMastery = times.reduce((a, b) => a + b, 0) / times.length;\n      const medianTimeToMastery = times[Math.floor(times.length / 2)];\n      const minTime = Math.min(...times);\n      const maxTime = Math.max(...times);\n\n      return {\n        averageTimeToMastery,\n        medianTimeToMastery,\n        minTime,\n        maxTime,\n      };\n    } catch (error) {\n      logger.error('Error calculating course time to mastery:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Calculate average assessment score for a course\n   */\n  async calculateCourseAverageScore(courseId: string): Promise<{\n    averageScore: number;\n    medianScore: number;\n    minScore: number;\n    maxScore: number;\n    passRate: number; // percentage of students with score >= 70\n  }> {\n    try {\n      const outcomes = await prisma.learningOutcome.findMany({\n        where: { courseId },\n      });\n\n      if (outcomes.length === 0) {\n        return {\n          averageScore: 0,\n          medianScore: 0,\n          minScore: 0,\n          maxScore: 0,\n          passRate: 0,\n        };\n      }\n\n      const scores = outcomes.map(o => o.assessmentScore).sort((a, b) => a - b);\n      const averageScore = scores.reduce((a, b) => a + b, 0) / scores.length;\n      const medianScore = scores[Math.floor(scores.length / 2)];\n      const minScore = Math.min(...scores);\n      const maxScore = Math.max(...scores);\n      const passRate = (scores.filter(s => s >= 70).length / scores.length) * 100;\n\n      return {\n        averageScore,\n        medianScore,\n        minScore,\n        maxScore,\n        passRate,\n      };\n    } catch (error) {\n      logger.error('Error calculating course average score:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Identify at-risk students in a course (low completion or low scores)\n   */\n  async identifyAtRiskStudents(courseId: string, scoreThreshold: number = 50): Promise<{\n    atRiskStudents: Array<{\n      studentId: string;\n      enrollmentId: string;\n      averageScore: number;\n      completionRate: number;\n      riskFactors: string[];\n    }>;\n  }> {\n    try {\n      const enrollments = await prisma.enrollment.findMany({\n        where: { courseId },\n        include: {\n          course: {\n            include: {\n              modules: true,\n            },\n          },\n        },\n      });\n\n      const atRiskStudents = [];\n\n      for (const enrollment of enrollments) {\n        const outcomes = await prisma.learningOutcome.findMany({\n          where: { enrollmentId: enrollment.id },\n        });\n\n        if (outcomes.length === 0) {continue;}\n\n        const totalModules = enrollment.course.modules.length;\n        const completedModules = new Set(outcomes.map(o => o.moduleId)).size;\n        const completionRate = totalModules > 0 ? (completedModules / totalModules) * 100 : 0;\n        const averageScore = outcomes.reduce((sum, o) => sum + o.assessmentScore, 0) / outcomes.length;\n\n        const riskFactors: string[] = [];\n        if (averageScore < scoreThreshold) {\n          riskFactors.push(`Low average score: ${averageScore.toFixed(2)}`);\n        }\n        if (completionRate < 50) {\n          riskFactors.push(`Low completion rate: ${completionRate.toFixed(2)}%`);\n        }\n\n        if (riskFactors.length > 0) {\n          atRiskStudents.push({\n            studentId: enrollment.studentId,\n            enrollmentId: enrollment.id,\n            averageScore,\n            completionRate,\n            riskFactors,\n          });\n        }\n      }\n\n      return { atRiskStudents };\n    } catch (error) {\n      logger.error('Error identifying at-risk students:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get skill proficiency distribution for a course\n   */\n  async getSkillProficiencyDistribution(courseId: string): Promise<{\n    proficiencyLevels: {\n      mastered: number; // >= 80\n      proficient: number; // 60-79\n      developing: number; // 40-59\n      beginning: number; // < 40\n    };\n    totalAssessments: number;\n  }> {\n    try {\n      const outcomes = await prisma.learningOutcome.findMany({\n        where: { courseId },\n      });\n\n      const proficiencyLevels = {\n        mastered: 0,\n        proficient: 0,\n        developing: 0,\n        beginning: 0,\n      };\n\n      outcomes.forEach(outcome => {\n        if (outcome.conceptMastery >= 80) {\n          proficiencyLevels.mastered++;\n        } else if (outcome.conceptMastery >= 60) {\n          proficiencyLevels.proficient++;\n        } else if (outcome.conceptMastery >= 40) {\n          proficiencyLevels.developing++;\n        } else {\n          proficiencyLevels.beginning++;\n        }\n      });\n\n      return {\n        proficiencyLevels,\n        totalAssessments: outcomes.length,\n      };\n    } catch (error) {\n      logger.error('Error getting skill proficiency distribution:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get module-level analytics for a course\n   */\n  async getModuleAnalytics(courseId: string): Promise<Array<{\n    moduleId: string;\n    moduleName: string;\n    totalAttempts: number;\n    averageScore: number;\n    completionRate: number;\n    averageTimeSpent: number; // in minutes\n  }>> {\n    try {\n      const modules = await prisma.module.findMany({\n        where: { courseId },\n      });\n\n      const moduleAnalytics = [];\n\n      for (const module of modules) {\n        const outcomes = await prisma.learningOutcome.findMany({\n          where: {\n            courseId,\n            moduleId: module.id,\n          },\n        });\n\n        if (outcomes.length === 0) {\n          moduleAnalytics.push({\n            moduleId: module.id,\n            moduleName: module.title,\n            totalAttempts: 0,\n            averageScore: 0,\n            completionRate: 0,\n            averageTimeSpent: 0,\n          });\n          continue;\n        }\n\n        const averageScore = outcomes.reduce((sum, o) => sum + o.assessmentScore, 0) / outcomes.length;\n        const averageTimeSpent = (outcomes.reduce((sum, o) => sum + o.timeSpent, 0) / outcomes.length) / 60; // convert to minutes\n\n        // Get unique students who completed this module\n        const uniqueStudents = new Set(outcomes.map(o => o.enrollmentId)).size;\n        const totalEnrollments = await prisma.enrollment.count({\n          where: { courseId },\n        });\n        const completionRate = totalEnrollments > 0 ? (uniqueStudents / totalEnrollments) * 100 : 0;\n\n        moduleAnalytics.push({\n          moduleId: module.id,\n          moduleName: module.title,\n          totalAttempts: outcomes.length,\n          averageScore,\n          completionRate,\n          averageTimeSpent,\n        });\n      }\n\n      return moduleAnalytics;\n    } catch (error) {\n      logger.error('Error getting module analytics:', error);\n      throw error;\n    }\n  }\n}\n\nexport const learningOutcomesService = new LearningOutcomesService();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}