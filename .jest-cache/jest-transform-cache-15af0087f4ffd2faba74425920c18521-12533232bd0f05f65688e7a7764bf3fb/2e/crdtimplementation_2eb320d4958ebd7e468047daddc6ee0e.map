{"version":3,"names":["cov_4o7yt3pdg","actualCoverage","EventEmitter","Y","AzoraCRDTManager","documents","s","Map","providers","constructor","config","f","initializeComponents","getInstance","instance","b","Error","persistenceManager","PersistenceManager","persistence","awarenessManager","AwarenessManager","awareness","versionManager","VersionManager","collaboration","syncManager","SyncManager","performance","securityManager","CRDTSecurityManager","security","createDocument","id","type","initialContent","ydoc","Doc","initializeDocumentStructure","Awareness","provider","createProviders","metadata","createdAt","Date","now","updatedAt","createdBy","version","collaborators","locked","tags","document","set","setupDocumentListeners","enabled","save","emit","error","console","openDocument","existing","get","load","getMetadata","detectDocumentType","closeDocument","disconnect","destroy","delete","deleteDocument","getDocument","listDocuments","Array","from","values","getText","documentId","key","undefined","getMap","getArray","getXmlFragment","setAwarenessState","state","setState","getAwarenessStates","getStates","getCollaborators","states","map","user","createSnapshot","message","snapshot","restoreSnapshot","snapshotId","getSnapshots","syncDocument","sync","syncAll","syncPromises","keys","Promise","all","getSyncStatus","connected","synced","pending","lastSync","undo","undoManager","getUndoManager","redo","text","insert","Object","entries","forEach","value","array","isArray","push","messages","compositeProvider","CompositeProvider","connect","on","update","origin","handleDocumentUpdate","handleAwarenessChange","autoSave","changeTracking","trackChange","getConfig","updateConfig","newConfig","configs","initializeProviders","sorted","sort","a","priority","WebRTCProviderAdapter","WebSocketProviderAdapter","IndexedDBProviderAdapter","promises","p","encodeStateAsUpdate","current","getLocalState","setLocalState","lastUpdate","snapshots","getNextVersion","timestamp","length"],"sources":["crdt-implementation.ts"],"sourcesContent":["/* \nAZORA PROPRIETARY LICENSE \nCopyright (c) 2025 Azora ES (Pty) Ltd. All Rights Reserved. \nSee LICENSE file for details. \n*/ \n/**\n * Azora CRDT (Conflict-Free Replicated Data Types) Implementation\n * \n * Decentralized, peer-to-peer data synchronization system based on Yjs,\n * enabling real-time collaboration without centralized servers.\n * \n * Features:\n * - Conflict-free synchronization across all platforms\n * - Offline-first architecture with automatic merging\n * - Real-time collaboration for code, documents, and UI state\n * - WebRTC, WebSocket, and local storage providers\n * - Awareness and presence system\n * - Version control integration\n * - Enterprise-grade performance and scalability\n */\n\nimport { EventEmitter } from 'events';\nimport * as Y from 'yjs';\n\n// CRDT Configuration\nexport interface CRDTConfig {\n  providers: ProviderConfig[];\n  persistence: PersistenceConfig;\n  awareness: AwarenessConfig;\n  collaboration: CollaborationConfig;\n  performance: PerformanceConfig;\n  security: SecurityConfig;\n}\n\nexport interface ProviderConfig {\n  type: 'webrtc' | 'websocket' | 'local' | 'indexeddb' | 'custom';\n  enabled: boolean;\n  priority: number;\n  config: Record<string, any>;\n}\n\nexport interface PersistenceConfig {\n  enabled: boolean;\n  storage: 'indexeddb' | 'localstorage' | 'filesystem' | 'custom';\n  autoSave: boolean;\n  saveInterval: number;\n  compression: boolean;\n  encryption: boolean;\n}\n\nexport interface AwarenessConfig {\n  enabled: boolean;\n  timeout: number;\n  updateInterval: number;\n  includePresence: boolean;\n  includeCursors: boolean;\n  includeSelections: boolean;\n}\n\nexport interface CollaborationConfig {\n  maxUsers: number;\n  conflictResolution: 'last-write-wins' | 'merge' | 'custom';\n  versionControl: boolean;\n  changeTracking: boolean;\n  undoRedoDepth: number;\n}\n\nexport interface PerformanceConfig {\n  batchUpdates: boolean;\n  batchDelay: number;\n  compression: boolean;\n  deltaSync: boolean;\n  lazyLoading: boolean;\n}\n\nexport interface SecurityConfig {\n  encryption: boolean;\n  authentication: boolean;\n  authorization: boolean;\n  auditLogging: boolean;\n}\n\n// Document Types\nexport interface CRDTDocument {\n  id: string;\n  type: DocumentType;\n  ydoc: Y.Doc;\n  provider: DocumentProvider;\n  awareness: Y.Awareness;\n  metadata: DocumentMetadata;\n}\n\nexport type DocumentType = \n  | 'code' \n  | 'markdown' \n  | 'json' \n  | 'yaml' \n  | 'text' \n  | 'canvas' \n  | 'whiteboard'\n  | 'chat'\n  | 'state';\n\nexport interface DocumentMetadata {\n  createdAt: number;\n  updatedAt: number;\n  createdBy: string;\n  version: number;\n  collaborators: string[];\n  locked: boolean;\n  tags: string[];\n}\n\n// Provider Types\nexport interface DocumentProvider {\n  type: string;\n  connected: boolean;\n  synced: boolean;\n  connect(): Promise<void>;\n  disconnect(): Promise<void>;\n  sync(): Promise<void>;\n}\n\nexport interface WebRTCProviderConfig {\n  signaling: string[];\n  password?: string;\n  awareness: Y.Awareness;\n  maxConns: number;\n  filterBcConns: boolean;\n  peerOpts: Record<string, any>;\n}\n\nexport interface WebSocketProviderConfig {\n  url: string;\n  params: Record<string, string>;\n  awareness: Y.Awareness;\n  resyncInterval: number;\n  maxBackoffTime: number;\n  disableBc: boolean;\n}\n\n// Awareness Types\nexport interface AwarenessState {\n  user: UserInfo;\n  cursor?: CursorPosition;\n  selection?: Selection;\n  presence: PresenceState;\n  lastUpdate: number;\n}\n\nexport interface UserInfo {\n  id: string;\n  name: string;\n  avatar?: string;\n  color: string;\n  role?: string;\n}\n\nexport interface CursorPosition {\n  line: number;\n  column: number;\n  documentId: string;\n}\n\nexport interface Selection {\n  start: Position;\n  end: Position;\n  documentId: string;\n}\n\nexport interface Position {\n  line: number;\n  column: number;\n}\n\nexport interface PresenceState {\n  status: 'active' | 'idle' | 'away' | 'offline';\n  activity: string;\n  timestamp: number;\n}\n\n// Change Tracking Types\nexport interface ChangeEvent {\n  id: string;\n  type: 'insert' | 'delete' | 'update';\n  path: string[];\n  oldValue?: any;\n  newValue?: any;\n  timestamp: number;\n  userId: string;\n  origin?: string;\n}\n\nexport interface VersionSnapshot {\n  id: string;\n  documentId: string;\n  version: number;\n  state: Uint8Array;\n  timestamp: number;\n  createdBy: string;\n  message?: string;\n}\n\n// Main CRDT Manager Class\nexport class AzoraCRDTManager extends EventEmitter {\n  private static instance: AzoraCRDTManager;\n  private config: CRDTConfig;\n  private documents: Map<string, CRDTDocument> = new Map();\n  private providers: Map<string, DocumentProvider> = new Map();\n  private persistenceManager: PersistenceManager;\n  private awarenessManager: AwarenessManager;\n  private versionManager: VersionManager;\n  private syncManager: SyncManager;\n  private securityManager: CRDTSecurityManager;\n\n  private constructor(config: CRDTConfig) {\n    super();\n    this.config = config;\n    this.initializeComponents();\n  }\n\n  public static getInstance(config?: CRDTConfig): AzoraCRDTManager {\n    if (!AzoraCRDTManager.instance) {\n      if (!config) {\n        throw new Error('Configuration required for first initialization');\n      }\n      AzoraCRDTManager.instance = new AzoraCRDTManager(config);\n    }\n    return AzoraCRDTManager.instance;\n  }\n\n  private initializeComponents(): void {\n    this.persistenceManager = new PersistenceManager(this.config.persistence);\n    this.awarenessManager = new AwarenessManager(this.config.awareness);\n    this.versionManager = new VersionManager(this.config.collaboration);\n    this.syncManager = new SyncManager(this.config.performance);\n    this.securityManager = new CRDTSecurityManager(this.config.security);\n  }\n\n  // Document Management\n  public async createDocument(\n    id: string,\n    type: DocumentType,\n    initialContent?: any\n  ): Promise<CRDTDocument> {\n    try {\n      // Create Yjs document\n      const ydoc = new Y.Doc();\n      \n      // Initialize document structure based on type\n      this.initializeDocumentStructure(ydoc, type, initialContent);\n      \n      // Create awareness\n      const awareness = new Y.Awareness(ydoc);\n      \n      // Create providers\n      const provider = await this.createProviders(id, ydoc, awareness);\n      \n      // Create document metadata\n      const metadata: DocumentMetadata = {\n        createdAt: Date.now(),\n        updatedAt: Date.now(),\n        createdBy: 'current-user', // Would come from auth\n        version: 1,\n        collaborators: [],\n        locked: false,\n        tags: []\n      };\n      \n      // Create document object\n      const document: CRDTDocument = {\n        id,\n        type,\n        ydoc,\n        provider,\n        awareness,\n        metadata\n      };\n      \n      // Store document\n      this.documents.set(id, document);\n      \n      // Set up event listeners\n      this.setupDocumentListeners(document);\n      \n      // Persist document\n      if (this.config.persistence.enabled) {\n        await this.persistenceManager.save(id, ydoc);\n      }\n      \n      this.emit('document-created', { id, type, document });\n      return document;\n    } catch (error) {\n      console.error('Error creating document:', error);\n      throw error;\n    }\n  }\n\n  public async openDocument(id: string): Promise<CRDTDocument> {\n    try {\n      // Check if already open\n      const existing = this.documents.get(id);\n      if (existing) {\n        return existing;\n      }\n      \n      // Load from persistence\n      const ydoc = await this.persistenceManager.load(id);\n      if (!ydoc) {\n        throw new Error(`Document ${id} not found`);\n      }\n      \n      // Create awareness\n      const awareness = new Y.Awareness(ydoc);\n      \n      // Create providers\n      const provider = await this.createProviders(id, ydoc, awareness);\n      \n      // Get metadata\n      const metadata = await this.persistenceManager.getMetadata(id);\n      \n      // Determine document type\n      const type = this.detectDocumentType(ydoc);\n      \n      // Create document object\n      const document: CRDTDocument = {\n        id,\n        type,\n        ydoc,\n        provider,\n        awareness,\n        metadata: metadata || {\n          createdAt: Date.now(),\n          updatedAt: Date.now(),\n          createdBy: 'unknown',\n          version: 1,\n          collaborators: [],\n          locked: false,\n          tags: []\n        }\n      };\n      \n      // Store document\n      this.documents.set(id, document);\n      \n      // Set up event listeners\n      this.setupDocumentListeners(document);\n      \n      this.emit('document-opened', { id, document });\n      return document;\n    } catch (error) {\n      console.error('Error opening document:', error);\n      throw error;\n    }\n  }\n\n  public async closeDocument(id: string): Promise<void> {\n    try {\n      const document = this.documents.get(id);\n      if (!document) {\n        return;\n      }\n      \n      // Disconnect providers\n      await document.provider.disconnect();\n      \n      // Save final state\n      if (this.config.persistence.enabled) {\n        await this.persistenceManager.save(id, document.ydoc);\n      }\n      \n      // Clean up\n      document.ydoc.destroy();\n      this.documents.delete(id);\n      \n      this.emit('document-closed', { id });\n    } catch (error) {\n      console.error('Error closing document:', error);\n      throw error;\n    }\n  }\n\n  public async deleteDocument(id: string): Promise<void> {\n    try {\n      // Close if open\n      await this.closeDocument(id);\n      \n      // Delete from persistence\n      await this.persistenceManager.delete(id);\n      \n      this.emit('document-deleted', { id });\n    } catch (error) {\n      console.error('Error deleting document:', error);\n      throw error;\n    }\n  }\n\n  public getDocument(id: string): CRDTDocument | undefined {\n    return this.documents.get(id);\n  }\n\n  public listDocuments(): CRDTDocument[] {\n    return Array.from(this.documents.values());\n  }\n\n  // Content Operations\n  public getText(documentId: string, key: string = 'content'): Y.Text | undefined {\n    const document = this.documents.get(documentId);\n    if (!document) {return undefined;}\n    \n    return document.ydoc.getText(key);\n  }\n\n  public getMap(documentId: string, key: string = 'data'): Y.Map<any> | undefined {\n    const document = this.documents.get(documentId);\n    if (!document) {return undefined;}\n    \n    return document.ydoc.getMap(key);\n  }\n\n  public getArray(documentId: string, key: string = 'items'): Y.Array<any> | undefined {\n    const document = this.documents.get(documentId);\n    if (!document) {return undefined;}\n    \n    return document.ydoc.getArray(key);\n  }\n\n  public getXmlFragment(documentId: string, key: string = 'xml'): Y.XmlFragment | undefined {\n    const document = this.documents.get(documentId);\n    if (!document) {return undefined;}\n    \n    return document.ydoc.getXmlFragment(key);\n  }\n\n  // Awareness Operations\n  public setAwarenessState(documentId: string, state: Partial<AwarenessState>): void {\n    const document = this.documents.get(documentId);\n    if (!document) {return;}\n    \n    this.awarenessManager.setState(document.awareness, state);\n    this.emit('awareness-updated', { documentId, state });\n  }\n\n  public getAwarenessStates(documentId: string): Map<number, AwarenessState> {\n    const document = this.documents.get(documentId);\n    if (!document) {return new Map();}\n    \n    return this.awarenessManager.getStates(document.awareness);\n  }\n\n  public getCollaborators(documentId: string): UserInfo[] {\n    const states = this.getAwarenessStates(documentId);\n    return Array.from(states.values()).map(state => state.user);\n  }\n\n  // Version Control\n  public async createSnapshot(documentId: string, message?: string): Promise<VersionSnapshot> {\n    const document = this.documents.get(documentId);\n    if (!document) {\n      throw new Error(`Document ${documentId} not found`);\n    }\n    \n    const snapshot = await this.versionManager.createSnapshot(\n      documentId,\n      document.ydoc,\n      message\n    );\n    \n    this.emit('snapshot-created', { documentId, snapshot });\n    return snapshot;\n  }\n\n  public async restoreSnapshot(documentId: string, snapshotId: string): Promise<void> {\n    const document = this.documents.get(documentId);\n    if (!document) {\n      throw new Error(`Document ${documentId} not found`);\n    }\n    \n    await this.versionManager.restoreSnapshot(document.ydoc, snapshotId);\n    \n    this.emit('snapshot-restored', { documentId, snapshotId });\n  }\n\n  public async getSnapshots(documentId: string): Promise<VersionSnapshot[]> {\n    return await this.versionManager.getSnapshots(documentId);\n  }\n\n  // Synchronization\n  public async syncDocument(documentId: string): Promise<void> {\n    const document = this.documents.get(documentId);\n    if (!document) {\n      throw new Error(`Document ${documentId} not found`);\n    }\n    \n    await document.provider.sync();\n    \n    this.emit('document-synced', { documentId });\n  }\n\n  public async syncAll(): Promise<void> {\n    const syncPromises = Array.from(this.documents.keys()).map(id => \n      this.syncDocument(id)\n    );\n    \n    await Promise.all(syncPromises);\n    \n    this.emit('all-synced');\n  }\n\n  public getSyncStatus(documentId: string): SyncStatus {\n    const document = this.documents.get(documentId);\n    if (!document) {\n      return {\n        connected: false,\n        synced: false,\n        pending: 0,\n        lastSync: 0\n      };\n    }\n    \n    return {\n      connected: document.provider.connected,\n      synced: document.provider.synced,\n      pending: 0, // Would calculate pending changes\n      lastSync: document.metadata.updatedAt\n    };\n  }\n\n  // Undo/Redo\n  public undo(documentId: string): void {\n    const document = this.documents.get(documentId);\n    if (!document) {return;}\n    \n    const undoManager = document.ydoc.getUndoManager?.();\n    if (undoManager) {\n      undoManager.undo();\n      this.emit('undo', { documentId });\n    }\n  }\n\n  public redo(documentId: string): void {\n    const document = this.documents.get(documentId);\n    if (!document) {return;}\n    \n    const undoManager = document.ydoc.getUndoManager?.();\n    if (undoManager) {\n      undoManager.redo();\n      this.emit('redo', { documentId });\n    }\n  }\n\n  // Private Helper Methods\n  private initializeDocumentStructure(\n    ydoc: Y.Doc,\n    type: DocumentType,\n    initialContent?: any\n  ): void {\n    switch (type) {\n      case 'code':\n      case 'markdown':\n      case 'text':\n        const text = ydoc.getText('content');\n        if (initialContent) {\n          text.insert(0, initialContent);\n        }\n        break;\n      \n      case 'json':\n      case 'yaml':\n        const map = ydoc.getMap('data');\n        if (initialContent) {\n          Object.entries(initialContent).forEach(([key, value]) => {\n            map.set(key, value);\n          });\n        }\n        break;\n      \n      case 'canvas':\n      case 'whiteboard':\n        const array = ydoc.getArray('items');\n        if (initialContent && Array.isArray(initialContent)) {\n          array.push(initialContent);\n        }\n        break;\n      \n      case 'chat':\n        const messages = ydoc.getArray('messages');\n        if (initialContent && Array.isArray(initialContent)) {\n          messages.push(initialContent);\n        }\n        break;\n      \n      case 'state':\n        const state = ydoc.getMap('state');\n        if (initialContent) {\n          Object.entries(initialContent).forEach(([key, value]) => {\n            state.set(key, value);\n          });\n        }\n        break;\n    }\n  }\n\n  private async createProviders(\n    id: string,\n    ydoc: Y.Doc,\n    awareness: Y.Awareness\n  ): Promise<DocumentProvider> {\n    // Create composite provider that manages multiple provider types\n    const compositeProvider = new CompositeProvider(id, ydoc, awareness, this.config.providers);\n    await compositeProvider.connect();\n    \n    this.providers.set(id, compositeProvider);\n    return compositeProvider;\n  }\n\n  private setupDocumentListeners(document: CRDTDocument): void {\n    // Listen for document updates\n    document.ydoc.on('update', (update: Uint8Array, origin: any) => {\n      this.handleDocumentUpdate(document.id, update, origin);\n    });\n    \n    // Listen for awareness changes\n    document.awareness.on('change', () => {\n      this.handleAwarenessChange(document.id);\n    });\n  }\n\n  private handleDocumentUpdate(documentId: string, update: Uint8Array, origin: any): void {\n    const document = this.documents.get(documentId);\n    if (!document) {return;}\n    \n    // Update metadata\n    document.metadata.updatedAt = Date.now();\n    document.metadata.version++;\n    \n    // Auto-save if enabled\n    if (this.config.persistence.autoSave) {\n      this.persistenceManager.save(documentId, document.ydoc);\n    }\n    \n    // Track changes if enabled\n    if (this.config.collaboration.changeTracking) {\n      this.versionManager.trackChange(documentId, update, origin);\n    }\n    \n    this.emit('document-updated', { documentId, update, origin });\n  }\n\n  private handleAwarenessChange(documentId: string): void {\n    const document = this.documents.get(documentId);\n    if (!document) {return;}\n    \n    const states = this.awarenessManager.getStates(document.awareness);\n    \n    this.emit('awareness-changed', { documentId, states });\n  }\n\n  private detectDocumentType(ydoc: Y.Doc): DocumentType {\n    // Simple type detection based on available shared types\n    if (ydoc.getText('content')) {return 'text';}\n    if (ydoc.getMap('data')) {return 'json';}\n    if (ydoc.getArray('items')) {return 'canvas';}\n    if (ydoc.getArray('messages')) {return 'chat';}\n    if (ydoc.getMap('state')) {return 'state';}\n    \n    return 'text'; // Default\n  }\n\n  public getConfig(): CRDTConfig {\n    return { ...this.config };\n  }\n\n  public updateConfig(newConfig: Partial<CRDTConfig>): void {\n    this.config = { ...this.config, ...newConfig };\n  }\n}\n\n// Composite Provider\nclass CompositeProvider implements DocumentProvider {\n  type = 'composite';\n  connected = false;\n  synced = false;\n  \n  private providers: DocumentProvider[] = [];\n  \n  constructor(\n    private id: string,\n    private ydoc: Y.Doc,\n    private awareness: Y.Awareness,\n    private configs: ProviderConfig[]\n  ) {\n    this.initializeProviders();\n  }\n  \n  private initializeProviders(): void {\n    // Sort by priority\n    const sorted = [...this.configs].sort((a, b) => b.priority - a.priority);\n    \n    // Create providers\n    for (const config of sorted) {\n      if (!config.enabled) {continue;}\n      \n      let provider: DocumentProvider | null = null;\n      \n      switch (config.type) {\n        case 'webrtc':\n          provider = new WebRTCProviderAdapter(this.id, this.ydoc, this.awareness, config.config);\n          break;\n        case 'websocket':\n          provider = new WebSocketProviderAdapter(this.id, this.ydoc, this.awareness, config.config);\n          break;\n        case 'indexeddb':\n          provider = new IndexedDBProviderAdapter(this.id, this.ydoc, config.config);\n          break;\n      }\n      \n      if (provider) {\n        this.providers.push(provider);\n      }\n    }\n  }\n  \n  async connect(): Promise<void> {\n    const promises = this.providers.map(p => p.connect());\n    await Promise.all(promises);\n    this.connected = true;\n  }\n  \n  async disconnect(): Promise<void> {\n    const promises = this.providers.map(p => p.disconnect());\n    await Promise.all(promises);\n    this.connected = false;\n  }\n  \n  async sync(): Promise<void> {\n    const promises = this.providers.map(p => p.sync());\n    await Promise.all(promises);\n    this.synced = true;\n  }\n}\n\n// Provider Adapters\nclass WebRTCProviderAdapter implements DocumentProvider {\n  type = 'webrtc';\n  connected = false;\n  synced = false;\n  \n  constructor(\n    private id: string,\n    private ydoc: Y.Doc,\n    private awareness: Y.Awareness,\n    private config: any\n  ) {}\n  \n  async connect(): Promise<void> {\n    // WebRTC provider connection logic\n    this.connected = true;\n  }\n  \n  async disconnect(): Promise<void> {\n    this.connected = false;\n  }\n  \n  async sync(): Promise<void> {\n    this.synced = true;\n  }\n}\n\nclass WebSocketProviderAdapter implements DocumentProvider {\n  type = 'websocket';\n  connected = false;\n  synced = false;\n  \n  constructor(\n    private id: string,\n    private ydoc: Y.Doc,\n    private awareness: Y.Awareness,\n    private config: any\n  ) {}\n  \n  async connect(): Promise<void> {\n    // WebSocket provider connection logic\n    this.connected = true;\n  }\n  \n  async disconnect(): Promise<void> {\n    this.connected = false;\n  }\n  \n  async sync(): Promise<void> {\n    this.synced = true;\n  }\n}\n\nclass IndexedDBProviderAdapter implements DocumentProvider {\n  type = 'indexeddb';\n  connected = false;\n  synced = false;\n  \n  constructor(\n    private id: string,\n    private ydoc: Y.Doc,\n    private config: any\n  ) {}\n  \n  async connect(): Promise<void> {\n    // IndexedDB provider connection logic\n    this.connected = true;\n  }\n  \n  async disconnect(): Promise<void> {\n    this.connected = false;\n  }\n  \n  async sync(): Promise<void> {\n    this.synced = true;\n  }\n}\n\n// Persistence Manager\nclass PersistenceManager {\n  private config: PersistenceConfig;\n  \n  constructor(config: PersistenceConfig) {\n    this.config = config;\n  }\n  \n  async save(id: string, ydoc: Y.Doc): Promise<void> {\n    // Save document to persistence layer\n    const state = Y.encodeStateAsUpdate(ydoc);\n    // Store state based on config.storage\n  }\n  \n  async load(id: string): Promise<Y.Doc | null> {\n    // Load document from persistence layer\n    return null;\n  }\n  \n  async delete(id: string): Promise<void> {\n    // Delete document from persistence layer\n  }\n  \n  async getMetadata(id: string): Promise<DocumentMetadata | null> {\n    // Get document metadata\n    return null;\n  }\n}\n\n// Awareness Manager\nclass AwarenessManager {\n  private config: AwarenessConfig;\n  \n  constructor(config: AwarenessConfig) {\n    this.config = config;\n  }\n  \n  setState(awareness: Y.Awareness, state: Partial<AwarenessState>): void {\n    const current = awareness.getLocalState() as AwarenessState || {};\n    awareness.setLocalState({\n      ...current,\n      ...state,\n      lastUpdate: Date.now()\n    });\n  }\n  \n  getStates(awareness: Y.Awareness): Map<number, AwarenessState> {\n    return awareness.getStates() as Map<number, AwarenessState>;\n  }\n}\n\n// Version Manager\nclass VersionManager {\n  private config: CollaborationConfig;\n  private snapshots: Map<string, VersionSnapshot[]> = new Map();\n  \n  constructor(config: CollaborationConfig) {\n    this.config = config;\n  }\n  \n  async createSnapshot(\n    documentId: string,\n    ydoc: Y.Doc,\n    message?: string\n  ): Promise<VersionSnapshot> {\n    const state = Y.encodeStateAsUpdate(ydoc);\n    \n    const snapshot: VersionSnapshot = {\n      id: `snapshot-${Date.now()}`,\n      documentId,\n      version: this.getNextVersion(documentId),\n      state,\n      timestamp: Date.now(),\n      createdBy: 'current-user',\n      message\n    };\n    \n    const existing = this.snapshots.get(documentId) || [];\n    existing.push(snapshot);\n    this.snapshots.set(documentId, existing);\n    \n    return snapshot;\n  }\n  \n  async restoreSnapshot(ydoc: Y.Doc, snapshotId: string): Promise<void> {\n    // Restore document to snapshot state\n  }\n  \n  async getSnapshots(documentId: string): Promise<VersionSnapshot[]> {\n    return this.snapshots.get(documentId) || [];\n  }\n  \n  trackChange(documentId: string, update: Uint8Array, origin: any): void {\n    // Track document changes\n  }\n  \n  private getNextVersion(documentId: string): number {\n    const snapshots = this.snapshots.get(documentId) || [];\n    return snapshots.length + 1;\n  }\n}\n\n// Sync Manager\nclass SyncManager {\n  private config: PerformanceConfig;\n  \n  constructor(config: PerformanceConfig) {\n    this.config = config;\n  }\n}\n\n// Security Manager\nclass CRDTSecurityManager {\n  private config: SecurityConfig;\n  \n  constructor(config: SecurityConfig) {\n    this.config = config;\n  }\n}\n\n// Supporting Types\nexport interface SyncStatus {\n  connected: boolean;\n  synced: boolean;\n  pending: number;\n  lastSync: number;\n}\n\n// Export the main class\nexport default AzoraCRDTManager;\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}