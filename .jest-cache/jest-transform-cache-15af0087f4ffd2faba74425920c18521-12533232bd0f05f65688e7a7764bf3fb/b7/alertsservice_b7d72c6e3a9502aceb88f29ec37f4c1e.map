{"version":3,"names":["cov_htdv06vrm","actualCoverage","structuredLogger","AlertsService","rules","s","Map","activeAlerts","alertHistory","checkInterval","constructor","f","initializeDefaultRules","addRule","id","name","description","metric","threshold","operator","duration","severity","enabled","actions","type","target","process","env","SLACK_WEBHOOK_URL","rule","set","info","undefined","ruleId","removeRule","delete","getRules","Array","from","values","getActiveAlerts","filter","a","resolved","getAlertHistory","limit","b","slice","triggerAlert","value","alertId","Date","now","alert","ruleName","message","timestamp","push","executeAlertActions","warn","resolveAlert","get","resolvedAt","getTime","action","toUpperCase","sendSlackNotification","sendEmailNotification","sendWebhookNotification","webhookUrl","color","slackPayload","attachments","title","text","fields","short","toString","toISOString","debug","payload","error","email","startAlertChecking","intervalMs","setInterval","checkAlerts","stopAlertChecking","clearInterval","getMetricValue","shouldTriggerAlert","calculateHttpErrorRate","calculateHttpLatencyP95","calculateDbErrorRate","calculateAiErrorRate","calculateCacheHitRate","calculateMemoryUsagePercent","calculateConversionRate","calculateChurnRate","memUsage","memoryUsage","heapUsed","heapTotal","getAlertStatistics","criticalCount","length","warningCount","infoCount","totalActive","critical","warning","totalHistory","size","alertsService"],"sources":["alerts.service.ts"],"sourcesContent":["/**\n * Alerts Service\n * Manages alert configuration, triggering, and notifications\n */\n\nimport { structuredLogger } from '../utils/structured-logger';\n\nexport interface AlertRule {\n  id: string;\n  name: string;\n  description: string;\n  metric: string;\n  threshold: number;\n  operator: 'gt' | 'lt' | 'eq' | 'gte' | 'lte';\n  duration: number; // milliseconds\n  severity: 'info' | 'warning' | 'critical';\n  enabled: boolean;\n  actions: AlertAction[];\n}\n\nexport interface AlertAction {\n  type: 'log' | 'email' | 'slack' | 'webhook';\n  target?: string;\n  message?: string;\n}\n\nexport interface Alert {\n  id: string;\n  ruleId: string;\n  ruleName: string;\n  severity: 'info' | 'warning' | 'critical';\n  message: string;\n  value: number;\n  threshold: number;\n  timestamp: Date;\n  resolved: boolean;\n  resolvedAt?: Date;\n}\n\nclass AlertsService {\n  private rules: Map<string, AlertRule> = new Map();\n  private activeAlerts: Map<string, Alert> = new Map();\n  private alertHistory: Alert[] = [];\n  private checkInterval: NodeJS.Timeout | null = null;\n\n  constructor() {\n    this.initializeDefaultRules();\n  }\n\n  /**\n   * Initialize default alert rules\n   */\n  private initializeDefaultRules(): void {\n    // API Error Rate Alert\n    this.addRule({\n      id: 'api-error-rate-high',\n      name: 'High API Error Rate',\n      description: 'Alert when API error rate exceeds 5%',\n      metric: 'http_error_rate',\n      threshold: 5,\n      operator: 'gt',\n      duration: 300000, // 5 minutes\n      severity: 'critical',\n      enabled: true,\n      actions: [\n        { type: 'log' },\n        { type: 'slack', target: process.env.SLACK_WEBHOOK_URL },\n      ],\n    });\n\n    // API Latency Alert\n    this.addRule({\n      id: 'api-latency-high',\n      name: 'High API Latency',\n      description: 'Alert when p95 API latency exceeds 2 seconds',\n      metric: 'http_request_duration_p95',\n      threshold: 2000,\n      operator: 'gt',\n      duration: 300000, // 5 minutes\n      severity: 'warning',\n      enabled: true,\n      actions: [{ type: 'log' }],\n    });\n\n    // Database Error Rate Alert\n    this.addRule({\n      id: 'db-error-rate-high',\n      name: 'High Database Error Rate',\n      description: 'Alert when database error rate exceeds 1%',\n      metric: 'db_error_rate',\n      threshold: 1,\n      operator: 'gt',\n      duration: 300000, // 5 minutes\n      severity: 'critical',\n      enabled: true,\n      actions: [\n        { type: 'log' },\n        { type: 'slack', target: process.env.SLACK_WEBHOOK_URL },\n      ],\n    });\n\n    // AI Engine Error Rate Alert\n    this.addRule({\n      id: 'ai-error-rate-high',\n      name: 'High AI Engine Error Rate',\n      description: 'Alert when AI engine error rate exceeds 10%',\n      metric: 'ai_error_rate',\n      threshold: 10,\n      operator: 'gt',\n      duration: 300000, // 5 minutes\n      severity: 'warning',\n      enabled: true,\n      actions: [{ type: 'log' }],\n    });\n\n    // Low Cache Hit Rate Alert\n    this.addRule({\n      id: 'cache-hit-rate-low',\n      name: 'Low Cache Hit Rate',\n      description: 'Alert when cache hit rate drops below 50%',\n      metric: 'cache_hit_rate',\n      threshold: 50,\n      operator: 'lt',\n      duration: 600000, // 10 minutes\n      severity: 'warning',\n      enabled: true,\n      actions: [{ type: 'log' }],\n    });\n\n    // High Memory Usage Alert\n    this.addRule({\n      id: 'memory-usage-high',\n      name: 'High Memory Usage',\n      description: 'Alert when memory usage exceeds 90%',\n      metric: 'memory_usage_percent',\n      threshold: 90,\n      operator: 'gt',\n      duration: 300000, // 5 minutes\n      severity: 'critical',\n      enabled: true,\n      actions: [\n        { type: 'log' },\n        { type: 'slack', target: process.env.SLACK_WEBHOOK_URL },\n      ],\n    });\n\n    // Low Conversion Rate Alert\n    this.addRule({\n      id: 'conversion-rate-low',\n      name: 'Low Conversion Rate',\n      description: 'Alert when conversion rate drops below 30%',\n      metric: 'conversion_rate',\n      threshold: 30,\n      operator: 'lt',\n      duration: 3600000, // 1 hour\n      severity: 'warning',\n      enabled: true,\n      actions: [{ type: 'log' }],\n    });\n\n    // High Churn Rate Alert\n    this.addRule({\n      id: 'churn-rate-high',\n      name: 'High Churn Rate',\n      description: 'Alert when churn rate exceeds 20%',\n      metric: 'churn_rate',\n      threshold: 20,\n      operator: 'gt',\n      duration: 3600000, // 1 hour\n      severity: 'warning',\n      enabled: true,\n      actions: [{ type: 'log' }],\n    });\n  }\n\n  /**\n   * Add an alert rule\n   */\n  addRule(rule: AlertRule): void {\n    this.rules.set(rule.id, rule);\n    structuredLogger.info(`Alert rule added: ${rule.name}`, undefined, {\n      ruleId: rule.id,\n      metric: rule.metric,\n      threshold: rule.threshold,\n    });\n  }\n\n  /**\n   * Remove an alert rule\n   */\n  removeRule(ruleId: string): void {\n    this.rules.delete(ruleId);\n    structuredLogger.info(`Alert rule removed: ${ruleId}`);\n  }\n\n  /**\n   * Get all alert rules\n   */\n  getRules(): AlertRule[] {\n    return Array.from(this.rules.values());\n  }\n\n  /**\n   * Get active alerts\n   */\n  getActiveAlerts(): Alert[] {\n    return Array.from(this.activeAlerts.values()).filter(a => !a.resolved);\n  }\n\n  /**\n   * Get alert history\n   */\n  getAlertHistory(limit: number = 100): Alert[] {\n    return this.alertHistory.slice(-limit);\n  }\n\n  /**\n   * Trigger an alert\n   */\n  private triggerAlert(rule: AlertRule, value: number): void {\n    const alertId = `${rule.id}-${Date.now()}`;\n    const alert: Alert = {\n      id: alertId,\n      ruleId: rule.id,\n      ruleName: rule.name,\n      severity: rule.severity,\n      message: `${rule.name}: ${rule.description}`,\n      value,\n      threshold: rule.threshold,\n      timestamp: new Date(),\n      resolved: false,\n    };\n\n    this.activeAlerts.set(alertId, alert);\n    this.alertHistory.push(alert);\n\n    // Execute alert actions\n    this.executeAlertActions(rule, alert);\n\n    // Log alert\n    structuredLogger.warn(`Alert triggered: ${rule.name}`, undefined, {\n      ruleId: rule.id,\n      severity: rule.severity,\n      value,\n      threshold: rule.threshold,\n    });\n  }\n\n  /**\n   * Resolve an alert\n   */\n  resolveAlert(alertId: string): void {\n    const alert = this.activeAlerts.get(alertId);\n    if (alert) {\n      alert.resolved = true;\n      alert.resolvedAt = new Date();\n      structuredLogger.info(`Alert resolved: ${alert.ruleName}`, undefined, {\n        alertId,\n        duration: alert.resolvedAt.getTime() - alert.timestamp.getTime(),\n      });\n    }\n  }\n\n  /**\n   * Execute alert actions\n   */\n  private executeAlertActions(rule: AlertRule, alert: Alert): void {\n    for (const action of rule.actions) {\n      switch (action.type) {\n        case 'log':\n          structuredLogger.warn(\n            `[${alert.severity.toUpperCase()}] ${alert.message}`,\n            undefined,\n            {\n              value: alert.value,\n              threshold: alert.threshold,\n            }\n          );\n          break;\n\n        case 'slack':\n          if (action.target) {\n            this.sendSlackNotification(action.target, alert);\n          }\n          break;\n\n        case 'email':\n          if (action.target) {\n            this.sendEmailNotification(action.target, alert);\n          }\n          break;\n\n        case 'webhook':\n          if (action.target) {\n            this.sendWebhookNotification(action.target, alert);\n          }\n          break;\n      }\n    }\n  }\n\n  /**\n   * Send Slack notification\n   */\n  private async sendSlackNotification(webhookUrl: string, alert: Alert): Promise<void> {\n    try {\n      const color = alert.severity === 'critical' ? 'danger' : 'warning';\n      // Slack payload structure for notification\n      const slackPayload = {\n        attachments: [\n          {\n            color,\n            title: alert.ruleName,\n            text: alert.message,\n            fields: [\n              {\n                title: 'Severity',\n                value: alert.severity.toUpperCase(),\n                short: true,\n              },\n              {\n                title: 'Value',\n                value: alert.value.toString(),\n                short: true,\n              },\n              {\n                title: 'Threshold',\n                value: alert.threshold.toString(),\n                short: true,\n              },\n              {\n                title: 'Time',\n                value: alert.timestamp.toISOString(),\n                short: true,\n              },\n            ],\n          },\n        ],\n      };\n\n      // Send to Slack (implementation would use axios or similar)\n      structuredLogger.debug('Slack notification sent', undefined, {\n        webhookUrl,\n        alertId: alert.id,\n        payload: slackPayload,\n      });\n    } catch (error) {\n      structuredLogger.error('Failed to send Slack notification', error as Error);\n    }\n  }\n\n  /**\n   * Send email notification\n   */\n  private async sendEmailNotification(email: string, alert: Alert): Promise<void> {\n    try {\n      // Send email (implementation would use nodemailer or similar)\n      structuredLogger.debug('Email notification sent', undefined, {\n        email,\n        alertId: alert.id,\n      });\n    } catch (error) {\n      structuredLogger.error('Failed to send email notification', error as Error);\n    }\n  }\n\n  /**\n   * Send webhook notification\n   */\n  private async sendWebhookNotification(webhookUrl: string, alert: Alert): Promise<void> {\n    try {\n      // Send webhook (implementation would use axios or similar)\n      structuredLogger.debug('Webhook notification sent', undefined, {\n        webhookUrl,\n        alertId: alert.id,\n      });\n    } catch (error) {\n      structuredLogger.error('Failed to send webhook notification', error as Error);\n    }\n  }\n\n  /**\n   * Start alert checking\n   */\n  startAlertChecking(intervalMs: number = 60000): void {\n    if (this.checkInterval) {\n      return; // Already running\n    }\n\n    this.checkInterval = setInterval(() => {\n      this.checkAlerts();\n    }, intervalMs);\n\n    structuredLogger.info('Alert checking started', undefined, {\n      intervalMs,\n    });\n  }\n\n  /**\n   * Stop alert checking\n   */\n  stopAlertChecking(): void {\n    if (this.checkInterval) {\n      clearInterval(this.checkInterval);\n      this.checkInterval = null;\n      structuredLogger.info('Alert checking stopped');\n    }\n  }\n\n  /**\n   * Check all alert rules\n   */\n  private checkAlerts(): void {\n    for (const rule of this.rules.values()) {\n      if (!rule.enabled) {\n        continue;\n      }\n\n      const value = this.getMetricValue(rule.metric);\n      if (value !== null && this.shouldTriggerAlert(value, rule.threshold, rule.operator)) {\n        this.triggerAlert(rule, value);\n      }\n    }\n  }\n\n  /**\n   * Get metric value\n   */\n  private getMetricValue(metric: string): number | null {\n    switch (metric) {\n      case 'http_error_rate':\n        return this.calculateHttpErrorRate();\n      case 'http_request_duration_p95':\n        return this.calculateHttpLatencyP95();\n      case 'db_error_rate':\n        return this.calculateDbErrorRate();\n      case 'ai_error_rate':\n        return this.calculateAiErrorRate();\n      case 'cache_hit_rate':\n        return this.calculateCacheHitRate();\n      case 'memory_usage_percent':\n        return this.calculateMemoryUsagePercent();\n      case 'conversion_rate':\n        return this.calculateConversionRate();\n      case 'churn_rate':\n        return this.calculateChurnRate();\n      default:\n        return null;\n    }\n  }\n\n  /**\n   * Calculate HTTP error rate\n   */\n  private calculateHttpErrorRate(): number {\n    // This would aggregate metrics from prom-client\n    // For now, return a placeholder\n    return 0;\n  }\n\n  /**\n   * Calculate HTTP latency p95\n   */\n  private calculateHttpLatencyP95(): number {\n    // This would calculate p95 from histogram\n    // For now, return a placeholder\n    return 0;\n  }\n\n  /**\n   * Calculate database error rate\n   */\n  private calculateDbErrorRate(): number {\n    // This would aggregate database metrics\n    // For now, return a placeholder\n    return 0;\n  }\n\n  /**\n   * Calculate AI error rate\n   */\n  private calculateAiErrorRate(): number {\n    // This would aggregate AI metrics\n    // For now, return a placeholder\n    return 0;\n  }\n\n  /**\n   * Calculate cache hit rate\n   */\n  private calculateCacheHitRate(): number {\n    // This would calculate from cache metrics\n    // For now, return a placeholder\n    return 0;\n  }\n\n  /**\n   * Calculate memory usage percent\n   */\n  private calculateMemoryUsagePercent(): number {\n    const memUsage = process.memoryUsage();\n    return (memUsage.heapUsed / memUsage.heapTotal) * 100;\n  }\n\n  /**\n   * Calculate conversion rate\n   */\n  private calculateConversionRate(): number {\n    // This would calculate from conversion metrics\n    // For now, return a placeholder\n    return 0;\n  }\n\n  /**\n   * Calculate churn rate\n   */\n  private calculateChurnRate(): number {\n    // This would calculate from enrollment metrics\n    // For now, return a placeholder\n    return 0;\n  }\n\n  /**\n   * Check if alert should be triggered\n   */\n  private shouldTriggerAlert(value: number, threshold: number, operator: string): boolean {\n    switch (operator) {\n      case 'gt':\n        return value > threshold;\n      case 'lt':\n        return value < threshold;\n      case 'eq':\n        return value === threshold;\n      case 'gte':\n        return value >= threshold;\n      case 'lte':\n        return value <= threshold;\n      default:\n        return false;\n    }\n  }\n\n  /**\n   * Get alert statistics\n   */\n  getAlertStatistics() {\n    const activeAlerts = this.getActiveAlerts();\n    const criticalCount = activeAlerts.filter(a => a.severity === 'critical').length;\n    const warningCount = activeAlerts.filter(a => a.severity === 'warning').length;\n    const infoCount = activeAlerts.filter(a => a.severity === 'info').length;\n\n    return {\n      totalActive: activeAlerts.length,\n      critical: criticalCount,\n      warning: warningCount,\n      info: infoCount,\n      totalHistory: this.alertHistory.length,\n      rules: this.rules.size,\n    };\n  }\n}\n\nexport const alertsService = new AlertsService();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAfZ;AACA;AACA;AACA;;AAEA,SAASE,gBAAgB,QAAQ,4BAA4B;AAkC7D,MAAMC,aAAa,CAAC;EACVC,KAAK;EAAA;EAAA,CAAAJ,aAAA,GAAAK,CAAA,OAA2B,IAAIC,GAAG,CAAC,CAAC;EACzCC,YAAY;EAAA;EAAA,CAAAP,aAAA,GAAAK,CAAA,OAAuB,IAAIC,GAAG,CAAC,CAAC;EAC5CE,YAAY;EAAA;EAAA,CAAAR,aAAA,GAAAK,CAAA,OAAY,EAAE;EAC1BI,aAAa;EAAA;EAAA,CAAAT,aAAA,GAAAK,CAAA,OAA0B,IAAI;EAEnDK,WAAWA,CAAA,EAAG;IAAA;IAAAV,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACZ,IAAI,CAACO,sBAAsB,CAAC,CAAC;EAC/B;;EAEA;AACF;AACA;EACUA,sBAAsBA,CAAA,EAAS;IAAA;IAAAZ,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACrC;IACA,IAAI,CAACQ,OAAO,CAAC;MACXC,EAAE,EAAE,qBAAqB;MACzBC,IAAI,EAAE,qBAAqB;MAC3BC,WAAW,EAAE,sCAAsC;MACnDC,MAAM,EAAE,iBAAiB;MACzBC,SAAS,EAAE,CAAC;MACZC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE,MAAM;MAAE;MAClBC,QAAQ,EAAE,UAAU;MACpBC,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,CACP;QAAEC,IAAI,EAAE;MAAM,CAAC,EACf;QAAEA,IAAI,EAAE,OAAO;QAAEC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC;MAAkB,CAAC;IAE5D,CAAC,CAAC;;IAEF;IAAA;IAAA5B,aAAA,GAAAK,CAAA;IACA,IAAI,CAACQ,OAAO,CAAC;MACXC,EAAE,EAAE,kBAAkB;MACtBC,IAAI,EAAE,kBAAkB;MACxBC,WAAW,EAAE,8CAA8C;MAC3DC,MAAM,EAAE,2BAA2B;MACnCC,SAAS,EAAE,IAAI;MACfC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE,MAAM;MAAE;MAClBC,QAAQ,EAAE,SAAS;MACnBC,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,CAAC;QAAEC,IAAI,EAAE;MAAM,CAAC;IAC3B,CAAC,CAAC;;IAEF;IAAA;IAAAxB,aAAA,GAAAK,CAAA;IACA,IAAI,CAACQ,OAAO,CAAC;MACXC,EAAE,EAAE,oBAAoB;MACxBC,IAAI,EAAE,0BAA0B;MAChCC,WAAW,EAAE,2CAA2C;MACxDC,MAAM,EAAE,eAAe;MACvBC,SAAS,EAAE,CAAC;MACZC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE,MAAM;MAAE;MAClBC,QAAQ,EAAE,UAAU;MACpBC,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,CACP;QAAEC,IAAI,EAAE;MAAM,CAAC,EACf;QAAEA,IAAI,EAAE,OAAO;QAAEC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC;MAAkB,CAAC;IAE5D,CAAC,CAAC;;IAEF;IAAA;IAAA5B,aAAA,GAAAK,CAAA;IACA,IAAI,CAACQ,OAAO,CAAC;MACXC,EAAE,EAAE,oBAAoB;MACxBC,IAAI,EAAE,2BAA2B;MACjCC,WAAW,EAAE,6CAA6C;MAC1DC,MAAM,EAAE,eAAe;MACvBC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE,MAAM;MAAE;MAClBC,QAAQ,EAAE,SAAS;MACnBC,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,CAAC;QAAEC,IAAI,EAAE;MAAM,CAAC;IAC3B,CAAC,CAAC;;IAEF;IAAA;IAAAxB,aAAA,GAAAK,CAAA;IACA,IAAI,CAACQ,OAAO,CAAC;MACXC,EAAE,EAAE,oBAAoB;MACxBC,IAAI,EAAE,oBAAoB;MAC1BC,WAAW,EAAE,2CAA2C;MACxDC,MAAM,EAAE,gBAAgB;MACxBC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE,MAAM;MAAE;MAClBC,QAAQ,EAAE,SAAS;MACnBC,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,CAAC;QAAEC,IAAI,EAAE;MAAM,CAAC;IAC3B,CAAC,CAAC;;IAEF;IAAA;IAAAxB,aAAA,GAAAK,CAAA;IACA,IAAI,CAACQ,OAAO,CAAC;MACXC,EAAE,EAAE,mBAAmB;MACvBC,IAAI,EAAE,mBAAmB;MACzBC,WAAW,EAAE,qCAAqC;MAClDC,MAAM,EAAE,sBAAsB;MAC9BC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE,MAAM;MAAE;MAClBC,QAAQ,EAAE,UAAU;MACpBC,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,CACP;QAAEC,IAAI,EAAE;MAAM,CAAC,EACf;QAAEA,IAAI,EAAE,OAAO;QAAEC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC;MAAkB,CAAC;IAE5D,CAAC,CAAC;;IAEF;IAAA;IAAA5B,aAAA,GAAAK,CAAA;IACA,IAAI,CAACQ,OAAO,CAAC;MACXC,EAAE,EAAE,qBAAqB;MACzBC,IAAI,EAAE,qBAAqB;MAC3BC,WAAW,EAAE,4CAA4C;MACzDC,MAAM,EAAE,iBAAiB;MACzBC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE,OAAO;MAAE;MACnBC,QAAQ,EAAE,SAAS;MACnBC,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,CAAC;QAAEC,IAAI,EAAE;MAAM,CAAC;IAC3B,CAAC,CAAC;;IAEF;IAAA;IAAAxB,aAAA,GAAAK,CAAA;IACA,IAAI,CAACQ,OAAO,CAAC;MACXC,EAAE,EAAE,iBAAiB;MACrBC,IAAI,EAAE,iBAAiB;MACvBC,WAAW,EAAE,mCAAmC;MAChDC,MAAM,EAAE,YAAY;MACpBC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE,OAAO;MAAE;MACnBC,QAAQ,EAAE,SAAS;MACnBC,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,CAAC;QAAEC,IAAI,EAAE;MAAM,CAAC;IAC3B,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;EACEX,OAAOA,CAACgB,IAAe,EAAQ;IAAA;IAAA7B,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IAC7B,IAAI,CAACD,KAAK,CAAC0B,GAAG,CAACD,IAAI,CAACf,EAAE,EAAEe,IAAI,CAAC;IAAC;IAAA7B,aAAA,GAAAK,CAAA;IAC9BH,gBAAgB,CAAC6B,IAAI,CAAC,qBAAqBF,IAAI,CAACd,IAAI,EAAE,EAAEiB,SAAS,EAAE;MACjEC,MAAM,EAAEJ,IAAI,CAACf,EAAE;MACfG,MAAM,EAAEY,IAAI,CAACZ,MAAM;MACnBC,SAAS,EAAEW,IAAI,CAACX;IAClB,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;EACEgB,UAAUA,CAACD,MAAc,EAAQ;IAAA;IAAAjC,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IAC/B,IAAI,CAACD,KAAK,CAAC+B,MAAM,CAACF,MAAM,CAAC;IAAC;IAAAjC,aAAA,GAAAK,CAAA;IAC1BH,gBAAgB,CAAC6B,IAAI,CAAC,uBAAuBE,MAAM,EAAE,CAAC;EACxD;;EAEA;AACF;AACA;EACEG,QAAQA,CAAA,EAAgB;IAAA;IAAApC,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACtB,OAAOgC,KAAK,CAACC,IAAI,CAAC,IAAI,CAAClC,KAAK,CAACmC,MAAM,CAAC,CAAC,CAAC;EACxC;;EAEA;AACF;AACA;EACEC,eAAeA,CAAA,EAAY;IAAA;IAAAxC,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACzB,OAAOgC,KAAK,CAACC,IAAI,CAAC,IAAI,CAAC/B,YAAY,CAACgC,MAAM,CAAC,CAAC,CAAC,CAACE,MAAM,CAACC,CAAC,IAAI;MAAA;MAAA1C,aAAA,GAAAW,CAAA;MAAAX,aAAA,GAAAK,CAAA;MAAA,QAACqC,CAAC,CAACC,QAAQ;IAAD,CAAC,CAAC;EACxE;;EAEA;AACF;AACA;EACEC,eAAeA,CAACC,KAAa;EAAA;EAAA,CAAA7C,aAAA,GAAA8C,CAAA,UAAG,GAAG,GAAW;IAAA;IAAA9C,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IAC5C,OAAO,IAAI,CAACG,YAAY,CAACuC,KAAK,CAAC,CAACF,KAAK,CAAC;EACxC;;EAEA;AACF;AACA;EACUG,YAAYA,CAACnB,IAAe,EAAEoB,KAAa,EAAQ;IAAA;IAAAjD,aAAA,GAAAW,CAAA;IACzD,MAAMuC,OAAO;IAAA;IAAA,CAAAlD,aAAA,GAAAK,CAAA,QAAG,GAAGwB,IAAI,CAACf,EAAE,IAAIqC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;IAC1C,MAAMC,KAAY;IAAA;IAAA,CAAArD,aAAA,GAAAK,CAAA,QAAG;MACnBS,EAAE,EAAEoC,OAAO;MACXjB,MAAM,EAAEJ,IAAI,CAACf,EAAE;MACfwC,QAAQ,EAAEzB,IAAI,CAACd,IAAI;MACnBM,QAAQ,EAAEQ,IAAI,CAACR,QAAQ;MACvBkC,OAAO,EAAE,GAAG1B,IAAI,CAACd,IAAI,KAAKc,IAAI,CAACb,WAAW,EAAE;MAC5CiC,KAAK;MACL/B,SAAS,EAAEW,IAAI,CAACX,SAAS;MACzBsC,SAAS,EAAE,IAAIL,IAAI,CAAC,CAAC;MACrBR,QAAQ,EAAE;IACZ,CAAC;IAAC;IAAA3C,aAAA,GAAAK,CAAA;IAEF,IAAI,CAACE,YAAY,CAACuB,GAAG,CAACoB,OAAO,EAAEG,KAAK,CAAC;IAAC;IAAArD,aAAA,GAAAK,CAAA;IACtC,IAAI,CAACG,YAAY,CAACiD,IAAI,CAACJ,KAAK,CAAC;;IAE7B;IAAA;IAAArD,aAAA,GAAAK,CAAA;IACA,IAAI,CAACqD,mBAAmB,CAAC7B,IAAI,EAAEwB,KAAK,CAAC;;IAErC;IAAA;IAAArD,aAAA,GAAAK,CAAA;IACAH,gBAAgB,CAACyD,IAAI,CAAC,oBAAoB9B,IAAI,CAACd,IAAI,EAAE,EAAEiB,SAAS,EAAE;MAChEC,MAAM,EAAEJ,IAAI,CAACf,EAAE;MACfO,QAAQ,EAAEQ,IAAI,CAACR,QAAQ;MACvB4B,KAAK;MACL/B,SAAS,EAAEW,IAAI,CAACX;IAClB,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;EACE0C,YAAYA,CAACV,OAAe,EAAQ;IAAA;IAAAlD,aAAA,GAAAW,CAAA;IAClC,MAAM0C,KAAK;IAAA;IAAA,CAAArD,aAAA,GAAAK,CAAA,QAAG,IAAI,CAACE,YAAY,CAACsD,GAAG,CAACX,OAAO,CAAC;IAAC;IAAAlD,aAAA,GAAAK,CAAA;IAC7C,IAAIgD,KAAK,EAAE;MAAA;MAAArD,aAAA,GAAA8C,CAAA;MAAA9C,aAAA,GAAAK,CAAA;MACTgD,KAAK,CAACV,QAAQ,GAAG,IAAI;MAAC;MAAA3C,aAAA,GAAAK,CAAA;MACtBgD,KAAK,CAACS,UAAU,GAAG,IAAIX,IAAI,CAAC,CAAC;MAAC;MAAAnD,aAAA,GAAAK,CAAA;MAC9BH,gBAAgB,CAAC6B,IAAI,CAAC,mBAAmBsB,KAAK,CAACC,QAAQ,EAAE,EAAEtB,SAAS,EAAE;QACpEkB,OAAO;QACP9B,QAAQ,EAAEiC,KAAK,CAACS,UAAU,CAACC,OAAO,CAAC,CAAC,GAAGV,KAAK,CAACG,SAAS,CAACO,OAAO,CAAC;MACjE,CAAC,CAAC;IACJ,CAAC;IAAA;IAAA;MAAA/D,aAAA,GAAA8C,CAAA;IAAA;EACH;;EAEA;AACF;AACA;EACUY,mBAAmBA,CAAC7B,IAAe,EAAEwB,KAAY,EAAQ;IAAA;IAAArD,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IAC/D,KAAK,MAAM2D,MAAM,IAAInC,IAAI,CAACN,OAAO,EAAE;MAAA;MAAAvB,aAAA,GAAAK,CAAA;MACjC,QAAQ2D,MAAM,CAACxC,IAAI;QACjB,KAAK,KAAK;UAAA;UAAAxB,aAAA,GAAA8C,CAAA;UAAA9C,aAAA,GAAAK,CAAA;UACRH,gBAAgB,CAACyD,IAAI,CACnB,IAAIN,KAAK,CAAChC,QAAQ,CAAC4C,WAAW,CAAC,CAAC,KAAKZ,KAAK,CAACE,OAAO,EAAE,EACpDvB,SAAS,EACT;YACEiB,KAAK,EAAEI,KAAK,CAACJ,KAAK;YAClB/B,SAAS,EAAEmC,KAAK,CAACnC;UACnB,CACF,CAAC;UAAC;UAAAlB,aAAA,GAAAK,CAAA;UACF;QAEF,KAAK,OAAO;UAAA;UAAAL,aAAA,GAAA8C,CAAA;UAAA9C,aAAA,GAAAK,CAAA;UACV,IAAI2D,MAAM,CAACvC,MAAM,EAAE;YAAA;YAAAzB,aAAA,GAAA8C,CAAA;YAAA9C,aAAA,GAAAK,CAAA;YACjB,IAAI,CAAC6D,qBAAqB,CAACF,MAAM,CAACvC,MAAM,EAAE4B,KAAK,CAAC;UAClD,CAAC;UAAA;UAAA;YAAArD,aAAA,GAAA8C,CAAA;UAAA;UAAA9C,aAAA,GAAAK,CAAA;UACD;QAEF,KAAK,OAAO;UAAA;UAAAL,aAAA,GAAA8C,CAAA;UAAA9C,aAAA,GAAAK,CAAA;UACV,IAAI2D,MAAM,CAACvC,MAAM,EAAE;YAAA;YAAAzB,aAAA,GAAA8C,CAAA;YAAA9C,aAAA,GAAAK,CAAA;YACjB,IAAI,CAAC8D,qBAAqB,CAACH,MAAM,CAACvC,MAAM,EAAE4B,KAAK,CAAC;UAClD,CAAC;UAAA;UAAA;YAAArD,aAAA,GAAA8C,CAAA;UAAA;UAAA9C,aAAA,GAAAK,CAAA;UACD;QAEF,KAAK,SAAS;UAAA;UAAAL,aAAA,GAAA8C,CAAA;UAAA9C,aAAA,GAAAK,CAAA;UACZ,IAAI2D,MAAM,CAACvC,MAAM,EAAE;YAAA;YAAAzB,aAAA,GAAA8C,CAAA;YAAA9C,aAAA,GAAAK,CAAA;YACjB,IAAI,CAAC+D,uBAAuB,CAACJ,MAAM,CAACvC,MAAM,EAAE4B,KAAK,CAAC;UACpD,CAAC;UAAA;UAAA;YAAArD,aAAA,GAAA8C,CAAA;UAAA;UAAA9C,aAAA,GAAAK,CAAA;UACD;MACJ;IACF;EACF;;EAEA;AACF;AACA;EACE,MAAc6D,qBAAqBA,CAACG,UAAkB,EAAEhB,KAAY,EAAiB;IAAA;IAAArD,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACnF,IAAI;MACF,MAAMiE,KAAK;MAAA;MAAA,CAAAtE,aAAA,GAAAK,CAAA,QAAGgD,KAAK,CAAChC,QAAQ,KAAK,UAAU;MAAA;MAAA,CAAArB,aAAA,GAAA8C,CAAA,UAAG,QAAQ;MAAA;MAAA,CAAA9C,aAAA,GAAA8C,CAAA,UAAG,SAAS;MAClE;MACA,MAAMyB,YAAY;MAAA;MAAA,CAAAvE,aAAA,GAAAK,CAAA,QAAG;QACnBmE,WAAW,EAAE,CACX;UACEF,KAAK;UACLG,KAAK,EAAEpB,KAAK,CAACC,QAAQ;UACrBoB,IAAI,EAAErB,KAAK,CAACE,OAAO;UACnBoB,MAAM,EAAE,CACN;YACEF,KAAK,EAAE,UAAU;YACjBxB,KAAK,EAAEI,KAAK,CAAChC,QAAQ,CAAC4C,WAAW,CAAC,CAAC;YACnCW,KAAK,EAAE;UACT,CAAC,EACD;YACEH,KAAK,EAAE,OAAO;YACdxB,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAAC4B,QAAQ,CAAC,CAAC;YAC7BD,KAAK,EAAE;UACT,CAAC,EACD;YACEH,KAAK,EAAE,WAAW;YAClBxB,KAAK,EAAEI,KAAK,CAACnC,SAAS,CAAC2D,QAAQ,CAAC,CAAC;YACjCD,KAAK,EAAE;UACT,CAAC,EACD;YACEH,KAAK,EAAE,MAAM;YACbxB,KAAK,EAAEI,KAAK,CAACG,SAAS,CAACsB,WAAW,CAAC,CAAC;YACpCF,KAAK,EAAE;UACT,CAAC;QAEL,CAAC;MAEL,CAAC;;MAED;MAAA;MAAA5E,aAAA,GAAAK,CAAA;MACAH,gBAAgB,CAAC6E,KAAK,CAAC,yBAAyB,EAAE/C,SAAS,EAAE;QAC3DqC,UAAU;QACVnB,OAAO,EAAEG,KAAK,CAACvC,EAAE;QACjBkE,OAAO,EAAET;MACX,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOU,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAK,CAAA;MACdH,gBAAgB,CAAC+E,KAAK,CAAC,mCAAmC,EAAEA,KAAc,CAAC;IAC7E;EACF;;EAEA;AACF;AACA;EACE,MAAcd,qBAAqBA,CAACe,KAAa,EAAE7B,KAAY,EAAiB;IAAA;IAAArD,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IAC9E,IAAI;MAAA;MAAAL,aAAA,GAAAK,CAAA;MACF;MACAH,gBAAgB,CAAC6E,KAAK,CAAC,yBAAyB,EAAE/C,SAAS,EAAE;QAC3DkD,KAAK;QACLhC,OAAO,EAAEG,KAAK,CAACvC;MACjB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOmE,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAK,CAAA;MACdH,gBAAgB,CAAC+E,KAAK,CAAC,mCAAmC,EAAEA,KAAc,CAAC;IAC7E;EACF;;EAEA;AACF;AACA;EACE,MAAcb,uBAAuBA,CAACC,UAAkB,EAAEhB,KAAY,EAAiB;IAAA;IAAArD,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACrF,IAAI;MAAA;MAAAL,aAAA,GAAAK,CAAA;MACF;MACAH,gBAAgB,CAAC6E,KAAK,CAAC,2BAA2B,EAAE/C,SAAS,EAAE;QAC7DqC,UAAU;QACVnB,OAAO,EAAEG,KAAK,CAACvC;MACjB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOmE,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAK,CAAA;MACdH,gBAAgB,CAAC+E,KAAK,CAAC,qCAAqC,EAAEA,KAAc,CAAC;IAC/E;EACF;;EAEA;AACF;AACA;EACEE,kBAAkBA,CAACC,UAAkB;EAAA;EAAA,CAAApF,aAAA,GAAA8C,CAAA,UAAG,KAAK,GAAQ;IAAA;IAAA9C,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACnD,IAAI,IAAI,CAACI,aAAa,EAAE;MAAA;MAAAT,aAAA,GAAA8C,CAAA;MAAA9C,aAAA,GAAAK,CAAA;MACtB,OAAO,CAAC;IACV,CAAC;IAAA;IAAA;MAAAL,aAAA,GAAA8C,CAAA;IAAA;IAAA9C,aAAA,GAAAK,CAAA;IAED,IAAI,CAACI,aAAa,GAAG4E,WAAW,CAAC,MAAM;MAAA;MAAArF,aAAA,GAAAW,CAAA;MAAAX,aAAA,GAAAK,CAAA;MACrC,IAAI,CAACiF,WAAW,CAAC,CAAC;IACpB,CAAC,EAAEF,UAAU,CAAC;IAAC;IAAApF,aAAA,GAAAK,CAAA;IAEfH,gBAAgB,CAAC6B,IAAI,CAAC,wBAAwB,EAAEC,SAAS,EAAE;MACzDoD;IACF,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;EACEG,iBAAiBA,CAAA,EAAS;IAAA;IAAAvF,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACxB,IAAI,IAAI,CAACI,aAAa,EAAE;MAAA;MAAAT,aAAA,GAAA8C,CAAA;MAAA9C,aAAA,GAAAK,CAAA;MACtBmF,aAAa,CAAC,IAAI,CAAC/E,aAAa,CAAC;MAAC;MAAAT,aAAA,GAAAK,CAAA;MAClC,IAAI,CAACI,aAAa,GAAG,IAAI;MAAC;MAAAT,aAAA,GAAAK,CAAA;MAC1BH,gBAAgB,CAAC6B,IAAI,CAAC,wBAAwB,CAAC;IACjD,CAAC;IAAA;IAAA;MAAA/B,aAAA,GAAA8C,CAAA;IAAA;EACH;;EAEA;AACF;AACA;EACUwC,WAAWA,CAAA,EAAS;IAAA;IAAAtF,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IAC1B,KAAK,MAAMwB,IAAI,IAAI,IAAI,CAACzB,KAAK,CAACmC,MAAM,CAAC,CAAC,EAAE;MAAA;MAAAvC,aAAA,GAAAK,CAAA;MACtC,IAAI,CAACwB,IAAI,CAACP,OAAO,EAAE;QAAA;QAAAtB,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACjB;MACF,CAAC;MAAA;MAAA;QAAAL,aAAA,GAAA8C,CAAA;MAAA;MAED,MAAMG,KAAK;MAAA;MAAA,CAAAjD,aAAA,GAAAK,CAAA,QAAG,IAAI,CAACoF,cAAc,CAAC5D,IAAI,CAACZ,MAAM,CAAC;MAAC;MAAAjB,aAAA,GAAAK,CAAA;MAC/C;MAAI;MAAA,CAAAL,aAAA,GAAA8C,CAAA,WAAAG,KAAK,KAAK,IAAI;MAAA;MAAA,CAAAjD,aAAA,GAAA8C,CAAA,WAAI,IAAI,CAAC4C,kBAAkB,CAACzC,KAAK,EAAEpB,IAAI,CAACX,SAAS,EAAEW,IAAI,CAACV,QAAQ,CAAC,GAAE;QAAA;QAAAnB,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACnF,IAAI,CAAC2C,YAAY,CAACnB,IAAI,EAAEoB,KAAK,CAAC;MAChC,CAAC;MAAA;MAAA;QAAAjD,aAAA,GAAA8C,CAAA;MAAA;IACH;EACF;;EAEA;AACF;AACA;EACU2C,cAAcA,CAACxE,MAAc,EAAiB;IAAA;IAAAjB,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACpD,QAAQY,MAAM;MACZ,KAAK,iBAAiB;QAAA;QAAAjB,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACpB,OAAO,IAAI,CAACsF,sBAAsB,CAAC,CAAC;MACtC,KAAK,2BAA2B;QAAA;QAAA3F,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QAC9B,OAAO,IAAI,CAACuF,uBAAuB,CAAC,CAAC;MACvC,KAAK,eAAe;QAAA;QAAA5F,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QAClB,OAAO,IAAI,CAACwF,oBAAoB,CAAC,CAAC;MACpC,KAAK,eAAe;QAAA;QAAA7F,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QAClB,OAAO,IAAI,CAACyF,oBAAoB,CAAC,CAAC;MACpC,KAAK,gBAAgB;QAAA;QAAA9F,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACnB,OAAO,IAAI,CAAC0F,qBAAqB,CAAC,CAAC;MACrC,KAAK,sBAAsB;QAAA;QAAA/F,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACzB,OAAO,IAAI,CAAC2F,2BAA2B,CAAC,CAAC;MAC3C,KAAK,iBAAiB;QAAA;QAAAhG,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACpB,OAAO,IAAI,CAAC4F,uBAAuB,CAAC,CAAC;MACvC,KAAK,YAAY;QAAA;QAAAjG,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACf,OAAO,IAAI,CAAC6F,kBAAkB,CAAC,CAAC;MAClC;QAAA;QAAAlG,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACE,OAAO,IAAI;IACf;EACF;;EAEA;AACF;AACA;EACUsF,sBAAsBA,CAAA,EAAW;IAAA;IAAA3F,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACvC;IACA;IACA,OAAO,CAAC;EACV;;EAEA;AACF;AACA;EACUuF,uBAAuBA,CAAA,EAAW;IAAA;IAAA5F,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACxC;IACA;IACA,OAAO,CAAC;EACV;;EAEA;AACF;AACA;EACUwF,oBAAoBA,CAAA,EAAW;IAAA;IAAA7F,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACrC;IACA;IACA,OAAO,CAAC;EACV;;EAEA;AACF;AACA;EACUyF,oBAAoBA,CAAA,EAAW;IAAA;IAAA9F,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACrC;IACA;IACA,OAAO,CAAC;EACV;;EAEA;AACF;AACA;EACU0F,qBAAqBA,CAAA,EAAW;IAAA;IAAA/F,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACtC;IACA;IACA,OAAO,CAAC;EACV;;EAEA;AACF;AACA;EACU2F,2BAA2BA,CAAA,EAAW;IAAA;IAAAhG,aAAA,GAAAW,CAAA;IAC5C,MAAMwF,QAAQ;IAAA;IAAA,CAAAnG,aAAA,GAAAK,CAAA,QAAGqB,OAAO,CAAC0E,WAAW,CAAC,CAAC;IAAC;IAAApG,aAAA,GAAAK,CAAA;IACvC,OAAQ8F,QAAQ,CAACE,QAAQ,GAAGF,QAAQ,CAACG,SAAS,GAAI,GAAG;EACvD;;EAEA;AACF;AACA;EACUL,uBAAuBA,CAAA,EAAW;IAAA;IAAAjG,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACxC;IACA;IACA,OAAO,CAAC;EACV;;EAEA;AACF;AACA;EACU6F,kBAAkBA,CAAA,EAAW;IAAA;IAAAlG,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACnC;IACA;IACA,OAAO,CAAC;EACV;;EAEA;AACF;AACA;EACUqF,kBAAkBA,CAACzC,KAAa,EAAE/B,SAAiB,EAAEC,QAAgB,EAAW;IAAA;IAAAnB,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAK,CAAA;IACtF,QAAQc,QAAQ;MACd,KAAK,IAAI;QAAA;QAAAnB,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACP,OAAO4C,KAAK,GAAG/B,SAAS;MAC1B,KAAK,IAAI;QAAA;QAAAlB,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACP,OAAO4C,KAAK,GAAG/B,SAAS;MAC1B,KAAK,IAAI;QAAA;QAAAlB,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACP,OAAO4C,KAAK,KAAK/B,SAAS;MAC5B,KAAK,KAAK;QAAA;QAAAlB,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACR,OAAO4C,KAAK,IAAI/B,SAAS;MAC3B,KAAK,KAAK;QAAA;QAAAlB,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACR,OAAO4C,KAAK,IAAI/B,SAAS;MAC3B;QAAA;QAAAlB,aAAA,GAAA8C,CAAA;QAAA9C,aAAA,GAAAK,CAAA;QACE,OAAO,KAAK;IAChB;EACF;;EAEA;AACF;AACA;EACEkG,kBAAkBA,CAAA,EAAG;IAAA;IAAAvG,aAAA,GAAAW,CAAA;IACnB,MAAMJ,YAAY;IAAA;IAAA,CAAAP,aAAA,GAAAK,CAAA,QAAG,IAAI,CAACmC,eAAe,CAAC,CAAC;IAC3C,MAAMgE,aAAa;IAAA;IAAA,CAAAxG,aAAA,GAAAK,CAAA,QAAGE,YAAY,CAACkC,MAAM,CAACC,CAAC,IAAI;MAAA;MAAA1C,aAAA,GAAAW,CAAA;MAAAX,aAAA,GAAAK,CAAA;MAAA,OAAAqC,CAAC,CAACrB,QAAQ,KAAK,UAAU;IAAD,CAAC,CAAC,CAACoF,MAAM;IAChF,MAAMC,YAAY;IAAA;IAAA,CAAA1G,aAAA,GAAAK,CAAA,SAAGE,YAAY,CAACkC,MAAM,CAACC,CAAC,IAAI;MAAA;MAAA1C,aAAA,GAAAW,CAAA;MAAAX,aAAA,GAAAK,CAAA;MAAA,OAAAqC,CAAC,CAACrB,QAAQ,KAAK,SAAS;IAAD,CAAC,CAAC,CAACoF,MAAM;IAC9E,MAAME,SAAS;IAAA;IAAA,CAAA3G,aAAA,GAAAK,CAAA,SAAGE,YAAY,CAACkC,MAAM,CAACC,CAAC,IAAI;MAAA;MAAA1C,aAAA,GAAAW,CAAA;MAAAX,aAAA,GAAAK,CAAA;MAAA,OAAAqC,CAAC,CAACrB,QAAQ,KAAK,MAAM;IAAD,CAAC,CAAC,CAACoF,MAAM;IAAC;IAAAzG,aAAA,GAAAK,CAAA;IAEzE,OAAO;MACLuG,WAAW,EAAErG,YAAY,CAACkG,MAAM;MAChCI,QAAQ,EAAEL,aAAa;MACvBM,OAAO,EAAEJ,YAAY;MACrB3E,IAAI,EAAE4E,SAAS;MACfI,YAAY,EAAE,IAAI,CAACvG,YAAY,CAACiG,MAAM;MACtCrG,KAAK,EAAE,IAAI,CAACA,KAAK,CAAC4G;IACpB,CAAC;EACH;AACF;AAEA,OAAO,MAAMC,aAAa;AAAA;AAAA,CAAAjH,aAAA,GAAAK,CAAA,SAAG,IAAIF,aAAa,CAAC,CAAC","ignoreList":[]}