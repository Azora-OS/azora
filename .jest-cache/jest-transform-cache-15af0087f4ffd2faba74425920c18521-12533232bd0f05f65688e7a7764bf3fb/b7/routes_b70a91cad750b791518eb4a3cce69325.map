{"version":3,"names":["cov_dggpnz8jz","actualCoverage","express","s","require","PrismaClient","router","Router","prisma","post","req","res","f","userId","message","body","response","chatMessage","create","data","role","json","success","get","history","findMany","where","params","module","exports"],"sources":["routes.js"],"sourcesContent":["const express = require('express');\nconst { PrismaClient } = require('@prisma/client');\nconst router = express.Router();\nconst prisma = new PrismaClient();\n\n\nrouter.post('/api/tutor/chat', async (req, res) => {\n  const { userId, message } = req.body;\n  const response = await prisma.chatMessage.create({ data: { userId, message, role: 'assistant' } });\n  res.json({ success: true, data: response });\n});\n\nrouter.get('/api/tutor/history/:userId', async (req, res) => {\n  const history = await prisma.chatMessage.findMany({ where: { userId: req.params.userId } });\n  res.json({ success: true, data: history });\n});\n\nmodule.exports = router;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAfZ,MAAME,OAAO;AAAA;AAAA,CAAAF,aAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAM;EAAEC;AAAa,CAAC;AAAA;AAAA,CAAAL,aAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,gBAAgB,CAAC;AAClD,MAAME,MAAM;AAAA;AAAA,CAAAN,aAAA,GAAAG,CAAA,OAAGD,OAAO,CAACK,MAAM,CAAC,CAAC;AAC/B,MAAMC,MAAM;AAAA;AAAA,CAAAR,aAAA,GAAAG,CAAA,OAAG,IAAIE,YAAY,CAAC,CAAC;AAAC;AAAAL,aAAA,GAAAG,CAAA;AAGlCG,MAAM,CAACG,IAAI,CAAC,iBAAiB,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAAA;EAAAX,aAAA,GAAAY,CAAA;EACjD,MAAM;IAAEC,MAAM;IAAEC;EAAQ,CAAC;EAAA;EAAA,CAAAd,aAAA,GAAAG,CAAA,OAAGO,GAAG,CAACK,IAAI;EACpC,MAAMC,QAAQ;EAAA;EAAA,CAAAhB,aAAA,GAAAG,CAAA,OAAG,MAAMK,MAAM,CAACS,WAAW,CAACC,MAAM,CAAC;IAAEC,IAAI,EAAE;MAAEN,MAAM;MAAEC,OAAO;MAAEM,IAAI,EAAE;IAAY;EAAE,CAAC,CAAC;EAAC;EAAApB,aAAA,GAAAG,CAAA;EACnGQ,GAAG,CAACU,IAAI,CAAC;IAAEC,OAAO,EAAE,IAAI;IAAEH,IAAI,EAAEH;EAAS,CAAC,CAAC;AAC7C,CAAC,CAAC;AAAC;AAAAhB,aAAA,GAAAG,CAAA;AAEHG,MAAM,CAACiB,GAAG,CAAC,4BAA4B,EAAE,OAAOb,GAAG,EAAEC,GAAG,KAAK;EAAA;EAAAX,aAAA,GAAAY,CAAA;EAC3D,MAAMY,OAAO;EAAA;EAAA,CAAAxB,aAAA,GAAAG,CAAA,OAAG,MAAMK,MAAM,CAACS,WAAW,CAACQ,QAAQ,CAAC;IAAEC,KAAK,EAAE;MAAEb,MAAM,EAAEH,GAAG,CAACiB,MAAM,CAACd;IAAO;EAAE,CAAC,CAAC;EAAC;EAAAb,aAAA,GAAAG,CAAA;EAC5FQ,GAAG,CAACU,IAAI,CAAC;IAAEC,OAAO,EAAE,IAAI;IAAEH,IAAI,EAAEK;EAAQ,CAAC,CAAC;AAC5C,CAAC,CAAC;AAAC;AAAAxB,aAAA,GAAAG,CAAA;AAEHyB,MAAM,CAACC,OAAO,GAAGvB,MAAM","ignoreList":[]}