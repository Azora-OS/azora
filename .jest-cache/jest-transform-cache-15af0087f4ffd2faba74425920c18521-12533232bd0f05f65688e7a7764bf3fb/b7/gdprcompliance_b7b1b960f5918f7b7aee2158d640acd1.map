{"version":3,"names":["cov_22e4nfnrxy","actualCoverage","EventEmitter","crypto","GDPRComplianceService","dpas","s","Map","pias","dataSubjectRequests","consentRecords","auditLog","constructor","config","f","initialize","logAudit","organization","organizationName","timestamp","Date","createDPA","dataController","dataProcessor","options","dpa","id","randomUUID","processingPurpose","dataCategories","recipients","retentionPeriod","createdAt","updatedAt","set","dpaId","emit","error","String","Error","createPIA","processName","pia","description","riskLevel","mitigationMeasures","piaId","recordConsent","userId","consentType","version","ipAddress","userAgent","expiresAt","consentRecord","givenAt","createDataSubjectRequest","requestType","request","status","requestId","processDSAR","data","get","b","completedAt","completeDSAR","rejectDSAR","reason","getDataRetentionPolicy","personalData","transactionData","auditLogs","backups","getDataCategories","getDataSubjectRights","right","implementationStatus","getDPA","listDPAs","Array","from","values","getPIA","listPIAs","getDSAR","listDSARsForUser","filter","r","getConsentRecordsForUser","c","action","details","auditEntry","push","length","slice","getAuditLog","logs","log","since","generateComplianceReport","pendingDSARs","completedDSARs","reportDate","dpasCount","size","piasCount","dataRetentionPolicy","dataSubjectRights","gdprComplianceService","initializeGDPRCompliance","getGDPRComplianceService"],"sources":["gdpr-compliance.ts"],"sourcesContent":["/**\n * GDPR Compliance Service\n * Implements GDPR requirements including data subject rights\n */\n\nimport { EventEmitter } from 'events';\nimport crypto from 'crypto';\n\ninterface DataProcessingAgreement {\n  id: string;\n  dataController: string;\n  dataProcessor: string;\n  processingPurpose: string;\n  dataCategories: string[];\n  recipients: string[];\n  retentionPeriod: number; // days\n  createdAt: Date;\n  updatedAt: Date;\n}\n\ninterface PrivacyImpactAssessment {\n  id: string;\n  processName: string;\n  description: string;\n  dataCategories: string[];\n  riskLevel: 'low' | 'medium' | 'high';\n  mitigationMeasures: string[];\n  createdAt: Date;\n  updatedAt: Date;\n}\n\ninterface DataSubjectRequest {\n  id: string;\n  userId: string;\n  requestType: 'access' | 'deletion' | 'portability' | 'rectification' | 'objection';\n  status: 'pending' | 'processing' | 'completed' | 'rejected';\n  createdAt: Date;\n  completedAt?: Date;\n  reason?: string;\n}\n\ninterface ConsentRecord {\n  id: string;\n  userId: string;\n  consentType: string;\n  version: string;\n  givenAt: Date;\n  expiresAt?: Date;\n  ipAddress: string;\n  userAgent: string;\n}\n\n/**\n * GDPR Compliance Service\n */\nexport class GDPRComplianceService extends EventEmitter {\n  private dpas: Map<string, DataProcessingAgreement> = new Map();\n  private pias: Map<string, PrivacyImpactAssessment> = new Map();\n  private dataSubjectRequests: Map<string, DataSubjectRequest> = new Map();\n  private consentRecords: Map<string, ConsentRecord> = new Map();\n  private auditLog: Array<{\n    timestamp: Date;\n    action: string;\n    details: any;\n  }> = [];\n\n  constructor(private config: {\n    organizationName: string;\n    dataProtectionOfficer?: string;\n    privacyPolicyUrl?: string;\n  }) {\n    super();\n    this.initialize();\n  }\n\n  /**\n   * Initialize GDPR compliance service\n   */\n  private initialize(): void {\n    this.logAudit('SERVICE_INITIALIZED', {\n      organization: this.config.organizationName,\n      timestamp: new Date()\n    });\n  }\n\n  /**\n   * Create Data Processing Agreement\n   */\n  async createDPA(\n    dataController: string,\n    dataProcessor: string,\n    options: {\n      processingPurpose: string;\n      dataCategories: string[];\n      recipients: string[];\n      retentionPeriod: number;\n    }\n  ): Promise<DataProcessingAgreement> {\n    try {\n      const dpa: DataProcessingAgreement = {\n        id: crypto.randomUUID(),\n        dataController,\n        dataProcessor,\n        processingPurpose: options.processingPurpose,\n        dataCategories: options.dataCategories,\n        recipients: options.recipients,\n        retentionPeriod: options.retentionPeriod,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n\n      this.dpas.set(dpa.id, dpa);\n      this.logAudit('DPA_CREATED', { dpaId: dpa.id, dataController, dataProcessor });\n      this.emit('dpa:created', dpa);\n\n      return dpa;\n    } catch (error) {\n      this.logAudit('DPA_CREATION_FAILED', { error: String(error) });\n      throw new Error(`Failed to create DPA: ${error}`);\n    }\n  }\n\n  /**\n   * Create Privacy Impact Assessment\n   */\n  async createPIA(\n    processName: string,\n    options: {\n      description: string;\n      dataCategories: string[];\n      riskLevel: 'low' | 'medium' | 'high';\n      mitigationMeasures: string[];\n    }\n  ): Promise<PrivacyImpactAssessment> {\n    try {\n      const pia: PrivacyImpactAssessment = {\n        id: crypto.randomUUID(),\n        processName,\n        description: options.description,\n        dataCategories: options.dataCategories,\n        riskLevel: options.riskLevel,\n        mitigationMeasures: options.mitigationMeasures,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n\n      this.pias.set(pia.id, pia);\n      this.logAudit('PIA_CREATED', { piaId: pia.id, processName, riskLevel: options.riskLevel });\n      this.emit('pia:created', pia);\n\n      return pia;\n    } catch (error) {\n      this.logAudit('PIA_CREATION_FAILED', { error: String(error) });\n      throw new Error(`Failed to create PIA: ${error}`);\n    }\n  }\n\n  /**\n   * Record user consent\n   */\n  async recordConsent(\n    userId: string,\n    consentType: string,\n    version: string,\n    ipAddress: string,\n    userAgent: string,\n    expiresAt?: Date\n  ): Promise<ConsentRecord> {\n    try {\n      const consentRecord: ConsentRecord = {\n        id: crypto.randomUUID(),\n        userId,\n        consentType,\n        version,\n        givenAt: new Date(),\n        expiresAt,\n        ipAddress,\n        userAgent\n      };\n\n      this.consentRecords.set(consentRecord.id, consentRecord);\n      this.logAudit('CONSENT_RECORDED', {\n        userId,\n        consentType,\n        version,\n        ipAddress\n      });\n      this.emit('consent:recorded', consentRecord);\n\n      return consentRecord;\n    } catch (error) {\n      this.logAudit('CONSENT_RECORDING_FAILED', { error: String(error) });\n      throw new Error(`Failed to record consent: ${error}`);\n    }\n  }\n\n  /**\n   * Handle Data Subject Access Request (DSAR)\n   */\n  async createDataSubjectRequest(\n    userId: string,\n    requestType: 'access' | 'deletion' | 'portability' | 'rectification' | 'objection'\n  ): Promise<DataSubjectRequest> {\n    try {\n      const request: DataSubjectRequest = {\n        id: crypto.randomUUID(),\n        userId,\n        requestType,\n        status: 'pending',\n        createdAt: new Date()\n      };\n\n      this.dataSubjectRequests.set(request.id, request);\n      this.logAudit('DATA_SUBJECT_REQUEST_CREATED', {\n        requestId: request.id,\n        userId,\n        requestType\n      });\n      this.emit('dsar:created', request);\n\n      return request;\n    } catch (error) {\n      this.logAudit('DSAR_CREATION_FAILED', { error: String(error) });\n      throw new Error(`Failed to create data subject request: ${error}`);\n    }\n  }\n\n  /**\n   * Process Data Subject Access Request\n   */\n  async processDSAR(requestId: string, data?: any): Promise<DataSubjectRequest> {\n    try {\n      const request = this.dataSubjectRequests.get(requestId);\n      if (!request) {\n        throw new Error('Request not found');\n      }\n\n      request.status = 'processing';\n      request.completedAt = new Date();\n\n      this.dataSubjectRequests.set(requestId, request);\n      this.logAudit('DSAR_PROCESSED', {\n        requestId,\n        requestType: request.requestType,\n        userId: request.userId\n      });\n      this.emit('dsar:processed', request);\n\n      return request;\n    } catch (error) {\n      this.logAudit('DSAR_PROCESSING_FAILED', { error: String(error) });\n      throw new Error(`Failed to process DSAR: ${error}`);\n    }\n  }\n\n  /**\n   * Complete Data Subject Request\n   */\n  async completeDSAR(requestId: string): Promise<DataSubjectRequest> {\n    try {\n      const request = this.dataSubjectRequests.get(requestId);\n      if (!request) {\n        throw new Error('Request not found');\n      }\n\n      request.status = 'completed';\n      request.completedAt = new Date();\n\n      this.dataSubjectRequests.set(requestId, request);\n      this.logAudit('DSAR_COMPLETED', {\n        requestId,\n        requestType: request.requestType,\n        userId: request.userId\n      });\n      this.emit('dsar:completed', request);\n\n      return request;\n    } catch (error) {\n      this.logAudit('DSAR_COMPLETION_FAILED', { error: String(error) });\n      throw new Error(`Failed to complete DSAR: ${error}`);\n    }\n  }\n\n  /**\n   * Reject Data Subject Request\n   */\n  async rejectDSAR(requestId: string, reason: string): Promise<DataSubjectRequest> {\n    try {\n      const request = this.dataSubjectRequests.get(requestId);\n      if (!request) {\n        throw new Error('Request not found');\n      }\n\n      request.status = 'rejected';\n      request.reason = reason;\n      request.completedAt = new Date();\n\n      this.dataSubjectRequests.set(requestId, request);\n      this.logAudit('DSAR_REJECTED', {\n        requestId,\n        requestType: request.requestType,\n        userId: request.userId,\n        reason\n      });\n      this.emit('dsar:rejected', request);\n\n      return request;\n    } catch (error) {\n      this.logAudit('DSAR_REJECTION_FAILED', { error: String(error) });\n      throw new Error(`Failed to reject DSAR: ${error}`);\n    }\n  }\n\n  /**\n   * Get data retention policy\n   */\n  getDataRetentionPolicy(): {\n    personalData: number; // days\n    transactionData: number; // days\n    auditLogs: number; // days\n    backups: number; // days\n  } {\n    return {\n      personalData: 365, // 1 year\n      transactionData: 2555, // 7 years\n      auditLogs: 2555, // 7 years\n      backups: 90 // 3 months\n    };\n  }\n\n  /**\n   * Get data categories\n   */\n  getDataCategories(): string[] {\n    return [\n      'Personal Identification Data',\n      'Contact Information',\n      'Financial Information',\n      'Educational Records',\n      'Health Information',\n      'Behavioral Data',\n      'Device Information',\n      'Location Data',\n      'Biometric Data',\n      'Special Category Data'\n    ];\n  }\n\n  /**\n   * Get data subject rights\n   */\n  getDataSubjectRights(): {\n    right: string;\n    description: string;\n    implementationStatus: 'implemented' | 'in-progress' | 'planned';\n  }[] {\n    return [\n      {\n        right: 'Right to Access',\n        description: 'Users can request access to their personal data',\n        implementationStatus: 'implemented'\n      },\n      {\n        right: 'Right to Rectification',\n        description: 'Users can request correction of inaccurate data',\n        implementationStatus: 'implemented'\n      },\n      {\n        right: 'Right to Erasure',\n        description: 'Users can request deletion of their data',\n        implementationStatus: 'implemented'\n      },\n      {\n        right: 'Right to Restrict Processing',\n        description: 'Users can request restriction of data processing',\n        implementationStatus: 'in-progress'\n      },\n      {\n        right: 'Right to Data Portability',\n        description: 'Users can request their data in portable format',\n        implementationStatus: 'implemented'\n      },\n      {\n        right: 'Right to Object',\n        description: 'Users can object to data processing',\n        implementationStatus: 'in-progress'\n      },\n      {\n        right: 'Right to Withdraw Consent',\n        description: 'Users can withdraw previously given consent',\n        implementationStatus: 'implemented'\n      }\n    ];\n  }\n\n  /**\n   * Get DPA\n   */\n  getDPA(dpaId: string): DataProcessingAgreement | undefined {\n    return this.dpas.get(dpaId);\n  }\n\n  /**\n   * List all DPAs\n   */\n  listDPAs(): DataProcessingAgreement[] {\n    return Array.from(this.dpas.values());\n  }\n\n  /**\n   * Get PIA\n   */\n  getPIA(piaId: string): PrivacyImpactAssessment | undefined {\n    return this.pias.get(piaId);\n  }\n\n  /**\n   * List all PIAs\n   */\n  listPIAs(): PrivacyImpactAssessment[] {\n    return Array.from(this.pias.values());\n  }\n\n  /**\n   * Get data subject request\n   */\n  getDSAR(requestId: string): DataSubjectRequest | undefined {\n    return this.dataSubjectRequests.get(requestId);\n  }\n\n  /**\n   * List all DSARs for user\n   */\n  listDSARsForUser(userId: string): DataSubjectRequest[] {\n    return Array.from(this.dataSubjectRequests.values()).filter(r => r.userId === userId);\n  }\n\n  /**\n   * Get consent records for user\n   */\n  getConsentRecordsForUser(userId: string): ConsentRecord[] {\n    return Array.from(this.consentRecords.values()).filter(c => c.userId === userId);\n  }\n\n  /**\n   * Log audit event\n   */\n  private logAudit(action: string, details: any): void {\n    const auditEntry = {\n      timestamp: new Date(),\n      action,\n      details\n    };\n\n    this.auditLog.push(auditEntry);\n    this.emit('audit:log', auditEntry);\n\n    // Keep only last 10000 entries in memory\n    if (this.auditLog.length > 10000) {\n      this.auditLog = this.auditLog.slice(-10000);\n    }\n  }\n\n  /**\n   * Get audit log\n   */\n  getAuditLog(filter?: { action?: string; since?: Date }): typeof this.auditLog {\n    let logs = this.auditLog;\n\n    if (filter?.action) {\n      logs = logs.filter(log => log.action === filter.action);\n    }\n\n    if (filter?.since) {\n      logs = logs.filter(log => log.timestamp >= filter.since!);\n    }\n\n    return logs;\n  }\n\n  /**\n   * Generate GDPR compliance report\n   */\n  generateComplianceReport(): {\n    organization: string;\n    reportDate: Date;\n    dpasCount: number;\n    piasCount: number;\n    pendingDSARs: number;\n    completedDSARs: number;\n    dataRetentionPolicy: any;\n    dataSubjectRights: any[];\n  } {\n    const pendingDSARs = Array.from(this.dataSubjectRequests.values()).filter(\n      r => r.status === 'pending'\n    ).length;\n\n    const completedDSARs = Array.from(this.dataSubjectRequests.values()).filter(\n      r => r.status === 'completed'\n    ).length;\n\n    return {\n      organization: this.config.organizationName,\n      reportDate: new Date(),\n      dpasCount: this.dpas.size,\n      piasCount: this.pias.size,\n      pendingDSARs,\n      completedDSARs,\n      dataRetentionPolicy: this.getDataRetentionPolicy(),\n      dataSubjectRights: this.getDataSubjectRights()\n    };\n  }\n}\n\n// Export singleton instance\nlet gdprComplianceService: GDPRComplianceService | null = null;\n\nexport function initializeGDPRCompliance(config: {\n  organizationName: string;\n  dataProtectionOfficer?: string;\n  privacyPolicyUrl?: string;\n}): GDPRComplianceService {\n  if (!gdprComplianceService) {\n    gdprComplianceService = new GDPRComplianceService(config);\n  }\n  return gdprComplianceService;\n}\n\nexport function getGDPRComplianceService(): GDPRComplianceService {\n  if (!gdprComplianceService) {\n    throw new Error('GDPR Compliance Service not initialized');\n  }\n  return gdprComplianceService;\n}\n\nexport default GDPRComplianceService;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}