{"version":3,"names":["cov_1ld1p7mhcf","actualCoverage","RoutingTier","QueryComplexity","TierSelector","tierProfiles","s","Map","constructor","costOptimizer","f","initializeTierProfiles","set","LOCAL_LLM","tier","averageLatency","averageCost","successRate","qualityScore","costPerQuality","RAP_SYSTEM","EXTERNAL_LLM","selectTier","criteria","inputTokens","b","estimatedInputTokens","outputTokens","estimatedOutputTokens","costs","compareCosts","preferredTier","preferredCost","userBudget","selectedTier","reason","estimatedCost","alternativeTiers","getAlternativeTiers","alternativeCosts","budgetRemaining","undefined","selectByComplexity","complexity","selectWithinBudget","prioritizeCost","getCheapestTier","prioritizeSpeed","selectFastestTier","prioritizeQuality","selectHighestQualityTier","selectedCost","generateSelectionReason","SIMPLE","MODERATE","COMPLEX","budget","tierOrder","fastestTier","lowestLatency","Infinity","profile","entries","bestTier","highestQuality","allTiers","filter","cost","toFixed","getCostBenefitAnalysis","result","quality","ratio","getBestValueTier","analysis","bestRatio","data","Object","updateTierProfile","existing","get","getTierProfile","getAllTierProfiles","predictTierSelection","getRecommendation","Error","pros","getTierPros","cons","getTierCons","recommendedTier","explanation"],"sources":["tier-selector.ts"],"sourcesContent":["/**\n * Tier Selector\n * Implements optimal tier selection logic based on cost, quality, and constraints\n * Handles budget constraints and cost prediction\n */\n\nimport { RoutingTier, QueryComplexity } from './types';\nimport { CostOptimizer, TierCostConfig } from './cost-optimizer';\n\n/**\n * Tier selection criteria\n */\nexport interface SelectionCriteria {\n  complexity: QueryComplexity;\n  userBudget?: number;\n  preferredTier?: RoutingTier;\n  prioritizeSpeed?: boolean;\n  prioritizeCost?: boolean;\n  prioritizeQuality?: boolean;\n  estimatedInputTokens?: number;\n  estimatedOutputTokens?: number;\n}\n\n/**\n * Tier selection result\n */\nexport interface TierSelectionResult {\n  selectedTier: RoutingTier;\n  reason: string;\n  estimatedCost: number;\n  alternativeTiers: RoutingTier[];\n  alternativeCosts: Record<RoutingTier, number>;\n  budgetRemaining?: number;\n}\n\n/**\n * Tier performance profile\n */\nexport interface TierProfile {\n  tier: RoutingTier;\n  averageLatency: number; // milliseconds\n  averageCost: number;\n  successRate: number; // percentage\n  qualityScore: number; // 0-100\n  costPerQuality: number; // cost per quality point\n}\n\n/**\n * Tier Selector Implementation\n */\nexport class TierSelector {\n  private costOptimizer: CostOptimizer;\n  private tierProfiles: Map<RoutingTier, TierProfile> = new Map();\n\n  constructor(costOptimizer: CostOptimizer) {\n    this.costOptimizer = costOptimizer;\n    this.initializeTierProfiles();\n  }\n\n  /**\n   * Initialize tier performance profiles\n   * These are baseline profiles that can be updated based on actual metrics\n   */\n  private initializeTierProfiles(): void {\n    // Local LLM: Fast, cheap, lower quality\n    this.tierProfiles.set(RoutingTier.LOCAL_LLM, {\n      tier: RoutingTier.LOCAL_LLM,\n      averageLatency: 200, // milliseconds\n      averageCost: 0,\n      successRate: 85,\n      qualityScore: 70,\n      costPerQuality: 0\n    });\n\n    // RAP System: Moderate latency, moderate cost, good quality\n    this.tierProfiles.set(RoutingTier.RAP_SYSTEM, {\n      tier: RoutingTier.RAP_SYSTEM,\n      averageLatency: 800,\n      averageCost: 0.02,\n      successRate: 92,\n      qualityScore: 85,\n      costPerQuality: 0.000235 // 0.02 / 85\n    });\n\n    // External LLM: Slower, expensive, highest quality\n    this.tierProfiles.set(RoutingTier.EXTERNAL_LLM, {\n      tier: RoutingTier.EXTERNAL_LLM,\n      averageLatency: 2000,\n      averageCost: 0.05,\n      successRate: 98,\n      qualityScore: 95,\n      costPerQuality: 0.000526 // 0.05 / 95\n    });\n  }\n\n  /**\n   * Select optimal tier based on criteria\n   * @param criteria - Selection criteria\n   * @returns Tier selection result\n   */\n  async selectTier(criteria: SelectionCriteria): Promise<TierSelectionResult> {\n    const inputTokens = criteria.estimatedInputTokens || 100;\n    const outputTokens = criteria.estimatedOutputTokens || 200;\n\n    // Get costs for all tiers\n    const costs = await this.costOptimizer.compareCosts(inputTokens, outputTokens);\n\n    // If user has preferred tier and can afford it, use it\n    if (criteria.preferredTier) {\n      const preferredCost = costs[criteria.preferredTier];\n      if (\n        !criteria.userBudget ||\n        preferredCost <= criteria.userBudget\n      ) {\n        return {\n          selectedTier: criteria.preferredTier,\n          reason: `User preferred tier: ${criteria.preferredTier}`,\n          estimatedCost: preferredCost,\n          alternativeTiers: this.getAlternativeTiers(criteria.preferredTier),\n          alternativeCosts: costs,\n          budgetRemaining: criteria.userBudget\n            ? criteria.userBudget - preferredCost\n            : undefined\n        };\n      }\n    }\n\n    // Select based on complexity\n    let selectedTier = this.selectByComplexity(criteria.complexity);\n\n    // Check budget constraint\n    if (criteria.userBudget && costs[selectedTier] > criteria.userBudget) {\n      selectedTier = await this.selectWithinBudget(\n        criteria.userBudget,\n        costs\n      );\n    }\n\n    // Apply priority overrides\n    if (criteria.prioritizeCost) {\n      selectedTier = await this.costOptimizer.getCheapestTier(\n        inputTokens,\n        outputTokens\n      );\n    } else if (criteria.prioritizeSpeed) {\n      selectedTier = this.selectFastestTier();\n    } else if (criteria.prioritizeQuality) {\n      selectedTier = this.selectHighestQualityTier();\n    }\n\n    const selectedCost = costs[selectedTier];\n    const reason = this.generateSelectionReason(\n      selectedTier,\n      criteria,\n      selectedCost\n    );\n\n    return {\n      selectedTier,\n      reason,\n      estimatedCost: selectedCost,\n      alternativeTiers: this.getAlternativeTiers(selectedTier),\n      alternativeCosts: costs,\n      budgetRemaining: criteria.userBudget\n        ? criteria.userBudget - selectedCost\n        : undefined\n    };\n  }\n\n  /**\n   * Select tier based on query complexity\n   * @param complexity - Query complexity level\n   * @returns Selected tier\n   */\n  private selectByComplexity(complexity: QueryComplexity): RoutingTier {\n    switch (complexity) {\n      case QueryComplexity.SIMPLE:\n        return RoutingTier.LOCAL_LLM;\n      case QueryComplexity.MODERATE:\n        return RoutingTier.RAP_SYSTEM;\n      case QueryComplexity.COMPLEX:\n        return RoutingTier.EXTERNAL_LLM;\n      default:\n        return RoutingTier.RAP_SYSTEM;\n    }\n  }\n\n  /**\n   * Select tier within budget constraint\n   * @param budget - Available budget\n   * @param costs - Cost for each tier\n   * @returns Selected tier within budget\n   */\n  private async selectWithinBudget(\n    budget: number,\n    costs: Record<RoutingTier, number>\n  ): Promise<RoutingTier> {\n    // Try tiers in order of preference: Local -> RAP -> External\n    const tierOrder = [\n      RoutingTier.LOCAL_LLM,\n      RoutingTier.RAP_SYSTEM,\n      RoutingTier.EXTERNAL_LLM\n    ];\n\n    for (const tier of tierOrder) {\n      if (costs[tier] <= budget) {\n        return tier;\n      }\n    }\n\n    // If no tier fits budget, return cheapest\n    return RoutingTier.LOCAL_LLM;\n  }\n\n  /**\n   * Select fastest tier\n   * @returns Fastest tier\n   */\n  private selectFastestTier(): RoutingTier {\n    let fastestTier = RoutingTier.LOCAL_LLM;\n    let lowestLatency = Infinity;\n\n    for (const [tier, profile] of this.tierProfiles.entries()) {\n      if (profile.averageLatency < lowestLatency) {\n        lowestLatency = profile.averageLatency;\n        fastestTier = tier;\n      }\n    }\n\n    return fastestTier;\n  }\n\n  /**\n   * Select highest quality tier\n   * @returns Highest quality tier\n   */\n  private selectHighestQualityTier(): RoutingTier {\n    let bestTier = RoutingTier.LOCAL_LLM;\n    let highestQuality = 0;\n\n    for (const [tier, profile] of this.tierProfiles.entries()) {\n      if (profile.qualityScore > highestQuality) {\n        highestQuality = profile.qualityScore;\n        bestTier = tier;\n      }\n    }\n\n    return bestTier;\n  }\n\n  /**\n   * Get alternative tiers for a selected tier\n   * @param selectedTier - Selected tier\n   * @returns Array of alternative tiers\n   */\n  private getAlternativeTiers(selectedTier: RoutingTier): RoutingTier[] {\n    const allTiers = [\n      RoutingTier.LOCAL_LLM,\n      RoutingTier.RAP_SYSTEM,\n      RoutingTier.EXTERNAL_LLM\n    ];\n\n    return allTiers.filter(tier => tier !== selectedTier);\n  }\n\n  /**\n   * Generate human-readable reason for tier selection\n   * @param tier - Selected tier\n   * @param criteria - Selection criteria\n   * @param cost - Estimated cost\n   * @returns Reason string\n   */\n  private generateSelectionReason(\n    tier: RoutingTier,\n    criteria: SelectionCriteria,\n    cost: number\n  ): string {\n    if (criteria.prioritizeCost) {\n      return `Selected ${tier} for cost optimization (estimated: $${cost.toFixed(4)})`;\n    }\n\n    if (criteria.prioritizeSpeed) {\n      return `Selected ${tier} for speed optimization`;\n    }\n\n    if (criteria.prioritizeQuality) {\n      return `Selected ${tier} for quality optimization`;\n    }\n\n    if (criteria.userBudget && cost > criteria.userBudget) {\n      return `Selected ${tier} within budget constraint ($${criteria.userBudget})`;\n    }\n\n    return `Selected ${tier} for ${criteria.complexity} complexity query`;\n  }\n\n  /**\n   * Get cost-benefit analysis for all tiers\n   * @param inputTokens - Input tokens\n   * @param outputTokens - Output tokens\n   * @returns Cost-benefit analysis for each tier\n   */\n  async getCostBenefitAnalysis(\n    inputTokens: number = 100,\n    outputTokens: number = 200\n  ): Promise<Record<RoutingTier, { cost: number; quality: number; ratio: number }>> {\n    const costs = await this.costOptimizer.compareCosts(inputTokens, outputTokens);\n    const result: Record<RoutingTier, { cost: number; quality: number; ratio: number }> = {} as any;\n\n    for (const [tier, profile] of this.tierProfiles.entries()) {\n      const cost = costs[tier];\n      const quality = profile.qualityScore;\n      const ratio = cost > 0 ? cost / quality : 0;\n\n      result[tier] = {\n        cost,\n        quality,\n        ratio\n      };\n    }\n\n    return result;\n  }\n\n  /**\n   * Get best value tier (best quality per cost)\n   * @param inputTokens - Input tokens\n   * @param outputTokens - Output tokens\n   * @returns Best value tier\n   */\n  async getBestValueTier(\n    inputTokens: number = 100,\n    outputTokens: number = 200\n  ): Promise<RoutingTier> {\n    const analysis = await this.getCostBenefitAnalysis(inputTokens, outputTokens);\n    let bestTier = RoutingTier.LOCAL_LLM;\n    let bestRatio = Infinity;\n\n    for (const [tier, data] of Object.entries(analysis)) {\n      if (data.ratio < bestRatio && data.ratio > 0) {\n        bestRatio = data.ratio;\n        bestTier = tier as RoutingTier;\n      }\n    }\n\n    return bestTier;\n  }\n\n  /**\n   * Update tier profile based on actual metrics\n   * @param tier - Routing tier\n   * @param profile - Updated profile\n   */\n  updateTierProfile(tier: RoutingTier, profile: Partial<TierProfile>): void {\n    const existing = this.tierProfiles.get(tier);\n    if (existing) {\n      this.tierProfiles.set(tier, { ...existing, ...profile });\n    }\n  }\n\n  /**\n   * Get tier profile\n   * @param tier - Routing tier\n   * @returns Tier profile\n   */\n  getTierProfile(tier: RoutingTier): TierProfile | undefined {\n    return this.tierProfiles.get(tier);\n  }\n\n  /**\n   * Get all tier profiles\n   * @returns All tier profiles\n   */\n  getAllTierProfiles(): Record<RoutingTier, TierProfile> {\n    const result: Record<RoutingTier, TierProfile> = {} as any;\n\n    for (const [tier, profile] of this.tierProfiles.entries()) {\n      result[tier] = profile;\n    }\n\n    return result;\n  }\n\n  /**\n   * Predict tier selection for a query\n   * @param complexity - Query complexity\n   * @param budget - User budget\n   * @returns Predicted tier\n   */\n  async predictTierSelection(\n    complexity: QueryComplexity,\n    budget?: number\n  ): Promise<RoutingTier> {\n    const criteria: SelectionCriteria = {\n      complexity,\n      userBudget: budget\n    };\n\n    const result = await this.selectTier(criteria);\n    return result.selectedTier;\n  }\n\n  /**\n   * Get tier recommendation with explanation\n   * @param criteria - Selection criteria\n   * @returns Recommendation with explanation\n   */\n  async getRecommendation(\n    criteria: SelectionCriteria\n  ): Promise<{\n    recommendedTier: RoutingTier;\n    explanation: string;\n    pros: string[];\n    cons: string[];\n    estimatedCost: number;\n  }> {\n    const result = await this.selectTier(criteria);\n    const profile = this.tierProfiles.get(result.selectedTier);\n\n    if (!profile) {\n      throw new Error(`No profile found for tier ${result.selectedTier}`);\n    }\n\n    const pros = this.getTierPros(result.selectedTier);\n    const cons = this.getTierCons(result.selectedTier);\n\n    return {\n      recommendedTier: result.selectedTier,\n      explanation: result.reason,\n      pros,\n      cons,\n      estimatedCost: result.estimatedCost\n    };\n  }\n\n  /**\n   * Get pros for a tier\n   * @param tier - Routing tier\n   * @returns List of pros\n   */\n  private getTierPros(tier: RoutingTier): string[] {\n    switch (tier) {\n      case RoutingTier.LOCAL_LLM:\n        return [\n          'No API costs',\n          'Fastest response time',\n          'Works offline',\n          'Privacy-preserving'\n        ];\n      case RoutingTier.RAP_SYSTEM:\n        return [\n          'Balanced cost and quality',\n          'Knowledge-grounded responses',\n          'Good for moderate complexity',\n          'Moderate latency'\n        ];\n      case RoutingTier.EXTERNAL_LLM:\n        return [\n          'Highest quality responses',\n          'Best for complex queries',\n          'Most reliable',\n          'Advanced reasoning'\n        ];\n      default:\n        return [];\n    }\n  }\n\n  /**\n   * Get cons for a tier\n   * @param tier - Routing tier\n   * @returns List of cons\n   */\n  private getTierCons(tier: RoutingTier): string[] {\n    switch (tier) {\n      case RoutingTier.LOCAL_LLM:\n        return [\n          'Lower quality responses',\n          'Limited reasoning capability',\n          'Smaller model size',\n          'May struggle with complex queries'\n        ];\n      case RoutingTier.RAP_SYSTEM:\n        return [\n          'Moderate cost',\n          'Depends on knowledge base quality',\n          'Moderate latency',\n          'May not handle novel topics well'\n        ];\n      case RoutingTier.EXTERNAL_LLM:\n        return [\n          'Highest cost',\n          'Slowest response time',\n          'Requires internet connection',\n          'Privacy concerns with external APIs'\n        ];\n      default:\n        return [];\n    }\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}