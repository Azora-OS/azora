2cd14fc00a5555ea9ec9b6bf1407c319
/* istanbul ignore next */
function cov_17d3uv8s3y() {
  var path = "/workspaces/azora/services/azora-cloud/azora-mint/docker/init-mongo.js";
  var hash = "4dec16d1ca2b7c06b57be6d2fce48580f1f813de";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/azora-cloud/azora-mint/docker/init-mongo.js",
    statementMap: {
      "0": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 11,
          column: 35
        }
      },
      "1": {
        start: {
          line: 14,
          column: 0
        },
        end: {
          line: 14,
          column: 42
        }
      },
      "2": {
        start: {
          line: 15,
          column: 0
        },
        end: {
          line: 15,
          column: 29
        }
      },
      "3": {
        start: {
          line: 16,
          column: 0
        },
        end: {
          line: 16,
          column: 35
        }
      },
      "4": {
        start: {
          line: 17,
          column: 0
        },
        end: {
          line: 17,
          column: 45
        }
      },
      "5": {
        start: {
          line: 20,
          column: 0
        },
        end: {
          line: 20,
          column: 51
        }
      },
      "6": {
        start: {
          line: 21,
          column: 0
        },
        end: {
          line: 21,
          column: 51
        }
      },
      "7": {
        start: {
          line: 22,
          column: 0
        },
        end: {
          line: 22,
          column: 54
        }
      },
      "8": {
        start: {
          line: 23,
          column: 0
        },
        end: {
          line: 23,
          column: 55
        }
      },
      "9": {
        start: {
          line: 25,
          column: 0
        },
        end: {
          line: 25,
          column: 38
        }
      },
      "10": {
        start: {
          line: 26,
          column: 0
        },
        end: {
          line: 26,
          column: 38
        }
      },
      "11": {
        start: {
          line: 27,
          column: 0
        },
        end: {
          line: 27,
          column: 39
        }
      },
      "12": {
        start: {
          line: 28,
          column: 0
        },
        end: {
          line: 28,
          column: 49
        }
      },
      "13": {
        start: {
          line: 30,
          column: 0
        },
        end: {
          line: 30,
          column: 62
        }
      },
      "14": {
        start: {
          line: 31,
          column: 0
        },
        end: {
          line: 31,
          column: 44
        }
      },
      "15": {
        start: {
          line: 32,
          column: 0
        },
        end: {
          line: 32,
          column: 48
        }
      },
      "16": {
        start: {
          line: 34,
          column: 0
        },
        end: {
          line: 34,
          column: 54
        }
      },
      "17": {
        start: {
          line: 35,
          column: 0
        },
        end: {
          line: 35,
          column: 54
        }
      },
      "18": {
        start: {
          line: 36,
          column: 0
        },
        end: {
          line: 36,
          column: 58
        }
      },
      "19": {
        start: {
          line: 39,
          column: 0
        },
        end: {
          line: 51,
          column: 3
        }
      },
      "20": {
        start: {
          line: 53,
          column: 0
        },
        end: {
          line: 53,
          column: 54
        }
      }
    },
    fnMap: {},
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0
    },
    f: {},
    b: {},
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "4dec16d1ca2b7c06b57be6d2fce48580f1f813de"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_17d3uv8s3y = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_17d3uv8s3y();
cov_17d3uv8s3y().s[0]++;
/*
AZORA PROPRIETARY LICENSE

Copyright Â© 2025 Azora ES (Pty) Ltd. All Rights Reserved.

See LICENSE file for details.
*/

// Initialize Azora Mint database with indexes and initial data

db = db.getSiblingDB('azora-mint');

// Create collections
/* istanbul ignore next */
cov_17d3uv8s3y().s[1]++;
db.createCollection('creditapplications');
/* istanbul ignore next */
cov_17d3uv8s3y().s[2]++;
db.createCollection('loans');
/* istanbul ignore next */
cov_17d3uv8s3y().s[3]++;
db.createCollection('trustscores');
/* istanbul ignore next */
cov_17d3uv8s3y().s[4]++;
db.createCollection('repaymenttransactions');

// Create indexes
/* istanbul ignore next */
cov_17d3uv8s3y().s[5]++;
db.creditapplications.createIndex({
  "userId": 1
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[6]++;
db.creditapplications.createIndex({
  "status": 1
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[7]++;
db.creditapplications.createIndex({
  "expiresAt": 1
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[8]++;
db.creditapplications.createIndex({
  "createdAt": -1
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[9]++;
db.loans.createIndex({
  "userId": 1
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[10]++;
db.loans.createIndex({
  "status": 1
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[11]++;
db.loans.createIndex({
  "dueDate": 1
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[12]++;
db.loans.createIndex({
  "disbursementDate": -1
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[13]++;
db.trustscores.createIndex({
  "userId": 1
}, {
  unique: true
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[14]++;
db.trustscores.createIndex({
  "score": -1
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[15]++;
db.trustscores.createIndex({
  "nextUpdate": 1
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[16]++;
db.repaymenttransactions.createIndex({
  "loanId": 1
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[17]++;
db.repaymenttransactions.createIndex({
  "userId": 1
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[18]++;
db.repaymenttransactions.createIndex({
  "createdAt": -1
});

// Insert default constitution parameters
/* istanbul ignore next */
cov_17d3uv8s3y().s[19]++;
db.constitution.insertOne({
  article: "VIII.6",
  name: "Neural Credit Protocol",
  parameters: {
    metabolicTax: 0.20,
    defaultPenalty: 0.15,
    maxTermMonths: 3,
    minTrustScore: 70,
    observationPhaseDays: 30
  },
  activated: true,
  activatedAt: new Date()
});
/* istanbul ignore next */
cov_17d3uv8s3y().s[20]++;
print('Azora Mint database initialized successfully');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTdkM3V2OHMzeSIsImFjdHVhbENvdmVyYWdlIiwicyIsImRiIiwiZ2V0U2libGluZ0RCIiwiY3JlYXRlQ29sbGVjdGlvbiIsImNyZWRpdGFwcGxpY2F0aW9ucyIsImNyZWF0ZUluZGV4IiwibG9hbnMiLCJ0cnVzdHNjb3JlcyIsInVuaXF1ZSIsInJlcGF5bWVudHRyYW5zYWN0aW9ucyIsImNvbnN0aXR1dGlvbiIsImluc2VydE9uZSIsImFydGljbGUiLCJuYW1lIiwicGFyYW1ldGVycyIsIm1ldGFib2xpY1RheCIsImRlZmF1bHRQZW5hbHR5IiwibWF4VGVybU1vbnRocyIsIm1pblRydXN0U2NvcmUiLCJvYnNlcnZhdGlvblBoYXNlRGF5cyIsImFjdGl2YXRlZCIsImFjdGl2YXRlZEF0IiwiRGF0ZSIsInByaW50Il0sInNvdXJjZXMiOlsiaW5pdC1tb25nby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQVpPUkEgUFJPUFJJRVRBUlkgTElDRU5TRVxuXG5Db3B5cmlnaHQgwqkgMjAyNSBBem9yYSBFUyAoUHR5KSBMdGQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cblNlZSBMSUNFTlNFIGZpbGUgZm9yIGRldGFpbHMuXG4qL1xuXG4vLyBJbml0aWFsaXplIEF6b3JhIE1pbnQgZGF0YWJhc2Ugd2l0aCBpbmRleGVzIGFuZCBpbml0aWFsIGRhdGFcblxuZGIgPSBkYi5nZXRTaWJsaW5nREIoJ2F6b3JhLW1pbnQnKTtcblxuLy8gQ3JlYXRlIGNvbGxlY3Rpb25zXG5kYi5jcmVhdGVDb2xsZWN0aW9uKCdjcmVkaXRhcHBsaWNhdGlvbnMnKTtcbmRiLmNyZWF0ZUNvbGxlY3Rpb24oJ2xvYW5zJyk7XG5kYi5jcmVhdGVDb2xsZWN0aW9uKCd0cnVzdHNjb3JlcycpO1xuZGIuY3JlYXRlQ29sbGVjdGlvbigncmVwYXltZW50dHJhbnNhY3Rpb25zJyk7XG5cbi8vIENyZWF0ZSBpbmRleGVzXG5kYi5jcmVkaXRhcHBsaWNhdGlvbnMuY3JlYXRlSW5kZXgoeyBcInVzZXJJZFwiOiAxIH0pO1xuZGIuY3JlZGl0YXBwbGljYXRpb25zLmNyZWF0ZUluZGV4KHsgXCJzdGF0dXNcIjogMSB9KTtcbmRiLmNyZWRpdGFwcGxpY2F0aW9ucy5jcmVhdGVJbmRleCh7IFwiZXhwaXJlc0F0XCI6IDEgfSk7XG5kYi5jcmVkaXRhcHBsaWNhdGlvbnMuY3JlYXRlSW5kZXgoeyBcImNyZWF0ZWRBdFwiOiAtMSB9KTtcblxuZGIubG9hbnMuY3JlYXRlSW5kZXgoeyBcInVzZXJJZFwiOiAxIH0pO1xuZGIubG9hbnMuY3JlYXRlSW5kZXgoeyBcInN0YXR1c1wiOiAxIH0pO1xuZGIubG9hbnMuY3JlYXRlSW5kZXgoeyBcImR1ZURhdGVcIjogMSB9KTtcbmRiLmxvYW5zLmNyZWF0ZUluZGV4KHsgXCJkaXNidXJzZW1lbnREYXRlXCI6IC0xIH0pO1xuXG5kYi50cnVzdHNjb3Jlcy5jcmVhdGVJbmRleCh7IFwidXNlcklkXCI6IDEgfSwgeyB1bmlxdWU6IHRydWUgfSk7XG5kYi50cnVzdHNjb3Jlcy5jcmVhdGVJbmRleCh7IFwic2NvcmVcIjogLTEgfSk7XG5kYi50cnVzdHNjb3Jlcy5jcmVhdGVJbmRleCh7IFwibmV4dFVwZGF0ZVwiOiAxIH0pO1xuXG5kYi5yZXBheW1lbnR0cmFuc2FjdGlvbnMuY3JlYXRlSW5kZXgoeyBcImxvYW5JZFwiOiAxIH0pO1xuZGIucmVwYXltZW50dHJhbnNhY3Rpb25zLmNyZWF0ZUluZGV4KHsgXCJ1c2VySWRcIjogMSB9KTtcbmRiLnJlcGF5bWVudHRyYW5zYWN0aW9ucy5jcmVhdGVJbmRleCh7IFwiY3JlYXRlZEF0XCI6IC0xIH0pO1xuXG4vLyBJbnNlcnQgZGVmYXVsdCBjb25zdGl0dXRpb24gcGFyYW1ldGVyc1xuZGIuY29uc3RpdHV0aW9uLmluc2VydE9uZSh7XG4gIGFydGljbGU6IFwiVklJSS42XCIsXG4gIG5hbWU6IFwiTmV1cmFsIENyZWRpdCBQcm90b2NvbFwiLFxuICBwYXJhbWV0ZXJzOiB7XG4gICAgbWV0YWJvbGljVGF4OiAwLjIwLFxuICAgIGRlZmF1bHRQZW5hbHR5OiAwLjE1LFxuICAgIG1heFRlcm1Nb250aHM6IDMsXG4gICAgbWluVHJ1c3RTY29yZTogNzAsXG4gICAgb2JzZXJ2YXRpb25QaGFzZURheXM6IDMwXG4gIH0sXG4gIGFjdGl2YXRlZDogdHJ1ZSxcbiAgYWN0aXZhdGVkQXQ6IG5ldyBEYXRlKClcbn0pO1xuXG5wcmludCgnQXpvcmEgTWludCBkYXRhYmFzZSBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknKTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxjQUFBO0FBQUFBLGNBQUEsR0FBQUUsQ0FBQTtBQWZaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBQyxFQUFFLEdBQUdBLEVBQUUsQ0FBQ0MsWUFBWSxDQUFDLFlBQVksQ0FBQzs7QUFFbEM7QUFBQTtBQUFBSixjQUFBLEdBQUFFLENBQUE7QUFDQUMsRUFBRSxDQUFDRSxnQkFBZ0IsQ0FBQyxvQkFBb0IsQ0FBQztBQUFDO0FBQUFMLGNBQUEsR0FBQUUsQ0FBQTtBQUMxQ0MsRUFBRSxDQUFDRSxnQkFBZ0IsQ0FBQyxPQUFPLENBQUM7QUFBQztBQUFBTCxjQUFBLEdBQUFFLENBQUE7QUFDN0JDLEVBQUUsQ0FBQ0UsZ0JBQWdCLENBQUMsYUFBYSxDQUFDO0FBQUM7QUFB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