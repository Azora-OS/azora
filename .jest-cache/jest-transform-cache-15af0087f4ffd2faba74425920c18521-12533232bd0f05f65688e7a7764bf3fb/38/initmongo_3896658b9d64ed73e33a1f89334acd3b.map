{"version":3,"names":["cov_17d3uv8s3y","actualCoverage","s","db","getSiblingDB","createCollection","creditapplications","createIndex","loans","trustscores","unique","repaymenttransactions","constitution","insertOne","article","name","parameters","metabolicTax","defaultPenalty","maxTermMonths","minTrustScore","observationPhaseDays","activated","activatedAt","Date","print"],"sources":["init-mongo.js"],"sourcesContent":["/*\nAZORA PROPRIETARY LICENSE\n\nCopyright Â© 2025 Azora ES (Pty) Ltd. All Rights Reserved.\n\nSee LICENSE file for details.\n*/\n\n// Initialize Azora Mint database with indexes and initial data\n\ndb = db.getSiblingDB('azora-mint');\n\n// Create collections\ndb.createCollection('creditapplications');\ndb.createCollection('loans');\ndb.createCollection('trustscores');\ndb.createCollection('repaymenttransactions');\n\n// Create indexes\ndb.creditapplications.createIndex({ \"userId\": 1 });\ndb.creditapplications.createIndex({ \"status\": 1 });\ndb.creditapplications.createIndex({ \"expiresAt\": 1 });\ndb.creditapplications.createIndex({ \"createdAt\": -1 });\n\ndb.loans.createIndex({ \"userId\": 1 });\ndb.loans.createIndex({ \"status\": 1 });\ndb.loans.createIndex({ \"dueDate\": 1 });\ndb.loans.createIndex({ \"disbursementDate\": -1 });\n\ndb.trustscores.createIndex({ \"userId\": 1 }, { unique: true });\ndb.trustscores.createIndex({ \"score\": -1 });\ndb.trustscores.createIndex({ \"nextUpdate\": 1 });\n\ndb.repaymenttransactions.createIndex({ \"loanId\": 1 });\ndb.repaymenttransactions.createIndex({ \"userId\": 1 });\ndb.repaymenttransactions.createIndex({ \"createdAt\": -1 });\n\n// Insert default constitution parameters\ndb.constitution.insertOne({\n  article: \"VIII.6\",\n  name: \"Neural Credit Protocol\",\n  parameters: {\n    metabolicTax: 0.20,\n    defaultPenalty: 0.15,\n    maxTermMonths: 3,\n    minTrustScore: 70,\n    observationPhaseDays: 30\n  },\n  activated: true,\n  activatedAt: new Date()\n});\n\nprint('Azora Mint database initialized successfully');"],"mappings":"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","ignoreList":[]}