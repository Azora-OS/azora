{"version":3,"names":["cov_b0c99mvsd","actualCoverage","PrismaClient","s","require","fs","path","prisma","personalitiesDir","join","__dirname","main","f","console","log","personalityFiles","readdirSync","filter","file","endsWith","personalityClass","personality","config","getConfig","familyMember","upsert","where","name","update","role","traits","background","relationships","temperature","create","catch","e","error","process","exit","finally","$disconnect"],"sources":["seed.js"],"sourcesContent":["const { PrismaClient } = require('@prisma/client');\nconst fs = require('fs');\nconst path = require('path');\n\nconst prisma = new PrismaClient();\nconst personalitiesDir = path.join(__dirname, '../personalities');\n\nasync function main() {\n  console.log('Seeding family members...');\n\n  const personalityFiles = fs.readdirSync(personalitiesDir).filter(file => file.endsWith('.js'));\n\n  for (const file of personalityFiles) {\n    const personalityClass = require(path.join(personalitiesDir, file));\n    const personality = new personalityClass();\n    const config = personality.getConfig();\n\n    await prisma.familyMember.upsert({\n      where: { name: config.name },\n      update: {\n        role: config.role,\n        traits: config.traits,\n        background: config.background,\n        relationships: config.relationships,\n        temperature: config.temperature,\n      },\n      create: {\n        name: config.name,\n        role: config.role,\n        traits: config.traits,\n        background: config.background,\n        relationships: config.relationships,\n        temperature: config.temperature,\n      },\n    });\n    console.log(`Seeded ${config.name}`);\n  }\n\n  console.log('Seeding complete.');\n}\n\nmain()\n  .catch(e => {\n    console.error(e);\n    process.exit(1);\n  })\n  .finally(async () => {\n    await prisma.$disconnect();\n  });\n"],"mappings":"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","ignoreList":[]}