{"version":3,"names":["cov_5rx8tp4q6","actualCoverage","express","s","require","compression","cors","helmet","app","PORT","b","process","env","use","json","limit","dataRoutes","get","req","res","f","status","service","timestamp","Date","toISOString","message","endpoints","error","next","console","listen","log","module","exports"],"sources":["server.js"],"sourcesContent":["const express = require('express');\nconst compression = require('compression');\nconst cors = require('cors');\nconst helmet = require('helmet');\n\nconst app = express();\nconst PORT = process.env.PORT || 3006;\n\n// Security middleware\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json({ limit: '10mb' }));\n\n// Import routes\nconst dataRoutes = require('./api/routes');\n\n// Routes\napp.use('/api/tamper-proof', dataRoutes);\n\n// Health check endpoint\napp.get('/api/health', (req, res) => {\n  res.json({\n    status: 'OK',\n    service: 'Tamper-Proof Data Service',\n    timestamp: new Date().toISOString()\n  });\n});\n\n// Root endpoint\napp.get('/', (req, res) => {\n  res.json({\n    message: 'Welcome to the Azora Tamper-Proof Data Service API',\n    endpoints: {\n      'POST /api/tamper-proof/data': 'Store tamper-proof data',\n      'GET /api/tamper-proof/data/:id': 'Retrieve tamper-proof data',\n      'PUT /api/tamper-proof/data/:id': 'Update tamper-proof data',\n      'DELETE /api/tamper-proof/data/:id': 'Delete tamper-proof data',\n      'GET /api/tamper-proof/data/user/:userId': 'List all data for a user',\n      'GET /api/tamper-proof/data/user/:userId/verify': 'Verify all data for a user',\n      'GET /api/tamper-proof/data/:id/audit-trail': 'Get audit trail for data',\n      'GET /api/health': 'Health check endpoint'\n    }\n  });\n});\n\n// 404 handler\napp.use((req, res) => {\n  res.status(404).json({ error: 'Endpoint not found' });\n});\n\n// Error handling middleware\napp.use((error, req, res, next) => {\n  console.error('Server error:', error);\n  res.status(500).json({ error: 'Internal server error' });\n});\n\n// Start server\napp.listen(PORT, () => {\n  console.log(`ðŸ”’ Tamper-Proof Data Service running on port ${PORT}`);\n  console.log(`ðŸ”— Health check: http://localhost:${PORT}/api/health`);\n  console.log(`ðŸ“š API docs: http://localhost:${PORT}`);\n});\n\nmodule.exports = app;\n"],"mappings":"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","ignoreList":[]}