{"version":3,"names":["cov_21s9wuxijm","actualCoverage","OpenAI","dotenv","s","config","ElaraContentGenerator","constructor","f","openai","apiKey","b","process","env","OPENAI_API_KEY","generateLesson","params","console","log","topic","getMockLesson","prompt","duration","course","module","level","response","chat","completions","create","model","messages","role","content","response_format","type","choices","message","JSON","parse","error","title","script","codeExamples","language","code","exercises","question","answer","quiz","options","correct","generateCourse","outline","lessons","modules","topics","lesson","push"],"sources":["lesson-generator.ts"],"sourcesContent":["import OpenAI from 'openai';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nexport class ElaraContentGenerator {\n    private openai: OpenAI;\n\n    constructor() {\n        this.openai = new OpenAI({\n            apiKey: process.env.OPENAI_API_KEY || 'sk-placeholder', // User needs to provide key\n        });\n    }\n\n    async generateLesson(params: {\n        course: string;\n        module: string;\n        topic: string;\n        duration: number;\n        level: string;\n    }) {\n        console.log(`Generating lesson for: ${params.topic}`);\n\n        // If no API key, return mock data\n        if (!process.env.OPENAI_API_KEY || process.env.OPENAI_API_KEY === 'sk-placeholder') {\n            console.log('Using mock generation (No API Key provided)');\n            return this.getMockLesson(params);\n        }\n\n        try {\n            const prompt = `\n        You are Elara, an expert educator creating a ${params.duration}-minute lesson.\n\n        Course: ${params.course}\n        Module: ${params.module}\n        Topic: ${params.topic}\n        Level: ${params.level}\n\n        Generate a comprehensive lesson including:\n        1. Introduction (hook the learner)\n        2. Main content (explain concepts clearly)\n        3. Code examples (practical, runnable)\n        4. Practice exercises (3-5 exercises)\n        5. Summary and next steps\n\n        Format as JSON with: title, script, codeExamples, exercises, quiz\n        `;\n\n            const response = await this.openai.chat.completions.create({\n                model: 'gpt-4-turbo',\n                messages: [{ role: 'user', content: prompt }],\n                response_format: { type: 'json_object' }\n            });\n\n            const content = response.choices[0].message.content;\n            return content ? JSON.parse(content) : null;\n        } catch (error) {\n            console.error('Error generating lesson:', error);\n            throw error;\n        }\n    }\n\n    private getMockLesson(params: any) {\n        return {\n            title: `Understanding ${params.topic}`,\n            script: `Welcome to this lesson on ${params.topic}. In this session, we will explore the fundamental concepts... [Mock Script Generated by Elara]`,\n            codeExamples: [\n                { language: 'python', code: `print(\"Hello, ${params.topic}!\")` }\n            ],\n            exercises: [\n                { question: \"What is the main concept?\", answer: \"To understand \" + params.topic }\n            ],\n            quiz: [\n                { question: \"True or False?\", options: [\"True\", \"False\"], correct: 0 }\n            ]\n        };\n    }\n\n    async generateCourse(outline: any) {\n        const lessons = [];\n\n        for (const module of outline.modules) {\n            for (const topic of module.topics) {\n                const lesson = await this.generateLesson({\n                    course: outline.title,\n                    module: module.title,\n                    topic: topic.title,\n                    duration: topic.duration,\n                    level: outline.level\n                });\n\n                lessons.push({\n                    module: module.title,\n                    topic: topic.title,\n                    content: lesson\n                });\n            }\n        }\n\n        return lessons;\n    }\n}\n"],"mappings":"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","ignoreList":[]}