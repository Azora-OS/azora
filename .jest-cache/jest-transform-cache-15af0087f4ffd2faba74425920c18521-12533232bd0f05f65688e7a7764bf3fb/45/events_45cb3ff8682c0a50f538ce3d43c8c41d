78faeba80da59ee2f9214f5696c5be15
/* istanbul ignore next */
function cov_1mdqtzm48b() {
  var path = "/workspaces/azora/services/azora-event-bus/src/schemas/events.ts";
  var hash = "7db09feffeec9af2ebbf8d64ed49f16c522c0047";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/azora-event-bus/src/schemas/events.ts",
    statementMap: {
      "0": {
        start: {
          line: 4,
          column: 31
        },
        end: {
          line: 10,
          column: 2
        }
      },
      "1": {
        start: {
          line: 13,
          column: 38
        },
        end: {
          line: 20,
          column: 2
        }
      },
      "2": {
        start: {
          line: 23,
          column: 41
        },
        end: {
          line: 30,
          column: 2
        }
      },
      "3": {
        start: {
          line: 33,
          column: 43
        },
        end: {
          line: 41,
          column: 2
        }
      },
      "4": {
        start: {
          line: 44,
          column: 38
        },
        end: {
          line: 51,
          column: 2
        }
      },
      "5": {
        start: {
          line: 54,
          column: 27
        },
        end: {
          line: 59,
          column: 2
        }
      }
    },
    fnMap: {},
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    f: {},
    b: {},
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7db09feffeec9af2ebbf8d64ed49f16c522c0047"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1mdqtzm48b = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1mdqtzm48b();
import { z } from 'zod';

// Base Event Schema
export const BaseEventSchema =
/* istanbul ignore next */
(cov_1mdqtzm48b().s[0]++, z.object({
  id: z.string().uuid(),
  type: z.string(),
  timestamp: z.string().datetime(),
  source: z.string(),
  version: z.string().default('1.0.0')
}));

// User Events
export const UserCreatedEventSchema =
/* istanbul ignore next */
(cov_1mdqtzm48b().s[1]++, BaseEventSchema.extend({
  type: z.literal('USER_CREATED'),
  payload: z.object({
    userId: z.string(),
    email: z.string().email(),
    role: z.enum(['student', 'instructor', 'admin'])
  })
}));

// Course Events
export const CourseEnrolledEventSchema =
/* istanbul ignore next */
(cov_1mdqtzm48b().s[2]++, BaseEventSchema.extend({
  type: z.literal('COURSE_ENROLLED'),
  payload: z.object({
    userId: z.string(),
    courseId: z.string(),
    enrolledAt: z.string().datetime()
  })
}));

// Payment Events
export const PaymentProcessedEventSchema =
/* istanbul ignore next */
(cov_1mdqtzm48b().s[3]++, BaseEventSchema.extend({
  type: z.literal('PAYMENT_PROCESSED'),
  payload: z.object({
    transactionId: z.string(),
    amount: z.number().positive(),
    currency: z.string(),
    status: z.enum(['success', 'failed'])
  })
}));

// Blockchain Events
export const TokenMintedEventSchema =
/* istanbul ignore next */
(cov_1mdqtzm48b().s[4]++, BaseEventSchema.extend({
  type: z.literal('TOKEN_MINTED'),
  payload: z.object({
    recipient: z.string(),
    amount: z.string(),
    // BigInt as string
    txHash: z.string()
  })
}));

// Union of all event schemas
export const EventSchema =
/* istanbul ignore next */
(cov_1mdqtzm48b().s[5]++, z.discriminatedUnion('type', [UserCreatedEventSchema, CourseEnrolledEventSchema, PaymentProcessedEventSchema, TokenMintedEventSchema]));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMW1kcXR6bTQ4YiIsImFjdHVhbENvdmVyYWdlIiwieiIsIkJhc2VFdmVudFNjaGVtYSIsInMiLCJvYmplY3QiLCJpZCIsInN0cmluZyIsInV1aWQiLCJ0eXBlIiwidGltZXN0YW1wIiwiZGF0ZXRpbWUiLCJzb3VyY2UiLCJ2ZXJzaW9uIiwiZGVmYXVsdCIsIlVzZXJDcmVhdGVkRXZlbnRTY2hlbWEiLCJleHRlbmQiLCJsaXRlcmFsIiwicGF5bG9hZCIsInVzZXJJZCIsImVtYWlsIiwicm9sZSIsImVudW0iLCJDb3Vyc2VFbnJvbGxlZEV2ZW50U2NoZW1hIiwiY291cnNlSWQiLCJlbnJvbGxlZEF0IiwiUGF5bWVudFByb2Nlc3NlZEV2ZW50U2NoZW1hIiwidHJhbnNhY3Rpb25JZCIsImFtb3VudCIsIm51bWJlciIsInBvc2l0aXZlIiwiY3VycmVuY3kiLCJzdGF0dXMiLCJUb2tlbk1pbnRlZEV2ZW50U2NoZW1hIiwicmVjaXBpZW50IiwidHhIYXNoIiwiRXZlbnRTY2hlbWEiLCJkaXNjcmltaW5hdGVkVW5pb24iXSwic291cmNlcyI6WyJldmVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbi8vIEJhc2UgRXZlbnQgU2NoZW1hXG5leHBvcnQgY29uc3QgQmFzZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGlkOiB6LnN0cmluZygpLnV1aWQoKSxcbiAgICB0eXBlOiB6LnN0cmluZygpLFxuICAgIHRpbWVzdGFtcDogei5zdHJpbmcoKS5kYXRldGltZSgpLFxuICAgIHNvdXJjZTogei5zdHJpbmcoKSxcbiAgICB2ZXJzaW9uOiB6LnN0cmluZygpLmRlZmF1bHQoJzEuMC4wJyksXG59KTtcblxuLy8gVXNlciBFdmVudHNcbmV4cG9ydCBjb25zdCBVc2VyQ3JlYXRlZEV2ZW50U2NoZW1hID0gQmFzZUV2ZW50U2NoZW1hLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdVU0VSX0NSRUFURUQnKSxcbiAgICBwYXlsb2FkOiB6Lm9iamVjdCh7XG4gICAgICAgIHVzZXJJZDogei5zdHJpbmcoKSxcbiAgICAgICAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoKSxcbiAgICAgICAgcm9sZTogei5lbnVtKFsnc3R1ZGVudCcsICdpbnN0cnVjdG9yJywgJ2FkbWluJ10pLFxuICAgIH0pLFxufSk7XG5cbi8vIENvdXJzZSBFdmVudHNcbmV4cG9ydCBjb25zdCBDb3Vyc2VFbnJvbGxlZEV2ZW50U2NoZW1hID0gQmFzZUV2ZW50U2NoZW1hLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdDT1VSU0VfRU5ST0xMRUQnKSxcbiAgICBwYXlsb2FkOiB6Lm9iamVjdCh7XG4gICAgICAgIHVzZXJJZDogei5zdHJpbmcoKSxcbiAgICAgICAgY291cnNlSWQ6IHouc3RyaW5nKCksXG4gICAgICAgIGVucm9sbGVkQXQ6IHouc3RyaW5nKCkuZGF0ZXRpbWUoKSxcbiAgICB9KSxcbn0pO1xuXG4vLyBQYXltZW50IEV2ZW50c1xuZXhwb3J0IGNvbnN0IFBheW1lbnRQcm9jZXNzZWRFdmVudFNjaGVtYSA9IEJhc2VFdmVudFNjaGVtYS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnUEFZTUVOVF9QUk9DRVNTRUQnKSxcbiAgICBwYXlsb2FkOiB6Lm9iamVjdCh7XG4gICAgICAgIHRyYW5zYWN0aW9uSWQ6IHouc3RyaW5nKCksXG4gICAgICAgIGFtb3VudDogei5udW1iZXIoKS5wb3NpdGl2ZSgpLFxuICAgICAgICBjdXJyZW5jeTogei5zdHJpbmcoKSxcbiAgICAgICAgc3RhdHVzOiB6LmVudW0oWydzdWNjZXNzJywgJ2ZhaWxlZCddKSxcbiAgICB9KSxcbn0pO1xuXG4vLyBCbG9ja2NoYWluIEV2ZW50c1xuZXhwb3J0IGNvbnN0IFRva2VuTWludGVkRXZlbnRTY2hlbWEgPSBCYXNlRXZlbnRTY2hlbWEuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ1RPS0VOX01JTlRFRCcpLFxuICAgIHBheWxvYWQ6IHoub2JqZWN0KHtcbiAgICAgICAgcmVjaXBpZW50OiB6LnN0cmluZygpLFxuICAgICAgICBhbW91bnQ6IHouc3RyaW5nKCksIC8vIEJpZ0ludCBhcyBzdHJpbmdcbiAgICAgICAgdHhIYXNoOiB6LnN0cmluZygpLFxuICAgIH0pLFxufSk7XG5cbi8vIFVuaW9uIG9mIGFsbCBldmVudCBzY2hlbWFzXG5leHBvcnQgY29uc3QgRXZlbnRTY2hlbWEgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBVc2VyQ3JlYXRlZEV2ZW50U2NoZW1hLFxuICAgIENvdXJzZUVucm9sbGVkRXZlbnRTY2hlbWEsXG4gICAgUGF5bWVudFByb2Nlc3NlZEV2ZW50U2NoZW1hLFxuICAgIFRva2VuTWludGVkRXZlbnRTY2hlbWEsXG5dKTtcblxuZXhwb3J0IHR5cGUgQXpvcmFFdmVudCA9IHouaW5mZXI8dHlwZW9mIEV2ZW50U2NoZW1hPjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWVZO0lBQUFBLGNBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGNBQUE7QUFmWixTQUFTRSxDQUFDLFFBQVEsS0FBSzs7QUFFdkI7QUFDQSxPQUFPLE1BQU1DLGVBQWU7QUFBQTtBQUFBLENBQUFILGNBQUEsR0FBQUksQ0FBQSxPQUFHRixDQUFDLENBQUNHLE1BQU0sQ0FBQztFQUNwQ0MsRUFBRSxFQUFFSixDQUFDLENBQUNLLE1BQU0sQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFDO0VBQ3JCQyxJQUFJLEVBQUVQLENBQUMsQ0FBQ0ssTUFBTSxDQUFDLENBQUM7RUFDaEJHLFNBQVMsRUFBRVIsQ0FBQyxDQUFDSyxNQUFNLENBQUMsQ0FBQyxDQUFDSSxRQUFRLENBQUMsQ0FBQztFQUNo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