{"version":3,"names":["cov_1mdqtzm48b","actualCoverage","z","BaseEventSchema","s","object","id","string","uuid","type","timestamp","datetime","source","version","default","UserCreatedEventSchema","extend","literal","payload","userId","email","role","enum","CourseEnrolledEventSchema","courseId","enrolledAt","PaymentProcessedEventSchema","transactionId","amount","number","positive","currency","status","TokenMintedEventSchema","recipient","txHash","EventSchema","discriminatedUnion"],"sources":["events.ts"],"sourcesContent":["import { z } from 'zod';\n\n// Base Event Schema\nexport const BaseEventSchema = z.object({\n    id: z.string().uuid(),\n    type: z.string(),\n    timestamp: z.string().datetime(),\n    source: z.string(),\n    version: z.string().default('1.0.0'),\n});\n\n// User Events\nexport const UserCreatedEventSchema = BaseEventSchema.extend({\n    type: z.literal('USER_CREATED'),\n    payload: z.object({\n        userId: z.string(),\n        email: z.string().email(),\n        role: z.enum(['student', 'instructor', 'admin']),\n    }),\n});\n\n// Course Events\nexport const CourseEnrolledEventSchema = BaseEventSchema.extend({\n    type: z.literal('COURSE_ENROLLED'),\n    payload: z.object({\n        userId: z.string(),\n        courseId: z.string(),\n        enrolledAt: z.string().datetime(),\n    }),\n});\n\n// Payment Events\nexport const PaymentProcessedEventSchema = BaseEventSchema.extend({\n    type: z.literal('PAYMENT_PROCESSED'),\n    payload: z.object({\n        transactionId: z.string(),\n        amount: z.number().positive(),\n        currency: z.string(),\n        status: z.enum(['success', 'failed']),\n    }),\n});\n\n// Blockchain Events\nexport const TokenMintedEventSchema = BaseEventSchema.extend({\n    type: z.literal('TOKEN_MINTED'),\n    payload: z.object({\n        recipient: z.string(),\n        amount: z.string(), // BigInt as string\n        txHash: z.string(),\n    }),\n});\n\n// Union of all event schemas\nexport const EventSchema = z.discriminatedUnion('type', [\n    UserCreatedEventSchema,\n    CourseEnrolledEventSchema,\n    PaymentProcessedEventSchema,\n    TokenMintedEventSchema,\n]);\n\nexport type AzoraEvent = z.infer<typeof EventSchema>;\n"],"mappings":"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","ignoreList":[]}