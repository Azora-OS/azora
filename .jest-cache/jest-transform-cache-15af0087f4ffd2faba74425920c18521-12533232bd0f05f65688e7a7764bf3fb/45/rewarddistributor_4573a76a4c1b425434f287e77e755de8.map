{"version":3,"names":["cov_1yryq6a1he","actualCoverage","RewardDistributor","calculateReward","issue","f","baseReward","s","estimatedComplexity","b","priority","labels","includes","amount","Math","round","recipient","author","reason","title","distribute","reward","console","log","txHash","random","toString","substr"],"sources":["reward-distributor.ts"],"sourcesContent":["/**\n * Reward Distributor\n * Calculates and distributes AZR tokens for completed tasks\n */\n\nimport { ParsedIssue } from './issue-parser';\n\nexport interface Reward {\n  amount: number;\n  recipient: string;\n  reason: string;\n  txHash?: string;\n}\n\nexport class RewardDistributor {\n  /**\n   * Calculate reward for completing an issue\n   */\n  calculateReward(issue: ParsedIssue): Reward {\n    let baseReward = 10; // Base AZR per issue\n\n    // Adjust for complexity\n    switch (issue.estimatedComplexity) {\n      case 'simple':\n        baseReward = 5;\n        break;\n      case 'moderate':\n        baseReward = 10;\n        break;\n      case 'complex':\n        baseReward = 25;\n        break;\n      case 'expert':\n        baseReward = 50;\n        break;\n    }\n\n    // Bonus for priority\n    if (issue.priority === 'critical') baseReward *= 2;\n    if (issue.priority === 'high') baseReward *= 1.5;\n\n    // Bonus for security/ethics issues\n    if (issue.labels.includes('security') || issue.labels.includes('ethics')) {\n      baseReward *= 1.2;\n    }\n\n    return {\n      amount: Math.round(baseReward),\n      recipient: issue.author,\n      reason: `Completed issue: ${issue.title}`\n    };\n  }\n\n  /**\n   * Distribute rewards to recipient (stub)\n   */\n  async distribute(reward: Reward): Promise<Reward> {\n    // TODO: Call blockchain service to mint AZR tokens\n    // TODO: Transfer to recipient wallet\n    // TODO: Log to audit trail\n\n    console.log(`âœ… Distributed ${reward.amount} AZR to ${reward.recipient}`);\n\n    return {\n      ...reward,\n      txHash: '0x' + Math.random().toString(16).substr(2)\n    };\n  }\n}\n"],"mappings":"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","ignoreList":[]}