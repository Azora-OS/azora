{"version":3,"names":["cov_2na0olalc8","actualCoverage","OpenAIClient","AITutor","constructor","client","f","s","b","answerQuestion","question","context","messages","role","content","buildSystemPrompt","chat","temperature","maxTokens","explainConcept","concept","level","generateExercises","topic","difficulty","provideFeedback","answer","correctAnswer","subject","filter","Boolean","join"],"sources":["ai-tutor.ts"],"sourcesContent":["/*\nAZORA PROPRIETARY LICENSE\nCopyright Â© 2025 Azora ES (Pty) Ltd. All Rights Reserved.\n\nAzora Sapiens - AI Tutor\nLightweight, production-ready wrapper that uses the shared OpenAI client.\n*/\n\nimport { OpenAIClient, ChatMessage } from '@azora/shared-ai';\n\nexport class AITutor {\n  private client: OpenAIClient;\n\n  constructor(client?: OpenAIClient) {\n    this.client = client ?? new OpenAIClient();\n  }\n\n  async answerQuestion(question: string, context?: { subject?: string; level?: string; userId?: string }): Promise<string> {\n    const messages: ChatMessage[] = [\n      { role: 'system', content: this.buildSystemPrompt(context) },\n      { role: 'user', content: `Question: ${question}` },\n    ];\n    return this.client.chat(messages, { temperature: 0.4, maxTokens: 700 });\n  }\n\n  async explainConcept(concept: string, level: 'beginner' | 'intermediate' | 'advanced' = 'beginner'): Promise<string> {\n    const messages: ChatMessage[] = [\n      { role: 'system', content: `You are a world-class teacher. Explain concepts clearly for a ${level} learner. Use simple language and examples.` },\n      { role: 'user', content: `Explain the concept: ${concept}` },\n    ];\n    return this.client.chat(messages, { temperature: 0.5, maxTokens: 800 });\n  }\n\n  async generateExercises(topic: string, difficulty: 'easy' | 'medium' | 'hard' = 'easy'): Promise<string> {\n    const messages: ChatMessage[] = [\n      { role: 'system', content: 'You create high-quality practice exercises with answers. Provide JSON with fields: questions (array), answers (array), tips (array).' },\n      { role: 'user', content: `Create ${difficulty} exercises for topic: ${topic}` },\n    ];\n    return this.client.chat(messages, { temperature: 0.7, maxTokens: 900 });\n  }\n\n  async provideFeedback(answer: string, correctAnswer: string): Promise<string> {\n    const messages: ChatMessage[] = [\n      { role: 'system', content: 'You are a constructive tutor. Compare student answer with the correct answer. Provide: assessment (short), mistakes (bulleted), improvement (bulleted). Be encouraging.' },\n      { role: 'user', content: `Student answer: ${answer}\\nCorrect answer: ${correctAnswer}` },\n    ];\n    return this.client.chat(messages, { temperature: 0.3, maxTokens: 600 });\n  }\n\n  private buildSystemPrompt(context?: { subject?: string; level?: string; userId?: string }): string {\n    const subject = context?.subject ? `Subject: ${context.subject}.` : '';\n    const level = context?.level ? `Level: ${context.level}.` : '';\n    return [\n      'You are Azora Sapiens, a helpful AI tutor focused on clarity, accuracy, and pedagogy.',\n      'Keep answers structured, cite key steps, and suggest next learning actions.',\n      subject,\n      level,\n    ].filter(Boolean).join(' ');\n  }\n}\n\nexport default AITutor;\n"],"mappings":"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","ignoreList":[]}