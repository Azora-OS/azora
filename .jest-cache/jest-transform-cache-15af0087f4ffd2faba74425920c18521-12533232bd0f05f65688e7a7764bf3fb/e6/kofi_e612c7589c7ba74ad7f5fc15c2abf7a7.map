{"version":3,"names":["cov_1tq6gmyt9s","actualCoverage","KofiIntelligence","constructor","searchEngine","f","s","analyzeBusinessFinancials","businessType","initialCapital","projectedCustomers","searchQuery","sources","hybridSearch","topK","revenuePerCustomer","estimateRevenuePerCustomer","projectedRevenue","projectedExpenses","estimateExpenses","projectedProfit","breakEvenPoint","calculateBreakEvenPoint","roi","calculateROI","paybackPeriod","calculatePaybackPeriod","slice","error","console","findFundingOpportunities","requiredAmount","location","locationQuery","b","opportunities","push","name","type","amount","terms","eligibility","source","url","interestRate","filter","opp","analyzeFinancialOpportunity","financialAnalysis","fundingOpportunities","recommendations","generateFinancialRecommendations","confidence","calculateConfidence","estimates","toLowerCase","baseExpenses","expenses","Math","ceil","profit","investment","monthlyProfit","months","years","floor","remainingMonths","analysis","length"],"sources":["kofi.ts"],"sourcesContent":["import SearchEngine from '../search-engine';\nimport { SearchResultWithContent } from '../search-engine';\n\nexport interface FinancialAnalysis {\n  businessType: string;\n  projectedRevenue: number;\n  projectedExpenses: number;\n  projectedProfit: number;\n  breakEvenPoint: number;\n  roi: number;\n  paybackPeriod: string;\n  sources: SearchResultWithContent[];\n}\n\nexport interface FundingOpportunity {\n  name: string;\n  type: 'grant' | 'loan' | 'investment' | 'crowdfunding';\n  amount: number;\n  interestRate?: number;\n  terms: string;\n  eligibility: string[];\n  source: string;\n  url: string;\n}\n\nexport interface KofiResponse {\n  financialAnalysis: FinancialAnalysis;\n  fundingOpportunities: FundingOpportunity[];\n  recommendations: string[];\n  confidence: number;\n}\n\nexport class KofiIntelligence {\n  private searchEngine: SearchEngine;\n\n  constructor(searchEngine: SearchEngine) {\n    this.searchEngine = searchEngine;\n  }\n\n  /**\n   * Analyze business financials\n   */\n  async analyzeBusinessFinancials(\n    businessType: string,\n    initialCapital: number,\n    projectedCustomers: number\n  ): Promise<FinancialAnalysis> {\n    try {\n      const searchQuery = `${businessType} business financials revenue expenses profitability`;\n      const sources = await this.searchEngine.hybridSearch(searchQuery, {\n        topK: 10,\n      });\n\n      const revenuePerCustomer = this.estimateRevenuePerCustomer(businessType);\n      const projectedRevenue = projectedCustomers * revenuePerCustomer;\n      const projectedExpenses = this.estimateExpenses(businessType, initialCapital);\n      const projectedProfit = projectedRevenue - projectedExpenses;\n\n      return {\n        businessType,\n        projectedRevenue,\n        projectedExpenses,\n        projectedProfit,\n        breakEvenPoint: this.calculateBreakEvenPoint(projectedExpenses, revenuePerCustomer),\n        roi: this.calculateROI(projectedProfit, initialCapital),\n        paybackPeriod: this.calculatePaybackPeriod(initialCapital, projectedProfit),\n        sources: sources.slice(0, 5),\n      };\n    } catch (error) {\n      console.error('Error analyzing business financials:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Find funding opportunities\n   */\n  async findFundingOpportunities(\n    businessType: string,\n    requiredAmount: number,\n    location?: string\n  ): Promise<FundingOpportunity[]> {\n    try {\n      const locationQuery = location ? ` in ${location}` : '';\n      const searchQuery = `funding opportunities ${businessType} grants loans investment${locationQuery}`;\n\n      const sources = await this.searchEngine.hybridSearch(searchQuery, {\n        topK: 15,\n      });\n\n      const opportunities: FundingOpportunity[] = [];\n\n      // Generate funding opportunities\n      opportunities.push({\n        name: 'Government Small Business Grant',\n        type: 'grant',\n        amount: 100000,\n        terms: 'Non-repayable grant for qualifying businesses',\n        eligibility: ['South African citizen', 'Business plan required', 'Less than 5 years old'],\n        source: 'Department of Trade and Industry',\n        url: 'https://www.thedti.gov.za',\n      });\n\n      opportunities.push({\n        name: 'Commercial Bank Loan',\n        type: 'loan',\n        amount: 500000,\n        interestRate: 0.08,\n        terms: '5-year repayment period',\n        eligibility: ['Business registration', 'Financial statements', 'Collateral required'],\n        source: 'Commercial Banks',\n        url: 'https://www.banking.org.za',\n      });\n\n      opportunities.push({\n        name: 'Venture Capital Investment',\n        type: 'investment',\n        amount: 1000000,\n        terms: 'Equity stake in business',\n        eligibility: ['Scalable business model', 'Strong team', 'Growth potential'],\n        source: 'Venture Capital Firms',\n        url: 'https://www.vcsa.co.za',\n      });\n\n      opportunities.push({\n        name: 'Crowdfunding Campaign',\n        type: 'crowdfunding',\n        amount: 250000,\n        terms: 'Rewards or equity-based crowdfunding',\n        eligibility: ['Compelling business story', 'Marketing capability', 'Community support'],\n        source: 'Crowdfunding Platforms',\n        url: 'https://www.thundafund.com',\n      });\n\n      return opportunities.filter((opp) => opp.amount >= requiredAmount * 0.5);\n    } catch (error) {\n      console.error('Error finding funding opportunities:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Comprehensive financial analysis\n   */\n  async analyzeFinancialOpportunity(\n    businessType: string,\n    initialCapital: number,\n    projectedCustomers: number,\n    location?: string\n  ): Promise<KofiResponse> {\n    try {\n      const financialAnalysis = await this.analyzeBusinessFinancials(\n        businessType,\n        initialCapital,\n        projectedCustomers\n      );\n\n      const fundingOpportunities = await this.findFundingOpportunities(\n        businessType,\n        initialCapital,\n        location\n      );\n\n      const searchQuery = `${businessType} financial benchmarks industry standards`;\n      const sources = await this.searchEngine.hybridSearch(searchQuery, {\n        topK: 10,\n      });\n\n      const recommendations = this.generateFinancialRecommendations(\n        financialAnalysis,\n        fundingOpportunities\n      );\n\n      return {\n        financialAnalysis,\n        fundingOpportunities,\n        recommendations,\n        confidence: this.calculateConfidence(sources),\n      };\n    } catch (error) {\n      console.error('Error analyzing financial opportunity:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Estimate revenue per customer\n   */\n  private estimateRevenuePerCustomer(businessType: string): number {\n    const estimates: Record<string, number> = {\n      'e-commerce': 500,\n      'saas': 1000,\n      'consulting': 5000,\n      'retail': 200,\n      'services': 1500,\n      'education': 2000,\n    };\n\n    return estimates[businessType.toLowerCase()] || 1000;\n  }\n\n  /**\n   * Estimate business expenses\n   */\n  private estimateExpenses(businessType: string, initialCapital: number): number {\n    // Simplified: assume 60% of revenue goes to expenses\n    const revenuePerCustomer = this.estimateRevenuePerCustomer(businessType);\n    const baseExpenses = initialCapital * 0.3; // 30% of initial capital for fixed costs\n    return baseExpenses;\n  }\n\n  /**\n   * Calculate break-even point\n   */\n  private calculateBreakEvenPoint(expenses: number, revenuePerCustomer: number): number {\n    return Math.ceil(expenses / revenuePerCustomer);\n  }\n\n  /**\n   * Calculate ROI\n   */\n  private calculateROI(profit: number, investment: number): number {\n    return (profit / investment) * 100;\n  }\n\n  /**\n   * Calculate payback period\n   */\n  private calculatePaybackPeriod(investment: number, monthlyProfit: number): string {\n    if (monthlyProfit <= 0) {return 'Not profitable';}\n    const months = Math.ceil(investment / monthlyProfit);\n    const years = Math.floor(months / 12);\n    const remainingMonths = months % 12;\n    return `${years} years ${remainingMonths} months`;\n  }\n\n  /**\n   * Generate financial recommendations\n   */\n  private generateFinancialRecommendations(\n    analysis: FinancialAnalysis,\n    opportunities: FundingOpportunity[]\n  ): string[] {\n    const recommendations: string[] = [];\n\n    if (analysis.roi > 50) {\n      recommendations.push('Excellent ROI potential - consider scaling up');\n    } else if (analysis.roi > 20) {\n      recommendations.push('Good ROI - proceed with caution and monitor closely');\n    } else {\n      recommendations.push('Low ROI - consider revising business model');\n    }\n\n    if (opportunities.length > 0) {\n      recommendations.push(`${opportunities.length} funding options available`);\n    }\n\n    recommendations.push('Maintain detailed financial records');\n    recommendations.push('Plan for contingencies and market changes');\n    recommendations.push('Review financial projections quarterly');\n\n    return recommendations;\n  }\n\n  /**\n   * Calculate confidence score\n   */\n  private calculateConfidence(sources: SearchResultWithContent[]): number {\n    if (sources.length === 0) {return 0.3;}\n    if (sources.length < 3) {return 0.6;}\n    if (sources.length < 5) {return 0.8;}\n    return 0.95;\n  }\n}\n\nexport default KofiIntelligence;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}