27d0bfccba0b1f8985399aa65760896a
/* istanbul ignore next */
function cov_1tq6gmyt9s() {
  var path = "/workspaces/azora/services/azora-sapiens/src/intelligence/kofi.ts";
  var hash = "15ded0d912a84707db1f4946ea2652989a3e97e6";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/azora-sapiens/src/intelligence/kofi.ts",
    statementMap: {
      "0": {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 37,
          column: 37
        }
      },
      "1": {
        start: {
          line: 48,
          column: 4
        },
        end: {
          line: 72,
          column: 5
        }
      },
      "2": {
        start: {
          line: 49,
          column: 26
        },
        end: {
          line: 49,
          column: 94
        }
      },
      "3": {
        start: {
          line: 50,
          column: 22
        },
        end: {
          line: 52,
          column: 8
        }
      },
      "4": {
        start: {
          line: 54,
          column: 33
        },
        end: {
          line: 54,
          column: 78
        }
      },
      "5": {
        start: {
          line: 55,
          column: 31
        },
        end: {
          line: 55,
          column: 70
        }
      },
      "6": {
        start: {
          line: 56,
          column: 32
        },
        end: {
          line: 56,
          column: 83
        }
      },
      "7": {
        start: {
          line: 57,
          column: 30
        },
        end: {
          line: 57,
          column: 66
        }
      },
      "8": {
        start: {
          line: 59,
          column: 6
        },
        end: {
          line: 68,
          column: 8
        }
      },
      "9": {
        start: {
          line: 70,
          column: 6
        },
        end: {
          line: 70,
          column: 67
        }
      },
      "10": {
        start: {
          line: 71,
          column: 6
        },
        end: {
          line: 71,
          column: 18
        }
      },
      "11": {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 139,
          column: 5
        }
      },
      "12": {
        start: {
          line: 84,
          column: 28
        },
        end: {
          line: 84,
          column: 61
        }
      },
      "13": {
        start: {
          line: 85,
          column: 26
        },
        end: {
          line: 85,
          column: 105
        }
      },
      "14": {
        start: {
          line: 87,
          column: 22
        },
        end: {
          line: 89,
          column: 8
        }
      },
      "15": {
        start: {
          line: 91,
          column: 50
        },
        end: {
          line: 91,
          column: 52
        }
      },
      "16": {
        start: {
          line: 94,
          column: 6
        },
        end: {
          line: 102,
          column: 9
        }
      },
      "17": {
        start: {
          line: 104,
          column: 6
        },
        end: {
          line: 113,
          column: 9
        }
      },
      "18": {
        start: {
          line: 115,
          column: 6
        },
        end: {
          line: 123,
          column: 9
        }
      },
      "19": {
        start: {
          line: 125,
          column: 6
        },
        end: {
          line: 133,
          column: 9
        }
      },
      "20": {
        start: {
          line: 135,
          column: 6
        },
        end: {
          line: 135,
          column: 79
        }
      },
      "21": {
        start: {
          line: 135,
          column: 43
        },
        end: {
          line: 135,
          column: 77
        }
      },
      "22": {
        start: {
          line: 137,
          column: 6
        },
        end: {
          line: 137,
          column: 67
        }
      },
      "23": {
        start: {
          line: 138,
          column: 6
        },
        end: {
          line: 138,
          column: 18
        }
      },
      "24": {
        start: {
          line: 151,
          column: 4
        },
        end: {
          line: 183,
          column: 5
        }
      },
      "25": {
        start: {
          line: 152,
          column: 32
        },
        end: {
          line: 156,
          column: 7
        }
      },
      "26": {
        start: {
          line: 158,
          column: 35
        },
        end: {
          line: 162,
          column: 7
        }
      },
      "27": {
        start: {
          line: 164,
          column: 26
        },
        end: {
          line: 164,
          column: 83
        }
      },
      "28": {
        start: {
          line: 165,
          column: 22
        },
        end: {
          line: 167,
          column: 8
        }
      },
      "29": {
        start: {
          line: 169,
          column: 30
        },
        end: {
          line: 172,
          column: 7
        }
      },
      "30": {
        start: {
          line: 174,
          column: 6
        },
        end: {
          line: 179,
          column: 8
        }
      },
      "31": {
        start: {
          line: 181,
          column: 6
        },
        end: {
          line: 181,
          column: 69
        }
      },
      "32": {
        start: {
          line: 182,
          column: 6
        },
        end: {
          line: 182,
          column: 18
        }
      },
      "33": {
        start: {
          line: 190,
          column: 46
        },
        end: {
          line: 197,
          column: 5
        }
      },
      "34": {
        start: {
          line: 199,
          column: 4
        },
        end: {
          line: 199,
          column: 57
        }
      },
      "35": {
        start: {
          line: 207,
          column: 31
        },
        end: {
          line: 207,
          column: 76
        }
      },
      "36": {
        start: {
          line: 208,
          column: 25
        },
        end: {
          line: 208,
          column: 45
        }
      },
      "37": {
        start: {
          line: 209,
          column: 4
        },
        end: {
          line: 209,
          column: 24
        }
      },
      "38": {
        start: {
          line: 216,
          column: 4
        },
        end: {
          line: 216,
          column: 52
        }
      },
      "39": {
        start: {
          line: 223,
          column: 4
        },
        end: {
          line: 223,
          column: 39
        }
      },
      "40": {
        start: {
          line: 230,
          column: 4
        },
        end: {
          line: 230,
          column: 54
        }
      },
      "41": {
        start: {
          line: 230,
          column: 29
        },
        end: {
          line: 230,
          column: 53
        }
      },
      "42": {
        start: {
          line: 231,
          column: 19
        },
        end: {
          line: 231,
          column: 56
        }
      },
      "43": {
        start: {
          line: 232,
          column: 18
        },
        end: {
          line: 232,
          column: 41
        }
      },
      "44": {
        start: {
          line: 233,
          column: 28
        },
        end: {
          line: 233,
          column: 39
        }
      },
      "45": {
        start: {
          line: 234,
          column: 4
        },
        end: {
          line: 234,
          column: 54
        }
      },
      "46": {
        start: {
          line: 244,
          column: 38
        },
        end: {
          line: 244,
          column: 40
        }
      },
      "47": {
        start: {
          line: 246,
          column: 4
        },
        end: {
          line: 252,
          column: 5
        }
      },
      "48": {
        start: {
          line: 247,
          column: 6
        },
        end: {
          line: 247,
          column: 76
        }
      },
      "49": {
        start: {
          line: 248,
          column: 11
        },
        end: {
          line: 252,
          column: 5
        }
      },
      "50": {
        start: {
          line: 249,
          column: 6
        },
        end: {
          line: 249,
          column: 82
        }
      },
      "51": {
        start: {
          line: 251,
          column: 6
        },
        end: {
          line: 251,
          column: 73
        }
      },
      "52": {
        start: {
          line: 254,
          column: 4
        },
        end: {
          line: 256,
          column: 5
        }
      },
      "53": {
        start: {
          line: 255,
          column: 6
        },
        end: {
          line: 255,
          column: 80
        }
      },
      "54": {
        start: {
          line: 258,
          column: 4
        },
        end: {
          line: 258,
          column: 64
        }
      },
      "55": {
        start: {
          line: 259,
          column: 4
        },
        end: {
          line: 259,
          column: 70
        }
      },
      "56": {
        start: {
          line: 260,
          column: 4
        },
        end: {
          line: 260,
          column: 67
        }
      },
      "57": {
        start: {
          line: 262,
          column: 4
        },
        end: {
          line: 262,
          column: 27
        }
      },
      "58": {
        start: {
          line: 269,
          column: 4
        },
        end: {
          line: 269,
          column: 43
        }
      },
      "59": {
        start: {
          line: 269,
          column: 31
        },
        end: {
          line: 269,
          column: 42
        }
      },
      "60": {
        start: {
          line: 270,
          column: 4
        },
        end: {
          line: 270,
          column: 41
        }
      },
      "61": {
        start: {
          line: 270,
          column: 29
        },
        end: {
          line: 270,
          column: 40
        }
      },
      "62": {
        start: {
          line: 271,
          column: 4
        },
        end: {
          line: 271,
          column: 41
        }
      },
      "63": {
        start: {
          line: 271,
          column: 29
        },
        end: {
          line: 271,
          column: 40
        }
      },
      "64": {
        start: {
          line: 272,
          column: 4
        },
        end: {
          line: 272,
          column: 16
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 36,
            column: 2
          },
          end: {
            line: 36,
            column: 3
          }
        },
        loc: {
          start: {
            line: 36,
            column: 42
          },
          end: {
            line: 38,
            column: 3
          }
        },
        line: 36
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 43,
            column: 2
          },
          end: {
            line: 43,
            column: 3
          }
        },
        loc: {
          start: {
            line: 47,
            column: 32
          },
          end: {
            line: 73,
            column: 3
          }
        },
        line: 47
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 78,
            column: 2
          },
          end: {
            line: 78,
            column: 3
          }
        },
        loc: {
          start: {
            line: 82,
            column: 35
          },
          end: {
            line: 140,
            column: 3
          }
        },
        line: 82
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 135,
            column: 34
          },
          end: {
            line: 135,
            column: 35
          }
        },
        loc: {
          start: {
            line: 135,
            column: 43
          },
          end: {
            line: 135,
            column: 77
          }
        },
        line: 135
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 145,
            column: 2
          },
          end: {
            line: 145,
            column: 3
          }
        },
        loc: {
          start: {
            line: 150,
            column: 27
          },
          end: {
            line: 184,
            column: 3
          }
        },
        line: 150
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 189,
            column: 2
          },
          end: {
            line: 189,
            column: 3
          }
        },
        loc: {
          start: {
            line: 189,
            column: 67
          },
          end: {
            line: 200,
            column: 3
          }
        },
        line: 189
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 205,
            column: 2
          },
          end: {
            line: 205,
            column: 3
          }
        },
        loc: {
          start: {
            line: 205,
            column: 81
          },
          end: {
            line: 210,
            column: 3
          }
        },
        line: 205
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 215,
            column: 2
          },
          end: {
            line: 215,
            column: 3
          }
        },
        loc: {
          start: {
            line: 215,
            column: 88
          },
          end: {
            line: 217,
            column: 3
          }
        },
        line: 215
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 222,
            column: 2
          },
          end: {
            line: 222,
            column: 3
          }
        },
        loc: {
          start: {
            line: 222,
            column: 67
          },
          end: {
            line: 224,
            column: 3
          }
        },
        line: 222
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 229,
            column: 2
          },
          end: {
            line: 229,
            column: 3
          }
        },
        loc: {
          start: {
            line: 229,
            column: 84
          },
          end: {
            line: 235,
            column: 3
          }
        },
        line: 229
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 240,
            column: 2
          },
          end: {
            line: 240,
            column: 3
          }
        },
        loc: {
          start: {
            line: 243,
            column: 14
          },
          end: {
            line: 263,
            column: 3
          }
        },
        line: 243
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 268,
            column: 2
          },
          end: {
            line: 268,
            column: 3
          }
        },
        loc: {
          start: {
            line: 268,
            column: 74
          },
          end: {
            line: 273,
            column: 3
          }
        },
        line: 268
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 84,
            column: 28
          },
          end: {
            line: 84,
            column: 61
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 84,
            column: 39
          },
          end: {
            line: 84,
            column: 56
          }
        }, {
          start: {
            line: 84,
            column: 59
          },
          end: {
            line: 84,
            column: 61
          }
        }],
        line: 84
      },
      "1": {
        loc: {
          start: {
            line: 199,
            column: 11
          },
          end: {
            line: 199,
            column: 56
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 199,
            column: 11
          },
          end: {
            line: 199,
            column: 48
          }
        }, {
          start: {
            line: 199,
            column: 52
          },
          end: {
            line: 199,
            column: 56
          }
        }],
        line: 199
      },
      "2": {
        loc: {
          start: {
            line: 230,
            column: 4
          },
          end: {
            line: 230,
            column: 54
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 230,
            column: 4
          },
          end: {
            line: 230,
            column: 54
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 230
      },
      "3": {
        loc: {
          start: {
            line: 246,
            column: 4
          },
          end: {
            line: 252,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 246,
            column: 4
          },
          end: {
            line: 252,
            column: 5
          }
        }, {
          start: {
            line: 248,
            column: 11
          },
          end: {
            line: 252,
            column: 5
          }
        }],
        line: 246
      },
      "4": {
        loc: {
          start: {
            line: 248,
            column: 11
          },
          end: {
            line: 252,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 248,
            column: 11
          },
          end: {
            line: 252,
            column: 5
          }
        }, {
          start: {
            line: 250,
            column: 11
          },
          end: {
            line: 252,
            column: 5
          }
        }],
        line: 248
      },
      "5": {
        loc: {
          start: {
            line: 254,
            column: 4
          },
          end: {
            line: 256,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 254,
            column: 4
          },
          end: {
            line: 256,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 254
      },
      "6": {
        loc: {
          start: {
            line: 269,
            column: 4
          },
          end: {
            line: 269,
            column: 43
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 269,
            column: 4
          },
          end: {
            line: 269,
            column: 43
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 269
      },
      "7": {
        loc: {
          start: {
            line: 270,
            column: 4
          },
          end: {
            line: 270,
            column: 41
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 270,
            column: 4
          },
          end: {
            line: 270,
            column: 41
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 270
      },
      "8": {
        loc: {
          start: {
            line: 271,
            column: 4
          },
          end: {
            line: 271,
            column: 41
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 271,
            column: 4
          },
          end: {
            line: 271,
            column: 41
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 271
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "15ded0d912a84707db1f4946ea2652989a3e97e6"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1tq6gmyt9s = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1tq6gmyt9s();
export class KofiIntelligence {
  constructor(searchEngine) {
    /* istanbul ignore next */
    cov_1tq6gmyt9s().f[0]++;
    cov_1tq6gmyt9s().s[0]++;
    this.searchEngine = searchEngine;
  }

  /**
   * Analyze business financials
   */
  async analyzeBusinessFinancials(businessType, initialCapital, projectedCustomers) {
    /* istanbul ignore next */
    cov_1tq6gmyt9s().f[1]++;
    cov_1tq6gmyt9s().s[1]++;
    try {
      const searchQuery =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[2]++, `${businessType} business financials revenue expenses profitability`);
      const sources =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[3]++, await this.searchEngine.hybridSearch(searchQuery, {
        topK: 10
      }));
      const revenuePerCustomer =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[4]++, this.estimateRevenuePerCustomer(businessType));
      const projectedRevenue =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[5]++, projectedCustomers * revenuePerCustomer);
      const projectedExpenses =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[6]++, this.estimateExpenses(businessType, initialCapital));
      const projectedProfit =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[7]++, projectedRevenue - projectedExpenses);
      /* istanbul ignore next */
      cov_1tq6gmyt9s().s[8]++;
      return {
        businessType,
        projectedRevenue,
        projectedExpenses,
        projectedProfit,
        breakEvenPoint: this.calculateBreakEvenPoint(projectedExpenses, revenuePerCustomer),
        roi: this.calculateROI(projectedProfit, initialCapital),
        paybackPeriod: this.calculatePaybackPeriod(initialCapital, projectedProfit),
        sources: sources.slice(0, 5)
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_1tq6gmyt9s().s[9]++;
      console.error('Error analyzing business financials:', error);
      /* istanbul ignore next */
      cov_1tq6gmyt9s().s[10]++;
      throw error;
    }
  }

  /**
   * Find funding opportunities
   */
  async findFundingOpportunities(businessType, requiredAmount, location) {
    /* istanbul ignore next */
    cov_1tq6gmyt9s().f[2]++;
    cov_1tq6gmyt9s().s[11]++;
    try {
      const locationQuery =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[12]++, location ?
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().b[0][0]++, ` in ${location}`) :
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().b[0][1]++, ''));
      const searchQuery =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[13]++, `funding opportunities ${businessType} grants loans investment${locationQuery}`);
      const sources =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[14]++, await this.searchEngine.hybridSearch(searchQuery, {
        topK: 15
      }));
      const opportunities =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[15]++, []);

      // Generate funding opportunities
      /* istanbul ignore next */
      cov_1tq6gmyt9s().s[16]++;
      opportunities.push({
        name: 'Government Small Business Grant',
        type: 'grant',
        amount: 100000,
        terms: 'Non-repayable grant for qualifying businesses',
        eligibility: ['South African citizen', 'Business plan required', 'Less than 5 years old'],
        source: 'Department of Trade and Industry',
        url: 'https://www.thedti.gov.za'
      });
      /* istanbul ignore next */
      cov_1tq6gmyt9s().s[17]++;
      opportunities.push({
        name: 'Commercial Bank Loan',
        type: 'loan',
        amount: 500000,
        interestRate: 0.08,
        terms: '5-year repayment period',
        eligibility: ['Business registration', 'Financial statements', 'Collateral required'],
        source: 'Commercial Banks',
        url: 'https://www.banking.org.za'
      });
      /* istanbul ignore next */
      cov_1tq6gmyt9s().s[18]++;
      opportunities.push({
        name: 'Venture Capital Investment',
        type: 'investment',
        amount: 1000000,
        terms: 'Equity stake in business',
        eligibility: ['Scalable business model', 'Strong team', 'Growth potential'],
        source: 'Venture Capital Firms',
        url: 'https://www.vcsa.co.za'
      });
      /* istanbul ignore next */
      cov_1tq6gmyt9s().s[19]++;
      opportunities.push({
        name: 'Crowdfunding Campaign',
        type: 'crowdfunding',
        amount: 250000,
        terms: 'Rewards or equity-based crowdfunding',
        eligibility: ['Compelling business story', 'Marketing capability', 'Community support'],
        source: 'Crowdfunding Platforms',
        url: 'https://www.thundafund.com'
      });
      /* istanbul ignore next */
      cov_1tq6gmyt9s().s[20]++;
      return opportunities.filter(opp => {
        /* istanbul ignore next */
        cov_1tq6gmyt9s().f[3]++;
        cov_1tq6gmyt9s().s[21]++;
        return opp.amount >= requiredAmount * 0.5;
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_1tq6gmyt9s().s[22]++;
      console.error('Error finding funding opportunities:', error);
      /* istanbul ignore next */
      cov_1tq6gmyt9s().s[23]++;
      throw error;
    }
  }

  /**
   * Comprehensive financial analysis
   */
  async analyzeFinancialOpportunity(businessType, initialCapital, projectedCustomers, location) {
    /* istanbul ignore next */
    cov_1tq6gmyt9s().f[4]++;
    cov_1tq6gmyt9s().s[24]++;
    try {
      const financialAnalysis =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[25]++, await this.analyzeBusinessFinancials(businessType, initialCapital, projectedCustomers));
      const fundingOpportunities =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[26]++, await this.findFundingOpportunities(businessType, initialCapital, location));
      const searchQuery =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[27]++, `${businessType} financial benchmarks industry standards`);
      const sources =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[28]++, await this.searchEngine.hybridSearch(searchQuery, {
        topK: 10
      }));
      const recommendations =
      /* istanbul ignore next */
      (cov_1tq6gmyt9s().s[29]++, this.generateFinancialRecommendations(financialAnalysis, fundingOpportunities));
      /* istanbul ignore next */
      cov_1tq6gmyt9s().s[30]++;
      return {
        financialAnalysis,
        fundingOpportunities,
        recommendations,
        confidence: this.calculateConfidence(sources)
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_1tq6gmyt9s().s[31]++;
      console.error('Error analyzing financial opportunity:', error);
      /* istanbul ignore next */
      cov_1tq6gmyt9s().s[32]++;
      throw error;
    }
  }

  /**
   * Estimate revenue per customer
   */
  estimateRevenuePerCustomer(businessType) {
    /* istanbul ignore next */
    cov_1tq6gmyt9s().f[5]++;
    const estimates =
    /* istanbul ignore next */
    (cov_1tq6gmyt9s().s[33]++, {
      'e-commerce': 500,
      'saas': 1000,
      'consulting': 5000,
      'retail': 200,
      'services': 1500,
      'education': 2000
    });
    /* istanbul ignore next */
    cov_1tq6gmyt9s().s[34]++;
    return /* istanbul ignore next */(cov_1tq6gmyt9s().b[1][0]++, estimates[businessType.toLowerCase()]) ||
    /* istanbul ignore next */
    (cov_1tq6gmyt9s().b[1][1]++, 1000);
  }

  /**
   * Estimate business expenses
   */
  estimateExpenses(businessType, initialCapital) {
    /* istanbul ignore next */
    cov_1tq6gmyt9s().f[6]++;
    // Simplified: assume 60% of revenue goes to expenses
    const revenuePerCustomer =
    /* istanbul ignore next */
    (cov_1tq6gmyt9s().s[35]++, this.estimateRevenuePerCustomer(businessType));
    const baseExpenses =
    /* istanbul ignore next */
    (cov_1tq6gmyt9s().s[36]++, initialCapital * 0.3); // 30% of initial capital for fixed costs
    /* istanbul ignore next */
    cov_1tq6gmyt9s().s[37]++;
    return baseExpenses;
  }

  /**
   * Calculate break-even point
   */
  calculateBreakEvenPoint(expenses, revenuePerCustomer) {
    /* istanbul ignore next */
    cov_1tq6gmyt9s().f[7]++;
    cov_1tq6gmyt9s().s[38]++;
    return Math.ceil(expenses / revenuePerCustomer);
  }

  /**
   * Calculate ROI
   */
  calculateROI(profit, investment) {
    /* istanbul ignore next */
    cov_1tq6gmyt9s().f[8]++;
    cov_1tq6gmyt9s().s[39]++;
    return profit / investment * 100;
  }

  /**
   * Calculate payback period
   */
  calculatePaybackPeriod(investment, monthlyProfit) {
    /* istanbul ignore next */
    cov_1tq6gmyt9s().f[9]++;
    cov_1tq6gmyt9s().s[40]++;
    if (monthlyProfit <= 0) {
      /* istanbul ignore next */
      cov_1tq6gmyt9s().b[2][0]++;
      cov_1tq6gmyt9s().s[41]++;
      return 'Not profitable';
    } else
    /* istanbul ignore next */
    {
      cov_1tq6gmyt9s().b[2][1]++;
    }
    const months =
    /* istanbul ignore next */
    (cov_1tq6gmyt9s().s[42]++, Math.ceil(investment / monthlyProfit));
    const years =
    /* istanbul ignore next */
    (cov_1tq6gmyt9s().s[43]++, Math.floor(months / 12));
    const remainingMonths =
    /* istanbul ignore next */
    (cov_1tq6gmyt9s().s[44]++, months % 12);
    /* istanbul ignore next */
    cov_1tq6gmyt9s().s[45]++;
    return `${years} years ${remainingMonths} months`;
  }

  /**
   * Generate financial recommendations
   */
  generateFinancialRecommendations(analysis, opportunities) {
    /* istanbul ignore next */
    cov_1tq6gmyt9s().f[10]++;
    const recommendations =
    /* istanbul ignore next */
    (cov_1tq6gmyt9s().s[46]++, []);
    /* istanbul ignore next */
    cov_1tq6gmyt9s().s[47]++;
    if (analysis.roi > 50) {
      /* istanbul ignore next */
      cov_1tq6gmyt9s().b[3][0]++;
      cov_1tq6gmyt9s().s[48]++;
      recommendations.push('Excellent ROI potential - consider scaling up');
    } else {
      /* istanbul ignore next */
      cov_1tq6gmyt9s().b[3][1]++;
      cov_1tq6gmyt9s().s[49]++;
      if (analysis.roi > 20) {
        /* istanbul ignore next */
        cov_1tq6gmyt9s().b[4][0]++;
        cov_1tq6gmyt9s().s[50]++;
        recommendations.push('Good ROI - proceed with caution and monitor closely');
      } else {
        /* istanbul ignore next */
        cov_1tq6gmyt9s().b[4][1]++;
        cov_1tq6gmyt9s().s[51]++;
        recommendations.push('Low ROI - consider revising business model');
      }
    }
    /* istanbul ignore next */
    cov_1tq6gmyt9s().s[52]++;
    if (opportunities.length > 0) {
      /* istanbul ignore next */
      cov_1tq6gmyt9s().b[5][0]++;
      cov_1tq6gmyt9s().s[53]++;
      recommendations.push(`${opportunities.length} funding options available`);
    } else
    /* istanbul ignore next */
    {
      cov_1tq6gmyt9s().b[5][1]++;
    }
    cov_1tq6gmyt9s().s[54]++;
    recommendations.push('Maintain detailed financial records');
    /* istanbul ignore next */
    cov_1tq6gmyt9s().s[55]++;
    recommendations.push('Plan for contingencies and market changes');
    /* istanbul ignore next */
    cov_1tq6gmyt9s().s[56]++;
    recommendations.push('Review financial projections quarterly');
    /* istanbul ignore next */
    cov_1tq6gmyt9s().s[57]++;
    return recommendations;
  }

  /**
   * Calculate confidence score
   */
  calculateConfidence(sources) {
    /* istanbul ignore next */
    cov_1tq6gmyt9s().f[11]++;
    cov_1tq6gmyt9s().s[58]++;
    if (sources.length === 0) {
      /* istanbul ignore next */
      cov_1tq6gmyt9s().b[6][0]++;
      cov_1tq6gmyt9s().s[59]++;
      return 0.3;
    } else
    /* istanbul ignore next */
    {
      cov_1tq6gmyt9s().b[6][1]++;
    }
    cov_1tq6gmyt9s().s[60]++;
    if (sources.length < 3) {
      /* istanbul ignore next */
      cov_1tq6gmyt9s().b[7][0]++;
      cov_1tq6gmyt9s().s[61]++;
      return 0.6;
    } else
    /* istanbul ignore next */
    {
      cov_1tq6gmyt9s().b[7][1]++;
    }
    cov_1tq6gmyt9s().s[62]++;
    if (sources.length < 5) {
      /* istanbul ignore next */
      cov_1tq6gmyt9s().b[8][0]++;
      cov_1tq6gmyt9s().s[63]++;
      return 0.8;
    } else
    /* istanbul ignore next */
    {
      cov_1tq6gmyt9s().b[8][1]++;
    }
    cov_1tq6gmyt9s().s[64]++;
    return 0.95;
  }
}
export default KofiIntelligence;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXRxNmdteXQ5cyIsImFjdHVhbENvdmVyYWdlIiwiS29maUludGVsbGlnZW5jZSIsImNvbnN0cnVjdG9yIiwic2VhcmNoRW5naW5lIiwiZiIsInMiLCJhbmFseXplQnVzaW5lc3NGaW5hbmNpYWxzIiwiYnVzaW5lc3NUeXBlIiwiaW5pdGlhbENhcGl0YWwiLCJwcm9qZWN0ZWRDdXN0b21lcnMiLCJzZWFyY2hRdWVyeSIsInNvdXJjZXMiLCJoeWJyaWRTZWFyY2giLCJ0b3BLIiwicmV2ZW51ZVBlckN1c3RvbWVyIiwiZXN0aW1hdGVSZXZlbnVlUGVyQ3VzdG9tZXIiLCJwcm9qZWN0ZWRSZXZlbnVlIiwicHJvamVjdGVkRXhwZW5zZXMiLCJlc3RpbWF0ZUV4cGVuc2VzIiwicHJvamVjdGVkUHJvZml0IiwiYnJlYWtFdmVuUG9pbnQiLCJjYWxjdWxhdGVCcmVha0V2ZW5Qb2ludCIsInJvaSIsImNhbGN1bGF0ZVJPSSIsInBheWJhY2tQZXJpb2QiLCJjYWxjdWxhdGVQYXliYWNrUGVyaW9kIiwic2xpY2UiLCJlcnJvciIsImNvbnNvbGUiLCJmaW5kRnVuZGluZ09wcG9ydHVuaXRpZXMiLCJyZXF1aXJlZEFtb3VudCIsImxvY2F0aW9uIiwibG9jYXRpb25RdWVyeSIsImIiLCJvcHBvcnR1bml0aWVzIiwicHVzaCIsIm5hbWUiLCJ0eXBlIiwiYW1vdW50IiwidGVybXMiLCJlbGlnaWJpbGl0eSIsInNvdXJjZSIsInVybCIsImludGVyZXN0UmF0ZSIsImZpbHRlciIsIm9wcCIsImFuYWx5emVGaW5hbmNpYWxPcHBvcnR1bml0eSIsImZpbmFuY2lhbEFuYWx5c2lzIiwiZnVuZGluZ09wcG9ydHVuaXRpZXMiLCJyZWNvbW1lbmRhdGlvbnMiLCJnZW5lcmF0ZUZpbmFuY2lhbFJlY29tbWVuZGF0aW9ucyIsImNvbmZpZGVuY2UiLCJjYWxjdWxhdGVDb25maWRlbmNlIiwiZXN0aW1hdGVzIiwidG9Mb3dlckNhc2UiLCJiYXNlRXhwZW5zZXMiLCJleHBlbnNlcyIsIk1hdGgiLCJjZWlsIiwicHJvZml0IiwiaW52ZXN0bWVudCIsIm1vbnRobHlQcm9maXQiLCJtb250aHMiLCJ5ZWFycyIsImZsb29yIiwicmVtYWluaW5nTW9udGhzIiwiYW5hbHlzaXMiLCJsZW5ndGgiXSwic291cmNlcyI6WyJrb2ZpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZWFyY2hFbmdpbmUgZnJvbSAnLi4vc2VhcmNoLWVuZ2luZSc7XG5pbXBvcnQgeyBTZWFyY2hSZXN1bHRXaXRoQ29udGVudCB9IGZyb20gJy4uL3NlYXJjaC1lbmdpbmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZpbmFuY2lhbEFuYWx5c2lzIHtcbiAgYnVzaW5lc3NUeXBlOiBzdHJpbmc7XG4gIHByb2plY3RlZFJldmVudWU6IG51bWJlcjtcbiAgcHJvamVjdGVkRXhwZW5zZXM6IG51bWJlcjtcbiAgcHJvamVjdGVkUHJvZml0OiBudW1iZXI7XG4gIGJyZWFrRXZlblBvaW50OiBudW1iZXI7XG4gIHJvaTogbnVtYmVyO1xuICBwYXliYWNrUGVyaW9kOiBzdHJpbmc7XG4gIHNvdXJjZXM6IFNlYXJjaFJlc3VsdFdpdGhDb250ZW50W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnVuZGluZ09wcG9ydHVuaXR5IHtcbiAgbmFtZTogc3RyaW5nO1xuICB0eXBlOiAnZ3JhbnQnIHwgJ2xvYW4nIHwgJ2ludmVzdG1lbnQnIHwgJ2Nyb3dkZnVuZGluZyc7XG4gIGFtb3VudDogbnVtYmVyO1xuICBpbnRlcmVzdFJhdGU/OiBudW1iZXI7XG4gIHRlcm1zOiBzdHJpbmc7XG4gIGVsaWdpYmlsaXR5OiBzdHJpbmdbXTtcbiAgc291cmNlOiBzdHJpbmc7XG4gIHVybDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEtvZmlSZXNwb25zZSB7XG4gIGZpbmFuY2lhbEFuYWx5c2lzOiBGaW5hbmNpYWxBbmFseXNpcztcbiAgZnVuZGluZ09wcG9ydHVuaXRpZXM6IEZ1bmRpbmdPcHBvcnR1bml0eVtdO1xuICByZWNvbW1lbmRhdGlvbnM6IHN0cmluZ1tdO1xuICBjb25maWRlbmNlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBLb2ZpSW50ZWxsaWdlbmNlIHtcbiAgcHJpdmF0ZSBzZWFyY2hFbmdpbmU6IFNlYXJjaEVuZ2luZTtcblxuICBjb25zdHJ1Y3RvcihzZWFyY2hFbmdpbmU6IFNlYXJjaEVuZ2luZSkge1xuICAgIHRoaXMuc2VhcmNoRW5naW5lID0gc2VhcmNoRW5naW5lO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuYWx5emUgYnVzaW5lc3MgZmluYW5jaWFsc1xuICAgKi9cbiAgYXN5bmMgYW5hbHl6ZUJ1c2luZXNzRmluYW5jaWFscyhcbiAgICBidXNpbmVzc1R5cGU6IHN0cmluZyxcbiAgICBpbml0aWFsQ2FwaXRhbDogbnVtYmVyLFxuICAgIHByb2plY3RlZEN1c3RvbWVyczogbnVtYmVyXG4gICk6IFByb21pc2U8RmluYW5jaWFsQW5hbHlzaXM+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VhcmNoUXVlcnkgPSBgJHtidXNpbmVzc1R5cGV9IGJ1c2luZXNzIGZpbmFuY2lhbHMgcmV2ZW51ZSBleHBlbnNlcyBwcm9maXRhYmlsaXR5YDtcbiAgICAgIGNvbnN0IHNvdXJjZXMgPSBhd2FpdCB0aGlzLnNlYXJjaEVuZ2luZS5oeWJyaWRTZWFyY2goc2VhcmNoUXVlcnksIHtcbiAgICAgICAgdG9wSzogMTAsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmV2ZW51ZVBlckN1c3RvbWVyID0gdGhpcy5lc3RpbWF0ZVJldmVudWVQZXJDdXN0b21lcihidXNpbmVzc1R5cGUpO1xuICAgICAgY29uc3QgcHJvamVjdGVkUmV2ZW51ZSA9IHByb2plY3RlZEN1c3RvbWVycyAqIHJldmVudWVQZXJDdXN0b21lcjtcbiAgICAgIGNvbnN0IHByb2plY3RlZEV4cGVuc2VzID0gdGhpcy5lc3RpbWF0ZUV4cGVuc2VzKGJ1c2luZXNzVHlwZSwgaW5pdGlhbENhcGl0YWwpO1xuICAgICAgY29uc3QgcHJvamVjdGVkUHJvZml0ID0gcHJvamVjdGVkUmV2ZW51ZSAtIHByb2plY3RlZEV4cGVuc2VzO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBidXNpbmVzc1R5cGUsXG4gICAgICAgIHByb2plY3RlZFJldmVudWUsXG4gICAgICAgIHByb2plY3RlZEV4cGVuc2VzLFxuICAgICAgICBwcm9qZWN0ZWRQcm9maXQsXG4gICAgICAgIGJyZWFrRXZlblBvaW50OiB0aGlzLmNhbGN1bGF0ZUJyZWFrRXZlblBvaW50KHByb2plY3RlZEV4cGVuc2VzLCByZXZlbnVlUGVyQ3VzdG9tZXIpLFxuICAgICAgICByb2k6IHRoaXMuY2FsY3VsYXRlUk9JKHByb2plY3RlZFByb2ZpdCwgaW5pdGlhbENhcGl0YWwpLFxuICAgICAgICBwYXliYWNrUGVyaW9kOiB0aGlzLmNhbGN1bGF0ZVBheWJhY2tQZXJpb2QoaW5pdGlhbENhcGl0YWwsIHByb2plY3RlZFByb2ZpdCksXG4gICAgICAgIHNvdXJjZXM6IHNvdXJjZXMuc2xpY2UoMCwgNSksXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbmFseXppbmcgYnVzaW5lc3MgZmluYW5jaWFsczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmluZCBmdW5kaW5nIG9wcG9ydHVuaXRpZXNcbiAgICovXG4gIGFzeW5jIGZpbmRGdW5kaW5nT3Bwb3J0dW5pdGllcyhcbiAgICBidXNpbmVzc1R5cGU6IHN0cmluZyxcbiAgICByZXF1aXJlZEFtb3VudDogbnVtYmVyLFxuICAgIGxvY2F0aW9uPzogc3RyaW5nXG4gICk6IFByb21pc2U8RnVuZGluZ09wcG9ydHVuaXR5W10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbG9jYXRpb25RdWVyeSA9IGxvY2F0aW9uID8gYCBpbiAke2xvY2F0aW9ufWAgOiAnJztcbiAgICAgIGNvbnN0IHNlYXJjaFF1ZXJ5ID0gYGZ1bmRpbmcgb3Bwb3J0dW5pdGllcyAke2J1c2luZXNzVHlwZX0gZ3JhbnRzIGxvYW5zIGludmVzdG1lbnQke2xvY2F0aW9uUXVlcnl9YDtcblxuICAgICAgY29uc3Qgc291cmNlcyA9IGF3YWl0IHRoaXMuc2VhcmNoRW5naW5lLmh5YnJpZFNlYXJjaChzZWFyY2hRdWVyeSwge1xuICAgICAgICB0b3BLOiAxNSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBvcHBvcnR1bml0aWVzOiBGdW5kaW5nT3Bwb3J0dW5pdHlbXSA9IFtdO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBmdW5kaW5nIG9wcG9ydHVuaXRpZXNcbiAgICAgIG9wcG9ydHVuaXRpZXMucHVzaCh7XG4gICAgICAgIG5hbWU6ICdHb3Zlcm5tZW50IFNtYWxsIEJ1c2luZXNzIEdyYW50JyxcbiAgICAgICAgdHlwZTogJ2dyYW50JyxcbiAgICAgICAgYW1vdW50OiAxMDAwMDAsXG4gICAgICAgIHRlcm1zOiAnTm9uLXJlcGF5YWJsZSBncmFudCBmb3IgcXVhbGlmeWluZyBidXNpbmVzc2VzJyxcbiAgICAgICAgZWxpZ2liaWxpdHk6IFsnU291dGggQWZyaWNhbiBjaXRpemVuJywgJ0J1c2luZXNzIHBsYW4gcmVxdWlyZWQnLCAnTGVzcyB0aGFuIDUgeWVhcnMgb2xkJ10sXG4gICAgICAgIHNvdXJjZTogJ0RlcGFydG1lbnQgb2YgVHJhZGUgYW5kIEluZHVzdHJ5JyxcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cudGhlZHRpLmdvdi56YScsXG4gICAgICB9KTtcblxuICAgICAgb3Bwb3J0dW5pdGllcy5wdXNoKHtcbiAgICAgICAgbmFtZTogJ0NvbW1lcmNpYWwgQmFuayBMb2FuJyxcbiAgICAgICAgdHlwZTogJ2xvYW4nLFxuICAgICAgICBhbW91bnQ6IDUwMDAwMCxcbiAgICAgICAgaW50ZXJlc3RSYXRlOiAwLjA4LFxuICAgICAgICB0ZXJtczogJzUteWVhciByZXBheW1lbnQgcGVyaW9kJyxcbiAgICAgICAgZWxpZ2liaWxpdHk6IFsnQnVzaW5lc3MgcmVnaXN0cmF0aW9uJywgJ0ZpbmFuY2lhbCBzdGF0ZW1lbnRzJywgJ0NvbGxhdGVyYWwgcmVxdWlyZWQnXSxcbiAgICAgICAgc291cmNlOiAnQ29tbWVyY2lhbCBCYW5rcycsXG4gICAgICAgIHVybDogJ2h0dHBzOi8vd3d3LmJhbmtpbmcub3JnLnphJyxcbiAgICAgIH0pO1xuXG4gICAgICBvcHBvcnR1bml0aWVzLnB1c2goe1xuICAgICAgICBuYW1lOiAnVmVudHVyZSBDYXBpdGFsIEludmVzdG1lbnQnLFxuICAgICAgICB0eXBlOiAnaW52ZXN0bWVudCcsXG4gICAgICAgIGFtb3VudDogMTAwMDAwMCxcbiAgICAgICAgdGVybXM6ICdFcXVpdHkgc3Rha2UgaW4gYnVzaW5lc3MnLFxuICAgICAgICBlbGlnaWJpbGl0eTogWydTY2FsYWJsZSBidXNpbmVzcyBtb2RlbCcsICdTdHJvbmcgdGVhbScsICdHcm93dGggcG90ZW50aWFsJ10sXG4gICAgICAgIHNvdXJjZTogJ1ZlbnR1cmUgQ2FwaXRhbCBGaXJtcycsXG4gICAgICAgIHVybDogJ2h0dHBzOi8vd3d3LnZjc2EuY28uemEnLFxuICAgICAgfSk7XG5cbiAgICAgIG9wcG9ydHVuaXRpZXMucHVzaCh7XG4gICAgICAgIG5hbWU6ICdDcm93ZGZ1bmRpbmcgQ2FtcGFpZ24nLFxuICAgICAgICB0eXBlOiAnY3Jvd2RmdW5kaW5nJyxcbiAgICAgICAgYW1vdW50OiAyNTAwMDAsXG4gICAgICAgIHRlcm1zOiAnUmV3YXJkcyBvciBlcXVpdHktYmFzZWQgY3Jvd2RmdW5kaW5nJyxcbiAgICAgICAgZWxpZ2liaWxpdHk6IFsnQ29tcGVsbGluZyBidXNpbmVzcyBzdG9yeScsICdNYXJrZXRpbmcgY2FwYWJpbGl0eScsICdDb21tdW5pdHkgc3VwcG9ydCddLFxuICAgICAgICBzb3VyY2U6ICdDcm93ZGZ1bmRpbmcgUGxhdGZvcm1zJyxcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cudGh1bmRhZnVuZC5jb20nLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvcHBvcnR1bml0aWVzLmZpbHRlcigob3BwKSA9PiBvcHAuYW1vdW50ID49IHJlcXVpcmVkQW1vdW50ICogMC41KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmluZGluZyBmdW5kaW5nIG9wcG9ydHVuaXRpZXM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbXByZWhlbnNpdmUgZmluYW5jaWFsIGFuYWx5c2lzXG4gICAqL1xuICBhc3luYyBhbmFseXplRmluYW5jaWFsT3Bwb3J0dW5pdHkoXG4gICAgYnVzaW5lc3NUeXBlOiBzdHJpbmcsXG4gICAgaW5pdGlhbENhcGl0YWw6IG51bWJlcixcbiAgICBwcm9qZWN0ZWRDdXN0b21lcnM6IG51bWJlcixcbiAgICBsb2NhdGlvbj86IHN0cmluZ1xuICApOiBQcm9taXNlPEtvZmlSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBmaW5hbmNpYWxBbmFseXNpcyA9IGF3YWl0IHRoaXMuYW5hbHl6ZUJ1c2luZXNzRmluYW5jaWFscyhcbiAgICAgICAgYnVzaW5lc3NUeXBlLFxuICAgICAgICBpbml0aWFsQ2FwaXRhbCxcbiAgICAgICAgcHJvamVjdGVkQ3VzdG9tZXJzXG4gICAgICApO1xuXG4gICAgICBjb25zdCBmdW5kaW5nT3Bwb3J0dW5pdGllcyA9IGF3YWl0IHRoaXMuZmluZEZ1bmRpbmdPcHBvcnR1bml0aWVzKFxuICAgICAgICBidXNpbmVzc1R5cGUsXG4gICAgICAgIGluaXRpYWxDYXBpdGFsLFxuICAgICAgICBsb2NhdGlvblxuICAgICAgKTtcblxuICAgICAgY29uc3Qgc2VhcmNoUXVlcnkgPSBgJHtidXNpbmVzc1R5cGV9IGZpbmFuY2lhbCBiZW5jaG1hcmtzIGluZHVzdHJ5IHN0YW5kYXJkc2A7XG4gICAgICBjb25zdCBzb3VyY2VzID0gYXdhaXQgdGhpcy5zZWFyY2hFbmdpbmUuaHlicmlkU2VhcmNoKHNlYXJjaFF1ZXJ5LCB7XG4gICAgICAgIHRvcEs6IDEwLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IHRoaXMuZ2VuZXJhdGVGaW5hbmNpYWxSZWNvbW1lbmRhdGlvbnMoXG4gICAgICAgIGZpbmFuY2lhbEFuYWx5c2lzLFxuICAgICAgICBmdW5kaW5nT3Bwb3J0dW5pdGllc1xuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZmluYW5jaWFsQW5hbHlzaXMsXG4gICAgICAgIGZ1bmRpbmdPcHBvcnR1bml0aWVzLFxuICAgICAgICByZWNvbW1lbmRhdGlvbnMsXG4gICAgICAgIGNvbmZpZGVuY2U6IHRoaXMuY2FsY3VsYXRlQ29uZmlkZW5jZShzb3VyY2VzKSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFuYWx5emluZyBmaW5hbmNpYWwgb3Bwb3J0dW5pdHk6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVzdGltYXRlIHJldmVudWUgcGVyIGN1c3RvbWVyXG4gICAqL1xuICBwcml2YXRlIGVzdGltYXRlUmV2ZW51ZVBlckN1c3RvbWVyKGJ1c2luZXNzVHlwZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBjb25zdCBlc3RpbWF0ZXM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7XG4gICAgICAnZS1jb21tZXJjZSc6IDUwMCxcbiAgICAgICdzYWFzJzogMTAwMCxcbiAgICAgICdjb25zdWx0aW5nJzogNTAwMCxcbiAgICAgICdyZXRhaWwnOiAyMDAsXG4gICAgICAnc2VydmljZXMnOiAxNTAwLFxuICAgICAgJ2VkdWNhdGlvbic6IDIwMDAsXG4gICAgfTtcblxuICAgIHJldHVybiBlc3RpbWF0ZXNbYnVzaW5lc3NUeXBlLnRvTG93ZXJDYXNlKCldIHx8IDEwMDA7XG4gIH1cblxuICAvKipcbiAgICogRXN0aW1hdGUgYnVzaW5lc3MgZXhwZW5zZXNcbiAgICovXG4gIHByaXZhdGUgZXN0aW1hdGVFeHBlbnNlcyhidXNpbmVzc1R5cGU6IHN0cmluZywgaW5pdGlhbENhcGl0YWw6IG51bWJlcik6IG51bWJlciB7XG4gICAgLy8gU2ltcGxpZmllZDogYXNzdW1lIDYwJSBvZiByZXZlbnVlIGdvZXMgdG8gZXhwZW5zZXNcbiAgICBjb25zdCByZXZlbnVlUGVyQ3VzdG9tZXIgPSB0aGlzLmVzdGltYXRlUmV2ZW51ZVBlckN1c3RvbWVyKGJ1c2luZXNzVHlwZSk7XG4gICAgY29uc3QgYmFzZUV4cGVuc2VzID0gaW5pdGlhbENhcGl0YWwgKiAwLjM7IC8vIDMwJSBvZiBpbml0aWFsIGNhcGl0YWwgZm9yIGZpeGVkIGNvc3RzXG4gICAgcmV0dXJuIGJhc2VFeHBlbnNlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgYnJlYWstZXZlbiBwb2ludFxuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVCcmVha0V2ZW5Qb2ludChleHBlbnNlczogbnVtYmVyLCByZXZlbnVlUGVyQ3VzdG9tZXI6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGguY2VpbChleHBlbnNlcyAvIHJldmVudWVQZXJDdXN0b21lcik7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIFJPSVxuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVST0kocHJvZml0OiBudW1iZXIsIGludmVzdG1lbnQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIChwcm9maXQgLyBpbnZlc3RtZW50KSAqIDEwMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgcGF5YmFjayBwZXJpb2RcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlUGF5YmFja1BlcmlvZChpbnZlc3RtZW50OiBudW1iZXIsIG1vbnRobHlQcm9maXQ6IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKG1vbnRobHlQcm9maXQgPD0gMCkge3JldHVybiAnTm90IHByb2ZpdGFibGUnO31cbiAgICBjb25zdCBtb250aHMgPSBNYXRoLmNlaWwoaW52ZXN0bWVudCAvIG1vbnRobHlQcm9maXQpO1xuICAgIGNvbnN0IHllYXJzID0gTWF0aC5mbG9vcihtb250aHMgLyAxMik7XG4gICAgY29uc3QgcmVtYWluaW5nTW9udGhzID0gbW9udGhzICUgMTI7XG4gICAgcmV0dXJuIGAke3llYXJzfSB5ZWFycyAke3JlbWFpbmluZ01vbnRoc30gbW9udGhzYDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBmaW5hbmNpYWwgcmVjb21tZW5kYXRpb25zXG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlRmluYW5jaWFsUmVjb21tZW5kYXRpb25zKFxuICAgIGFuYWx5c2lzOiBGaW5hbmNpYWxBbmFseXNpcyxcbiAgICBvcHBvcnR1bml0aWVzOiBGdW5kaW5nT3Bwb3J0dW5pdHlbXVxuICApOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgaWYgKGFuYWx5c2lzLnJvaSA+IDUwKSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgnRXhjZWxsZW50IFJPSSBwb3RlbnRpYWwgLSBjb25zaWRlciBzY2FsaW5nIHVwJyk7XG4gICAgfSBlbHNlIGlmIChhbmFseXNpcy5yb2kgPiAyMCkge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ0dvb2QgUk9JIC0gcHJvY2VlZCB3aXRoIGNhdXRpb24gYW5kIG1vbml0b3IgY2xvc2VseScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgnTG93IFJPSSAtIGNvbnNpZGVyIHJldmlzaW5nIGJ1c2luZXNzIG1vZGVsJyk7XG4gICAgfVxuXG4gICAgaWYgKG9wcG9ydHVuaXRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goYCR7b3Bwb3J0dW5pdGllcy5sZW5ndGh9IGZ1bmRpbmcgb3B0aW9ucyBhdmFpbGFibGVgKTtcbiAgICB9XG5cbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgnTWFpbnRhaW4gZGV0YWlsZWQgZmluYW5jaWFsIHJlY29yZHMnKTtcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgnUGxhbiBmb3IgY29udGluZ2VuY2llcyBhbmQgbWFya2V0IGNoYW5nZXMnKTtcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgnUmV2aWV3IGZpbmFuY2lhbCBwcm9qZWN0aW9ucyBxdWFydGVybHknKTtcblxuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIGNvbmZpZGVuY2Ugc2NvcmVcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlQ29uZmlkZW5jZShzb3VyY2VzOiBTZWFyY2hSZXN1bHRXaXRoQ29udGVudFtdKTogbnVtYmVyIHtcbiAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtyZXR1cm4gMC4zO31cbiAgICBpZiAoc291cmNlcy5sZW5ndGggPCAzKSB7cmV0dXJuIDAuNjt9XG4gICAgaWYgKHNvdXJjZXMubGVuZ3RoIDwgNSkge3JldHVybiAwLjg7fVxuICAgIHJldHVybiAwLjk1O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEtvZmlJbnRlbGxpZ2VuY2U7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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