{"version":3,"names":["cov_gmqq40j4d","actualCoverage","Router","TutorEngine","LearningPathEngine","AssessmentEngine","router","s","post","req","res","f","studentId","user","userId","subject","question","context","body","result","tutorSession","json","success","data","error","console","status","concept","level","explanation","explainConcept","goal","studentProfile","path","generatePath","questionCount","assessment","createAssessment","answers","gradeAssessment"],"sources":["tutoringRoutes.ts"],"sourcesContent":["import { Router, Request, Response } from 'express';\nimport TutorEngine from '../engines/tutor-engine';\nimport LearningPathEngine from '../engines/learning-paths';\nimport AssessmentEngine from '../engines/assessment-engine';\n\nconst router = Router();\n\n// Auth middleware types\ninterface AuthRequest extends Request {\n  user?: { userId: string; email: string; role: string };\n}\n\n// Tutoring Routes\nrouter.post('/tutor', async (req: AuthRequest, res: Response) => {\n    try {\n        const studentId = req.user?.userId;\n        const { subject, question, context } = req.body;\n        const result = await TutorEngine.tutorSession(studentId, subject, question, context);\n        res.json({ success: true, data: result });\n    } catch (error) {\n        console.error('Error in tutor session:', error);\n        res.status(500).json({ success: false, error: 'Failed to get tutor response' });\n    }\n});\n\nrouter.post('/explain', async (req: Request, res: Response) => {\n    try {\n        const { concept, level } = req.body;\n        const explanation = await TutorEngine.explainConcept(concept, level);\n        res.json({ success: true, data: { explanation } });\n    } catch (error) {\n        console.error('Error explaining concept:', error);\n        res.status(500).json({ success: false, error: 'Failed to get explanation' });\n    }\n});\n\n\n// Learning Path Routes\nrouter.post('/learning-path', (req: AuthRequest, res: Response) => {\n    try {\n        const studentId = req.user?.userId;\n        const { goal } = req.body;\n        const studentProfile = { ...req.body.studentProfile, studentId };\n        const path = LearningPathEngine.generatePath(studentProfile, goal);\n        res.json({ success: true, data: path });\n    } catch (error) {\n        console.error('Error generating learning path:', error);\n        res.status(500).json({ success: false, error: 'Failed to generate learning path' });\n    }\n});\n\n// Assessment Routes\nrouter.post('/assessment', (req: Request, res: Response) => {\n    try {\n        const { subject, level, questionCount } = req.body;\n        const assessment = AssessmentEngine.createAssessment(subject, level, questionCount);\n        res.json({ success: true, data: assessment });\n    } catch (error) {\n        console.error('Error creating assessment:', error);\n        res.status(500).json({ success: false, error: 'Failed to create assessment' });\n    }\n});\n\nrouter.post('/grade', (req: AuthRequest, res: Response) => {\n    try {\n        const studentId = req.user?.userId;\n        const { answers, assessment } = req.body;\n        const result = AssessmentEngine.gradeAssessment(answers, assessment);\n        res.json({ success: true, data: result });\n    } catch (error) {\n        console.error('Error grading assessment:', error);\n        res.status(500).json({ success: false, error: 'Failed to grade assessment' });\n    }\n});\n\nexport default router;\n"],"mappings":"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","ignoreList":[]}