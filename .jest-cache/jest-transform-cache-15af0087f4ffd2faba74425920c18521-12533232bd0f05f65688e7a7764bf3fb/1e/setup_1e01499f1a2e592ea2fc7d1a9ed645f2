6ff03145d322835cd5ad8b6cba74e1b6
// Mock external dependencies
/* istanbul ignore next */
_getJestObj().mock('../engines/gpt4-integration', () => {
  /* istanbul ignore next */
  cov_nb34x22l1().f[0]++;
  cov_nb34x22l1().s[3]++;
  return {
    isAvailable: jest.fn().mockReturnValue(false),
    chat: jest.fn().mockRejectedValue(new Error('GPT-4 not available in test'))
  };
});

// Mock Prisma client
/* istanbul ignore next */
_getJestObj().mock('@prisma/client', () => {
  /* istanbul ignore next */
  cov_nb34x22l1().f[1]++;
  const mockPrisma =
  /* istanbul ignore next */
  (cov_nb34x22l1().s[5]++, {
    familyMember: {
      findUnique: jest.fn().mockResolvedValue(null),
      upsert: jest.fn().mockResolvedValue({
        id: 'mock-id',
        name: 'Mock Member'
      })
    },
    conversation: {
      findFirst: jest.fn().mockResolvedValue(null),
      create: jest.fn().mockResolvedValue({
        id: 'mock-conversation-id'
      })
    },
    message: {
      findMany: jest.fn().mockResolvedValue([]),
      createMany: jest.fn().mockResolvedValue({
        count: 2
      })
    }
  });
  /* istanbul ignore next */
  cov_nb34x22l1().s[6]++;
  return {
    PrismaClient: jest.fn(() => {
      /* istanbul ignore next */
      cov_nb34x22l1().f[2]++;
      cov_nb34x22l1().s[7]++;
      return mockPrisma;
    })
  };
});
/* istanbul ignore next */
function cov_nb34x22l1() {
  var path = "/workspaces/azora/services/ai-family-service/test/setup.js";
  var hash = "48b490963bcdef617982c172081dec8d2ef3ff8b";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/ai-family-service/test/setup.js",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 2,
          column: 53
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 5,
          column: 30
        }
      },
      "2": {
        start: {
          line: 8,
          column: 0
        },
        end: {
          line: 13,
          column: 3
        }
      },
      "3": {
        start: {
          line: 9,
          column: 2
        },
        end: {
          line: 12,
          column: 4
        }
      },
      "4": {
        start: {
          line: 16,
          column: 0
        },
        end: {
          line: 35,
          column: 3
        }
      },
      "5": {
        start: {
          line: 17,
          column: 21
        },
        end: {
          line: 30,
          column: 3
        }
      },
      "6": {
        start: {
          line: 32,
          column: 2
        },
        end: {
          line: 34,
          column: 4
        }
      },
      "7": {
        start: {
          line: 33,
          column: 32
        },
        end: {
          line: 33,
          column: 42
        }
      },
      "8": {
        start: {
          line: 37,
          column: 0
        },
        end: {
          line: 37,
          column: 53
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 8,
            column: 41
          },
          end: {
            line: 8,
            column: 42
          }
        },
        loc: {
          start: {
            line: 8,
            column: 47
          },
          end: {
            line: 13,
            column: 1
          }
        },
        line: 8
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 16,
            column: 28
          },
          end: {
            line: 16,
            column: 29
          }
        },
        loc: {
          start: {
            line: 16,
            column: 34
          },
          end: {
            line: 35,
            column: 1
          }
        },
        line: 16
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 33,
            column: 26
          },
          end: {
            line: 33,
            column: 27
          }
        },
        loc: {
          start: {
            line: 33,
            column: 32
          },
          end: {
            line: 33,
            column: 42
          }
        },
        line: 33
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0
    },
    b: {},
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "48b490963bcdef617982c172081dec8d2ef3ff8b"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_nb34x22l1 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_nb34x22l1();
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
cov_nb34x22l1().s[0]++;
// Setup file for AI Family Service tests
console.log('Setting up AI Family Service tests...');

// Mock environment variables
/* istanbul ignore next */
cov_nb34x22l1().s[1]++;
process.env.NODE_ENV = 'test';
/* istanbul ignore next */
cov_nb34x22l1().s[2]++;
cov_nb34x22l1().s[4]++;
cov_nb34x22l1().s[8]++;
console.log('AI Family Service test setup complete');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJjb3ZfbmIzNHgyMmwxIiwiZiIsInMiLCJpc0F2YWlsYWJsZSIsImplc3QiLCJmbiIsIm1vY2tSZXR1cm5WYWx1ZSIsImNoYXQiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwibW9ja1ByaXNtYSIsImZhbWlseU1lbWJlciIsImZpbmRVbmlxdWUiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInVwc2VydCIsImlkIiwibmFtZSIsImNvbnZlcnNhdGlvbiIsImZpbmRGaXJzdCIsImNyZWF0ZSIsIm1lc3NhZ2UiLCJmaW5kTWFueSIsImNyZWF0ZU1hbnkiLCJjb3VudCIsIlByaXNtYUNsaWVudCIsInBhdGgiLCJoYXNoIiwiZ2xvYmFsIiwiRnVuY3Rpb24iLCJnY3YiLCJjb3ZlcmFnZURhdGEiLCJzdGF0ZW1lbnRNYXAiLCJzdGFydCIsImxpbmUiLCJjb2x1bW4iLCJlbmQiLCJmbk1hcCIsImRlY2wiLCJsb2MiLCJicmFuY2hNYXAiLCJiIiwiX2NvdmVyYWdlU2NoZW1hIiwiY292ZXJhZ2UiLCJhY3R1YWxDb3ZlcmFnZSIsInJlcXVpcmUiLCJjb25zb2xlIiwibG9nIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIl0sInNvdXJjZXMiOlsic2V0dXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2V0dXAgZmlsZSBmb3IgQUkgRmFtaWx5IFNlcnZpY2UgdGVzdHNcbmNvbnNvbGUubG9nKCdTZXR0aW5nIHVwIEFJIEZhbWlseSBTZXJ2aWNlIHRlc3RzLi4uJyk7XG5cbi8vIE1vY2sgZW52aXJvbm1lbnQgdmFyaWFibGVzXG5wcm9jZXNzLmVudi5OT0RFX0VOViA9ICd0ZXN0JztcblxuLy8gTW9jayBleHRlcm5hbCBkZXBlbmRlbmNpZXNcbmplc3QubW9jaygnLi4vZW5naW5lcy9ncHQ0LWludGVncmF0aW9uJywgKCkgPT4ge1xuICByZXR1cm4ge1xuICAgIGlzQXZhaWxhYmxlOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKGZhbHNlKSxcbiAgICBjaGF0OiBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdHUFQtNCBub3QgYXZhaWxhYmxlIGluIHRlc3QnKSlcbiAgfTtcbn0pO1xuXG4vLyBNb2NrIFByaXNtYSBjbGllbnRcbmplc3QubW9jaygnQHByaXNtYS9jbGllbnQnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tQcmlzbWEgPSB7XG4gICAgZmFtaWx5TWVtYmVyOiB7XG4gICAgICBmaW5kVW5pcXVlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUobnVsbCksXG4gICAgICB1cHNlcnQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGlkOiAnbW9jay1pZCcsIG5hbWU6ICdNb2NrIE1lbWJlcicgfSlcbiAgICB9LFxuICAgIGNvbnZlcnNhdGlvbjoge1xuICAgICAgZmluZEZpcnN0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUobnVsbCksXG4gICAgICBjcmVhdGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGlkOiAnbW9jay1jb252ZXJzYXRpb24taWQnIH0pXG4gICAgfSxcbiAgICBtZXNzYWdlOiB7XG4gICAgICBmaW5kTWFueTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKFtdKSxcbiAgICAgIGNyZWF0ZU1hbnk6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGNvdW50OiAyIH0pXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgUHJpc21hQ2xpZW50OiBqZXN0LmZuKCgpID0+IG1vY2tQcmlzbWEpXG4gIH07XG59KTtcblxuY29uc29sZS5sb2coJ0FJIEZhbWlseSBTZXJ2aWNlIHRlc3Qgc2V0dXAgY29tcGxldGUnKTtcbiJdLCJtYXBwaW5ncyI6IkFBTUE7QUFDQTtBQUFBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyw2QkFBNkIsRUFBRSxNQUFNO0VBQUE7RUFBQUMsYUFBQSxHQUFBQyxDQUFBO0VBQUFELGFBQUEsR0FBQUUsQ0FBQTtFQUM3QyxPQUFPO0lBQ0xDLFdBQVcsRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxlQUFlLENBQUMsS0FBSyxDQUFDO0lBQzdDQyxJQUFJLEVBQUVILElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ0csaUJBQWlCLENBQUMsSUFBSUMsS0FBSyxDQUFDLDZCQUE2QixDQUFDO0VBQzVFLENBQUM7QUFDSCxDQUFDLENBQUM7O0FBRUY7QUFDQTtBQUFBWCxXQUFBLEdBQUtDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxNQUFNO0VBQUE7RUFBQUMsYUFBQSxHQUFBQyxDQUFBO0VBQ2hDLE1BQU1TLFVBQVU7RUFBQTtFQUFBLENBQUFWLGFBQUEsR0FBQUUsQ0FBQSxPQUFHO0lBQ2pCUyxZQUFZLEVBQUU7TUFDWkMsVUFBVSxFQUFFUixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNRLGlCQUFpQixDQUFDLElBQUksQ0FBQztNQUM3Q0MsTUFBTSxFQUFFVixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNRLGlCQUFpQixDQUFDO1FBQUVFLEVBQUUsRUFBRSxTQUFTO1FBQUVDLElBQUksRUFBRTtNQUFjLENBQUM7SUFDNUUsQ0FBQztJQUNEQyxZQUFZLEVBQUU7TUFDWkMsU0FBUyxFQUFFZCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNRLGlCQUFpQixDQUFDLElBQUksQ0FBQztNQUM1Q00sTUFBTSxFQUFFZixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNRLGlCQUFpQixDQUFDO1FBQUVFLEVBQUUsRUFBRTtNQUF1QixDQUFDO0lBQ3BFLENBQUM7SUFDREssT0FBTyxFQUFFO01BQ1BDLFFBQVEsRUFBRWpCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ1EsaUJBQWlCLENBQUMsRUFBRSxDQUFDO01BQ3pDUyxVQUFVLEVBQUVsQixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNRLGlCQUFpQixDQUFDO1FBQUVVLEtBQUssRUFBRTtNQUFFLENBQUM7SUFDdEQ7RUFDRixDQUFDO0VBQUM7RUFBQXZCLGFBQUEsR0FBQUUsQ0FBQTtFQUVGLE9BQU87SUFDTHNCLFlBQVksRUFBRXBCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLE1BQU1LO01BQUFBO01BQUFBLHNCQUFBO01BQUFBLHNCQUFBO01BQUFBLE1BQUEsQ0FBQUEsVUFBVTtJQUFELENBQUM7RUFDeEMsQ0FBQztBQUNILENBQUMsQ0FBQztBQUFDO0FBQUEsU0FBQVYsY0FBQTtFQUFBLElBQUF5QixJQUFBO0VBQUEsSUFBQUMsSUFBQTtFQUFBLElBQUFDLE1BQUEsT0FBQUMsUUFBQTtFQUFBLElBQUFDLEdBQUE7RUFBQSxJQUFBQyxZQUFBO0lBQUFMLElBQUE7SUFBQU0sWUFBQTtNQUFBO1FBQUFDLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtJQUFBO0lBQUFFLEtBQUE7TUFBQTtRQUFBcEIsSUFBQTtRQUFBcUIsSUFBQTtVQUFBTCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBSSxHQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtNQUFBO1FBQUFqQixJQUFBO1FBQUFxQixJQUFBO1VBQUFMLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFJLEdBQUE7VUFBQU4sS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQWpCLElBQUE7UUFBQXFCLElBQUE7VUFBQUwsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUksR0FBQTtVQUFBTixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7SUFBQTtJQUFBTSxTQUFBO0lBQUFyQyxDQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO0lBQUE7SUFBQUQsQ0FBQTtNQUFBO01BQUE7TUFBQTtJQUFBO0lBQUF1QyxDQUFBO0lBQUFDLGVBQUE7SUFBQWYsSUFBQTtFQUFBO0VBQUEsSUFBQWdCLFFBQUEsR0FBQWYsTUFBQSxDQUFBRSxHQUFBLE1BQUFGLE1BQUEsQ0FBQUUsR0FBQTtFQUFBLEtBQUFhLFFBQUEsQ0FBQWpCLElBQUEsS0FBQWlCLFFBQUEsQ0FBQWpCLElBQUEsRUFBQUMsSUFBQSxLQUFBQSxJQUFBO0lBQUFnQixRQUFBLENBQUFqQixJQUFBLElBQUFLLFlBQUE7RUFBQTtFQUFBLElBQUFhLGNBQUEsR0FBQUQsUUFBQSxDQUFBakIsSUFBQTtFQUFBO0lBbkJTO0lBQUF6QixhQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBMkMsY0FBQTtJQUFBO0VBQUE7RUFBQSxPQUFBQSxjQUFBO0FBQUE7QUFBQTNDLGFBQUE7QUFBQSxTQUFBRixZQUFBO0VBQUE7SUFBQU07RUFBQSxJQUFBd0MsT0FBQTtFQUFBOUMsV0FBQSxHQUFBQSxDQUFBLEtBQUFNLElBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFBQUosYUFBQSxHQUFBRSxDQUFBO0FBZlo7QUFDQTJDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHVDQUF1QyxDQUFDOztBQUVwRDtBQUFBO0FBQUE5QyxhQUFBLEdBQUFFLENBQUE7QUFDQTZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxRQUFRLEdBQUcsTUFBTTtBQUFDO0FBQUFqRCxhQUFBLEdBQUFFLENBQUE7QUFBQUYsYUFBQSxHQUFBRSxDQUFBO0FBQUFGLGFBQUEsR0FBQUUsQ0FBQTtBQWdDOUIyQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyx1Q0FBdUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==