{"version":3,"names":["cov_spcx9spqy","actualCoverage","AuthService","constructor","axios","f","login","email","password","s","response","post","success","data","error","b","message","register","name","role","profile","get","refreshToken","logout","updateProfile","updates","patch"],"sources":["auth.service.ts"],"sourcesContent":["import { AxiosInstance } from 'axios';\nimport { AuthResponse, ApiResponse, User } from '../types';\n\nexport class AuthService {\n  constructor(private axios: AxiosInstance) {}\n\n  async login(email: string, password: string): Promise<AuthResponse> {\n    try {\n      const response = await this.axios.post('/auth/login', { email, password });\n      return { success: true, data: response.data };\n    } catch (error: any) {\n      return { \n        success: false, \n        error: error.response?.data?.message || error.message \n      };\n    }\n  }\n\n  async register(email: string, password: string, name: string, role?: 'student' | 'educator'): Promise<AuthResponse> {\n    try {\n      const response = await this.axios.post('/auth/register', { \n        email, \n        password, \n        name,\n        role: role || 'student'\n      });\n      return { success: true, data: response.data };\n    } catch (error: any) {\n      return { \n        success: false, \n        error: error.response?.data?.message || error.message \n      };\n    }\n  }\n\n  async profile(): Promise<ApiResponse<User>> {\n    try {\n      const response = await this.axios.get('/auth/profile');\n      return { success: true, data: response.data };\n    } catch (error: any) {\n      return { \n        success: false, \n        error: error.response?.data?.message || error.message \n      };\n    }\n  }\n\n  async refreshToken(refreshToken: string): Promise<AuthResponse> {\n    try {\n      const response = await this.axios.post('/auth/refresh', { refreshToken });\n      return { success: true, data: response.data };\n    } catch (error: any) {\n      return { \n        success: false, \n        error: error.response?.data?.message || error.message \n      };\n    }\n  }\n\n  async logout(): Promise<ApiResponse<void>> {\n    try {\n      await this.axios.post('/auth/logout');\n      return { success: true };\n    } catch (error: any) {\n      return { \n        success: false, \n        error: error.response?.data?.message || error.message \n      };\n    }\n  }\n\n  async updateProfile(updates: Partial<User>): Promise<ApiResponse<User>> {\n    try {\n      const response = await this.axios.patch('/auth/profile', updates);\n      return { success: true, data: response.data };\n    } catch (error: any) {\n      return { \n        success: false, \n        error: error.response?.data?.message || error.message \n      };\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]}