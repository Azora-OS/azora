{"version":3,"names":["cov_18yy7fk11k","actualCoverage","Cache","cache","s","Map","set","key","value","ttl","b","f","expiresAt","Date","now","get","item","delete","has","clear","size","cleanup","entries","setInterval"],"sources":["cache.ts"],"sourcesContent":["/**\n * Simple in-memory cache with TTL support\n */\nexport class Cache {\n  private cache: Map<string, { value: any; expiresAt: number }> = new Map();\n\n  /**\n   * Set a value in cache with optional TTL (in seconds)\n   */\n  set(key: string, value: any, ttl: number = 300): void {\n    const expiresAt = Date.now() + ttl * 1000;\n    this.cache.set(key, { value, expiresAt });\n  }\n\n  /**\n   * Get a value from cache\n   */\n  get(key: string): any | null {\n    const item = this.cache.get(key);\n\n    if (!item) {\n      return null;\n    }\n\n    if (Date.now() > item.expiresAt) {\n      this.cache.delete(key);\n      return null;\n    }\n\n    return item.value;\n  }\n\n  /**\n   * Check if key exists and is not expired\n   */\n  has(key: string): boolean {\n    const item = this.cache.get(key);\n\n    if (!item) {\n      return false;\n    }\n\n    if (Date.now() > item.expiresAt) {\n      this.cache.delete(key);\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Delete a key from cache\n   */\n  delete(key: string): boolean {\n    return this.cache.delete(key);\n  }\n\n  /**\n   * Clear all cache\n   */\n  clear(): void {\n    this.cache.clear();\n  }\n\n  /**\n   * Get cache size\n   */\n  size(): number {\n    return this.cache.size;\n  }\n\n  /**\n   * Clean up expired entries\n   */\n  cleanup(): void {\n    const now = Date.now();\n    for (const [key, item] of this.cache.entries()) {\n      if (now > item.expiresAt) {\n        this.cache.delete(key);\n      }\n    }\n  }\n}\n\nexport const cache = new Cache();\n\n// Cleanup expired entries every 5 minutes\nsetInterval(() => {\n  cache.cleanup();\n}, 5 * 60 * 1000);\n"],"mappings":"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","ignoreList":[]}