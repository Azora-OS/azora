{"version":3,"names":["cov_23qiwnu7x0","actualCoverage","express","s","require","router","Router","miningEngine","walletManager","economicPolicy","post","req","res","f","userId","activity","body","result","mine","json","error","status","message","get","stats","getMiningStats","params","getGlobalMiningStats","wallet","getWallet","from","to","currency","amount","transfer","history","getTransactionHistory","users","distributeUBI","metrics","query","health","monitorEconomy","JSON","parse","b","module","exports"],"sources":["mining.js"],"sourcesContent":["const express = require('express');\nconst router = express.Router();\nconst miningEngine = require('../engines/mining-engine');\nconst walletManager = require('../engines/wallet-manager');\nconst economicPolicy = require('../engines/economic-policy');\n\nrouter.post('/mine', async (req, res) => {\n  try {\n    const { userId, activity } = req.body;\n    const result = await miningEngine.mine(userId, activity);\n    res.json(result);\n  } catch (error) {\n    res.status(500).json({ error: error.message });\n  }\n});\n\nrouter.get('/stats/:userId', (req, res) => {\n  const stats = miningEngine.getMiningStats(req.params.userId);\n  res.json(stats);\n});\n\nrouter.get('/stats/global', (req, res) => {\n  const stats = miningEngine.getGlobalMiningStats();\n  res.json(stats);\n});\n\nrouter.get('/wallet/:userId', (req, res) => {\n  const wallet = walletManager.getWallet(req.params.userId);\n  res.json(wallet);\n});\n\nrouter.post('/transfer', (req, res) => {\n  const { from, to, currency, amount } = req.body;\n  const result = walletManager.transfer(from, to, currency, amount);\n  res.json(result);\n});\n\nrouter.get('/transactions/:userId', (req, res) => {\n  const history = walletManager.getTransactionHistory(req.params.userId);\n  res.json(history);\n});\n\nrouter.post('/ubi/distribute', (req, res) => {\n  const { users } = req.body;\n  const result = economicPolicy.distributeUBI(users);\n  res.json(result);\n});\n\nrouter.get('/economy/health', (req, res) => {\n  const { metrics } = req.query;\n  const health = economicPolicy.monitorEconomy(JSON.parse(metrics || '{}'));\n  res.json(health);\n});\n\nmodule.exports = router;\n"],"mappings":"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","ignoreList":[]}