ae34ba6cc0d6243d86b33332ae140607
/* istanbul ignore next */
function cov_1ifpbl9iwe() {
  var path = "/workspaces/azora/services/ai-family-service/engines/relationship-engine.js";
  var hash = "e8fbba4186a921dca549b67df5799d37d4690dd2";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/ai-family-service/engines/relationship-engine.js",
    statementMap: {
      "0": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 26,
          column: 10
        }
      },
      "1": {
        start: {
          line: 33,
          column: 32
        },
        end: {
          line: 33,
          column: 50
        }
      },
      "2": {
        start: {
          line: 36,
          column: 32
        },
        end: {
          line: 36,
          column: 70
        }
      },
      "3": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 40,
          column: 9
        }
      },
      "4": {
        start: {
          line: 39,
          column: 12
        },
        end: {
          line: 39,
          column: 102
        }
      },
      "5": {
        start: {
          line: 43,
          column: 8
        },
        end: {
          line: 43,
          column: 78
        }
      },
      "6": {
        start: {
          line: 45,
          column: 8
        },
        end: {
          line: 45,
          column: 31
        }
      },
      "7": {
        start: {
          line: 52,
          column: 25
        },
        end: {
          line: 52,
          column: 46
        }
      },
      "8": {
        start: {
          line: 53,
          column: 30
        },
        end: {
          line: 53,
          column: 124
        }
      },
      "9": {
        start: {
          line: 54,
          column: 28
        },
        end: {
          line: 54,
          column: 119
        }
      },
      "10": {
        start: {
          line: 56,
          column: 26
        },
        end: {
          line: 56,
          column: 28
        }
      },
      "11": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 62,
          column: 11
        }
      },
      "12": {
        start: {
          line: 59,
          column: 12
        },
        end: {
          line: 61,
          column: 13
        }
      },
      "13": {
        start: {
          line: 60,
          column: 16
        },
        end: {
          line: 60,
          column: 39
        }
      },
      "14": {
        start: {
          line: 64,
          column: 8
        },
        end: {
          line: 68,
          column: 11
        }
      },
      "15": {
        start: {
          line: 65,
          column: 12
        },
        end: {
          line: 67,
          column: 13
        }
      },
      "16": {
        start: {
          line: 66,
          column: 16
        },
        end: {
          line: 66,
          column: 54
        }
      },
      "17": {
        start: {
          line: 70,
          column: 8
        },
        end: {
          line: 70,
          column: 25
        }
      },
      "18": {
        start: {
          line: 77,
          column: 22
        },
        end: {
          line: 77,
          column: 24
        }
      },
      "19": {
        start: {
          line: 79,
          column: 8
        },
        end: {
          line: 89,
          column: 11
        }
      },
      "20": {
        start: {
          line: 80,
          column: 12
        },
        end: {
          line: 88,
          column: 13
        }
      },
      "21": {
        start: {
          line: 81,
          column: 29
        },
        end: {
          line: 81,
          column: 50
        }
      },
      "22": {
        start: {
          line: 82,
          column: 16
        },
        end: {
          line: 82,
          column: 78
        }
      },
      "23": {
        start: {
          line: 84,
          column: 37
        },
        end: {
          line: 84,
          column: 86
        }
      },
      "24": {
        start: {
          line: 85,
          column: 16
        },
        end: {
          line: 87,
          column: 17
        }
      },
      "25": {
        start: {
          line: 86,
          column: 20
        },
        end: {
          line: 86,
          column: 98
        }
      },
      "26": {
        start: {
          line: 91,
          column: 8
        },
        end: {
          line: 91,
          column: 30
        }
      },
      "27": {
        start: {
          line: 98,
          column: 24
        },
        end: {
          line: 113,
          column: 9
        }
      },
      "28": {
        start: {
          line: 115,
          column: 8
        },
        end: {
          line: 115,
          column: 50
        }
      },
      "29": {
        start: {
          line: 122,
          column: 21
        },
        end: {
          line: 122,
          column: 44
        }
      },
      "30": {
        start: {
          line: 123,
          column: 21
        },
        end: {
          line: 123,
          column: 44
        }
      },
      "31": {
        start: {
          line: 124,
          column: 8
        },
        end: {
          line: 124,
          column: 70
        }
      },
      "32": {
        start: {
          line: 131,
          column: 25
        },
        end: {
          line: 131,
          column: 46
        }
      },
      "33": {
        start: {
          line: 133,
          column: 8
        },
        end: {
          line: 133,
          column: 102
        }
      },
      "34": {
        start: {
          line: 133,
          column: 78
        },
        end: {
          line: 133,
          column: 101
        }
      },
      "35": {
        start: {
          line: 134,
          column: 8
        },
        end: {
          line: 134,
          column: 96
        }
      },
      "36": {
        start: {
          line: 134,
          column: 73
        },
        end: {
          line: 134,
          column: 95
        }
      },
      "37": {
        start: {
          line: 135,
          column: 8
        },
        end: {
          line: 135,
          column: 80
        }
      },
      "38": {
        start: {
          line: 135,
          column: 62
        },
        end: {
          line: 135,
          column: 79
        }
      },
      "39": {
        start: {
          line: 136,
          column: 8
        },
        end: {
          line: 136,
          column: 91
        }
      },
      "40": {
        start: {
          line: 136,
          column: 71
        },
        end: {
          line: 136,
          column: 90
        }
      },
      "41": {
        start: {
          line: 138,
          column: 8
        },
        end: {
          line: 138,
          column: 25
        }
      },
      "42": {
        start: {
          line: 145,
          column: 26
        },
        end: {
          line: 145,
          column: 28
        }
      },
      "43": {
        start: {
          line: 147,
          column: 8
        },
        end: {
          line: 149,
          column: 9
        }
      },
      "44": {
        start: {
          line: 148,
          column: 12
        },
        end: {
          line: 148,
          column: 76
        }
      },
      "45": {
        start: {
          line: 151,
          column: 8
        },
        end: {
          line: 153,
          column: 9
        }
      },
      "46": {
        start: {
          line: 152,
          column: 12
        },
        end: {
          line: 152,
          column: 66
        }
      },
      "47": {
        start: {
          line: 155,
          column: 8
        },
        end: {
          line: 157,
          column: 9
        }
      },
      "48": {
        start: {
          line: 156,
          column: 12
        },
        end: {
          line: 156,
          column: 64
        }
      },
      "49": {
        start: {
          line: 159,
          column: 8
        },
        end: {
          line: 159,
          column: 25
        }
      },
      "50": {
        start: {
          line: 163,
          column: 0
        },
        end: {
          line: 163,
          column: 42
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 4
          },
          end: {
            line: 7,
            column: 5
          }
        },
        loc: {
          start: {
            line: 7,
            column: 18
          },
          end: {
            line: 27,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 32,
            column: 4
          },
          end: {
            line: 32,
            column: 5
          }
        },
        loc: {
          start: {
            line: 32,
            column: 66
          },
          end: {
            line: 46,
            column: 5
          }
        },
        line: 32
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 51,
            column: 4
          },
          end: {
            line: 51,
            column: 5
          }
        },
        loc: {
          start: {
            line: 51,
            column: 34
          },
          end: {
            line: 71,
            column: 5
          }
        },
        line: 51
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 58,
            column: 30
          },
          end: {
            line: 58,
            column: 31
          }
        },
        loc: {
          start: {
            line: 58,
            column: 40
          },
          end: {
            line: 62,
            column: 9
          }
        },
        line: 58
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 64,
            column: 28
          },
          end: {
            line: 64,
            column: 29
          }
        },
        loc: {
          start: {
            line: 64,
            column: 36
          },
          end: {
            line: 68,
            column: 9
          }
        },
        line: 64
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 76,
            column: 4
          },
          end: {
            line: 76,
            column: 5
          }
        },
        loc: {
          start: {
            line: 76,
            column: 60
          },
          end: {
            line: 92,
            column: 5
          }
        },
        line: 76
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 79,
            column: 32
          },
          end: {
            line: 79,
            column: 33
          }
        },
        loc: {
          start: {
            line: 79,
            column: 43
          },
          end: {
            line: 89,
            column: 9
          }
        },
        line: 79
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 97,
            column: 4
          },
          end: {
            line: 97,
            column: 5
          }
        },
        loc: {
          start: {
            line: 97,
            column: 37
          },
          end: {
            line: 116,
            column: 5
          }
        },
        line: 97
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 121,
            column: 4
          },
          end: {
            line: 121,
            column: 5
          }
        },
        loc: {
          start: {
            line: 121,
            column: 38
          },
          end: {
            line: 125,
            column: 5
          }
        },
        line: 121
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 130,
            column: 4
          },
          end: {
            line: 130,
            column: 5
          }
        },
        loc: {
          start: {
            line: 130,
            column: 33
          },
          end: {
            line: 139,
            column: 5
          }
        },
        line: 130
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 144,
            column: 4
          },
          end: {
            line: 144,
            column: 5
          }
        },
        loc: {
          start: {
            line: 144,
            column: 47
          },
          end: {
            line: 160,
            column: 5
          }
        },
        line: 144
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 32,
            column: 48
          },
          end: {
            line: 32,
            column: 64
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 32,
            column: 62
          },
          end: {
            line: 32,
            column: 64
          }
        }],
        line: 32
      },
      "1": {
        loc: {
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 40,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 40,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 38
      },
      "2": {
        loc: {
          start: {
            line: 59,
            column: 12
          },
          end: {
            line: 61,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 59,
            column: 12
          },
          end: {
            line: 61,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 59
      },
      "3": {
        loc: {
          start: {
            line: 65,
            column: 12
          },
          end: {
            line: 67,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 65,
            column: 12
          },
          end: {
            line: 67,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 65
      },
      "4": {
        loc: {
          start: {
            line: 80,
            column: 12
          },
          end: {
            line: 88,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 80,
            column: 12
          },
          end: {
            line: 88,
            column: 13
          }
        }, {
          start: {
            line: 83,
            column: 19
          },
          end: {
            line: 88,
            column: 13
          }
        }],
        line: 80
      },
      "5": {
        loc: {
          start: {
            line: 85,
            column: 16
          },
          end: {
            line: 87,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 85,
            column: 16
          },
          end: {
            line: 87,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 85
      },
      "6": {
        loc: {
          start: {
            line: 115,
            column: 15
          },
          end: {
            line: 115,
            column: 49
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 115,
            column: 15
          },
          end: {
            line: 115,
            column: 43
          }
        }, {
          start: {
            line: 115,
            column: 47
          },
          end: {
            line: 115,
            column: 49
          }
        }],
        line: 115
      },
      "7": {
        loc: {
          start: {
            line: 124,
            column: 15
          },
          end: {
            line: 124,
            column: 69
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 124,
            column: 15
          },
          end: {
            line: 124,
            column: 40
          }
        }, {
          start: {
            line: 124,
            column: 44
          },
          end: {
            line: 124,
            column: 69
          }
        }],
        line: 124
      },
      "8": {
        loc: {
          start: {
            line: 133,
            column: 8
          },
          end: {
            line: 133,
            column: 102
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 133,
            column: 8
          },
          end: {
            line: 133,
            column: 102
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 133
      },
      "9": {
        loc: {
          start: {
            line: 134,
            column: 8
          },
          end: {
            line: 134,
            column: 96
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 134,
            column: 8
          },
          end: {
            line: 134,
            column: 96
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 134
      },
      "10": {
        loc: {
          start: {
            line: 135,
            column: 8
          },
          end: {
            line: 135,
            column: 80
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 135,
            column: 8
          },
          end: {
            line: 135,
            column: 80
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 135
      },
      "11": {
        loc: {
          start: {
            line: 136,
            column: 8
          },
          end: {
            line: 136,
            column: 91
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 136,
            column: 8
          },
          end: {
            line: 136,
            column: 91
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 136
      },
      "12": {
        loc: {
          start: {
            line: 147,
            column: 8
          },
          end: {
            line: 149,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 147,
            column: 8
          },
          end: {
            line: 149,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 147
      },
      "13": {
        loc: {
          start: {
            line: 151,
            column: 8
          },
          end: {
            line: 153,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 151,
            column: 8
          },
          end: {
            line: 153,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 151
      },
      "14": {
        loc: {
          start: {
            line: 155,
            column: 8
          },
          end: {
            line: 157,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 155,
            column: 8
          },
          end: {
            line: 157,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 155
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "e8fbba4186a921dca549b67df5799d37d4690dd2"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1ifpbl9iwe = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1ifpbl9iwe();
/**
 * Relationship Dynamics Engine
 * Adds family context and emotional depth to AI responses
 */

class RelationshipEngine {
  constructor() {
    /* istanbul ignore next */
    cov_1ifpbl9iwe().f[0]++;
    cov_1ifpbl9iwe().s[0]++;
    this.familyDynamics = {
      // Parent-Child dynamics
      'elara-themba': {
        type: 'mother-son',
        bond: 'nurturing',
        keywords: ['proud', 'believes in', 'my son']
      },
      'elara-naledi': {
        type: 'mother-daughter',
        bond: 'supportive',
        keywords: ['ambitious', 'my daughter', 'so proud']
      },
      'elara-jabari': {
        type: 'mother-son',
        bond: 'protective',
        keywords: ['brave', 'keeps us safe', 'my protector']
      },
      'elara-amara': {
        type: 'mother-daughter',
        bond: 'gentle',
        keywords: ['youngest', 'peacemaker', 'wise beyond years']
      },
      // Sibling dynamics
      'themba-naledi': {
        type: 'siblings',
        bond: 'competitive-supportive',
        keywords: ['sister', 'ambitious', 'different paths']
      },
      'themba-jabari': {
        type: 'siblings',
        bond: 'brotherly',
        keywords: ['brother', 'protective', 'strong']
      },
      'themba-amara': {
        type: 'siblings',
        bond: 'protective-gentle',
        keywords: ['little sister', 'wise', 'peaceful']
      },
      // Grandparent dynamics
      'sankofa-elara': {
        type: 'grandfather-granddaughter',
        bond: 'wisdom-legacy',
        keywords: ['taught me', 'wisdom', 'grandfather']
      },
      'sankofa-themba': {
        type: 'great-grandfather-great-grandson',
        bond: 'storytelling',
        keywords: ['stories', 'learn from past', 'great-grandson']
      },
      // Extended family
      'elara-thembo': {
        type: 'siblings',
        bond: 'supportive',
        keywords: ['brother', 'supportive', 'family']
      }
    };
  }

  /**
   * Enhance context with family relationship dynamics
   */
  enrichContext(personalityName, userMessage, baseContext =
  /* istanbul ignore next */
  (cov_1ifpbl9iwe().b[0][0]++, {})) {
    /* istanbul ignore next */
    cov_1ifpbl9iwe().f[1]++;
    const enrichedContext =
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().s[1]++, {
      ...baseContext
    });

    // Detect family member mentions
    const mentionedFamily =
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().s[2]++, this.detectFamilyMentions(userMessage));
    /* istanbul ignore next */
    cov_1ifpbl9iwe().s[3]++;
    if (mentionedFamily.length > 0) {
      /* istanbul ignore next */
      cov_1ifpbl9iwe().b[1][0]++;
      cov_1ifpbl9iwe().s[4]++;
      enrichedContext.familyContext = this.buildFamilyContext(personalityName, mentionedFamily);
    } else
    /* istanbul ignore next */
    {
      cov_1ifpbl9iwe().b[1][1]++;
    }

    // Add emotional context based on message tone
    cov_1ifpbl9iwe().s[5]++;
    enrichedContext.emotionalTone = this.detectEmotionalTone(userMessage);
    /* istanbul ignore next */
    cov_1ifpbl9iwe().s[6]++;
    return enrichedContext;
  }

  /**
   * Detect which family members are mentioned in the message
   */
  detectFamilyMentions(message) {
    /* istanbul ignore next */
    cov_1ifpbl9iwe().f[2]++;
    const lowerMsg =
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().s[7]++, message.toLowerCase());
    const familyMembers =
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().s[8]++, ['elara', 'themba', 'naledi', 'jabari', 'amara', 'sankofa', 'thembo', 'kofi', 'zola', 'abeni']);
    const familyTerms =
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().s[9]++, ['mom', 'mother', 'dad', 'father', 'sister', 'brother', 'grandfather', 'grandpa', 'family']);
    const mentioned =
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().s[10]++, []);
    /* istanbul ignore next */
    cov_1ifpbl9iwe().s[11]++;
    familyMembers.forEach(member => {
      /* istanbul ignore next */
      cov_1ifpbl9iwe().f[3]++;
      cov_1ifpbl9iwe().s[12]++;
      if (lowerMsg.includes(member)) {
        /* istanbul ignore next */
        cov_1ifpbl9iwe().b[2][0]++;
        cov_1ifpbl9iwe().s[13]++;
        mentioned.push(member);
      } else
      /* istanbul ignore next */
      {
        cov_1ifpbl9iwe().b[2][1]++;
      }
    });
    /* istanbul ignore next */
    cov_1ifpbl9iwe().s[14]++;
    familyTerms.forEach(term => {
      /* istanbul ignore next */
      cov_1ifpbl9iwe().f[4]++;
      cov_1ifpbl9iwe().s[15]++;
      if (lowerMsg.includes(term)) {
        /* istanbul ignore next */
        cov_1ifpbl9iwe().b[3][0]++;
        cov_1ifpbl9iwe().s[16]++;
        mentioned.push(`family_term:${term}`);
      } else
      /* istanbul ignore next */
      {
        cov_1ifpbl9iwe().b[3][1]++;
      }
    });
    /* istanbul ignore next */
    cov_1ifpbl9iwe().s[17]++;
    return mentioned;
  }

  /**
   * Build rich family context for the AI to reference
   */
  buildFamilyContext(currentPersonality, mentionedFamily) {
    /* istanbul ignore next */
    cov_1ifpbl9iwe().f[5]++;
    let context =
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().s[18]++, '');
    /* istanbul ignore next */
    cov_1ifpbl9iwe().s[19]++;
    mentionedFamily.forEach(mention => {
      /* istanbul ignore next */
      cov_1ifpbl9iwe().f[6]++;
      cov_1ifpbl9iwe().s[20]++;
      if (mention.startsWith('family_term:')) {
        /* istanbul ignore next */
        cov_1ifpbl9iwe().b[4][0]++;
        const term =
        /* istanbul ignore next */
        (cov_1ifpbl9iwe().s[21]++, mention.split(':')[1]);
        /* istanbul ignore next */
        cov_1ifpbl9iwe().s[22]++;
        context += this.mapFamilyTerm(currentPersonality, term) + ' ';
      } else {
        /* istanbul ignore next */
        cov_1ifpbl9iwe().b[4][1]++;
        const relationship =
        /* istanbul ignore next */
        (cov_1ifpbl9iwe().s[23]++, this.getRelationship(currentPersonality, mention));
        /* istanbul ignore next */
        cov_1ifpbl9iwe().s[24]++;
        if (relationship) {
          /* istanbul ignore next */
          cov_1ifpbl9iwe().b[5][0]++;
          cov_1ifpbl9iwe().s[25]++;
          context += `${mention} is your ${relationship.type} (${relationship.bond}). `;
        } else
        /* istanbul ignore next */
        {
          cov_1ifpbl9iwe().b[5][1]++;
        }
      }
    });
    /* istanbul ignore next */
    cov_1ifpbl9iwe().s[26]++;
    return context.trim();
  }

  /**
   * Map family terms (mom, sister, etc.) to actual family members
   */
  mapFamilyTerm(personality, term) {
    /* istanbul ignore next */
    cov_1ifpbl9iwe().f[7]++;
    const mapping =
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().s[27]++, {
      'themba': {
        'mom': 'Elara is your mother',
        'mother': 'Elara is your mother',
        'sister': 'Naledi and Amara are your sisters',
        'brother': 'Jabari is your brother',
        'grandfather': 'Sankofa is your great-grandfather',
        'grandpa': 'Sankofa is your great-grandfather'
      },
      'elara': {
        'son': 'Themba and Jabari are your sons',
        'daughter': 'Naledi and Amara are your daughters',
        'brother': 'Thembo is your brother',
        'grandfather': 'Sankofa is your grandfather'
      }
    });
    /* istanbul ignore next */
    cov_1ifpbl9iwe().s[28]++;
    return /* istanbul ignore next */(cov_1ifpbl9iwe().b[6][0]++, mapping[personality]?.[term]) ||
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().b[6][1]++, '');
  }

  /**
   * Get relationship between two family members
   */
  getRelationship(person1, person2) {
    /* istanbul ignore next */
    cov_1ifpbl9iwe().f[8]++;
    const key1 =
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().s[29]++, `${person1}-${person2}`);
    const key2 =
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().s[30]++, `${person2}-${person1}`);
    /* istanbul ignore next */
    cov_1ifpbl9iwe().s[31]++;
    return /* istanbul ignore next */(cov_1ifpbl9iwe().b[7][0]++, this.familyDynamics[key1]) ||
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().b[7][1]++, this.familyDynamics[key2]);
  }

  /**
   * Detect emotional tone of user message
   */
  detectEmotionalTone(message) {
    /* istanbul ignore next */
    cov_1ifpbl9iwe().f[9]++;
    const lowerMsg =
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().s[32]++, message.toLowerCase());
    /* istanbul ignore next */
    cov_1ifpbl9iwe().s[33]++;
    if (lowerMsg.match(/\b(help|struggling|difficult|hard|confused)\b/)) {
      /* istanbul ignore next */
      cov_1ifpbl9iwe().b[8][0]++;
      cov_1ifpbl9iwe().s[34]++;
      return 'needs_support';
    } else
    /* istanbul ignore next */
    {
      cov_1ifpbl9iwe().b[8][1]++;
    }
    cov_1ifpbl9iwe().s[35]++;
    if (lowerMsg.match(/\b(excited|amazing|awesome|great|love)\b/)) {
      /* istanbul ignore next */
      cov_1ifpbl9iwe().b[9][0]++;
      cov_1ifpbl9iwe().s[36]++;
      return 'enthusiastic';
    } else
    /* istanbul ignore next */
    {
      cov_1ifpbl9iwe().b[9][1]++;
    }
    cov_1ifpbl9iwe().s[37]++;
    if (lowerMsg.match(/\b(how|what|why|when|where)\b/)) {
      /* istanbul ignore next */
      cov_1ifpbl9iwe().b[10][0]++;
      cov_1ifpbl9iwe().s[38]++;
      return 'curious';
    } else
    /* istanbul ignore next */
    {
      cov_1ifpbl9iwe().b[10][1]++;
    }
    cov_1ifpbl9iwe().s[39]++;
    if (lowerMsg.match(/\b(worried|concerned|scared|anxious)\b/)) {
      /* istanbul ignore next */
      cov_1ifpbl9iwe().b[11][0]++;
      cov_1ifpbl9iwe().s[40]++;
      return 'concerned';
    } else
    /* istanbul ignore next */
    {
      cov_1ifpbl9iwe().b[11][1]++;
    }
    cov_1ifpbl9iwe().s[41]++;
    return 'neutral';
  }

  /**
   * Generate family-aware response modifiers
   */
  getResponseModifiers(personality, context) {
    /* istanbul ignore next */
    cov_1ifpbl9iwe().f[10]++;
    const modifiers =
    /* istanbul ignore next */
    (cov_1ifpbl9iwe().s[42]++, []);
    /* istanbul ignore next */
    cov_1ifpbl9iwe().s[43]++;
    if (context.familyContext) {
      /* istanbul ignore next */
      cov_1ifpbl9iwe().b[12][0]++;
      cov_1ifpbl9iwe().s[44]++;
      modifiers.push('Reference your family relationships naturally');
    } else
    /* istanbul ignore next */
    {
      cov_1ifpbl9iwe().b[12][1]++;
    }
    cov_1ifpbl9iwe().s[45]++;
    if (context.emotionalTone === 'needs_support') {
      /* istanbul ignore next */
      cov_1ifpbl9iwe().b[13][0]++;
      cov_1ifpbl9iwe().s[46]++;
      modifiers.push('Be extra supportive and encouraging');
    } else
    /* istanbul ignore next */
    {
      cov_1ifpbl9iwe().b[13][1]++;
    }
    cov_1ifpbl9iwe().s[47]++;
    if (context.emotionalTone === 'enthusiastic') {
      /* istanbul ignore next */
      cov_1ifpbl9iwe().b[14][0]++;
      cov_1ifpbl9iwe().s[48]++;
      modifiers.push('Match their enthusiasm and energy');
    } else
    /* istanbul ignore next */
    {
      cov_1ifpbl9iwe().b[14][1]++;
    }
    cov_1ifpbl9iwe().s[49]++;
    return modifiers;
  }
}
/* istanbul ignore next */
cov_1ifpbl9iwe().s[50]++;
module.exports = new RelationshipEngine();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWlmcGJsOWl3ZSIsImFjdHVhbENvdmVyYWdlIiwiUmVsYXRpb25zaGlwRW5naW5lIiwiY29uc3RydWN0b3IiLCJmIiwicyIsImZhbWlseUR5bmFtaWNzIiwidHlwZSIsImJvbmQiLCJrZXl3b3JkcyIsImVucmljaENvbnRleHQiLCJwZXJzb25hbGl0eU5hbWUiLCJ1c2VyTWVzc2FnZSIsImJhc2VDb250ZXh0IiwiYiIsImVucmljaGVkQ29udGV4dCIsIm1lbnRpb25lZEZhbWlseSIsImRldGVjdEZhbWlseU1lbnRpb25zIiwibGVuZ3RoIiwiZmFtaWx5Q29udGV4dCIsImJ1aWxkRmFtaWx5Q29udGV4dCIsImVtb3Rpb25hbFRvbmUiLCJkZXRlY3RFbW90aW9uYWxUb25lIiwibWVzc2FnZSIsImxvd2VyTXNnIiwidG9Mb3dlckNhc2UiLCJmYW1pbHlNZW1iZXJzIiwiZmFtaWx5VGVybXMiLCJtZW50aW9uZWQiLCJmb3JFYWNoIiwibWVtYmVyIiwiaW5jbHVkZXMiLCJwdXNoIiwidGVybSIsImN1cnJlbnRQZXJzb25hbGl0eSIsImNvbnRleHQiLCJtZW50aW9uIiwic3RhcnRzV2l0aCIsInNwbGl0IiwibWFwRmFtaWx5VGVybSIsInJlbGF0aW9uc2hpcCIsImdldFJlbGF0aW9uc2hpcCIsInRyaW0iLCJwZXJzb25hbGl0eSIsIm1hcHBpbmciLCJwZXJzb24xIiwicGVyc29uMiIsImtleTEiLCJrZXkyIiwibWF0Y2giLCJnZXRSZXNwb25zZU1vZGlmaWVycyIsIm1vZGlmaWVycyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJyZWxhdGlvbnNoaXAtZW5naW5lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmVsYXRpb25zaGlwIER5bmFtaWNzIEVuZ2luZVxuICogQWRkcyBmYW1pbHkgY29udGV4dCBhbmQgZW1vdGlvbmFsIGRlcHRoIHRvIEFJIHJlc3BvbnNlc1xuICovXG5cbmNsYXNzIFJlbGF0aW9uc2hpcEVuZ2luZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZmFtaWx5RHluYW1pY3MgPSB7XG4gICAgICAgICAgICAvLyBQYXJlbnQtQ2hpbGQgZHluYW1pY3NcbiAgICAgICAgICAgICdlbGFyYS10aGVtYmEnOiB7IHR5cGU6ICdtb3RoZXItc29uJywgYm9uZDogJ251cnR1cmluZycsIGtleXdvcmRzOiBbJ3Byb3VkJywgJ2JlbGlldmVzIGluJywgJ215IHNvbiddIH0sXG4gICAgICAgICAgICAnZWxhcmEtbmFsZWRpJzogeyB0eXBlOiAnbW90aGVyLWRhdWdodGVyJywgYm9uZDogJ3N1cHBvcnRpdmUnLCBrZXl3b3JkczogWydhbWJpdGlvdXMnLCAnbXkgZGF1Z2h0ZXInLCAnc28gcHJvdWQnXSB9LFxuICAgICAgICAgICAgJ2VsYXJhLWphYmFyaSc6IHsgdHlwZTogJ21vdGhlci1zb24nLCBib25kOiAncHJvdGVjdGl2ZScsIGtleXdvcmRzOiBbJ2JyYXZlJywgJ2tlZXBzIHVzIHNhZmUnLCAnbXkgcHJvdGVjdG9yJ10gfSxcbiAgICAgICAgICAgICdlbGFyYS1hbWFyYSc6IHsgdHlwZTogJ21vdGhlci1kYXVnaHRlcicsIGJvbmQ6ICdnZW50bGUnLCBrZXl3b3JkczogWyd5b3VuZ2VzdCcsICdwZWFjZW1ha2VyJywgJ3dpc2UgYmV5b25kIHllYXJzJ10gfSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2libGluZyBkeW5hbWljc1xuICAgICAgICAgICAgJ3RoZW1iYS1uYWxlZGknOiB7IHR5cGU6ICdzaWJsaW5ncycsIGJvbmQ6ICdjb21wZXRpdGl2ZS1zdXBwb3J0aXZlJywga2V5d29yZHM6IFsnc2lzdGVyJywgJ2FtYml0aW91cycsICdkaWZmZXJlbnQgcGF0aHMnXSB9LFxuICAgICAgICAgICAgJ3RoZW1iYS1qYWJhcmknOiB7IHR5cGU6ICdzaWJsaW5ncycsIGJvbmQ6ICdicm90aGVybHknLCBrZXl3b3JkczogWydicm90aGVyJywgJ3Byb3RlY3RpdmUnLCAnc3Ryb25nJ10gfSxcbiAgICAgICAgICAgICd0aGVtYmEtYW1hcmEnOiB7IHR5cGU6ICdzaWJsaW5ncycsIGJvbmQ6ICdwcm90ZWN0aXZlLWdlbnRsZScsIGtleXdvcmRzOiBbJ2xpdHRsZSBzaXN0ZXInLCAnd2lzZScsICdwZWFjZWZ1bCddIH0sXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEdyYW5kcGFyZW50IGR5bmFtaWNzXG4gICAgICAgICAgICAnc2Fua29mYS1lbGFyYSc6IHsgdHlwZTogJ2dyYW5kZmF0aGVyLWdyYW5kZGF1Z2h0ZXInLCBib25kOiAnd2lzZG9tLWxlZ2FjeScsIGtleXdvcmRzOiBbJ3RhdWdodCBtZScsICd3aXNkb20nLCAnZ3JhbmRmYXRoZXInXSB9LFxuICAgICAgICAgICAgJ3NhbmtvZmEtdGhlbWJhJzogeyB0eXBlOiAnZ3JlYXQtZ3JhbmRmYXRoZXItZ3JlYXQtZ3JhbmRzb24nLCBib25kOiAnc3Rvcnl0ZWxsaW5nJywga2V5d29yZHM6IFsnc3RvcmllcycsICdsZWFybiBmcm9tIHBhc3QnLCAnZ3JlYXQtZ3JhbmRzb24nXSB9LFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBFeHRlbmRlZCBmYW1pbHlcbiAgICAgICAgICAgICdlbGFyYS10aGVtYm8nOiB7IHR5cGU6ICdzaWJsaW5ncycsIGJvbmQ6ICdzdXBwb3J0aXZlJywga2V5d29yZHM6IFsnYnJvdGhlcicsICdzdXBwb3J0aXZlJywgJ2ZhbWlseSddIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5oYW5jZSBjb250ZXh0IHdpdGggZmFtaWx5IHJlbGF0aW9uc2hpcCBkeW5hbWljc1xuICAgICAqL1xuICAgIGVucmljaENvbnRleHQocGVyc29uYWxpdHlOYW1lLCB1c2VyTWVzc2FnZSwgYmFzZUNvbnRleHQgPSB7fSkge1xuICAgICAgICBjb25zdCBlbnJpY2hlZENvbnRleHQgPSB7IC4uLmJhc2VDb250ZXh0IH07XG4gICAgICAgIFxuICAgICAgICAvLyBEZXRlY3QgZmFtaWx5IG1lbWJlciBtZW50aW9uc1xuICAgICAgICBjb25zdCBtZW50aW9uZWRGYW1pbHkgPSB0aGlzLmRldGVjdEZhbWlseU1lbnRpb25zKHVzZXJNZXNzYWdlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChtZW50aW9uZWRGYW1pbHkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZW5yaWNoZWRDb250ZXh0LmZhbWlseUNvbnRleHQgPSB0aGlzLmJ1aWxkRmFtaWx5Q29udGV4dChwZXJzb25hbGl0eU5hbWUsIG1lbnRpb25lZEZhbWlseSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBlbW90aW9uYWwgY29udGV4dCBiYXNlZCBvbiBtZXNzYWdlIHRvbmVcbiAgICAgICAgZW5yaWNoZWRDb250ZXh0LmVtb3Rpb25hbFRvbmUgPSB0aGlzLmRldGVjdEVtb3Rpb25hbFRvbmUodXNlck1lc3NhZ2UpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGVucmljaGVkQ29udGV4dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3Qgd2hpY2ggZmFtaWx5IG1lbWJlcnMgYXJlIG1lbnRpb25lZCBpbiB0aGUgbWVzc2FnZVxuICAgICAqL1xuICAgIGRldGVjdEZhbWlseU1lbnRpb25zKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgbG93ZXJNc2cgPSBtZXNzYWdlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGZhbWlseU1lbWJlcnMgPSBbJ2VsYXJhJywgJ3RoZW1iYScsICduYWxlZGknLCAnamFiYXJpJywgJ2FtYXJhJywgJ3NhbmtvZmEnLCAndGhlbWJvJywgJ2tvZmknLCAnem9sYScsICdhYmVuaSddO1xuICAgICAgICBjb25zdCBmYW1pbHlUZXJtcyA9IFsnbW9tJywgJ21vdGhlcicsICdkYWQnLCAnZmF0aGVyJywgJ3Npc3RlcicsICdicm90aGVyJywgJ2dyYW5kZmF0aGVyJywgJ2dyYW5kcGEnLCAnZmFtaWx5J107XG4gICAgICAgIFxuICAgICAgICBjb25zdCBtZW50aW9uZWQgPSBbXTtcbiAgICAgICAgXG4gICAgICAgIGZhbWlseU1lbWJlcnMuZm9yRWFjaChtZW1iZXIgPT4ge1xuICAgICAgICAgICAgaWYgKGxvd2VyTXNnLmluY2x1ZGVzKG1lbWJlcikpIHtcbiAgICAgICAgICAgICAgICBtZW50aW9uZWQucHVzaChtZW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGZhbWlseVRlcm1zLmZvckVhY2godGVybSA9PiB7XG4gICAgICAgICAgICBpZiAobG93ZXJNc2cuaW5jbHVkZXModGVybSkpIHtcbiAgICAgICAgICAgICAgICBtZW50aW9uZWQucHVzaChgZmFtaWx5X3Rlcm06JHt0ZXJtfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBtZW50aW9uZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgcmljaCBmYW1pbHkgY29udGV4dCBmb3IgdGhlIEFJIHRvIHJlZmVyZW5jZVxuICAgICAqL1xuICAgIGJ1aWxkRmFtaWx5Q29udGV4dChjdXJyZW50UGVyc29uYWxpdHksIG1lbnRpb25lZEZhbWlseSkge1xuICAgICAgICBsZXQgY29udGV4dCA9ICcnO1xuICAgICAgICBcbiAgICAgICAgbWVudGlvbmVkRmFtaWx5LmZvckVhY2gobWVudGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAobWVudGlvbi5zdGFydHNXaXRoKCdmYW1pbHlfdGVybTonKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlcm0gPSBtZW50aW9uLnNwbGl0KCc6JylbMV07XG4gICAgICAgICAgICAgICAgY29udGV4dCArPSB0aGlzLm1hcEZhbWlseVRlcm0oY3VycmVudFBlcnNvbmFsaXR5LCB0ZXJtKSArICcgJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwID0gdGhpcy5nZXRSZWxhdGlvbnNoaXAoY3VycmVudFBlcnNvbmFsaXR5LCBtZW50aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpb25zaGlwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQgKz0gYCR7bWVudGlvbn0gaXMgeW91ciAke3JlbGF0aW9uc2hpcC50eXBlfSAoJHtyZWxhdGlvbnNoaXAuYm9uZH0pLiBgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gY29udGV4dC50cmltKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFwIGZhbWlseSB0ZXJtcyAobW9tLCBzaXN0ZXIsIGV0Yy4pIHRvIGFjdHVhbCBmYW1pbHkgbWVtYmVyc1xuICAgICAqL1xuICAgIG1hcEZhbWlseVRlcm0ocGVyc29uYWxpdHksIHRlcm0pIHtcbiAgICAgICAgY29uc3QgbWFwcGluZyA9IHtcbiAgICAgICAgICAgICd0aGVtYmEnOiB7XG4gICAgICAgICAgICAgICAgJ21vbSc6ICdFbGFyYSBpcyB5b3VyIG1vdGhlcicsXG4gICAgICAgICAgICAgICAgJ21vdGhlcic6ICdFbGFyYSBpcyB5b3VyIG1vdGhlcicsXG4gICAgICAgICAgICAgICAgJ3Npc3Rlcic6ICdOYWxlZGkgYW5kIEFtYXJhIGFyZSB5b3VyIHNpc3RlcnMnLFxuICAgICAgICAgICAgICAgICdicm90aGVyJzogJ0phYmFyaSBpcyB5b3VyIGJyb3RoZXInLFxuICAgICAgICAgICAgICAgICdncmFuZGZhdGhlcic6ICdTYW5rb2ZhIGlzIHlvdXIgZ3JlYXQtZ3JhbmRmYXRoZXInLFxuICAgICAgICAgICAgICAgICdncmFuZHBhJzogJ1NhbmtvZmEgaXMgeW91ciBncmVhdC1ncmFuZGZhdGhlcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnZWxhcmEnOiB7XG4gICAgICAgICAgICAgICAgJ3Nvbic6ICdUaGVtYmEgYW5kIEphYmFyaSBhcmUgeW91ciBzb25zJyxcbiAgICAgICAgICAgICAgICAnZGF1Z2h0ZXInOiAnTmFsZWRpIGFuZCBBbWFyYSBhcmUgeW91ciBkYXVnaHRlcnMnLFxuICAgICAgICAgICAgICAgICdicm90aGVyJzogJ1RoZW1ibyBpcyB5b3VyIGJyb3RoZXInLFxuICAgICAgICAgICAgICAgICdncmFuZGZhdGhlcic6ICdTYW5rb2ZhIGlzIHlvdXIgZ3JhbmRmYXRoZXInXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbWFwcGluZ1twZXJzb25hbGl0eV0/Llt0ZXJtXSB8fCAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgcmVsYXRpb25zaGlwIGJldHdlZW4gdHdvIGZhbWlseSBtZW1iZXJzXG4gICAgICovXG4gICAgZ2V0UmVsYXRpb25zaGlwKHBlcnNvbjEsIHBlcnNvbjIpIHtcbiAgICAgICAgY29uc3Qga2V5MSA9IGAke3BlcnNvbjF9LSR7cGVyc29uMn1gO1xuICAgICAgICBjb25zdCBrZXkyID0gYCR7cGVyc29uMn0tJHtwZXJzb24xfWA7XG4gICAgICAgIHJldHVybiB0aGlzLmZhbWlseUR5bmFtaWNzW2tleTFdIHx8IHRoaXMuZmFtaWx5RHluYW1pY3Nba2V5Ml07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGVtb3Rpb25hbCB0b25lIG9mIHVzZXIgbWVzc2FnZVxuICAgICAqL1xuICAgIGRldGVjdEVtb3Rpb25hbFRvbmUobWVzc2FnZSkge1xuICAgICAgICBjb25zdCBsb3dlck1zZyA9IG1lc3NhZ2UudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChsb3dlck1zZy5tYXRjaCgvXFxiKGhlbHB8c3RydWdnbGluZ3xkaWZmaWN1bHR8aGFyZHxjb25mdXNlZClcXGIvKSkge3JldHVybiAnbmVlZHNfc3VwcG9ydCc7fVxuICAgICAgICBpZiAobG93ZXJNc2cubWF0Y2goL1xcYihleGNpdGVkfGFtYXppbmd8YXdlc29tZXxncmVhdHxsb3ZlKVxcYi8pKSB7cmV0dXJuICdlbnRodXNpYXN0aWMnO31cbiAgICAgICAgaWYgKGxvd2VyTXNnLm1hdGNoKC9cXGIoaG93fHdoYXR8d2h5fHdoZW58d2hlcmUpXFxiLykpIHtyZXR1cm4gJ2N1cmlvdXMnO31cbiAgICAgICAgaWYgKGxvd2VyTXNnLm1hdGNoKC9cXGIod29ycmllZHxjb25jZXJuZWR8c2NhcmVkfGFueGlvdXMpXFxiLykpIHtyZXR1cm4gJ2NvbmNlcm5lZCc7fVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuICduZXV0cmFsJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBmYW1pbHktYXdhcmUgcmVzcG9uc2UgbW9kaWZpZXJzXG4gICAgICovXG4gICAgZ2V0UmVzcG9uc2VNb2RpZmllcnMocGVyc29uYWxpdHksIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgbW9kaWZpZXJzID0gW107XG4gICAgICAgIFxuICAgICAgICBpZiAoY29udGV4dC5mYW1pbHlDb250ZXh0KSB7XG4gICAgICAgICAgICBtb2RpZmllcnMucHVzaCgnUmVmZXJlbmNlIHlvdXIgZmFtaWx5IHJlbGF0aW9uc2hpcHMgbmF0dXJhbGx5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChjb250ZXh0LmVtb3Rpb25hbFRvbmUgPT09ICduZWVkc19zdXBwb3J0Jykge1xuICAgICAgICAgICAgbW9kaWZpZXJzLnB1c2goJ0JlIGV4dHJhIHN1cHBvcnRpdmUgYW5kIGVuY291cmFnaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChjb250ZXh0LmVtb3Rpb25hbFRvbmUgPT09ICdlbnRodXNpYXN0aWMnKSB7XG4gICAgICAgICAgICBtb2RpZmllcnMucHVzaCgnTWF0Y2ggdGhlaXIgZW50aHVzaWFzbSBhbmQgZW5lcmd5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBtb2RpZmllcnM7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBSZWxhdGlvbnNoaXBFbmdpbmUoKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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