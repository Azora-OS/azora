{"version":3,"names":["cov_1fplwjeh53","actualCoverage","Router","courseService","router","s","get","req","res","next","f","tier","language","page","b","pageSize","query","result","listCourses","parseInt","json","success","data","courses","pagination","total","totalPages","Math","ceil","timestamp","Date","error","post","course","createCourse","body","status","getCourse","params","id","put","updateCourse","delete","deleteCourse","message","module","createModule","courseId","assessment","createAssessment"],"sources":["course.routes.ts"],"sourcesContent":["import { Router, Request, Response, NextFunction } from 'express';\nimport { courseService } from '../services/course.service';\n\nconst router = Router();\n\n// GET /api/v1/courses - List all courses\nrouter.get('/', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { tier, language, page = 1, pageSize = 10 } = req.query;\n    \n    const result = await courseService.listCourses(\n      tier as string | undefined,\n      language as string | undefined,\n      parseInt(page as string),\n      parseInt(pageSize as string)\n    );\n\n    res.json({\n      success: true,\n      data: result.courses,\n      pagination: {\n        total: result.total,\n        page: parseInt(page as string),\n        pageSize: parseInt(pageSize as string),\n        totalPages: Math.ceil(result.total / parseInt(pageSize as string)),\n      },\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n// POST /api/v1/courses - Create a new course\nrouter.post('/', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const course = await courseService.createCourse(req.body);\n    res.status(201).json({\n      success: true,\n      data: course,\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n// GET /api/v1/courses/:id - Get a specific course\nrouter.get('/:id', async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n  try {\n    const course = await courseService.getCourse(req.params.id);\n    \n    if (!course) {\n      res.status(404).json({\n        success: false,\n        error: 'Course not found',\n        timestamp: new Date(),\n      });\n      return;\n    }\n\n    res.json({\n      success: true,\n      data: course,\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n// PUT /api/v1/courses/:id - Update a course\nrouter.put('/:id', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const course = await courseService.updateCourse(req.params.id, req.body);\n    res.json({\n      success: true,\n      data: course,\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n// DELETE /api/v1/courses/:id - Delete a course\nrouter.delete('/:id', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    await courseService.deleteCourse(req.params.id);\n    res.json({\n      success: true,\n      message: 'Course deleted successfully',\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n// POST /api/v1/courses/:id/modules - Create a module\nrouter.post('/:id/modules', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const module = await courseService.createModule({\n      ...req.body,\n      courseId: req.params.id,\n    });\n    res.status(201).json({\n      success: true,\n      data: module,\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n// POST /api/v1/courses/:id/assessments - Create an assessment\nrouter.post('/:id/assessments', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const assessment = await courseService.createAssessment({\n      ...req.body,\n      courseId: req.params.id,\n    });\n    res.status(201).json({\n      success: true,\n      data: assessment,\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\nexport default router;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ,SAASE,MAAM,QAAyC,SAAS;AACjE,SAASC,aAAa,QAAQ,4BAA4B;AAE1D,MAAMC,MAAM;AAAA;AAAA,CAAAJ,cAAA,GAAAK,CAAA,OAAGH,MAAM,CAAC,CAAC;;AAEvB;AAAA;AAAAF,cAAA,GAAAK,CAAA;AACAD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAE,OAAOC,GAAY,EAAEC,GAAa,EAAEC,IAAkB,KAAK;EAAA;EAAAT,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAK,CAAA;EACzE,IAAI;IACF,MAAM;MAAEM,IAAI;MAAEC,QAAQ;MAAEC,IAAI;MAAA;MAAA,CAAAb,cAAA,GAAAc,CAAA,UAAG,CAAC;MAAEC,QAAQ;MAAA;MAAA,CAAAf,cAAA,GAAAc,CAAA,UAAG,EAAE;IAAC,CAAC;IAAA;IAAA,CAAAd,cAAA,GAAAK,CAAA,OAAGE,GAAG,CAACS,KAAK;IAE7D,MAAMC,MAAM;IAAA;IAAA,CAAAjB,cAAA,GAAAK,CAAA,OAAG,MAAMF,aAAa,CAACe,WAAW,CAC5CP,IAAI,EACJC,QAAQ,EACRO,QAAQ,CAACN,IAAc,CAAC,EACxBM,QAAQ,CAACJ,QAAkB,CAC7B,CAAC;IAAC;IAAAf,cAAA,GAAAK,CAAA;IAEFG,GAAG,CAACY,IAAI,CAAC;MACPC,OAAO,EAAE,IAAI;MACbC,IAAI,EAAEL,MAAM,CAACM,OAAO;MACpBC,UAAU,EAAE;QACVC,KAAK,EAAER,MAAM,CAACQ,KAAK;QACnBZ,IAAI,EAAEM,QAAQ,CAACN,IAAc,CAAC;QAC9BE,QAAQ,EAAEI,QAAQ,CAACJ,QAAkB,CAAC;QACtCW,UAAU,EAAEC,IAAI,CAACC,IAAI,CAACX,MAAM,CAACQ,KAAK,GAAGN,QAAQ,CAACJ,QAAkB,CAAC;MACnE,CAAC;MACDc,SAAS,EAAE,IAAIC,IAAI,CAAC;IACtB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA;IAAA/B,cAAA,GAAAK,CAAA;IACdI,IAAI,CAACsB,KAAK,CAAC;EACb;AACF,CAAC,CAAC;;AAEF;AAAA;AAAA/B,cAAA,GAAAK,CAAA;AACAD,MAAM,CAAC4B,IAAI,CAAC,GAAG,EAAE,OAAOzB,GAAY,EAAEC,GAAa,EAAEC,IAAkB,KAAK;EAAA;EAAAT,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAK,CAAA;EAC1E,IAAI;IACF,MAAM4B,MAAM;IAAA;IAAA,CAAAjC,cAAA,GAAAK,CAAA,OAAG,MAAMF,aAAa,CAAC+B,YAAY,CAAC3B,GAAG,CAAC4B,IAAI,CAAC;IAAC;IAAAnC,cAAA,GAAAK,CAAA;IAC1DG,GAAG,CAAC4B,MAAM,CAAC,GAAG,CAAC,CAAChB,IAAI,CAAC;MACnBC,OAAO,EAAE,IAAI;MACbC,IAAI,EAAEW,MAAM;MACZJ,SAAS,EAAE,IAAIC,IAAI,CAAC;IACtB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA;IAAA/B,cAAA,GAAAK,CAAA;IACdI,IAAI,CAACsB,KAAK,CAAC;EACb;AACF,CAAC,CAAC;;AAEF;AAAA;AAAA/B,cAAA,GAAAK,CAAA;AACAD,MAAM,CAACE,GAAG,CAAC,MAAM,EAAE,OAAOC,GAAY,EAAEC,GAAa,EAAEC,IAAkB,KAAoB;EAAA;EAAAT,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAK,CAAA;EAC3F,IAAI;IACF,MAAM4B,MAAM;IAAA;IAAA,CAAAjC,cAAA,GAAAK,CAAA,QAAG,MAAMF,aAAa,CAACkC,SAAS,CAAC9B,GAAG,CAAC+B,MAAM,CAACC,EAAE,CAAC;IAAC;IAAAvC,cAAA,GAAAK,CAAA;IAE5D,IAAI,CAAC4B,MAAM,EAAE;MAAA;MAAAjC,cAAA,GAAAc,CAAA;MAAAd,cAAA,GAAAK,CAAA;MACXG,GAAG,CAAC4B,MAAM,CAAC,GAAG,CAAC,CAAChB,IAAI,CAAC;QACnBC,OAAO,EAAE,KAAK;QACdU,KAAK,EAAE,kBAAkB;QACzBF,SAAS,EAAE,IAAIC,IAAI,CAAC;MACtB,CAAC,CAAC;MAAC;MAAA9B,cAAA,GAAAK,CAAA;MACH;IACF,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAc,CAAA;IAAA;IAAAd,cAAA,GAAAK,CAAA;IAEDG,GAAG,CAACY,IAAI,CAAC;MACPC,OAAO,EAAE,IAAI;MACbC,IAAI,EAAEW,MAAM;MACZJ,SAAS,EAAE,IAAIC,IAAI,CAAC;IACtB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA;IAAA/B,cAAA,GAAAK,CAAA;IACdI,IAAI,CAACsB,KAAK,CAAC;EACb;AACF,CAAC,CAAC;;AAEF;AAAA;AAAA/B,cAAA,GAAAK,CAAA;AACAD,MAAM,CAACoC,GAAG,CAAC,MAAM,EAAE,OAAOjC,GAAY,EAAEC,GAAa,EAAEC,IAAkB,KAAK;EAAA;EAAAT,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAK,CAAA;EAC5E,IAAI;IACF,MAAM4B,MAAM;IAAA;IAAA,CAAAjC,cAAA,GAAAK,CAAA,QAAG,MAAMF,aAAa,CAACsC,YAAY,CAAClC,GAAG,CAAC+B,MAAM,CAACC,EAAE,EAAEhC,GAAG,CAAC4B,IAAI,CAAC;IAAC;IAAAnC,cAAA,GAAAK,CAAA;IACzEG,GAAG,CAACY,IAAI,CAAC;MACPC,OAAO,EAAE,IAAI;MACbC,IAAI,EAAEW,MAAM;MACZJ,SAAS,EAAE,IAAIC,IAAI,CAAC;IACtB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA;IAAA/B,cAAA,GAAAK,CAAA;IACdI,IAAI,CAACsB,KAAK,CAAC;EACb;AACF,CAAC,CAAC;;AAEF;AAAA;AAAA/B,cAAA,GAAAK,CAAA;AACAD,MAAM,CAACsC,MAAM,CAAC,MAAM,EAAE,OAAOnC,GAAY,EAAEC,GAAa,EAAEC,IAAkB,KAAK;EAAA;EAAAT,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAK,CAAA;EAC/E,IAAI;IAAA;IAAAL,cAAA,GAAAK,CAAA;IACF,MAAMF,aAAa,CAACwC,YAAY,CAACpC,GAAG,CAAC+B,MAAM,CAACC,EAAE,CAAC;IAAC;IAAAvC,cAAA,GAAAK,CAAA;IAChDG,GAAG,CAACY,IAAI,CAAC;MACPC,OAAO,EAAE,IAAI;MACbuB,OAAO,EAAE,6BAA6B;MACtCf,SAAS,EAAE,IAAIC,IAAI,CAAC;IACtB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA;IAAA/B,cAAA,GAAAK,CAAA;IACdI,IAAI,CAACsB,KAAK,CAAC;EACb;AACF,CAAC,CAAC;;AAEF;AAAA;AAAA/B,cAAA,GAAAK,CAAA;AACAD,MAAM,CAAC4B,IAAI,CAAC,cAAc,EAAE,OAAOzB,GAAY,EAAEC,GAAa,EAAEC,IAAkB,KAAK;EAAA;EAAAT,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAK,CAAA;EACrF,IAAI;IACF,MAAMwC,MAAM;IAAA;IAAA,CAAA7C,cAAA,GAAAK,CAAA,QAAG,MAAMF,aAAa,CAAC2C,YAAY,CAAC;MAC9C,GAAGvC,GAAG,CAAC4B,IAAI;MACXY,QAAQ,EAAExC,GAAG,CAAC+B,MAAM,CAACC;IACvB,CAAC,CAAC;IAAC;IAAAvC,cAAA,GAAAK,CAAA;IACHG,GAAG,CAAC4B,MAAM,CAAC,GAAG,CAAC,CAAChB,IAAI,CAAC;MACnBC,OAAO,EAAE,IAAI;MACbC,IAAI,EAAEuB,MAAM;MACZhB,SAAS,EAAE,IAAIC,IAAI,CAAC;IACtB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA;IAAA/B,cAAA,GAAAK,CAAA;IACdI,IAAI,CAACsB,KAAK,CAAC;EACb;AACF,CAAC,CAAC;;AAEF;AAAA;AAAA/B,cAAA,GAAAK,CAAA;AACAD,MAAM,CAAC4B,IAAI,CAAC,kBAAkB,EAAE,OAAOzB,GAAY,EAAEC,GAAa,EAAEC,IAAkB,KAAK;EAAA;EAAAT,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAK,CAAA;EACzF,IAAI;IACF,MAAM2C,UAAU;IAAA;IAAA,CAAAhD,cAAA,GAAAK,CAAA,QAAG,MAAMF,aAAa,CAAC8C,gBAAgB,CAAC;MACtD,GAAG1C,GAAG,CAAC4B,IAAI;MACXY,QAAQ,EAAExC,GAAG,CAAC+B,MAAM,CAACC;IACvB,CAAC,CAAC;IAAC;IAAAvC,cAAA,GAAAK,CAAA;IACHG,GAAG,CAAC4B,MAAM,CAAC,GAAG,CAAC,CAAChB,IAAI,CAAC;MACnBC,OAAO,EAAE,IAAI;MACbC,IAAI,EAAE0B,UAAU;MAChBnB,SAAS,EAAE,IAAIC,IAAI,CAAC;IACtB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA;IAAA/B,cAAA,GAAAK,CAAA;IACdI,IAAI,CAACsB,KAAK,CAAC;EACb;AACF,CAAC,CAAC;AAEF,eAAe3B,MAAM","ignoreList":[]}