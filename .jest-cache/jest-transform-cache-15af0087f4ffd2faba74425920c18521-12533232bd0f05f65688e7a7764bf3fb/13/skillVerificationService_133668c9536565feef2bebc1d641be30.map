{"version":3,"names":["cov_2k4sz4s4qh","actualCoverage","axios","EDUCATION_API_URL","s","b","process","env","SkillVerificationService","getVerifiedSkills","userId","f","response","get","certificates","data","map","cert","id","skillName","courseName","level","determineSkillLevel","grade","source","certificateId","certificateUrl","issueDate","Date","verified","error","console","addSkillBadge","certificate","badge","now","Math","random","toString","substr","emitEvent","verifySkillThroughTest","testScore","Error","endorseSkill","sellerId","endorsedBy","getSkillEndorsements","recommendCourses","userSkills","demandSkills","getInDemandSkills","skillGaps","filter","ds","some","us","name","recommendations","skill","slice","params","q","push","courses","demand","hasVerifiedSkill","skills","toLowerCase","getEducationCredentials","credentials","awardSkillImprovementBonus","newLevel","bonusAmounts","bonus","post","amount","reason","metadata","service","log","score","healthCheck","timeout","status","event"],"sources":["skillVerificationService.ts"],"sourcesContent":["/*\nAZORA PROPRIETARY LICENSE\n\nCopyright ¬© 2025 Azora ES (Pty) Ltd. All Rights Reserved.\n\nSee LICENSE file for details.\n*/\n\nimport axios from 'axios';\n\nconst EDUCATION_API_URL = process.env.EDUCATION_API_URL || 'http://localhost:3008';\n\nexport interface SkillBadge {\n  id: string;\n  skillName: string;\n  level: 'Beginner' | 'Intermediate' | 'Advanced' | 'Expert';\n  source: 'sapiens' | 'forge' | 'external';\n  certificateId?: string;\n  certificateUrl?: string;\n  issueDate: Date;\n  expiryDate?: Date;\n  verified: boolean;\n}\n\nexport interface EducationCredential {\n  type: 'course' | 'degree' | 'certificate';\n  name: string;\n  institution: string;\n  completionDate: Date;\n  grade?: string;\n  credentialUrl?: string;\n}\n\n/**\n * üéì SKILL VERIFICATION SERVICE - Education Bridge\n * \n * Connects Forge to Sapiens University to verify skills.\n * Users can display their completed courses as verified skills.\n */\nexport class SkillVerificationService {\n  \n  /**\n   * Get verified skills for a user from Sapiens\n   */\n  static async getVerifiedSkills(userId: string): Promise<SkillBadge[]> {\n    try {\n      const response = await axios.get(`${EDUCATION_API_URL}/api/certificates/user/${userId}`);\n      \n      const certificates = response.data.certificates || [];\n      \n      return certificates.map((cert: any) => ({\n        id: cert.id,\n        skillName: cert.courseName,\n        level: this.determineSkillLevel(cert.grade),\n        source: 'sapiens',\n        certificateId: cert.id,\n        certificateUrl: cert.certificateUrl,\n        issueDate: new Date(cert.issueDate),\n        verified: true\n      }));\n    } catch (error) {\n      console.error('‚ùå Failed to get verified skills:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Add verified skill badge to Forge profile\n   */\n  static async addSkillBadge(\n    userId: string,\n    skillName: string,\n    certificateId?: string\n  ): Promise<SkillBadge> {\n    // Verify certificate exists in Sapiens\n    let verified = false;\n    let certificateUrl;\n\n    if (certificateId) {\n      try {\n        const response = await axios.get(`${EDUCATION_API_URL}/api/certificates/${certificateId}`);\n        if (response.data.certificate) {\n          verified = true;\n          certificateUrl = response.data.certificate.certificateUrl;\n        }\n      } catch (error) {\n        console.error('‚ùå Certificate verification failed:', error);\n      }\n    }\n\n    const badge: SkillBadge = {\n      id: `badge_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      skillName,\n      level: 'Beginner',\n      source: certificateId ? 'sapiens' : 'forge',\n      certificateId,\n      certificateUrl,\n      issueDate: new Date(),\n      verified\n    };\n\n    // TODO: Save to database\n    // await prisma.skillBadge.create({ data: badge });\n\n    this.emitEvent('skill:badge_added', { userId, badge });\n\n    return badge;\n  }\n\n  /**\n   * Verify skill through test/quiz\n   */\n  static async verifySkillThroughTest(\n    userId: string,\n    skillName: string,\n    testScore: number\n  ): Promise<SkillBadge> {\n    if (testScore < 70) {\n      throw new Error('Test score too low for verification (minimum 70%)');\n    }\n\n    const level = this.determineSkillLevel(testScore);\n\n    const badge: SkillBadge = {\n      id: `badge_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      skillName,\n      level,\n      source: 'forge',\n      issueDate: new Date(),\n      verified: true\n    };\n\n    // TODO: Save to database\n    // await prisma.skillBadge.create({ data: badge });\n\n    this.emitEvent('skill:verified_through_test', { userId, badge, testScore });\n\n    return badge;\n  }\n\n  /**\n   * Get skill endorsements from clients\n   */\n  static async endorseSkill(\n    sellerId: string,\n    skillName: string,\n    endorsedBy: string\n  ): Promise<void> {\n    // TODO: Save endorsement\n    // await prisma.skillEndorsement.create({\n    //   data: { sellerId, skillName, endorsedBy, createdAt: new Date() }\n    // });\n\n    this.emitEvent('skill:endorsed', { sellerId, skillName, endorsedBy });\n  }\n\n  /**\n   * Get all endorsements for a skill\n   */\n  static async getSkillEndorsements(\n    sellerId: string,\n    skillName: string\n  ): Promise<number> {\n    // TODO: Count from database\n    // return await prisma.skillEndorsement.count({\n    //   where: { sellerId, skillName }\n    // });\n    return 0;\n  }\n\n  /**\n   * Recommend courses based on in-demand Forge skills\n   */\n  static async recommendCourses(userId: string): Promise<any[]> {\n    try {\n      // Get user's current skills\n      const userSkills = await this.getVerifiedSkills(userId);\n      \n      // Get in-demand skills on Forge\n      const demandSkills = await this.getInDemandSkills();\n      \n      // Find skill gaps\n      const skillGaps = demandSkills.filter(\n        ds => !userSkills.some(us => us.skillName === ds.name)\n      );\n      \n      // Get recommended courses from Sapiens\n      const recommendations = [];\n      for (const skill of skillGaps.slice(0, 5)) {\n        try {\n          const response = await axios.get(`${EDUCATION_API_URL}/api/courses/search`, {\n            params: { q: skill.name }\n          });\n          recommendations.push(...response.data.courses);\n        } catch (error) {\n          console.error(`‚ùå Failed to get courses for ${skill.name}:`, error);\n        }\n      }\n      \n      return recommendations;\n    } catch (error) {\n      console.error('‚ùå Failed to recommend courses:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Get in-demand skills on Forge marketplace\n   */\n  static async getInDemandSkills(): Promise<Array<{ name: string; demand: number }>> {\n    // TODO: Analyze marketplace data to find top skills\n    // This could be based on:\n    // - Number of job postings\n    // - Average project price\n    // - Completion rate\n    // - Client satisfaction\n\n    return [\n      { name: 'Web Development', demand: 100 },\n      { name: 'Graphic Design', demand: 85 },\n      { name: 'Content Writing', demand: 70 },\n      { name: 'Video Editing', demand: 65 },\n      { name: 'Mobile App Development', demand: 60 }\n    ];\n  }\n\n  /**\n   * Check if user has specific skill\n   */\n  static async hasVerifiedSkill(userId: string, skillName: string): Promise<boolean> {\n    const skills = await this.getVerifiedSkills(userId);\n    return skills.some(s => s.skillName.toLowerCase() === skillName.toLowerCase());\n  }\n\n  /**\n   * Get user's education credentials\n   */\n  static async getEducationCredentials(userId: string): Promise<EducationCredential[]> {\n    try {\n      const response = await axios.get(`${EDUCATION_API_URL}/api/students/${userId}/credentials`);\n      return response.data.credentials || [];\n    } catch (error) {\n      console.error('‚ùå Failed to get education credentials:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Award Learn-to-Earn bonus for skill improvement\n   */\n  static async awardSkillImprovementBonus(\n    userId: string,\n    skillName: string,\n    newLevel: string\n  ): Promise<void> {\n    const bonusAmounts = {\n      'Beginner': 10,\n      'Intermediate': 25,\n      'Advanced': 50,\n      'Expert': 100\n    };\n\n    const bonus = bonusAmounts[newLevel as keyof typeof bonusAmounts] || 0;\n\n    if (bonus > 0) {\n      try {\n        // Award through Education service\n        await axios.post(`${EDUCATION_API_URL}/api/learn-to-earn/award`, {\n          userId,\n          amount: bonus,\n          reason: `Reached ${newLevel} level in ${skillName}`,\n          metadata: {\n            service: 'azora-forge',\n            skillName,\n            level: newLevel\n          }\n        });\n\n        console.log(`‚úÖ Awarded ${bonus} AZR for ${skillName} ${newLevel}`);\n      } catch (error) {\n        console.error('‚ùå Failed to award skill improvement bonus:', error);\n      }\n    }\n  }\n\n  /**\n   * Determine skill level from test score or grade\n   */\n  private static determineSkillLevel(score: number): SkillBadge['level'] {\n    if (score >= 90) {return 'Expert';}\n    if (score >= 80) {return 'Advanced';}\n    if (score >= 70) {return 'Intermediate';}\n    return 'Beginner';\n  }\n\n  /**\n   * Organism Health Check - Ensure Education service is operational\n   */\n  static async healthCheck(): Promise<boolean> {\n    try {\n      const response = await axios.get(`${EDUCATION_API_URL}/health`, {\n        timeout: 5000\n      });\n      return response.data.status === 'healthy';\n    } catch (error) {\n      console.error('‚ùå Education health check failed:', error);\n      return false;\n    }\n  }\n\n  private static emitEvent(event: string, data: any) {\n    console.log(`üîî Skill Verification Event: ${event}`, data);\n    // Emit to organism event bus\n    // OrganismEventBus.emit(event, data);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}