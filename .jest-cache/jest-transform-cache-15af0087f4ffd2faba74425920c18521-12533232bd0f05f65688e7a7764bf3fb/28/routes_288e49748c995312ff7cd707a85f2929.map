{"version":3,"names":["cov_1qrqxxmvh1","actualCoverage","express","s","require","PrismaClient","router","Router","prisma","get","req","res","f","courses","course","findMany","where","isPublished","include","instructor","select","id","name","json","success","data","post","studentId","body","enrollment","create","courseId","params","status","enrollments","title","description","instructorId","price","module","exports"],"sources":["routes.js"],"sourcesContent":["const express = require('express');\nconst { PrismaClient } = require('@prisma/client');\nconst router = express.Router();\nconst prisma = new PrismaClient();\n\nrouter.get('/api/courses', async (req, res) => {\n  const courses = await prisma.course.findMany({\n    where: { isPublished: true },\n    include: { instructor: { select: { id: true, name: true } } }\n  });\n  res.json({ success: true, data: courses });\n});\n\nrouter.post('/api/courses/:id/enroll', async (req, res) => {\n  const { studentId } = req.body;\n  const enrollment = await prisma.enrollment.create({\n    data: { courseId: req.params.id, studentId, status: 'ACTIVE' }\n  });\n  res.json({ success: true, data: enrollment });\n});\n\nrouter.get('/api/progress/:studentId', async (req, res) => {\n  const enrollments = await prisma.enrollment.findMany({\n    where: { studentId: req.params.studentId },\n    include: { course: true }\n  });\n  res.json({ success: true, data: enrollments });\n});\n\nrouter.post('/api/courses', async (req, res) => {\n  const { title, description, instructorId, price } = req.body;\n  const course = await prisma.course.create({\n    data: { title, description, instructorId, price, isPublished: false }\n  });\n  res.json({ success: true, data: course });\n});\n\nmodule.exports = router;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ,MAAME,OAAO;AAAA;AAAA,CAAAF,cAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAM;EAAEC;AAAa,CAAC;AAAA;AAAA,CAAAL,cAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,gBAAgB,CAAC;AAClD,MAAME,MAAM;AAAA;AAAA,CAAAN,cAAA,GAAAG,CAAA,OAAGD,OAAO,CAACK,MAAM,CAAC,CAAC;AAC/B,MAAMC,MAAM;AAAA;AAAA,CAAAR,cAAA,GAAAG,CAAA,OAAG,IAAIE,YAAY,CAAC,CAAC;AAAC;AAAAL,cAAA,GAAAG,CAAA;AAElCG,MAAM,CAACG,GAAG,CAAC,cAAc,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAAA;EAAAX,cAAA,GAAAY,CAAA;EAC7C,MAAMC,OAAO;EAAA;EAAA,CAAAb,cAAA,GAAAG,CAAA,OAAG,MAAMK,MAAM,CAACM,MAAM,CAACC,QAAQ,CAAC;IAC3CC,KAAK,EAAE;MAAEC,WAAW,EAAE;IAAK,CAAC;IAC5BC,OAAO,EAAE;MAAEC,UAAU,EAAE;QAAEC,MAAM,EAAE;UAAEC,EAAE,EAAE,IAAI;UAAEC,IAAI,EAAE;QAAK;MAAE;IAAE;EAC9D,CAAC,CAAC;EAAC;EAAAtB,cAAA,GAAAG,CAAA;EACHQ,GAAG,CAACY,IAAI,CAAC;IAAEC,OAAO,EAAE,IAAI;IAAEC,IAAI,EAAEZ;EAAQ,CAAC,CAAC;AAC5C,CAAC,CAAC;AAAC;AAAAb,cAAA,GAAAG,CAAA;AAEHG,MAAM,CAACoB,IAAI,CAAC,yBAAyB,EAAE,OAAOhB,GAAG,EAAEC,GAAG,KAAK;EAAA;EAAAX,cAAA,GAAAY,CAAA;EACzD,MAAM;IAAEe;EAAU,CAAC;EAAA;EAAA,CAAA3B,cAAA,GAAAG,CAAA,OAAGO,GAAG,CAACkB,IAAI;EAC9B,MAAMC,UAAU;EAAA;EAAA,CAAA7B,cAAA,GAAAG,CAAA,OAAG,MAAMK,MAAM,CAACqB,UAAU,CAACC,MAAM,CAAC;IAChDL,IAAI,EAAE;MAAEM,QAAQ,EAAErB,GAAG,CAACsB,MAAM,CAACX,EAAE;MAAEM,SAAS;MAAEM,MAAM,EAAE;IAAS;EAC/D,CAAC,CAAC;EAAC;EAAAjC,cAAA,GAAAG,CAAA;EACHQ,GAAG,CAACY,IAAI,CAAC;IAAEC,OAAO,EAAE,IAAI;IAAEC,IAAI,EAAEI;EAAW,CAAC,CAAC;AAC/C,CAAC,CAAC;AAAC;AAAA7B,cAAA,GAAAG,CAAA;AAEHG,MAAM,CAACG,GAAG,CAAC,0BAA0B,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAAA;EAAAX,cAAA,GAAAY,CAAA;EACzD,MAAMsB,WAAW;EAAA;EAAA,CAAAlC,cAAA,GAAAG,CAAA,QAAG,MAAMK,MAAM,CAACqB,UAAU,CAACd,QAAQ,CAAC;IACnDC,KAAK,EAAE;MAAEW,SAAS,EAAEjB,GAAG,CAACsB,MAAM,CAACL;IAAU,CAAC;IAC1CT,OAAO,EAAE;MAAEJ,MAAM,EAAE;IAAK;EAC1B,CAAC,CAAC;EAAC;EAAAd,cAAA,GAAAG,CAAA;EACHQ,GAAG,CAACY,IAAI,CAAC;IAAEC,OAAO,EAAE,IAAI;IAAEC,IAAI,EAAES;EAAY,CAAC,CAAC;AAChD,CAAC,CAAC;AAAC;AAAAlC,cAAA,GAAAG,CAAA;AAEHG,MAAM,CAACoB,IAAI,CAAC,cAAc,EAAE,OAAOhB,GAAG,EAAEC,GAAG,KAAK;EAAA;EAAAX,cAAA,GAAAY,CAAA;EAC9C,MAAM;IAAEuB,KAAK;IAAEC,WAAW;IAAEC,YAAY;IAAEC;EAAM,CAAC;EAAA;EAAA,CAAAtC,cAAA,GAAAG,CAAA,QAAGO,GAAG,CAACkB,IAAI;EAC5D,MAAMd,MAAM;EAAA;EAAA,CAAAd,cAAA,GAAAG,CAAA,QAAG,MAAMK,MAAM,CAACM,MAAM,CAACgB,MAAM,CAAC;IACxCL,IAAI,EAAE;MAAEU,KAAK;MAAEC,WAAW;MAAEC,YAAY;MAAEC,KAAK;MAAErB,WAAW,EAAE;IAAM;EACtE,CAAC,CAAC;EAAC;EAAAjB,cAAA,GAAAG,CAAA;EACHQ,GAAG,CAACY,IAAI,CAAC;IAAEC,OAAO,EAAE,IAAI;IAAEC,IAAI,EAAEX;EAAO,CAAC,CAAC;AAC3C,CAAC,CAAC;AAAC;AAAAd,cAAA,GAAAG,CAAA;AAEHoC,MAAM,CAACC,OAAO,GAAGlC,MAAM","ignoreList":[]}