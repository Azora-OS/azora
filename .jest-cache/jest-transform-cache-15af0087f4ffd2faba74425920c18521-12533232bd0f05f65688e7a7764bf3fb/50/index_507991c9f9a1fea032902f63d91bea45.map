{"version":3,"names":["cov_1uayiryl2v","actualCoverage","express","s","require","helmet","cors","compression","app","PORT","b","process","env","use","json","get","req","res","f","status","service","timestamp","Date","toISOString","post","userId","personalInfo","documents","body","verificationResult","verificationId","now","Math","floor","random","riskLevel","verifiedFields","transaction","amount","screeningResult","transactionId","id","riskScore","alerts","type","description","severity","compliance","entities","sanctionsResult","matches","entityId","sanctionList","confidence","listen","console","log","module","exports"],"sources":["index.js"],"sourcesContent":["const express = require('express');\nconst helmet = require('helmet');\nconst cors = require('cors');\nconst compression = require('compression');\n\nconst app = express();\nconst PORT = process.env.PORT || 3015;\n\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\n\napp.get('/health', (req, res) => {\n  res.json({ \n    status: 'healthy', \n    service: 'kyc-aml-service', \n    timestamp: new Date().toISOString() \n  });\n});\n\n// KYC verification endpoint\napp.post('/api/kyc/verify', (req, res) => {\n  const { userId, personalInfo, documents } = req.body;\n  \n  // Simulate KYC verification\n  const verificationResult = {\n    userId: userId,\n    verificationId: `kyc_${Date.now()}`,\n    status: [\"approved\", \"pending\", \"rejected\"][Math.floor(Math.random() * 3)],\n    riskLevel: [\"low\", \"medium\", \"high\"][Math.floor(Math.random() * 3)],\n    verifiedFields: [\n      \"identity\",\n      \"address\",\n      \"dateOfBirth\",\n      \"nationality\"\n    ],\n    timestamp: new Date().toISOString()\n  };\n  \n  res.json(verificationResult);\n});\n\n// AML screening endpoint\napp.post('/api/aml/screen', (req, res) => {\n  const { transaction, userId, amount } = req.body;\n  \n  // Simulate AML screening\n  const screeningResult = {\n    transactionId: transaction.id,\n    userId: userId,\n    amount: amount,\n    riskScore: Math.random(),\n    alerts: Math.random() > 0.9 ? [\n      {\n        type: \"suspicious_activity\",\n        description: \"Unusual transaction pattern detected\",\n        severity: \"medium\"\n      }\n    ] : [],\n    compliance: Math.random() > 0.1, // 90% compliance rate\n    timestamp: new Date().toISOString()\n  };\n  \n  res.json(screeningResult);\n});\n\n// Sanctions check endpoint\napp.post('/api/compliance/sanctions-check', (req, res) => {\n  const { userId, entities } = req.body;\n  \n  const sanctionsResult = {\n    userId: userId,\n    entities: entities,\n    matches: Math.random() > 0.95 ? [\n      {\n        entityId: entities[0],\n        sanctionList: \"OFAC\",\n        confidence: Math.random() * 0.3 + 0.7\n      }\n    ] : [],\n    timestamp: new Date().toISOString()\n  };\n  \n  res.json(sanctionsResult);\n});\n\napp.listen(PORT, () => {\n  console.log(`KYC/AML Service running on port ${PORT}`);\n});\n\nmodule.exports = app;"],"mappings":"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","ignoreList":[]}