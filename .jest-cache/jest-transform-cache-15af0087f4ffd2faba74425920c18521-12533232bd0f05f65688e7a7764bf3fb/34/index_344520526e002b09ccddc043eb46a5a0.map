{"version":3,"names":["cov_ecexgo16d","actualCoverage","Ajv","YAML","ajv","s","SpecValidator","validate","content","format","b","f","spec","parse","JSON","schema","type","properties","id","enum","name","version","requirements","items","required","compile","valid","errors","error","generateTemplate","templates","component","description","props","title","isActive","api","endpoints","method","path","workflow","steps","stringify"],"sources":["index.ts"],"sourcesContent":["import Ajv from \"ajv\"\nimport YAML from \"yaml\"\nimport { z } from \"zod\"\n\nexport type SpecType = \"component\" | \"api\" | \"workflow\"\n\nexport interface Spec {\n    id: string\n    type: SpecType\n    name: string\n    version: string\n    description?: string\n    requirements: string[]\n    schema?: any\n}\n\nconst ajv = new Ajv()\n\nexport class SpecValidator {\n    static validate(content: string, format: \"yaml\" | \"json\" = \"yaml\"): { valid: boolean; errors?: any[]; spec?: Spec } {\n        try {\n            const spec = format === \"yaml\" ? YAML.parse(content) : JSON.parse(content)\n\n            // Basic schema validation\n            const schema = {\n                type: \"object\",\n                properties: {\n                    id: { type: \"string\" },\n                    type: { type: \"string\", enum: [\"component\", \"api\", \"workflow\"] },\n                    name: { type: \"string\" },\n                    version: { type: \"string\" },\n                    requirements: { type: \"array\", items: { type: \"string\" } }\n                },\n                required: [\"id\", \"type\", \"name\", \"version\", \"requirements\"]\n            }\n\n            const validate = ajv.compile(schema)\n            const valid = validate(spec)\n\n            if (!valid) {\n                return { valid: false, errors: validate.errors as any[] }\n            }\n\n            return { valid: true, spec: spec as any as Spec }\n        } catch (error) {\n            return { valid: false, errors: [error] }\n        }\n    }\n\n    static generateTemplate(type: SpecType): string {\n        const templates: Record<SpecType, object> = {\n            component: {\n                id: \"comp-001\",\n                type: \"component\",\n                name: \"MyComponent\",\n                version: \"1.0.0\",\n                description: \"A reusable UI component\",\n                requirements: [\n                    \"Must be responsive\",\n                    \"Must support dark mode\",\n                    \"Must be accessible (WCAG 2.1)\"\n                ],\n                props: {\n                    title: \"string\",\n                    isActive: \"boolean\"\n                }\n            },\n            api: {\n                id: \"api-001\",\n                type: \"api\",\n                name: \"MyAPI\",\n                version: \"1.0.0\",\n                description: \"REST API endpoint\",\n                requirements: [\n                    \"Must respond in < 100ms\",\n                    \"Must be authenticated\"\n                ],\n                endpoints: [\n                    { method: \"GET\", path: \"/items\" }\n                ]\n            },\n            workflow: {\n                id: \"flow-001\",\n                type: \"workflow\",\n                name: \"MyWorkflow\",\n                version: \"1.0.0\",\n                description: \"Business process\",\n                requirements: [\n                    \"Must be atomic\",\n                    \"Must log all steps\"\n                ],\n                steps: [\n                    \"validate_input\",\n                    \"process_data\",\n                    \"save_result\"\n                ]\n            }\n        }\n\n        return YAML.stringify(templates[type])\n    }\n}\n"],"mappings":"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","ignoreList":[]}