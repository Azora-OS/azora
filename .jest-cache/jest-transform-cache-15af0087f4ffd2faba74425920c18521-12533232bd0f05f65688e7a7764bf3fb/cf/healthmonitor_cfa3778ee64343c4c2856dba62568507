260a2c74ea996f91a9287d5a616d45a5
/* istanbul ignore next */
function cov_1vnp3rwnw0() {
  var path = "/workspaces/azora/services/phoenix-server/src/health-monitor.ts";
  var hash = "50412150606d7393be46660f3a6f850d1484e71d";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/phoenix-server/src/health-monitor.ts",
    statementMap: {
      "0": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 25,
          column: 34
        }
      },
      "1": {
        start: {
          line: 26,
          column: 8
        },
        end: {
          line: 26,
          column: 43
        }
      },
      "2": {
        start: {
          line: 27,
          column: 8
        },
        end: {
          line: 27,
          column: 38
        }
      },
      "3": {
        start: {
          line: 34,
          column: 8
        },
        end: {
          line: 42,
          column: 11
        }
      },
      "4": {
        start: {
          line: 43,
          column: 8
        },
        end: {
          line: 43,
          column: 67
        }
      },
      "5": {
        start: {
          line: 50,
          column: 8
        },
        end: {
          line: 53,
          column: 9
        }
      },
      "6": {
        start: {
          line: 51,
          column: 12
        },
        end: {
          line: 51,
          column: 60
        }
      },
      "7": {
        start: {
          line: 52,
          column: 12
        },
        end: {
          line: 52,
          column: 19
        }
      },
      "8": {
        start: {
          line: 55,
          column: 8
        },
        end: {
          line: 55,
          column: 37
        }
      },
      "9": {
        start: {
          line: 56,
          column: 8
        },
        end: {
          line: 56,
          column: 93
        }
      },
      "10": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 58,
          column: 27
        }
      },
      "11": {
        start: {
          line: 65,
          column: 8
        },
        end: {
          line: 65,
          column: 38
        }
      },
      "12": {
        start: {
          line: 66,
          column: 8
        },
        end: {
          line: 66,
          column: 52
        }
      },
      "13": {
        start: {
          line: 73,
          column: 8
        },
        end: {
          line: 76,
          column: 9
        }
      },
      "14": {
        start: {
          line: 74,
          column: 12
        },
        end: {
          line: 74,
          column: 42
        }
      },
      "15": {
        start: {
          line: 75,
          column: 12
        },
        end: {
          line: 75,
          column: 49
        }
      },
      "16": {
        start: {
          line: 83,
          column: 23
        },
        end: {
          line: 85,
          column: 9
        }
      },
      "17": {
        start: {
          line: 84,
          column: 12
        },
        end: {
          line: 84,
          column: 42
        }
      },
      "18": {
        start: {
          line: 87,
          column: 8
        },
        end: {
          line: 87,
          column: 34
        }
      },
      "19": {
        start: {
          line: 94,
          column: 24
        },
        end: {
          line: 94,
          column: 54
        }
      },
      "20": {
        start: {
          line: 95,
          column: 8
        },
        end: {
          line: 97,
          column: 9
        }
      },
      "21": {
        start: {
          line: 96,
          column: 12
        },
        end: {
          line: 96,
          column: 69
        }
      },
      "22": {
        start: {
          line: 99,
          column: 26
        },
        end: {
          line: 99,
          column: 36
        }
      },
      "23": {
        start: {
          line: 101,
          column: 8
        },
        end: {
          line: 142,
          column: 9
        }
      },
      "24": {
        start: {
          line: 102,
          column: 29
        },
        end: {
          line: 105,
          column: 14
        }
      },
      "25": {
        start: {
          line: 107,
          column: 33
        },
        end: {
          line: 107,
          column: 55
        }
      },
      "26": {
        start: {
          line: 108,
          column: 28
        },
        end: {
          line: 108,
          column: 39
        }
      },
      "27": {
        start: {
          line: 111,
          column: 12
        },
        end: {
          line: 111,
          column: 62
        }
      },
      "28": {
        start: {
          line: 112,
          column: 12
        },
        end: {
          line: 112,
          column: 57
        }
      },
      "29": {
        start: {
          line: 113,
          column: 12
        },
        end: {
          line: 113,
          column: 48
        }
      },
      "30": {
        start: {
          line: 116,
          column: 12
        },
        end: {
          line: 120,
          column: 13
        }
      },
      "31": {
        start: {
          line: 117,
          column: 16
        },
        end: {
          line: 117,
          column: 69
        }
      },
      "32": {
        start: {
          line: 119,
          column: 16
        },
        end: {
          line: 119,
          column: 65
        }
      },
      "33": {
        start: {
          line: 122,
          column: 12
        },
        end: {
          line: 127,
          column: 14
        }
      },
      "34": {
        start: {
          line: 130,
          column: 12
        },
        end: {
          line: 130,
          column: 36
        }
      },
      "35": {
        start: {
          line: 131,
          column: 12
        },
        end: {
          line: 131,
          column: 57
        }
      },
      "36": {
        start: {
          line: 132,
          column: 12
        },
        end: {
          line: 132,
          column: 61
        }
      },
      "37": {
        start: {
          line: 133,
          column: 12
        },
        end: {
          line: 133,
          column: 69
        }
      },
      "38": {
        start: {
          line: 135,
          column: 12
        },
        end: {
          line: 141,
          column: 14
        }
      },
      "39": {
        start: {
          line: 149,
          column: 8
        },
        end: {
          line: 149,
          column: 50
        }
      },
      "40": {
        start: {
          line: 156,
          column: 8
        },
        end: {
          line: 156,
          column: 46
        }
      },
      "41": {
        start: {
          line: 163,
          column: 8
        },
        end: {
          line: 165,
          column: 10
        }
      },
      "42": {
        start: {
          line: 164,
          column: 23
        },
        end: {
          line: 164,
          column: 51
        }
      },
      "43": {
        start: {
          line: 169,
          column: 8
        },
        end: {
          line: 169,
          column: 63
        }
      },
      "44": {
        start: {
          line: 169,
          column: 38
        },
        end: {
          line: 169,
          column: 61
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 24,
            column: 4
          },
          end: {
            line: 24,
            column: 5
          }
        },
        loc: {
          start: {
            line: 24,
            column: 47
          },
          end: {
            line: 28,
            column: 5
          }
        },
        line: 24
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 33,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        },
        loc: {
          start: {
            line: 33,
            column: 53
          },
          end: {
            line: 44,
            column: 5
          }
        },
        line: 33
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 49,
            column: 4
          },
          end: {
            line: 49,
            column: 5
          }
        },
        loc: {
          start: {
            line: 49,
            column: 18
          },
          end: {
            line: 59,
            column: 5
          }
        },
        line: 49
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 64,
            column: 4
          },
          end: {
            line: 64,
            column: 5
          }
        },
        loc: {
          start: {
            line: 64,
            column: 17
          },
          end: {
            line: 67,
            column: 5
          }
        },
        line: 64
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 72,
            column: 4
          },
          end: {
            line: 72,
            column: 5
          }
        },
        loc: {
          start: {
            line: 72,
            column: 47
          },
          end: {
            line: 77,
            column: 5
          }
        },
        line: 72
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 82,
            column: 4
          },
          end: {
            line: 82,
            column: 5
          }
        },
        loc: {
          start: {
            line: 82,
            column: 52
          },
          end: {
            line: 88,
            column: 5
          }
        },
        line: 82
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 83,
            column: 60
          },
          end: {
            line: 83,
            column: 61
          }
        },
        loc: {
          start: {
            line: 84,
            column: 12
          },
          end: {
            line: 84,
            column: 42
          }
        },
        line: 84
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 93,
            column: 4
          },
          end: {
            line: 93,
            column: 5
          }
        },
        loc: {
          start: {
            line: 93,
            column: 72
          },
          end: {
            line: 143,
            column: 5
          }
        },
        line: 93
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 148,
            column: 4
          },
          end: {
            line: 148,
            column: 5
          }
        },
        loc: {
          start: {
            line: 148,
            column: 36
          },
          end: {
            line: 150,
            column: 5
          }
        },
        line: 148
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 155,
            column: 4
          },
          end: {
            line: 155,
            column: 5
          }
        },
        loc: {
          start: {
            line: 155,
            column: 69
          },
          end: {
            line: 157,
            column: 5
          }
        },
        line: 155
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 162,
            column: 4
          },
          end: {
            line: 162,
            column: 5
          }
        },
        loc: {
          start: {
            line: 162,
            column: 44
          },
          end: {
            line: 166,
            column: 5
          }
        },
        line: 162
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 164,
            column: 12
          },
          end: {
            line: 164,
            column: 13
          }
        },
        loc: {
          start: {
            line: 164,
            column: 23
          },
          end: {
            line: 164,
            column: 51
          }
        },
        line: 164
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 168,
            column: 4
          },
          end: {
            line: 168,
            column: 5
          }
        },
        loc: {
          start: {
            line: 168,
            column: 45
          },
          end: {
            line: 170,
            column: 5
          }
        },
        line: 168
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 169,
            column: 27
          },
          end: {
            line: 169,
            column: 28
          }
        },
        loc: {
          start: {
            line: 169,
            column: 38
          },
          end: {
            line: 169,
            column: 61
          }
        },
        line: 169
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 24,
            column: 16
          },
          end: {
            line: 24,
            column: 45
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 24,
            column: 40
          },
          end: {
            line: 24,
            column: 45
          }
        }],
        line: 24
      },
      "1": {
        loc: {
          start: {
            line: 50,
            column: 8
          },
          end: {
            line: 53,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 50,
            column: 8
          },
          end: {
            line: 53,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 50
      },
      "2": {
        loc: {
          start: {
            line: 95,
            column: 8
          },
          end: {
            line: 97,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 95,
            column: 8
          },
          end: {
            line: 97,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 95
      },
      "3": {
        loc: {
          start: {
            line: 111,
            column: 29
          },
          end: {
            line: 111,
            column: 61
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 111,
            column: 39
          },
          end: {
            line: 111,
            column: 48
          }
        }, {
          start: {
            line: 111,
            column: 51
          },
          end: {
            line: 111,
            column: 61
          }
        }],
        line: 111
      },
      "4": {
        loc: {
          start: {
            line: 116,
            column: 12
          },
          end: {
            line: 120,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 116,
            column: 12
          },
          end: {
            line: 120,
            column: 13
          }
        }, {
          start: {
            line: 118,
            column: 19
          },
          end: {
            line: 120,
            column: 13
          }
        }],
        line: 116
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "50412150606d7393be46660f3a6f850d1484e71d"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1vnp3rwnw0 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1vnp3rwnw0();
export class HealthMonitor {
  constructor(checkInterval =
  /* istanbul ignore next */
  (cov_1vnp3rwnw0().b[0][0]++, 30000)) {
    /* istanbul ignore next */
    cov_1vnp3rwnw0().f[0]++;
    cov_1vnp3rwnw0().s[0]++;
    // 30 seconds
    this.services = new Map();
    /* istanbul ignore next */
    cov_1vnp3rwnw0().s[1]++;
    this.checkInterval = checkInterval;
    /* istanbul ignore next */
    cov_1vnp3rwnw0().s[2]++;
    this.monitoringActive = false;
  }

  /**
   * Register a service for monitoring
   */
  registerService(name, url) {
    /* istanbul ignore next */
    cov_1vnp3rwnw0().f[1]++;
    cov_1vnp3rwnw0().s[3]++;
    this.services.set(name, {
      name,
      url,
      status: 'healthy',
      lastCheck: new Date().toISOString(),
      responseTime: 0,
      errorRate: 0,
      uptime: 100
    });
    /* istanbul ignore next */
    cov_1vnp3rwnw0().s[4]++;
    console.log(`ðŸ” Registered ${name} for health monitoring`);
  }

  /**
   * Start continuous health monitoring
   */
  start() {
    /* istanbul ignore next */
    cov_1vnp3rwnw0().f[2]++;
    cov_1vnp3rwnw0().s[5]++;
    if (this.monitoringActive) {
      /* istanbul ignore next */
      cov_1vnp3rwnw0().b[1][0]++;
      cov_1vnp3rwnw0().s[6]++;
      console.log('Health monitoring already active');
      /* istanbul ignore next */
      cov_1vnp3rwnw0().s[7]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_1vnp3rwnw0().b[1][1]++;
    }
    cov_1vnp3rwnw0().s[8]++;
    this.monitoringActive = true;
    /* istanbul ignore next */
    cov_1vnp3rwnw0().s[9]++;
    console.log(`ðŸ” Health monitoring started (checking every ${this.checkInterval}ms)`);
    /* istanbul ignore next */
    cov_1vnp3rwnw0().s[10]++;
    this.monitorLoop();
  }

  /**
   * Stop health monitoring
   */
  stop() {
    /* istanbul ignore next */
    cov_1vnp3rwnw0().f[3]++;
    cov_1vnp3rwnw0().s[11]++;
    this.monitoringActive = false;
    /* istanbul ignore next */
    cov_1vnp3rwnw0().s[12]++;
    console.log('ðŸ” Health monitoring stopped');
  }

  /**
   * Continuous monitoring loop
   */
  async monitorLoop() {
    /* istanbul ignore next */
    cov_1vnp3rwnw0().f[4]++;
    cov_1vnp3rwnw0().s[13]++;
    while (this.monitoringActive) {
      /* istanbul ignore next */
      cov_1vnp3rwnw0().s[14]++;
      await this.checkAllServices();
      /* istanbul ignore next */
      cov_1vnp3rwnw0().s[15]++;
      await this.sleep(this.checkInterval);
    }
  }

  /**
   * Check health of all registered services
   */
  async checkAllServices() {
    /* istanbul ignore next */
    cov_1vnp3rwnw0().f[5]++;
    const checks =
    /* istanbul ignore next */
    (cov_1vnp3rwnw0().s[16]++, Array.from(this.services.keys()).map(serviceName => {
      /* istanbul ignore next */
      cov_1vnp3rwnw0().f[6]++;
      cov_1vnp3rwnw0().s[17]++;
      return this.checkService(serviceName);
    }));
    /* istanbul ignore next */
    cov_1vnp3rwnw0().s[18]++;
    await Promise.all(checks);
  }

  /**
   * Check health of a specific service
   */
  async checkService(serviceName) {
    /* istanbul ignore next */
    cov_1vnp3rwnw0().f[7]++;
    const service =
    /* istanbul ignore next */
    (cov_1vnp3rwnw0().s[19]++, this.services.get(serviceName));
    /* istanbul ignore next */
    cov_1vnp3rwnw0().s[20]++;
    if (!service) {
      /* istanbul ignore next */
      cov_1vnp3rwnw0().b[2][0]++;
      cov_1vnp3rwnw0().s[21]++;
      throw new Error(`Service ${serviceName} not registered`);
    } else
    /* istanbul ignore next */
    {
      cov_1vnp3rwnw0().b[2][1]++;
    }
    const startTime =
    /* istanbul ignore next */
    (cov_1vnp3rwnw0().s[22]++, Date.now());
    /* istanbul ignore next */
    cov_1vnp3rwnw0().s[23]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_1vnp3rwnw0().s[24]++, await fetch(`${service.url}/health`, {
        method: 'GET',
        signal: AbortSignal.timeout(5000) // 5 second timeout
      }));
      const responseTime =
      /* istanbul ignore next */
      (cov_1vnp3rwnw0().s[25]++, Date.now() - startTime);
      const healthy =
      /* istanbul ignore next */
      (cov_1vnp3rwnw0().s[26]++, response.ok);

      // Update service health
      /* istanbul ignore next */
      cov_1vnp3rwnw0().s[27]++;
      service.status = healthy ?
      /* istanbul ignore next */
      (cov_1vnp3rwnw0().b[3][0]++, 'healthy') :
      /* istanbul ignore next */
      (cov_1vnp3rwnw0().b[3][1]++, 'degraded');
      /* istanbul ignore next */
      cov_1vnp3rwnw0().s[28]++;
      service.lastCheck = new Date().toISOString();
      /* istanbul ignore next */
      cov_1vnp3rwnw0().s[29]++;
      service.responseTime = responseTime;

      // Calculate uptime
      /* istanbul ignore next */
      cov_1vnp3rwnw0().s[30]++;
      if (healthy) {
        /* istanbul ignore next */
        cov_1vnp3rwnw0().b[4][0]++;
        cov_1vnp3rwnw0().s[31]++;
        service.uptime = Math.min(100, service.uptime + 0.1);
      } else {
        /* istanbul ignore next */
        cov_1vnp3rwnw0().b[4][1]++;
        cov_1vnp3rwnw0().s[32]++;
        service.uptime = Math.max(0, service.uptime - 1);
      }
      /* istanbul ignore next */
      cov_1vnp3rwnw0().s[33]++;
      return {
        service: serviceName,
        healthy,
        responseTime,
        timestamp: new Date().toISOString()
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_1vnp3rwnw0().s[34]++;
      // Service is down
      service.status = 'down';
      /* istanbul ignore next */
      cov_1vnp3rwnw0().s[35]++;
      service.lastCheck = new Date().toISOString();
      /* istanbul ignore next */
      cov_1vnp3rwnw0().s[36]++;
      service.uptime = Math.max(0, service.uptime - 2);
      /* istanbul ignore next */
      cov_1vnp3rwnw0().s[37]++;
      service.errorRate = Math.min(100, service.errorRate + 5);
      /* istanbul ignore next */
      cov_1vnp3rwnw0().s[38]++;
      return {
        service: serviceName,
        healthy: false,
        responseTime: Date.now() - startTime,
        error: error.message,
        timestamp: new Date().toISOString()
      };
    }
  }

  /**
   * Get health status of all services
   */
  getAllHealth() {
    /* istanbul ignore next */
    cov_1vnp3rwnw0().f[8]++;
    cov_1vnp3rwnw0().s[39]++;
    return Array.from(this.services.values());
  }

  /**
   * Get health status of a specific service
   */
  getServiceHealth(serviceName) {
    /* istanbul ignore next */
    cov_1vnp3rwnw0().f[9]++;
    cov_1vnp3rwnw0().s[40]++;
    return this.services.get(serviceName);
  }

  /**
   * Get list of unhealthy services
   */
  getUnhealthyServices() {
    /* istanbul ignore next */
    cov_1vnp3rwnw0().f[10]++;
    cov_1vnp3rwnw0().s[41]++;
    return Array.from(this.services.values()).filter(service => {
      /* istanbul ignore next */
      cov_1vnp3rwnw0().f[11]++;
      cov_1vnp3rwnw0().s[42]++;
      return service.status !== 'healthy';
    });
  }
  sleep(ms) {
    /* istanbul ignore next */
    cov_1vnp3rwnw0().f[12]++;
    cov_1vnp3rwnw0().s[43]++;
    return new Promise(resolve => {
      /* istanbul ignore next */
      cov_1vnp3rwnw0().f[13]++;
      cov_1vnp3rwnw0().s[44]++;
      return setTimeout(resolve, ms);
    });
  }
}
export default HealthMonitor;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXZucDNyd253MCIsImFjdHVhbENvdmVyYWdlIiwiSGVhbHRoTW9uaXRvciIsImNvbnN0cnVjdG9yIiwiY2hlY2tJbnRlcnZhbCIsImIiLCJmIiwicyIsInNlcnZpY2VzIiwiTWFwIiwibW9uaXRvcmluZ0FjdGl2ZSIsInJlZ2lzdGVyU2VydmljZSIsIm5hbWUiLCJ1cmwiLCJzZXQiLCJzdGF0dXMiLCJsYXN0Q2hlY2siLCJEYXRlIiwidG9JU09TdHJpbmciLCJyZXNwb25zZVRpbWUiLCJlcnJvclJhdGUiLCJ1cHRpbWUiLCJjb25zb2xlIiwibG9nIiwic3RhcnQiLCJtb25pdG9yTG9vcCIsInN0b3AiLCJjaGVja0FsbFNlcnZpY2VzIiwic2xlZXAiLCJjaGVja3MiLCJBcnJheSIsImZyb20iLCJrZXlzIiwibWFwIiwic2VydmljZU5hbWUiLCJjaGVja1NlcnZpY2UiLCJQcm9taXNlIiwiYWxsIiwic2VydmljZSIsImdldCIsIkVycm9yIiwic3RhcnRUaW1lIiwibm93IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsInNpZ25hbCIsIkFib3J0U2lnbmFsIiwidGltZW91dCIsImhlYWx0aHkiLCJvayIsIk1hdGgiLCJtaW4iLCJtYXgiLCJ0aW1lc3RhbXAiLCJlcnJvciIsIm1lc3NhZ2UiLCJnZXRBbGxIZWFsdGgiLCJ2YWx1ZXMiLCJnZXRTZXJ2aWNlSGVhbHRoIiwiZ2V0VW5oZWFsdGh5U2VydmljZXMiLCJmaWx0ZXIiLCJtcyIsInJlc29sdmUiLCJzZXRUaW1lb3V0Il0sInNvdXJjZXMiOlsiaGVhbHRoLW1vbml0b3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBTZXJ2aWNlSGVhbHRoIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgc3RhdHVzOiAnaGVhbHRoeScgfCAnZGVncmFkZWQnIHwgJ2Rvd24nO1xuICAgIGxhc3RDaGVjazogc3RyaW5nO1xuICAgIHJlc3BvbnNlVGltZTogbnVtYmVyO1xuICAgIGVycm9yUmF0ZTogbnVtYmVyO1xuICAgIHVwdGltZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aENoZWNrUmVzdWx0IHtcbiAgICBzZXJ2aWNlOiBzdHJpbmc7XG4gICAgaGVhbHRoeTogYm9vbGVhbjtcbiAgICByZXNwb25zZVRpbWU6IG51bWJlcjtcbiAgICBlcnJvcj86IHN0cmluZztcbiAgICB0aW1lc3RhbXA6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIEhlYWx0aE1vbml0b3Ige1xuICAgIHByaXZhdGUgc2VydmljZXM6IE1hcDxzdHJpbmcsIFNlcnZpY2VIZWFsdGg+O1xuICAgIHByaXZhdGUgY2hlY2tJbnRlcnZhbDogbnVtYmVyO1xuICAgIHByaXZhdGUgbW9uaXRvcmluZ0FjdGl2ZTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNoZWNrSW50ZXJ2YWw6IG51bWJlciA9IDMwMDAwKSB7IC8vIDMwIHNlY29uZHNcbiAgICAgICAgdGhpcy5zZXJ2aWNlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5jaGVja0ludGVydmFsID0gY2hlY2tJbnRlcnZhbDtcbiAgICAgICAgdGhpcy5tb25pdG9yaW5nQWN0aXZlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBzZXJ2aWNlIGZvciBtb25pdG9yaW5nXG4gICAgICovXG4gICAgcmVnaXN0ZXJTZXJ2aWNlKG5hbWU6IHN0cmluZywgdXJsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlcy5zZXQobmFtZSwge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIHN0YXR1czogJ2hlYWx0aHknLFxuICAgICAgICAgICAgbGFzdENoZWNrOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICByZXNwb25zZVRpbWU6IDAsXG4gICAgICAgICAgICBlcnJvclJhdGU6IDAsXG4gICAgICAgICAgICB1cHRpbWU6IDEwMFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coYPCflI0gUmVnaXN0ZXJlZCAke25hbWV9IGZvciBoZWFsdGggbW9uaXRvcmluZ2ApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0IGNvbnRpbnVvdXMgaGVhbHRoIG1vbml0b3JpbmdcbiAgICAgKi9cbiAgICBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubW9uaXRvcmluZ0FjdGl2ZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hlYWx0aCBtb25pdG9yaW5nIGFscmVhZHkgYWN0aXZlJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vbml0b3JpbmdBY3RpdmUgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+UjSBIZWFsdGggbW9uaXRvcmluZyBzdGFydGVkIChjaGVja2luZyBldmVyeSAke3RoaXMuY2hlY2tJbnRlcnZhbH1tcylgKTtcblxuICAgICAgICB0aGlzLm1vbml0b3JMb29wKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcCBoZWFsdGggbW9uaXRvcmluZ1xuICAgICAqL1xuICAgIHN0b3AoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubW9uaXRvcmluZ0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBIZWFsdGggbW9uaXRvcmluZyBzdG9wcGVkJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udGludW91cyBtb25pdG9yaW5nIGxvb3BcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIG1vbml0b3JMb29wKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB3aGlsZSAodGhpcy5tb25pdG9yaW5nQWN0aXZlKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNoZWNrQWxsU2VydmljZXMoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2xlZXAodGhpcy5jaGVja0ludGVydmFsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGhlYWx0aCBvZiBhbGwgcmVnaXN0ZXJlZCBzZXJ2aWNlc1xuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgY2hlY2tBbGxTZXJ2aWNlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgY2hlY2tzID0gQXJyYXkuZnJvbSh0aGlzLnNlcnZpY2VzLmtleXMoKSkubWFwKHNlcnZpY2VOYW1lID0+XG4gICAgICAgICAgICB0aGlzLmNoZWNrU2VydmljZShzZXJ2aWNlTmFtZSlcbiAgICAgICAgKTtcblxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChjaGVja3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGhlYWx0aCBvZiBhIHNwZWNpZmljIHNlcnZpY2VcbiAgICAgKi9cbiAgICBhc3luYyBjaGVja1NlcnZpY2Uoc2VydmljZU5hbWU6IHN0cmluZyk6IFByb21pc2U8SGVhbHRoQ2hlY2tSZXN1bHQ+IHtcbiAgICAgICAgY29uc3Qgc2VydmljZSA9IHRoaXMuc2VydmljZXMuZ2V0KHNlcnZpY2VOYW1lKTtcbiAgICAgICAgaWYgKCFzZXJ2aWNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZpY2UgJHtzZXJ2aWNlTmFtZX0gbm90IHJlZ2lzdGVyZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7c2VydmljZS51cmx9L2hlYWx0aGAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCg1MDAwKSAvLyA1IHNlY29uZCB0aW1lb3V0XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgICAgICAgIGNvbnN0IGhlYWx0aHkgPSByZXNwb25zZS5vaztcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHNlcnZpY2UgaGVhbHRoXG4gICAgICAgICAgICBzZXJ2aWNlLnN0YXR1cyA9IGhlYWx0aHkgPyAnaGVhbHRoeScgOiAnZGVncmFkZWQnO1xuICAgICAgICAgICAgc2VydmljZS5sYXN0Q2hlY2sgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICBzZXJ2aWNlLnJlc3BvbnNlVGltZSA9IHJlc3BvbnNlVGltZTtcblxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHVwdGltZVxuICAgICAgICAgICAgaWYgKGhlYWx0aHkpIHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlLnVwdGltZSA9IE1hdGgubWluKDEwMCwgc2VydmljZS51cHRpbWUgKyAwLjEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlLnVwdGltZSA9IE1hdGgubWF4KDAsIHNlcnZpY2UudXB0aW1lIC0gMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2VydmljZTogc2VydmljZU5hbWUsXG4gICAgICAgICAgICAgICAgaGVhbHRoeSxcbiAgICAgICAgICAgICAgICByZXNwb25zZVRpbWUsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBTZXJ2aWNlIGlzIGRvd25cbiAgICAgICAgICAgIHNlcnZpY2Uuc3RhdHVzID0gJ2Rvd24nO1xuICAgICAgICAgICAgc2VydmljZS5sYXN0Q2hlY2sgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICBzZXJ2aWNlLnVwdGltZSA9IE1hdGgubWF4KDAsIHNlcnZpY2UudXB0aW1lIC0gMik7XG4gICAgICAgICAgICBzZXJ2aWNlLmVycm9yUmF0ZSA9IE1hdGgubWluKDEwMCwgc2VydmljZS5lcnJvclJhdGUgKyA1KTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOiBzZXJ2aWNlTmFtZSxcbiAgICAgICAgICAgICAgICBoZWFsdGh5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXNwb25zZVRpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgaGVhbHRoIHN0YXR1cyBvZiBhbGwgc2VydmljZXNcbiAgICAgKi9cbiAgICBnZXRBbGxIZWFsdGgoKTogU2VydmljZUhlYWx0aFtdIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5zZXJ2aWNlcy52YWx1ZXMoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGhlYWx0aCBzdGF0dXMgb2YgYSBzcGVjaWZpYyBzZXJ2aWNlXG4gICAgICovXG4gICAgZ2V0U2VydmljZUhlYWx0aChzZXJ2aWNlTmFtZTogc3RyaW5nKTogU2VydmljZUhlYWx0aCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VzLmdldChzZXJ2aWNlTmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGxpc3Qgb2YgdW5oZWFsdGh5IHNlcnZpY2VzXG4gICAgICovXG4gICAgZ2V0VW5oZWFsdGh5U2VydmljZXMoKTogU2VydmljZUhlYWx0aFtdIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5zZXJ2aWNlcy52YWx1ZXMoKSkuZmlsdGVyKFxuICAgICAgICAgICAgc2VydmljZSA9PiBzZXJ2aWNlLnN0YXR1cyAhPT0gJ2hlYWx0aHknXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzbGVlcChtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWx0aE1vbml0b3I7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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