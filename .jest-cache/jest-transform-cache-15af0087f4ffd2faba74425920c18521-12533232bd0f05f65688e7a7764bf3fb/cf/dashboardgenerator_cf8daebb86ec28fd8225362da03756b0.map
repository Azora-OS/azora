{"version":3,"names":["cov_28kokk9ihd","actualCoverage","DashboardGenerator","constructor","metricsService","alertManager","f","s","metrics","alerts","generateSystemHealthDashboard","title","panels","type","targets","thresholds","color","value","yAxis","max","unit","generateBusinessDashboard","generatePerformanceDashboard","generateSecurityDashboard","generateAllDashboards","system_health","business_metrics","performance","security","exportGrafanaDashboard","dashboard","id","tags","timezone","map","panel","index","target","expr","refId","fieldConfig","defaults","b","gridPos","h","w","x","y","Math","floor","time","from","to","refresh","overwrite","module","exports"],"sources":["dashboard-generator.js"],"sourcesContent":["// Task 13: Advanced Dashboard Creation\nclass DashboardGenerator {\n  constructor(metricsService, alertManager) {\n    this.metrics = metricsService;\n    this.alerts = alertManager;\n  }\n\n  // System Health Dashboard\n  generateSystemHealthDashboard() {\n    return {\n      title: 'Azora OS - System Health',\n      panels: [\n        {\n          title: 'Service Status',\n          type: 'stat',\n          targets: ['up{job=\"azora-services\"}'],\n          thresholds: [\n            { color: 'red', value: 0 },\n            { color: 'yellow', value: 0.8 },\n            { color: 'green', value: 0.95 }\n          ]\n        },\n        {\n          title: 'CPU Usage',\n          type: 'graph',\n          targets: ['cpu_usage_percent'],\n          yAxis: { max: 100, unit: 'percent' }\n        },\n        {\n          title: 'Memory Usage',\n          type: 'graph',\n          targets: ['memory_usage_percent'],\n          yAxis: { max: 100, unit: 'percent' }\n        },\n        {\n          title: 'Active Alerts',\n          type: 'table',\n          targets: ['ALERTS{alertstate=\"firing\"}']\n        }\n      ]\n    };\n  }\n\n  // Business Metrics Dashboard\n  generateBusinessDashboard() {\n    return {\n      title: 'Azora OS - Business Metrics',\n      panels: [\n        {\n          title: 'User Registrations',\n          type: 'stat',\n          targets: ['increase(user_registrations_total[24h])'],\n          unit: 'short'\n        },\n        {\n          title: 'Course Enrollments',\n          type: 'graph',\n          targets: ['rate(course_enrollments_total[5m])'],\n          unit: 'ops'\n        },\n        {\n          title: 'Revenue',\n          type: 'stat',\n          targets: ['total_revenue'],\n          unit: 'currency'\n        },\n        {\n          title: 'Payment Success Rate',\n          type: 'gauge',\n          targets: [\n            'rate(payment_transactions_total{status=\"success\"}[5m]) / rate(payment_transactions_total[5m]) * 100'\n          ],\n          unit: 'percent'\n        }\n      ]\n    };\n  }\n\n  // Performance Dashboard\n  generatePerformanceDashboard() {\n    return {\n      title: 'Azora OS - Performance',\n      panels: [\n        {\n          title: 'API Response Time',\n          type: 'graph',\n          targets: ['histogram_quantile(0.95, api_request_duration)'],\n          unit: 'ms'\n        },\n        {\n          title: 'Request Rate',\n          type: 'graph',\n          targets: ['rate(api_requests_total[5m])'],\n          unit: 'ops'\n        },\n        {\n          title: 'Error Rate',\n          type: 'graph',\n          targets: [\n            'rate(api_requests_total{status=~\"5..\"}[5m]) / rate(api_requests_total[5m]) * 100'\n          ],\n          unit: 'percent'\n        },\n        {\n          title: 'Database Connections',\n          type: 'graph',\n          targets: ['database_connections_active'],\n          unit: 'short'\n        }\n      ]\n    };\n  }\n\n  // Security Dashboard\n  generateSecurityDashboard() {\n    return {\n      title: 'Azora OS - Security',\n      panels: [\n        {\n          title: 'Failed Login Attempts',\n          type: 'graph',\n          targets: ['rate(auth_failures_total[5m])'],\n          unit: 'ops'\n        },\n        {\n          title: 'Suspicious Activity',\n          type: 'table',\n          targets: ['security_events{severity=\"high\"}']\n        },\n        {\n          title: 'Rate Limit Hits',\n          type: 'graph',\n          targets: ['rate(rate_limit_exceeded_total[5m])'],\n          unit: 'ops'\n        },\n        {\n          title: 'SSL Certificate Expiry',\n          type: 'stat',\n          targets: ['ssl_cert_expiry_days'],\n          thresholds: [\n            { color: 'red', value: 7 },\n            { color: 'yellow', value: 30 },\n            { color: 'green', value: 90 }\n          ]\n        }\n      ]\n    };\n  }\n\n  // Generate all dashboards\n  generateAllDashboards() {\n    return {\n      system_health: this.generateSystemHealthDashboard(),\n      business_metrics: this.generateBusinessDashboard(),\n      performance: this.generatePerformanceDashboard(),\n      security: this.generateSecurityDashboard()\n    };\n  }\n\n  // Export dashboard as JSON (Grafana format)\n  exportGrafanaDashboard(dashboard) {\n    return {\n      dashboard: {\n        id: null,\n        title: dashboard.title,\n        tags: ['azora', 'monitoring'],\n        timezone: 'browser',\n        panels: dashboard.panels.map((panel, index) => ({\n          id: index + 1,\n          title: panel.title,\n          type: panel.type,\n          targets: panel.targets.map(target => ({\n            expr: target,\n            refId: 'A'\n          })),\n          fieldConfig: {\n            defaults: {\n              unit: panel.unit || 'short',\n              thresholds: panel.thresholds || []\n            }\n          },\n          gridPos: {\n            h: 8,\n            w: 12,\n            x: (index % 2) * 12,\n            y: Math.floor(index / 2) * 8\n          }\n        })),\n        time: {\n          from: 'now-1h',\n          to: 'now'\n        },\n        refresh: '30s'\n      },\n      overwrite: true\n    };\n  }\n}\n\nmodule.exports = DashboardGenerator;"],"mappings":"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","ignoreList":[]}