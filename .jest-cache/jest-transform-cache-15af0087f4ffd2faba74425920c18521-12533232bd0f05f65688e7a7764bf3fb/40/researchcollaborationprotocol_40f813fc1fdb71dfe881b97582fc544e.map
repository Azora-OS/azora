{"version":3,"names":["cov_25gu1o0342","actualCoverage","ResearchCollaborationProtocol","messageQueue","s","taskRegistry","Map","routeMessage","message","f","push","type","b","broadcastToAll","to","sendDirect","agents","agent","from","notifyAgent","console","log","registerTask","task","set","taskId","getTask","get","updateSubTaskStatus","subtaskId","status","subtask","subtasks","find","st","id","getMessageHistory","limit","messages","filter","m","slice","clearHistory","collaborationProtocol"],"sources":["research-collaboration-protocol.ts"],"sourcesContent":["export interface CollaborationMessage {\n  id: string;\n  from: string;\n  to?: string;\n  type: 'broadcast' | 'direct' | 'query' | 'response';\n  content: string;\n  metadata?: any;\n  timestamp: Date;\n}\n\nexport interface TaskDecomposition {\n  taskId: string;\n  description: string;\n  subtasks: SubTask[];\n  requiredAgents: string[];\n  priority: 'low' | 'medium' | 'high' | 'critical';\n}\n\nexport interface SubTask {\n  id: string;\n  agent: string;\n  task: string;\n  type: string;\n  dependencies?: string[];\n  status: 'pending' | 'in-progress' | 'completed' | 'failed';\n}\n\nexport class ResearchCollaborationProtocol {\n  private messageQueue: CollaborationMessage[] = [];\n  private taskRegistry: Map<string, TaskDecomposition> = new Map();\n\n  async routeMessage(message: CollaborationMessage): Promise<void> {\n    this.messageQueue.push(message);\n    \n    if (message.type === 'broadcast') {\n      await this.broadcastToAll(message);\n    } else if (message.type === 'direct' && message.to) {\n      await this.sendDirect(message);\n    }\n  }\n\n  async broadcastToAll(message: CollaborationMessage): Promise<void> {\n    const agents = ['elara', 'sankofa', 'themba', 'naledi', 'jabari', 'amara', 'kofi', 'zola', 'abeni', 'thembo', 'nexus'];\n    \n    for (const agent of agents) {\n      if (agent !== message.from) {\n        await this.notifyAgent(agent, message);\n      }\n    }\n  }\n\n  async sendDirect(message: CollaborationMessage): Promise<void> {\n    if (message.to) {\n      await this.notifyAgent(message.to, message);\n    }\n  }\n\n  private async notifyAgent(agent: string, message: CollaborationMessage): Promise<void> {\n    // Agent receives message and can respond\n    console.log(`[Protocol] ${agent} received message from ${message.from}`);\n  }\n\n  registerTask(task: TaskDecomposition): void {\n    this.taskRegistry.set(task.taskId, task);\n  }\n\n  getTask(taskId: string): TaskDecomposition | undefined {\n    return this.taskRegistry.get(taskId);\n  }\n\n  updateSubTaskStatus(taskId: string, subtaskId: string, status: SubTask['status']): void {\n    const task = this.taskRegistry.get(taskId);\n    if (task) {\n      const subtask = task.subtasks.find(st => st.id === subtaskId);\n      if (subtask) {\n        subtask.status = status;\n      }\n    }\n  }\n\n  getMessageHistory(agent?: string, limit: number = 50): CollaborationMessage[] {\n    let messages = this.messageQueue;\n    \n    if (agent) {\n      messages = messages.filter(m => m.from === agent || m.to === agent || m.type === 'broadcast');\n    }\n    \n    return messages.slice(-limit);\n  }\n\n  clearHistory(): void {\n    this.messageQueue = [];\n  }\n}\n\nexport const collaborationProtocol = new ResearchCollaborationProtocol();\n"],"mappings":"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","ignoreList":[]}