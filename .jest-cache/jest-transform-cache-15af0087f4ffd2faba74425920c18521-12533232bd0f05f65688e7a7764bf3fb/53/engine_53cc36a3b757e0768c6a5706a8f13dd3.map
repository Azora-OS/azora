{"version":3,"names":["cov_23pspfeo89","actualCoverage","PrePEng","predict","context","f","predictions","s","activity","currentActivity","b","type","code","test","command","push","confidence","timeHorizon","suggestion","action","params","count","message","reason","SankofaIntegration","project","projectState","fileCount","hasMicroservices","ChaosIntegration","metrics","systemMetrics","errorRate","cpuUsage","CitadelPredAISensor","predictResourceNeeds","predictLearningNeeds","history","learningHistory","recentErrors","length","lastError","resourceId","toLowerCase","predictArchitecturalNeeds","predictResilienceNeeds","getAllPredictions","resources","learning","architecture","resilience","Promise","all"],"sources":["engine.ts"],"sourcesContent":["export interface PredAISensorContext {\n    userId: string;\n    currentActivity: any;\n    projectState?: any;\n    learningHistory?: any;\n    systemMetrics?: any; // New: For Chaos/PrePEng\n}\n\nexport interface Prediction {\n    type: 'RESOURCE' | 'KNOWLEDGE' | 'COLLABORATION' | 'RISK' | 'ARCHITECTURE' | 'RESILIENCE';\n    confidence: number;\n    timeHorizon: number;\n    suggestion: any;\n}\n\n// Sub-Engine: PrePEng (Predictive Provisioning Engine)\nclass PrePEng {\n    static async predict(context: PredAISensorContext): Promise<Prediction[]> {\n        const predictions: Prediction[] = [];\n        const activity = context.currentActivity;\n\n        // GPU Provisioning\n        if (activity?.type === 'MODEL_TRAINING_SETUP' ||\n            (activity?.code && /import\\s+(torch|tensorflow|keras)/.test(activity.code)) ||\n            (activity?.command && /python.*train/.test(activity.command))) {\n            predictions.push({\n                type: 'RESOURCE',\n                confidence: 0.95,\n                timeHorizon: 300,\n                suggestion: {\n                    action: 'PROVISION_GPU',\n                    params: { type: 'NVIDIA_A100', count: 1 },\n                    message: \"PrePEng: I've pre-warmed an A100 GPU for your training job.\",\n                    reason: 'Deep learning pattern detected'\n                }\n            });\n        }\n        return predictions;\n    }\n}\n\n// Sub-Engine: Sankofa (Architectural Intelligence)\nclass SankofaIntegration {\n    static async predict(context: PredAISensorContext): Promise<Prediction[]> {\n        const predictions: Prediction[] = [];\n        const project = context.projectState;\n\n        // Monolith Detection\n        if (project?.fileCount > 50 && !project?.hasMicroservices) {\n            predictions.push({\n                type: 'ARCHITECTURE',\n                confidence: 0.85,\n                timeHorizon: 0,\n                suggestion: {\n                    action: 'SUGGEST_REFACTOR',\n                    message: \"Sankofa: This component is getting large. Consider splitting into microservices.\",\n                    reason: 'High complexity detected in single module'\n                }\n            });\n        }\n        return predictions;\n    }\n}\n\n// Sub-Engine: Chaos Monkey (Resilience Intelligence)\nclass ChaosIntegration {\n    static async predict(context: PredAISensorContext): Promise<Prediction[]> {\n        const predictions: Prediction[] = [];\n        const metrics = context.systemMetrics;\n\n        // Fragility Detection\n        if (metrics?.errorRate > 0.05 && metrics?.cpuUsage < 0.2) {\n            predictions.push({\n                type: 'RESILIENCE',\n                confidence: 0.90,\n                timeHorizon: 60,\n                suggestion: {\n                    action: 'TRIGGER_CHAOS_TEST',\n                    params: { test: 'LATENCY_INJECTION' },\n                    message: \"Chaos Monkey: Error rate is suspicious despite low load. Initiating latency test.\",\n                    reason: 'Anomaly detected in error/load ratio'\n                }\n            });\n        }\n        return predictions;\n    }\n}\n\nexport class CitadelPredAISensor {\n\n    async predictResourceNeeds(context: PredAISensorContext): Promise<Prediction[]> {\n        return PrePEng.predict(context);\n    }\n\n    async predictLearningNeeds(context: PredAISensorContext): Promise<Prediction[]> {\n        // Keep existing learning logic here or move to \"SapiensEngine\"\n        const predictions: Prediction[] = [];\n        const history = context.learningHistory;\n\n        if (history?.recentErrors?.length >= 3) {\n            const lastError = history.recentErrors[0];\n            predictions.push({\n                type: 'KNOWLEDGE',\n                confidence: 0.92,\n                timeHorizon: 0,\n                suggestion: {\n                    action: 'OFFER_TUTORIAL',\n                    resourceId: `tutorial-${lastError.type.toLowerCase()}`,\n                    message: `Sapiens: It looks like ${lastError.type} is tricky. Here's a micro-lesson.`,\n                    reason: `Repeated ${lastError.type} errors detected`\n                }\n            });\n        }\n        return predictions;\n    }\n\n    async predictArchitecturalNeeds(context: PredAISensorContext): Promise<Prediction[]> {\n        return SankofaIntegration.predict(context);\n    }\n\n    async predictResilienceNeeds(context: PredAISensorContext): Promise<Prediction[]> {\n        return ChaosIntegration.predict(context);\n    }\n\n    // Master method to get all predictions\n    async getAllPredictions(context: PredAISensorContext): Promise<Prediction[]> {\n        const [resources, learning, architecture, resilience] = await Promise.all([\n            this.predictResourceNeeds(context),\n            this.predictLearningNeeds(context),\n            this.predictArchitecturalNeeds(context),\n            this.predictResilienceNeeds(context)\n        ]);\n        return [...resources, ...learning, ...architecture, ...resilience];\n    }\n}\n"],"mappings":"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","ignoreList":[]}