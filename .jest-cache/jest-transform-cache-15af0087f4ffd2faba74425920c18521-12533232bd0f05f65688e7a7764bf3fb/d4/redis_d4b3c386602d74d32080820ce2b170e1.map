{"version":3,"names":["cov_1simp5gaex","actualCoverage","Redis","redisClient","s","getCacheService","f","b","process","env","REDIS_URL","get","key","data","JSON","parse","set","value","ttl","serialized","stringify","delete","del"],"sources":["redis.ts"],"sourcesContent":["import Redis from 'ioredis';\n\nlet redisClient: Redis | null = null;\n\nexport const getCacheService = async () => {\n    if (!redisClient) {\n        redisClient = new Redis(process.env.REDIS_URL || 'redis://localhost:6379');\n    }\n\n    return {\n        get: async (key: string) => {\n            const data = await redisClient!.get(key);\n            return data ? JSON.parse(data) : null;\n        },\n        set: async (key: string, value: any, ttl?: number) => {\n            const serialized = JSON.stringify(value);\n            if (ttl) {\n                await redisClient!.set(key, serialized, 'EX', ttl);\n            } else {\n                await redisClient!.set(key, serialized);\n            }\n        },\n        delete: async (key: string) => {\n            await redisClient!.del(key);\n        }\n    };\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ,OAAOE,KAAK,MAAM,SAAS;AAE3B,IAAIC,WAAyB;AAAA;AAAA,CAAAH,cAAA,GAAAI,CAAA,OAAG,IAAI;AAAC;AAAAJ,cAAA,GAAAI,CAAA;AAErC,OAAO,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAY;EAAA;EAAAL,cAAA,GAAAM,CAAA;EAAAN,cAAA,GAAAI,CAAA;EACvC,IAAI,CAACD,WAAW,EAAE;IAAA;IAAAH,cAAA,GAAAO,CAAA;IAAAP,cAAA,GAAAI,CAAA;IACdD,WAAW,GAAG,IAAID,KAAK;IAAC;IAAA,CAAAF,cAAA,GAAAO,CAAA,UAAAC,OAAO,CAACC,GAAG,CAACC,SAAS;IAAA;IAAA,CAAAV,cAAA,GAAAO,CAAA,UAAI,wBAAwB,EAAC;EAC9E,CAAC;EAAA;EAAA;IAAAP,cAAA,GAAAO,CAAA;EAAA;EAAAP,cAAA,GAAAI,CAAA;EAED,OAAO;IACHO,GAAG,EAAE,MAAOC,GAAW,IAAK;MAAA;MAAAZ,cAAA,GAAAM,CAAA;MACxB,MAAMO,IAAI;MAAA;MAAA,CAAAb,cAAA,GAAAI,CAAA,OAAG,MAAMD,WAAW,CAAEQ,GAAG,CAACC,GAAG,CAAC;MAAC;MAAAZ,cAAA,GAAAI,CAAA;MACzC,OAAOS,IAAI;MAAA;MAAA,CAAAb,cAAA,GAAAO,CAAA,UAAGO,IAAI,CAACC,KAAK,CAACF,IAAI,CAAC;MAAA;MAAA,CAAAb,cAAA,GAAAO,CAAA,UAAG,IAAI;IACzC,CAAC;IACDS,GAAG,EAAE,MAAAA,CAAOJ,GAAW,EAAEK,KAAU,EAAEC,GAAY,KAAK;MAAA;MAAAlB,cAAA,GAAAM,CAAA;MAClD,MAAMa,UAAU;MAAA;MAAA,CAAAnB,cAAA,GAAAI,CAAA,OAAGU,IAAI,CAACM,SAAS,CAACH,KAAK,CAAC;MAAC;MAAAjB,cAAA,GAAAI,CAAA;MACzC,IAAIc,GAAG,EAAE;QAAA;QAAAlB,cAAA,GAAAO,CAAA;QAAAP,cAAA,GAAAI,CAAA;QACL,MAAMD,WAAW,CAAEa,GAAG,CAACJ,GAAG,EAAEO,UAAU,EAAE,IAAI,EAAED,GAAG,CAAC;MACtD,CAAC,MAAM;QAAA;QAAAlB,cAAA,GAAAO,CAAA;QAAAP,cAAA,GAAAI,CAAA;QACH,MAAMD,WAAW,CAAEa,GAAG,CAACJ,GAAG,EAAEO,UAAU,CAAC;MAC3C;IACJ,CAAC;IACDE,MAAM,EAAE,MAAOT,GAAW,IAAK;MAAA;MAAAZ,cAAA,GAAAM,CAAA;MAAAN,cAAA,GAAAI,CAAA;MAC3B,MAAMD,WAAW,CAAEmB,GAAG,CAACV,GAAG,CAAC;IAC/B;EACJ,CAAC;AACL,CAAC","ignoreList":[]}