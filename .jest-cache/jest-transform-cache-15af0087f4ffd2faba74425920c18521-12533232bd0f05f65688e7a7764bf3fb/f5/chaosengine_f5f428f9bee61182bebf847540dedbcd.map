{"version":3,"names":["cov_dv76rrpxj","actualCoverage","EventEmitter","v4","uuidv4","FailureType","ChaosEngine","constructor","config","f","s","activeEvents","Map","chaosHistory","injectChaos","enabled","b","Error","targetService","selectRandomTarget","failureType","selectRandomFailure","event","id","type","timestamp","Date","toISOString","duration","calculateDuration","intensity","metadata","console","log","result","executeChaos","push","emit","set","startTime","now","SERVICE_CRASH","crashService","NETWORK_LATENCY","injectLatency","DATABASE_DISCONNECT","disconnectDatabase","MEMORY_LEAK","simulateMemoryLeak","CPU_SPIKE","simulateCPUSpike","recoveryTime","eventId","success","impact","servicesAffected","errorRate","calculateErrorRate","learnings","extractLearnings","error","message","delete","sleep","latencyMs","availableTargets","targetServices","filter","service","excludeServices","includes","Math","floor","random","length","failures","Object","values","base","getHistory","getActiveEvents","Array","from","ms","Promise","resolve","setTimeout"],"sources":["chaos-engine.ts"],"sourcesContent":["import { EventEmitter } from 'events';\nimport { v4 as uuidv4 } from 'uuid';\nimport { FailureType, ChaosEvent, ChaosConfig, ChaosResult } from './failure-types';\n\nexport class ChaosEngine extends EventEmitter {\n    private config: ChaosConfig;\n    private activeEvents: Map<string, ChaosEvent>;\n    private chaosHistory: ChaosResult[];\n\n    constructor(config: ChaosConfig) {\n        super();\n        this.config = config;\n        this.activeEvents = new Map();\n        this.chaosHistory = [];\n    }\n\n    /**\n     * Inject a random failure into the system\n     */\n    async injectChaos(): Promise<ChaosResult> {\n        if (!this.config.enabled) {\n            throw new Error('Chaos Monkey is disabled');\n        }\n\n        // Select random target service\n        const targetService = this.selectRandomTarget();\n\n        // Select random failure type\n        const failureType = this.selectRandomFailure();\n\n        // Create chaos event\n        const event: ChaosEvent = {\n            id: uuidv4(),\n            type: failureType,\n            targetService,\n            timestamp: new Date().toISOString(),\n            duration: this.calculateDuration(),\n            intensity: this.config.intensity,\n            metadata: {}\n        };\n\n        console.log(`üêµ ChaosMonkey: Injecting ${failureType} into ${targetService}`);\n\n        // Execute the chaos\n        const result = await this.executeChaos(event);\n\n        // Record to history\n        this.chaosHistory.push(result);\n        this.emit('chaos-injected', result);\n\n        return result;\n    }\n\n    /**\n     * Execute specific chaos event\n     */\n    private async executeChaos(event: ChaosEvent): Promise<ChaosResult> {\n        this.activeEvents.set(event.id, event);\n        const startTime = Date.now();\n\n        try {\n            switch (event.type) {\n                case FailureType.SERVICE_CRASH:\n                    await this.crashService(event);\n                    break;\n                case FailureType.NETWORK_LATENCY:\n                    await this.injectLatency(event);\n                    break;\n                case FailureType.DATABASE_DISCONNECT:\n                    await this.disconnectDatabase(event);\n                    break;\n                case FailureType.MEMORY_LEAK:\n                    await this.simulateMemoryLeak(event);\n                    break;\n                case FailureType.CPU_SPIKE:\n                    await this.simulateCPUSpike(event);\n                    break;\n                default:\n                    throw new Error(`Unknown failure type: ${event.type}`);\n            }\n\n            const recoveryTime = Date.now() - startTime;\n\n            return {\n                eventId: event.id,\n                success: true,\n                impact: {\n                    servicesAffected: [event.targetService],\n                    errorRate: this.calculateErrorRate(),\n                    recoveryTime\n                },\n                learnings: this.extractLearnings(event, recoveryTime)\n            };\n        } catch (error) {\n            return {\n                eventId: event.id,\n                success: false,\n                impact: {\n                    servicesAffected: [event.targetService],\n                    errorRate: 0,\n                    recoveryTime: Date.now() - startTime\n                },\n                learnings: [`Chaos injection failed: ${error.message}`]\n            };\n        } finally {\n            this.activeEvents.delete(event.id);\n        }\n    }\n\n    /**\n     * Crash a service (simulated)\n     */\n    private async crashService(event: ChaosEvent): Promise<void> {\n        console.log(`üí• Crashing service: ${event.targetService}`);\n        // In production, this would send a kill signal to the service\n        // For now, we simulate by logging\n        await this.sleep(event.duration);\n    }\n\n    /**\n     * Inject network latency\n     */\n    private async injectLatency(event: ChaosEvent): Promise<void> {\n        const latencyMs = this.config.intensity === 'high' ? 5000 :\n            this.config.intensity === 'medium' ? 2000 : 500;\n        console.log(`üêå Injecting ${latencyMs}ms latency to ${event.targetService}`);\n        await this.sleep(latencyMs);\n    }\n\n    /**\n     * Disconnect database\n     */\n    private async disconnectDatabase(event: ChaosEvent): Promise<void> {\n        console.log(`üîå Disconnecting database for ${event.targetService}`);\n        // In production, this would close DB connections\n        await this.sleep(event.duration);\n    }\n\n    /**\n     * Simulate memory leak\n     */\n    private async simulateMemoryLeak(event: ChaosEvent): Promise<void> {\n        console.log(`üíæ Simulating memory leak in ${event.targetService}`);\n        // In production, this would gradually allocate memory\n        await this.sleep(event.duration);\n    }\n\n    /**\n     * Simulate CPU spike\n     */\n    private async simulateCPUSpike(event: ChaosEvent): Promise<void> {\n        console.log(`‚ö° Simulating CPU spike in ${event.targetService}`);\n        // In production, this would run CPU-intensive operations\n        await this.sleep(event.duration);\n    }\n\n    /**\n     * Select random target service\n     */\n    private selectRandomTarget(): string {\n        const availableTargets = this.config.targetServices.filter(\n            service => !this.config.excludeServices.includes(service)\n        );\n        return availableTargets[Math.floor(Math.random() * availableTargets.length)];\n    }\n\n    /**\n     * Select random failure type\n     */\n    private selectRandomFailure(): FailureType {\n        const failures = Object.values(FailureType);\n        return failures[Math.floor(Math.random() * failures.length)];\n    }\n\n    /**\n     * Calculate chaos duration based on intensity\n     */\n    private calculateDuration(): number {\n        const base = this.config.intensity === 'high' ? 60000 :\n            this.config.intensity === 'medium' ? 30000 : 10000;\n        return base + Math.random() * 10000;\n    }\n\n    /**\n     * Calculate current error rate\n     */\n    private calculateErrorRate(): number {\n        // In production, this would query actual metrics\n        return Math.random() * 0.1; // 0-10% error rate\n    }\n\n    /**\n     * Extract learnings from chaos event\n     */\n    private extractLearnings(event: ChaosEvent, recoveryTime: number): string[] {\n        const learnings: string[] = [];\n\n        if (recoveryTime < 5000) {\n            learnings.push(`Fast recovery: ${event.targetService} recovered in ${recoveryTime}ms`);\n        } else if (recoveryTime > 30000) {\n            learnings.push(`Slow recovery: ${event.targetService} took ${recoveryTime}ms to recover`);\n        }\n\n        learnings.push(`${event.type} handled successfully by ${event.targetService}`);\n\n        return learnings;\n    }\n\n    /**\n     * Get chaos history\n     */\n    public getHistory(): ChaosResult[] {\n        return this.chaosHistory;\n    }\n\n    /**\n     * Get active chaos events\n     */\n    public getActiveEvents(): ChaosEvent[] {\n        return Array.from(this.activeEvents.values());\n    }\n\n    private sleep(ms: number): Promise<void> {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n}\n\nexport default ChaosEngine;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}