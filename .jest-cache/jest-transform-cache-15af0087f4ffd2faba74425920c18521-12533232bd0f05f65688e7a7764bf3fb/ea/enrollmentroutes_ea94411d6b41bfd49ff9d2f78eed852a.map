{"version":3,"names":["cov_5921nh3fj","actualCoverage","Router","enrollmentService","router","s","post","req","res","next","f","enrollment","enrollStudent","body","status","json","success","data","timestamp","Date","error","get","getEnrollment","params","id","b","enrollments","getStudentEnrollments","studentId","put","progress","updateProgress","completeEnrollment","message","dropEnrollment"],"sources":["enrollment.routes.ts"],"sourcesContent":["import { Router, Request, Response, NextFunction } from 'express';\nimport { enrollmentService } from '../services/enrollment.service';\n\nconst router = Router();\n\n// POST /api/v1/enrollments - Enroll a student in a course\nrouter.post('/', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const enrollment = await enrollmentService.enrollStudent(req.body);\n    res.status(201).json({\n      success: true,\n      data: enrollment,\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n// GET /api/v1/enrollments/:id - Get a specific enrollment\nrouter.get('/:id', async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n  try {\n    const enrollment = await enrollmentService.getEnrollment(req.params.id);\n    \n    if (!enrollment) {\n      res.status(404).json({\n        success: false,\n        error: 'Enrollment not found',\n        timestamp: new Date(),\n      });\n      return;\n    }\n\n    res.json({\n      success: true,\n      data: enrollment,\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n// GET /api/v1/enrollments/student/:studentId - Get all enrollments for a student\nrouter.get('/student/:studentId', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const enrollments = await enrollmentService.getStudentEnrollments(req.params.studentId);\n    res.json({\n      success: true,\n      data: enrollments,\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n// PUT /api/v1/enrollments/:id/progress - Update enrollment progress\nrouter.put('/:id/progress', async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n  try {\n    const { progress } = req.body;\n    \n    if (typeof progress !== 'number') {\n      res.status(400).json({\n        success: false,\n        error: 'Progress must be a number',\n        timestamp: new Date(),\n      });\n      return;\n    }\n\n    const enrollment = await enrollmentService.updateProgress(req.params.id, progress);\n    res.json({\n      success: true,\n      data: enrollment,\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n// POST /api/v1/enrollments/:id/complete - Mark enrollment as completed\nrouter.post('/:id/complete', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const enrollment = await enrollmentService.completeEnrollment(req.params.id);\n    res.json({\n      success: true,\n      data: enrollment,\n      message: 'Enrollment completed successfully',\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n// POST /api/v1/enrollments/:id/drop - Drop an enrollment\nrouter.post('/:id/drop', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const enrollment = await enrollmentService.dropEnrollment(req.params.id);\n    res.json({\n      success: true,\n      data: enrollment,\n      message: 'Enrollment dropped successfully',\n      timestamp: new Date(),\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\nexport default router;\n"],"mappings":"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","ignoreList":[]}