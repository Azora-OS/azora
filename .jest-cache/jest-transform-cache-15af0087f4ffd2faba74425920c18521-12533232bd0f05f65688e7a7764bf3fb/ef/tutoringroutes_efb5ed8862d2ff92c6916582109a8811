958bc0679a89593b646f5293105d2e9c
/* istanbul ignore next */
function cov_131pcla6nn() {
  var path = "/workspaces/azora/services/education-revenue-engine/src/routes/tutoring.routes.ts";
  var hash = "36bff908b997d51ffb50a523a67f0c6f000853d2";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/education-revenue-engine/src/routes/tutoring.routes.ts",
    statementMap: {
      "0": {
        start: {
          line: 4,
          column: 15
        },
        end: {
          line: 4,
          column: 23
        }
      },
      "1": {
        start: {
          line: 7,
          column: 0
        },
        end: {
          line: 28,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 2
        },
        end: {
          line: 27,
          column: 3
        }
      },
      "3": {
        start: {
          line: 9,
          column: 79
        },
        end: {
          line: 9,
          column: 87
        }
      },
      "4": {
        start: {
          line: 11,
          column: 19
        },
        end: {
          line: 18,
          column: 6
        }
      },
      "5": {
        start: {
          line: 20,
          column: 4
        },
        end: {
          line: 24,
          column: 7
        }
      },
      "6": {
        start: {
          line: 26,
          column: 4
        },
        end: {
          line: 26,
          column: 16
        }
      },
      "7": {
        start: {
          line: 31,
          column: 0
        },
        end: {
          line: 43,
          column: 3
        }
      },
      "8": {
        start: {
          line: 32,
          column: 2
        },
        end: {
          line: 42,
          column: 3
        }
      },
      "9": {
        start: {
          line: 33,
          column: 20
        },
        end: {
          line: 33,
          column: 82
        }
      },
      "10": {
        start: {
          line: 35,
          column: 4
        },
        end: {
          line: 39,
          column: 7
        }
      },
      "11": {
        start: {
          line: 41,
          column: 4
        },
        end: {
          line: 41,
          column: 16
        }
      },
      "12": {
        start: {
          line: 46,
          column: 0
        },
        end: {
          line: 64,
          column: 2
        }
      },
      "13": {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 62,
          column: 5
        }
      },
      "14": {
        start: {
          line: 50,
          column: 30
        },
        end: {
          line: 53,
          column: 7
        }
      },
      "15": {
        start: {
          line: 55,
          column: 6
        },
        end: {
          line: 59,
          column: 9
        }
      },
      "16": {
        start: {
          line: 61,
          column: 6
        },
        end: {
          line: 61,
          column: 18
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 7,
            column: 21
          }
        },
        loc: {
          start: {
            line: 7,
            column: 79
          },
          end: {
            line: 28,
            column: 1
          }
        },
        line: 7
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 31,
            column: 34
          },
          end: {
            line: 31,
            column: 35
          }
        },
        loc: {
          start: {
            line: 31,
            column: 93
          },
          end: {
            line: 43,
            column: 1
          }
        },
        line: 31
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 48,
            column: 2
          },
          end: {
            line: 48,
            column: 3
          }
        },
        loc: {
          start: {
            line: 48,
            column: 61
          },
          end: {
            line: 63,
            column: 3
          }
        },
        line: 48
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0
    },
    b: {},
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "36bff908b997d51ffb50a523a67f0c6f000853d2"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_131pcla6nn = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_131pcla6nn();
import { Router } from 'express';
import { tutoringService } from '../integrations/elara-integration';
const router =
/* istanbul ignore next */
(cov_131pcla6nn().s[0]++, Router());

// POST /api/v1/tutoring/ask - Ask a tutoring question
/* istanbul ignore next */
cov_131pcla6nn().s[1]++;
router.post('/ask', async (req, res, next) => {
  /* istanbul ignore next */
  cov_131pcla6nn().f[0]++;
  cov_131pcla6nn().s[2]++;
  try {
    const {
      studentId,
      enrollmentId,
      courseId,
      moduleId,
      question,
      context
    } =
    /* istanbul ignore next */
    (cov_131pcla6nn().s[3]++, req.body);
    const result =
    /* istanbul ignore next */
    (cov_131pcla6nn().s[4]++, await tutoringService.askQuestion({
      studentId,
      enrollmentId,
      courseId,
      moduleId,
      question,
      context
    }));
    /* istanbul ignore next */
    cov_131pcla6nn().s[5]++;
    res.status(201).json({
      success: true,
      data: result,
      timestamp: new Date()
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_131pcla6nn().s[6]++;
    next(error);
  }
});

// GET /api/v1/tutoring/history/:studentId - Get tutoring history
/* istanbul ignore next */
cov_131pcla6nn().s[7]++;
router.get('/history/:studentId', async (req, res, next) => {
  /* istanbul ignore next */
  cov_131pcla6nn().f[1]++;
  cov_131pcla6nn().s[8]++;
  try {
    const history =
    /* istanbul ignore next */
    (cov_131pcla6nn().s[9]++, await tutoringService.getTutoringHistory(req.params.studentId));
    /* istanbul ignore next */
    cov_131pcla6nn().s[10]++;
    res.json({
      success: true,
      data: history,
      timestamp: new Date()
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_131pcla6nn().s[11]++;
    next(error);
  }
});

// GET /api/v1/tutoring/recommendations/:studentId/:enrollmentId - Get personalized recommendations
/* istanbul ignore next */
cov_131pcla6nn().s[12]++;
router.get('/recommendations/:studentId/:enrollmentId', async (req, res, next) => {
  /* istanbul ignore next */
  cov_131pcla6nn().f[2]++;
  cov_131pcla6nn().s[13]++;
  try {
    const recommendations =
    /* istanbul ignore next */
    (cov_131pcla6nn().s[14]++, await tutoringService.getRecommendations(req.params.studentId, req.params.enrollmentId));
    /* istanbul ignore next */
    cov_131pcla6nn().s[15]++;
    res.json({
      success: true,
      data: recommendations,
      timestamp: new Date()
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_131pcla6nn().s[16]++;
    next(error);
  }
});
export default router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTMxcGNsYTZubiIsImFjdHVhbENvdmVyYWdlIiwiUm91dGVyIiwidHV0b3JpbmdTZXJ2aWNlIiwicm91dGVyIiwicyIsInBvc3QiLCJyZXEiLCJyZXMiLCJuZXh0IiwiZiIsInN0dWRlbnRJZCIsImVucm9sbG1lbnRJZCIsImNvdXJzZUlkIiwibW9kdWxlSWQiLCJxdWVzdGlvbiIsImNvbnRleHQiLCJib2R5IiwicmVzdWx0IiwiYXNrUXVlc3Rpb24iLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJ0aW1lc3RhbXAiLCJEYXRlIiwiZXJyb3IiLCJnZXQiLCJoaXN0b3J5IiwiZ2V0VHV0b3JpbmdIaXN0b3J5IiwicGFyYW1zIiwicmVjb21tZW5kYXRpb25zIiwiZ2V0UmVjb21tZW5kYXRpb25zIl0sInNvdXJjZXMiOlsidHV0b3Jpbmcucm91dGVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciwgUmVxdWVzdCwgUmVzcG9uc2UsIE5leHRGdW5jdGlvbiB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgdHV0b3JpbmdTZXJ2aWNlIH0gZnJvbSAnLi4vaW50ZWdyYXRpb25zL2VsYXJhLWludGVncmF0aW9uJztcblxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XG5cbi8vIFBPU1QgL2FwaS92MS90dXRvcmluZy9hc2sgLSBBc2sgYSB0dXRvcmluZyBxdWVzdGlvblxucm91dGVyLnBvc3QoJy9hc2snLCBhc3luYyAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHN0dWRlbnRJZCwgZW5yb2xsbWVudElkLCBjb3Vyc2VJZCwgbW9kdWxlSWQsIHF1ZXN0aW9uLCBjb250ZXh0IH0gPSByZXEuYm9keTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHR1dG9yaW5nU2VydmljZS5hc2tRdWVzdGlvbih7XG4gICAgICBzdHVkZW50SWQsXG4gICAgICBlbnJvbGxtZW50SWQsXG4gICAgICBjb3Vyc2VJZCxcbiAgICAgIG1vZHVsZUlkLFxuICAgICAgcXVlc3Rpb24sXG4gICAgICBjb250ZXh0LFxuICAgIH0pO1xuXG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufSk7XG5cbi8vIEdFVCAvYXBpL3YxL3R1dG9yaW5nL2hpc3RvcnkvOnN0dWRlbnRJZCAtIEdldCB0dXRvcmluZyBoaXN0b3J5XG5yb3V0ZXIuZ2V0KCcvaGlzdG9yeS86c3R1ZGVudElkJywgYXN5bmMgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgaGlzdG9yeSA9IGF3YWl0IHR1dG9yaW5nU2VydmljZS5nZXRUdXRvcmluZ0hpc3RvcnkocmVxLnBhcmFtcy5zdHVkZW50SWQpO1xuXG4gICAgcmVzLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IGhpc3RvcnksXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn0pO1xuXG4vLyBHRVQgL2FwaS92MS90dXRvcmluZy9yZWNvbW1lbmRhdGlvbnMvOnN0dWRlbnRJZC86ZW5yb2xsbWVudElkIC0gR2V0IHBlcnNvbmFsaXplZCByZWNvbW1lbmRhdGlvbnNcbnJvdXRlci5nZXQoXG4gICcvcmVjb21tZW5kYXRpb25zLzpzdHVkZW50SWQvOmVucm9sbG1lbnRJZCcsXG4gIGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSBhd2FpdCB0dXRvcmluZ1NlcnZpY2UuZ2V0UmVjb21tZW5kYXRpb25zKFxuICAgICAgICByZXEucGFyYW1zLnN0dWRlbnRJZCxcbiAgICAgICAgcmVxLnBhcmFtcy5lbnJvbGxtZW50SWRcbiAgICAgICk7XG5cbiAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogcmVjb21tZW5kYXRpb25zLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9XG4pO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxjQUFBO0FBZlosU0FBU0UsTUFBTSxRQUF5QyxTQUFTO0FBQ2pFLFNBQVNDLGVBQWUsUUFBUSxtQ0FBbUM7QUFFbkUsTUFBTUMsTUFBTTtBQUFBO0FBQUEsQ0FBQUosY0FBQSxHQUFBSyxDQUFBLE9BQUdILE1BQU0sQ0FBQyxDQUFDOztBQUV2QjtBQUFBO0FBQUFGLGNBQUEs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