eaa643bbfb19b313b3a64819b45ac12c
/* istanbul ignore next */
function cov_qb35i6l0q() {
  var path = "/workspaces/azora/packages/lib/middleware/security.ts";
  var hash = "419f2a8e82ab2b121ece88fa1b947176953af8c3";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/packages/lib/middleware/security.ts",
    statementMap: {
      "0": {
        start: {
          line: 26,
          column: 2
        },
        end: {
          line: 58,
          column: 5
        }
      },
      "1": {
        start: {
          line: 65,
          column: 25
        },
        end: {
          line: 67,
          column: 75
        }
      },
      "2": {
        start: {
          line: 69,
          column: 2
        },
        end: {
          line: 86,
          column: 5
        }
      },
      "3": {
        start: {
          line: 72,
          column: 6
        },
        end: {
          line: 72,
          column: 49
        }
      },
      "4": {
        start: {
          line: 72,
          column: 20
        },
        end: {
          line: 72,
          column: 48
        }
      },
      "5": {
        start: {
          line: 74,
          column: 6
        },
        end: {
          line: 79,
          column: 7
        }
      },
      "6": {
        start: {
          line: 75,
          column: 8
        },
        end: {
          line: 75,
          column: 29
        }
      },
      "7": {
        start: {
          line: 77,
          column: 8
        },
        end: {
          line: 77,
          column: 53
        }
      },
      "8": {
        start: {
          line: 78,
          column: 8
        },
        end: {
          line: 78,
          column: 51
        }
      },
      "9": {
        start: {
          line: 97,
          column: 2
        },
        end: {
          line: 115,
          column: 5
        }
      },
      "10": {
        start: {
          line: 104,
          column: 8
        },
        end: {
          line: 107,
          column: 11
        }
      },
      "11": {
        start: {
          line: 108,
          column: 26
        },
        end: {
          line: 108,
          column: 119
        }
      },
      "12": {
        start: {
          line: 109,
          column: 8
        },
        end: {
          line: 113,
          column: 11
        }
      },
      "13": {
        start: {
          line: 126,
          column: 2
        },
        end: {
          line: 130,
          column: 5
        }
      },
      "14": {
        start: {
          line: 138,
          column: 2
        },
        end: {
          line: 138,
          column: 35
        }
      },
      "15": {
        start: {
          line: 141,
          column: 2
        },
        end: {
          line: 141,
          column: 53
        }
      },
      "16": {
        start: {
          line: 142,
          column: 2
        },
        end: {
          line: 142,
          column: 43
        }
      },
      "17": {
        start: {
          line: 143,
          column: 2
        },
        end: {
          line: 143,
          column: 53
        }
      },
      "18": {
        start: {
          line: 144,
          column: 2
        },
        end: {
          line: 144,
          column: 50
        }
      },
      "19": {
        start: {
          line: 146,
          column: 2
        },
        end: {
          line: 146,
          column: 9
        }
      },
      "20": {
        start: {
          line: 153,
          column: 16
        },
        end: {
          line: 153,
          column: 26
        }
      },
      "21": {
        start: {
          line: 155,
          column: 2
        },
        end: {
          line: 163,
          column: 5
        }
      },
      "22": {
        start: {
          line: 156,
          column: 21
        },
        end: {
          line: 156,
          column: 39
        }
      },
      "23": {
        start: {
          line: 157,
          column: 4
        },
        end: {
          line: 162,
          column: 7
        }
      },
      "24": {
        start: {
          line: 165,
          column: 2
        },
        end: {
          line: 165,
          column: 9
        }
      }
    },
    fnMap: {
      "0": {
        name: "getHelmetConfig",
        decl: {
          start: {
            line: 25,
            column: 16
          },
          end: {
            line: 25,
            column: 31
          }
        },
        loc: {
          start: {
            line: 25,
            column: 34
          },
          end: {
            line: 59,
            column: 1
          }
        },
        line: 25
      },
      "1": {
        name: "getCorsConfig",
        decl: {
          start: {
            line: 64,
            column: 16
          },
          end: {
            line: 64,
            column: 29
          }
        },
        loc: {
          start: {
            line: 64,
            column: 32
          },
          end: {
            line: 87,
            column: 1
          }
        },
        line: 64
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 70,
            column: 12
          },
          end: {
            line: 70,
            column: 13
          }
        },
        loc: {
          start: {
            line: 70,
            column: 100
          },
          end: {
            line: 80,
            column: 5
          }
        },
        line: 70
      },
      "3": {
        name: "createRateLimiter",
        decl: {
          start: {
            line: 92,
            column: 16
          },
          end: {
            line: 92,
            column: 33
          }
        },
        loc: {
          start: {
            line: 96,
            column: 3
          },
          end: {
            line: 116,
            column: 1
          }
        },
        line: 96
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 103,
            column: 15
          },
          end: {
            line: 103,
            column: 16
          }
        },
        loc: {
          start: {
            line: 103,
            column: 48
          },
          end: {
            line: 114,
            column: 7
          }
        },
        line: 103
      },
      "5": {
        name: "createSlowDown",
        decl: {
          start: {
            line: 121,
            column: 16
          },
          end: {
            line: 121,
            column: 30
          }
        },
        loc: {
          start: {
            line: 125,
            column: 3
          },
          end: {
            line: 131,
            column: 1
          }
        },
        line: 125
      },
      "6": {
        name: "securityHeaders",
        decl: {
          start: {
            line: 136,
            column: 16
          },
          end: {
            line: 136,
            column: 31
          }
        },
        loc: {
          start: {
            line: 136,
            column: 82
          },
          end: {
            line: 147,
            column: 1
          }
        },
        line: 136
      },
      "7": {
        name: "requestLogger",
        decl: {
          start: {
            line: 152,
            column: 16
          },
          end: {
            line: 152,
            column: 29
          }
        },
        loc: {
          start: {
            line: 152,
            column: 79
          },
          end: {
            line: 166,
            column: 1
          }
        },
        line: 152
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 155,
            column: 19
          },
          end: {
            line: 155,
            column: 20
          }
        },
        loc: {
          start: {
            line: 155,
            column: 25
          },
          end: {
            line: 163,
            column: 3
          }
        },
        line: 155
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 34,
            column: 31
          },
          end: {
            line: 34,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 34,
            column: 31
          },
          end: {
            line: 34,
            column: 50
          }
        }, {
          start: {
            line: 34,
            column: 54
          },
          end: {
            line: 34,
            column: 77
          }
        }],
        line: 34
      },
      "1": {
        loc: {
          start: {
            line: 65,
            column: 25
          },
          end: {
            line: 67,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 65,
            column: 25
          },
          end: {
            line: 65,
            column: 64
          }
        }, {
          start: {
            line: 66,
            column: 25
          },
          end: {
            line: 66,
            column: 60
          }
        }, {
          start: {
            line: 67,
            column: 25
          },
          end: {
            line: 67,
            column: 75
          }
        }],
        line: 65
      },
      "2": {
        loc: {
          start: {
            line: 72,
            column: 6
          },
          end: {
            line: 72,
            column: 49
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 72,
            column: 6
          },
          end: {
            line: 72,
            column: 49
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 72
      },
      "3": {
        loc: {
          start: {
            line: 74,
            column: 6
          },
          end: {
            line: 79,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 74,
            column: 6
          },
          end: {
            line: 79,
            column: 7
          }
        }, {
          start: {
            line: 76,
            column: 13
          },
          end: {
            line: 79,
            column: 7
          }
        }],
        line: 74
      },
      "4": {
        loc: {
          start: {
            line: 74,
            column: 10
          },
          end: {
            line: 74,
            column: 83
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 74,
            column: 10
          },
          end: {
            line: 74,
            column: 41
          }
        }, {
          start: {
            line: 74,
            column: 45
          },
          end: {
            line: 74,
            column: 83
          }
        }],
        line: 74
      },
      "5": {
        loc: {
          start: {
            line: 98,
            column: 14
          },
          end: {
            line: 98,
            column: 49
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 98,
            column: 14
          },
          end: {
            line: 98,
            column: 31
          }
        }, {
          start: {
            line: 98,
            column: 35
          },
          end: {
            line: 98,
            column: 49
          }
        }],
        line: 98
      },
      "6": {
        loc: {
          start: {
            line: 99,
            column: 9
          },
          end: {
            line: 99,
            column: 28
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 99,
            column: 9
          },
          end: {
            line: 99,
            column: 21
          }
        }, {
          start: {
            line: 99,
            column: 25
          },
          end: {
            line: 99,
            column: 28
          }
        }],
        line: 99
      },
      "7": {
        loc: {
          start: {
            line: 100,
            column: 13
          },
          end: {
            line: 100,
            column: 90
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 100,
            column: 13
          },
          end: {
            line: 100,
            column: 29
          }
        }, {
          start: {
            line: 100,
            column: 33
          },
          end: {
            line: 100,
            column: 90
          }
        }],
        line: 100
      },
      "8": {
        loc: {
          start: {
            line: 108,
            column: 26
          },
          end: {
            line: 108,
            column: 119
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 108,
            column: 26
          },
          end: {
            line: 108,
            column: 105
          }
        }, {
          start: {
            line: 108,
            column: 109
          },
          end: {
            line: 108,
            column: 119
          }
        }],
        line: 108
      },
      "9": {
        loc: {
          start: {
            line: 127,
            column: 14
          },
          end: {
            line: 127,
            column: 49
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 127,
            column: 14
          },
          end: {
            line: 127,
            column: 31
          }
        }, {
          start: {
            line: 127,
            column: 35
          },
          end: {
            line: 127,
            column: 49
          }
        }],
        line: 127
      },
      "10": {
        loc: {
          start: {
            line: 128,
            column: 16
          },
          end: {
            line: 128,
            column: 41
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 128,
            column: 16
          },
          end: {
            line: 128,
            column: 35
          }
        }, {
          start: {
            line: 128,
            column: 39
          },
          end: {
            line: 128,
            column: 41
          }
        }],
        line: 128
      },
      "11": {
        loc: {
          start: {
            line: 129,
            column: 13
          },
          end: {
            line: 129,
            column: 36
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 129,
            column: 13
          },
          end: {
            line: 129,
            column: 29
          }
        }, {
          start: {
            line: 129,
            column: 33
          },
          end: {
            line: 129,
            column: 36
          }
        }],
        line: 129
      },
      "12": {
        loc: {
          start: {
            line: 161,
            column: 17
          },
          end: {
            line: 161,
            column: 51
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 161,
            column: 17
          },
          end: {
            line: 161,
            column: 38
          }
        }, {
          start: {
            line: 161,
            column: 42
          },
          end: {
            line: 161,
            column: 51
          }
        }],
        line: 161
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "419f2a8e82ab2b121ece88fa1b947176953af8c3"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_qb35i6l0q = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_qb35i6l0q();
/*
AZORA PROPRIETARY LICENSE

Copyright Â© 2025 Azora ES (Pty) Ltd. All Rights Reserved.

See LICENSE file for details.
*/

/**
 * Security Middleware Utilities
 * 
 * Standardized security middleware for Express applications
 */

import helmet from 'helmet';
import cors from 'cors';
import { rateLimit } from 'express-rate-limit';
import { slowDown } from 'express-slow-down';
import { log } from '../logger';

/**
 * Standard Helmet configuration for security headers
 */
export function getHelmetConfig() {
  /* istanbul ignore next */
  cov_qb35i6l0q().f[0]++;
  cov_qb35i6l0q().s[0]++;
  return helmet({
    contentSecurityPolicy: {
      directives: {
        defaultSrc: ["'self'"],
        styleSrc: ["'self'", "'unsafe-inline'", "https://fonts.googleapis.com"],
        fontSrc: ["'self'", "https://fonts.gstatic.com"],
        scriptSrc: ["'self'", "'unsafe-inline'", "'unsafe-eval'"],
        // Adjust for production
        imgSrc: ["'self'", "data:", "https:"],
        connectSrc: ["'self'",
        /* istanbul ignore next */
        (cov_qb35i6l0q().b[0][0]++, process.env.API_URL) ||
        /* istanbul ignore next */
        (cov_qb35i6l0q().b[0][1]++, "http://localhost:3001")],
        frameSrc: ["'none'"],
        objectSrc: ["'none'"],
        baseUri: ["'self'"],
        formAction: ["'self'"]
      }
    },
    crossOriginEmbedderPolicy: true,
    crossOriginOpenerPolicy: true,
    crossOriginResourcePolicy: {
      policy: "cross-origin"
    },
    dnsPrefetchControl: true,
    frameguard: {
      action: 'deny'
    },
    hidePoweredBy: true,
    hsts: {
      maxAge: 31536000,
      includeSubDomains: true,
      preload: true
    },
    ieNoOpen: true,
    noSniff: true,
    originAgentCluster: true,
    permittedCrossDomainPolicies: false,
    referrerPolicy: {
      policy: "no-referrer"
    },
    xssFilter: true
  });
}

/**
 * CORS configuration
 */
export function getCorsConfig() {
  /* istanbul ignore next */
  cov_qb35i6l0q().f[1]++;
  const allowedOrigins =
  /* istanbul ignore next */
  (cov_qb35i6l0q().s[1]++,
  /* istanbul ignore next */
  (cov_qb35i6l0q().b[1][0]++, process.env.ALLOWED_ORIGINS?.split(',')) ||
  /* istanbul ignore next */
  (cov_qb35i6l0q().b[1][1]++, process.env.CORS_ORIGIN?.split(',')) ||
  /* istanbul ignore next */
  (cov_qb35i6l0q().b[1][2]++, ['http://localhost:3000', 'http://localhost:3001']));
  /* istanbul ignore next */
  cov_qb35i6l0q().s[2]++;
  return cors({
    origin: (origin, callback) => {
      /* istanbul ignore next */
      cov_qb35i6l0q().f[2]++;
      cov_qb35i6l0q().s[3]++;
      // Allow requests with no origin (mobile apps, Postman, etc.)
      if (!origin) {
        /* istanbul ignore next */
        cov_qb35i6l0q().b[2][0]++;
        cov_qb35i6l0q().s[4]++;
        return callback(null, true);
      } else
      /* istanbul ignore next */
      {
        cov_qb35i6l0q().b[2][1]++;
      }
      cov_qb35i6l0q().s[5]++;
      if (
      /* istanbul ignore next */
      (cov_qb35i6l0q().b[4][0]++, allowedOrigins.includes(origin)) ||
      /* istanbul ignore next */
      (cov_qb35i6l0q().b[4][1]++, process.env.NODE_ENV === 'development')) {
        /* istanbul ignore next */
        cov_qb35i6l0q().b[3][0]++;
        cov_qb35i6l0q().s[6]++;
        callback(null, true);
      } else {
        /* istanbul ignore next */
        cov_qb35i6l0q().b[3][1]++;
        cov_qb35i6l0q().s[7]++;
        log.warn('CORS blocked origin:', {
          origin
        });
        /* istanbul ignore next */
        cov_qb35i6l0q().s[8]++;
        callback(new Error('Not allowed by CORS'));
      }
    },
    credentials: true,
    methods: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS'],
    allowedHeaders: ['Content-Type', 'Authorization', 'X-API-Key', 'X-Requested-With'],
    exposedHeaders: ['X-Total-Count', 'X-Page-Count'],
    maxAge: 86400 // 24 hours
  });
}

/**
 * Rate limiter for API endpoints
 */
export function createRateLimiter(options) {
  /* istanbul ignore next */
  cov_qb35i6l0q().f[3]++;
  cov_qb35i6l0q().s[9]++;
  return rateLimit({
    windowMs:
    /* istanbul ignore next */
    (cov_qb35i6l0q().b[5][0]++, options?.windowMs) ||
    /* istanbul ignore next */
    (cov_qb35i6l0q().b[5][1]++, 15 * 60 * 1000),
    // 15 minutes
    max:
    /* istanbul ignore next */
    (cov_qb35i6l0q().b[6][0]++, options?.max) ||
    /* istanbul ignore next */
    (cov_qb35i6l0q().b[6][1]++, 100),
    // Limit each IP to 100 requests per windowMs
    message:
    /* istanbul ignore next */
    (cov_qb35i6l0q().b[7][0]++, options?.message) ||
    /* istanbul ignore next */
    (cov_qb35i6l0q().b[7][1]++, 'Too many requests from this IP, please try again later.'),
    standardHeaders: true,
    legacyHeaders: false,
    handler: (req, res) => {
      /* istanbul ignore next */
      cov_qb35i6l0q().f[4]++;
      cov_qb35i6l0q().s[10]++;
      log.warn('Rate limit exceeded', {
        ip: req.ip,
        path: req.path
      });
      const resetTime =
      /* istanbul ignore next */
      (cov_qb35i6l0q().s[11]++,
      /* istanbul ignore next */
      (cov_qb35i6l0q().b[8][0]++, req.rateLimit?.resetTime) ||
      /* istanbul ignore next */
      (cov_qb35i6l0q().b[8][1]++, Date.now()));
      /* istanbul ignore next */
      cov_qb35i6l0q().s[12]++;
      res.status(429).json({
        error: 'Too many requests',
        message: 'Please try again later',
        retryAfter: Math.ceil(resetTime / 1000)
      });
    }
  });
}

/**
 * Slow down middleware for API endpoints
 */
export function createSlowDown(options) {
  /* istanbul ignore next */
  cov_qb35i6l0q().f[5]++;
  cov_qb35i6l0q().s[13]++;
  return slowDown({
    windowMs:
    /* istanbul ignore next */
    (cov_qb35i6l0q().b[9][0]++, options?.windowMs) ||
    /* istanbul ignore next */
    (cov_qb35i6l0q().b[9][1]++, 15 * 60 * 1000),
    // 15 minutes
    delayAfter:
    /* istanbul ignore next */
    (cov_qb35i6l0q().b[10][0]++, options?.delayAfter) ||
    /* istanbul ignore next */
    (cov_qb35i6l0q().b[10][1]++, 50),
    // Start delaying after 50 requests
    delayMs:
    /* istanbul ignore next */
    (cov_qb35i6l0q().b[11][0]++, options?.delayMs) ||
    /* istanbul ignore next */
    (cov_qb35i6l0q().b[11][1]++, 500) // Delay each request by 500ms
  });
}

/**
 * Security headers middleware
 */
export function securityHeaders(_req, res, next) {
  /* istanbul ignore next */
  cov_qb35i6l0q().f[6]++;
  cov_qb35i6l0q().s[14]++;
  // Remove X-Powered-By header
  res.removeHeader('X-Powered-By');

  // Add custom security headers
  /* istanbul ignore next */
  cov_qb35i6l0q().s[15]++;
  res.setHeader('X-Content-Type-Options', 'nosniff');
  /* istanbul ignore next */
  cov_qb35i6l0q().s[16]++;
  res.setHeader('X-Frame-Options', 'DENY');
  /* istanbul ignore next */
  cov_qb35i6l0q().s[17]++;
  res.setHeader('X-XSS-Protection', '1; mode=block');
  /* istanbul ignore next */
  cov_qb35i6l0q().s[18]++;
  res.setHeader('Referrer-Policy', 'no-referrer');
  /* istanbul ignore next */
  cov_qb35i6l0q().s[19]++;
  next();
}

/**
 * Request logging middleware
 */
export function requestLogger(req, res, next) {
  /* istanbul ignore next */
  cov_qb35i6l0q().f[7]++;
  const start =
  /* istanbul ignore next */
  (cov_qb35i6l0q().s[20]++, Date.now());
  /* istanbul ignore next */
  cov_qb35i6l0q().s[21]++;
  res.on('finish', () => {
    /* istanbul ignore next */
    cov_qb35i6l0q().f[8]++;
    const duration =
    /* istanbul ignore next */
    (cov_qb35i6l0q().s[22]++, Date.now() - start);
    /* istanbul ignore next */
    cov_qb35i6l0q().s[23]++;
    log.http(`${req.method} ${req.path}`, {
      status: res.statusCode,
      duration: `${duration}ms`,
      ip: req.ip,
      userAgent:
      /* istanbul ignore next */
      (cov_qb35i6l0q().b[12][0]++, req.get('user-agent')) ||
      /* istanbul ignore next */
      (cov_qb35i6l0q().b[12][1]++, undefined)
    });
  });
  /* istanbul ignore next */
  cov_qb35i6l0q().s[24]++;
  next();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfcWIzNWk2bDBxIiwiYWN0dWFsQ292ZXJhZ2UiLCJoZWxtZXQiLCJjb3JzIiwicmF0ZUxpbWl0Iiwic2xvd0Rvd24iLCJsb2ciLCJnZXRIZWxtZXRDb25maWciLCJmIiwicyIsImNvbnRlbnRTZWN1cml0eVBvbGljeSIsImRpcmVjdGl2ZXMiLCJkZWZhdWx0U3JjIiwic3R5bGVTcmMiLCJmb250U3JjIiwic2NyaXB0U3JjIiwiaW1nU3JjIiwiY29ubmVjdFNyYyIsImIiLCJwcm9jZXNzIiwiZW52IiwiQVBJX1VSTCIsImZyYW1lU3JjIiwib2JqZWN0U3JjIiwiYmFzZVVyaSIsImZvcm1BY3Rpb24iLCJjcm9zc09yaWdpbkVtYmVkZGVyUG9saWN5IiwiY3Jvc3NPcmlnaW5PcGVuZXJQb2xpY3kiLCJjcm9zc09yaWdpblJlc291cmNlUG9saWN5IiwicG9saWN5IiwiZG5zUHJlZmV0Y2hDb250cm9sIiwiZnJhbWVndWFyZCIsImFjdGlvbiIsImhpZGVQb3dlcmVkQnkiLCJoc3RzIiwibWF4QWdlIiwiaW5jbHVkZVN1YkRvbWFpbnMiLCJwcmVsb2FkIiwiaWVOb09wZW4iLCJub1NuaWZmIiwib3JpZ2luQWdlbnRDbHVzdGVyIiwicGVybWl0dGVkQ3Jvc3NEb21haW5Qb2xpY2llcyIsInJlZmVycmVyUG9saWN5IiwieHNzRmlsdGVyIiwiZ2V0Q29yc0NvbmZpZyIsImFsbG93ZWRPcmlnaW5zIiwiQUxMT1dFRF9PUklHSU5TIiwic3BsaXQiLCJDT1JTX09SSUdJTiIsIm9yaWdpbiIsImNhbGxiYWNrIiwiaW5jbHVkZXMiLCJOT0RFX0VOViIsIndhcm4iLCJFcnJvciIsImNyZWRlbnRpYWxzIiwibWV0aG9kcyIsImFsbG93ZWRIZWFkZXJzIiwiZXhwb3NlZEhlYWRlcnMiLCJjcmVhdGVSYXRlTGltaXRlciIsIm9wdGlvbnMiLCJ3aW5kb3dNcyIsIm1heCIsIm1lc3NhZ2UiLCJzdGFuZGFyZEhlYWRlcnMiLCJsZWdhY3lIZWFkZXJzIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImlwIiwicGF0aCIsInJlc2V0VGltZSIsIkRhdGUiLCJub3ciLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJyZXRyeUFmdGVyIiwiTWF0aCIsImNlaWwiLCJjcmVhdGVTbG93RG93biIsImRlbGF5QWZ0ZXIiLCJkZWxheU1zIiwic2VjdXJpdHlIZWFkZXJzIiwiX3JlcSIsIm5leHQiLCJyZW1vdmVIZWFkZXIiLCJzZXRIZWFkZXIiLCJyZXF1ZXN0TG9nZ2VyIiwic3RhcnQiLCJvbiIsImR1cmF0aW9uIiwiaHR0cCIsIm1ldGhvZCIsInN0YXR1c0NvZGUiLCJ1c2VyQWdlbnQiLCJnZXQiLCJ1bmRlZmluZWQiXSwic291cmNlcyI6WyJzZWN1cml0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQVpPUkEgUFJPUFJJRVRBUlkgTElDRU5TRVxuXG5Db3B5cmlnaHQgwqkgMjAyNSBBem9yYSBFUyAoUHR5KSBMdGQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cblNlZSBMSUNFTlNFIGZpbGUgZm9yIGRldGFpbHMuXG4qL1xuXG4vKipcbiAqIFNlY3VyaXR5IE1pZGRsZXdhcmUgVXRpbGl0aWVzXG4gKiBcbiAqIFN0YW5kYXJkaXplZCBzZWN1cml0eSBtaWRkbGV3YXJlIGZvciBFeHByZXNzIGFwcGxpY2F0aW9uc1xuICovXG5cbmltcG9ydCBoZWxtZXQgZnJvbSAnaGVsbWV0JztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UsIE5leHRGdW5jdGlvbiB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgcmF0ZUxpbWl0IH0gZnJvbSAnZXhwcmVzcy1yYXRlLWxpbWl0JztcbmltcG9ydCB7IHNsb3dEb3duIH0gZnJvbSAnZXhwcmVzcy1zbG93LWRvd24nO1xuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi4vbG9nZ2VyJztcblxuLyoqXG4gKiBTdGFuZGFyZCBIZWxtZXQgY29uZmlndXJhdGlvbiBmb3Igc2VjdXJpdHkgaGVhZGVyc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGVsbWV0Q29uZmlnKCkge1xuICByZXR1cm4gaGVsbWV0KHtcbiAgICBjb250ZW50U2VjdXJpdHlQb2xpY3k6IHtcbiAgICAgIGRpcmVjdGl2ZXM6IHtcbiAgICAgICAgZGVmYXVsdFNyYzogW1wiJ3NlbGYnXCJdLFxuICAgICAgICBzdHlsZVNyYzogW1wiJ3NlbGYnXCIsIFwiJ3Vuc2FmZS1pbmxpbmUnXCIsIFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbVwiXSxcbiAgICAgICAgZm9udFNyYzogW1wiJ3NlbGYnXCIsIFwiaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbVwiXSxcbiAgICAgICAgc2NyaXB0U3JjOiBbXCInc2VsZidcIiwgXCIndW5zYWZlLWlubGluZSdcIiwgXCIndW5zYWZlLWV2YWwnXCJdLCAvLyBBZGp1c3QgZm9yIHByb2R1Y3Rpb25cbiAgICAgICAgaW1nU3JjOiBbXCInc2VsZidcIiwgXCJkYXRhOlwiLCBcImh0dHBzOlwiXSxcbiAgICAgICAgY29ubmVjdFNyYzogW1wiJ3NlbGYnXCIsIHByb2Nlc3MuZW52LkFQSV9VUkwgfHwgXCJodHRwOi8vbG9jYWxob3N0OjMwMDFcIl0sXG4gICAgICAgIGZyYW1lU3JjOiBbXCInbm9uZSdcIl0sXG4gICAgICAgIG9iamVjdFNyYzogW1wiJ25vbmUnXCJdLFxuICAgICAgICBiYXNlVXJpOiBbXCInc2VsZidcIl0sXG4gICAgICAgIGZvcm1BY3Rpb246IFtcIidzZWxmJ1wiXSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjcm9zc09yaWdpbkVtYmVkZGVyUG9saWN5OiB0cnVlLFxuICAgIGNyb3NzT3JpZ2luT3BlbmVyUG9saWN5OiB0cnVlLFxuICAgIGNyb3NzT3JpZ2luUmVzb3VyY2VQb2xpY3k6IHsgcG9saWN5OiBcImNyb3NzLW9yaWdpblwiIH0sXG4gICAgZG5zUHJlZmV0Y2hDb250cm9sOiB0cnVlLFxuICAgIGZyYW1lZ3VhcmQ6IHsgYWN0aW9uOiAnZGVueScgfSxcbiAgICBoaWRlUG93ZXJlZEJ5OiB0cnVlLFxuICAgIGhzdHM6IHtcbiAgICAgIG1heEFnZTogMzE1MzYwMDAsXG4gICAgICBpbmNsdWRlU3ViRG9tYWluczogdHJ1ZSxcbiAgICAgIHByZWxvYWQ6IHRydWUsXG4gICAgfSxcbiAgICBpZU5vT3BlbjogdHJ1ZSxcbiAgICBub1NuaWZmOiB0cnVlLFxuICAgIG9yaWdpbkFnZW50Q2x1c3RlcjogdHJ1ZSxcbiAgICBwZXJtaXR0ZWRDcm9zc0RvbWFpblBvbGljaWVzOiBmYWxzZSxcbiAgICByZWZlcnJlclBvbGljeTogeyBwb2xpY3k6IFwibm8tcmVmZXJyZXJcIiB9LFxuICAgIHhzc0ZpbHRlcjogdHJ1ZSxcbiAgfSk7XG59XG5cbi8qKlxuICogQ09SUyBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JzQ29uZmlnKCkge1xuICBjb25zdCBhbGxvd2VkT3JpZ2lucyA9IHByb2Nlc3MuZW52LkFMTE9XRURfT1JJR0lOUz8uc3BsaXQoJywnKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5DT1JTX09SSUdJTj8uc3BsaXQoJywnKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICBbJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsICdodHRwOi8vbG9jYWxob3N0OjMwMDEnXTtcblxuICByZXR1cm4gY29ycyh7XG4gICAgb3JpZ2luOiAob3JpZ2luOiBzdHJpbmcgfCB1bmRlZmluZWQsIGNhbGxiYWNrOiAoZXJyOiBFcnJvciB8IG51bGwsIGFsbG93PzogYm9vbGVhbikgPT4gdm9pZCkgPT4ge1xuICAgICAgLy8gQWxsb3cgcmVxdWVzdHMgd2l0aCBubyBvcmlnaW4gKG1vYmlsZSBhcHBzLCBQb3N0bWFuLCBldGMuKVxuICAgICAgaWYgKCFvcmlnaW4pIHtyZXR1cm4gY2FsbGJhY2sobnVsbCwgdHJ1ZSk7fVxuICAgICAgXG4gICAgICBpZiAoYWxsb3dlZE9yaWdpbnMuaW5jbHVkZXMob3JpZ2luKSB8fCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICBjYWxsYmFjayhudWxsLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZy53YXJuKCdDT1JTIGJsb2NrZWQgb3JpZ2luOicsIHsgb3JpZ2luIH0pO1xuICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ05vdCBhbGxvd2VkIGJ5IENPUlMnKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVkZW50aWFsczogdHJ1ZSxcbiAgICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJywgJ1BVVCcsICdERUxFVEUnLCAnUEFUQ0gnLCAnT1BUSU9OUyddLFxuICAgIGFsbG93ZWRIZWFkZXJzOiBbJ0NvbnRlbnQtVHlwZScsICdBdXRob3JpemF0aW9uJywgJ1gtQVBJLUtleScsICdYLVJlcXVlc3RlZC1XaXRoJ10sXG4gICAgZXhwb3NlZEhlYWRlcnM6IFsnWC1Ub3RhbC1Db3VudCcsICdYLVBhZ2UtQ291bnQnXSxcbiAgICBtYXhBZ2U6IDg2NDAwLCAvLyAyNCBob3Vyc1xuICB9KTtcbn1cblxuLyoqXG4gKiBSYXRlIGxpbWl0ZXIgZm9yIEFQSSBlbmRwb2ludHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJhdGVMaW1pdGVyKG9wdGlvbnM/OiB7XG4gIHdpbmRvd01zPzogbnVtYmVyO1xuICBtYXg/OiBudW1iZXI7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG59KSB7XG4gIHJldHVybiByYXRlTGltaXQoe1xuICAgIHdpbmRvd01zOiBvcHRpb25zPy53aW5kb3dNcyB8fCAxNSAqIDYwICogMTAwMCwgLy8gMTUgbWludXRlc1xuICAgIG1heDogb3B0aW9ucz8ubWF4IHx8IDEwMCwgLy8gTGltaXQgZWFjaCBJUCB0byAxMDAgcmVxdWVzdHMgcGVyIHdpbmRvd01zXG4gICAgbWVzc2FnZTogb3B0aW9ucz8ubWVzc2FnZSB8fCAnVG9vIG1hbnkgcmVxdWVzdHMgZnJvbSB0aGlzIElQLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicsXG4gICAgc3RhbmRhcmRIZWFkZXJzOiB0cnVlLFxuICAgIGxlZ2FjeUhlYWRlcnM6IGZhbHNlLFxuICAgICAgaGFuZGxlcjogKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICBsb2cud2FybignUmF0ZSBsaW1pdCBleGNlZWRlZCcsIHtcbiAgICAgICAgICBpcDogcmVxLmlwLFxuICAgICAgICAgIHBhdGg6IHJlcS5wYXRoLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzZXRUaW1lID0gKHJlcSBhcyB1bmtub3duIGFzIHsgcmF0ZUxpbWl0PzogeyByZXNldFRpbWU/OiBudW1iZXIgfSB9KS5yYXRlTGltaXQ/LnJlc2V0VGltZSB8fCBEYXRlLm5vdygpO1xuICAgICAgICByZXMuc3RhdHVzKDQyOSkuanNvbih7XG4gICAgICAgICAgZXJyb3I6ICdUb28gbWFueSByZXF1ZXN0cycsXG4gICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSB0cnkgYWdhaW4gbGF0ZXInLFxuICAgICAgICAgIHJldHJ5QWZ0ZXI6IE1hdGguY2VpbChyZXNldFRpbWUgLyAxMDAwKSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICB9KTtcbn1cblxuLyoqXG4gKiBTbG93IGRvd24gbWlkZGxld2FyZSBmb3IgQVBJIGVuZHBvaW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2xvd0Rvd24ob3B0aW9ucz86IHtcbiAgd2luZG93TXM/OiBudW1iZXI7XG4gIGRlbGF5QWZ0ZXI/OiBudW1iZXI7XG4gIGRlbGF5TXM/OiBudW1iZXI7XG59KSB7XG4gIHJldHVybiBzbG93RG93bih7XG4gICAgd2luZG93TXM6IG9wdGlvbnM/LndpbmRvd01zIHx8IDE1ICogNjAgKiAxMDAwLCAvLyAxNSBtaW51dGVzXG4gICAgZGVsYXlBZnRlcjogb3B0aW9ucz8uZGVsYXlBZnRlciB8fCA1MCwgLy8gU3RhcnQgZGVsYXlpbmcgYWZ0ZXIgNTAgcmVxdWVzdHNcbiAgICBkZWxheU1zOiBvcHRpb25zPy5kZWxheU1zIHx8IDUwMCwgLy8gRGVsYXkgZWFjaCByZXF1ZXN0IGJ5IDUwMG1zXG4gIH0pO1xufVxuXG4vKipcbiAqIFNlY3VyaXR5IGhlYWRlcnMgbWlkZGxld2FyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VjdXJpdHlIZWFkZXJzKF9yZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbikge1xuICAvLyBSZW1vdmUgWC1Qb3dlcmVkLUJ5IGhlYWRlclxuICByZXMucmVtb3ZlSGVhZGVyKCdYLVBvd2VyZWQtQnknKTtcbiAgXG4gIC8vIEFkZCBjdXN0b20gc2VjdXJpdHkgaGVhZGVyc1xuICByZXMuc2V0SGVhZGVyKCdYLUNvbnRlbnQtVHlwZS1PcHRpb25zJywgJ25vc25pZmYnKTtcbiAgcmVzLnNldEhlYWRlcignWC1GcmFtZS1PcHRpb25zJywgJ0RFTlknKTtcbiAgcmVzLnNldEhlYWRlcignWC1YU1MtUHJvdGVjdGlvbicsICcxOyBtb2RlPWJsb2NrJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ1JlZmVycmVyLVBvbGljeScsICduby1yZWZlcnJlcicpO1xuICBcbiAgbmV4dCgpO1xufVxuXG4vKipcbiAqIFJlcXVlc3QgbG9nZ2luZyBtaWRkbGV3YXJlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0TG9nZ2VyKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKSB7XG4gIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgXG4gIHJlcy5vbignZmluaXNoJywgKCkgPT4ge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0O1xuICAgIGxvZy5odHRwKGAke3JlcS5tZXRob2R9ICR7cmVxLnBhdGh9YCwge1xuICAgICAgc3RhdHVzOiByZXMuc3RhdHVzQ29kZSxcbiAgICAgIGR1cmF0aW9uOiBgJHtkdXJhdGlvbn1tc2AsXG4gICAgICBpcDogcmVxLmlwLFxuICAgICAgdXNlckFnZW50OiByZXEuZ2V0KCd1c2VyLWFnZW50JykgfHwgdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9KTtcbiAgXG4gIG5leHQoKTtcbn1cblxuXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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