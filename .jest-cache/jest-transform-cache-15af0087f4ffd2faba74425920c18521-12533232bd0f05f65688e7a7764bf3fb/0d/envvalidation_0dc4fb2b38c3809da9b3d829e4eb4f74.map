{"version":3,"names":["cov_hlk5o4obp","actualCoverage","z","log","envSchema","s","object","NODE_ENV","enum","default","PORT","string","regex","transform","Number","API_URL","url","optional","DATABASE_URL","POSTGRES_USER","POSTGRES_PASSWORD","POSTGRES_DB","POSTGRES_HOST","POSTGRES_PORT","SUPABASE_URL","SUPABASE_ANON_KEY","SUPABASE_SERVICE_ROLE_KEY","REDIS_URL","REDIS_HOST","REDIS_PORT","JWT_SECRET","min","JWT_EXPIRATION","SESSION_SECRET","OPENAI_API_KEY","ANTHROPIC_API_KEY","BLOCKCHAIN_PRIVATE_KEY","AZORA_RPC_URL","ETHEREUM_RPC_URL","AZORA_MINT_URL","AZORA_SAPIENS_URL","AZORA_ORACLE_URL","AZORA_AEGIS_URL","LUNO_API_KEY","LUNO_API_SECRET","LOG_LEVEL","SENTRY_DSN","SENTRY_ENVIRONMENT","CORS_ORIGIN","ALLOWED_ORIGINS","ENABLE_AI_TUTOR","val","f","ENABLE_POK_REWARDS","ENABLE_UBO_DISTRIBUTION","ENABLE_QUANTUM_SECURITY","requiredForProduction","validateEnv","parsed","parse","process","env","b","missing","forEach","key","push","length","error","Error","join","info","nodeEnv","port","ZodError","errors","map","e","path","message","validatedEnv","getEnv","VALIDATE_ENV_ON_START","errorMessage","String","warn"],"sources":["env-validation.ts"],"sourcesContent":["/*\nAZORA PROPRIETARY LICENSE\n\nCopyright Â© 2025 Azora ES (Pty) Ltd. All Rights Reserved.\n\nSee LICENSE file for details.\n*/\n\n/**\n * Environment Variable Validation\n * \n * Validates all required environment variables at startup\n * Uses Zod for type-safe validation\n */\n\nimport { z } from 'zod';\nimport { log } from './logger';\n\n// Define environment variable schema\nconst envSchema = z.object({\n  // Application\n  NODE_ENV: z.enum(['development', 'production', 'test']).default('development'),\n  PORT: z.string().regex(/^\\d+$/).transform(Number).default('3001'),\n  API_URL: z.string().url().optional(),\n\n  // Database\n  DATABASE_URL: z.string().url().optional(),\n  POSTGRES_USER: z.string().optional(),\n  POSTGRES_PASSWORD: z.string().optional(),\n  POSTGRES_DB: z.string().optional(),\n  POSTGRES_HOST: z.string().optional(),\n  POSTGRES_PORT: z.string().regex(/^\\d+$/).optional(),\n\n  // Supabase\n  SUPABASE_URL: z.string().url().optional(),\n  SUPABASE_ANON_KEY: z.string().optional(),\n  SUPABASE_SERVICE_ROLE_KEY: z.string().optional(),\n\n  // Redis\n  REDIS_URL: z.string().url().optional(),\n  REDIS_HOST: z.string().optional(),\n  REDIS_PORT: z.string().regex(/^\\d+$/).optional(),\n\n  // Authentication\n  JWT_SECRET: z.string().min(32, 'JWT secret must be at least 32 characters').optional(),\n  JWT_EXPIRATION: z.string().default('24h'),\n  SESSION_SECRET: z.string().min(32).optional(),\n\n  // AI Services\n  OPENAI_API_KEY: z.string().optional(),\n  ANTHROPIC_API_KEY: z.string().optional(),\n\n  // Blockchain\n  BLOCKCHAIN_PRIVATE_KEY: z.string().optional(),\n  AZORA_RPC_URL: z.string().url().optional(),\n  ETHEREUM_RPC_URL: z.string().url().optional(),\n\n  // Service URLs\n  AZORA_MINT_URL: z.string().url().optional(),\n  AZORA_SAPIENS_URL: z.string().url().optional(),\n  AZORA_ORACLE_URL: z.string().url().optional(),\n  AZORA_AEGIS_URL: z.string().url().optional(),\n\n  // External Services\n  LUNO_API_KEY: z.string().optional(),\n  LUNO_API_SECRET: z.string().optional(),\n\n  // Monitoring\n  LOG_LEVEL: z.enum(['error', 'warn', 'info', 'http', 'verbose', 'debug', 'silly']).default('info'),\n  SENTRY_DSN: z.string().url().optional(),\n  SENTRY_ENVIRONMENT: z.string().optional(),\n\n  // CORS\n  CORS_ORIGIN: z.string().optional(),\n  ALLOWED_ORIGINS: z.string().optional(),\n\n  // Feature Flags\n  ENABLE_AI_TUTOR: z.string().transform((val: string) => val === 'true').default('true'),\n  ENABLE_POK_REWARDS: z.string().transform((val: string) => val === 'true').default('true'),\n  ENABLE_UBO_DISTRIBUTION: z.string().transform((val: string) => val === 'true').default('true'),\n  ENABLE_QUANTUM_SECURITY: z.string().transform((val: string) => val === 'true').default('true'),\n});\n\n// Required environment variables for production\nconst requiredForProduction = [\n  'DATABASE_URL',\n  'JWT_SECRET',\n] as const;\n\n/**\n * Validate and parse environment variables\n */\nexport function validateEnv() {\n  try {\n    const parsed = envSchema.parse(process.env);\n    \n    // Check required variables for production\n    if (parsed.NODE_ENV === 'production') {\n      const missing: string[] = [];\n      \n      requiredForProduction.forEach((key) => {\n        if (!process.env[key]) {\n          missing.push(key);\n        }\n      });\n\n      if (missing.length > 0) {\n        log.error('Missing required environment variables for production:', { missing });\n        throw new Error(\n          `Missing required environment variables: ${missing.join(', ')}\\n` +\n          'Please check your .env file or environment configuration.'\n        );\n      }\n    }\n\n    log.info('Environment variables validated successfully', {\n      nodeEnv: parsed.NODE_ENV,\n      port: parsed.PORT,\n    });\n\n    return parsed;\n  } catch (error: unknown) {\n    if (error instanceof z.ZodError) {\n      log.error('Environment variable validation failed:', {\n        errors: error.errors.map((e: z.ZodIssue) => ({\n          path: e.path.join('.'),\n          message: e.message,\n        })),\n      });\n      \n      throw new Error(\n        `Environment variable validation failed:\\n` +\n        error.errors.map((e: z.ZodIssue) => `  - ${e.path.join('.')}: ${e.message}`).join('\\n')\n      );\n    }\n    throw error;\n  }\n}\n\n// Type for validated environment\nexport type ValidatedEnv = z.infer<typeof envSchema>;\n\n// Export validated environment\nlet validatedEnv: ValidatedEnv | null = null;\n\nexport function getEnv(): ValidatedEnv {\n  if (!validatedEnv) {\n    validatedEnv = validateEnv();\n  }\n  return validatedEnv;\n}\n\n// Validate on import (optional - can be called explicitly)\nif (process.env.VALIDATE_ENV_ON_START !== 'false') {\n  try {\n    getEnv();\n  } catch (error: unknown) {\n    // Only throw in production\n    if (process.env.NODE_ENV === 'production') {\n      throw error;\n    }\n    // In development, just warn\n    const errorMessage = error instanceof Error ? error.message : String(error);\n    log.warn('Environment validation failed (non-blocking in development):', { error: errorMessage });\n  }\n}\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAfZ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASE,CAAC,QAAQ,KAAK;AACvB,SAASC,GAAG,QAAQ,UAAU;;AAE9B;AACA,MAAMC,SAAS;AAAA;AAAA,CAAAJ,aAAA,GAAAK,CAAA,OAAGH,CAAC,CAACI,MAAM,CAAC;EACzB;EACAC,QAAQ,EAAEL,CAAC,CAACM,IAAI,CAAC,CAAC,aAAa,EAAE,YAAY,EAAE,MAAM,CAAC,CAAC,CAACC,OAAO,CAAC,aAAa,CAAC;EAC9EC,IAAI,EAAER,CAAC,CAACS,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAACC,SAAS,CAACC,MAAM,CAAC,CAACL,OAAO,CAAC,MAAM,CAAC;EACjEM,OAAO,EAAEb,CAAC,CAACS,MAAM,CAAC,CAAC,CAACK,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAEpC;EACAC,YAAY,EAAEhB,CAAC,CAACS,MAAM,CAAC,CAAC,CAACK,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EACzCE,aAAa,EAAEjB,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EACpCG,iBAAiB,EAAElB,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EACxCI,WAAW,EAAEnB,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EAClCK,aAAa,EAAEpB,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EACpCM,aAAa,EAAErB,CAAC,CAACS,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAACK,QAAQ,CAAC,CAAC;EAEnD;EACAO,YAAY,EAAEtB,CAAC,CAACS,MAAM,CAAC,CAAC,CAACK,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EACzCQ,iBAAiB,EAAEvB,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EACxCS,yBAAyB,EAAExB,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EAEhD;EACAU,SAAS,EAAEzB,CAAC,CAACS,MAAM,CAAC,CAAC,CAACK,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EACtCW,UAAU,EAAE1B,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EACjCY,UAAU,EAAE3B,CAAC,CAACS,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAACK,QAAQ,CAAC,CAAC;EAEhD;EACAa,UAAU,EAAE5B,CAAC,CAACS,MAAM,CAAC,CAAC,CAACoB,GAAG,CAAC,EAAE,EAAE,2CAA2C,CAAC,CAACd,QAAQ,CAAC,CAAC;EACtFe,cAAc,EAAE9B,CAAC,CAACS,MAAM,CAAC,CAAC,CAACF,OAAO,CAAC,KAAK,CAAC;EACzCwB,cAAc,EAAE/B,CAAC,CAACS,MAAM,CAAC,CAAC,CAACoB,GAAG,CAAC,EAAE,CAAC,CAACd,QAAQ,CAAC,CAAC;EAE7C;EACAiB,cAAc,EAAEhC,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EACrCkB,iBAAiB,EAAEjC,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EAExC;EACAmB,sBAAsB,EAAElC,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EAC7CoB,aAAa,EAAEnC,CAAC,CAACS,MAAM,CAAC,CAAC,CAACK,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAC1CqB,gBAAgB,EAAEpC,CAAC,CAACS,MAAM,CAAC,CAAC,CAACK,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAE7C;EACAsB,cAAc,EAAErC,CAAC,CAACS,MAAM,CAAC,CAAC,CAACK,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAC3CuB,iBAAiB,EAAEtC,CAAC,CAACS,MAAM,CAAC,CAAC,CAACK,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAC9CwB,gBAAgB,EAAEvC,CAAC,CAACS,MAAM,CAAC,CAAC,CAACK,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAC7CyB,eAAe,EAAExC,CAAC,CAACS,MAAM,CAAC,CAAC,CAACK,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAE5C;EACA0B,YAAY,EAAEzC,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EACnC2B,eAAe,EAAE1C,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EAEtC;EACA4B,SAAS,EAAE3C,CAAC,CAACM,IAAI,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM,CAAC;EACjGqC,UAAU,EAAE5C,CAAC,CAACS,MAAM,CAAC,CAAC,CAACK,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EACvC8B,kBAAkB,EAAE7C,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EAEzC;EACA+B,WAAW,EAAE9C,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EAClCgC,eAAe,EAAE/C,CAAC,CAACS,MAAM,CAAC,CAAC,CAACM,QAAQ,CAAC,CAAC;EAEtC;EACAiC,eAAe,EAAEhD,CAAC,CAACS,MAAM,CAAC,CAAC,CAACE,SAAS,CAAEsC,GAAW,IAAK;IAAA;IAAAnD,aAAA,GAAAoD,CAAA;IAAApD,aAAA,GAAAK,CAAA;IAAA,OAAA8C,GAAG,KAAK,MAAM;EAAD,CAAC,CAAC,CAAC1C,OAAO,CAAC,MAAM,CAAC;EACtF4C,kBAAkB,EAAEnD,CAAC,CAACS,MAAM,CAAC,CAAC,CAACE,SAAS,CAAEsC,GAAW,IAAK;IAAA;IAAAnD,aAAA,GAAAoD,CAAA;IAAApD,aAAA,GAAAK,CAAA;IAAA,OAAA8C,GAAG,KAAK,MAAM;EAAD,CAAC,CAAC,CAAC1C,OAAO,CAAC,MAAM,CAAC;EACzF6C,uBAAuB,EAAEpD,CAAC,CAACS,MAAM,CAAC,CAAC,CAACE,SAAS,CAAEsC,GAAW,IAAK;IAAA;IAAAnD,aAAA,GAAAoD,CAAA;IAAApD,aAAA,GAAAK,CAAA;IAAA,OAAA8C,GAAG,KAAK,MAAM;EAAD,CAAC,CAAC,CAAC1C,OAAO,CAAC,MAAM,CAAC;EAC9F8C,uBAAuB,EAAErD,CAAC,CAACS,MAAM,CAAC,CAAC,CAACE,SAAS,CAAEsC,GAAW,IAAK;IAAA;IAAAnD,aAAA,GAAAoD,CAAA;IAAApD,aAAA,GAAAK,CAAA;IAAA,OAAA8C,GAAG,KAAK,MAAM;EAAD,CAAC,CAAC,CAAC1C,OAAO,CAAC,MAAM;AAC/F,CAAC,CAAC;;AAEF;AACA,MAAM+C,qBAAqB;AAAA;AAAA,CAAAxD,aAAA,GAAAK,CAAA,OAAG,CAC5B,cAAc,EACd,YAAY,CACb,CAAS;;AAEV;AACA;AACA;AACA,OAAO,SAASoD,WAAWA,CAAA,EAAG;EAAA;EAAAzD,aAAA,GAAAoD,CAAA;EAAApD,aAAA,GAAAK,CAAA;EAC5B,IAAI;IACF,MAAMqD,MAAM;IAAA;IAAA,CAAA1D,aAAA,GAAAK,CAAA,OAAGD,SAAS,CAACuD,KAAK,CAACC,OAAO,CAACC,GAAG,CAAC;;IAE3C;IAAA;IAAA7D,aAAA,GAAAK,CAAA;IACA,IAAIqD,MAAM,CAACnD,QAAQ,KAAK,YAAY,EAAE;MAAA;MAAAP,aAAA,GAAA8D,CAAA;MACpC,MAAMC,OAAiB;MAAA;MAAA,CAAA/D,aAAA,GAAAK,CAAA,OAAG,EAAE;MAAC;MAAAL,aAAA,GAAAK,CAAA;MAE7BmD,qBAAqB,CAACQ,OAAO,CAAEC,GAAG,IAAK;QAAA;QAAAjE,aAAA,GAAAoD,CAAA;QAAApD,aAAA,GAAAK,CAAA;QACrC,IAAI,CAACuD,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC,EAAE;UAAA;UAAAjE,aAAA,GAAA8D,CAAA;UAAA9D,aAAA,GAAAK,CAAA;UACrB0D,OAAO,CAACG,IAAI,CAACD,GAAG,CAAC;QACnB,CAAC;QAAA;QAAA;UAAAjE,aAAA,GAAA8D,CAAA;QAAA;MACH,CAAC,CAAC;MAAC;MAAA9D,aAAA,GAAAK,CAAA;MAEH,IAAI0D,OAAO,CAACI,MAAM,GAAG,CAAC,EAAE;QAAA;QAAAnE,aAAA,GAAA8D,CAAA;QAAA9D,aAAA,GAAAK,CAAA;QACtBF,GAAG,CAACiE,KAAK,CAAC,wDAAwD,EAAE;UAAEL;QAAQ,CAAC,CAAC;QAAC;QAAA/D,aAAA,GAAAK,CAAA;QACjF,MAAM,IAAIgE,KAAK,CACb,2CAA2CN,OAAO,CAACO,IAAI,CAAC,IAAI,CAAC,IAAI,GACjE,2DACF,CAAC;MACH,CAAC;MAAA;MAAA;QAAAtE,aAAA,GAAA8D,CAAA;MAAA;IACH,CAAC;IAAA;IAAA;MAAA9D,aAAA,GAAA8D,CAAA;IAAA;IAAA9D,aAAA,GAAAK,CAAA;IAEDF,GAAG,CAACoE,IAAI,CAAC,8CAA8C,EAAE;MACvDC,OAAO,EAAEd,MAAM,CAACnD,QAAQ;MACxBkE,IAAI,EAAEf,MAAM,CAAChD;IACf,CAAC,CAAC;IAAC;IAAAV,aAAA,GAAAK,CAAA;IAEH,OAAOqD,MAAM;EACf,CAAC,CAAC,OAAOU,KAAc,EAAE;IAAA;IAAApE,aAAA,GAAAK,CAAA;IACvB,IAAI+D,KAAK,YAAYlE,CAAC,CAACwE,QAAQ,EAAE;MAAA;MAAA1E,aAAA,GAAA8D,CAAA;MAAA9D,aAAA,GAAAK,CAAA;MAC/BF,GAAG,CAACiE,KAAK,CAAC,yCAAyC,EAAE;QACnDO,MAAM,EAAEP,KAAK,CAACO,MAAM,CAACC,GAAG,CAAEC,CAAa,IAAM;UAAA;UAAA7E,aAAA,GAAAoD,CAAA;UAAApD,aAAA,GAAAK,CAAA;UAAA;YAC3CyE,IAAI,EAAED,CAAC,CAACC,IAAI,CAACR,IAAI,CAAC,GAAG,CAAC;YACtBS,OAAO,EAAEF,CAAC,CAACE;UACb,CAAC;QAAD,CAAE;MACJ,CAAC,CAAC;MAAC;MAAA/E,aAAA,GAAAK,CAAA;MAEH,MAAM,IAAIgE,KAAK,CACb,2CAA2C,GAC3CD,KAAK,CAACO,MAAM,CAACC,GAAG,CAAEC,CAAa,IAAK;QAAA;QAAA7E,aAAA,GAAAoD,CAAA;QAAApD,aAAA,GAAAK,CAAA;QAAA,cAAOwE,CAAC,CAACC,IAAI,CAACR,IAAI,CAAC,GAAG,CAAC,KAAKO,CAAC,CAACE,OAAO,EAAE;MAAD,CAAC,CAAC,CAACT,IAAI,CAAC,IAAI,CACxF,CAAC;IACH,CAAC;IAAA;IAAA;MAAAtE,aAAA,GAAA8D,CAAA;IAAA;IAAA9D,aAAA,GAAAK,CAAA;IACD,MAAM+D,KAAK;EACb;AACF;;AAEA;;AAGA;AACA,IAAIY,YAAiC;AAAA;AAAA,CAAAhF,aAAA,GAAAK,CAAA,QAAG,IAAI;AAE5C,OAAO,SAAS4E,MAAMA,CAAA,EAAiB;EAAA;EAAAjF,aAAA,GAAAoD,CAAA;EAAApD,aAAA,GAAAK,CAAA;EACrC,IAAI,CAAC2E,YAAY,EAAE;IAAA;IAAAhF,aAAA,GAAA8D,CAAA;IAAA9D,aAAA,GAAAK,CAAA;IACjB2E,YAAY,GAAGvB,WAAW,CAAC,CAAC;EAC9B,CAAC;EAAA;EAAA;IAAAzD,aAAA,GAAA8D,CAAA;EAAA;EAAA9D,aAAA,GAAAK,CAAA;EACD,OAAO2E,YAAY;AACrB;;AAEA;AAAA;AAAAhF,aAAA,GAAAK,CAAA;AACA,IAAIuD,OAAO,CAACC,GAAG,CAACqB,qBAAqB,KAAK,OAAO,EAAE;EAAA;EAAAlF,aAAA,GAAA8D,CAAA;EAAA9D,aAAA,GAAAK,CAAA;EACjD,IAAI;IAAA;IAAAL,aAAA,GAAAK,CAAA;IACF4E,MAAM,CAAC,CAAC;EACV,CAAC,CAAC,OAAOb,KAAc,EAAE;IAAA;IAAApE,aAAA,GAAAK,CAAA;IACvB;IACA,IAAIuD,OAAO,CAACC,GAAG,CAACtD,QAAQ,KAAK,YAAY,EAAE;MAAA;MAAAP,aAAA,GAAA8D,CAAA;MAAA9D,aAAA,GAAAK,CAAA;MACzC,MAAM+D,KAAK;IACb,CAAC;IAAA;IAAA;MAAApE,aAAA,GAAA8D,CAAA;IAAA;IACD;IACA,MAAMqB,YAAY;IAAA;IAAA,CAAAnF,aAAA,GAAAK,CAAA,QAAG+D,KAAK,YAAYC,KAAK;IAAA;IAAA,CAAArE,aAAA,GAAA8D,CAAA,UAAGM,KAAK,CAACW,OAAO;IAAA;IAAA,CAAA/E,aAAA,GAAA8D,CAAA,UAAGsB,MAAM,CAAChB,KAAK,CAAC;IAAC;IAAApE,aAAA,GAAAK,CAAA;IAC5EF,GAAG,CAACkF,IAAI,CAAC,8DAA8D,EAAE;MAAEjB,KAAK,EAAEe;IAAa,CAAC,CAAC;EACnG;AACF,CAAC;AAAA;AAAA;EAAAnF,aAAA,GAAA8D,CAAA;AAAA","ignoreList":[]}