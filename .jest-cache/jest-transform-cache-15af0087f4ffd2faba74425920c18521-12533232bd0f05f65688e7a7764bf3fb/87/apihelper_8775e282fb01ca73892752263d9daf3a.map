{"version":3,"names":["cov_1wflaq8zgc","actualCoverage","supertest","apiHelper","s","createRequest","app","f","expectSuccess","response","statusCode","b","expect","status","toBe","body","toBeDefined","expectError","message","error","toContain","expectValidationError","field","errors","toHaveProperty","expectUnauthorized","expectForbidden","expectNotFound"],"sources":["api.helper.ts"],"sourcesContent":["import supertest from 'supertest';\n\nexport const apiHelper = {\n  createRequest: (app: any) => supertest(app),\n\n  expectSuccess: (response: supertest.Response, statusCode: number = 200) => {\n    expect(response.status).toBe(statusCode);\n    expect(response.body).toBeDefined();\n  },\n\n  expectError: (response: supertest.Response, statusCode: number, message?: string) => {\n    expect(response.status).toBe(statusCode);\n    expect(response.body.error).toBeDefined();\n    if (message) {\n      expect(response.body.error).toContain(message);\n    }\n  },\n\n  expectValidationError: (response: supertest.Response, field?: string) => {\n    expect(response.status).toBe(400);\n    expect(response.body.errors).toBeDefined();\n    if (field) {\n      expect(response.body.errors).toHaveProperty(field);\n    }\n  },\n\n  expectUnauthorized: (response: supertest.Response) => {\n    expect(response.status).toBe(401);\n  },\n\n  expectForbidden: (response: supertest.Response) => {\n    expect(response.status).toBe(403);\n  },\n\n  expectNotFound: (response: supertest.Response) => {\n    expect(response.status).toBe(404);\n  },\n};\n"],"mappings":"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","ignoreList":[]}