ecf2589b68e4ad6bc6d99a7678f74eb1
/* istanbul ignore next */
function cov_1h0skwkvyo() {
  var path = "/workspaces/azora/services/education-revenue-engine/src/utils/database.ts";
  var hash = "d1d526fe2c0ed082acead3da366b9e0795d757c7";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/education-revenue-engine/src/utils/database.ts",
    statementMap: {
      "0": {
        start: {
          line: 10,
          column: 2
        },
        end: {
          line: 12,
          column: 3
        }
      },
      "1": {
        start: {
          line: 11,
          column: 4
        },
        end: {
          line: 11,
          column: 32
        }
      },
      "2": {
        start: {
          line: 13,
          column: 2
        },
        end: {
          line: 13,
          column: 16
        }
      },
      "3": {
        start: {
          line: 20,
          column: 2
        },
        end: {
          line: 25,
          column: 3
        }
      },
      "4": {
        start: {
          line: 21,
          column: 19
        },
        end: {
          line: 21,
          column: 36
        }
      },
      "5": {
        start: {
          line: 22,
          column: 4
        },
        end: {
          line: 22,
          column: 28
        }
      },
      "6": {
        start: {
          line: 24,
          column: 4
        },
        end: {
          line: 24,
          column: 67
        }
      },
      "7": {
        start: {
          line: 32,
          column: 2
        },
        end: {
          line: 34,
          column: 3
        }
      },
      "8": {
        start: {
          line: 33,
          column: 4
        },
        end: {
          line: 33,
          column: 31
        }
      },
      "9": {
        start: {
          line: 41,
          column: 2
        },
        end: {
          line: 45,
          column: 3
        }
      },
      "10": {
        start: {
          line: 43,
          column: 18
        },
        end: {
          line: 43,
          column: 52
        }
      },
      "11": {
        start: {
          line: 44,
          column: 4
        },
        end: {
          line: 44,
          column: 67
        }
      },
      "12": {
        start: {
          line: 47,
          column: 2
        },
        end: {
          line: 50,
          column: 3
        }
      },
      "13": {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 49,
          column: 41
        }
      },
      "14": {
        start: {
          line: 52,
          column: 2
        },
        end: {
          line: 55,
          column: 3
        }
      },
      "15": {
        start: {
          line: 54,
          column: 4
        },
        end: {
          line: 54,
          column: 60
        }
      },
      "16": {
        start: {
          line: 57,
          column: 2
        },
        end: {
          line: 60,
          column: 3
        }
      },
      "17": {
        start: {
          line: 59,
          column: 4
        },
        end: {
          line: 59,
          column: 68
        }
      },
      "18": {
        start: {
          line: 62,
          column: 2
        },
        end: {
          line: 62,
          column: 62
        }
      },
      "19": {
        start: {
          line: 71,
          column: 2
        },
        end: {
          line: 75,
          column: 3
        }
      },
      "20": {
        start: {
          line: 72,
          column: 4
        },
        end: {
          line: 72,
          column: 29
        }
      },
      "21": {
        start: {
          line: 74,
          column: 4
        },
        end: {
          line: 74,
          column: 35
        }
      },
      "22": {
        start: {
          line: 84,
          column: 17
        },
        end: {
          line: 84,
          column: 34
        }
      },
      "23": {
        start: {
          line: 85,
          column: 2
        },
        end: {
          line: 91,
          column: 3
        }
      },
      "24": {
        start: {
          line: 86,
          column: 4
        },
        end: {
          line: 88,
          column: 7
        }
      },
      "25": {
        start: {
          line: 87,
          column: 6
        },
        end: {
          line: 87,
          column: 48
        }
      },
      "26": {
        start: {
          line: 90,
          column: 4
        },
        end: {
          line: 90,
          column: 35
        }
      }
    },
    fnMap: {
      "0": {
        name: "getPrismaClient",
        decl: {
          start: {
            line: 9,
            column: 16
          },
          end: {
            line: 9,
            column: 31
          }
        },
        loc: {
          start: {
            line: 9,
            column: 48
          },
          end: {
            line: 14,
            column: 1
          }
        },
        line: 9
      },
      "1": {
        name: "initializePrisma",
        decl: {
          start: {
            line: 19,
            column: 22
          },
          end: {
            line: 19,
            column: 38
          }
        },
        loc: {
          start: {
            line: 19,
            column: 56
          },
          end: {
            line: 26,
            column: 1
          }
        },
        line: 19
      },
      "2": {
        name: "disconnectPrisma",
        decl: {
          start: {
            line: 31,
            column: 22
          },
          end: {
            line: 31,
            column: 38
          }
        },
        loc: {
          start: {
            line: 31,
            column: 56
          },
          end: {
            line: 35,
            column: 1
          }
        },
        line: 31
      },
      "3": {
        name: "handlePrismaError",
        decl: {
          start: {
            line: 40,
            column: 16
          },
          end: {
            line: 40,
            column: 33
          }
        },
        loc: {
          start: {
            line: 40,
            column: 53
          },
          end: {
            line: 63,
            column: 1
          }
        },
        line: 40
      },
      "4": {
        name: "withPrismaErrorHandling",
        decl: {
          start: {
            line: 68,
            column: 22
          },
          end: {
            line: 68,
            column: 45
          }
        },
        loc: {
          start: {
            line: 70,
            column: 14
          },
          end: {
            line: 76,
            column: 1
          }
        },
        line: 70
      },
      "5": {
        name: "withTransaction",
        decl: {
          start: {
            line: 81,
            column: 22
          },
          end: {
            line: 81,
            column: 37
          }
        },
        loc: {
          start: {
            line: 83,
            column: 14
          },
          end: {
            line: 92,
            column: 1
          }
        },
        line: 83
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 86,
            column: 37
          },
          end: {
            line: 86,
            column: 38
          }
        },
        loc: {
          start: {
            line: 86,
            column: 51
          },
          end: {
            line: 88,
            column: 5
          }
        },
        line: 86
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 10,
            column: 2
          },
          end: {
            line: 12,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 10,
            column: 2
          },
          end: {
            line: 12,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 10
      },
      "1": {
        loc: {
          start: {
            line: 32,
            column: 2
          },
          end: {
            line: 34,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 32,
            column: 2
          },
          end: {
            line: 34,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 32
      },
      "2": {
        loc: {
          start: {
            line: 41,
            column: 2
          },
          end: {
            line: 45,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 41,
            column: 2
          },
          end: {
            line: 45,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 41
      },
      "3": {
        loc: {
          start: {
            line: 43,
            column: 18
          },
          end: {
            line: 43,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 43,
            column: 18
          },
          end: {
            line: 43,
            column: 41
          }
        }, {
          start: {
            line: 43,
            column: 45
          },
          end: {
            line: 43,
            column: 52
          }
        }],
        line: 43
      },
      "4": {
        loc: {
          start: {
            line: 47,
            column: 2
          },
          end: {
            line: 50,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 47,
            column: 2
          },
          end: {
            line: 50,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 47
      },
      "5": {
        loc: {
          start: {
            line: 52,
            column: 2
          },
          end: {
            line: 55,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 52,
            column: 2
          },
          end: {
            line: 55,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 52
      },
      "6": {
        loc: {
          start: {
            line: 57,
            column: 2
          },
          end: {
            line: 60,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 57,
            column: 2
          },
          end: {
            line: 60,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 57
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "d1d526fe2c0ed082acead3da366b9e0795d757c7"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1h0skwkvyo = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1h0skwkvyo();
import { PrismaClient } from '@prisma/client';
import { InternalServerError } from './errors';
let prisma;

/**
 * Gets or creates a Prisma client instance
 */
export function getPrismaClient() {
  /* istanbul ignore next */
  cov_1h0skwkvyo().f[0]++;
  cov_1h0skwkvyo().s[0]++;
  if (!prisma) {
    /* istanbul ignore next */
    cov_1h0skwkvyo().b[0][0]++;
    cov_1h0skwkvyo().s[1]++;
    prisma = new PrismaClient();
  } else
  /* istanbul ignore next */
  {
    cov_1h0skwkvyo().b[0][1]++;
  }
  cov_1h0skwkvyo().s[2]++;
  return prisma;
}

/**
 * Initializes the Prisma client
 */
export async function initializePrisma() {
  /* istanbul ignore next */
  cov_1h0skwkvyo().f[1]++;
  cov_1h0skwkvyo().s[3]++;
  try {
    const client =
    /* istanbul ignore next */
    (cov_1h0skwkvyo().s[4]++, getPrismaClient());
    /* istanbul ignore next */
    cov_1h0skwkvyo().s[5]++;
    await client.$connect();
  } catch (error) {
    /* istanbul ignore next */
    cov_1h0skwkvyo().s[6]++;
    throw new InternalServerError('Failed to connect to database');
  }
}

/**
 * Disconnects the Prisma client
 */
export async function disconnectPrisma() {
  /* istanbul ignore next */
  cov_1h0skwkvyo().f[2]++;
  cov_1h0skwkvyo().s[7]++;
  if (prisma) {
    /* istanbul ignore next */
    cov_1h0skwkvyo().b[1][0]++;
    cov_1h0skwkvyo().s[8]++;
    await prisma.$disconnect();
  } else
  /* istanbul ignore next */
  {
    cov_1h0skwkvyo().b[1][1]++;
  }
}

/**
 * Handles Prisma errors and converts them to AppErrors
 */
export function handlePrismaError(error) {
  /* istanbul ignore next */
  cov_1h0skwkvyo().f[3]++;
  cov_1h0skwkvyo().s[9]++;
  if (error.code === 'P2002') {
    /* istanbul ignore next */
    cov_1h0skwkvyo().b[2][0]++;
    // Unique constraint violation
    const field =
    /* istanbul ignore next */
    (cov_1h0skwkvyo().s[10]++,
    /* istanbul ignore next */
    (cov_1h0skwkvyo().b[3][0]++, error.meta?.target?.[0]) ||
    /* istanbul ignore next */
    (cov_1h0skwkvyo().b[3][1]++, 'field'));
    /* istanbul ignore next */
    cov_1h0skwkvyo().s[11]++;
    return new Error(`A record with this ${field} already exists`);
  } else
  /* istanbul ignore next */
  {
    cov_1h0skwkvyo().b[2][1]++;
  }
  cov_1h0skwkvyo().s[12]++;
  if (error.code === 'P2025') {
    /* istanbul ignore next */
    cov_1h0skwkvyo().b[4][0]++;
    cov_1h0skwkvyo().s[13]++;
    // Record not found
    return new Error('Record not found');
  } else
  /* istanbul ignore next */
  {
    cov_1h0skwkvyo().b[4][1]++;
  }
  cov_1h0skwkvyo().s[14]++;
  if (error.code === 'P2003') {
    /* istanbul ignore next */
    cov_1h0skwkvyo().b[5][0]++;
    cov_1h0skwkvyo().s[15]++;
    // Foreign key constraint violation
    return new Error('Invalid reference to related record');
  } else
  /* istanbul ignore next */
  {
    cov_1h0skwkvyo().b[5][1]++;
  }
  cov_1h0skwkvyo().s[16]++;
  if (error.code === 'P2014') {
    /* istanbul ignore next */
    cov_1h0skwkvyo().b[6][0]++;
    cov_1h0skwkvyo().s[17]++;
    // Required relation violation
    return new Error('Cannot delete record due to related records');
  } else
  /* istanbul ignore next */
  {
    cov_1h0skwkvyo().b[6][1]++;
  }
  cov_1h0skwkvyo().s[18]++;
  return new InternalServerError('Database operation failed');
}

/**
 * Wraps a database operation with error handling
 */
export async function withPrismaErrorHandling(operation) {
  /* istanbul ignore next */
  cov_1h0skwkvyo().f[4]++;
  cov_1h0skwkvyo().s[19]++;
  try {
    /* istanbul ignore next */
    cov_1h0skwkvyo().s[20]++;
    return await operation();
  } catch (error) {
    /* istanbul ignore next */
    cov_1h0skwkvyo().s[21]++;
    throw handlePrismaError(error);
  }
}

/**
 * Transaction wrapper for multiple operations
 */
export async function withTransaction(callback) {
  /* istanbul ignore next */
  cov_1h0skwkvyo().f[5]++;
  const client =
  /* istanbul ignore next */
  (cov_1h0skwkvyo().s[22]++, getPrismaClient());
  /* istanbul ignore next */
  cov_1h0skwkvyo().s[23]++;
  try {
    /* istanbul ignore next */
    cov_1h0skwkvyo().s[24]++;
    return await client.$transaction(async tx => {
      /* istanbul ignore next */
      cov_1h0skwkvyo().f[6]++;
      cov_1h0skwkvyo().s[25]++;
      return await callback(tx);
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_1h0skwkvyo().s[26]++;
    throw handlePrismaError(error);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWgwc2t3a3Z5byIsImFjdHVhbENvdmVyYWdlIiwiUHJpc21hQ2xpZW50IiwiSW50ZXJuYWxTZXJ2ZXJFcnJvciIsInByaXNtYSIsImdldFByaXNtYUNsaWVudCIsImYiLCJzIiwiYiIsImluaXRpYWxpemVQcmlzbWEiLCJjbGllbnQiLCIkY29ubmVjdCIsImVycm9yIiwiZGlzY29ubmVjdFByaXNtYSIsIiRkaXNjb25uZWN0IiwiaGFuZGxlUHJpc21hRXJyb3IiLCJjb2RlIiwiZmllbGQiLCJtZXRhIiwidGFyZ2V0IiwiRXJyb3IiLCJ3aXRoUHJpc21hRXJyb3JIYW5kbGluZyIsIm9wZXJhdGlvbiIsIndpdGhUcmFuc2FjdGlvbiIsImNhbGxiYWNrIiwiJHRyYW5zYWN0aW9uIiwidHgiXSwic291cmNlcyI6WyJkYXRhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5pbXBvcnQgeyBJbnRlcm5hbFNlcnZlckVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuXG5sZXQgcHJpc21hOiBQcmlzbWFDbGllbnQ7XG5cbi8qKlxuICogR2V0cyBvciBjcmVhdGVzIGEgUHJpc21hIGNsaWVudCBpbnN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJpc21hQ2xpZW50KCk6IFByaXNtYUNsaWVudCB7XG4gIGlmICghcHJpc21hKSB7XG4gICAgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xuICB9XG4gIHJldHVybiBwcmlzbWE7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgdGhlIFByaXNtYSBjbGllbnRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVQcmlzbWEoKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2xpZW50ID0gZ2V0UHJpc21hQ2xpZW50KCk7XG4gICAgYXdhaXQgY2xpZW50LiRjb25uZWN0KCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEludGVybmFsU2VydmVyRXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0IHRvIGRhdGFiYXNlJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNjb25uZWN0cyB0aGUgUHJpc21hIGNsaWVudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGlzY29ubmVjdFByaXNtYSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKHByaXNtYSkge1xuICAgIGF3YWl0IHByaXNtYS4kZGlzY29ubmVjdCgpO1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlcyBQcmlzbWEgZXJyb3JzIGFuZCBjb252ZXJ0cyB0aGVtIHRvIEFwcEVycm9yc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUHJpc21hRXJyb3IoZXJyb3I6IGFueSk6IEVycm9yIHtcbiAgaWYgKGVycm9yLmNvZGUgPT09ICdQMjAwMicpIHtcbiAgICAvLyBVbmlxdWUgY29uc3RyYWludCB2aW9sYXRpb25cbiAgICBjb25zdCBmaWVsZCA9IGVycm9yLm1ldGE/LnRhcmdldD8uWzBdIHx8ICdmaWVsZCc7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgQSByZWNvcmQgd2l0aCB0aGlzICR7ZmllbGR9IGFscmVhZHkgZXhpc3RzYCk7XG4gIH1cblxuICBpZiAoZXJyb3IuY29kZSA9PT0gJ1AyMDI1Jykge1xuICAgIC8vIFJlY29yZCBub3QgZm91bmRcbiAgICByZXR1cm4gbmV3IEVycm9yKCdSZWNvcmQgbm90IGZvdW5kJyk7XG4gIH1cblxuICBpZiAoZXJyb3IuY29kZSA9PT0gJ1AyMDAzJykge1xuICAgIC8vIEZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgdmlvbGF0aW9uXG4gICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCByZWZlcmVuY2UgdG8gcmVsYXRlZCByZWNvcmQnKTtcbiAgfVxuXG4gIGlmIChlcnJvci5jb2RlID09PSAnUDIwMTQnKSB7XG4gICAgLy8gUmVxdWlyZWQgcmVsYXRpb24gdmlvbGF0aW9uXG4gICAgcmV0dXJuIG5ldyBFcnJvcignQ2Fubm90IGRlbGV0ZSByZWNvcmQgZHVlIHRvIHJlbGF0ZWQgcmVjb3JkcycpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBJbnRlcm5hbFNlcnZlckVycm9yKCdEYXRhYmFzZSBvcGVyYXRpb24gZmFpbGVkJyk7XG59XG5cbi8qKlxuICogV3JhcHMgYSBkYXRhYmFzZSBvcGVyYXRpb24gd2l0aCBlcnJvciBoYW5kbGluZ1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2l0aFByaXNtYUVycm9ySGFuZGxpbmc8VD4oXG4gIG9wZXJhdGlvbjogKCkgPT4gUHJvbWlzZTxUPlxuKTogUHJvbWlzZTxUPiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IG9wZXJhdGlvbigpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGhhbmRsZVByaXNtYUVycm9yKGVycm9yKTtcbiAgfVxufVxuXG4vKipcbiAqIFRyYW5zYWN0aW9uIHdyYXBwZXIgZm9yIG11bHRpcGxlIG9wZXJhdGlvbnNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdpdGhUcmFuc2FjdGlvbjxUPihcbiAgY2FsbGJhY2s6IChwcmlzbWE6IFByaXNtYUNsaWVudCkgPT4gUHJvbWlzZTxUPlxuKTogUHJvbWlzZTxUPiB7XG4gIGNvbnN0IGNsaWVudCA9IGdldFByaXNtYUNsaWVudCgpO1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBjbGllbnQuJHRyYW5zYWN0aW9uKGFzeW5jICh0eCkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IGNhbGxiYWNrKHR4IGFzIFByaXNtYUNsaWVudCk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgaGFuZGxlUHJpc21hRXJyb3IoZXJyb3IpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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