{"version":3,"names":["cov_2kvkb730io","actualCoverage","express","s","require","compression","completeRoutes","helmetConfig","corsConfig","createRateLimiter","errorHandler","app","use","json","unCompliance","valuationVerification","institutionalVerification","f","initialize","setInterval","applyCompliancePremium","verifyValuation","verifyInvestments","console","log","err","error","message","get","req","res","report","generateReport","status","certificate","generateValuationCertificate","send","valuationData","complianceData","fullReport","timestamp","Date","toISOString","valuation","current","currentValuation","target","targetValuation","percentage","valuationPercentage","verified","isVerified","statement","compliance","frameworkCompliance","framework","valuationImpact","premium","adjustedMarketCap","marketCap","metrics","tokenPrice","verificationDetails","price","institutionalInvestment","total","tradingVolume","liquidity","priceStability","stability","coefficient","conclusion","b","toFixed","PORT","process","env","listen","module","exports"],"sources":["index.js"],"sourcesContent":["const express = require('express');\nconst compression = require('compression');\nconst completeRoutes = require('./routes-complete');\nconst { helmetConfig, corsConfig, createRateLimiter, errorHandler } = require('../shared/middleware');\n\nconst app = express();\n\n// Security middleware stack\napp.use(helmetConfig);\napp.use(corsConfig);\napp.use(compression());\napp.use(express.json());\napp.use(createRateLimiter(50)); // Financial service - stricter rate limit\n\n// Use comprehensive routes (includes all wallet, mining, staking, economics endpoints)\napp.use(completeRoutes);\n\n// Load verification modules\nconst unCompliance = require('./un-compliance-integration');\nconst valuationVerification = require('./valuation-verification');\nconst institutionalVerification = require('./institutional-verification');\n\n// Initialize modules\n(async () => {\n  try {\n    await unCompliance.initialize();\n    await valuationVerification.initialize();\n    await institutionalVerification.initialize();\n\n    // Schedule regular verifications\n    setInterval(async () => {\n      await unCompliance.applyCompliancePremium();\n      await valuationVerification.verifyValuation();\n      await institutionalVerification.verifyInvestments();\n      console.log('Valuation verification completed');\n    }, 5 * 60 * 1000); // Run every 5 minutes\n  } catch (err) {\n    console.error('Verification module initialization error:', err.message);\n  }\n})();\n\n// Additional verification endpoints\napp.get('/api/un-compliance', async (req, res) => {\n  try {\n    const report = await unCompliance.generateReport();\n    res.json(report);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n});\n\napp.get('/api/valuation-verification', async (req, res) => {\n  try {\n    const report = await valuationVerification.verifyValuation();\n    res.json(report);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n});\n\napp.get('/api/valuation-certificate', async (req, res) => {\n  try {\n    const certificate = await valuationVerification.generateValuationCertificate();\n    res.send(certificate);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n});\n\napp.get('/api/investment-verification', async (req, res) => {\n  try {\n    const report = await institutionalVerification.generateReport();\n    res.send(report);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n});\n\napp.get('/api/full-valuation-report', async (req, res) => {\n  try {\n    const valuationData = await valuationVerification.verifyValuation();\n    const complianceData = await unCompliance.generateReport();\n\n    const fullReport = {\n      timestamp: new Date().toISOString(),\n      valuation: {\n        current: valuationData.currentValuation,\n        target: valuationData.targetValuation,\n        percentage: valuationData.valuationPercentage,\n        verified: valuationData.isVerified,\n        statement: valuationData.statement\n      },\n      compliance: {\n        status: complianceData.status,\n        frameworkCompliance: complianceData.framework,\n        valuationImpact: {\n          premium: complianceData.adjustedMarketCap - complianceData.marketCap,\n          percentage: ((complianceData.adjustedMarketCap / complianceData.marketCap) - 1) * 100\n        }\n      },\n      metrics: {\n        tokenPrice: valuationData.verificationDetails.price.current,\n        marketCap: valuationData.currentValuation,\n        institutionalInvestment: valuationData.verificationDetails.institutionalInvestment.total,\n        tradingVolume: valuationData.verificationDetails.liquidity.tradingVolume,\n        priceStability: valuationData.verificationDetails.stability.coefficient * 100\n      },\n      conclusion: valuationData.isVerified\n        ? `Azora OS has been verified to be worth $10 million based on market activity, institutional investment, and UN compliance standards.`\n        : `Azora OS is currently valued at $${(valuationData.currentValuation / 1000000).toFixed(1)} million and is working toward full $10 million verification.`\n    };\n\n    res.json(fullReport);\n  } catch (err) {\n    console.error('Error generating full valuation report:', err);\n    res.status(500).json({ error: 'Failed to generate full valuation report' });\n  }\n});\n\napp.use(errorHandler);\n\nconst PORT = process.env.PORT || 3080;\napp.listen(PORT, () => console.log(`âœ… Azora Mint running on port ${PORT}`));\nmodule.exports = app;\n"],"mappings":"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","ignoreList":[]}