{"version":3,"names":["cov_pdv8y1oh8","actualCoverage","z","s","validationMiddleware","schema","f","req","res","next","parse","body","error","ZodError","b","status","json","details","errors"],"sources":["validation.ts"],"sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport { z, ZodSchema } from 'zod';\n\nexport const validationMiddleware = (schema: ZodSchema) => {\n  return (req: Request, res: Response, next: NextFunction) => {\n    try {\n      schema.parse(req.body);\n      next();\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        res.status(400).json({\n          error: 'Validation failed',\n          details: error.errors\n        });\n      } else {\n        next(error);\n      }\n    }\n  };\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAdZ,SAASE,CAAC,QAAmB,KAAK;AAAC;AAAAF,aAAA,GAAAG,CAAA;AAEnC,OAAO,MAAMC,oBAAoB,GAAIC,MAAiB,IAAK;EAAA;EAAAL,aAAA,GAAAM,CAAA;EAAAN,aAAA,GAAAG,CAAA;EACzD,OAAO,CAACI,GAAY,EAAEC,GAAa,EAAEC,IAAkB,KAAK;IAAA;IAAAT,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAG,CAAA;IAC1D,IAAI;MAAA;MAAAH,aAAA,GAAAG,CAAA;MACFE,MAAM,CAACK,KAAK,CAACH,GAAG,CAACI,IAAI,CAAC;MAAC;MAAAX,aAAA,GAAAG,CAAA;MACvBM,IAAI,CAAC,CAAC;IACR,CAAC,CAAC,OAAOG,KAAK,EAAE;MAAA;MAAAZ,aAAA,GAAAG,CAAA;MACd,IAAIS,KAAK,YAAYV,CAAC,CAACW,QAAQ,EAAE;QAAA;QAAAb,aAAA,GAAAc,CAAA;QAAAd,aAAA,GAAAG,CAAA;QAC/BK,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBJ,KAAK,EAAE,mBAAmB;UAC1BK,OAAO,EAAEL,KAAK,CAACM;QACjB,CAAC,CAAC;MACJ,CAAC,MAAM;QAAA;QAAAlB,aAAA,GAAAc,CAAA;QAAAd,aAAA,GAAAG,CAAA;QACLM,IAAI,CAACG,KAAK,CAAC;MACb;IACF;EACF,CAAC;AACH,CAAC","ignoreList":[]}