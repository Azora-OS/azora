{"version":3,"names":["cov_avovqke21","actualCoverage","EconomicPolicyEngine","constructor","f","s","ubiRate","ubiInterval","lastUBIDistribution","Date","now","calculateUBI","userActivity","baseUBI","activityMultiplier","Math","min","score","floor","shouldDistributeUBI","distributeUBI","users","b","distributed","reason","distributions","map","user","userId","id","amount","activity","timestamp","count","length","totalAmount","reduce","sum","d","monitorEconomy","metrics","totalSupply","circulatingSupply","velocity","activeUsers","health","supplyRatio","velocityScore","userEngagement","recommendation","adjustPolicy","economicHealth","newUBIRate","mintTokens","console","log","success","minted","newSupply","validateTransaction","balance","valid","message","calculateStakingReward","duration","annualRate","dailyRate"],"sources":["economic-policy.ts"],"sourcesContent":["interface UserActivity {\n    score: number;\n}\n\ninterface User {\n    id: string;\n    activity: UserActivity;\n}\n\ninterface Distribution {\n    userId: string;\n    amount: number;\n    timestamp: Date;\n}\n\ninterface Metrics {\n    totalSupply: number;\n    circulatingSupply: number;\n    velocity: number;\n    activeUsers: number;\n}\n\ninterface EconomicHealth {\n    supplyRatio: number;\n    velocityScore: 'high' | 'healthy' | 'low';\n    userEngagement: number;\n    recommendation: 'maintain' | 'increase_supply' | 'increase_incentives';\n}\n\nexport class EconomicPolicyEngine {\n    ubiRate: number;\n    ubiInterval: number;\n    lastUBIDistribution: number;\n\n    constructor() {\n        this.ubiRate = 10;\n        this.ubiInterval = 86400000; // 24 hours\n        this.lastUBIDistribution = Date.now();\n    }\n\n    calculateUBI(userActivity: UserActivity): number {\n        const baseUBI = this.ubiRate;\n        const activityMultiplier = Math.min(2.0, 1 + (userActivity.score / 100));\n        return Math.floor(baseUBI * activityMultiplier);\n    }\n\n    shouldDistributeUBI(): boolean {\n        return Date.now() - this.lastUBIDistribution >= this.ubiInterval;\n    }\n\n    distributeUBI(users: User[]): { distributed: boolean; reason?: string; count?: number; totalAmount?: number; distributions?: Distribution[] } {\n        if (!this.shouldDistributeUBI()) {\n            return { distributed: false, reason: 'Too soon' };\n        }\n\n        const distributions: Distribution[] = users.map(user => ({\n            userId: user.id,\n            amount: this.calculateUBI(user.activity),\n            timestamp: new Date(),\n        }));\n\n        this.lastUBIDistribution = Date.now();\n\n        return {\n            distributed: true,\n            count: distributions.length,\n            totalAmount: distributions.reduce((sum, d) => sum + d.amount, 0),\n            distributions,\n        };\n    }\n\n    monitorEconomy(metrics: Metrics): EconomicHealth {\n        const { totalSupply, circulatingSupply, velocity, activeUsers } = metrics;\n\n        const health: EconomicHealth = {\n            supplyRatio: circulatingSupply / totalSupply,\n            velocityScore: velocity > 1.5 ? 'high' : velocity > 0.8 ? 'healthy' : 'low',\n            userEngagement: activeUsers / 1000,\n            recommendation: 'maintain',\n        };\n\n        if (health.supplyRatio > 0.9) {\n            health.recommendation = 'increase_supply';\n        } else if (health.velocityScore === 'low') {\n            health.recommendation = 'increase_incentives';\n        }\n\n        return health;\n    }\n\n    adjustPolicy(economicHealth: EconomicHealth): { newUBIRate: number; reason: string } {\n        if (economicHealth.recommendation === 'increase_supply') {\n            this.ubiRate = Math.min(20, this.ubiRate * 1.1);\n        } else if (economicHealth.recommendation === 'increase_incentives') {\n            this.ubiRate = Math.min(15, this.ubiRate * 1.05);\n        }\n\n        return {\n            newUBIRate: this.ubiRate,\n            reason: economicHealth.recommendation,\n        };\n    }\n\n    // Added methods from the original implementation for compatibility\n    mintTokens(amount: number, reason: string): { success: boolean, minted: number, newSupply: number } {\n        // This is a simplified placeholder. In a real scenario, this would interact with a blockchain or a ledger.\n        console.log(`Minting ${amount} tokens for ${reason}`);\n        return { success: true, minted: amount, newSupply: 0 }; // `newSupply` should be updated properly\n    }\n\n    validateTransaction(amount: number, balance: number): { valid: boolean, message?: string } {\n        if (amount > balance) {\n            return { valid: false, message: \"Insufficient funds\" };\n        }\n        return { valid: true };\n    }\n\n    calculateStakingReward(amount: number, duration: number): number {\n        // Simplified staking reward calculation\n        const annualRate = 0.05; // 5% APR\n        const dailyRate = annualRate / 365;\n        return amount * dailyRate * duration;\n    }\n}\n"],"mappings":"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","ignoreList":[]}