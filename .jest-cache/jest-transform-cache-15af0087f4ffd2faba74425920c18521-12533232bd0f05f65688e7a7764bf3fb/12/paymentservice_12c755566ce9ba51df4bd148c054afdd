b5f1ba6455ee6a202ad2e66ebae52965
/* istanbul ignore next */
function cov_6q8qjleqc() {
  var path = "/workspaces/azora/services/education-revenue-engine/src/services/payment.service.ts";
  var hash = "ee45fb538df563f7deacf440cbffcdc49658c2f7";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/education-revenue-engine/src/services/payment.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 9,
          column: 15
        },
        end: {
          line: 11,
          column: 2
        }
      },
      "1": {
        start: {
          line: 14,
          column: 29
        },
        end: {
          line: 21,
          column: 2
        }
      },
      "2": {
        start: {
          line: 23,
          column: 28
        },
        end: {
          line: 26,
          column: 2
        }
      },
      "3": {
        start: {
          line: 41,
          column: 4
        },
        end: {
          line: 114,
          column: 5
        }
      },
      "4": {
        start: {
          line: 43,
          column: 31
        },
        end: {
          line: 43,
          column: 66
        }
      },
      "5": {
        start: {
          line: 44,
          column: 6
        },
        end: {
          line: 46,
          column: 7
        }
      },
      "6": {
        start: {
          line: 45,
          column: 8
        },
        end: {
          line: 45,
          column: 84
        }
      },
      "7": {
        start: {
          line: 49,
          column: 22
        },
        end: {
          line: 51,
          column: 8
        }
      },
      "8": {
        start: {
          line: 52,
          column: 6
        },
        end: {
          line: 54,
          column: 7
        }
      },
      "9": {
        start: {
          line: 53,
          column: 8
        },
        end: {
          line: 53,
          column: 60
        }
      },
      "10": {
        start: {
          line: 57,
          column: 21
        },
        end: {
          line: 59,
          column: 8
        }
      },
      "11": {
        start: {
          line: 60,
          column: 6
        },
        end: {
          line: 62,
          column: 7
        }
      },
      "12": {
        start: {
          line: 61,
          column: 8
        },
        end: {
          line: 61,
          column: 58
        }
      },
      "13": {
        start: {
          line: 65,
          column: 28
        },
        end: {
          line: 76,
          column: 8
        }
      },
      "14": {
        start: {
          line: 79,
          column: 6
        },
        end: {
          line: 85,
          column: 7
        }
      },
      "15": {
        start: {
          line: 80,
          column: 8
        },
        end: {
          line: 84,
          column: 10
        }
      },
      "16": {
        start: {
          line: 88,
          column: 22
        },
        end: {
          line: 98,
          column: 8
        }
      },
      "17": {
        start: {
          line: 100,
          column: 6
        },
        end: {
          line: 105,
          column: 9
        }
      },
      "18": {
        start: {
          line: 107,
          column: 6
        },
        end: {
          line: 110,
          column: 19
        }
      },
      "19": {
        start: {
          line: 112,
          column: 6
        },
        end: {
          line: 112,
          column: 55
        }
      },
      "20": {
        start: {
          line: 113,
          column: 6
        },
        end: {
          line: 113,
          column: 18
        }
      },
      "21": {
        start: {
          line: 122,
          column: 4
        },
        end: {
          line: 143,
          column: 5
        }
      },
      "22": {
        start: {
          line: 124,
          column: 22
        },
        end: {
          line: 126,
          column: 8
        }
      },
      "23": {
        start: {
          line: 127,
          column: 6
        },
        end: {
          line: 129,
          column: 7
        }
      },
      "24": {
        start: {
          line: 128,
          column: 8
        },
        end: {
          line: 128,
          column: 54
        }
      },
      "25": {
        start: {
          line: 131,
          column: 23
        },
        end: {
          line: 134,
          column: 8
        }
      },
      "26": {
        start: {
          line: 136,
          column: 6
        },
        end: {
          line: 139,
          column: 23
        }
      },
      "27": {
        start: {
          line: 136,
          column: 34
        },
        end: {
          line: 139,
          column: 7
        }
      },
      "28": {
        start: {
          line: 141,
          column: 6
        },
        end: {
          line: 141,
          column: 62
        }
      },
      "29": {
        start: {
          line: 142,
          column: 6
        },
        end: {
          line: 142,
          column: 18
        }
      },
      "30": {
        start: {
          line: 151,
          column: 4
        },
        end: {
          line: 167,
          column: 5
        }
      },
      "31": {
        start: {
          line: 152,
          column: 22
        },
        end: {
          line: 154,
          column: 8
        }
      },
      "32": {
        start: {
          line: 156,
          column: 6
        },
        end: {
          line: 158,
          column: 7
        }
      },
      "33": {
        start: {
          line: 157,
          column: 8
        },
        end: {
          line: 157,
          column: 54
        }
      },
      "34": {
        start: {
          line: 160,
          column: 6
        },
        end: {
          line: 163,
          column: 19
        }
      },
      "35": {
        start: {
          line: 165,
          column: 6
        },
        end: {
          line: 165,
          column: 53
        }
      },
      "36": {
        start: {
          line: 166,
          column: 6
        },
        end: {
          line: 166,
          column: 18
        }
      },
      "37": {
        start: {
          line: 181,
          column: 4
        },
        end: {
          line: 259,
          column: 5
        }
      },
      "38": {
        start: {
          line: 183,
          column: 6
        },
        end: {
          line: 188,
          column: 7
        }
      },
      "39": {
        start: {
          line: 184,
          column: 26
        },
        end: {
          line: 184,
          column: 63
        }
      },
      "40": {
        start: {
          line: 185,
          column: 8
        },
        end: {
          line: 187,
          column: 9
        }
      },
      "41": {
        start: {
          line: 186,
          column: 10
        },
        end: {
          line: 186,
          column: 85
        }
      },
      "42": {
        start: {
          line: 191,
          column: 22
        },
        end: {
          line: 193,
          column: 8
        }
      },
      "43": {
        start: {
          line: 195,
          column: 6
        },
        end: {
          line: 197,
          column: 7
        }
      },
      "44": {
        start: {
          line: 196,
          column: 8
        },
        end: {
          line: 196,
          column: 54
        }
      },
      "45": {
        start: {
          line: 200,
          column: 6
        },
        end: {
          line: 205,
          column: 7
        }
      },
      "46": {
        start: {
          line: 201,
          column: 8
        },
        end: {
          line: 204,
          column: 10
        }
      },
      "47": {
        start: {
          line: 207,
          column: 6
        },
        end: {
          line: 212,
          column: 7
        }
      },
      "48": {
        start: {
          line: 208,
          column: 8
        },
        end: {
          line: 211,
          column: 10
        }
      },
      "49": {
        start: {
          line: 214,
          column: 6
        },
        end: {
          line: 216,
          column: 7
        }
      },
      "50": {
        start: {
          line: 215,
          column: 8
        },
        end: {
          line: 215,
          column: 77
        }
      },
      "51": {
        start: {
          line: 219,
          column: 27
        },
        end: {
          line: 219,
          column: 89
        }
      },
      "52": {
        start: {
          line: 220,
          column: 21
        },
        end: {
          line: 228,
          column: 8
        }
      },
      "53": {
        start: {
          line: 231,
          column: 6
        },
        end: {
          line: 237,
          column: 7
        }
      },
      "54": {
        start: {
          line: 232,
          column: 8
        },
        end: {
          line: 236,
          column: 10
        }
      },
      "55": {
        start: {
          line: 240,
          column: 29
        },
        end: {
          line: 245,
          column: 8
        }
      },
      "56": {
        start: {
          line: 247,
          column: 6
        },
        end: {
          line: 250,
          column: 9
        }
      },
      "57": {
        start: {
          line: 252,
          column: 6
        },
        end: {
          line: 255,
          column: 19
        }
      },
      "58": {
        start: {
          line: 257,
          column: 6
        },
        end: {
          line: 257,
          column: 54
        }
      },
      "59": {
        start: {
          line: 258,
          column: 6
        },
        end: {
          line: 258,
          column: 18
        }
      },
      "60": {
        start: {
          line: 273,
          column: 4
        },
        end: {
          line: 290,
          column: 5
        }
      },
      "61": {
        start: {
          line: 274,
          column: 23
        },
        end: {
          line: 276,
          column: 8
        }
      },
      "62": {
        start: {
          line: 278,
          column: 20
        },
        end: {
          line: 284,
          column: 7
        }
      },
      "63": {
        start: {
          line: 280,
          column: 49
        },
        end: {
          line: 280,
          column: 71
        }
      },
      "64": {
        start: {
          line: 281,
          column: 50
        },
        end: {
          line: 281,
          column: 74
        }
      },
      "65": {
        start: {
          line: 282,
          column: 49
        },
        end: {
          line: 282,
          column: 72
        }
      },
      "66": {
        start: {
          line: 283,
          column: 48
        },
        end: {
          line: 283,
          column: 70
        }
      },
      "67": {
        start: {
          line: 286,
          column: 6
        },
        end: {
          line: 286,
          column: 19
        }
      },
      "68": {
        start: {
          line: 288,
          column: 6
        },
        end: {
          line: 288,
          column: 64
        }
      },
      "69": {
        start: {
          line: 289,
          column: 6
        },
        end: {
          line: 289,
          column: 18
        }
      },
      "70": {
        start: {
          line: 298,
          column: 4
        },
        end: {
          line: 319,
          column: 5
        }
      },
      "71": {
        start: {
          line: 300,
          column: 21
        },
        end: {
          line: 302,
          column: 8
        }
      },
      "72": {
        start: {
          line: 303,
          column: 6
        },
        end: {
          line: 305,
          column: 7
        }
      },
      "73": {
        start: {
          line: 304,
          column: 8
        },
        end: {
          line: 304,
          column: 52
        }
      },
      "74": {
        start: {
          line: 307,
          column: 23
        },
        end: {
          line: 310,
          column: 8
        }
      },
      "75": {
        start: {
          line: 312,
          column: 6
        },
        end: {
          line: 315,
          column: 23
        }
      },
      "76": {
        start: {
          line: 312,
          column: 34
        },
        end: {
          line: 315,
          column: 7
        }
      },
      "77": {
        start: {
          line: 317,
          column: 6
        },
        end: {
          line: 317,
          column: 68
        }
      },
      "78": {
        start: {
          line: 318,
          column: 6
        },
        end: {
          line: 318,
          column: 18
        }
      },
      "79": {
        start: {
          line: 327,
          column: 4
        },
        end: {
          line: 353,
          column: 5
        }
      },
      "80": {
        start: {
          line: 329,
          column: 21
        },
        end: {
          line: 331,
          column: 8
        }
      },
      "81": {
        start: {
          line: 332,
          column: 6
        },
        end: {
          line: 334,
          column: 7
        }
      },
      "82": {
        start: {
          line: 333,
          column: 8
        },
        end: {
          line: 333,
          column: 52
        }
      },
      "83": {
        start: {
          line: 337,
          column: 26
        },
        end: {
          line: 339,
          column: 8
        }
      },
      "84": {
        start: {
          line: 340,
          column: 6
        },
        end: {
          line: 342,
          column: 7
        }
      },
      "85": {
        start: {
          line: 341,
          column: 8
        },
        end: {
          line: 341,
          column: 54
        }
      },
      "86": {
        start: {
          line: 345,
          column: 29
        },
        end: {
          line: 345,
          column: 61
        }
      },
      "87": {
        start: {
          line: 346,
          column: 23
        },
        end: {
          line: 346,
          column: 44
        }
      },
      "88": {
        start: {
          line: 347,
          column: 22
        },
        end: {
          line: 347,
          column: 67
        }
      },
      "89": {
        start: {
          line: 349,
          column: 6
        },
        end: {
          line: 349,
          column: 21
        }
      },
      "90": {
        start: {
          line: 351,
          column: 6
        },
        end: {
          line: 351,
          column: 62
        }
      },
      "91": {
        start: {
          line: 352,
          column: 6
        },
        end: {
          line: 352,
          column: 18
        }
      },
      "92": {
        start: {
          line: 357,
          column: 30
        },
        end: {
          line: 357,
          column: 50
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 33,
            column: 2
          },
          end: {
            line: 33,
            column: 3
          }
        },
        loc: {
          start: {
            line: 40,
            column: 23
          },
          end: {
            line: 115,
            column: 3
          }
        },
        line: 40
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 121,
            column: 2
          },
          end: {
            line: 121,
            column: 3
          }
        },
        loc: {
          start: {
            line: 121,
            column: 66
          },
          end: {
            line: 144,
            column: 3
          }
        },
        line: 121
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 136,
            column: 26
          },
          end: {
            line: 136,
            column: 27
          }
        },
        loc: {
          start: {
            line: 136,
            column: 34
          },
          end: {
            line: 139,
            column: 7
          }
        },
        line: 136
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 150,
            column: 2
          },
          end: {
            line: 150,
            column: 3
          }
        },
        loc: {
          start: {
            line: 150,
            column: 60
          },
          end: {
            line: 168,
            column: 3
          }
        },
        line: 150
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 174,
            column: 2
          },
          end: {
            line: 174,
            column: 3
          }
        },
        loc: {
          start: {
            line: 180,
            column: 22
          },
          end: {
            line: 260,
            column: 3
          }
        },
        line: 180
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 266,
            column: 2
          },
          end: {
            line: 266,
            column: 3
          }
        },
        loc: {
          start: {
            line: 272,
            column: 5
          },
          end: {
            line: 291,
            column: 3
          }
        },
        line: 272
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 280,
            column: 37
          },
          end: {
            line: 280,
            column: 38
          }
        },
        loc: {
          start: {
            line: 280,
            column: 49
          },
          end: {
            line: 280,
            column: 71
          }
        },
        line: 280
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 281,
            column: 43
          },
          end: {
            line: 281,
            column: 44
          }
        },
        loc: {
          start: {
            line: 281,
            column: 50
          },
          end: {
            line: 281,
            column: 74
          }
        },
        line: 281
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 282,
            column: 42
          },
          end: {
            line: 282,
            column: 43
          }
        },
        loc: {
          start: {
            line: 282,
            column: 49
          },
          end: {
            line: 282,
            column: 72
          }
        },
        line: 282
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 283,
            column: 41
          },
          end: {
            line: 283,
            column: 42
          }
        },
        loc: {
          start: {
            line: 283,
            column: 48
          },
          end: {
            line: 283,
            column: 70
          }
        },
        line: 283
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 297,
            column: 2
          },
          end: {
            line: 297,
            column: 3
          }
        },
        loc: {
          start: {
            line: 297,
            column: 70
          },
          end: {
            line: 320,
            column: 3
          }
        },
        line: 297
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 312,
            column: 26
          },
          end: {
            line: 312,
            column: 27
          }
        },
        loc: {
          start: {
            line: 312,
            column: 34
          },
          end: {
            line: 315,
            column: 7
          }
        },
        line: 312
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 326,
            column: 2
          },
          end: {
            line: 326,
            column: 3
          }
        },
        loc: {
          start: {
            line: 326,
            column: 96
          },
          end: {
            line: 354,
            column: 3
          }
        },
        line: 326
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 9,
            column: 26
          },
          end: {
            line: 9,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 9,
            column: 26
          },
          end: {
            line: 9,
            column: 55
          }
        }, {
          start: {
            line: 9,
            column: 59
          },
          end: {
            line: 9,
            column: 61
          }
        }],
        line: 9
      },
      "1": {
        loc: {
          start: {
            line: 44,
            column: 6
          },
          end: {
            line: 46,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 44,
            column: 6
          },
          end: {
            line: 46,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 44
      },
      "2": {
        loc: {
          start: {
            line: 52,
            column: 6
          },
          end: {
            line: 54,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 52,
            column: 6
          },
          end: {
            line: 54,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 52
      },
      "3": {
        loc: {
          start: {
            line: 60,
            column: 6
          },
          end: {
            line: 62,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 60,
            column: 6
          },
          end: {
            line: 62,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 60
      },
      "4": {
        loc: {
          start: {
            line: 79,
            column: 6
          },
          end: {
            line: 85,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 79,
            column: 6
          },
          end: {
            line: 85,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 79
      },
      "5": {
        loc: {
          start: {
            line: 127,
            column: 6
          },
          end: {
            line: 129,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 127,
            column: 6
          },
          end: {
            line: 129,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 127
      },
      "6": {
        loc: {
          start: {
            line: 156,
            column: 6
          },
          end: {
            line: 158,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 156,
            column: 6
          },
          end: {
            line: 158,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 156
      },
      "7": {
        loc: {
          start: {
            line: 183,
            column: 6
          },
          end: {
            line: 188,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 183,
            column: 6
          },
          end: {
            line: 188,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 183
      },
      "8": {
        loc: {
          start: {
            line: 185,
            column: 8
          },
          end: {
            line: 187,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 185,
            column: 8
          },
          end: {
            line: 187,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 185
      },
      "9": {
        loc: {
          start: {
            line: 195,
            column: 6
          },
          end: {
            line: 197,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 195,
            column: 6
          },
          end: {
            line: 197,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 195
      },
      "10": {
        loc: {
          start: {
            line: 200,
            column: 6
          },
          end: {
            line: 205,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 200,
            column: 6
          },
          end: {
            line: 205,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 200
      },
      "11": {
        loc: {
          start: {
            line: 207,
            column: 6
          },
          end: {
            line: 212,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 207,
            column: 6
          },
          end: {
            line: 212,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 207
      },
      "12": {
        loc: {
          start: {
            line: 214,
            column: 6
          },
          end: {
            line: 216,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 214,
            column: 6
          },
          end: {
            line: 216,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 214
      },
      "13": {
        loc: {
          start: {
            line: 219,
            column: 27
          },
          end: {
            line: 219,
            column: 89
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 219,
            column: 45
          },
          end: {
            line: 219,
            column: 77
          }
        }, {
          start: {
            line: 219,
            column: 80
          },
          end: {
            line: 219,
            column: 89
          }
        }],
        line: 219
      },
      "14": {
        loc: {
          start: {
            line: 223,
            column: 16
          },
          end: {
            line: 223,
            column: 67
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 223,
            column: 17
          },
          end: {
            line: 223,
            column: 39
          }
        }, {
          start: {
            line: 223,
            column: 44
          },
          end: {
            line: 223,
            column: 67
          }
        }],
        line: 223
      },
      "15": {
        loc: {
          start: {
            line: 231,
            column: 6
          },
          end: {
            line: 237,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 231,
            column: 6
          },
          end: {
            line: 237,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 231
      },
      "16": {
        loc: {
          start: {
            line: 249,
            column: 16
          },
          end: {
            line: 249,
            column: 76
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 249,
            column: 32
          },
          end: {
            line: 249,
            column: 51
          }
        }, {
          start: {
            line: 249,
            column: 54
          },
          end: {
            line: 249,
            column: 76
          }
        }],
        line: 249
      },
      "17": {
        loc: {
          start: {
            line: 303,
            column: 6
          },
          end: {
            line: 305,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 303,
            column: 6
          },
          end: {
            line: 305,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 303
      },
      "18": {
        loc: {
          start: {
            line: 332,
            column: 6
          },
          end: {
            line: 334,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 332,
            column: 6
          },
          end: {
            line: 334,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 332
      },
      "19": {
        loc: {
          start: {
            line: 340,
            column: 6
          },
          end: {
            line: 342,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 340,
            column: 6
          },
          end: {
            line: 342,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 340
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "ee45fb538df563f7deacf440cbffcdc49658c2f7"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_6q8qjleqc = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_6q8qjleqc();
import { prisma } from '../index';
import { logger } from '../utils/logger';
import Stripe from 'stripe';
import { NotFoundError, BadRequestError, InternalServerError, BusinessLogicError } from '../utils/errors';
import Joi from 'joi';

// Initialize Stripe
const stripe =
/* istanbul ignore next */
(cov_6q8qjleqc().s[0]++, new Stripe(
/* istanbul ignore next */
(cov_6q8qjleqc().b[0][0]++, process.env.STRIPE_SECRET_KEY) ||
/* istanbul ignore next */
(cov_6q8qjleqc().b[0][1]++, ''), {
  apiVersion: '2023-08-16'
}));

// Validation schemas
const processPaymentSchema =
/* istanbul ignore next */
(cov_6q8qjleqc().s[1]++, Joi.object({
  studentId: Joi.string().required(),
  courseId: Joi.string().required(),
  amount: Joi.number().positive().required(),
  tier: Joi.string().valid('free', 'premium', 'pro').required(),
  period: Joi.string().pattern(/^\d{4}-\d{2}$/).required(),
  // YYYY-MM format
  paymentMethodId: Joi.string().required()
}));
const refundPaymentSchema =
/* istanbul ignore next */
(cov_6q8qjleqc().s[2]++, Joi.object({
  reason: Joi.string().optional(),
  amount: Joi.number().positive().optional()
}));
export class PaymentService {
  /**
   * Process a payment using Stripe
   * Requirements: 1.2, 5.1
   */
  async processPayment(data) {
    /* istanbul ignore next */
    cov_6q8qjleqc().f[0]++;
    cov_6q8qjleqc().s[3]++;
    try {
      // Validate input
      const {
        error,
        value
      } =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[4]++, processPaymentSchema.validate(data));
      /* istanbul ignore next */
      cov_6q8qjleqc().s[5]++;
      if (error) {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[1][0]++;
        cov_6q8qjleqc().s[6]++;
        throw new BadRequestError(error.details[0].message, 'INVALID_PAYMENT_DATA');
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[1][1]++;
      }

      // Verify student exists
      const student =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[7]++, await prisma.user.findUnique({
        where: {
          id: value.studentId
        }
      }));
      /* istanbul ignore next */
      cov_6q8qjleqc().s[8]++;
      if (!student) {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[2][0]++;
        cov_6q8qjleqc().s[9]++;
        throw new NotFoundError('Student', value.studentId);
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[2][1]++;
      }

      // Verify course exists
      const course =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[10]++, await prisma.course.findUnique({
        where: {
          id: value.courseId
        }
      }));
      /* istanbul ignore next */
      cov_6q8qjleqc().s[11]++;
      if (!course) {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[3][0]++;
        cov_6q8qjleqc().s[12]++;
        throw new NotFoundError('Course', value.courseId);
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[3][1]++;
      }

      // Create payment intent with Stripe
      const paymentIntent =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[13]++, await stripe.paymentIntents.create({
        amount: Math.round(value.amount * 100),
        // Convert to cents
        currency: 'usd',
        payment_method: value.paymentMethodId,
        confirm: true,
        metadata: {
          studentId: value.studentId,
          courseId: value.courseId,
          tier: value.tier,
          period: value.period
        }
      }));

      // Check if payment was successful
      /* istanbul ignore next */
      cov_6q8qjleqc().s[14]++;
      if (paymentIntent.status !== 'succeeded') {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[4][0]++;
        cov_6q8qjleqc().s[15]++;
        throw new BusinessLogicError(`Payment failed with status: ${paymentIntent.status}`, 'PAYMENT_FAILED', {
          stripeStatus: paymentIntent.status
        });
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[4][1]++;
      }

      // Record payment in database
      const payment =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[16]++, await prisma.payment.create({
        data: {
          studentId: value.studentId,
          courseId: value.courseId,
          amount: value.amount,
          tier: value.tier,
          period: value.period,
          status: 'completed',
          stripePaymentId: paymentIntent.id
        }
      }));
      /* istanbul ignore next */
      cov_6q8qjleqc().s[17]++;
      logger.info(`Payment processed successfully: ${payment.id}`, {
        studentId: value.studentId,
        courseId: value.courseId,
        amount: value.amount,
        stripePaymentId: paymentIntent.id
      });
      /* istanbul ignore next */
      cov_6q8qjleqc().s[18]++;
      return {
        ...payment,
        amount: Number(payment.amount)
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_6q8qjleqc().s[19]++;
      logger.error('Error processing payment:', error);
      /* istanbul ignore next */
      cov_6q8qjleqc().s[20]++;
      throw error;
    }
  }

  /**
   * Get payments for a student
   * Requirements: 1.2, 5.1
   */
  async getStudentPayments(studentId) {
    /* istanbul ignore next */
    cov_6q8qjleqc().f[1]++;
    cov_6q8qjleqc().s[21]++;
    try {
      // Verify student exists
      const student =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[22]++, await prisma.user.findUnique({
        where: {
          id: studentId
        }
      }));
      /* istanbul ignore next */
      cov_6q8qjleqc().s[23]++;
      if (!student) {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[5][0]++;
        cov_6q8qjleqc().s[24]++;
        throw new NotFoundError('Student', studentId);
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[5][1]++;
      }
      const payments =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[25]++, await prisma.payment.findMany({
        where: {
          studentId
        },
        orderBy: {
          createdAt: 'desc'
        }
      }));
      /* istanbul ignore next */
      cov_6q8qjleqc().s[26]++;
      return payments.map(p => {
        /* istanbul ignore next */
        cov_6q8qjleqc().f[2]++;
        cov_6q8qjleqc().s[27]++;
        return {
          ...p,
          amount: Number(p.amount)
        };
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_6q8qjleqc().s[28]++;
      logger.error('Error fetching student payments:', error);
      /* istanbul ignore next */
      cov_6q8qjleqc().s[29]++;
      throw error;
    }
  }

  /**
   * Get a specific payment by ID
   * Requirements: 1.2, 5.1
   */
  async getPaymentById(paymentId) {
    /* istanbul ignore next */
    cov_6q8qjleqc().f[3]++;
    cov_6q8qjleqc().s[30]++;
    try {
      const payment =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[31]++, await prisma.payment.findUnique({
        where: {
          id: paymentId
        }
      }));
      /* istanbul ignore next */
      cov_6q8qjleqc().s[32]++;
      if (!payment) {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[6][0]++;
        cov_6q8qjleqc().s[33]++;
        throw new NotFoundError('Payment', paymentId);
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[6][1]++;
      }
      cov_6q8qjleqc().s[34]++;
      return {
        ...payment,
        amount: Number(payment.amount)
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_6q8qjleqc().s[35]++;
      logger.error('Error fetching payment:', error);
      /* istanbul ignore next */
      cov_6q8qjleqc().s[36]++;
      throw error;
    }
  }

  /**
   * Refund a payment
   * Requirements: 1.2, 5.1
   */
  async refundPayment(paymentId, options) {
    /* istanbul ignore next */
    cov_6q8qjleqc().f[4]++;
    cov_6q8qjleqc().s[37]++;
    try {
      /* istanbul ignore next */
      cov_6q8qjleqc().s[38]++;
      // Validate input
      if (options) {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[7][0]++;
        const {
          error
        } =
        /* istanbul ignore next */
        (cov_6q8qjleqc().s[39]++, refundPaymentSchema.validate(options));
        /* istanbul ignore next */
        cov_6q8qjleqc().s[40]++;
        if (error) {
          /* istanbul ignore next */
          cov_6q8qjleqc().b[8][0]++;
          cov_6q8qjleqc().s[41]++;
          throw new BadRequestError(error.details[0].message, 'INVALID_REFUND_DATA');
        } else
        /* istanbul ignore next */
        {
          cov_6q8qjleqc().b[8][1]++;
        }
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[7][1]++;
      }

      // Get payment
      const payment =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[42]++, await prisma.payment.findUnique({
        where: {
          id: paymentId
        }
      }));
      /* istanbul ignore next */
      cov_6q8qjleqc().s[43]++;
      if (!payment) {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[9][0]++;
        cov_6q8qjleqc().s[44]++;
        throw new NotFoundError('Payment', paymentId);
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[9][1]++;
      }

      // Check if payment can be refunded
      cov_6q8qjleqc().s[45]++;
      if (payment.status === 'refunded') {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[10][0]++;
        cov_6q8qjleqc().s[46]++;
        throw new BusinessLogicError('Payment has already been refunded', 'PAYMENT_ALREADY_REFUNDED');
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[10][1]++;
      }
      cov_6q8qjleqc().s[47]++;
      if (payment.status === 'pending') {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[11][0]++;
        cov_6q8qjleqc().s[48]++;
        throw new BusinessLogicError('Cannot refund a pending payment', 'CANNOT_REFUND_PENDING');
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[11][1]++;
      }
      cov_6q8qjleqc().s[49]++;
      if (!payment.stripePaymentId) {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[12][0]++;
        cov_6q8qjleqc().s[50]++;
        throw new InternalServerError('Payment has no Stripe ID for refund');
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[12][1]++;
      }

      // Create refund with Stripe
      const refundAmount =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[51]++, options?.amount ?
      /* istanbul ignore next */
      (cov_6q8qjleqc().b[13][0]++, Math.round(options.amount * 100)) :
      /* istanbul ignore next */
      (cov_6q8qjleqc().b[13][1]++, undefined));
      const refund =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[52]++, await stripe.refunds.create({
        payment_intent: payment.stripePaymentId,
        amount: refundAmount,
        reason:
        /* istanbul ignore next */
        (cov_6q8qjleqc().b[14][0]++, options?.reason) ||
        /* istanbul ignore next */
        (cov_6q8qjleqc().b[14][1]++, 'requested_by_customer'),
        metadata: {
          paymentId,
          originalAmount: Number(payment.amount).toString()
        }
      }));

      // Check if refund was successful
      /* istanbul ignore next */
      cov_6q8qjleqc().s[53]++;
      if (refund.status !== 'succeeded') {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[15][0]++;
        cov_6q8qjleqc().s[54]++;
        throw new BusinessLogicError(`Refund failed with status: ${refund.status}`, 'REFUND_FAILED', {
          stripeStatus: refund.status
        });
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[15][1]++;
      }

      // Update payment status
      const updatedPayment =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[55]++, await prisma.payment.update({
        where: {
          id: paymentId
        },
        data: {
          status: 'refunded'
        }
      }));
      /* istanbul ignore next */
      cov_6q8qjleqc().s[56]++;
      logger.info(`Payment refunded successfully: ${paymentId}`, {
        stripeRefundId: refund.id,
        amount: refund.amount ?
        /* istanbul ignore next */
        (cov_6q8qjleqc().b[16][0]++, refund.amount / 100) :
        /* istanbul ignore next */
        (cov_6q8qjleqc().b[16][1]++, Number(payment.amount))
      });
      /* istanbul ignore next */
      cov_6q8qjleqc().s[57]++;
      return {
        ...updatedPayment,
        amount: Number(updatedPayment.amount)
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_6q8qjleqc().s[58]++;
      logger.error('Error refunding payment:', error);
      /* istanbul ignore next */
      cov_6q8qjleqc().s[59]++;
      throw error;
    }
  }

  /**
   * Get payment statistics for a period
   * Requirements: 5.1
   */
  async getPaymentStats(period) {
    /* istanbul ignore next */
    cov_6q8qjleqc().f[5]++;
    cov_6q8qjleqc().s[60]++;
    try {
      const payments =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[61]++, await prisma.payment.findMany({
        where: {
          period
        }
      }));
      const stats =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[62]++, {
        totalPayments: payments.length,
        totalAmount: payments.reduce((sum, p) => {
          /* istanbul ignore next */
          cov_6q8qjleqc().f[6]++;
          cov_6q8qjleqc().s[63]++;
          return sum + Number(p.amount);
        }, 0),
        completedPayments: payments.filter(p => {
          /* istanbul ignore next */
          cov_6q8qjleqc().f[7]++;
          cov_6q8qjleqc().s[64]++;
          return p.status === 'completed';
        }).length,
        refundedPayments: payments.filter(p => {
          /* istanbul ignore next */
          cov_6q8qjleqc().f[8]++;
          cov_6q8qjleqc().s[65]++;
          return p.status === 'refunded';
        }).length,
        pendingPayments: payments.filter(p => {
          /* istanbul ignore next */
          cov_6q8qjleqc().f[9]++;
          cov_6q8qjleqc().s[66]++;
          return p.status === 'pending';
        }).length
      });
      /* istanbul ignore next */
      cov_6q8qjleqc().s[67]++;
      return stats;
    } catch (error) {
      /* istanbul ignore next */
      cov_6q8qjleqc().s[68]++;
      logger.error('Error fetching payment statistics:', error);
      /* istanbul ignore next */
      cov_6q8qjleqc().s[69]++;
      throw error;
    }
  }

  /**
   * Get payment history for a course
   * Requirements: 5.1
   */
  async getCoursePaymentHistory(courseId) {
    /* istanbul ignore next */
    cov_6q8qjleqc().f[10]++;
    cov_6q8qjleqc().s[70]++;
    try {
      // Verify course exists
      const course =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[71]++, await prisma.course.findUnique({
        where: {
          id: courseId
        }
      }));
      /* istanbul ignore next */
      cov_6q8qjleqc().s[72]++;
      if (!course) {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[17][0]++;
        cov_6q8qjleqc().s[73]++;
        throw new NotFoundError('Course', courseId);
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[17][1]++;
      }
      const payments =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[74]++, await prisma.payment.findMany({
        where: {
          courseId
        },
        orderBy: {
          createdAt: 'desc'
        }
      }));
      /* istanbul ignore next */
      cov_6q8qjleqc().s[75]++;
      return payments.map(p => {
        /* istanbul ignore next */
        cov_6q8qjleqc().f[11]++;
        cov_6q8qjleqc().s[76]++;
        return {
          ...p,
          amount: Number(p.amount)
        };
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_6q8qjleqc().s[77]++;
      logger.error('Error fetching course payment history:', error);
      /* istanbul ignore next */
      cov_6q8qjleqc().s[78]++;
      throw error;
    }
  }

  /**
   * Validate payment amount against course pricing
   * Requirements: 1.2, 5.1
   */
  async validatePaymentAmount(courseId, amount, tier) {
    /* istanbul ignore next */
    cov_6q8qjleqc().f[12]++;
    cov_6q8qjleqc().s[79]++;
    try {
      // Get course
      const course =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[80]++, await prisma.course.findUnique({
        where: {
          id: courseId
        }
      }));
      /* istanbul ignore next */
      cov_6q8qjleqc().s[81]++;
      if (!course) {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[18][0]++;
        cov_6q8qjleqc().s[82]++;
        throw new NotFoundError('Course', courseId);
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[18][1]++;
      }

      // Get pricing tier
      const pricingTier =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[83]++, await prisma.pricingTier.findUnique({
        where: {
          name: tier
        }
      }));
      /* istanbul ignore next */
      cov_6q8qjleqc().s[84]++;
      if (!pricingTier) {
        /* istanbul ignore next */
        cov_6q8qjleqc().b[19][0]++;
        cov_6q8qjleqc().s[85]++;
        throw new NotFoundError('Pricing tier', tier);
      } else
      /* istanbul ignore next */
      {
        cov_6q8qjleqc().b[19][1]++;
      }

      // Validate amount is within acceptable range (allow 1% variance for currency conversion)
      const expectedAmount =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[86]++, Number(pricingTier.monthlyPrice));
      const variance =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[87]++, expectedAmount * 0.01);
      const isValid =
      /* istanbul ignore next */
      (cov_6q8qjleqc().s[88]++, Math.abs(amount - expectedAmount) <= variance);
      /* istanbul ignore next */
      cov_6q8qjleqc().s[89]++;
      return isValid;
    } catch (error) {
      /* istanbul ignore next */
      cov_6q8qjleqc().s[90]++;
      logger.error('Error validating payment amount:', error);
      /* istanbul ignore next */
      cov_6q8qjleqc().s[91]++;
      throw error;
    }
  }
}
export const paymentService =
/* istanbul ignore next */
(cov_6q8qjleqc().s[92]++, new PaymentService());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNnE4cWpsZXFjIiwiYWN0dWFsQ292ZXJhZ2UiLCJwcmlzbWEiLCJsb2dnZXIiLCJTdHJpcGUiLCJOb3RGb3VuZEVycm9yIiwiQmFkUmVxdWVzdEVycm9yIiwiSW50ZXJuYWxTZXJ2ZXJFcnJvciIsIkJ1c2luZXNzTG9naWNFcnJvciIsIkpvaSIsInN0cmlwZSIsInMiLCJiIiwicHJvY2VzcyIsImVudiIsIlNUUklQRV9TRUNSRVRfS0VZIiwiYXBpVmVyc2lvbiIsInByb2Nlc3NQYXltZW50U2NoZW1hIiwib2JqZWN0Iiwic3R1ZGVudElkIiwic3RyaW5nIiwicmVxdWlyZWQiLCJjb3Vyc2VJZCIsImFtb3VudCIsIm51bWJlciIsInBvc2l0aXZlIiwidGllciIsInZhbGlkIiwicGVyaW9kIiwicGF0dGVybiIsInBheW1lbnRNZXRob2RJZCIsInJlZnVuZFBheW1lbnRTY2hlbWEiLCJyZWFzb24iLCJvcHRpb25hbCIsIlBheW1lbnRTZXJ2aWNlIiwicHJvY2Vzc1BheW1lbnQiLCJkYXRhIiwiZiIsImVycm9yIiwidmFsdWUiLCJ2YWxpZGF0ZSIsImRldGFpbHMiLCJtZXNzYWdlIiwic3R1ZGVudCIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpZCIsImNvdXJzZSIsInBheW1lbnRJbnRlbnQiLCJwYXltZW50SW50ZW50cyIsImNyZWF0ZSIsIk1hdGgiLCJyb3VuZCIsImN1cnJlbmN5IiwicGF5bWVudF9tZXRob2QiLCJjb25maXJtIiwibWV0YWRhdGEiLCJzdGF0dXMiLCJzdHJpcGVTdGF0dXMiLCJwYXltZW50Iiwic3RyaXBlUGF5bWVudElkIiwiaW5mbyIsIk51bWJlciIsImdldFN0dWRlbnRQYXltZW50cyIsInBheW1lbnRzIiwiZmluZE1hbnkiLCJvcmRlckJ5IiwiY3JlYXRlZEF0IiwibWFwIiwicCIsImdldFBheW1lbnRCeUlkIiwicGF5bWVudElkIiwicmVmdW5kUGF5bWVudCIsIm9wdGlvbnMiLCJyZWZ1bmRBbW91bnQiLCJ1bmRlZmluZWQiLCJyZWZ1bmQiLCJyZWZ1bmRzIiwicGF5bWVudF9pbnRlbnQiLCJvcmlnaW5hbEFtb3VudCIsInRvU3RyaW5nIiwidXBkYXRlZFBheW1lbnQiLCJ1cGRhdGUiLCJzdHJpcGVSZWZ1bmRJZCIsImdldFBheW1lbnRTdGF0cyIsInN0YXRzIiwidG90YWxQYXltZW50cyIsImxlbmd0aCIsInRvdGFsQW1vdW50IiwicmVkdWNlIiwic3VtIiwiY29tcGxldGVkUGF5bWVudHMiLCJmaWx0ZXIiLCJyZWZ1bmRlZFBheW1lbnRzIiwicGVuZGluZ1BheW1lbnRzIiwiZ2V0Q291cnNlUGF5bWVudEhpc3RvcnkiLCJ2YWxpZGF0ZVBheW1lbnRBbW91bnQiLCJwcmljaW5nVGllciIsIm5hbWUiLCJleHBlY3RlZEFtb3VudCIsIm1vbnRobHlQcmljZSIsInZhcmlhbmNlIiwiaXNWYWxpZCIsImFicyIsInBheW1lbnRTZXJ2aWNlIl0sInNvdXJjZXMiOlsicGF5bWVudC5zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByaXNtYSB9IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IFBheW1lbnQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuaW1wb3J0IFN0cmlwZSBmcm9tICdzdHJpcGUnO1xuaW1wb3J0IHsgTm90Rm91bmRFcnJvciwgQmFkUmVxdWVzdEVycm9yLCBJbnRlcm5hbFNlcnZlckVycm9yLCBCdXNpbmVzc0xvZ2ljRXJyb3IgfSBmcm9tICcuLi91dGlscy9lcnJvcnMnO1xuaW1wb3J0IEpvaSBmcm9tICdqb2knO1xuXG4vLyBJbml0aWFsaXplIFN0cmlwZVxuY29uc3Qgc3RyaXBlID0gbmV3IFN0cmlwZShwcm9jZXNzLmVudi5TVFJJUEVfU0VDUkVUX0tFWSB8fCAnJywge1xuICBhcGlWZXJzaW9uOiAnMjAyMy0wOC0xNicsXG59KTtcblxuLy8gVmFsaWRhdGlvbiBzY2hlbWFzXG5jb25zdCBwcm9jZXNzUGF5bWVudFNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBzdHVkZW50SWQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICBjb3Vyc2VJZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIGFtb3VudDogSm9pLm51bWJlcigpLnBvc2l0aXZlKCkucmVxdWlyZWQoKSxcbiAgdGllcjogSm9pLnN0cmluZygpLnZhbGlkKCdmcmVlJywgJ3ByZW1pdW0nLCAncHJvJykucmVxdWlyZWQoKSxcbiAgcGVyaW9kOiBKb2kuc3RyaW5nKCkucGF0dGVybigvXlxcZHs0fS1cXGR7Mn0kLykucmVxdWlyZWQoKSwgLy8gWVlZWS1NTSBmb3JtYXRcbiAgcGF5bWVudE1ldGhvZElkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbn0pO1xuXG5jb25zdCByZWZ1bmRQYXltZW50U2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIHJlYXNvbjogSm9pLnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGFtb3VudDogSm9pLm51bWJlcigpLnBvc2l0aXZlKCkub3B0aW9uYWwoKSxcbn0pO1xuXG5leHBvcnQgY2xhc3MgUGF5bWVudFNlcnZpY2Uge1xuICAvKipcbiAgICogUHJvY2VzcyBhIHBheW1lbnQgdXNpbmcgU3RyaXBlXG4gICAqIFJlcXVpcmVtZW50czogMS4yLCA1LjFcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NQYXltZW50KGRhdGE6IHtcbiAgICBzdHVkZW50SWQ6IHN0cmluZztcbiAgICBjb3Vyc2VJZDogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIHRpZXI6IHN0cmluZztcbiAgICBwZXJpb2Q6IHN0cmluZztcbiAgICBwYXltZW50TWV0aG9kSWQ6IHN0cmluZztcbiAgfSk6IFByb21pc2U8UGF5bWVudD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBWYWxpZGF0ZSBpbnB1dFxuICAgICAgY29uc3QgeyBlcnJvciwgdmFsdWUgfSA9IHByb2Nlc3NQYXltZW50U2NoZW1hLnZhbGlkYXRlKGRhdGEpO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBCYWRSZXF1ZXN0RXJyb3IoZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlLCAnSU5WQUxJRF9QQVlNRU5UX0RBVEEnKTtcbiAgICAgIH1cblxuICAgICAgLy8gVmVyaWZ5IHN0dWRlbnQgZXhpc3RzXG4gICAgICBjb25zdCBzdHVkZW50ID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiB2YWx1ZS5zdHVkZW50SWQgfSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFzdHVkZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEVycm9yKCdTdHVkZW50JywgdmFsdWUuc3R1ZGVudElkKTtcbiAgICAgIH1cblxuICAgICAgLy8gVmVyaWZ5IGNvdXJzZSBleGlzdHNcbiAgICAgIGNvbnN0IGNvdXJzZSA9IGF3YWl0IHByaXNtYS5jb3Vyc2UuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiB2YWx1ZS5jb3Vyc2VJZCB9LFxuICAgICAgfSk7XG4gICAgICBpZiAoIWNvdXJzZSkge1xuICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFcnJvcignQ291cnNlJywgdmFsdWUuY291cnNlSWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgcGF5bWVudCBpbnRlbnQgd2l0aCBTdHJpcGVcbiAgICAgIGNvbnN0IHBheW1lbnRJbnRlbnQgPSBhd2FpdCBzdHJpcGUucGF5bWVudEludGVudHMuY3JlYXRlKHtcbiAgICAgICAgYW1vdW50OiBNYXRoLnJvdW5kKHZhbHVlLmFtb3VudCAqIDEwMCksIC8vIENvbnZlcnQgdG8gY2VudHNcbiAgICAgICAgY3VycmVuY3k6ICd1c2QnLFxuICAgICAgICBwYXltZW50X21ldGhvZDogdmFsdWUucGF5bWVudE1ldGhvZElkLFxuICAgICAgICBjb25maXJtOiB0cnVlLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIHN0dWRlbnRJZDogdmFsdWUuc3R1ZGVudElkLFxuICAgICAgICAgIGNvdXJzZUlkOiB2YWx1ZS5jb3Vyc2VJZCxcbiAgICAgICAgICB0aWVyOiB2YWx1ZS50aWVyLFxuICAgICAgICAgIHBlcmlvZDogdmFsdWUucGVyaW9kLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENoZWNrIGlmIHBheW1lbnQgd2FzIHN1Y2Nlc3NmdWxcbiAgICAgIGlmIChwYXltZW50SW50ZW50LnN0YXR1cyAhPT0gJ3N1Y2NlZWRlZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEJ1c2luZXNzTG9naWNFcnJvcihcbiAgICAgICAgICBgUGF5bWVudCBmYWlsZWQgd2l0aCBzdGF0dXM6ICR7cGF5bWVudEludGVudC5zdGF0dXN9YCxcbiAgICAgICAgICAnUEFZTUVOVF9GQUlMRUQnLFxuICAgICAgICAgIHsgc3RyaXBlU3RhdHVzOiBwYXltZW50SW50ZW50LnN0YXR1cyB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlY29yZCBwYXltZW50IGluIGRhdGFiYXNlXG4gICAgICBjb25zdCBwYXltZW50ID0gYXdhaXQgcHJpc21hLnBheW1lbnQuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHN0dWRlbnRJZDogdmFsdWUuc3R1ZGVudElkLFxuICAgICAgICAgIGNvdXJzZUlkOiB2YWx1ZS5jb3Vyc2VJZCxcbiAgICAgICAgICBhbW91bnQ6IHZhbHVlLmFtb3VudCxcbiAgICAgICAgICB0aWVyOiB2YWx1ZS50aWVyLFxuICAgICAgICAgIHBlcmlvZDogdmFsdWUucGVyaW9kLFxuICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgc3RyaXBlUGF5bWVudElkOiBwYXltZW50SW50ZW50LmlkLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGxvZ2dlci5pbmZvKGBQYXltZW50IHByb2Nlc3NlZCBzdWNjZXNzZnVsbHk6ICR7cGF5bWVudC5pZH1gLCB7XG4gICAgICAgIHN0dWRlbnRJZDogdmFsdWUuc3R1ZGVudElkLFxuICAgICAgICBjb3Vyc2VJZDogdmFsdWUuY291cnNlSWQsXG4gICAgICAgIGFtb3VudDogdmFsdWUuYW1vdW50LFxuICAgICAgICBzdHJpcGVQYXltZW50SWQ6IHBheW1lbnRJbnRlbnQuaWQsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucGF5bWVudCxcbiAgICAgICAgYW1vdW50OiBOdW1iZXIocGF5bWVudC5hbW91bnQpLFxuICAgICAgfSBhcyBQYXltZW50O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgcGF5bWVudDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHBheW1lbnRzIGZvciBhIHN0dWRlbnRcbiAgICogUmVxdWlyZW1lbnRzOiAxLjIsIDUuMVxuICAgKi9cbiAgYXN5bmMgZ2V0U3R1ZGVudFBheW1lbnRzKHN0dWRlbnRJZDogc3RyaW5nKTogUHJvbWlzZTxQYXltZW50W10+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVmVyaWZ5IHN0dWRlbnQgZXhpc3RzXG4gICAgICBjb25zdCBzdHVkZW50ID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBzdHVkZW50SWQgfSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFzdHVkZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEVycm9yKCdTdHVkZW50Jywgc3R1ZGVudElkKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGF5bWVudHMgPSBhd2FpdCBwcmlzbWEucGF5bWVudC5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IHN0dWRlbnRJZCB9LFxuICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHBheW1lbnRzLm1hcCgocCkgPT4gKHtcbiAgICAgICAgLi4ucCxcbiAgICAgICAgYW1vdW50OiBOdW1iZXIocC5hbW91bnQpLFxuICAgICAgfSkpIGFzIFBheW1lbnRbXTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBmZXRjaGluZyBzdHVkZW50IHBheW1lbnRzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBzcGVjaWZpYyBwYXltZW50IGJ5IElEXG4gICAqIFJlcXVpcmVtZW50czogMS4yLCA1LjFcbiAgICovXG4gIGFzeW5jIGdldFBheW1lbnRCeUlkKHBheW1lbnRJZDogc3RyaW5nKTogUHJvbWlzZTxQYXltZW50PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBheW1lbnQgPSBhd2FpdCBwcmlzbWEucGF5bWVudC5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHBheW1lbnRJZCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcGF5bWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFcnJvcignUGF5bWVudCcsIHBheW1lbnRJZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnBheW1lbnQsXG4gICAgICAgIGFtb3VudDogTnVtYmVyKHBheW1lbnQuYW1vdW50KSxcbiAgICAgIH0gYXMgUGF5bWVudDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBmZXRjaGluZyBwYXltZW50OicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZ1bmQgYSBwYXltZW50XG4gICAqIFJlcXVpcmVtZW50czogMS4yLCA1LjFcbiAgICovXG4gIGFzeW5jIHJlZnVuZFBheW1lbnQoXG4gICAgcGF5bWVudElkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IHtcbiAgICAgIHJlYXNvbj86IHN0cmluZztcbiAgICAgIGFtb3VudD86IG51bWJlcjtcbiAgICB9XG4gICk6IFByb21pc2U8UGF5bWVudD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBWYWxpZGF0ZSBpbnB1dFxuICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gcmVmdW5kUGF5bWVudFNjaGVtYS52YWxpZGF0ZShvcHRpb25zKTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEJhZFJlcXVlc3RFcnJvcihlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UsICdJTlZBTElEX1JFRlVORF9EQVRBJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHBheW1lbnRcbiAgICAgIGNvbnN0IHBheW1lbnQgPSBhd2FpdCBwcmlzbWEucGF5bWVudC5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHBheW1lbnRJZCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcGF5bWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFcnJvcignUGF5bWVudCcsIHBheW1lbnRJZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGlmIHBheW1lbnQgY2FuIGJlIHJlZnVuZGVkXG4gICAgICBpZiAocGF5bWVudC5zdGF0dXMgPT09ICdyZWZ1bmRlZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEJ1c2luZXNzTG9naWNFcnJvcihcbiAgICAgICAgICAnUGF5bWVudCBoYXMgYWxyZWFkeSBiZWVuIHJlZnVuZGVkJyxcbiAgICAgICAgICAnUEFZTUVOVF9BTFJFQURZX1JFRlVOREVEJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAocGF5bWVudC5zdGF0dXMgPT09ICdwZW5kaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgQnVzaW5lc3NMb2dpY0Vycm9yKFxuICAgICAgICAgICdDYW5ub3QgcmVmdW5kIGEgcGVuZGluZyBwYXltZW50JyxcbiAgICAgICAgICAnQ0FOTk9UX1JFRlVORF9QRU5ESU5HJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXBheW1lbnQuc3RyaXBlUGF5bWVudElkKSB7XG4gICAgICAgIHRocm93IG5ldyBJbnRlcm5hbFNlcnZlckVycm9yKCdQYXltZW50IGhhcyBubyBTdHJpcGUgSUQgZm9yIHJlZnVuZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgcmVmdW5kIHdpdGggU3RyaXBlXG4gICAgICBjb25zdCByZWZ1bmRBbW91bnQgPSBvcHRpb25zPy5hbW91bnQgPyBNYXRoLnJvdW5kKG9wdGlvbnMuYW1vdW50ICogMTAwKSA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IHJlZnVuZCA9IGF3YWl0IHN0cmlwZS5yZWZ1bmRzLmNyZWF0ZSh7XG4gICAgICAgIHBheW1lbnRfaW50ZW50OiBwYXltZW50LnN0cmlwZVBheW1lbnRJZCxcbiAgICAgICAgYW1vdW50OiByZWZ1bmRBbW91bnQsXG4gICAgICAgIHJlYXNvbjogKG9wdGlvbnM/LnJlYXNvbiBhcyBhbnkpIHx8ICdyZXF1ZXN0ZWRfYnlfY3VzdG9tZXInLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIHBheW1lbnRJZCxcbiAgICAgICAgICBvcmlnaW5hbEFtb3VudDogTnVtYmVyKHBheW1lbnQuYW1vdW50KS50b1N0cmluZygpLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENoZWNrIGlmIHJlZnVuZCB3YXMgc3VjY2Vzc2Z1bFxuICAgICAgaWYgKHJlZnVuZC5zdGF0dXMgIT09ICdzdWNjZWVkZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBCdXNpbmVzc0xvZ2ljRXJyb3IoXG4gICAgICAgICAgYFJlZnVuZCBmYWlsZWQgd2l0aCBzdGF0dXM6ICR7cmVmdW5kLnN0YXR1c31gLFxuICAgICAgICAgICdSRUZVTkRfRkFJTEVEJyxcbiAgICAgICAgICB7IHN0cmlwZVN0YXR1czogcmVmdW5kLnN0YXR1cyB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBwYXltZW50IHN0YXR1c1xuICAgICAgY29uc3QgdXBkYXRlZFBheW1lbnQgPSBhd2FpdCBwcmlzbWEucGF5bWVudC51cGRhdGUoe1xuICAgICAgICB3aGVyZTogeyBpZDogcGF5bWVudElkIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzdGF0dXM6ICdyZWZ1bmRlZCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgbG9nZ2VyLmluZm8oYFBheW1lbnQgcmVmdW5kZWQgc3VjY2Vzc2Z1bGx5OiAke3BheW1lbnRJZH1gLCB7XG4gICAgICAgIHN0cmlwZVJlZnVuZElkOiByZWZ1bmQuaWQsXG4gICAgICAgIGFtb3VudDogcmVmdW5kLmFtb3VudCA/IHJlZnVuZC5hbW91bnQgLyAxMDAgOiBOdW1iZXIocGF5bWVudC5hbW91bnQpLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnVwZGF0ZWRQYXltZW50LFxuICAgICAgICBhbW91bnQ6IE51bWJlcih1cGRhdGVkUGF5bWVudC5hbW91bnQpLFxuICAgICAgfSBhcyBQYXltZW50O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIHJlZnVuZGluZyBwYXltZW50OicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcGF5bWVudCBzdGF0aXN0aWNzIGZvciBhIHBlcmlvZFxuICAgKiBSZXF1aXJlbWVudHM6IDUuMVxuICAgKi9cbiAgYXN5bmMgZ2V0UGF5bWVudFN0YXRzKHBlcmlvZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgdG90YWxQYXltZW50czogbnVtYmVyO1xuICAgIHRvdGFsQW1vdW50OiBudW1iZXI7XG4gICAgY29tcGxldGVkUGF5bWVudHM6IG51bWJlcjtcbiAgICByZWZ1bmRlZFBheW1lbnRzOiBudW1iZXI7XG4gICAgcGVuZGluZ1BheW1lbnRzOiBudW1iZXI7XG4gIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF5bWVudHMgPSBhd2FpdCBwcmlzbWEucGF5bWVudC5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IHBlcmlvZCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHN0YXRzID0ge1xuICAgICAgICB0b3RhbFBheW1lbnRzOiBwYXltZW50cy5sZW5ndGgsXG4gICAgICAgIHRvdGFsQW1vdW50OiBwYXltZW50cy5yZWR1Y2UoKHN1bSwgcCkgPT4gc3VtICsgTnVtYmVyKHAuYW1vdW50KSwgMCksXG4gICAgICAgIGNvbXBsZXRlZFBheW1lbnRzOiBwYXltZW50cy5maWx0ZXIoKHApID0+IHAuc3RhdHVzID09PSAnY29tcGxldGVkJykubGVuZ3RoLFxuICAgICAgICByZWZ1bmRlZFBheW1lbnRzOiBwYXltZW50cy5maWx0ZXIoKHApID0+IHAuc3RhdHVzID09PSAncmVmdW5kZWQnKS5sZW5ndGgsXG4gICAgICAgIHBlbmRpbmdQYXltZW50czogcGF5bWVudHMuZmlsdGVyKChwKSA9PiBwLnN0YXR1cyA9PT0gJ3BlbmRpbmcnKS5sZW5ndGgsXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gc3RhdHM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcGF5bWVudCBzdGF0aXN0aWNzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcGF5bWVudCBoaXN0b3J5IGZvciBhIGNvdXJzZVxuICAgKiBSZXF1aXJlbWVudHM6IDUuMVxuICAgKi9cbiAgYXN5bmMgZ2V0Q291cnNlUGF5bWVudEhpc3RvcnkoY291cnNlSWQ6IHN0cmluZyk6IFByb21pc2U8UGF5bWVudFtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFZlcmlmeSBjb3Vyc2UgZXhpc3RzXG4gICAgICBjb25zdCBjb3Vyc2UgPSBhd2FpdCBwcmlzbWEuY291cnNlLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBpZDogY291cnNlSWQgfSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFjb3Vyc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoJ0NvdXJzZScsIGNvdXJzZUlkKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGF5bWVudHMgPSBhd2FpdCBwcmlzbWEucGF5bWVudC5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IGNvdXJzZUlkIH0sXG4gICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcGF5bWVudHMubWFwKChwKSA9PiAoe1xuICAgICAgICAuLi5wLFxuICAgICAgICBhbW91bnQ6IE51bWJlcihwLmFtb3VudCksXG4gICAgICB9KSkgYXMgUGF5bWVudFtdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNvdXJzZSBwYXltZW50IGhpc3Rvcnk6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIHBheW1lbnQgYW1vdW50IGFnYWluc3QgY291cnNlIHByaWNpbmdcbiAgICogUmVxdWlyZW1lbnRzOiAxLjIsIDUuMVxuICAgKi9cbiAgYXN5bmMgdmFsaWRhdGVQYXltZW50QW1vdW50KGNvdXJzZUlkOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyLCB0aWVyOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGNvdXJzZVxuICAgICAgY29uc3QgY291cnNlID0gYXdhaXQgcHJpc21hLmNvdXJzZS5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGNvdXJzZUlkIH0sXG4gICAgICB9KTtcbiAgICAgIGlmICghY291cnNlKSB7XG4gICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEVycm9yKCdDb3Vyc2UnLCBjb3Vyc2VJZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCBwcmljaW5nIHRpZXJcbiAgICAgIGNvbnN0IHByaWNpbmdUaWVyID0gYXdhaXQgcHJpc21hLnByaWNpbmdUaWVyLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBuYW1lOiB0aWVyIH0sXG4gICAgICB9KTtcbiAgICAgIGlmICghcHJpY2luZ1RpZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoJ1ByaWNpbmcgdGllcicsIHRpZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBWYWxpZGF0ZSBhbW91bnQgaXMgd2l0aGluIGFjY2VwdGFibGUgcmFuZ2UgKGFsbG93IDElIHZhcmlhbmNlIGZvciBjdXJyZW5jeSBjb252ZXJzaW9uKVxuICAgICAgY29uc3QgZXhwZWN0ZWRBbW91bnQgPSBOdW1iZXIocHJpY2luZ1RpZXIubW9udGhseVByaWNlKTtcbiAgICAgIGNvbnN0IHZhcmlhbmNlID0gZXhwZWN0ZWRBbW91bnQgKiAwLjAxO1xuICAgICAgY29uc3QgaXNWYWxpZCA9IE1hdGguYWJzKGFtb3VudCAtIGV4cGVjdGVkQW1vdW50KSA8PSB2YXJpYW5jZTtcblxuICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgdmFsaWRhdGluZyBwYXltZW50IGFtb3VudDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHBheW1lbnRTZXJ2aWNlID0gbmV3IFBheW1lbnRTZXJ2aWNlKCk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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