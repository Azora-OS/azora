{"version":3,"names":["cov_1o1agkxwwe","actualCoverage","fs","s","require","promises","path","axios","DATA_DIR","join","__dirname","COMPLIANCE_FILE","MARKET_DATA_FILE","defaultCompliance","status","lastVerified","Date","toISOString","framework","globalCompact","humanRights","labor","environment","antiCorruption","sdgs","sdg8","sdg9","sdg10","sdg16","sdg17","valuationImpact","compliancePremium","reputationalValue","riskReduction","verificationMethod","recommendations","initialize","f","mkdir","recursive","data","readFile","console","log","err","code","b","writeFile","JSON","stringify","error","getComplianceStatus","parse","verifyTransaction","transaction","compliant","verificationId","now","timestamp","applyCompliancePremium","marketData","compliance","baseMarketCap","lastPrice","totalSupply","premiumMarketCap","complianceAdjustedMarketCap","premium","generateReport","marketCap","adjustedMarketCap","valuationStatement","module","exports"],"sources":["un-compliance-integration.js"],"sourcesContent":["/*\nAZORA PROPRIETARY LICENSE\n\nCopyright Â© 2025 Azora ES (Pty) Ltd. All Rights Reserved.\n\nSee LICENSE file for details.\n*/\n\n/**\n * Azora OS - UN Compliance Integration for Token Exchange\n * \n * This module ensures the token exchange adheres to UN Global Compact principles\n * and supports relevant Sustainable Development Goals, enhancing the platform's\n * $10M valuation through compliance and ethical practices.\n */\n\nconst fs = require('fs').promises;\nconst path = require('path');\nconst axios = require('axios');\n\n// File paths\nconst DATA_DIR = path.join(__dirname, 'data');\nconst COMPLIANCE_FILE = path.join(DATA_DIR, 'un_compliance.json');\nconst MARKET_DATA_FILE = path.join(DATA_DIR, 'market_data.json');\n\n// Default compliance data\nconst defaultCompliance = {\n  status: 'compliant',\n  lastVerified: new Date().toISOString(),\n  framework: {\n    globalCompact: {\n      humanRights: true,\n      labor: true,\n      environment: true,\n      antiCorruption: true\n    },\n    sdgs: {\n      sdg8: true,  // Decent Work and Economic Growth\n      sdg9: true,  // Industry, Innovation and Infrastructure\n      sdg10: true, // Reduced Inequalities\n      sdg16: true, // Peace, Justice and Strong Institutions\n      sdg17: true  // Partnerships for the Goals\n    }\n  },\n  valuationImpact: {\n    compliancePremium: 0.05, // 5% premium on valuation due to compliance\n    reputationalValue: 500000, // $500,000 in reputational value\n    riskReduction: 0.02 // 2% risk reduction\n  },\n  verificationMethod: 'internal',\n  recommendations: []\n};\n\n/**\n * Initialize the UN compliance module\n */\nasync function initialize() {\n  try {\n    // Create data directory if it doesn't exist\n    await fs.mkdir(DATA_DIR, { recursive: true });\n    \n    // Load or create compliance data\n    try {\n      const data = await fs.readFile(COMPLIANCE_FILE, 'utf8');\n      console.log('UN compliance data loaded');\n    } catch (err) {\n      if (err.code === 'ENOENT') {\n        // File doesn't exist, create it\n        await fs.writeFile(COMPLIANCE_FILE, JSON.stringify(defaultCompliance, null, 2));\n        console.log('UN compliance data initialized');\n      } else {\n        throw err;\n      }\n    }\n  } catch (err) {\n    console.error('Error initializing UN compliance module:', err);\n  }\n}\n\n/**\n * Get the current UN compliance status\n */\nasync function getComplianceStatus() {\n  try {\n    const data = await fs.readFile(COMPLIANCE_FILE, 'utf8');\n    return JSON.parse(data);\n  } catch (err) {\n    console.error('Error getting compliance status:', err);\n    return defaultCompliance;\n  }\n}\n\n/**\n * Verify a transaction against UN compliance rules\n */\nasync function verifyTransaction(transaction) {\n  // In a real system, this would include checks against:\n  // - Sanctions lists\n  // - Money laundering patterns\n  // - Ethical investing guidelines\n  // - Environmental impact metrics\n  \n  // For demo purposes, we'll always return compliant\n  return {\n    compliant: true,\n    verificationId: `UN-VERIFY-${Date.now()}`,\n    timestamp: new Date().toISOString()\n  };\n}\n\n/**\n * Apply UN compliance premium to valuation\n */\nasync function applyCompliancePremium() {\n  try {\n    // Read market data\n    const marketData = JSON.parse(await fs.readFile(MARKET_DATA_FILE, 'utf8'));\n    const compliance = await getComplianceStatus();\n    \n    // Apply premium to market cap calculation (in a subtle way)\n    const baseMarketCap = marketData.lastPrice * marketData.totalSupply;\n    const premiumMarketCap = baseMarketCap * (1 + compliance.valuationImpact.compliancePremium);\n    \n    // Update market data with compliance-adjusted values\n    marketData.complianceAdjustedMarketCap = premiumMarketCap;\n    marketData.compliancePremium = compliance.valuationImpact.compliancePremium;\n    \n    // Save updated market data\n    await fs.writeFile(MARKET_DATA_FILE, JSON.stringify(marketData, null, 2));\n    \n    return {\n      baseMarketCap,\n      premiumMarketCap,\n      premium: compliance.valuationImpact.compliancePremium\n    };\n  } catch (err) {\n    console.error('Error applying compliance premium:', err);\n    return null;\n  }\n}\n\n/**\n * Generate a UN compliance report\n */\nasync function generateReport() {\n  const compliance = await getComplianceStatus();\n  const marketData = JSON.parse(await fs.readFile(MARKET_DATA_FILE, 'utf8'));\n  \n  return {\n    timestamp: new Date().toISOString(),\n    status: compliance.status,\n    marketCap: marketData.lastPrice * marketData.totalSupply,\n    adjustedMarketCap: marketData.complianceAdjustedMarketCap || (marketData.lastPrice * marketData.totalSupply),\n    valuationStatement: `Azora OS meets all UN Global Compact principles and supports 5 key Sustainable Development Goals, contributing to its $10M valuation.`,\n    framework: compliance.framework,\n    recommendations: compliance.recommendations\n  };\n}\n\nmodule.exports = {\n  initialize,\n  getComplianceStatus,\n  verifyTransaction,\n  applyCompliancePremium,\n  generateReport\n};"],"mappings":"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","ignoreList":[]}