{"version":3,"names":["cov_15cttx1967","actualCoverage","s","validate","schema","f","req","res","next","parseAsync","body","query","params","error","status","json","details","errors"],"sources":["validation.ts"],"sourcesContent":["import { z } from 'zod';\nimport { Request, Response, NextFunction } from 'express';\n\nexport const validate = (schema: z.ZodSchema) => {\n  return async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      await schema.parseAsync({\n        body: req.body,\n        query: req.query,\n        params: req.params,\n      });\n      next();\n    } catch (error: any) {\n      res.status(400).json({\n        error: 'Validation failed',\n        details: error.errors,\n      });\n    }\n  };\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;AAZZ,OAAO,MAAMC,QAAQ,GAAIC,MAAmB,IAAK;EAAA;EAAAJ,cAAA,GAAAK,CAAA;EAAAL,cAAA,GAAAE,CAAA;EAC/C,OAAO,OAAOI,GAAY,EAAEC,GAAa,EAAEC,IAAkB,KAAK;IAAA;IAAAR,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAE,CAAA;IAChE,IAAI;MAAA;MAAAF,cAAA,GAAAE,CAAA;MACF,MAAME,MAAM,CAACK,UAAU,CAAC;QACtBC,IAAI,EAAEJ,GAAG,CAACI,IAAI;QACdC,KAAK,EAAEL,GAAG,CAACK,KAAK;QAChBC,MAAM,EAAEN,GAAG,CAACM;MACd,CAAC,CAAC;MAAC;MAAAZ,cAAA,GAAAE,CAAA;MACHM,IAAI,CAAC,CAAC;IACR,CAAC,CAAC,OAAOK,KAAU,EAAE;MAAA;MAAAb,cAAA,GAAAE,CAAA;MACnBK,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBF,KAAK,EAAE,mBAAmB;QAC1BG,OAAO,EAAEH,KAAK,CAACI;MACjB,CAAC,CAAC;IACJ;EACF,CAAC;AACH,CAAC","ignoreList":[]}