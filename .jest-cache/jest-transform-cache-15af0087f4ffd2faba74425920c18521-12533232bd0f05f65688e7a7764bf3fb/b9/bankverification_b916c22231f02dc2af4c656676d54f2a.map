{"version":3,"names":["cov_2i26w2h4po","actualCoverage","v4","uuidv4","bankAccounts","s","Map","userBankAccounts","validateBankAccount","account","f","errors","warnings","b","accountHolderName","trim","length","push","accountNumber","test","routingNumber","bankName","accountType","includes","valid","registerBankAccount","userId","accountData","validation","Error","join","existing","getUserBankAccounts","find","a","bankAccount","id","verified","verificationStatus","createdAt","Date","updatedAt","set","has","get","getBankAccount","accountId","getVerifiedBankAccounts","filter","verifyBankAccount","microDepositAmounts","isValid","lastVerifiedAt","removeBankAccount","userAccounts","index","findIndex","splice","delete","maskAccountNumber","repeat","slice","getBankAccountSummary","validateRoutingNumber","knownBanks","getBankAccountStats","accounts","totalAccounts","verifiedAccounts","pendingAccounts","failedAccounts","checkingAccounts","savingsAccounts"],"sources":["bank-verification.ts"],"sourcesContent":["/**\n * Bank Verification Service\n * Verifies bank accounts and validates banking information\n */\n\nimport { v4 as uuidv4 } from 'uuid';\n\nexport interface BankAccount {\n  id: string;\n  userId: string;\n  accountHolderName: string;\n  accountNumber: string;\n  routingNumber: string;\n  bankName: string;\n  accountType: 'checking' | 'savings';\n  verified: boolean;\n  verificationStatus: 'pending' | 'verified' | 'failed';\n  createdAt: Date;\n  updatedAt: Date;\n  lastVerifiedAt?: Date;\n}\n\nexport interface VerificationResult {\n  valid: boolean;\n  errors: string[];\n  warnings: string[];\n}\n\n/**\n * In-memory bank account storage (use database in production)\n */\nconst bankAccounts = new Map<string, BankAccount>();\nconst userBankAccounts = new Map<string, BankAccount[]>();\n\n/**\n * Validate bank account format\n */\nexport function validateBankAccount(account: Partial<BankAccount>): VerificationResult {\n  const errors: string[] = [];\n  const warnings: string[] = [];\n\n  // Validate account holder name\n  if (!account.accountHolderName || account.accountHolderName.trim().length < 2) {\n    errors.push('Account holder name must be at least 2 characters');\n  }\n\n  // Validate account number (US: 8-17 digits)\n  if (!account.accountNumber || !/^\\d{8,17}$/.test(account.accountNumber)) {\n    errors.push('Account number must be 8-17 digits');\n  }\n\n  // Validate routing number (US: 9 digits)\n  if (!account.routingNumber || !/^\\d{9}$/.test(account.routingNumber)) {\n    errors.push('Routing number must be 9 digits');\n  }\n\n  // Validate bank name\n  if (!account.bankName || account.bankName.trim().length < 2) {\n    errors.push('Bank name is required');\n  }\n\n  // Validate account type\n  if (!account.accountType || !['checking', 'savings'].includes(account.accountType)) {\n    errors.push('Account type must be checking or savings');\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors,\n    warnings,\n  };\n}\n\n/**\n * Register a bank account\n */\nexport async function registerBankAccount(\n  userId: string,\n  accountData: Omit<BankAccount, 'id' | 'userId' | 'verified' | 'verificationStatus' | 'createdAt' | 'updatedAt' | 'lastVerifiedAt'>\n): Promise<BankAccount> {\n  // Validate account\n  const validation = validateBankAccount(accountData);\n  if (!validation.valid) {\n    throw new Error(`Bank account validation failed: ${validation.errors.join(', ')}`);\n  }\n\n  // Check if account already exists\n  const existing = getUserBankAccounts(userId).find(\n    (a) => a.accountNumber === accountData.accountNumber && a.routingNumber === accountData.routingNumber\n  );\n\n  if (existing) {\n    throw new Error('This bank account is already registered');\n  }\n\n  // Create bank account\n  const bankAccount: BankAccount = {\n    id: uuidv4(),\n    userId,\n    accountHolderName: accountData.accountHolderName,\n    accountNumber: accountData.accountNumber,\n    routingNumber: accountData.routingNumber,\n    bankName: accountData.bankName,\n    accountType: accountData.accountType,\n    verified: false,\n    verificationStatus: 'pending',\n    createdAt: new Date(),\n    updatedAt: new Date(),\n  };\n\n  bankAccounts.set(bankAccount.id, bankAccount);\n\n  // Add to user's accounts\n  if (!userBankAccounts.has(userId)) {\n    userBankAccounts.set(userId, []);\n  }\n  userBankAccounts.get(userId)!.push(bankAccount);\n\n  return bankAccount;\n}\n\n/**\n * Get bank account by ID\n */\nexport function getBankAccount(accountId: string): BankAccount | null {\n  return bankAccounts.get(accountId) || null;\n}\n\n/**\n * Get user's bank accounts\n */\nexport function getUserBankAccounts(userId: string): BankAccount[] {\n  return userBankAccounts.get(userId) || [];\n}\n\n/**\n * Get verified bank accounts for a user\n */\nexport function getVerifiedBankAccounts(userId: string): BankAccount[] {\n  return getUserBankAccounts(userId).filter((a) => a.verified);\n}\n\n/**\n * Verify bank account (micro-deposit verification)\n */\nexport async function verifyBankAccount(\n  accountId: string,\n  microDepositAmounts: [number, number]\n): Promise<BankAccount> {\n  const account = getBankAccount(accountId);\n  if (!account) {\n    throw new Error('Bank account not found');\n  }\n\n  if (account.verified) {\n    throw new Error('Bank account is already verified');\n  }\n\n  // In production, verify against actual micro-deposits\n  // For now, simulate verification\n  const isValid = microDepositAmounts[0] > 0 && microDepositAmounts[1] > 0;\n\n  if (!isValid) {\n    account.verificationStatus = 'failed';\n    account.updatedAt = new Date();\n    return account;\n  }\n\n  account.verified = true;\n  account.verificationStatus = 'verified';\n  account.lastVerifiedAt = new Date();\n  account.updatedAt = new Date();\n\n  return account;\n}\n\n/**\n * Remove a bank account\n */\nexport async function removeBankAccount(accountId: string): Promise<boolean> {\n  const account = getBankAccount(accountId);\n  if (!account) {\n    throw new Error('Bank account not found');\n  }\n\n  // Remove from user's accounts\n  const userAccounts = userBankAccounts.get(account.userId);\n  if (userAccounts) {\n    const index = userAccounts.findIndex((a) => a.id === accountId);\n    if (index > -1) {\n      userAccounts.splice(index, 1);\n    }\n  }\n\n  // Remove from main storage\n  bankAccounts.delete(accountId);\n\n  return true;\n}\n\n/**\n * Mask bank account number for display\n */\nexport function maskAccountNumber(accountNumber: string): string {\n  if (accountNumber.length < 4) {return '****';}\n  return '*'.repeat(accountNumber.length - 4) + accountNumber.slice(-4);\n}\n\n/**\n * Get bank account summary\n */\nexport function getBankAccountSummary(account: BankAccount) {\n  return {\n    id: account.id,\n    accountHolderName: account.accountHolderName,\n    accountNumber: maskAccountNumber(account.accountNumber),\n    bankName: account.bankName,\n    accountType: account.accountType,\n    verified: account.verified,\n    verificationStatus: account.verificationStatus,\n    createdAt: account.createdAt,\n    lastVerifiedAt: account.lastVerifiedAt,\n  };\n}\n\n/**\n * Validate routing number against known banks\n */\nexport async function validateRoutingNumber(routingNumber: string): Promise<{\n  valid: boolean;\n  bankName?: string;\n}> {\n  // In production, check against Federal Reserve routing number database\n  // For now, just validate format\n  if (!/^\\d{9}$/.test(routingNumber)) {\n    return { valid: false };\n  }\n\n  // Simulate bank lookup\n  const knownBanks: Record<string, string> = {\n    '021000021': 'Chase Bank',\n    '011000015': 'Bank of America',\n    '026009593': 'Wells Fargo',\n    '031000503': 'Citibank',\n  };\n\n  return {\n    valid: true,\n    bankName: knownBanks[routingNumber],\n  };\n}\n\n/**\n * Get bank account statistics\n */\nexport function getBankAccountStats(userId: string) {\n  const accounts = getUserBankAccounts(userId);\n\n  return {\n    totalAccounts: accounts.length,\n    verifiedAccounts: accounts.filter((a) => a.verified).length,\n    pendingAccounts: accounts.filter((a) => a.verificationStatus === 'pending').length,\n    failedAccounts: accounts.filter((a) => a.verificationStatus === 'failed').length,\n    checkingAccounts: accounts.filter((a) => a.accountType === 'checking').length,\n    savingsAccounts: accounts.filter((a) => a.accountType === 'savings').length,\n  };\n}\n\nexport default {\n  validateBankAccount,\n  registerBankAccount,\n  getBankAccount,\n  getUserBankAccounts,\n  getVerifiedBankAccounts,\n  verifyBankAccount,\n  removeBankAccount,\n  maskAccountNumber,\n  getBankAccountSummary,\n  validateRoutingNumber,\n  getBankAccountStats,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}