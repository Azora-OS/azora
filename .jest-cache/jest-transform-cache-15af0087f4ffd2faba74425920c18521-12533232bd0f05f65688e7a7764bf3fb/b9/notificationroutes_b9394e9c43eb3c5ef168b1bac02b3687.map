{"version":3,"names":["cov_q9qyx1kyp","actualCoverage","Router","NotificationService","ElaraLogger","router","s","service","logger","post","req","res","f","userId","email","type","name","body","result","b","sendWelcomeEmail","sendOnboardingCompleteEmail","sendContractReadyEmail","json","success","data","error","status","message","Error","get","params","getUserNotifications"],"sources":["notification.routes.ts"],"sourcesContent":["/**\n * Notification Routes\n */\n\nimport { Router, Request, Response } from 'express';\nimport { NotificationService } from '../services/notification.service';\nimport { ElaraLogger } from '../utils/logger';\n\nconst router = Router();\nconst service = new NotificationService();\nconst logger = new ElaraLogger('NotificationRoutes');\n\nrouter.post('/notifications/send', async (req: Request, res: Response): Promise<void> => {\n  try {\n    const { userId, email, type, name } = req.body;\n    let result;\n    \n    if (type === 'welcome') {\n      result = await service.sendWelcomeEmail(userId, email, name);\n    } else if (type === 'completion') {\n      result = await service.sendOnboardingCompleteEmail(userId, email);\n    } else if (type === 'contract_ready') {\n      result = await service.sendContractReadyEmail(userId, email);\n    } else {\n      result = await service.sendWelcomeEmail(userId, email, name || 'User');\n    }\n    \n    res.json({ success: true, data: result });\n  } catch (error) {\n    logger.error('Error:', error);\n    res.status(500).json({ error: 'Failed', message: error instanceof Error ? error.message : 'Unknown error' });\n  }\n});\n\nrouter.get('/notifications/user/:userId', async (req: Request, res: Response): Promise<void> => {\n  try {\n    const { userId } = req.params;\n    const result = await service.getUserNotifications(userId);\n    res.json({ success: true, data: result });\n  } catch (error) {\n    logger.error('Error:', error);\n    res.status(500).json({ error: 'Failed', message: error instanceof Error ? error.message : 'Unknown error' });\n  }\n});\n\nexport default router;\n"],"mappings":"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","ignoreList":[]}