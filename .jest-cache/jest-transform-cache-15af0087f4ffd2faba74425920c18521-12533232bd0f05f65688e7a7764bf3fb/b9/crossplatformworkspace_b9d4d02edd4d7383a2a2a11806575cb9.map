{"version":3,"names":["cov_oyip2rwna","actualCoverage","os","EventEmitter","VirtualFileSystem","TerminalManager","DebuggerManager","ExtensionManager","ThemeManager","SyncManager","CollaborationManager","PerformanceMonitor","SecurityManager","AzorahubWorkspace","constructor","config","f","s","platform","detectPlatform","initializeComponents","setupEventHandlers","getInstance","instance","b","Error","window","navigator","userAgent","toLowerCase","includes","nodePlatform","fileSystem","terminal","features","debugger","extensionManager","themeManager","ui","syncManager","sync","collaborationManager","collaboration","performanceMonitor","performance","securityManager","security","emit","on","event","autoSync","syncFile","path","initialize","error","console","getPlatform","getConfig","updateConfig","newConfig","openFile","filePath","saveFile","content","createFile","deleteFile","listFiles","directoryPath","watchFile","callback","_watcher","watch","createTerminal","options","joinCollaboration","sessionId","userId","userName","joinSession","updateCollaborationConfig","_config","getPerformanceMetrics","getMetrics","optimizePerformance","optimize"],"sources":["cross-platform-workspace.ts"],"sourcesContent":["/* \nAZORA PROPRIETARY LICENSE \nCopyright (c) 2025 Azora ES (Pty) Ltd. All Rights Reserved. \nSee LICENSE file for details. \n*/ \n/**\n * Azorahub Cross-Platform Workspace\n * \n * Advanced cross-platform development environment inspired by Microsoft's VS Code,\n * enhanced with Azora's hybrid design system and AI capabilities.\n * \n * Features:\n * - Universal workspace across Windows, macOS, Linux, Web\n * - Native performance with web technologies\n * - Extensible plugin architecture\n * - Cloud synchronization\n * - Multi-language support\n * - Integrated terminal and debugger\n * - Real-time collaboration\n * - Advanced file management\n */\n\nimport * as os from 'os';\nimport * as _path from 'path';\nimport { EventEmitter } from 'events';\nimport {\n  VirtualFileSystem,\n  TerminalManager,\n  DebuggerManager,\n  ExtensionManager,\n  ThemeManager,\n  SyncManager,\n  CollaborationManager,\n  PerformanceMonitor,\n  SecurityManager,\n  FileContent,\n  FileInfo\n} from './workspace-types';\n\n// Platform Types\nexport type Platform = 'windows' | 'macos' | 'linux' | 'web' | 'ios' | 'android';\n\nexport interface WorkspaceConfig {\n  platform: Platform;\n  environment: 'development' | 'staging' | 'production';\n  features: PlatformFeatures;\n  ui: UIConfig;\n  performance: PerformanceConfig;\n  sync: SyncConfig;\n  security: SecurityConfig;\n}\n\nexport interface PlatformFeatures {\n  terminal: boolean;\n  debugger: boolean;\n  fileSystem: boolean;\n  network: boolean;\n  clipboard: boolean;\n  notifications: boolean;\n  themes: boolean;\n  extensions: boolean;\n  collaboration: boolean;\n  cloudSync: boolean;\n}\n\nexport interface UIConfig {\n  theme: 'light' | 'dark' | 'auto' | 'azora-fluent';\n  language: string;\n  fontSize: number;\n  fontFamily: string;\n  layout: 'default' | 'compact' | 'focus' | 'zen';\n  sidebar: boolean;\n  statusBar: boolean;\n  activityBar: boolean;\n  panel: boolean;\n}\n\nexport interface PerformanceConfig {\n  memoryLimit: number;\n  cpuLimit: number;\n  cacheEnabled: boolean;\n  cacheSize: number;\n  lazyLoading: boolean;\n  virtualization: boolean;\n  optimization: 'speed' | 'memory' | 'balanced';\n}\n\nexport interface SyncConfig {\n  enabled: boolean;\n  provider: 'azure' | 'aws' | 'gcp' | 'azorahub' | 'none';\n  autoSync: boolean;\n  syncInterval: number;\n  conflictResolution: 'local' | 'remote' | 'prompt';\n  encryption: boolean;\n}\n\nexport interface SecurityConfig {\n  encryptionEnabled: boolean;\n  authentication: 'none' | 'basic' | 'oauth' | 'sso' | 'mfa';\n  permissions: PermissionConfig;\n  auditLogging: boolean;\n  dataPrivacy: boolean;\n}\n\nexport interface PermissionConfig {\n  fileAccess: 'full' | 'restricted' | 'sandboxed';\n  networkAccess: boolean;\n  systemAccess: boolean;\n  clipboardAccess: boolean;\n}\n\n// Workspace interface\nexport interface Workspace {\n  id: string;\n  name: string;\n  path: string;\n  platform: Platform;\n}\n\n// Workspace Events\nexport interface WorkspaceEvents {\n  'platform-detected': Platform;\n  'workspace-ready': Workspace;\n  'file-opened': FileEvent;\n  'file-saved': FileEvent;\n  'file-created': FileEvent;\n  'file-deleted': FileEvent;\n  'theme-changed': string;\n  'language-changed': string;\n  'extension-installed': ExtensionEvent;\n  'extension-uninstalled': ExtensionEvent;\n  'sync-started': SyncEvent;\n  'sync-completed': SyncEvent;\n  'sync-failed': SyncEvent;\n  'collaboration-joined': CollaborationEvent;\n  'collaboration-left': CollaborationEvent;\n}\n\nexport interface FileEvent {\n  path: string;\n  type: 'file' | 'directory';\n  timestamp: number;\n  size?: number;\n}\n\nexport interface ExtensionEvent {\n  id: string;\n  name: string;\n  version: string;\n  timestamp: number;\n}\n\nexport interface SyncEvent {\n  provider: string;\n  files: string[];\n  timestamp: number;\n  error?: string;\n}\n\nexport interface CollaborationEvent {\n  sessionId: string;\n  userId: string;\n  userName: string;\n  timestamp: number;\n}\n\n// Main Workspace Class\nexport class AzorahubWorkspace extends EventEmitter {\n  private static instance: AzorahubWorkspace;\n  private config: WorkspaceConfig;\n  private platform: Platform;\n  private fileSystem!: VirtualFileSystem;\n  private terminal!: TerminalManager;\n  private debugger!: DebuggerManager;\n  private extensionManager!: ExtensionManager;\n  private themeManager!: ThemeManager;\n  private syncManager!: SyncManager;\n  private collaborationManager!: CollaborationManager;\n  private performanceMonitor!: PerformanceMonitor;\n  private securityManager!: SecurityManager;\n\n  private constructor(config: WorkspaceConfig) {\n    super();\n    this.config = config;\n    this.platform = this.detectPlatform();\n    this.initializeComponents();\n    this.setupEventHandlers();\n  }\n\n  public static getInstance(config?: WorkspaceConfig): AzorahubWorkspace {\n    if (!AzorahubWorkspace.instance) {\n      if (!config) {\n        throw new Error('Configuration required for first initialization');\n      }\n      AzorahubWorkspace.instance = new AzorahubWorkspace(config);\n    }\n    return AzorahubWorkspace.instance;\n  }\n\n  private detectPlatform(): Platform {\n    if (typeof window !== 'undefined' && window.navigator) {\n      const userAgent = window.navigator.userAgent.toLowerCase();\n      \n      if (userAgent.includes('win')) {return 'windows';}\n      if (userAgent.includes('mac')) {return 'macos';}\n      if (userAgent.includes('linux')) {return 'linux';}\n      if (userAgent.includes('iphone') || userAgent.includes('ipad')) {return 'ios';}\n      if (userAgent.includes('android')) {return 'android';}\n      \n      return 'web';\n    }\n    \n    // Node.js environment\n    const nodePlatform = os.platform();\n    switch (nodePlatform) {\n      case 'win32': return 'windows';\n      case 'darwin': return 'macos';\n      case 'linux': return 'linux';\n      default: return 'linux';\n    }\n  }\n\n  private initializeComponents(): void {\n    this.fileSystem = new VirtualFileSystem(this.platform);\n    this.terminal = new TerminalManager(this.platform, this.config.features.terminal);\n    this.debugger = new DebuggerManager(this.platform, this.config.features.debugger);\n    this.extensionManager = new ExtensionManager(this.platform);\n    this.themeManager = new ThemeManager(this.config.ui);\n    this.syncManager = new SyncManager(this.config.sync);\n    this.collaborationManager = new CollaborationManager(this.config.features.collaboration);\n    this.performanceMonitor = new PerformanceMonitor(this.config.performance);\n    this.securityManager = new SecurityManager(this.config.security);\n  }\n\n  private setupEventHandlers(): void {\n    this.emit('platform-detected', this.platform);\n    \n    // File system events\n    this.fileSystem.on('file-opened', (event: FileEvent) => {\n      this.emit('file-opened', event);\n    });\n    \n    this.fileSystem.on('file-saved', (event: FileEvent) => {\n      this.emit('file-saved', event);\n      if (this.config.sync.autoSync) {\n        this.syncManager.syncFile(event.path);\n      }\n    });\n    \n    // Extension events\n    if ('on' in this.extensionManager) {\n      (this.extensionManager as any).on('extension-installed', (event: ExtensionEvent) => {\n        this.emit('extension-installed', event);\n      });\n    }\n    \n    // Sync events\n    if ('on' in this.syncManager) {\n      (this.syncManager as any).on('sync-completed', (event: SyncEvent) => {\n        this.emit('sync-completed', event);\n      });\n    }\n    \n    // Collaboration events\n    if ('on' in this.collaborationManager) {\n      (this.collaborationManager as any).on('user-joined', (event: CollaborationEvent) => {\n        this.emit('collaboration-joined', event);\n      });\n    }\n  }\n\n  // Public API Methods\n  public async initialize(): Promise<void> {\n    try {\n      await this.fileSystem.initialize();\n      await this.terminal.initialize();\n      await this.debugger.initialize();\n      await this.extensionManager.initialize();\n      await this.themeManager.initialize();\n      await this.syncManager.initialize();\n      await this.collaborationManager.initialize();\n      await this.performanceMonitor.initialize();\n      await this.securityManager.initialize();\n      \n      this.emit('workspace-ready', this);\n    } catch (error) {\n      console.error('Failed to initialize workspace:', error);\n      throw error;\n    }\n  }\n\n  public getPlatform(): Platform {\n    return this.platform;\n  }\n\n  public getConfig(): WorkspaceConfig {\n    return { ...this.config };\n  }\n\n  public updateConfig(newConfig: Partial<WorkspaceConfig>): void {\n    this.config = { ...this.config, ...newConfig };\n    \n    // Update component configurations\n    if (newConfig.ui) {\n      this.themeManager.updateConfig(newConfig.ui);\n    }\n    if (newConfig.sync) {\n      this.syncManager.updateConfig(newConfig.sync);\n    }\n    if (newConfig.security) {\n      this.securityManager.updateConfig(newConfig.security);\n    }\n    if (newConfig.performance) {\n      this.performanceMonitor.updateConfig(newConfig.performance);\n    }\n  }\n\n  // File System Operations\n  public async openFile(filePath: string): Promise<FileContent> {\n    return await this.fileSystem.openFile(filePath);\n  }\n\n  public async saveFile(filePath: string, content: string): Promise<void> {\n    await this.fileSystem.saveFile(filePath, content);\n  }\n\n  public async createFile(filePath: string, content?: string): Promise<void> {\n    await this.fileSystem.createFile(filePath, content);\n  }\n\n  public async deleteFile(filePath: string): Promise<void> {\n    await this.fileSystem.deleteFile(filePath);\n  }\n\n  public async listFiles(directoryPath: string): Promise<FileInfo[]> {\n    return await this.fileSystem.listFiles(directoryPath);\n  }\n\n  public watchFile(path: string, callback: (event: FileEvent) => void): void {\n    const _watcher = this.fileSystem.watch(path, callback);\n  }\n\n  // Terminal Operations\n  public async createTerminal(options?: TerminalOptions): Promise<TerminalInstance> {\n    return await this.terminal.createTerminal(options);\n  }\n\n  // ...\n\n  public async joinCollaboration(sessionId: string, userId: string, userName: string): Promise<void> {\n    return await this.collaborationManager.joinSession(sessionId, userId, userName);\n  }\n\n  public async updateCollaborationConfig(_config: any): Promise<void> {\n    // No-op, as there is no corresponding method in CollaborationManager\n  }\n\n  // Performance Monitoring\n  public async getPerformanceMetrics(): Promise<any> {\n    return this.performanceMonitor.getMetrics();\n  }\n\n  public async optimizePerformance(): Promise<OptimizationResult> {\n    return await this.performanceMonitor.optimize();\n  }\n}\n\n// Stub classes - TODO: Implement or remove\n/*\n  // Extension Manager\n  class ExtensionManager {\n    // ...\n\n    public async getInstalled(): Promise<ExtensionInfo[]> {\n      return Array.from(this.extensions.values());\n    }\n\n    public async searchFiles(_query: string): Promise<string[]> {\n      // Extension search logic\n      return [];\n    }\n\n    public async shutdown(): Promise<void> {\n      // Clean up extensions\n      this.extensions.clear();\n    }\n  }\n\n  // Sync Manager\n  class SyncManager {\n    // ...\n\n    public async authenticateProvider(provider: string, _credentials: any): Promise<void> {\n      this.config.enabled = true;\n      this.config.provider = provider as any;\n      this.enabled = true;\n    }\n  }\n\n  // Collaboration Manager\n  class CollaborationManager {\n    // ...\n\n    public async createTerminal(name: string): Promise<string> {\n      // No-op, as this method does not exist in the original code\n      return '';\n    }\n  }\n\n  // Terminal Manager\n  class TerminalManager {\n    // ...\n\n    public async createTerminal(options?: TerminalOptions): Promise<TerminalInstance> {\n      const terminalId = this.generateTerminalId();\n      const terminal: TerminalInstance = {\n        id: terminalId,\n        type: this.platform === 'web' ? 'web' : 'native',\n        state: 'active',\n        process: options?.shell || this.getDefaultShell(),\n        cwd: options?.cwd || process.cwd(),\n        env: options?.env || process.env,\n        created: Date.now(),\n      };\n\n      this.terminals.set(terminalId, terminal);\n      return terminal;\n    }\n  }\n*/\n\n// Supporting Types and Interfaces\n  export interface TerminalOptions {\n    shell?: string;\n    cwd?: string;\n    env?: Record<string, string>;\n  }\n\n  export interface TerminalInstance {\n  process: string;\n  cwd: string;\n  env: Record<string, string>;\n  created: number;\n}\n\nexport interface CommandResult {\n  command: string;\n  exitCode: number;\n  stdout: string;\n  stderr: string;\n  executionTime: number;\n  timestamp: number;\n}\n\nexport interface CommandHistory {\n  command: string;\n  timestamp: number;\n  exitCode: number;\n}\n\nexport interface DebugConfiguration {\n  type: 'node' | 'python' | 'java' | 'custom';\n  program: string;\n  args?: string[];\n  env?: Record<string, string>;\n  cwd?: string;\n}\n\nexport interface DebugSession {\n  id: string;\n  type: string;\n  state: 'running' | 'stopped' | 'paused';\n  configuration: DebugConfiguration;\n  created: number;\n}\n\nexport interface Breakpoint {\n  id: string;\n  filePath: string;\n  lineNumber: number;\n  enabled: boolean;\n  condition?: string;\n  hitCount: number;\n  created: number;\n}\n\nexport interface ExtensionInfo {\n  id: string;\n  name: string;\n  version: string;\n  description?: string;\n  author?: string;\n  enabled?: boolean;\n}\n\nexport interface ThemeInfo {\n  id: string;\n  name: string;\n  type: 'light' | 'dark' | 'high-contrast';\n  author: string;\n  version: string;\n}\n\nexport interface SyncResult {\n  success: boolean;\n  files: string[];\n  timestamp: number;\n  error?: string;\n}\n\nexport interface SyncStatus {\n  enabled: boolean;\n  provider: string;\n  lastSync: number;\n  pendingFiles: number;\n  conflicts: number;\n}\n\nexport interface CollaborationSession {\n  id: string;\n  state: 'active' | 'inactive';\n  participants: Array<{\n    id: string;\n    name: string;\n    joined: number;\n  }>;\n  created: number;\n}\n\nexport interface PerformanceMetrics {\n  memoryUsage: number;\n  cpuUsage: number;\n  diskUsage: number;\n  networkUsage: number;\n  responseTime: number;\n  cacheHitRate: number;\n}\n\nexport interface OptimizationResult {\n  success: boolean;\n  optimizations: string[];\n  performanceGain: number;\n  timestamp: number;\n}\n\nexport interface AuthCredentials {\n  type: 'password' | 'token' | 'oauth' | 'sso';\n  username?: string;\n  password?: string;\n  token?: string;\n}\n\nexport interface AuthResult {\n  success: boolean;\n  token: string;\n  expires: number;\n  permissions: string[];\n}\n\nexport interface SecurityStatus {\n  authenticated: boolean;\n  encryptionEnabled: boolean;\n  lastSecurityScan: number;\n  threats: number;\n}\n\nexport interface ThreatScanResult {\n  threats: Array<{\n    type: string;\n    severity: 'low' | 'medium' | 'high' | 'critical';\n    description: string;\n  }>;\n  scanTime: number;\n  timestamp: number;\n}\n\ninterface FileWatcher {\n  // File watcher interface\n}\n\n// Export the main class\nexport default AzorahubWorkspace;\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}