e617f1ca0cfd15028ae49190542e21b3
/* istanbul ignore next */
function cov_10m0as76i() {
  var path = "/workspaces/azora/services/shared/optimization/query-optimizer.ts";
  var hash = "7f910ef2cc01655f6020b1ba9f61156cb18ce24f";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/shared/optimization/query-optimizer.ts",
    statementMap: {
      "0": {
        start: {
          line: 4,
          column: 15
        },
        end: {
          line: 21,
          column: 2
        }
      },
      "1": {
        start: {
          line: 15,
          column: 26
        },
        end: {
          line: 15,
          column: 78
        }
      },
      "2": {
        start: {
          line: 16,
          column: 10
        },
        end: {
          line: 16,
          column: 72
        }
      },
      "3": {
        start: {
          line: 28,
          column: 39
        },
        end: {
          line: 28,
          column: 41
        }
      },
      "4": {
        start: {
          line: 38,
          column: 18
        },
        end: {
          line: 38,
          column: 28
        }
      },
      "5": {
        start: {
          line: 40,
          column: 4
        },
        end: {
          line: 70,
          column: 5
        }
      },
      "6": {
        start: {
          line: 41,
          column: 21
        },
        end: {
          line: 41,
          column: 36
        }
      },
      "7": {
        start: {
          line: 42,
          column: 23
        },
        end: {
          line: 42,
          column: 41
        }
      },
      "8": {
        start: {
          line: 45,
          column: 6
        },
        end: {
          line: 45,
          column: 58
        }
      },
      "9": {
        start: {
          line: 48,
          column: 6
        },
        end: {
          line: 55,
          column: 7
        }
      },
      "10": {
        start: {
          line: 49,
          column: 8
        },
        end: {
          line: 54,
          column: 11
        }
      },
      "11": {
        start: {
          line: 57,
          column: 6
        },
        end: {
          line: 57,
          column: 20
        }
      },
      "12": {
        start: {
          line: 59,
          column: 23
        },
        end: {
          line: 59,
          column: 41
        }
      },
      "13": {
        start: {
          line: 60,
          column: 6
        },
        end: {
          line: 60,
          column: 56
        }
      },
      "14": {
        start: {
          line: 62,
          column: 6
        },
        end: {
          line: 67,
          column: 9
        }
      },
      "15": {
        start: {
          line: 69,
          column: 6
        },
        end: {
          line: 69,
          column: 18
        }
      },
      "16": {
        start: {
          line: 81,
          column: 18
        },
        end: {
          line: 81,
          column: 28
        }
      },
      "17": {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 113,
          column: 5
        }
      },
      "18": {
        start: {
          line: 84,
          column: 22
        },
        end: {
          line: 84,
          column: 62
        }
      },
      "19": {
        start: {
          line: 84,
          column: 57
        },
        end: {
          line: 84,
          column: 60
        }
      },
      "20": {
        start: {
          line: 85,
          column: 23
        },
        end: {
          line: 85,
          column: 41
        }
      },
      "21": {
        start: {
          line: 87,
          column: 6
        },
        end: {
          line: 87,
          column: 58
        }
      },
      "22": {
        start: {
          line: 89,
          column: 6
        },
        end: {
          line: 97,
          column: 7
        }
      },
      "23": {
        start: {
          line: 90,
          column: 8
        },
        end: {
          line: 96,
          column: 11
        }
      },
      "24": {
        start: {
          line: 99,
          column: 6
        },
        end: {
          line: 99,
          column: 21
        }
      },
      "25": {
        start: {
          line: 101,
          column: 23
        },
        end: {
          line: 101,
          column: 41
        }
      },
      "26": {
        start: {
          line: 102,
          column: 6
        },
        end: {
          line: 102,
          column: 56
        }
      },
      "27": {
        start: {
          line: 104,
          column: 6
        },
        end: {
          line: 110,
          column: 9
        }
      },
      "28": {
        start: {
          line: 112,
          column: 6
        },
        end: {
          line: 112,
          column: 18
        }
      },
      "29": {
        start: {
          line: 126,
          column: 17
        },
        end: {
          line: 126,
          column: 38
        }
      },
      "30": {
        start: {
          line: 127,
          column: 17
        },
        end: {
          line: 127,
          column: 29
        }
      },
      "31": {
        start: {
          line: 129,
          column: 17
        },
        end: {
          line: 133,
          column: 5
        }
      },
      "32": {
        start: {
          line: 132,
          column: 12
        },
        end: {
          line: 132,
          column: 31
        }
      },
      "33": {
        start: {
          line: 135,
          column: 20
        },
        end: {
          line: 135,
          column: 42
        }
      },
      "34": {
        start: {
          line: 136,
          column: 19
        },
        end: {
          line: 136,
          column: 59
        }
      },
      "35": {
        start: {
          line: 138,
          column: 4
        },
        end: {
          line: 143,
          column: 6
        }
      },
      "36": {
        start: {
          line: 155,
          column: 4
        },
        end: {
          line: 159,
          column: 6
        }
      },
      "37": {
        start: {
          line: 158,
          column: 12
        },
        end: {
          line: 158,
          column: 27
        }
      },
      "38": {
        start: {
          line: 166,
          column: 4
        },
        end: {
          line: 166,
          column: 33
        }
      },
      "39": {
        start: {
          line: 167,
          column: 4
        },
        end: {
          line: 167,
          column: 67
        }
      },
      "40": {
        start: {
          line: 174,
          column: 4
        },
        end: {
          line: 174,
          column: 35
        }
      },
      "41": {
        start: {
          line: 179,
          column: 30
        },
        end: {
          line: 179,
          column: 50
        }
      },
      "42": {
        start: {
          line: 184,
          column: 31
        },
        end: {
          line: 227,
          column: 1
        }
      },
      "43": {
        start: {
          line: 188,
          column: 58
        },
        end: {
          line: 191,
          column: 3
        }
      },
      "44": {
        start: {
          line: 196,
          column: 39
        },
        end: {
          line: 198,
          column: 3
        }
      },
      "45": {
        start: {
          line: 197,
          column: 43
        },
        end: {
          line: 197,
          column: 68
        }
      },
      "46": {
        start: {
          line: 203,
          column: 46
        },
        end: {
          line: 205,
          column: 3
        }
      },
      "47": {
        start: {
          line: 204,
          column: 45
        },
        end: {
          line: 204,
          column: 68
        }
      },
      "48": {
        start: {
          line: 210,
          column: 66
        },
        end: {
          line: 212,
          column: 3
        }
      },
      "49": {
        start: {
          line: 217,
          column: 48
        },
        end: {
          line: 219,
          column: 3
        }
      },
      "50": {
        start: {
          line: 225,
          column: 4
        },
        end: {
          line: 225,
          column: 79
        }
      },
      "51": {
        start: {
          line: 225,
          column: 49
        },
        end: {
          line: 225,
          column: 72
        }
      },
      "52": {
        start: {
          line: 232,
          column: 29
        },
        end: {
          line: 269,
          column: 1
        }
      },
      "53": {
        start: {
          line: 236,
          column: 45
        },
        end: {
          line: 238,
          column: 3
        }
      },
      "54": {
        start: {
          line: 243,
          column: 75
        },
        end: {
          line: 246,
          column: 3
        }
      },
      "55": {
        start: {
          line: 256,
          column: 8
        },
        end: {
          line: 260,
          column: 3
        }
      },
      "56": {
        start: {
          line: 265,
          column: 73
        },
        end: {
          line: 268,
          column: 3
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 14,
            column: 30
          },
          end: {
            line: 14,
            column: 31
          }
        },
        loc: {
          start: {
            line: 14,
            column: 74
          },
          end: {
            line: 17,
            column: 9
          }
        },
        line: 14
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 33,
            column: 2
          },
          end: {
            line: 33,
            column: 3
          }
        },
        loc: {
          start: {
            line: 37,
            column: 16
          },
          end: {
            line: 71,
            column: 3
          }
        },
        line: 37
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 76,
            column: 2
          },
          end: {
            line: 76,
            column: 3
          }
        },
        loc: {
          start: {
            line: 80,
            column: 18
          },
          end: {
            line: 114,
            column: 3
          }
        },
        line: 80
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 84,
            column: 52
          },
          end: {
            line: 84,
            column: 53
          }
        },
        loc: {
          start: {
            line: 84,
            column: 57
          },
          end: {
            line: 84,
            column: 60
          }
        },
        line: 84
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 119,
            column: 2
          },
          end: {
            line: 119,
            column: 3
          }
        },
        loc: {
          start: {
            line: 125,
            column: 78
          },
          end: {
            line: 144,
            column: 3
          }
        },
        line: 125
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 132,
            column: 6
          },
          end: {
            line: 132,
            column: 7
          }
        },
        loc: {
          start: {
            line: 132,
            column: 12
          },
          end: {
            line: 132,
            column: 31
          }
        },
        line: 132
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 149,
            column: 2
          },
          end: {
            line: 149,
            column: 3
          }
        },
        loc: {
          start: {
            line: 154,
            column: 18
          },
          end: {
            line: 160,
            column: 3
          }
        },
        line: 154
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 158,
            column: 6
          },
          end: {
            line: 158,
            column: 7
          }
        },
        loc: {
          start: {
            line: 158,
            column: 12
          },
          end: {
            line: 158,
            column: 27
          }
        },
        line: 158
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 165,
            column: 2
          },
          end: {
            line: 165,
            column: 3
          }
        },
        loc: {
          start: {
            line: 165,
            column: 42
          },
          end: {
            line: 168,
            column: 3
          }
        },
        line: 165
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 173,
            column: 2
          },
          end: {
            line: 173,
            column: 3
          }
        },
        loc: {
          start: {
            line: 173,
            column: 34
          },
          end: {
            line: 175,
            column: 3
          }
        },
        line: 173
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 188,
            column: 12
          },
          end: {
            line: 188,
            column: 13
          }
        },
        loc: {
          start: {
            line: 188,
            column: 58
          },
          end: {
            line: 191,
            column: 3
          }
        },
        line: 188
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 196,
            column: 16
          },
          end: {
            line: 196,
            column: 17
          }
        },
        loc: {
          start: {
            line: 196,
            column: 39
          },
          end: {
            line: 198,
            column: 3
          }
        },
        line: 196
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 197,
            column: 26
          },
          end: {
            line: 197,
            column: 27
          }
        },
        loc: {
          start: {
            line: 197,
            column: 43
          },
          end: {
            line: 197,
            column: 68
          }
        },
        line: 197
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 203,
            column: 20
          },
          end: {
            line: 203,
            column: 21
          }
        },
        loc: {
          start: {
            line: 203,
            column: 46
          },
          end: {
            line: 205,
            column: 3
          }
        },
        line: 203
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 204,
            column: 30
          },
          end: {
            line: 204,
            column: 31
          }
        },
        loc: {
          start: {
            line: 204,
            column: 45
          },
          end: {
            line: 204,
            column: 68
          }
        },
        line: 204
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 210,
            column: 11
          },
          end: {
            line: 210,
            column: 12
          }
        },
        loc: {
          start: {
            line: 210,
            column: 66
          },
          end: {
            line: 212,
            column: 3
          }
        },
        line: 210
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 217,
            column: 10
          },
          end: {
            line: 217,
            column: 11
          }
        },
        loc: {
          start: {
            line: 217,
            column: 48
          },
          end: {
            line: 219,
            column: 3
          }
        },
        line: 217
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 224,
            column: 11
          },
          end: {
            line: 224,
            column: 12
          }
        },
        loc: {
          start: {
            line: 224,
            column: 37
          },
          end: {
            line: 226,
            column: 3
          }
        },
        line: 224
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 225,
            column: 29
          },
          end: {
            line: 225,
            column: 30
          }
        },
        loc: {
          start: {
            line: 225,
            column: 49
          },
          end: {
            line: 225,
            column: 72
          }
        },
        line: 225
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 236,
            column: 22
          },
          end: {
            line: 236,
            column: 23
          }
        },
        loc: {
          start: {
            line: 236,
            column: 45
          },
          end: {
            line: 238,
            column: 3
          }
        },
        line: 236
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 243,
            column: 20
          },
          end: {
            line: 243,
            column: 21
          }
        },
        loc: {
          start: {
            line: 243,
            column: 75
          },
          end: {
            line: 246,
            column: 3
          }
        },
        line: 243
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 251,
            column: 28
          },
          end: {
            line: 251,
            column: 29
          }
        },
        loc: {
          start: {
            line: 256,
            column: 8
          },
          end: {
            line: 260,
            column: 3
          }
        },
        line: 256
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 265,
            column: 29
          },
          end: {
            line: 265,
            column: 30
          }
        },
        loc: {
          start: {
            line: 265,
            column: 73
          },
          end: {
            line: 268,
            column: 3
          }
        },
        line: 265
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 15,
            column: 26
          },
          end: {
            line: 15,
            column: 78
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 15,
            column: 53
          },
          end: {
            line: 15,
            column: 73
          }
        }, {
          start: {
            line: 15,
            column: 76
          },
          end: {
            line: 15,
            column: 78
          }
        }],
        line: 15
      },
      "1": {
        loc: {
          start: {
            line: 48,
            column: 6
          },
          end: {
            line: 55,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 48,
            column: 6
          },
          end: {
            line: 55,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 48
      },
      "2": {
        loc: {
          start: {
            line: 89,
            column: 6
          },
          end: {
            line: 97,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 89,
            column: 6
          },
          end: {
            line: 97,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 89
      },
      "3": {
        loc: {
          start: {
            line: 123,
            column: 4
          },
          end: {
            line: 123,
            column: 20
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 123,
            column: 19
          },
          end: {
            line: 123,
            column: 20
          }
        }],
        line: 123
      },
      "4": {
        loc: {
          start: {
            line: 124,
            column: 4
          },
          end: {
            line: 124,
            column: 25
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 124,
            column: 23
          },
          end: {
            line: 124,
            column: 25
          }
        }],
        line: 124
      },
      "5": {
        loc: {
          start: {
            line: 136,
            column: 19
          },
          end: {
            line: 136,
            column: 59
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 136,
            column: 29
          },
          end: {
            line: 136,
            column: 52
          }
        }, {
          start: {
            line: 136,
            column: 55
          },
          end: {
            line: 136,
            column: 59
          }
        }],
        line: 136
      },
      "6": {
        loc: {
          start: {
            line: 188,
            column: 13
          },
          end: {
            line: 188,
            column: 29
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 188,
            column: 28
          },
          end: {
            line: 188,
            column: 29
          }
        }],
        line: 188
      },
      "7": {
        loc: {
          start: {
            line: 188,
            column: 31
          },
          end: {
            line: 188,
            column: 52
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 188,
            column: 50
          },
          end: {
            line: 188,
            column: 52
          }
        }],
        line: 188
      },
      "8": {
        loc: {
          start: {
            line: 210,
            column: 27
          },
          end: {
            line: 210,
            column: 60
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 210,
            column: 55
          },
          end: {
            line: 210,
            column: 60
          }
        }],
        line: 210
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0],
      "4": [0],
      "5": [0, 0],
      "6": [0],
      "7": [0],
      "8": [0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7f910ef2cc01655f6020b1ba9f61156cb18ce24f"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_10m0as76i = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_10m0as76i();
import winston from 'winston';
import { trackDbQuery } from '../middleware/performance';
const logger =
/* istanbul ignore next */
(cov_10m0as76i().s[0]++, winston.createLogger({
  defaultMeta: {
    service: 'query-optimizer'
  },
  format: winston.format.combine(winston.format.timestamp({
    format: 'YYYY-MM-DD HH:mm:ss'
  }), winston.format.json()),
  transports: [new winston.transports.Console({
    format: winston.format.combine(winston.format.colorize(), winston.format.printf(({
      timestamp,
      level,
      message,
      ...meta
    }) => {
      /* istanbul ignore next */
      cov_10m0as76i().f[0]++;
      const metaStr =
      /* istanbul ignore next */
      (cov_10m0as76i().s[1]++, Object.keys(meta).length ?
      /* istanbul ignore next */
      (cov_10m0as76i().b[0][0]++, JSON.stringify(meta)) :
      /* istanbul ignore next */
      (cov_10m0as76i().b[0][1]++, ''));
      /* istanbul ignore next */
      cov_10m0as76i().s[2]++;
      return `${timestamp} [QUERY] ${level}: ${message} ${metaStr}`;
    }))
  })]
}));

/**
 * Query Optimizer for database performance
 * Implements query optimization strategies and monitoring
 */
export class QueryOptimizer {
  slowQueryThreshold =
  /* istanbul ignore next */
  (cov_10m0as76i().s[3]++, 50); // ms

  /**
   * Execute query with performance tracking
   */
  async executeQuery(operation, model, queryFn) {
    /* istanbul ignore next */
    cov_10m0as76i().f[1]++;
    const start =
    /* istanbul ignore next */
    (cov_10m0as76i().s[4]++, Date.now());
    /* istanbul ignore next */
    cov_10m0as76i().s[5]++;
    try {
      const result =
      /* istanbul ignore next */
      (cov_10m0as76i().s[6]++, await queryFn());
      const duration =
      /* istanbul ignore next */
      (cov_10m0as76i().s[7]++, Date.now() - start);

      // Track performance
      /* istanbul ignore next */
      cov_10m0as76i().s[8]++;
      trackDbQuery(operation, model, duration, 'success');

      // Log slow queries
      /* istanbul ignore next */
      cov_10m0as76i().s[9]++;
      if (duration > this.slowQueryThreshold) {
        /* istanbul ignore next */
        cov_10m0as76i().b[1][0]++;
        cov_10m0as76i().s[10]++;
        logger.warn('Slow database query', {
          operation,
          model,
          duration,
          threshold: this.slowQueryThreshold
        });
      } else
      /* istanbul ignore next */
      {
        cov_10m0as76i().b[1][1]++;
      }
      cov_10m0as76i().s[11]++;
      return result;
    } catch (error) {
      const duration =
      /* istanbul ignore next */
      (cov_10m0as76i().s[12]++, Date.now() - start);
      /* istanbul ignore next */
      cov_10m0as76i().s[13]++;
      trackDbQuery(operation, model, duration, 'error');
      /* istanbul ignore next */
      cov_10m0as76i().s[14]++;
      logger.error('Query execution error', {
        operation,
        model,
        duration,
        error: error.message
      });
      /* istanbul ignore next */
      cov_10m0as76i().s[15]++;
      throw error;
    }
  }

  /**
   * Batch execute queries for better performance
   */
  async batchExecute(operation, model, queries) {
    /* istanbul ignore next */
    cov_10m0as76i().f[2]++;
    const start =
    /* istanbul ignore next */
    (cov_10m0as76i().s[16]++, Date.now());
    /* istanbul ignore next */
    cov_10m0as76i().s[17]++;
    try {
      const results =
      /* istanbul ignore next */
      (cov_10m0as76i().s[18]++, await Promise.all(queries.map(q => {
        /* istanbul ignore next */
        cov_10m0as76i().f[3]++;
        cov_10m0as76i().s[19]++;
        return q();
      })));
      const duration =
      /* istanbul ignore next */
      (cov_10m0as76i().s[20]++, Date.now() - start);
      /* istanbul ignore next */
      cov_10m0as76i().s[21]++;
      trackDbQuery(operation, model, duration, 'success');
      /* istanbul ignore next */
      cov_10m0as76i().s[22]++;
      if (duration > this.slowQueryThreshold) {
        /* istanbul ignore next */
        cov_10m0as76i().b[2][0]++;
        cov_10m0as76i().s[23]++;
        logger.warn('Slow batch query', {
          operation,
          model,
          duration,
          queryCount: queries.length,
          avgDuration: (duration / queries.length).toFixed(2)
        });
      } else
      /* istanbul ignore next */
      {
        cov_10m0as76i().b[2][1]++;
      }
      cov_10m0as76i().s[24]++;
      return results;
    } catch (error) {
      const duration =
      /* istanbul ignore next */
      (cov_10m0as76i().s[25]++, Date.now() - start);
      /* istanbul ignore next */
      cov_10m0as76i().s[26]++;
      trackDbQuery(operation, model, duration, 'error');
      /* istanbul ignore next */
      cov_10m0as76i().s[27]++;
      logger.error('Batch query execution error', {
        operation,
        model,
        duration,
        queryCount: queries.length,
        error: error.message
      });
      /* istanbul ignore next */
      cov_10m0as76i().s[28]++;
      throw error;
    }
  }

  /**
   * Execute query with pagination for large result sets
   */
  async executePaginatedQuery(operation, model, queryFn, page =
  /* istanbul ignore next */
  (cov_10m0as76i().b[3][0]++, 1), pageSize =
  /* istanbul ignore next */
  (cov_10m0as76i().b[4][0]++, 20)) {
    /* istanbul ignore next */
    cov_10m0as76i().f[4]++;
    const skip =
    /* istanbul ignore next */
    (cov_10m0as76i().s[29]++, (page - 1) * pageSize);
    const take =
    /* istanbul ignore next */
    (cov_10m0as76i().s[30]++, pageSize + 1); // Fetch one extra to determine if there are more

    const data =
    /* istanbul ignore next */
    (cov_10m0as76i().s[31]++, await this.executeQuery(`${operation}:paginated`, model, () => {
      /* istanbul ignore next */
      cov_10m0as76i().f[5]++;
      cov_10m0as76i().s[32]++;
      return queryFn(skip, take);
    }));
    const hasMore =
    /* istanbul ignore next */
    (cov_10m0as76i().s[33]++, data.length > pageSize);
    const result =
    /* istanbul ignore next */
    (cov_10m0as76i().s[34]++, hasMore ?
    /* istanbul ignore next */
    (cov_10m0as76i().b[5][0]++, data.slice(0, pageSize)) :
    /* istanbul ignore next */
    (cov_10m0as76i().b[5][1]++, data));
    /* istanbul ignore next */
    cov_10m0as76i().s[35]++;
    return {
      data: result,
      page,
      pageSize,
      hasMore
    };
  }

  /**
   * Execute query with field projection to reduce payload
   */
  async executeProjectedQuery(operation, model, queryFn, fields) {
    /* istanbul ignore next */
    cov_10m0as76i().f[6]++;
    cov_10m0as76i().s[36]++;
    return this.executeQuery(`${operation}:projected`, model, () => {
      /* istanbul ignore next */
      cov_10m0as76i().f[7]++;
      cov_10m0as76i().s[37]++;
      return queryFn(fields);
    });
  }

  /**
   * Set slow query threshold
   */
  setSlowQueryThreshold(ms) {
    /* istanbul ignore next */
    cov_10m0as76i().f[8]++;
    cov_10m0as76i().s[38]++;
    this.slowQueryThreshold = ms;
    /* istanbul ignore next */
    cov_10m0as76i().s[39]++;
    logger.info('Slow query threshold updated', {
      threshold: ms
    });
  }

  /**
   * Get slow query threshold
   */
  getSlowQueryThreshold() {
    /* istanbul ignore next */
    cov_10m0as76i().f[9]++;
    cov_10m0as76i().s[40]++;
    return this.slowQueryThreshold;
  }
}

// Export singleton instance
export const queryOptimizer =
/* istanbul ignore next */
(cov_10m0as76i().s[41]++, new QueryOptimizer());

/**
 * Query optimization strategies
 */
export const queryStrategies =
/* istanbul ignore next */
(cov_10m0as76i().s[42]++, {
  /**
   * Use pagination for large result sets
   */
  paginate: (page =
  /* istanbul ignore next */
  (cov_10m0as76i().b[6][0]++, 1), pageSize =
  /* istanbul ignore next */
  (cov_10m0as76i().b[7][0]++, 20)) => {
    /* istanbul ignore next */
    cov_10m0as76i().f[10]++;
    cov_10m0as76i().s[43]++;
    return {
      skip: (page - 1) * pageSize,
      take: pageSize
    };
  },
  /**
   * Select specific fields to reduce payload
   */
  selectFields: fields => {
    /* istanbul ignore next */
    cov_10m0as76i().f[11]++;
    cov_10m0as76i().s[44]++;
    return {
      select: fields.reduce((acc, field) => {
        /* istanbul ignore next */
        cov_10m0as76i().f[12]++;
        cov_10m0as76i().s[45]++;
        return {
          ...acc,
          [field]: true
        };
      }, {})
    };
  },
  /**
   * Include related data efficiently
   */
  includeRelations: relations => {
    /* istanbul ignore next */
    cov_10m0as76i().f[13]++;
    cov_10m0as76i().s[46]++;
    return {
      include: relations.reduce((acc, rel) => {
        /* istanbul ignore next */
        cov_10m0as76i().f[14]++;
        cov_10m0as76i().s[47]++;
        return {
          ...acc,
          [rel]: true
        };
      }, {})
    };
  },
  /**
   * Order results for consistent pagination
   */
  orderBy: (field, direction =
  /* istanbul ignore next */
  (cov_10m0as76i().b[8][0]++, 'asc')) => {
    /* istanbul ignore next */
    cov_10m0as76i().f[15]++;
    cov_10m0as76i().s[48]++;
    return {
      orderBy: {
        [field]: direction
      }
    };
  },
  /**
   * Filter results efficiently
   */
  filter: conditions => {
    /* istanbul ignore next */
    cov_10m0as76i().f[16]++;
    cov_10m0as76i().s[49]++;
    return {
      where: conditions
    };
  },
  /**
   * Combine multiple strategies
   */
  combine: (...strategies) => {
    /* istanbul ignore next */
    cov_10m0as76i().f[17]++;
    cov_10m0as76i().s[50]++;
    return strategies.reduce((acc, strategy) => {
      /* istanbul ignore next */
      cov_10m0as76i().f[18]++;
      cov_10m0as76i().s[51]++;
      return {
        ...acc,
        ...strategy
      };
    }, {});
  }
});

/**
 * Common query patterns for optimization
 */
export const queryPatterns =
/* istanbul ignore next */
(cov_10m0as76i().s[52]++, {
  /**
   * Get single item with specific fields
   */
  getSingleOptimized: fields => {
    /* istanbul ignore next */
    cov_10m0as76i().f[19]++;
    cov_10m0as76i().s[53]++;
    return {
      ...queryStrategies.selectFields(fields)
    };
  },
  /**
   * Get list with pagination and fields
   */
  getListOptimized: (page, pageSize, fields) => {
    /* istanbul ignore next */
    cov_10m0as76i().f[20]++;
    cov_10m0as76i().s[54]++;
    return {
      ...queryStrategies.paginate(page, pageSize),
      ...queryStrategies.selectFields(fields)
    };
  },
  /**
   * Get filtered list with pagination
   */
  getFilteredListOptimized: (filters, page, pageSize, fields) => {
    /* istanbul ignore next */
    cov_10m0as76i().f[21]++;
    cov_10m0as76i().s[55]++;
    return {
      ...queryStrategies.filter(filters),
      ...queryStrategies.paginate(page, pageSize),
      ...queryStrategies.selectFields(fields)
    };
  },
  /**
   * Get with related data
   */
  getWithRelationsOptimized: (relations, fields) => {
    /* istanbul ignore next */
    cov_10m0as76i().f[22]++;
    cov_10m0as76i().s[56]++;
    return {
      ...queryStrategies.includeRelations(relations),
      ...queryStrategies.selectFields(fields)
    };
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTBtMGFzNzZpIiwiYWN0dWFsQ292ZXJhZ2UiLCJ3aW5zdG9uIiwidHJhY2tEYlF1ZXJ5IiwibG9nZ2VyIiwicyIsImNyZWF0ZUxvZ2dlciIsImRlZmF1bHRNZXRhIiwic2VydmljZSIsImZvcm1hdCIsImNvbWJpbmUiLCJ0aW1lc3RhbXAiLCJqc29uIiwidHJhbnNwb3J0cyIsIkNvbnNvbGUiLCJjb2xvcml6ZSIsInByaW50ZiIsImxldmVsIiwibWVzc2FnZSIsIm1ldGEiLCJmIiwibWV0YVN0ciIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJiIiwiSlNPTiIsInN0cmluZ2lmeSIsIlF1ZXJ5T3B0aW1pemVyIiwic2xvd1F1ZXJ5VGhyZXNob2xkIiwiZXhlY3V0ZVF1ZXJ5Iiwib3BlcmF0aW9uIiwibW9kZWwiLCJxdWVyeUZuIiwic3RhcnQiLCJEYXRlIiwibm93IiwicmVzdWx0IiwiZHVyYXRpb24iLCJ3YXJuIiwidGhyZXNob2xkIiwiZXJyb3IiLCJiYXRjaEV4ZWN1dGUiLCJxdWVyaWVzIiwicmVzdWx0cyIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJxIiwicXVlcnlDb3VudCIsImF2Z0R1cmF0aW9uIiwidG9GaXhlZCIsImV4ZWN1dGVQYWdpbmF0ZWRRdWVyeSIsInBhZ2UiLCJwYWdlU2l6ZSIsInNraXAiLCJ0YWtlIiwiZGF0YSIsImhhc01vcmUiLCJzbGljZSIsImV4ZWN1dGVQcm9qZWN0ZWRRdWVyeSIsImZpZWxkcyIsInNldFNsb3dRdWVyeVRocmVzaG9sZCIsIm1zIiwiaW5mbyIsImdldFNsb3dRdWVyeVRocmVzaG9sZCIsInF1ZXJ5T3B0aW1pemVyIiwicXVlcnlTdHJhdGVnaWVzIiwicGFnaW5hdGUiLCJzZWxlY3RGaWVsZHMiLCJzZWxlY3QiLCJyZWR1Y2UiLCJhY2MiLCJmaWVsZCIsImluY2x1ZGVSZWxhdGlvbnMiLCJyZWxhdGlvbnMiLCJpbmNsdWRlIiwicmVsIiwib3JkZXJCeSIsImRpcmVjdGlvbiIsImZpbHRlciIsImNvbmRpdGlvbnMiLCJ3aGVyZSIsInN0cmF0ZWdpZXMiLCJzdHJhdGVneSIsInF1ZXJ5UGF0dGVybnMiLCJnZXRTaW5nbGVPcHRpbWl6ZWQiLCJnZXRMaXN0T3B0aW1pemVkIiwiZ2V0RmlsdGVyZWRMaXN0T3B0aW1pemVkIiwiZmlsdGVycyIsImdldFdpdGhSZWxhdGlvbnNPcHRpbWl6ZWQiXSwic291cmNlcyI6WyJxdWVyeS1vcHRpbWl6ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHdpbnN0b24gZnJvbSAnd2luc3Rvbic7XG5pbXBvcnQgeyB0cmFja0RiUXVlcnkgfSBmcm9tICcuLi9taWRkbGV3YXJlL3BlcmZvcm1hbmNlJztcblxuY29uc3QgbG9nZ2VyID0gd2luc3Rvbi5jcmVhdGVMb2dnZXIoe1xuICBkZWZhdWx0TWV0YTogeyBzZXJ2aWNlOiAncXVlcnktb3B0aW1pemVyJyB9LFxuICBmb3JtYXQ6IHdpbnN0b24uZm9ybWF0LmNvbWJpbmUoXG4gICAgd2luc3Rvbi5mb3JtYXQudGltZXN0YW1wKHsgZm9ybWF0OiAnWVlZWS1NTS1ERCBISDptbTpzcycgfSksXG4gICAgd2luc3Rvbi5mb3JtYXQuanNvbigpXG4gICksXG4gIHRyYW5zcG9ydHM6IFtcbiAgICBuZXcgd2luc3Rvbi50cmFuc3BvcnRzLkNvbnNvbGUoe1xuICAgICAgZm9ybWF0OiB3aW5zdG9uLmZvcm1hdC5jb21iaW5lKFxuICAgICAgICB3aW5zdG9uLmZvcm1hdC5jb2xvcml6ZSgpLFxuICAgICAgICB3aW5zdG9uLmZvcm1hdC5wcmludGYoKHsgdGltZXN0YW1wLCBsZXZlbCwgbWVzc2FnZSwgLi4ubWV0YSB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgbWV0YVN0ciA9IE9iamVjdC5rZXlzKG1ldGEpLmxlbmd0aCA/IEpTT04uc3RyaW5naWZ5KG1ldGEpIDogJyc7XG4gICAgICAgICAgcmV0dXJuIGAke3RpbWVzdGFtcH0gW1FVRVJZXSAke2xldmVsfTogJHttZXNzYWdlfSAke21ldGFTdHJ9YDtcbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgfSksXG4gIF0sXG59KTtcblxuLyoqXG4gKiBRdWVyeSBPcHRpbWl6ZXIgZm9yIGRhdGFiYXNlIHBlcmZvcm1hbmNlXG4gKiBJbXBsZW1lbnRzIHF1ZXJ5IG9wdGltaXphdGlvbiBzdHJhdGVnaWVzIGFuZCBtb25pdG9yaW5nXG4gKi9cbmV4cG9ydCBjbGFzcyBRdWVyeU9wdGltaXplciB7XG4gIHByaXZhdGUgc2xvd1F1ZXJ5VGhyZXNob2xkOiBudW1iZXIgPSA1MDsgLy8gbXNcblxuICAvKipcbiAgICogRXhlY3V0ZSBxdWVyeSB3aXRoIHBlcmZvcm1hbmNlIHRyYWNraW5nXG4gICAqL1xuICBhc3luYyBleGVjdXRlUXVlcnk8VD4oXG4gICAgb3BlcmF0aW9uOiBzdHJpbmcsXG4gICAgbW9kZWw6IHN0cmluZyxcbiAgICBxdWVyeUZuOiAoKSA9PiBQcm9taXNlPFQ+XG4gICk6IFByb21pc2U8VD4ge1xuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnlGbigpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnQ7XG5cbiAgICAgIC8vIFRyYWNrIHBlcmZvcm1hbmNlXG4gICAgICB0cmFja0RiUXVlcnkob3BlcmF0aW9uLCBtb2RlbCwgZHVyYXRpb24sICdzdWNjZXNzJyk7XG5cbiAgICAgIC8vIExvZyBzbG93IHF1ZXJpZXNcbiAgICAgIGlmIChkdXJhdGlvbiA+IHRoaXMuc2xvd1F1ZXJ5VGhyZXNob2xkKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdTbG93IGRhdGFiYXNlIHF1ZXJ5Jywge1xuICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICB0aHJlc2hvbGQ6IHRoaXMuc2xvd1F1ZXJ5VGhyZXNob2xkLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnQ7XG4gICAgICB0cmFja0RiUXVlcnkob3BlcmF0aW9uLCBtb2RlbCwgZHVyYXRpb24sICdlcnJvcicpO1xuICAgICAgXG4gICAgICBsb2dnZXIuZXJyb3IoJ1F1ZXJ5IGV4ZWN1dGlvbiBlcnJvcicsIHtcbiAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICBtb2RlbCxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIGVycm9yOiAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UsXG4gICAgICB9KTtcblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJhdGNoIGV4ZWN1dGUgcXVlcmllcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gICAqL1xuICBhc3luYyBiYXRjaEV4ZWN1dGU8VD4oXG4gICAgb3BlcmF0aW9uOiBzdHJpbmcsXG4gICAgbW9kZWw6IHN0cmluZyxcbiAgICBxdWVyaWVzOiBBcnJheTwoKSA9PiBQcm9taXNlPFQ+PlxuICApOiBQcm9taXNlPFRbXT4ge1xuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwocXVlcmllcy5tYXAocSA9PiBxKCkpKTtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0O1xuXG4gICAgICB0cmFja0RiUXVlcnkob3BlcmF0aW9uLCBtb2RlbCwgZHVyYXRpb24sICdzdWNjZXNzJyk7XG5cbiAgICAgIGlmIChkdXJhdGlvbiA+IHRoaXMuc2xvd1F1ZXJ5VGhyZXNob2xkKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdTbG93IGJhdGNoIHF1ZXJ5Jywge1xuICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICBxdWVyeUNvdW50OiBxdWVyaWVzLmxlbmd0aCxcbiAgICAgICAgICBhdmdEdXJhdGlvbjogKGR1cmF0aW9uIC8gcXVlcmllcy5sZW5ndGgpLnRvRml4ZWQoMiksXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnQ7XG4gICAgICB0cmFja0RiUXVlcnkob3BlcmF0aW9uLCBtb2RlbCwgZHVyYXRpb24sICdlcnJvcicpO1xuXG4gICAgICBsb2dnZXIuZXJyb3IoJ0JhdGNoIHF1ZXJ5IGV4ZWN1dGlvbiBlcnJvcicsIHtcbiAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICBtb2RlbCxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIHF1ZXJ5Q291bnQ6IHF1ZXJpZXMubGVuZ3RoLFxuICAgICAgICBlcnJvcjogKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlLFxuICAgICAgfSk7XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIHF1ZXJ5IHdpdGggcGFnaW5hdGlvbiBmb3IgbGFyZ2UgcmVzdWx0IHNldHNcbiAgICovXG4gIGFzeW5jIGV4ZWN1dGVQYWdpbmF0ZWRRdWVyeTxUPihcbiAgICBvcGVyYXRpb246IHN0cmluZyxcbiAgICBtb2RlbDogc3RyaW5nLFxuICAgIHF1ZXJ5Rm46IChza2lwOiBudW1iZXIsIHRha2U6IG51bWJlcikgPT4gUHJvbWlzZTxUW10+LFxuICAgIHBhZ2U6IG51bWJlciA9IDEsXG4gICAgcGFnZVNpemU6IG51bWJlciA9IDIwXG4gICk6IFByb21pc2U8eyBkYXRhOiBUW107IHBhZ2U6IG51bWJlcjsgcGFnZVNpemU6IG51bWJlcjsgaGFzTW9yZTogYm9vbGVhbiB9PiB7XG4gICAgY29uc3Qgc2tpcCA9IChwYWdlIC0gMSkgKiBwYWdlU2l6ZTtcbiAgICBjb25zdCB0YWtlID0gcGFnZVNpemUgKyAxOyAvLyBGZXRjaCBvbmUgZXh0cmEgdG8gZGV0ZXJtaW5lIGlmIHRoZXJlIGFyZSBtb3JlXG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5leGVjdXRlUXVlcnkoXG4gICAgICBgJHtvcGVyYXRpb259OnBhZ2luYXRlZGAsXG4gICAgICBtb2RlbCxcbiAgICAgICgpID0+IHF1ZXJ5Rm4oc2tpcCwgdGFrZSlcbiAgICApO1xuXG4gICAgY29uc3QgaGFzTW9yZSA9IGRhdGEubGVuZ3RoID4gcGFnZVNpemU7XG4gICAgY29uc3QgcmVzdWx0ID0gaGFzTW9yZSA/IGRhdGEuc2xpY2UoMCwgcGFnZVNpemUpIDogZGF0YTtcblxuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiByZXN1bHQsXG4gICAgICBwYWdlLFxuICAgICAgcGFnZVNpemUsXG4gICAgICBoYXNNb3JlLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBxdWVyeSB3aXRoIGZpZWxkIHByb2plY3Rpb24gdG8gcmVkdWNlIHBheWxvYWRcbiAgICovXG4gIGFzeW5jIGV4ZWN1dGVQcm9qZWN0ZWRRdWVyeTxUPihcbiAgICBvcGVyYXRpb246IHN0cmluZyxcbiAgICBtb2RlbDogc3RyaW5nLFxuICAgIHF1ZXJ5Rm46IChmaWVsZHM6IHN0cmluZ1tdKSA9PiBQcm9taXNlPFRbXT4sXG4gICAgZmllbGRzOiBzdHJpbmdbXVxuICApOiBQcm9taXNlPFRbXT4ge1xuICAgIHJldHVybiB0aGlzLmV4ZWN1dGVRdWVyeShcbiAgICAgIGAke29wZXJhdGlvbn06cHJvamVjdGVkYCxcbiAgICAgIG1vZGVsLFxuICAgICAgKCkgPT4gcXVlcnlGbihmaWVsZHMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgc2xvdyBxdWVyeSB0aHJlc2hvbGRcbiAgICovXG4gIHNldFNsb3dRdWVyeVRocmVzaG9sZChtczogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5zbG93UXVlcnlUaHJlc2hvbGQgPSBtcztcbiAgICBsb2dnZXIuaW5mbygnU2xvdyBxdWVyeSB0aHJlc2hvbGQgdXBkYXRlZCcsIHsgdGhyZXNob2xkOiBtcyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc2xvdyBxdWVyeSB0aHJlc2hvbGRcbiAgICovXG4gIGdldFNsb3dRdWVyeVRocmVzaG9sZCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnNsb3dRdWVyeVRocmVzaG9sZDtcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgcXVlcnlPcHRpbWl6ZXIgPSBuZXcgUXVlcnlPcHRpbWl6ZXIoKTtcblxuLyoqXG4gKiBRdWVyeSBvcHRpbWl6YXRpb24gc3RyYXRlZ2llc1xuICovXG5leHBvcnQgY29uc3QgcXVlcnlTdHJhdGVnaWVzID0ge1xuICAvKipcbiAgICogVXNlIHBhZ2luYXRpb24gZm9yIGxhcmdlIHJlc3VsdCBzZXRzXG4gICAqL1xuICBwYWdpbmF0ZTogKHBhZ2U6IG51bWJlciA9IDEsIHBhZ2VTaXplOiBudW1iZXIgPSAyMCkgPT4gKHtcbiAgICBza2lwOiAocGFnZSAtIDEpICogcGFnZVNpemUsXG4gICAgdGFrZTogcGFnZVNpemUsXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBTZWxlY3Qgc3BlY2lmaWMgZmllbGRzIHRvIHJlZHVjZSBwYXlsb2FkXG4gICAqL1xuICBzZWxlY3RGaWVsZHM6IChmaWVsZHM6IHN0cmluZ1tdKSA9PiAoe1xuICAgIHNlbGVjdDogZmllbGRzLnJlZHVjZSgoYWNjLCBmaWVsZCkgPT4gKHsgLi4uYWNjLCBbZmllbGRdOiB0cnVlIH0pLCB7fSksXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBJbmNsdWRlIHJlbGF0ZWQgZGF0YSBlZmZpY2llbnRseVxuICAgKi9cbiAgaW5jbHVkZVJlbGF0aW9uczogKHJlbGF0aW9uczogc3RyaW5nW10pID0+ICh7XG4gICAgaW5jbHVkZTogcmVsYXRpb25zLnJlZHVjZSgoYWNjLCByZWwpID0+ICh7IC4uLmFjYywgW3JlbF06IHRydWUgfSksIHt9KSxcbiAgfSksXG5cbiAgLyoqXG4gICAqIE9yZGVyIHJlc3VsdHMgZm9yIGNvbnNpc3RlbnQgcGFnaW5hdGlvblxuICAgKi9cbiAgb3JkZXJCeTogKGZpZWxkOiBzdHJpbmcsIGRpcmVjdGlvbjogJ2FzYycgfCAnZGVzYycgPSAnYXNjJykgPT4gKHtcbiAgICBvcmRlckJ5OiB7IFtmaWVsZF06IGRpcmVjdGlvbiB9LFxuICB9KSxcblxuICAvKipcbiAgICogRmlsdGVyIHJlc3VsdHMgZWZmaWNpZW50bHlcbiAgICovXG4gIGZpbHRlcjogKGNvbmRpdGlvbnM6IFJlY29yZDxzdHJpbmcsIGFueT4pID0+ICh7XG4gICAgd2hlcmU6IGNvbmRpdGlvbnMsXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBDb21iaW5lIG11bHRpcGxlIHN0cmF0ZWdpZXNcbiAgICovXG4gIGNvbWJpbmU6ICguLi5zdHJhdGVnaWVzOiBhbnlbXSkgPT4ge1xuICAgIHJldHVybiBzdHJhdGVnaWVzLnJlZHVjZSgoYWNjLCBzdHJhdGVneSkgPT4gKHsgLi4uYWNjLCAuLi5zdHJhdGVneSB9KSwge30pO1xuICB9LFxufTtcblxuLyoqXG4gKiBDb21tb24gcXVlcnkgcGF0dGVybnMgZm9yIG9wdGltaXphdGlvblxuICovXG5leHBvcnQgY29uc3QgcXVlcnlQYXR0ZXJucyA9IHtcbiAgLyoqXG4gICAqIEdldCBzaW5nbGUgaXRlbSB3aXRoIHNwZWNpZmljIGZpZWxkc1xuICAgKi9cbiAgZ2V0U2luZ2xlT3B0aW1pemVkOiAoZmllbGRzOiBzdHJpbmdbXSkgPT4gKHtcbiAgICAuLi5xdWVyeVN0cmF0ZWdpZXMuc2VsZWN0RmllbGRzKGZpZWxkcyksXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBHZXQgbGlzdCB3aXRoIHBhZ2luYXRpb24gYW5kIGZpZWxkc1xuICAgKi9cbiAgZ2V0TGlzdE9wdGltaXplZDogKHBhZ2U6IG51bWJlciwgcGFnZVNpemU6IG51bWJlciwgZmllbGRzOiBzdHJpbmdbXSkgPT4gKHtcbiAgICAuLi5xdWVyeVN0cmF0ZWdpZXMucGFnaW5hdGUocGFnZSwgcGFnZVNpemUpLFxuICAgIC4uLnF1ZXJ5U3RyYXRlZ2llcy5zZWxlY3RGaWVsZHMoZmllbGRzKSxcbiAgfSksXG5cbiAgLyoqXG4gICAqIEdldCBmaWx0ZXJlZCBsaXN0IHdpdGggcGFnaW5hdGlvblxuICAgKi9cbiAgZ2V0RmlsdGVyZWRMaXN0T3B0aW1pemVkOiAoXG4gICAgZmlsdGVyczogUmVjb3JkPHN0cmluZywgYW55PixcbiAgICBwYWdlOiBudW1iZXIsXG4gICAgcGFnZVNpemU6IG51bWJlcixcbiAgICBmaWVsZHM6IHN0cmluZ1tdXG4gICkgPT4gKHtcbiAgICAuLi5xdWVyeVN0cmF0ZWdpZXMuZmlsdGVyKGZpbHRlcnMpLFxuICAgIC4uLnF1ZXJ5U3RyYXRlZ2llcy5wYWdpbmF0ZShwYWdlLCBwYWdlU2l6ZSksXG4gICAgLi4ucXVlcnlTdHJhdGVnaWVzLnNlbGVjdEZpZWxkcyhmaWVsZHMpLFxuICB9KSxcblxuICAvKipcbiAgICogR2V0IHdpdGggcmVsYXRlZCBkYXRhXG4gICAqL1xuICBnZXRXaXRoUmVsYXRpb25zT3B0aW1pemVkOiAocmVsYXRpb25zOiBzdHJpbmdbXSwgZmllbGRzOiBzdHJpbmdbXSkgPT4gKHtcbiAgICAuLi5xdWVyeVN0cmF0ZWdpZXMuaW5jbHVkZVJlbGF0aW9ucyhyZWxhdGlvbnMpLFxuICAgIC4uLnF1ZXJ5U3RyYXRlZ2llcy5zZWxlY3RGaWVsZHMoZmllbGRzKSxcbiAgfSksXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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