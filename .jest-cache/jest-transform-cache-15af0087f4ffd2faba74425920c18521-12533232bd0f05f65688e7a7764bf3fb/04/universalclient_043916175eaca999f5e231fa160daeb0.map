{"version":3,"names":["cov_um8ucry6v","actualCoverage","UniversalApiClient","constructor","config","b","f","s","baseURL","process","env","NEXT_PUBLIC_API_URL","timeout","retries","retryDelay","headers","services","request","endpoint","options","url","buildUrl","buildHeaders","lastError","attempt","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","signal","clearTimeout","ok","handleErrorResponse","data","json","status","statusText","error","Error","delay","get","method","post","body","JSON","stringify","undefined","put","delete","patch","startsWith","service","path","Object","entries","slice","length","base","endsWith","customHeaders","Headers","custom","forEach","value","key","set","errorData","message","code","details","ms","Promise","resolve","updateConfig","setAuthToken","token","Authorization","clearAuthToken","createApiClient","apiClient","education","mint","ai","marketplace","forge"],"sources":["universal-client.ts"],"sourcesContent":["/**\n * AZORA UNIVERSAL API CLIENT\n * \n * Generic API client that works for all apps and services\n * Features: Retry logic, error handling, environment-based URLs, TypeScript support\n * \n * Usage:\n * const client = createApiClient({ baseURL: 'http://localhost:4000' });\n * const data = await client.get('/api/courses');\n */\n\nexport interface ApiClientConfig {\n    baseURL?: string;\n    timeout?: number;\n    retries?: number;\n    retryDelay?: number;\n    headers?: Record<string, string>;\n    services?: Record<string, string>;\n}\n\nexport interface ApiResponse<T = any> {\n    data: T;\n    status: number;\n    statusText: string;\n    headers: Headers;\n}\n\nexport interface ApiError {\n    message: string;\n    status?: number;\n    code?: string;\n    details?: any;\n}\n\nclass UniversalApiClient {\n    private config: Required<ApiClientConfig>;\n\n    constructor(config: ApiClientConfig = {}) {\n        this.config = {\n            baseURL: config.baseURL || process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000',\n            timeout: config.timeout || 30000,\n            retries: config.retries || 3,\n            retryDelay: config.retryDelay || 1000,\n            headers: config.headers || {},\n            services: config.services || {},\n        };\n    }\n\n    /**\n     * Generic request method with retry logic\n     */\n    private async request<T>(\n        endpoint: string,\n        options: RequestInit = {}\n    ): Promise<ApiResponse<T>> {\n        const url = this.buildUrl(endpoint);\n        const headers = this.buildHeaders(options.headers);\n\n        let lastError: Error | null = null;\n\n        for (let attempt = 0; attempt <= this.config.retries; attempt++) {\n            try {\n                const controller = new AbortController();\n                const timeoutId = setTimeout(() => controller.abort(), this.config.timeout);\n\n                const response = await fetch(url, {\n                    ...options,\n                    headers,\n                    signal: controller.signal,\n                });\n\n                clearTimeout(timeoutId);\n\n                if (!response.ok) {\n                    throw await this.handleErrorResponse(response);\n                }\n\n                const data = await response.json();\n\n                return {\n                    data,\n                    status: response.status,\n                    statusText: response.statusText,\n                    headers: response.headers,\n                };\n            } catch (error) {\n                lastError = error as Error;\n\n                // Don't retry on client errors (4xx)\n                if (error instanceof Error && 'status' in error &&\n                    (error as any).status >= 400 && (error as any).status < 500) {\n                    throw error;\n                }\n\n                // Wait before retrying\n                if (attempt < this.config.retries) {\n                    await this.delay(this.config.retryDelay * (attempt + 1));\n                }\n            }\n        }\n\n        throw lastError || new Error('Request failed after retries');\n    }\n\n    /**\n     * GET request\n     */\n    async get<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\n        const response = await this.request<T>(endpoint, {\n            ...options,\n            method: 'GET',\n        });\n        return response.data;\n    }\n\n    /**\n     * POST request\n     */\n    async post<T>(endpoint: string, data?: any, options: RequestInit = {}): Promise<T> {\n        const response = await this.request<T>(endpoint, {\n            ...options,\n            method: 'POST',\n            body: data ? JSON.stringify(data) : undefined,\n        });\n        return response.data;\n    }\n\n    /**\n     * PUT request\n     */\n    async put<T>(endpoint: string, data?: any, options: RequestInit = {}): Promise<T> {\n        const response = await this.request<T>(endpoint, {\n            ...options,\n            method: 'PUT',\n            body: data ? JSON.stringify(data) : undefined,\n        });\n        return response.data;\n    }\n\n    /**\n     * DELETE request\n     */\n    async delete<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\n        const response = await this.request<T>(endpoint, {\n            ...options,\n            method: 'DELETE',\n        });\n        return response.data;\n    }\n\n    /**\n     * PATCH request\n     */\n    async patch<T>(endpoint: string, data?: any, options: RequestInit = {}): Promise<T> {\n        const response = await this.request<T>(endpoint, {\n            ...options,\n            method: 'PATCH',\n            body: data ? JSON.stringify(data) : undefined,\n        });\n        return response.data;\n    }\n\n    /**\n     * Build full URL from endpoint\n     */\n    private buildUrl(endpoint: string): string {\n        // If endpoint is already a full URL, return it\n        if (endpoint.startsWith('http://') || endpoint.startsWith('https://')) {\n            return endpoint;\n        }\n\n        // Check if endpoint matches a service shorthand\n        for (const [service, path] of Object.entries(this.config.services)) {\n            if (endpoint.startsWith(`@${service}`)) {\n                return `${this.config.baseURL}${path}${endpoint.slice(service.length + 1)}`;\n            }\n        }\n\n        // Default: append to baseURL\n        const base = this.config.baseURL.endsWith('/')\n            ? this.config.baseURL.slice(0, -1)\n            : this.config.baseURL;\n        const path = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;\n\n        return `${base}${path}`;\n    }\n\n    /**\n     * Build headers with defaults\n     */\n    private buildHeaders(customHeaders?: HeadersInit): Headers {\n        const headers = new Headers({\n            'Content-Type': 'application/json',\n            ...this.config.headers,\n        });\n\n        if (customHeaders) {\n            const custom = new Headers(customHeaders);\n            custom.forEach((value, key) => {\n                headers.set(key, value);\n            });\n        }\n\n        return headers;\n    }\n\n    /**\n     * Handle error responses\n     */\n    private async handleErrorResponse(response: Response): Promise<ApiError> {\n        let errorData: any;\n\n        try {\n            errorData = await response.json();\n        } catch {\n            errorData = { message: response.statusText };\n        }\n\n        const error: ApiError = {\n            message: errorData.message || errorData.error || `HTTP ${response.status}: ${response.statusText}`,\n            status: response.status,\n            code: errorData.code,\n            details: errorData,\n        };\n\n        return error;\n    }\n\n    /**\n     * Delay helper for retries\n     */\n    private delay(ms: number): Promise<void> {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    /**\n     * Update configuration\n     */\n    updateConfig(config: Partial<ApiClientConfig>): void {\n        this.config = {\n            ...this.config,\n            ...config,\n            headers: {\n                ...this.config.headers,\n                ...config.headers,\n            },\n            services: {\n                ...this.config.services,\n                ...config.services,\n            },\n        };\n    }\n\n    /**\n     * Set authorization token\n     */\n    setAuthToken(token: string): void {\n        this.updateConfig({\n            headers: {\n                Authorization: `Bearer ${token}`,\n            },\n        });\n    }\n\n    /**\n     * Clear authorization token\n     */\n    clearAuthToken(): void {\n        const { Authorization, ...headers } = this.config.headers;\n        this.config.headers = headers;\n    }\n}\n\n/**\n * Create API client instance\n */\nexport function createApiClient(config?: ApiClientConfig): UniversalApiClient {\n    return new UniversalApiClient(config);\n}\n\n/**\n * Default client instance\n */\nexport const apiClient = createApiClient({\n    services: {\n        education: '/api/education',\n        mint: '/api/mint',\n        ai: '/api/ai',\n        marketplace: '/api/marketplace',\n        forge: '/api/forge',\n    },\n});\n\nexport default apiClient;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}