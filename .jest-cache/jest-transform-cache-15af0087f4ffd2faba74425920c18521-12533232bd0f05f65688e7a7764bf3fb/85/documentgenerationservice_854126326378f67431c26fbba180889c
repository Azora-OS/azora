f79adf117250a94c66a5f056863f5dea
/* istanbul ignore next */
function cov_vdz701lht() {
  var path = "/workspaces/azora/services/elara-incubator/src/services/document-generation.service.ts";
  var hash = "56b89e06165cdc4830bee93ab6f3327343e7473e";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/elara-incubator/src/services/document-generation.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 7,
          column: 23
        },
        end: {
          line: 7,
          column: 27
        }
      },
      "1": {
        start: {
          line: 8,
          column: 19
        },
        end: {
          line: 8,
          column: 24
        }
      },
      "2": {
        start: {
          line: 10,
          column: 19
        },
        end: {
          line: 23,
          column: 1
        }
      },
      "3": {
        start: {
          line: 11,
          column: 2
        },
        end: {
          line: 21,
          column: 3
        }
      },
      "4": {
        start: {
          line: 12,
          column: 4
        },
        end: {
          line: 20,
          column: 5
        }
      },
      "5": {
        start: {
          line: 14,
          column: 21
        },
        end: {
          line: 14,
          column: 43
        }
      },
      "6": {
        start: {
          line: 15,
          column: 6
        },
        end: {
          line: 15,
          column: 45
        }
      },
      "7": {
        start: {
          line: 16,
          column: 6
        },
        end: {
          line: 16,
          column: 26
        }
      },
      "8": {
        start: {
          line: 18,
          column: 6
        },
        end: {
          line: 18,
          column: 77
        }
      },
      "9": {
        start: {
          line: 19,
          column: 6
        },
        end: {
          line: 19,
          column: 26
        }
      },
      "10": {
        start: {
          line: 22,
          column: 2
        },
        end: {
          line: 22,
          column: 21
        }
      },
      "11": {
        start: {
          line: 26,
          column: 55
        },
        end: {
          line: 26,
          column: 64
        }
      },
      "12": {
        start: {
          line: 27,
          column: 55
        },
        end: {
          line: 27,
          column: 64
        }
      },
      "13": {
        start: {
          line: 28,
          column: 45
        },
        end: {
          line: 28,
          column: 54
        }
      },
      "14": {
        start: {
          line: 41,
          column: 4
        },
        end: {
          line: 41,
          column: 56
        }
      },
      "15": {
        start: {
          line: 44,
          column: 23
        },
        end: {
          line: 44,
          column: 98
        }
      },
      "16": {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 47,
          column: 5
        }
      },
      "17": {
        start: {
          line: 46,
          column: 6
        },
        end: {
          line: 46,
          column: 97
        }
      },
      "18": {
        start: {
          line: 50,
          column: 21
        },
        end: {
          line: 50,
          column: 82
        }
      },
      "19": {
        start: {
          line: 53,
          column: 4
        },
        end: {
          line: 53,
          column: 50
        }
      },
      "20": {
        start: {
          line: 56,
          column: 4
        },
        end: {
          line: 58,
          column: 5
        }
      },
      "21": {
        start: {
          line: 57,
          column: 6
        },
        end: {
          line: 57,
          column: 44
        }
      },
      "22": {
        start: {
          line: 59,
          column: 4
        },
        end: {
          line: 59,
          column: 61
        }
      },
      "23": {
        start: {
          line: 61,
          column: 4
        },
        end: {
          line: 61,
          column: 20
        }
      },
      "24": {
        start: {
          line: 69,
          column: 21
        },
        end: {
          line: 69,
          column: 75
        }
      },
      "25": {
        start: {
          line: 71,
          column: 4
        },
        end: {
          line: 112,
          column: 7
        }
      },
      "26": {
        start: {
          line: 72,
          column: 6
        },
        end: {
          line: 111,
          column: 7
        }
      },
      "27": {
        start: {
          line: 73,
          column: 23
        },
        end: {
          line: 73,
          column: 41
        }
      },
      "28": {
        start: {
          line: 75,
          column: 8
        },
        end: {
          line: 81,
          column: 9
        }
      },
      "29": {
        start: {
          line: 77,
          column: 30
        },
        end: {
          line: 77,
          column: 62
        }
      },
      "30": {
        start: {
          line: 78,
          column: 10
        },
        end: {
          line: 78,
          column: 55
        }
      },
      "31": {
        start: {
          line: 79,
          column: 10
        },
        end: {
          line: 79,
          column: 31
        }
      },
      "32": {
        start: {
          line: 80,
          column: 10
        },
        end: {
          line: 80,
          column: 17
        }
      },
      "33": {
        start: {
          line: 83,
          column: 23
        },
        end: {
          line: 86,
          column: 10
        }
      },
      "34": {
        start: {
          line: 88,
          column: 33
        },
        end: {
          line: 88,
          column: 35
        }
      },
      "35": {
        start: {
          line: 90,
          column: 8
        },
        end: {
          line: 92,
          column: 11
        }
      },
      "36": {
        start: {
          line: 91,
          column: 10
        },
        end: {
          line: 91,
          column: 29
        }
      },
      "37": {
        start: {
          line: 94,
          column: 8
        },
        end: {
          line: 99,
          column: 11
        }
      },
      "38": {
        start: {
          line: 95,
          column: 28
        },
        end: {
          line: 95,
          column: 49
        }
      },
      "39": {
        start: {
          line: 97,
          column: 10
        },
        end: {
          line: 97,
          column: 53
        }
      },
      "40": {
        start: {
          line: 98,
          column: 10
        },
        end: {
          line: 98,
          column: 29
        }
      },
      "41": {
        start: {
          line: 101,
          column: 8
        },
        end: {
          line: 103,
          column: 11
        }
      },
      "42": {
        start: {
          line: 102,
          column: 10
        },
        end: {
          line: 102,
          column: 24
        }
      },
      "43": {
        start: {
          line: 106,
          column: 8
        },
        end: {
          line: 106,
          column: 47
        }
      },
      "44": {
        start: {
          line: 108,
          column: 8
        },
        end: {
          line: 108,
          column: 21
        }
      },
      "45": {
        start: {
          line: 110,
          column: 8
        },
        end: {
          line: 110,
          column: 22
        }
      },
      "46": {
        start: {
          line: 130,
          column: 21
        },
        end: {
          line: 130,
          column: 70
        }
      },
      "47": {
        start: {
          line: 133,
          column: 4
        },
        end: {
          line: 136,
          column: 5
        }
      },
      "48": {
        start: {
          line: 134,
          column: 6
        },
        end: {
          line: 134,
          column: 77
        }
      },
      "49": {
        start: {
          line: 135,
          column: 6
        },
        end: {
          line: 135,
          column: 52
        }
      },
      "50": {
        start: {
          line: 138,
          column: 4
        },
        end: {
          line: 138,
          column: 20
        }
      },
      "51": {
        start: {
          line: 153,
          column: 37
        },
        end: {
          line: 153,
          column: 39
        }
      },
      "52": {
        start: {
          line: 155,
          column: 4
        },
        end: {
          line: 169,
          column: 5
        }
      },
      "53": {
        start: {
          line: 156,
          column: 6
        },
        end: {
          line: 168,
          column: 7
        }
      },
      "54": {
        start: {
          line: 157,
          column: 26
        },
        end: {
          line: 164,
          column: 9
        }
      },
      "55": {
        start: {
          line: 165,
          column: 8
        },
        end: {
          line: 165,
          column: 32
        }
      },
      "56": {
        start: {
          line: 167,
          column: 8
        },
        end: {
          line: 167,
          column: 93
        }
      },
      "57": {
        start: {
          line: 171,
          column: 4
        },
        end: {
          line: 171,
          column: 19
        }
      },
      "58": {
        start: {
          line: 179,
          column: 4
        },
        end: {
          line: 179,
          column: 60
        }
      },
      "59": {
        start: {
          line: 194,
          column: 21
        },
        end: {
          line: 194,
          column: 75
        }
      },
      "60": {
        start: {
          line: 197,
          column: 4
        },
        end: {
          line: 199,
          column: 5
        }
      },
      "61": {
        start: {
          line: 198,
          column: 6
        },
        end: {
          line: 198,
          column: 62
        }
      },
      "62": {
        start: {
          line: 201,
          column: 4
        },
        end: {
          line: 201,
          column: 68
        }
      },
      "63": {
        start: {
          line: 209,
          column: 21
        },
        end: {
          line: 209,
          column: 75
        }
      },
      "64": {
        start: {
          line: 210,
          column: 4
        },
        end: {
          line: 210,
          column: 28
        }
      },
      "65": {
        start: {
          line: 218,
          column: 21
        },
        end: {
          line: 218,
          column: 75
        }
      },
      "66": {
        start: {
          line: 220,
          column: 4
        },
        end: {
          line: 231,
          column: 6
        }
      },
      "67": {
        start: {
          line: 246,
          column: 17
        },
        end: {
          line: 246,
          column: 99
        }
      },
      "68": {
        start: {
          line: 246,
          column: 71
        },
        end: {
          line: 246,
          column: 98
        }
      },
      "69": {
        start: {
          line: 248,
          column: 4
        },
        end: {
          line: 253,
          column: 8
        }
      },
      "70": {
        start: {
          line: 248,
          column: 28
        },
        end: {
          line: 253,
          column: 5
        }
      },
      "71": {
        start: {
          line: 269,
          column: 4
        },
        end: {
          line: 269,
          column: 59
        }
      },
      "72": {
        start: {
          line: 271,
          column: 21
        },
        end: {
          line: 271,
          column: 59
        }
      },
      "73": {
        start: {
          line: 273,
          column: 4
        },
        end: {
          line: 278,
          column: 8
        }
      },
      "74": {
        start: {
          line: 273,
          column: 39
        },
        end: {
          line: 278,
          column: 5
        }
      },
      "75": {
        start: {
          line: 290,
          column: 21
        },
        end: {
          line: 290,
          column: 75
        }
      },
      "76": {
        start: {
          line: 291,
          column: 21
        },
        end: {
          line: 291,
          column: 59
        }
      },
      "77": {
        start: {
          line: 293,
          column: 4
        },
        end: {
          line: 295,
          column: 5
        }
      },
      "78": {
        start: {
          line: 294,
          column: 6
        },
        end: {
          line: 294,
          column: 74
        }
      },
      "79": {
        start: {
          line: 297,
          column: 26
        },
        end: {
          line: 297,
          column: 53
        }
      },
      "80": {
        start: {
          line: 300,
          column: 20
        },
        end: {
          line: 303,
          column: 6
        }
      },
      "81": {
        start: {
          line: 306,
          column: 4
        },
        end: {
          line: 306,
          column: 59
        }
      },
      "82": {
        start: {
          line: 308,
          column: 4
        },
        end: {
          line: 308,
          column: 19
        }
      },
      "83": {
        start: {
          line: 316,
          column: 4
        },
        end: {
          line: 316,
          column: 47
        }
      },
      "84": {
        start: {
          line: 325,
          column: 4
        },
        end: {
          line: 325,
          column: 59
        }
      },
      "85": {
        start: {
          line: 327,
          column: 16
        },
        end: {
          line: 327,
          column: 47
        }
      },
      "86": {
        start: {
          line: 328,
          column: 4
        },
        end: {
          line: 330,
          column: 5
        }
      },
      "87": {
        start: {
          line: 329,
          column: 6
        },
        end: {
          line: 329,
          column: 60
        }
      },
      "88": {
        start: {
          line: 332,
          column: 4
        },
        end: {
          line: 332,
          column: 15
        }
      },
      "89": {
        start: {
          line: 347,
          column: 29
        },
        end: {
          line: 347,
          column: 31
        }
      },
      "90": {
        start: {
          line: 348,
          column: 31
        },
        end: {
          line: 348,
          column: 33
        }
      },
      "91": {
        start: {
          line: 350,
          column: 4
        },
        end: {
          line: 377,
          column: 5
        }
      },
      "92": {
        start: {
          line: 351,
          column: 6
        },
        end: {
          line: 351,
          column: 53
        }
      },
      "93": {
        start: {
          line: 354,
          column: 25
        },
        end: {
          line: 354,
          column: 90
        }
      },
      "94": {
        start: {
          line: 355,
          column: 6
        },
        end: {
          line: 357,
          column: 7
        }
      },
      "95": {
        start: {
          line: 356,
          column: 8
        },
        end: {
          line: 356,
          column: 87
        }
      },
      "96": {
        start: {
          line: 360,
          column: 6
        },
        end: {
          line: 364,
          column: 9
        }
      },
      "97": {
        start: {
          line: 361,
          column: 8
        },
        end: {
          line: 363,
          column: 9
        }
      },
      "98": {
        start: {
          line: 362,
          column: 10
        },
        end: {
          line: 362,
          column: 51
        }
      },
      "99": {
        start: {
          line: 366,
          column: 6
        },
        end: {
          line: 370,
          column: 8
        }
      },
      "100": {
        start: {
          line: 372,
          column: 6
        },
        end: {
          line: 376,
          column: 8
        }
      },
      "101": {
        start: {
          line: 389,
          column: 17
        },
        end: {
          line: 389,
          column: 99
        }
      },
      "102": {
        start: {
          line: 389,
          column: 71
        },
        end: {
          line: 389,
          column: 98
        }
      },
      "103": {
        start: {
          line: 391,
          column: 45
        },
        end: {
          line: 391,
          column: 47
        }
      },
      "104": {
        start: {
          line: 392,
          column: 47
        },
        end: {
          line: 392,
          column: 49
        }
      },
      "105": {
        start: {
          line: 394,
          column: 4
        },
        end: {
          line: 397,
          column: 7
        }
      },
      "106": {
        start: {
          line: 395,
          column: 6
        },
        end: {
          line: 395,
          column: 57
        }
      },
      "107": {
        start: {
          line: 396,
          column: 6
        },
        end: {
          line: 396,
          column: 69
        }
      },
      "108": {
        start: {
          line: 399,
          column: 4
        },
        end: {
          line: 403,
          column: 6
        }
      },
      "109": {
        start: {
          line: 412,
          column: 23
        },
        end: {
          line: 451,
          column: 6
        }
      },
      "110": {
        start: {
          line: 453,
          column: 4
        },
        end: {
          line: 453,
          column: 44
        }
      },
      "111": {
        start: {
          line: 462,
          column: 4
        },
        end: {
          line: 462,
          column: 91
        }
      },
      "112": {
        start: {
          line: 463,
          column: 4
        },
        end: {
          line: 463,
          column: 22
        }
      },
      "113": {
        start: {
          line: 466,
          column: 4
        },
        end: {
          line: 466,
          column: 78
        }
      },
      "114": {
        start: {
          line: 467,
          column: 4
        },
        end: {
          line: 467,
          column: 46
        }
      },
      "115": {
        start: {
          line: 468,
          column: 4
        },
        end: {
          line: 468,
          column: 71
        }
      },
      "116": {
        start: {
          line: 469,
          column: 4
        },
        end: {
          line: 469,
          column: 22
        }
      },
      "117": {
        start: {
          line: 472,
          column: 4
        },
        end: {
          line: 475,
          column: 7
        }
      },
      "118": {
        start: {
          line: 478,
          column: 4
        },
        end: {
          line: 478,
          column: 22
        }
      },
      "119": {
        start: {
          line: 479,
          column: 4
        },
        end: {
          line: 481,
          column: 7
        }
      },
      "120": {
        start: {
          line: 498,
          column: 24
        },
        end: {
          line: 498,
          column: 31
        }
      },
      "121": {
        start: {
          line: 500,
          column: 4
        },
        end: {
          line: 502,
          column: 5
        }
      },
      "122": {
        start: {
          line: 501,
          column: 6
        },
        end: {
          line: 501,
          column: 66
        }
      },
      "123": {
        start: {
          line: 504,
          column: 4
        },
        end: {
          line: 506,
          column: 5
        }
      },
      "124": {
        start: {
          line: 505,
          column: 6
        },
        end: {
          line: 505,
          column: 66
        }
      },
      "125": {
        start: {
          line: 508,
          column: 4
        },
        end: {
          line: 508,
          column: 25
        }
      },
      "126": {
        start: {
          line: 512,
          column: 41
        },
        end: {
          line: 512,
          column: 72
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 10,
            column: 19
          },
          end: {
            line: 10,
            column: 20
          }
        },
        loc: {
          start: {
            line: 10,
            column: 31
          },
          end: {
            line: 23,
            column: 1
          }
        },
        line: 10
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 35,
            column: 2
          },
          end: {
            line: 35,
            column: 3
          }
        },
        loc: {
          start: {
            line: 39,
            column: 28
          },
          end: {
            line: 62,
            column: 3
          }
        },
        line: 39
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 68,
            column: 2
          },
          end: {
            line: 68,
            column: 3
          }
        },
        loc: {
          start: {
            line: 68,
            column: 73
          },
          end: {
            line: 113,
            column: 3
          }
        },
        line: 68
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 71,
            column: 23
          },
          end: {
            line: 71,
            column: 24
          }
        },
        loc: {
          start: {
            line: 71,
            column: 50
          },
          end: {
            line: 112,
            column: 5
          }
        },
        line: 71
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 90,
            column: 26
          },
          end: {
            line: 90,
            column: 27
          }
        },
        loc: {
          start: {
            line: 90,
            column: 45
          },
          end: {
            line: 92,
            column: 9
          }
        },
        line: 90
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 94,
            column: 25
          },
          end: {
            line: 94,
            column: 26
          }
        },
        loc: {
          start: {
            line: 94,
            column: 31
          },
          end: {
            line: 99,
            column: 9
          }
        },
        line: 94
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 101,
            column: 27
          },
          end: {
            line: 101,
            column: 28
          }
        },
        loc: {
          start: {
            line: 101,
            column: 45
          },
          end: {
            line: 103,
            column: 9
          }
        },
        line: 101
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 119,
            column: 2
          },
          end: {
            line: 119,
            column: 3
          }
        },
        loc: {
          start: {
            line: 129,
            column: 28
          },
          end: {
            line: 139,
            column: 3
          }
        },
        line: 129
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 145,
            column: 2
          },
          end: {
            line: 145,
            column: 3
          }
        },
        loc: {
          start: {
            line: 152,
            column: 30
          },
          end: {
            line: 172,
            column: 3
          }
        },
        line: 152
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 178,
            column: 2
          },
          end: {
            line: 178,
            column: 3
          }
        },
        loc: {
          start: {
            line: 178,
            column: 89
          },
          end: {
            line: 180,
            column: 3
          }
        },
        line: 178
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 186,
            column: 2
          },
          end: {
            line: 186,
            column: 3
          }
        },
        loc: {
          start: {
            line: 193,
            column: 28
          },
          end: {
            line: 202,
            column: 3
          }
        },
        line: 193
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 208,
            column: 2
          },
          end: {
            line: 208,
            column: 3
          }
        },
        loc: {
          start: {
            line: 208,
            column: 74
          },
          end: {
            line: 211,
            column: 3
          }
        },
        line: 208
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 217,
            column: 2
          },
          end: {
            line: 217,
            column: 3
          }
        },
        loc: {
          start: {
            line: 217,
            column: 87
          },
          end: {
            line: 232,
            column: 3
          }
        },
        line: 217
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 238,
            column: 2
          },
          end: {
            line: 238,
            column: 3
          }
        },
        loc: {
          start: {
            line: 245,
            column: 4
          },
          end: {
            line: 254,
            column: 3
          }
        },
        line: 245
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 246,
            column: 64
          },
          end: {
            line: 246,
            column: 65
          }
        },
        loc: {
          start: {
            line: 246,
            column: 71
          },
          end: {
            line: 246,
            column: 98
          }
        },
        line: 246
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 248,
            column: 20
          },
          end: {
            line: 248,
            column: 21
          }
        },
        loc: {
          start: {
            line: 248,
            column: 28
          },
          end: {
            line: 253,
            column: 5
          }
        },
        line: 248
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 260,
            column: 2
          },
          end: {
            line: 260,
            column: 3
          }
        },
        loc: {
          start: {
            line: 267,
            column: 4
          },
          end: {
            line: 279,
            column: 3
          }
        },
        line: 267
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 273,
            column: 24
          },
          end: {
            line: 273,
            column: 25
          }
        },
        loc: {
          start: {
            line: 273,
            column: 39
          },
          end: {
            line: 278,
            column: 5
          }
        },
        line: 273
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 285,
            column: 2
          },
          end: {
            line: 285,
            column: 3
          }
        },
        loc: {
          start: {
            line: 289,
            column: 28
          },
          end: {
            line: 309,
            column: 3
          }
        },
        line: 289
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 315,
            column: 2
          },
          end: {
            line: 315,
            column: 3
          }
        },
        loc: {
          start: {
            line: 315,
            column: 71
          },
          end: {
            line: 317,
            column: 3
          }
        },
        line: 315
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 323,
            column: 2
          },
          end: {
            line: 323,
            column: 3
          }
        },
        loc: {
          start: {
            line: 323,
            column: 73
          },
          end: {
            line: 333,
            column: 3
          }
        },
        line: 323
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 339,
            column: 2
          },
          end: {
            line: 339,
            column: 3
          }
        },
        loc: {
          start: {
            line: 346,
            column: 5
          },
          end: {
            line: 378,
            column: 3
          }
        },
        line: 346
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 360,
            column: 35
          },
          end: {
            line: 360,
            column: 36
          }
        },
        loc: {
          start: {
            line: 360,
            column: 53
          },
          end: {
            line: 364,
            column: 7
          }
        },
        line: 360
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 384,
            column: 2
          },
          end: {
            line: 384,
            column: 3
          }
        },
        loc: {
          start: {
            line: 388,
            column: 5
          },
          end: {
            line: 404,
            column: 3
          }
        },
        line: 388
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 389,
            column: 64
          },
          end: {
            line: 389,
            column: 65
          }
        },
        loc: {
          start: {
            line: 389,
            column: 71
          },
          end: {
            line: 389,
            column: 98
          }
        },
        line: 389
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 394,
            column: 17
          },
          end: {
            line: 394,
            column: 18
          }
        },
        loc: {
          start: {
            line: 394,
            column: 24
          },
          end: {
            line: 397,
            column: 5
          }
        },
        line: 394
      },
      "26": {
        name: "(anonymous_26)",
        decl: {
          start: {
            line: 410,
            column: 2
          },
          end: {
            line: 410,
            column: 3
          }
        },
        loc: {
          start: {
            line: 410,
            column: 61
          },
          end: {
            line: 454,
            column: 3
          }
        },
        line: 410
      },
      "27": {
        name: "(anonymous_27)",
        decl: {
          start: {
            line: 460,
            column: 2
          },
          end: {
            line: 460,
            column: 3
          }
        },
        loc: {
          start: {
            line: 460,
            column: 70
          },
          end: {
            line: 482,
            column: 3
          }
        },
        line: 460
      },
      "28": {
        name: "(anonymous_28)",
        decl: {
          start: {
            line: 488,
            column: 2
          },
          end: {
            line: 488,
            column: 3
          }
        },
        loc: {
          start: {
            line: 497,
            column: 12
          },
          end: {
            line: 509,
            column: 3
          }
        },
        line: 497
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 11,
            column: 2
          },
          end: {
            line: 21,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 11,
            column: 2
          },
          end: {
            line: 21,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 11
      },
      "1": {
        loc: {
          start: {
            line: 15,
            column: 20
          },
          end: {
            line: 15,
            column: 44
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 15,
            column: 20
          },
          end: {
            line: 15,
            column: 34
          }
        }, {
          start: {
            line: 15,
            column: 38
          },
          end: {
            line: 15,
            column: 44
          }
        }],
        line: 15
      },
      "2": {
        loc: {
          start: {
            line: 45,
            column: 4
          },
          end: {
            line: 47,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 45,
            column: 4
          },
          end: {
            line: 47,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 45
      },
      "3": {
        loc: {
          start: {
            line: 56,
            column: 4
          },
          end: {
            line: 58,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 56,
            column: 4
          },
          end: {
            line: 58,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 56
      },
      "4": {
        loc: {
          start: {
            line: 75,
            column: 8
          },
          end: {
            line: 81,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 75,
            column: 8
          },
          end: {
            line: 81,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 75
      },
      "5": {
        loc: {
          start: {
            line: 133,
            column: 4
          },
          end: {
            line: 136,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 133,
            column: 4
          },
          end: {
            line: 136,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 133
      },
      "6": {
        loc: {
          start: {
            line: 197,
            column: 4
          },
          end: {
            line: 199,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 197,
            column: 4
          },
          end: {
            line: 199,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 197
      },
      "7": {
        loc: {
          start: {
            line: 271,
            column: 21
          },
          end: {
            line: 271,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 271,
            column: 21
          },
          end: {
            line: 271,
            column: 53
          }
        }, {
          start: {
            line: 271,
            column: 57
          },
          end: {
            line: 271,
            column: 59
          }
        }],
        line: 271
      },
      "8": {
        loc: {
          start: {
            line: 291,
            column: 21
          },
          end: {
            line: 291,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 291,
            column: 21
          },
          end: {
            line: 291,
            column: 53
          }
        }, {
          start: {
            line: 291,
            column: 57
          },
          end: {
            line: 291,
            column: 59
          }
        }],
        line: 291
      },
      "9": {
        loc: {
          start: {
            line: 293,
            column: 4
          },
          end: {
            line: 295,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 293,
            column: 4
          },
          end: {
            line: 295,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 293
      },
      "10": {
        loc: {
          start: {
            line: 293,
            column: 8
          },
          end: {
            line: 293,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 293,
            column: 8
          },
          end: {
            line: 293,
            column: 25
          }
        }, {
          start: {
            line: 293,
            column: 29
          },
          end: {
            line: 293,
            column: 60
          }
        }],
        line: 293
      },
      "11": {
        loc: {
          start: {
            line: 328,
            column: 4
          },
          end: {
            line: 330,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 328,
            column: 4
          },
          end: {
            line: 330,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 328
      },
      "12": {
        loc: {
          start: {
            line: 355,
            column: 6
          },
          end: {
            line: 357,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 355,
            column: 6
          },
          end: {
            line: 357,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 355
      },
      "13": {
        loc: {
          start: {
            line: 361,
            column: 8
          },
          end: {
            line: 363,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 361,
            column: 8
          },
          end: {
            line: 363,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 361
      },
      "14": {
        loc: {
          start: {
            line: 361,
            column: 12
          },
          end: {
            line: 361,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 361,
            column: 12
          },
          end: {
            line: 361,
            column: 37
          }
        }, {
          start: {
            line: 361,
            column: 41
          },
          end: {
            line: 361,
            column: 66
          }
        }],
        line: 361
      },
      "15": {
        loc: {
          start: {
            line: 395,
            column: 28
          },
          end: {
            line: 395,
            column: 51
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 395,
            column: 28
          },
          end: {
            line: 395,
            column: 46
          }
        }, {
          start: {
            line: 395,
            column: 50
          },
          end: {
            line: 395,
            column: 51
          }
        }],
        line: 395
      },
      "16": {
        loc: {
          start: {
            line: 396,
            column: 34
          },
          end: {
            line: 396,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 396,
            column: 34
          },
          end: {
            line: 396,
            column: 58
          }
        }, {
          start: {
            line: 396,
            column: 62
          },
          end: {
            line: 396,
            column: 63
          }
        }],
        line: 396
      },
      "17": {
        loc: {
          start: {
            line: 500,
            column: 4
          },
          end: {
            line: 502,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 500,
            column: 4
          },
          end: {
            line: 502,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 500
      },
      "18": {
        loc: {
          start: {
            line: 504,
            column: 4
          },
          end: {
            line: 506,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 504,
            column: 4
          },
          end: {
            line: 506,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 504
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "56b89e06165cdc4830bee93ab6f3327343e7473e"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_vdz701lht = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_vdz701lht();
import { AppError } from '../middleware/errorHandler.js';
import { legalService } from './legal.service.js';

// Lazy load pdfkit to avoid import errors if not installed
let PDFDocument =
/* istanbul ignore next */
(cov_vdz701lht().s[0]++, null);
let pdfkitLoaded =
/* istanbul ignore next */
(cov_vdz701lht().s[1]++, false);
/* istanbul ignore next */
cov_vdz701lht().s[2]++;
const loadPDFKit = async () => {
  /* istanbul ignore next */
  cov_vdz701lht().f[0]++;
  cov_vdz701lht().s[3]++;
  if (!pdfkitLoaded) {
    /* istanbul ignore next */
    cov_vdz701lht().b[0][0]++;
    cov_vdz701lht().s[4]++;
    try {
      // @ts-ignore - dynamic import
      const pdfkit =
      /* istanbul ignore next */
      (cov_vdz701lht().s[5]++, await import('pdfkit'));
      /* istanbul ignore next */
      cov_vdz701lht().s[6]++;
      PDFDocument =
      /* istanbul ignore next */
      (cov_vdz701lht().b[1][0]++, pdfkit.default) ||
      /* istanbul ignore next */
      (cov_vdz701lht().b[1][1]++, pdfkit);
      /* istanbul ignore next */
      cov_vdz701lht().s[7]++;
      pdfkitLoaded = true;
    } catch (error) {
      /* istanbul ignore next */
      cov_vdz701lht().s[8]++;
      console.warn('pdfkit not available, PDF generation will use fallback');
      /* istanbul ignore next */
      cov_vdz701lht().s[9]++;
      pdfkitLoaded = true;
    }
  } else
  /* istanbul ignore next */
  {
    cov_vdz701lht().b[0][1]++;
  }
  cov_vdz701lht().s[10]++;
  return PDFDocument;
};

// Mock storage for generated documents and versions
const generatedDocuments =
/* istanbul ignore next */
(cov_vdz701lht().s[11]++, new Map());
const documentVersions =
/* istanbul ignore next */
(cov_vdz701lht().s[12]++, new Map());
const documentStorage =
/* istanbul ignore next */
(cov_vdz701lht().s[13]++, new Map());
export class DocumentGenerationService {
  /**
   * Generate document from template with data population
   * Requirements: 3.2, 3.3
   */
  async generateDocument(businessId, data, userId) {
    /* istanbul ignore next */
    cov_vdz701lht().f[1]++;
    cov_vdz701lht().s[14]++;
    // Validate template exists
    await legalService.getTemplateById(data.templateId);

    // Validate all required placeholders are provided
    const validation =
    /* istanbul ignore next */
    (cov_vdz701lht().s[15]++, await legalService.validateTemplatePlaceholders(data.templateId, data.data));
    /* istanbul ignore next */
    cov_vdz701lht().s[16]++;
    if (!validation.valid) {
      /* istanbul ignore next */
      cov_vdz701lht().b[2][0]++;
      cov_vdz701lht().s[17]++;
      throw new AppError(400, `Missing required fields: ${validation.missingFields.join(', ')}`);
    } else
    /* istanbul ignore next */
    {
      cov_vdz701lht().b[2][1]++;
    }

    // Generate document using legal service
    const document =
    /* istanbul ignore next */
    (cov_vdz701lht().s[18]++, await legalService.generateDocument(businessId, data, userId));

    // Store generated document
    /* istanbul ignore next */
    cov_vdz701lht().s[19]++;
    generatedDocuments.set(document.id, document);

    // Initialize version history
    /* istanbul ignore next */
    cov_vdz701lht().s[20]++;
    if (!documentVersions.has(document.id)) {
      /* istanbul ignore next */
      cov_vdz701lht().b[3][0]++;
      cov_vdz701lht().s[21]++;
      documentVersions.set(document.id, []);
    } else
    /* istanbul ignore next */
    {
      cov_vdz701lht().b[3][1]++;
    }
    cov_vdz701lht().s[22]++;
    documentVersions.get(document.id).push({
      ...document
    });
    /* istanbul ignore next */
    cov_vdz701lht().s[23]++;
    return document;
  }

  /**
   * Generate PDF from document content
   * Requirements: 3.2, 3.3
   */
  async generatePDF(documentId, userId) {
    /* istanbul ignore next */
    cov_vdz701lht().f[2]++;
    const document =
    /* istanbul ignore next */
    (cov_vdz701lht().s[24]++, await legalService.getDocumentById(documentId, userId));
    /* istanbul ignore next */
    cov_vdz701lht().s[25]++;
    return new Promise(async (resolve, reject) => {
      /* istanbul ignore next */
      cov_vdz701lht().f[3]++;
      cov_vdz701lht().s[26]++;
      try {
        const PDFKit =
        /* istanbul ignore next */
        (cov_vdz701lht().s[27]++, await loadPDFKit());
        /* istanbul ignore next */
        cov_vdz701lht().s[28]++;
        if (!PDFKit) {
          /* istanbul ignore next */
          cov_vdz701lht().b[4][0]++;
          // Fallback: return simple text-based PDF representation
          const fallbackPDF =
          /* istanbul ignore next */
          (cov_vdz701lht().s[29]++, this.createFallbackPDF(document));
          /* istanbul ignore next */
          cov_vdz701lht().s[30]++;
          documentStorage.set(documentId, fallbackPDF);
          /* istanbul ignore next */
          cov_vdz701lht().s[31]++;
          resolve(fallbackPDF);
          /* istanbul ignore next */
          cov_vdz701lht().s[32]++;
          return;
        } else
        /* istanbul ignore next */
        {
          cov_vdz701lht().b[4][1]++;
        }
        const pdfDoc =
        /* istanbul ignore next */
        (cov_vdz701lht().s[33]++, new PDFKit({
          size: 'A4',
          margin: 50
        }));
        const chunks =
        /* istanbul ignore next */
        (cov_vdz701lht().s[34]++, []);
        /* istanbul ignore next */
        cov_vdz701lht().s[35]++;
        pdfDoc.on('data', chunk => {
          /* istanbul ignore next */
          cov_vdz701lht().f[4]++;
          cov_vdz701lht().s[36]++;
          chunks.push(chunk);
        });
        /* istanbul ignore next */
        cov_vdz701lht().s[37]++;
        pdfDoc.on('end', () => {
          /* istanbul ignore next */
          cov_vdz701lht().f[5]++;
          const pdfBuffer =
          /* istanbul ignore next */
          (cov_vdz701lht().s[38]++, Buffer.concat(chunks));
          // Store PDF in memory storage
          /* istanbul ignore next */
          cov_vdz701lht().s[39]++;
          documentStorage.set(documentId, pdfBuffer);
          /* istanbul ignore next */
          cov_vdz701lht().s[40]++;
          resolve(pdfBuffer);
        });
        /* istanbul ignore next */
        cov_vdz701lht().s[41]++;
        pdfDoc.on('error', error => {
          /* istanbul ignore next */
          cov_vdz701lht().f[6]++;
          cov_vdz701lht().s[42]++;
          reject(error);
        });

        // Add content to PDF
        /* istanbul ignore next */
        cov_vdz701lht().s[43]++;
        this.addContentToPDF(pdfDoc, document);
        /* istanbul ignore next */
        cov_vdz701lht().s[44]++;
        pdfDoc.end();
      } catch (error) {
        /* istanbul ignore next */
        cov_vdz701lht().s[45]++;
        reject(error);
      }
    });
  }

  /**
   * Generate document with custom styling
   * Requirements: 3.2, 3.3
   */
  async generateStyledDocument(businessId, data, styling) {
    /* istanbul ignore next */
    cov_vdz701lht().f[7]++;
    const document =
    /* istanbul ignore next */
    (cov_vdz701lht().s[46]++, await this.generateDocument(businessId, data, ''));

    // Apply styling (would be used in PDF generation)
    /* istanbul ignore next */
    cov_vdz701lht().s[47]++;
    if (styling) {
      /* istanbul ignore next */
      cov_vdz701lht().b[5][0]++;
      cov_vdz701lht().s[48]++;
      document.content = this.applyStyleToContent(document.content, styling);
      /* istanbul ignore next */
      cov_vdz701lht().s[49]++;
      generatedDocuments.set(document.id, document);
    } else
    /* istanbul ignore next */
    {
      cov_vdz701lht().b[5][1]++;
    }
    cov_vdz701lht().s[50]++;
    return document;
  }

  /**
   * Generate batch documents
   * Requirements: 3.2, 3.3
   */
  async generateBatchDocuments(businessId, documents, userId) {
    /* istanbul ignore next */
    cov_vdz701lht().f[8]++;
    const results =
    /* istanbul ignore next */
    (cov_vdz701lht().s[51]++, []);
    /* istanbul ignore next */
    cov_vdz701lht().s[52]++;
    for (const doc of documents) {
      /* istanbul ignore next */
      cov_vdz701lht().s[53]++;
      try {
        const generated =
        /* istanbul ignore next */
        (cov_vdz701lht().s[54]++, await this.generateDocument(businessId, {
          templateId: doc.templateId,
          data: doc.data
        }, userId));
        /* istanbul ignore next */
        cov_vdz701lht().s[55]++;
        results.push(generated);
      } catch (error) {
        /* istanbul ignore next */
        cov_vdz701lht().s[56]++;
        console.error(`Failed to generate document from template ${doc.templateId}:`, error);
      }
    }
    /* istanbul ignore next */
    cov_vdz701lht().s[57]++;
    return results;
  }

  /**
   * Get generated document
   * Requirements: 3.2, 3.3
   */
  async getGeneratedDocument(documentId, userId) {
    /* istanbul ignore next */
    cov_vdz701lht().f[9]++;
    cov_vdz701lht().s[58]++;
    return legalService.getDocumentById(documentId, userId);
  }

  /**
   * Update generated document
   * Requirements: 3.2, 3.3
   */
  async updateGeneratedDocument(documentId, userId, updates) {
    /* istanbul ignore next */
    cov_vdz701lht().f[10]++;
    const document =
    /* istanbul ignore next */
    (cov_vdz701lht().s[59]++, await legalService.getDocumentById(documentId, userId));

    // Store current version before update
    /* istanbul ignore next */
    cov_vdz701lht().s[60]++;
    if (documentVersions.has(documentId)) {
      /* istanbul ignore next */
      cov_vdz701lht().b[6][0]++;
      cov_vdz701lht().s[61]++;
      documentVersions.get(documentId).push({
        ...document
      });
    } else
    /* istanbul ignore next */
    {
      cov_vdz701lht().b[6][1]++;
    }
    cov_vdz701lht().s[62]++;
    return legalService.updateDocument(documentId, userId, updates);
  }

  /**
   * Export document as text
   * Requirements: 3.2, 3.3
   */
  async exportAsText(documentId, userId) {
    /* istanbul ignore next */
    cov_vdz701lht().f[11]++;
    const document =
    /* istanbul ignore next */
    (cov_vdz701lht().s[63]++, await legalService.getDocumentById(documentId, userId));
    /* istanbul ignore next */
    cov_vdz701lht().s[64]++;
    return document.content;
  }

  /**
   * Export document as JSON
   * Requirements: 3.2, 3.3
   */
  async exportAsJSON(documentId, userId) {
    /* istanbul ignore next */
    cov_vdz701lht().f[12]++;
    const document =
    /* istanbul ignore next */
    (cov_vdz701lht().s[65]++, await legalService.getDocumentById(documentId, userId));
    /* istanbul ignore next */
    cov_vdz701lht().s[66]++;
    return {
      id: document.id,
      businessId: document.businessId,
      templateId: document.templateId,
      templateVersion: document.templateVersion,
      status: document.status,
      content: document.content,
      signedAt: document.signedAt,
      signerId: document.signerId,
      createdAt: document.createdAt,
      updatedAt: document.updatedAt
    };
  }

  /**
   * Get document generation history
   * Requirements: 3.2, 3.3
   */
  async getGenerationHistory(businessId) {
    /* istanbul ignore next */
    cov_vdz701lht().f[13]++;
    const docs =
    /* istanbul ignore next */
    (cov_vdz701lht().s[67]++, Array.from(generatedDocuments.values()).filter(d => {
      /* istanbul ignore next */
      cov_vdz701lht().f[14]++;
      cov_vdz701lht().s[68]++;
      return d.businessId === businessId;
    }));
    /* istanbul ignore next */
    cov_vdz701lht().s[69]++;
    return docs.map(d => {
      /* istanbul ignore next */
      cov_vdz701lht().f[15]++;
      cov_vdz701lht().s[70]++;
      return {
        documentId: d.id,
        templateId: d.templateId,
        generatedAt: d.createdAt,
        status: d.status
      };
    });
  }

  /**
   * Get document version history
   * Requirements: 3.2, 3.3
   */
  async getDocumentVersions(documentId, userId) {
    /* istanbul ignore next */
    cov_vdz701lht().f[16]++;
    cov_vdz701lht().s[71]++;
    // Verify user has access
    await legalService.getDocumentById(documentId, userId);
    const versions =
    /* istanbul ignore next */
    (cov_vdz701lht().s[72]++,
    /* istanbul ignore next */
    (cov_vdz701lht().b[7][0]++, documentVersions.get(documentId)) ||
    /* istanbul ignore next */
    (cov_vdz701lht().b[7][1]++, []));
    /* istanbul ignore next */
    cov_vdz701lht().s[73]++;
    return versions.map((v, index) => {
      /* istanbul ignore next */
      cov_vdz701lht().f[17]++;
      cov_vdz701lht().s[74]++;
      return {
        version: index + 1,
        content: v.content,
        status: v.status,
        updatedAt: v.updatedAt
      };
    });
  }

  /**
   * Restore document to previous version
   * Requirements: 3.2, 3.3
   */
  async restoreDocumentVersion(documentId, userId, versionNumber) {
    /* istanbul ignore next */
    cov_vdz701lht().f[18]++;
    const document =
    /* istanbul ignore next */
    (cov_vdz701lht().s[75]++, await legalService.getDocumentById(documentId, userId));
    const versions =
    /* istanbul ignore next */
    (cov_vdz701lht().s[76]++,
    /* istanbul ignore next */
    (cov_vdz701lht().b[8][0]++, documentVersions.get(documentId)) ||
    /* istanbul ignore next */
    (cov_vdz701lht().b[8][1]++, []));
    /* istanbul ignore next */
    cov_vdz701lht().s[77]++;
    if (
    /* istanbul ignore next */
    (cov_vdz701lht().b[10][0]++, versionNumber < 1) ||
    /* istanbul ignore next */
    (cov_vdz701lht().b[10][1]++, versionNumber > versions.length)) {
      /* istanbul ignore next */
      cov_vdz701lht().b[9][0]++;
      cov_vdz701lht().s[78]++;
      throw new AppError(400, `Invalid version number: ${versionNumber}`);
    } else
    /* istanbul ignore next */
    {
      cov_vdz701lht().b[9][1]++;
    }
    const targetVersion =
    /* istanbul ignore next */
    (cov_vdz701lht().s[79]++, versions[versionNumber - 1]);

    // Update document to target version
    const updated =
    /* istanbul ignore next */
    (cov_vdz701lht().s[80]++, await legalService.updateDocument(documentId, userId, {
      content: targetVersion.content,
      status: targetVersion.status
    }));

    // Add restoration to version history
    /* istanbul ignore next */
    cov_vdz701lht().s[81]++;
    documentVersions.get(documentId).push({
      ...updated
    });
    /* istanbul ignore next */
    cov_vdz701lht().s[82]++;
    return updated;
  }

  /**
   * Store document PDF
   * Requirements: 3.2, 3.3
   */
  async storePDF(documentId, pdfBuffer) {
    /* istanbul ignore next */
    cov_vdz701lht().f[19]++;
    cov_vdz701lht().s[83]++;
    documentStorage.set(documentId, pdfBuffer);
  }

  /**
   * Retrieve stored PDF
   * Requirements: 3.2, 3.3
   */
  async retrievePDF(documentId, userId) {
    /* istanbul ignore next */
    cov_vdz701lht().f[20]++;
    cov_vdz701lht().s[84]++;
    // Verify user has access
    await legalService.getDocumentById(documentId, userId);
    const pdf =
    /* istanbul ignore next */
    (cov_vdz701lht().s[85]++, documentStorage.get(documentId));
    /* istanbul ignore next */
    cov_vdz701lht().s[86]++;
    if (!pdf) {
      /* istanbul ignore next */
      cov_vdz701lht().b[11][0]++;
      cov_vdz701lht().s[87]++;
      throw new AppError(404, 'PDF not found for document');
    } else
    /* istanbul ignore next */
    {
      cov_vdz701lht().b[11][1]++;
    }
    cov_vdz701lht().s[88]++;
    return pdf;
  }

  /**
   * Validate document before generation
   * Requirements: 3.2, 3.3
   */
  async validateDocumentData(templateId, data) {
    /* istanbul ignore next */
    cov_vdz701lht().f[21]++;
    const errors =
    /* istanbul ignore next */
    (cov_vdz701lht().s[89]++, []);
    const warnings =
    /* istanbul ignore next */
    (cov_vdz701lht().s[90]++, []);
    /* istanbul ignore next */
    cov_vdz701lht().s[91]++;
    try {
      /* istanbul ignore next */
      cov_vdz701lht().s[92]++;
      await legalService.getTemplateById(templateId);

      // Check for required fields
      const validation =
      /* istanbul ignore next */
      (cov_vdz701lht().s[93]++, await legalService.validateTemplatePlaceholders(templateId, data));
      /* istanbul ignore next */
      cov_vdz701lht().s[94]++;
      if (!validation.valid) {
        /* istanbul ignore next */
        cov_vdz701lht().b[12][0]++;
        cov_vdz701lht().s[95]++;
        errors.push(`Missing required fields: ${validation.missingFields.join(', ')}`);
      } else
      /* istanbul ignore next */
      {
        cov_vdz701lht().b[12][1]++;
      }

      // Check for empty values
      cov_vdz701lht().s[96]++;
      Object.entries(data).forEach(([key, value]) => {
        /* istanbul ignore next */
        cov_vdz701lht().f[22]++;
        cov_vdz701lht().s[97]++;
        if (
        /* istanbul ignore next */
        (cov_vdz701lht().b[14][0]++, typeof value === 'string') &&
        /* istanbul ignore next */
        (cov_vdz701lht().b[14][1]++, value.trim().length === 0)) {
          /* istanbul ignore next */
          cov_vdz701lht().b[13][0]++;
          cov_vdz701lht().s[98]++;
          warnings.push(`Field "${key}" is empty`);
        } else
        /* istanbul ignore next */
        {
          cov_vdz701lht().b[13][1]++;
        }
      });
      /* istanbul ignore next */
      cov_vdz701lht().s[99]++;
      return {
        valid: errors.length === 0,
        errors,
        warnings
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_vdz701lht().s[100]++;
      return {
        valid: false,
        errors: [`Template not found: ${templateId}`],
        warnings: []
      };
    }
  }

  /**
   * Get document generation statistics
   * Requirements: 3.2, 3.3
   */
  async getGenerationStats(businessId) {
    /* istanbul ignore next */
    cov_vdz701lht().f[23]++;
    const docs =
    /* istanbul ignore next */
    (cov_vdz701lht().s[101]++, Array.from(generatedDocuments.values()).filter(d => {
      /* istanbul ignore next */
      cov_vdz701lht().f[24]++;
      cov_vdz701lht().s[102]++;
      return d.businessId === businessId;
    }));
    const byStatus =
    /* istanbul ignore next */
    (cov_vdz701lht().s[103]++, {});
    const byTemplate =
    /* istanbul ignore next */
    (cov_vdz701lht().s[104]++, {});
    /* istanbul ignore next */
    cov_vdz701lht().s[105]++;
    docs.forEach(d => {
      /* istanbul ignore next */
      cov_vdz701lht().f[25]++;
      cov_vdz701lht().s[106]++;
      byStatus[d.status] = (
      /* istanbul ignore next */
      (cov_vdz701lht().b[15][0]++, byStatus[d.status]) ||
      /* istanbul ignore next */
      (cov_vdz701lht().b[15][1]++, 0)) + 1;
      /* istanbul ignore next */
      cov_vdz701lht().s[107]++;
      byTemplate[d.templateId] = (
      /* istanbul ignore next */
      (cov_vdz701lht().b[16][0]++, byTemplate[d.templateId]) ||
      /* istanbul ignore next */
      (cov_vdz701lht().b[16][1]++, 0)) + 1;
    });
    /* istanbul ignore next */
    cov_vdz701lht().s[108]++;
    return {
      totalGenerated: docs.length,
      byStatus,
      byTemplate
    };
  }

  /**
   * Create fallback PDF when pdfkit is not available
   * Requirements: 3.2, 3.3
   */
  createFallbackPDF(document) {
    /* istanbul ignore next */
    cov_vdz701lht().f[26]++;
    // Create a simple text-based PDF representation
    const pdfContent =
    /* istanbul ignore next */
    (cov_vdz701lht().s[109]++, `%PDF-1.4
1 0 obj
<< /Type /Catalog /Pages 2 0 R >>
endobj
2 0 obj
<< /Type /Pages /Kids [3 0 R] /Count 1 >>
endobj
3 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Contents 4 0 R >>
endobj
4 0 obj
<< /Length ${document.content.length + 100} >>
stream
BT
/F1 12 Tf
50 750 Td
(Legal Document) Tj
0 -20 Td
(Document ID: ${document.id}) Tj
0 -20 Td
(Status: ${document.status}) Tj
0 -20 Td
(Created: ${document.createdAt.toLocaleDateString()}) Tj
0 -40 Td
(${document.content.substring(0, 200)}) Tj
ET
endstream
endobj
xref
0 5
0000000000 65535 f
0000000009 00000 n
0000000058 00000 n
0000000115 00000 n
0000000214 00000 n
trailer
<< /Size 5 /Root 1 0 R >>
startxref
${document.content.length + 400}
%%EOF`);
    /* istanbul ignore next */
    cov_vdz701lht().s[110]++;
    return Buffer.from(pdfContent, 'utf-8');
  }

  /**
   * Add content to PDF document
   * Requirements: 3.2, 3.3
   */
  addContentToPDF(pdfDoc, document) {
    /* istanbul ignore next */
    cov_vdz701lht().f[27]++;
    cov_vdz701lht().s[111]++;
    // Add title
    pdfDoc.fontSize(16).font('Helvetica-Bold').text('Legal Document', {
      align: 'center'
    });
    /* istanbul ignore next */
    cov_vdz701lht().s[112]++;
    pdfDoc.moveDown();

    // Add metadata
    /* istanbul ignore next */
    cov_vdz701lht().s[113]++;
    pdfDoc.fontSize(10).font('Helvetica').text(`Document ID: ${document.id}`);
    /* istanbul ignore next */
    cov_vdz701lht().s[114]++;
    pdfDoc.text(`Status: ${document.status}`);
    /* istanbul ignore next */
    cov_vdz701lht().s[115]++;
    pdfDoc.text(`Created: ${document.createdAt.toLocaleDateString()}`);
    /* istanbul ignore next */
    cov_vdz701lht().s[116]++;
    pdfDoc.moveDown();

    // Add content
    /* istanbul ignore next */
    cov_vdz701lht().s[117]++;
    pdfDoc.fontSize(11).text(document.content, {
      align: 'left',
      width: 500
    });

    // Add footer
    /* istanbul ignore next */
    cov_vdz701lht().s[118]++;
    pdfDoc.moveDown();
    /* istanbul ignore next */
    cov_vdz701lht().s[119]++;
    pdfDoc.fontSize(9).text('This is an automatically generated document.', {
      align: 'center'
    });
  }

  /**
   * Apply styling to document content
   * Requirements: 3.2, 3.3
   */
  applyStyleToContent(content, styling) {
    /* istanbul ignore next */
    cov_vdz701lht().f[28]++;
    let styledContent =
    /* istanbul ignore next */
    (cov_vdz701lht().s[120]++, content);
    /* istanbul ignore next */
    cov_vdz701lht().s[121]++;
    if (styling.headerText) {
      /* istanbul ignore next */
      cov_vdz701lht().b[17][0]++;
      cov_vdz701lht().s[122]++;
      styledContent = `${styling.headerText}\n\n${styledContent}`;
    } else
    /* istanbul ignore next */
    {
      cov_vdz701lht().b[17][1]++;
    }
    cov_vdz701lht().s[123]++;
    if (styling.footerText) {
      /* istanbul ignore next */
      cov_vdz701lht().b[18][0]++;
      cov_vdz701lht().s[124]++;
      styledContent = `${styledContent}\n\n${styling.footerText}`;
    } else
    /* istanbul ignore next */
    {
      cov_vdz701lht().b[18][1]++;
    }
    cov_vdz701lht().s[125]++;
    return styledContent;
  }
}
export const documentGenerationService =
/* istanbul ignore next */
(cov_vdz701lht().s[126]++, new DocumentGenerationService());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfdmR6NzAxbGh0IiwiYWN0dWFsQ292ZXJhZ2UiLCJBcHBFcnJvciIsImxlZ2FsU2VydmljZSIsIlBERkRvY3VtZW50IiwicyIsInBkZmtpdExvYWRlZCIsImxvYWRQREZLaXQiLCJmIiwiYiIsInBkZmtpdCIsImRlZmF1bHQiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiZ2VuZXJhdGVkRG9jdW1lbnRzIiwiTWFwIiwiZG9jdW1lbnRWZXJzaW9ucyIsImRvY3VtZW50U3RvcmFnZSIsIkRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UiLCJnZW5lcmF0ZURvY3VtZW50IiwiYnVzaW5lc3NJZCIsImRhdGEiLCJ1c2VySWQiLCJnZXRUZW1wbGF0ZUJ5SWQiLCJ0ZW1wbGF0ZUlkIiwidmFsaWRhdGlvbiIsInZhbGlkYXRlVGVtcGxhdGVQbGFjZWhvbGRlcnMiLCJ2YWxpZCIsIm1pc3NpbmdGaWVsZHMiLCJqb2luIiwiZG9jdW1lbnQiLCJzZXQiLCJpZCIsImhhcyIsImdldCIsInB1c2giLCJnZW5lcmF0ZVBERiIsImRvY3VtZW50SWQiLCJnZXREb2N1bWVudEJ5SWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIlBERktpdCIsImZhbGxiYWNrUERGIiwiY3JlYXRlRmFsbGJhY2tQREYiLCJwZGZEb2MiLCJzaXplIiwibWFyZ2luIiwiY2h1bmtzIiwib24iLCJjaHVuayIsInBkZkJ1ZmZlciIsIkJ1ZmZlciIsImNvbmNhdCIsImFkZENvbnRlbnRUb1BERiIsImVuZCIsImdlbmVyYXRlU3R5bGVkRG9jdW1lbnQiLCJzdHlsaW5nIiwiY29udGVudCIsImFwcGx5U3R5bGVUb0NvbnRlbnQiLCJnZW5lcmF0ZUJhdGNoRG9jdW1lbnRzIiwiZG9jdW1lbnRzIiwicmVzdWx0cyIsImRvYyIsImdlbmVyYXRlZCIsImdldEdlbmVyYXRlZERvY3VtZW50IiwidXBkYXRlR2VuZXJhdGVkRG9jdW1lbnQiLCJ1cGRhdGVzIiwidXBkYXRlRG9jdW1lbnQiLCJleHBvcnRBc1RleHQiLCJleHBvcnRBc0pTT04iLCJ0ZW1wbGF0ZVZlcnNpb24iLCJzdGF0dXMiLCJzaWduZWRBdCIsInNpZ25lcklkIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwiZ2V0R2VuZXJhdGlvbkhpc3RvcnkiLCJkb2NzIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZmlsdGVyIiwiZCIsIm1hcCIsImdlbmVyYXRlZEF0IiwiZ2V0RG9jdW1lbnRWZXJzaW9ucyIsInZlcnNpb25zIiwidiIsImluZGV4IiwidmVyc2lvbiIsInJlc3RvcmVEb2N1bWVudFZlcnNpb24iLCJ2ZXJzaW9uTnVtYmVyIiwibGVuZ3RoIiwidGFyZ2V0VmVyc2lvbiIsInVwZGF0ZWQiLCJzdG9yZVBERiIsInJldHJpZXZlUERGIiwicGRmIiwidmFsaWRhdGVEb2N1bWVudERhdGEiLCJlcnJvcnMiLCJ3YXJuaW5ncyIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwia2V5IiwidmFsdWUiLCJ0cmltIiwiZ2V0R2VuZXJhdGlvblN0YXRzIiwiYnlTdGF0dXMiLCJieVRlbXBsYXRlIiwidG90YWxHZW5lcmF0ZWQiLCJwZGZDb250ZW50IiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwic3Vic3RyaW5nIiwiZm9udFNpemUiLCJmb250IiwidGV4dCIsImFsaWduIiwibW92ZURvd24iLCJ3aWR0aCIsInN0eWxlZENvbnRlbnQiLCJoZWFkZXJUZXh0IiwiZm9vdGVyVGV4dCIsImRvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UiXSwic291cmNlcyI6WyJkb2N1bWVudC1nZW5lcmF0aW9uLnNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2VuZXJhdGVVVUlEIH0gZnJvbSAnLi4vdXRpbHMvdXVpZC5qcyc7XG5pbXBvcnQgeyBMZWdhbERvY3VtZW50LCBMZWdhbERvY3VtZW50UmVxdWVzdCB9IGZyb20gJy4uL3R5cGVzL2luZGV4LmpzJztcbmltcG9ydCB7IEFwcEVycm9yIH0gZnJvbSAnLi4vbWlkZGxld2FyZS9lcnJvckhhbmRsZXIuanMnO1xuaW1wb3J0IHsgbGVnYWxTZXJ2aWNlIH0gZnJvbSAnLi9sZWdhbC5zZXJ2aWNlLmpzJztcblxuLy8gTGF6eSBsb2FkIHBkZmtpdCB0byBhdm9pZCBpbXBvcnQgZXJyb3JzIGlmIG5vdCBpbnN0YWxsZWRcbmxldCBQREZEb2N1bWVudDogYW55ID0gbnVsbDtcbmxldCBwZGZraXRMb2FkZWQgPSBmYWxzZTtcblxuY29uc3QgbG9hZFBERktpdCA9IGFzeW5jICgpID0+IHtcbiAgaWYgKCFwZGZraXRMb2FkZWQpIHtcbiAgICB0cnkge1xuICAgICAgLy8gQHRzLWlnbm9yZSAtIGR5bmFtaWMgaW1wb3J0XG4gICAgICBjb25zdCBwZGZraXQgPSBhd2FpdCBpbXBvcnQoJ3BkZmtpdCcpO1xuICAgICAgUERGRG9jdW1lbnQgPSBwZGZraXQuZGVmYXVsdCB8fCBwZGZraXQ7XG4gICAgICBwZGZraXRMb2FkZWQgPSB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ3BkZmtpdCBub3QgYXZhaWxhYmxlLCBQREYgZ2VuZXJhdGlvbiB3aWxsIHVzZSBmYWxsYmFjaycpO1xuICAgICAgcGRma2l0TG9hZGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFBERkRvY3VtZW50O1xufTtcblxuLy8gTW9jayBzdG9yYWdlIGZvciBnZW5lcmF0ZWQgZG9jdW1lbnRzIGFuZCB2ZXJzaW9uc1xuY29uc3QgZ2VuZXJhdGVkRG9jdW1lbnRzOiBNYXA8c3RyaW5nLCBMZWdhbERvY3VtZW50PiA9IG5ldyBNYXAoKTtcbmNvbnN0IGRvY3VtZW50VmVyc2lvbnM6IE1hcDxzdHJpbmcsIExlZ2FsRG9jdW1lbnRbXT4gPSBuZXcgTWFwKCk7XG5jb25zdCBkb2N1bWVudFN0b3JhZ2U6IE1hcDxzdHJpbmcsIEJ1ZmZlcj4gPSBuZXcgTWFwKCk7XG5cbmV4cG9ydCBjbGFzcyBEb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlIHtcbiAgLyoqXG4gICAqIEdlbmVyYXRlIGRvY3VtZW50IGZyb20gdGVtcGxhdGUgd2l0aCBkYXRhIHBvcHVsYXRpb25cbiAgICogUmVxdWlyZW1lbnRzOiAzLjIsIDMuM1xuICAgKi9cbiAgYXN5bmMgZ2VuZXJhdGVEb2N1bWVudChcbiAgICBidXNpbmVzc0lkOiBzdHJpbmcsXG4gICAgZGF0YTogTGVnYWxEb2N1bWVudFJlcXVlc3QsXG4gICAgdXNlcklkOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxMZWdhbERvY3VtZW50PiB7XG4gICAgLy8gVmFsaWRhdGUgdGVtcGxhdGUgZXhpc3RzXG4gICAgYXdhaXQgbGVnYWxTZXJ2aWNlLmdldFRlbXBsYXRlQnlJZChkYXRhLnRlbXBsYXRlSWQpO1xuXG4gICAgLy8gVmFsaWRhdGUgYWxsIHJlcXVpcmVkIHBsYWNlaG9sZGVycyBhcmUgcHJvdmlkZWRcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gYXdhaXQgbGVnYWxTZXJ2aWNlLnZhbGlkYXRlVGVtcGxhdGVQbGFjZWhvbGRlcnMoZGF0YS50ZW1wbGF0ZUlkLCBkYXRhLmRhdGEpO1xuICAgIGlmICghdmFsaWRhdGlvbi52YWxpZCkge1xuICAgICAgdGhyb3cgbmV3IEFwcEVycm9yKDQwMCwgYE1pc3NpbmcgcmVxdWlyZWQgZmllbGRzOiAke3ZhbGlkYXRpb24ubWlzc2luZ0ZpZWxkcy5qb2luKCcsICcpfWApO1xuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIGRvY3VtZW50IHVzaW5nIGxlZ2FsIHNlcnZpY2VcbiAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGxlZ2FsU2VydmljZS5nZW5lcmF0ZURvY3VtZW50KGJ1c2luZXNzSWQsIGRhdGEsIHVzZXJJZCk7XG5cbiAgICAvLyBTdG9yZSBnZW5lcmF0ZWQgZG9jdW1lbnRcbiAgICBnZW5lcmF0ZWREb2N1bWVudHMuc2V0KGRvY3VtZW50LmlkLCBkb2N1bWVudCk7XG5cbiAgICAvLyBJbml0aWFsaXplIHZlcnNpb24gaGlzdG9yeVxuICAgIGlmICghZG9jdW1lbnRWZXJzaW9ucy5oYXMoZG9jdW1lbnQuaWQpKSB7XG4gICAgICBkb2N1bWVudFZlcnNpb25zLnNldChkb2N1bWVudC5pZCwgW10pO1xuICAgIH1cbiAgICBkb2N1bWVudFZlcnNpb25zLmdldChkb2N1bWVudC5pZCkhLnB1c2goeyAuLi5kb2N1bWVudCB9KTtcblxuICAgIHJldHVybiBkb2N1bWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBQREYgZnJvbSBkb2N1bWVudCBjb250ZW50XG4gICAqIFJlcXVpcmVtZW50czogMy4yLCAzLjNcbiAgICovXG4gIGFzeW5jIGdlbmVyYXRlUERGKGRvY3VtZW50SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gYXdhaXQgbGVnYWxTZXJ2aWNlLmdldERvY3VtZW50QnlJZChkb2N1bWVudElkLCB1c2VySWQpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFBERktpdCA9IGF3YWl0IGxvYWRQREZLaXQoKTtcblxuICAgICAgICBpZiAoIVBERktpdCkge1xuICAgICAgICAgIC8vIEZhbGxiYWNrOiByZXR1cm4gc2ltcGxlIHRleHQtYmFzZWQgUERGIHJlcHJlc2VudGF0aW9uXG4gICAgICAgICAgY29uc3QgZmFsbGJhY2tQREYgPSB0aGlzLmNyZWF0ZUZhbGxiYWNrUERGKGRvY3VtZW50KTtcbiAgICAgICAgICBkb2N1bWVudFN0b3JhZ2Uuc2V0KGRvY3VtZW50SWQsIGZhbGxiYWNrUERGKTtcbiAgICAgICAgICByZXNvbHZlKGZhbGxiYWNrUERGKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwZGZEb2MgPSBuZXcgUERGS2l0KHtcbiAgICAgICAgICBzaXplOiAnQTQnLFxuICAgICAgICAgIG1hcmdpbjogNTAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGNodW5rczogQnVmZmVyW10gPSBbXTtcblxuICAgICAgICBwZGZEb2Mub24oJ2RhdGEnLCAoY2h1bms6IEJ1ZmZlcikgPT4ge1xuICAgICAgICAgIGNodW5rcy5wdXNoKGNodW5rKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGRmRG9jLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcGRmQnVmZmVyID0gQnVmZmVyLmNvbmNhdChjaHVua3MpO1xuICAgICAgICAgIC8vIFN0b3JlIFBERiBpbiBtZW1vcnkgc3RvcmFnZVxuICAgICAgICAgIGRvY3VtZW50U3RvcmFnZS5zZXQoZG9jdW1lbnRJZCwgcGRmQnVmZmVyKTtcbiAgICAgICAgICByZXNvbHZlKHBkZkJ1ZmZlcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBkZkRvYy5vbignZXJyb3InLCAoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWRkIGNvbnRlbnQgdG8gUERGXG4gICAgICAgIHRoaXMuYWRkQ29udGVudFRvUERGKHBkZkRvYywgZG9jdW1lbnQpO1xuXG4gICAgICAgIHBkZkRvYy5lbmQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgZG9jdW1lbnQgd2l0aCBjdXN0b20gc3R5bGluZ1xuICAgKiBSZXF1aXJlbWVudHM6IDMuMiwgMy4zXG4gICAqL1xuICBhc3luYyBnZW5lcmF0ZVN0eWxlZERvY3VtZW50KFxuICAgIGJ1c2luZXNzSWQ6IHN0cmluZyxcbiAgICBkYXRhOiBMZWdhbERvY3VtZW50UmVxdWVzdCxcbiAgICBzdHlsaW5nPzoge1xuICAgICAgZm9udFNpemU/OiBudW1iZXI7XG4gICAgICBmb250RmFtaWx5Pzogc3RyaW5nO1xuICAgICAgbWFyZ2lucz86IHsgdG9wOiBudW1iZXI7IGJvdHRvbTogbnVtYmVyOyBsZWZ0OiBudW1iZXI7IHJpZ2h0OiBudW1iZXIgfTtcbiAgICAgIGhlYWRlclRleHQ/OiBzdHJpbmc7XG4gICAgICBmb290ZXJUZXh0Pzogc3RyaW5nO1xuICAgIH1cbiAgKTogUHJvbWlzZTxMZWdhbERvY3VtZW50PiB7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlRG9jdW1lbnQoYnVzaW5lc3NJZCwgZGF0YSwgJycpO1xuXG4gICAgLy8gQXBwbHkgc3R5bGluZyAod291bGQgYmUgdXNlZCBpbiBQREYgZ2VuZXJhdGlvbilcbiAgICBpZiAoc3R5bGluZykge1xuICAgICAgZG9jdW1lbnQuY29udGVudCA9IHRoaXMuYXBwbHlTdHlsZVRvQ29udGVudChkb2N1bWVudC5jb250ZW50LCBzdHlsaW5nKTtcbiAgICAgIGdlbmVyYXRlZERvY3VtZW50cy5zZXQoZG9jdW1lbnQuaWQsIGRvY3VtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9jdW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgYmF0Y2ggZG9jdW1lbnRzXG4gICAqIFJlcXVpcmVtZW50czogMy4yLCAzLjNcbiAgICovXG4gIGFzeW5jIGdlbmVyYXRlQmF0Y2hEb2N1bWVudHMoXG4gICAgYnVzaW5lc3NJZDogc3RyaW5nLFxuICAgIGRvY3VtZW50czogQXJyYXk8e1xuICAgICAgdGVtcGxhdGVJZDogc3RyaW5nO1xuICAgICAgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICB9PixcbiAgICB1c2VySWQ6IHN0cmluZ1xuICApOiBQcm9taXNlPExlZ2FsRG9jdW1lbnRbXT4ge1xuICAgIGNvbnN0IHJlc3VsdHM6IExlZ2FsRG9jdW1lbnRbXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBkb2Mgb2YgZG9jdW1lbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBnZW5lcmF0ZWQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlRG9jdW1lbnQoXG4gICAgICAgICAgYnVzaW5lc3NJZCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wbGF0ZUlkOiBkb2MudGVtcGxhdGVJZCxcbiAgICAgICAgICAgIGRhdGE6IGRvYy5kYXRhLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdXNlcklkXG4gICAgICAgICk7XG4gICAgICAgIHJlc3VsdHMucHVzaChnZW5lcmF0ZWQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGdlbmVyYXRlIGRvY3VtZW50IGZyb20gdGVtcGxhdGUgJHtkb2MudGVtcGxhdGVJZH06YCwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBnZW5lcmF0ZWQgZG9jdW1lbnRcbiAgICogUmVxdWlyZW1lbnRzOiAzLjIsIDMuM1xuICAgKi9cbiAgYXN5bmMgZ2V0R2VuZXJhdGVkRG9jdW1lbnQoZG9jdW1lbnRJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8TGVnYWxEb2N1bWVudD4ge1xuICAgIHJldHVybiBsZWdhbFNlcnZpY2UuZ2V0RG9jdW1lbnRCeUlkKGRvY3VtZW50SWQsIHVzZXJJZCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGdlbmVyYXRlZCBkb2N1bWVudFxuICAgKiBSZXF1aXJlbWVudHM6IDMuMiwgMy4zXG4gICAqL1xuICBhc3luYyB1cGRhdGVHZW5lcmF0ZWREb2N1bWVudChcbiAgICBkb2N1bWVudElkOiBzdHJpbmcsXG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgdXBkYXRlczoge1xuICAgICAgY29udGVudD86IHN0cmluZztcbiAgICAgIHN0YXR1cz86ICdkcmFmdCcgfCAnc2lnbmVkJyB8ICdhcmNoaXZlZCc7XG4gICAgfVxuICApOiBQcm9taXNlPExlZ2FsRG9jdW1lbnQ+IHtcbiAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGxlZ2FsU2VydmljZS5nZXREb2N1bWVudEJ5SWQoZG9jdW1lbnRJZCwgdXNlcklkKTtcblxuICAgIC8vIFN0b3JlIGN1cnJlbnQgdmVyc2lvbiBiZWZvcmUgdXBkYXRlXG4gICAgaWYgKGRvY3VtZW50VmVyc2lvbnMuaGFzKGRvY3VtZW50SWQpKSB7XG4gICAgICBkb2N1bWVudFZlcnNpb25zLmdldChkb2N1bWVudElkKSEucHVzaCh7IC4uLmRvY3VtZW50IH0pO1xuICAgIH1cblxuICAgIHJldHVybiBsZWdhbFNlcnZpY2UudXBkYXRlRG9jdW1lbnQoZG9jdW1lbnRJZCwgdXNlcklkLCB1cGRhdGVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBvcnQgZG9jdW1lbnQgYXMgdGV4dFxuICAgKiBSZXF1aXJlbWVudHM6IDMuMiwgMy4zXG4gICAqL1xuICBhc3luYyBleHBvcnRBc1RleHQoZG9jdW1lbnRJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBhd2FpdCBsZWdhbFNlcnZpY2UuZ2V0RG9jdW1lbnRCeUlkKGRvY3VtZW50SWQsIHVzZXJJZCk7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNvbnRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogRXhwb3J0IGRvY3VtZW50IGFzIEpTT05cbiAgICogUmVxdWlyZW1lbnRzOiAzLjIsIDMuM1xuICAgKi9cbiAgYXN5bmMgZXhwb3J0QXNKU09OKGRvY3VtZW50SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIGFueT4+IHtcbiAgICBjb25zdCBkb2N1bWVudCA9IGF3YWl0IGxlZ2FsU2VydmljZS5nZXREb2N1bWVudEJ5SWQoZG9jdW1lbnRJZCwgdXNlcklkKTtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogZG9jdW1lbnQuaWQsXG4gICAgICBidXNpbmVzc0lkOiBkb2N1bWVudC5idXNpbmVzc0lkLFxuICAgICAgdGVtcGxhdGVJZDogZG9jdW1lbnQudGVtcGxhdGVJZCxcbiAgICAgIHRlbXBsYXRlVmVyc2lvbjogZG9jdW1lbnQudGVtcGxhdGVWZXJzaW9uLFxuICAgICAgc3RhdHVzOiBkb2N1bWVudC5zdGF0dXMsXG4gICAgICBjb250ZW50OiBkb2N1bWVudC5jb250ZW50LFxuICAgICAgc2lnbmVkQXQ6IGRvY3VtZW50LnNpZ25lZEF0LFxuICAgICAgc2lnbmVySWQ6IGRvY3VtZW50LnNpZ25lcklkLFxuICAgICAgY3JlYXRlZEF0OiBkb2N1bWVudC5jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkQXQ6IGRvY3VtZW50LnVwZGF0ZWRBdCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkb2N1bWVudCBnZW5lcmF0aW9uIGhpc3RvcnlcbiAgICogUmVxdWlyZW1lbnRzOiAzLjIsIDMuM1xuICAgKi9cbiAgYXN5bmMgZ2V0R2VuZXJhdGlvbkhpc3RvcnkoYnVzaW5lc3NJZDogc3RyaW5nKTogUHJvbWlzZTxcbiAgICBBcnJheTx7XG4gICAgICBkb2N1bWVudElkOiBzdHJpbmc7XG4gICAgICB0ZW1wbGF0ZUlkOiBzdHJpbmc7XG4gICAgICBnZW5lcmF0ZWRBdDogRGF0ZTtcbiAgICAgIHN0YXR1czogc3RyaW5nO1xuICAgIH0+XG4gID4ge1xuICAgIGNvbnN0IGRvY3MgPSBBcnJheS5mcm9tKGdlbmVyYXRlZERvY3VtZW50cy52YWx1ZXMoKSkuZmlsdGVyKChkKSA9PiBkLmJ1c2luZXNzSWQgPT09IGJ1c2luZXNzSWQpO1xuXG4gICAgcmV0dXJuIGRvY3MubWFwKChkKSA9PiAoe1xuICAgICAgZG9jdW1lbnRJZDogZC5pZCxcbiAgICAgIHRlbXBsYXRlSWQ6IGQudGVtcGxhdGVJZCxcbiAgICAgIGdlbmVyYXRlZEF0OiBkLmNyZWF0ZWRBdCxcbiAgICAgIHN0YXR1czogZC5zdGF0dXMsXG4gICAgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkb2N1bWVudCB2ZXJzaW9uIGhpc3RvcnlcbiAgICogUmVxdWlyZW1lbnRzOiAzLjIsIDMuM1xuICAgKi9cbiAgYXN5bmMgZ2V0RG9jdW1lbnRWZXJzaW9ucyhkb2N1bWVudElkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxcbiAgICBBcnJheTx7XG4gICAgICB2ZXJzaW9uOiBudW1iZXI7XG4gICAgICBjb250ZW50OiBzdHJpbmc7XG4gICAgICBzdGF0dXM6IHN0cmluZztcbiAgICAgIHVwZGF0ZWRBdDogRGF0ZTtcbiAgICB9PlxuICA+IHtcbiAgICAvLyBWZXJpZnkgdXNlciBoYXMgYWNjZXNzXG4gICAgYXdhaXQgbGVnYWxTZXJ2aWNlLmdldERvY3VtZW50QnlJZChkb2N1bWVudElkLCB1c2VySWQpO1xuXG4gICAgY29uc3QgdmVyc2lvbnMgPSBkb2N1bWVudFZlcnNpb25zLmdldChkb2N1bWVudElkKSB8fCBbXTtcblxuICAgIHJldHVybiB2ZXJzaW9ucy5tYXAoKHYsIGluZGV4KSA9PiAoe1xuICAgICAgdmVyc2lvbjogaW5kZXggKyAxLFxuICAgICAgY29udGVudDogdi5jb250ZW50LFxuICAgICAgc3RhdHVzOiB2LnN0YXR1cyxcbiAgICAgIHVwZGF0ZWRBdDogdi51cGRhdGVkQXQsXG4gICAgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmUgZG9jdW1lbnQgdG8gcHJldmlvdXMgdmVyc2lvblxuICAgKiBSZXF1aXJlbWVudHM6IDMuMiwgMy4zXG4gICAqL1xuICBhc3luYyByZXN0b3JlRG9jdW1lbnRWZXJzaW9uKFxuICAgIGRvY3VtZW50SWQ6IHN0cmluZyxcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICB2ZXJzaW9uTnVtYmVyOiBudW1iZXJcbiAgKTogUHJvbWlzZTxMZWdhbERvY3VtZW50PiB7XG4gICAgY29uc3QgZG9jdW1lbnQgPSBhd2FpdCBsZWdhbFNlcnZpY2UuZ2V0RG9jdW1lbnRCeUlkKGRvY3VtZW50SWQsIHVzZXJJZCk7XG4gICAgY29uc3QgdmVyc2lvbnMgPSBkb2N1bWVudFZlcnNpb25zLmdldChkb2N1bWVudElkKSB8fCBbXTtcblxuICAgIGlmICh2ZXJzaW9uTnVtYmVyIDwgMSB8fCB2ZXJzaW9uTnVtYmVyID4gdmVyc2lvbnMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwRXJyb3IoNDAwLCBgSW52YWxpZCB2ZXJzaW9uIG51bWJlcjogJHt2ZXJzaW9uTnVtYmVyfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHRhcmdldFZlcnNpb24gPSB2ZXJzaW9uc1t2ZXJzaW9uTnVtYmVyIC0gMV07XG5cbiAgICAvLyBVcGRhdGUgZG9jdW1lbnQgdG8gdGFyZ2V0IHZlcnNpb25cbiAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgbGVnYWxTZXJ2aWNlLnVwZGF0ZURvY3VtZW50KGRvY3VtZW50SWQsIHVzZXJJZCwge1xuICAgICAgY29udGVudDogdGFyZ2V0VmVyc2lvbi5jb250ZW50LFxuICAgICAgc3RhdHVzOiB0YXJnZXRWZXJzaW9uLnN0YXR1cyxcbiAgICB9KTtcblxuICAgIC8vIEFkZCByZXN0b3JhdGlvbiB0byB2ZXJzaW9uIGhpc3RvcnlcbiAgICBkb2N1bWVudFZlcnNpb25zLmdldChkb2N1bWVudElkKSEucHVzaCh7IC4uLnVwZGF0ZWQgfSk7XG5cbiAgICByZXR1cm4gdXBkYXRlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9yZSBkb2N1bWVudCBQREZcbiAgICogUmVxdWlyZW1lbnRzOiAzLjIsIDMuM1xuICAgKi9cbiAgYXN5bmMgc3RvcmVQREYoZG9jdW1lbnRJZDogc3RyaW5nLCBwZGZCdWZmZXI6IEJ1ZmZlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIGRvY3VtZW50U3RvcmFnZS5zZXQoZG9jdW1lbnRJZCwgcGRmQnVmZmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBzdG9yZWQgUERGXG4gICAqIFJlcXVpcmVtZW50czogMy4yLCAzLjNcbiAgICovXG4gIGFzeW5jIHJldHJpZXZlUERGKGRvY3VtZW50SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICAgIC8vIFZlcmlmeSB1c2VyIGhhcyBhY2Nlc3NcbiAgICBhd2FpdCBsZWdhbFNlcnZpY2UuZ2V0RG9jdW1lbnRCeUlkKGRvY3VtZW50SWQsIHVzZXJJZCk7XG5cbiAgICBjb25zdCBwZGYgPSBkb2N1bWVudFN0b3JhZ2UuZ2V0KGRvY3VtZW50SWQpO1xuICAgIGlmICghcGRmKSB7XG4gICAgICB0aHJvdyBuZXcgQXBwRXJyb3IoNDA0LCAnUERGIG5vdCBmb3VuZCBmb3IgZG9jdW1lbnQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGRmO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGRvY3VtZW50IGJlZm9yZSBnZW5lcmF0aW9uXG4gICAqIFJlcXVpcmVtZW50czogMy4yLCAzLjNcbiAgICovXG4gIGFzeW5jIHZhbGlkYXRlRG9jdW1lbnREYXRhKFxuICAgIHRlbXBsYXRlSWQ6IHN0cmluZyxcbiAgICBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICk6IFByb21pc2U8e1xuICAgIHZhbGlkOiBib29sZWFuO1xuICAgIGVycm9yczogc3RyaW5nW107XG4gICAgd2FybmluZ3M6IHN0cmluZ1tdO1xuICB9PiB7XG4gICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IHdhcm5pbmdzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGxlZ2FsU2VydmljZS5nZXRUZW1wbGF0ZUJ5SWQodGVtcGxhdGVJZCk7XG5cbiAgICAgIC8vIENoZWNrIGZvciByZXF1aXJlZCBmaWVsZHNcbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSBhd2FpdCBsZWdhbFNlcnZpY2UudmFsaWRhdGVUZW1wbGF0ZVBsYWNlaG9sZGVycyh0ZW1wbGF0ZUlkLCBkYXRhKTtcbiAgICAgIGlmICghdmFsaWRhdGlvbi52YWxpZCkge1xuICAgICAgICBlcnJvcnMucHVzaChgTWlzc2luZyByZXF1aXJlZCBmaWVsZHM6ICR7dmFsaWRhdGlvbi5taXNzaW5nRmllbGRzLmpvaW4oJywgJyl9YCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGZvciBlbXB0eSB2YWx1ZXNcbiAgICAgIE9iamVjdC5lbnRyaWVzKGRhdGEpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgd2FybmluZ3MucHVzaChgRmllbGQgXCIke2tleX1cIiBpcyBlbXB0eWApO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsXG4gICAgICAgIGVycm9ycyxcbiAgICAgICAgd2FybmluZ3MsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yczogW2BUZW1wbGF0ZSBub3QgZm91bmQ6ICR7dGVtcGxhdGVJZH1gXSxcbiAgICAgICAgd2FybmluZ3M6IFtdLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRvY3VtZW50IGdlbmVyYXRpb24gc3RhdGlzdGljc1xuICAgKiBSZXF1aXJlbWVudHM6IDMuMiwgMy4zXG4gICAqL1xuICBhc3luYyBnZXRHZW5lcmF0aW9uU3RhdHMoYnVzaW5lc3NJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgdG90YWxHZW5lcmF0ZWQ6IG51bWJlcjtcbiAgICBieVN0YXR1czogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgICBieVRlbXBsYXRlOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICB9PiB7XG4gICAgY29uc3QgZG9jcyA9IEFycmF5LmZyb20oZ2VuZXJhdGVkRG9jdW1lbnRzLnZhbHVlcygpKS5maWx0ZXIoKGQpID0+IGQuYnVzaW5lc3NJZCA9PT0gYnVzaW5lc3NJZCk7XG5cbiAgICBjb25zdCBieVN0YXR1czogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuICAgIGNvbnN0IGJ5VGVtcGxhdGU6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcblxuICAgIGRvY3MuZm9yRWFjaCgoZCkgPT4ge1xuICAgICAgYnlTdGF0dXNbZC5zdGF0dXNdID0gKGJ5U3RhdHVzW2Quc3RhdHVzXSB8fCAwKSArIDE7XG4gICAgICBieVRlbXBsYXRlW2QudGVtcGxhdGVJZF0gPSAoYnlUZW1wbGF0ZVtkLnRlbXBsYXRlSWRdIHx8IDApICsgMTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbEdlbmVyYXRlZDogZG9jcy5sZW5ndGgsXG4gICAgICBieVN0YXR1cyxcbiAgICAgIGJ5VGVtcGxhdGUsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgZmFsbGJhY2sgUERGIHdoZW4gcGRma2l0IGlzIG5vdCBhdmFpbGFibGVcbiAgICogUmVxdWlyZW1lbnRzOiAzLjIsIDMuM1xuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVGYWxsYmFja1BERihkb2N1bWVudDogTGVnYWxEb2N1bWVudCk6IEJ1ZmZlciB7XG4gICAgLy8gQ3JlYXRlIGEgc2ltcGxlIHRleHQtYmFzZWQgUERGIHJlcHJlc2VudGF0aW9uXG4gICAgY29uc3QgcGRmQ29udGVudCA9IGAlUERGLTEuNFxuMSAwIG9ialxuPDwgL1R5cGUgL0NhdGFsb2cgL1BhZ2VzIDIgMCBSID4+XG5lbmRvYmpcbjIgMCBvYmpcbjw8IC9UeXBlIC9QYWdlcyAvS2lkcyBbMyAwIFJdIC9Db3VudCAxID4+XG5lbmRvYmpcbjMgMCBvYmpcbjw8IC9UeXBlIC9QYWdlIC9QYXJlbnQgMiAwIFIgL01lZGlhQm94IFswIDAgNjEyIDc5Ml0gL0NvbnRlbnRzIDQgMCBSID4+XG5lbmRvYmpcbjQgMCBvYmpcbjw8IC9MZW5ndGggJHtkb2N1bWVudC5jb250ZW50Lmxlbmd0aCArIDEwMH0gPj5cbnN0cmVhbVxuQlRcbi9GMSAxMiBUZlxuNTAgNzUwIFRkXG4oTGVnYWwgRG9jdW1lbnQpIFRqXG4wIC0yMCBUZFxuKERvY3VtZW50IElEOiAke2RvY3VtZW50LmlkfSkgVGpcbjAgLTIwIFRkXG4oU3RhdHVzOiAke2RvY3VtZW50LnN0YXR1c30pIFRqXG4wIC0yMCBUZFxuKENyZWF0ZWQ6ICR7ZG9jdW1lbnQuY3JlYXRlZEF0LnRvTG9jYWxlRGF0ZVN0cmluZygpfSkgVGpcbjAgLTQwIFRkXG4oJHtkb2N1bWVudC5jb250ZW50LnN1YnN0cmluZygwLCAyMDApfSkgVGpcbkVUXG5lbmRzdHJlYW1cbmVuZG9ialxueHJlZlxuMCA1XG4wMDAwMDAwMDAwIDY1NTM1IGZcbjAwMDAwMDAwMDkgMDAwMDAgblxuMDAwMDAwMDA1OCAwMDAwMCBuXG4wMDAwMDAwMTE1IDAwMDAwIG5cbjAwMDAwMDAyMTQgMDAwMDAgblxudHJhaWxlclxuPDwgL1NpemUgNSAvUm9vdCAxIDAgUiA+Plxuc3RhcnR4cmVmXG4ke2RvY3VtZW50LmNvbnRlbnQubGVuZ3RoICsgNDAwfVxuJSVFT0ZgO1xuXG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHBkZkNvbnRlbnQsICd1dGYtOCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBjb250ZW50IHRvIFBERiBkb2N1bWVudFxuICAgKiBSZXF1aXJlbWVudHM6IDMuMiwgMy4zXG4gICAqL1xuICBwcml2YXRlIGFkZENvbnRlbnRUb1BERihwZGZEb2M6IGFueSwgZG9jdW1lbnQ6IExlZ2FsRG9jdW1lbnQpOiB2b2lkIHtcbiAgICAvLyBBZGQgdGl0bGVcbiAgICBwZGZEb2MuZm9udFNpemUoMTYpLmZvbnQoJ0hlbHZldGljYS1Cb2xkJykudGV4dCgnTGVnYWwgRG9jdW1lbnQnLCB7IGFsaWduOiAnY2VudGVyJyB9KTtcbiAgICBwZGZEb2MubW92ZURvd24oKTtcblxuICAgIC8vIEFkZCBtZXRhZGF0YVxuICAgIHBkZkRvYy5mb250U2l6ZSgxMCkuZm9udCgnSGVsdmV0aWNhJykudGV4dChgRG9jdW1lbnQgSUQ6ICR7ZG9jdW1lbnQuaWR9YCk7XG4gICAgcGRmRG9jLnRleHQoYFN0YXR1czogJHtkb2N1bWVudC5zdGF0dXN9YCk7XG4gICAgcGRmRG9jLnRleHQoYENyZWF0ZWQ6ICR7ZG9jdW1lbnQuY3JlYXRlZEF0LnRvTG9jYWxlRGF0ZVN0cmluZygpfWApO1xuICAgIHBkZkRvYy5tb3ZlRG93bigpO1xuXG4gICAgLy8gQWRkIGNvbnRlbnRcbiAgICBwZGZEb2MuZm9udFNpemUoMTEpLnRleHQoZG9jdW1lbnQuY29udGVudCwge1xuICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgIHdpZHRoOiA1MDAsXG4gICAgfSk7XG5cbiAgICAvLyBBZGQgZm9vdGVyXG4gICAgcGRmRG9jLm1vdmVEb3duKCk7XG4gICAgcGRmRG9jLmZvbnRTaXplKDkpLnRleHQoJ1RoaXMgaXMgYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgZG9jdW1lbnQuJywge1xuICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IHN0eWxpbmcgdG8gZG9jdW1lbnQgY29udGVudFxuICAgKiBSZXF1aXJlbWVudHM6IDMuMiwgMy4zXG4gICAqL1xuICBwcml2YXRlIGFwcGx5U3R5bGVUb0NvbnRlbnQoXG4gICAgY29udGVudDogc3RyaW5nLFxuICAgIHN0eWxpbmc6IHtcbiAgICAgIGZvbnRTaXplPzogbnVtYmVyO1xuICAgICAgZm9udEZhbWlseT86IHN0cmluZztcbiAgICAgIG1hcmdpbnM/OiB7IHRvcDogbnVtYmVyOyBib3R0b206IG51bWJlcjsgbGVmdDogbnVtYmVyOyByaWdodDogbnVtYmVyIH07XG4gICAgICBoZWFkZXJUZXh0Pzogc3RyaW5nO1xuICAgICAgZm9vdGVyVGV4dD86IHN0cmluZztcbiAgICB9XG4gICk6IHN0cmluZyB7XG4gICAgbGV0IHN0eWxlZENvbnRlbnQgPSBjb250ZW50O1xuXG4gICAgaWYgKHN0eWxpbmcuaGVhZGVyVGV4dCkge1xuICAgICAgc3R5bGVkQ29udGVudCA9IGAke3N0eWxpbmcuaGVhZGVyVGV4dH1cXG5cXG4ke3N0eWxlZENvbnRlbnR9YDtcbiAgICB9XG5cbiAgICBpZiAoc3R5bGluZy5mb290ZXJUZXh0KSB7XG4gICAgICBzdHlsZWRDb250ZW50ID0gYCR7c3R5bGVkQ29udGVudH1cXG5cXG4ke3N0eWxpbmcuZm9vdGVyVGV4dH1gO1xuICAgIH1cblxuICAgIHJldHVybiBzdHlsZWRDb250ZW50O1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkb2N1bWVudEdlbmVyYXRpb25TZXJ2aWNlID0gbmV3IERvY3VtZW50R2VuZXJhdGlvblNlcnZpY2UoKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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