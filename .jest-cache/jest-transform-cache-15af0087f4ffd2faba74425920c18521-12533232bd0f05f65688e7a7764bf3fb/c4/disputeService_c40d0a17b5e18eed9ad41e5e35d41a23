23afb9f5c05042696e6e3cd03f5ec364
/* istanbul ignore next */
function cov_2m2kl2juui() {
  var path = "/workspaces/azora/services/azora-forge/src/disputes/disputeService.ts";
  var hash = "5effde4daadeadbef64e8efd498f0778a4da99cb";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/azora-forge/src/disputes/disputeService.ts",
    statementMap: {
      "0": {
        start: {
          line: 63,
          column: 76
        },
        end: {
          line: 63,
          column: 80
        }
      },
      "1": {
        start: {
          line: 66,
          column: 4
        },
        end: {
          line: 68,
          column: 5
        }
      },
      "2": {
        start: {
          line: 67,
          column: 6
        },
        end: {
          line: 67,
          column: 71
        }
      },
      "3": {
        start: {
          line: 70,
          column: 29
        },
        end: {
          line: 81,
          column: 5
        }
      },
      "4": {
        start: {
          line: 87,
          column: 4
        },
        end: {
          line: 87,
          column: 44
        }
      },
      "5": {
        start: {
          line: 90,
          column: 4
        },
        end: {
          line: 90,
          column: 42
        }
      },
      "6": {
        start: {
          line: 92,
          column: 4
        },
        end: {
          line: 92,
          column: 47
        }
      },
      "7": {
        start: {
          line: 94,
          column: 4
        },
        end: {
          line: 94,
          column: 19
        }
      },
      "8": {
        start: {
          line: 111,
          column: 41
        },
        end: {
          line: 116,
          column: 5
        }
      },
      "9": {
        start: {
          line: 121,
          column: 4
        },
        end: {
          line: 121,
          column: 83
        }
      },
      "10": {
        start: {
          line: 123,
          column: 4
        },
        end: {
          line: 123,
          column: 23
        }
      },
      "11": {
        start: {
          line: 137,
          column: 23
        },
        end: {
          line: 137,
          column: 40
        }
      },
      "12": {
        start: {
          line: 147,
          column: 4
        },
        end: {
          line: 147,
          column: 75
        }
      },
      "13": {
        start: {
          line: 164,
          column: 47
        },
        end: {
          line: 167,
          column: 5
        }
      },
      "14": {
        start: {
          line: 180,
          column: 4
        },
        end: {
          line: 180,
          column: 61
        }
      },
      "15": {
        start: {
          line: 182,
          column: 4
        },
        end: {
          line: 182,
          column: 83
        }
      },
      "16": {
        start: {
          line: 184,
          column: 4
        },
        end: {
          line: 184,
          column: 69
        }
      },
      "17": {
        start: {
          line: 200,
          column: 4
        },
        end: {
          line: 232,
          column: 5
        }
      },
      "18": {
        start: {
          line: 204,
          column: 8
        },
        end: {
          line: 204,
          column: 14
        }
      },
      "19": {
        start: {
          line: 213,
          column: 8
        },
        end: {
          line: 213,
          column: 14
        }
      },
      "20": {
        start: {
          line: 217,
          column: 8
        },
        end: {
          line: 225,
          column: 9
        }
      },
      "21": {
        start: {
          line: 226,
          column: 8
        },
        end: {
          line: 226,
          column: 14
        }
      },
      "22": {
        start: {
          line: 231,
          column: 8
        },
        end: {
          line: 231,
          column: 14
        }
      },
      "23": {
        start: {
          line: 244,
          column: 4
        },
        end: {
          line: 244,
          column: 16
        }
      },
      "24": {
        start: {
          line: 261,
          column: 4
        },
        end: {
          line: 261,
          column: 14
        }
      },
      "25": {
        start: {
          line: 274,
          column: 4
        },
        end: {
          line: 279,
          column: 6
        }
      },
      "26": {
        start: {
          line: 287,
          column: 4
        },
        end: {
          line: 287,
          column: 68
        }
      },
      "27": {
        start: {
          line: 297,
          column: 4
        },
        end: {
          line: 297,
          column: 17
        }
      },
      "28": {
        start: {
          line: 301,
          column: 4
        },
        end: {
          line: 301,
          column: 52
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 55,
            column: 2
          },
          end: {
            line: 55,
            column: 3
          }
        },
        loc: {
          start: {
            line: 62,
            column: 23
          },
          end: {
            line: 95,
            column: 3
          }
        },
        line: 62
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 100,
            column: 2
          },
          end: {
            line: 100,
            column: 3
          }
        },
        loc: {
          start: {
            line: 104,
            column: 30
          },
          end: {
            line: 124,
            column: 3
          }
        },
        line: 104
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 129,
            column: 2
          },
          end: {
            line: 129,
            column: 3
          }
        },
        loc: {
          start: {
            line: 129,
            column: 72
          },
          end: {
            line: 148,
            column: 3
          }
        },
        line: 129
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 153,
            column: 2
          },
          end: {
            line: 153,
            column: 3
          }
        },
        loc: {
          start: {
            line: 157,
            column: 22
          },
          end: {
            line: 185,
            column: 3
          }
        },
        line: 157
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 190,
            column: 2
          },
          end: {
            line: 190,
            column: 3
          }
        },
        loc: {
          start: {
            line: 193,
            column: 19
          },
          end: {
            line: 233,
            column: 3
          }
        },
        line: 193
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 238,
            column: 2
          },
          end: {
            line: 238,
            column: 3
          }
        },
        loc: {
          start: {
            line: 238,
            column: 70
          },
          end: {
            line: 245,
            column: 3
          }
        },
        line: 238
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 250,
            column: 2
          },
          end: {
            line: 250,
            column: 3
          }
        },
        loc: {
          start: {
            line: 250,
            column: 67
          },
          end: {
            line: 262,
            column: 3
          }
        },
        line: 250
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 267,
            column: 2
          },
          end: {
            line: 267,
            column: 3
          }
        },
        loc: {
          start: {
            line: 272,
            column: 5
          },
          end: {
            line: 280,
            column: 3
          }
        },
        line: 272
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 285,
            column: 2
          },
          end: {
            line: 285,
            column: 3
          }
        },
        loc: {
          start: {
            line: 285,
            column: 76
          },
          end: {
            line: 288,
            column: 3
          }
        },
        line: 285
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 293,
            column: 2
          },
          end: {
            line: 293,
            column: 3
          }
        },
        loc: {
          start: {
            line: 293,
            column: 77
          },
          end: {
            line: 298,
            column: 3
          }
        },
        line: 293
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 300,
            column: 2
          },
          end: {
            line: 300,
            column: 3
          }
        },
        loc: {
          start: {
            line: 300,
            column: 53
          },
          end: {
            line: 304,
            column: 3
          }
        },
        line: 300
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 66,
            column: 4
          },
          end: {
            line: 68,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 66,
            column: 4
          },
          end: {
            line: 68,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 66
      },
      "1": {
        loc: {
          start: {
            line: 200,
            column: 4
          },
          end: {
            line: 232,
            column: 5
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 201,
            column: 6
          },
          end: {
            line: 204,
            column: 14
          }
        }, {
          start: {
            line: 206,
            column: 6
          },
          end: {
            line: 213,
            column: 14
          }
        }, {
          start: {
            line: 215,
            column: 6
          },
          end: {
            line: 226,
            column: 14
          }
        }, {
          start: {
            line: 228,
            column: 6
          },
          end: {
            line: 231,
            column: 14
          }
        }],
        line: 200
      },
      "2": {
        loc: {
          start: {
            line: 217,
            column: 8
          },
          end: {
            line: 225,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 217,
            column: 8
          },
          end: {
            line: 225,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 217
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0, 0, 0],
      "2": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "5effde4daadeadbef64e8efd498f0778a4da99cb"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2m2kl2juui = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2m2kl2juui();
/*
AZORA PROPRIETARY LICENSE

Copyright Â© 2025 Azora ES (Pty) Ltd. All Rights Reserved.

See LICENSE file for details.
*/

/**
 * âš–ï¸ DISPUTE RESOLUTION SERVICE
 * 
 * Handles conflicts between buyers and sellers.
 * Fair, transparent, and efficient dispute resolution.
 */
export class DisputeService {
  /**
   * Create a new dispute
   */
  static async createDispute(data) {
    /* istanbul ignore next */
    cov_2m2kl2juui().f[0]++;
    const {
      escrowId,
      projectId,
      sellerId,
      buyerId,
      initiatedBy,
      reason
    } =
    /* istanbul ignore next */
    (cov_2m2kl2juui().s[0]++, data);

    // Validate reason is substantial
    /* istanbul ignore next */
    cov_2m2kl2juui().s[1]++;
    if (reason.length < 20) {
      /* istanbul ignore next */
      cov_2m2kl2juui().b[0][0]++;
      cov_2m2kl2juui().s[2]++;
      throw new Error('Dispute reason must be at least 20 characters');
    } else
    /* istanbul ignore next */
    {
      cov_2m2kl2juui().b[0][1]++;
    }
    const dispute =
    /* istanbul ignore next */
    (cov_2m2kl2juui().s[3]++, {
      id: `dispute_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
      escrowId,
      projectId,
      sellerId,
      buyerId,
      initiatedBy,
      reason,
      evidence: [],
      status: 'open',
      createdAt: new Date()
    });

    // TODO: Save to database
    // await prisma.dispute.create({ data: dispute });

    // Notify other party
    /* istanbul ignore next */
    cov_2m2kl2juui().s[4]++;
    await this.notifyDisputeOpened(dispute);

    // Assign mediator if available
    /* istanbul ignore next */
    cov_2m2kl2juui().s[5]++;
    await this.assignMediator(dispute.id);
    /* istanbul ignore next */
    cov_2m2kl2juui().s[6]++;
    this.emitEvent('dispute:created', dispute);
    /* istanbul ignore next */
    cov_2m2kl2juui().s[7]++;
    return dispute;
  }

  /**
   * Add evidence to dispute
   */
  static async addEvidence(disputeId, userId, evidence) {
    /* istanbul ignore next */
    cov_2m2kl2juui().f[1]++;
    // TODO: Validate user is part of dispute
    // const dispute = await prisma.dispute.findUnique({ where: { id: disputeId } });
    // if (userId !== dispute.buyerId && userId !== dispute.sellerId) {
    //   throw new Error('Only parties involved can submit evidence');
    // }

    const newEvidence =
    /* istanbul ignore next */
    (cov_2m2kl2juui().s[8]++, {
      ...evidence,
      id: `evidence_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
      disputeId,
      timestamp: new Date()
    });

    // TODO: Save to database
    // await prisma.disputeEvidence.create({ data: newEvidence });
    /* istanbul ignore next */
    cov_2m2kl2juui().s[9]++;
    this.emitEvent('dispute:evidence_added', {
      disputeId,
      evidence: newEvidence
    });
    /* istanbul ignore next */
    cov_2m2kl2juui().s[10]++;
    return newEvidence;
  }

  /**
   * Assign mediator to dispute
   */
  static async assignMediator(disputeId) {
    /* istanbul ignore next */
    cov_2m2kl2juui().f[2]++;
    // TODO: Find available mediator
    // Could be:
    // 1. Human mediator (Azora staff)
    // 2. AI mediator (for simple cases)
    // 3. Community mediator (trusted users)

    // For now, assign to AI mediator for simple cases
    const mediatorId =
    /* istanbul ignore next */
    (cov_2m2kl2juui().s[11]++, 'ai_mediator_001');

    // await prisma.dispute.update({
    //   where: { id: disputeId },
    //   data: {
    //     mediatorId,
    //     status: 'under_review'
    //   }
    // });
    /* istanbul ignore next */
    cov_2m2kl2juui().s[12]++;
    this.emitEvent('dispute:mediator_assigned', {
      disputeId,
      mediatorId
    });
  }

  /**
   * Resolve dispute
   */
  static async resolveDispute(disputeId, resolution, mediatorId) {
    /* istanbul ignore next */
    cov_2m2kl2juui().f[3]++;
    // TODO: Validate mediator is assigned to this dispute
    // const dispute = await prisma.dispute.findUnique({ where: { id: disputeId } });
    // if (dispute.mediatorId !== mediatorId) {
    //   throw new Error('Only assigned mediator can resolve dispute');
    // }

    const finalResolution =
    /* istanbul ignore next */
    (cov_2m2kl2juui().s[13]++, {
      ...resolution,
      decidedAt: new Date()
    });

    // Update dispute
    // await prisma.dispute.update({
    //   where: { id: disputeId },
    //   data: {
    //     status: 'resolved',
    //     resolution: finalResolution,
    //     resolvedAt: new Date()
    //   }
    // });

    // Execute resolution (refund, release, etc.)
    /* istanbul ignore next */
    cov_2m2kl2juui().s[14]++;
    await this.executeResolution(disputeId, finalResolution);
    /* istanbul ignore next */
    cov_2m2kl2juui().s[15]++;
    this.emitEvent('dispute:resolved', {
      disputeId,
      resolution: finalResolution
    });
    /* istanbul ignore next */
    cov_2m2kl2juui().s[16]++;
    return {
      id: disputeId,
      resolution: finalResolution
    };
  }

  /**
   * Execute resolution (process refunds/releases)
   */
  static async executeResolution(disputeId, resolution) {
    /* istanbul ignore next */
    cov_2m2kl2juui().f[4]++;
    cov_2m2kl2juui().s[17]++;
    // TODO: Get dispute details
    // const dispute = await prisma.dispute.findUnique({
    //   where: { id: disputeId },
    //   include: { escrow: true }
    // });

    switch (resolution.outcome) {
      case 'buyer_wins':
        /* istanbul ignore next */
        cov_2m2kl2juui().b[1][0]++;
        cov_2m2kl2juui().s[18]++;
        // Full refund to buyer
        // await EscrowService.refundEscrow(dispute.escrowId, resolution.explanation, 'mediator');
        break;
      case 'seller_wins':
        /* istanbul ignore next */
        cov_2m2kl2juui().b[1][1]++;
        cov_2m2kl2juui().s[19]++;
        // Full release to seller
        // await EscrowService.releaseFunds(
        //   dispute.escrowId,
        //   { type: 'full', amount: dispute.escrow.amount, approvedBy: 'dispute_resolution' },
        //   'mediator'
        // );
        break;
      case 'partial_refund':
        /* istanbul ignore next */
        cov_2m2kl2juui().b[1][2]++;
        cov_2m2kl2juui().s[20]++;
        // Partial refund
        if (resolution.refundPercentage) {
          /* istanbul ignore next */
          cov_2m2kl2juui().b[2][0]++;
        } // const refundAmount = dispute.escrow.amount * (resolution.refundPercentage / 100);
        // const releaseAmount = dispute.escrow.amount - refundAmount;

        // Release to seller
        // await EscrowService.releaseFunds(...);
        // Refund to buyer
        // await EscrowService.refundEscrow(...);
        else
        /* istanbul ignore next */
        {
          cov_2m2kl2juui().b[2][1]++;
        }
        cov_2m2kl2juui().s[21]++;
        break;
      case 'rework':
        /* istanbul ignore next */
        cov_2m2kl2juui().b[1][3]++;
        cov_2m2kl2juui().s[22]++;
        // Seller must rework, escrow stays funded
        // Notify seller to rework
        break;
    }
  }

  /**
   * Get dispute details
   */
  static async getDispute(disputeId) {
    /* istanbul ignore next */
    cov_2m2kl2juui().f[5]++;
    cov_2m2kl2juui().s[23]++;
    // TODO: Fetch from database
    // return await prisma.dispute.findUnique({
    //   where: { id: disputeId },
    //   include: { evidence: true }
    // });
    return null;
  }

  /**
   * Get user's disputes
   */
  static async getUserDisputes(userId) {
    /* istanbul ignore next */
    cov_2m2kl2juui().f[6]++;
    cov_2m2kl2juui().s[24]++;
    // TODO: Fetch from database
    // return await prisma.dispute.findMany({
    //   where: {
    //     OR: [
    //       { buyerId: userId },
    //       { sellerId: userId }
    //     ]
    //   },
    //   orderBy: { createdAt: 'desc' }
    // });
    return [];
  }

  /**
   * Get dispute statistics
   */
  static async getDisputeStats() {
    /* istanbul ignore next */
    cov_2m2kl2juui().f[7]++;
    cov_2m2kl2juui().s[25]++;
    // TODO: Aggregate from database
    return {
      total: 0,
      byStatus: {},
      byOutcome: {},
      averageResolutionTime: 0
    };
  }

  /**
   * Notify parties that dispute was opened
   */
  static async notifyDisputeOpened(dispute) {
    /* istanbul ignore next */
    cov_2m2kl2juui().f[8]++;
    cov_2m2kl2juui().s[26]++;
    // TODO: Send notifications via notification service
    console.log(`ğŸ“§ Notifying parties about dispute ${dispute.id}`);
  }

  /**
   * AI-powered dispute resolution for simple cases
   */
  static async autoResolveSimpleDispute(disputeId) {
    /* istanbul ignore next */
    cov_2m2kl2juui().f[9]++;
    cov_2m2kl2juui().s[27]++;
    // TODO: Implement AI logic
    // Analyze evidence, previous cases, and suggest resolution
    // For now, return false (manual resolution required)
    return false;
  }
  static emitEvent(event, data) {
    /* istanbul ignore next */
    cov_2m2kl2juui().f[10]++;
    cov_2m2kl2juui().s[28]++;
    console.log(`ğŸ”” Dispute Event: ${event}`, data);
    // Emit to organism event bus
    // OrganismEventBus.emit(event, data);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMm0ya2wyanV1aSIsImFjdHVhbENvdmVyYWdlIiwiRGlzcHV0ZVNlcnZpY2UiLCJjcmVhdGVEaXNwdXRlIiwiZGF0YSIsImYiLCJlc2Nyb3dJZCIsInByb2plY3RJZCIsInNlbGxlcklkIiwiYnV5ZXJJZCIsImluaXRpYXRlZEJ5IiwicmVhc29uIiwicyIsImxlbmd0aCIsImIiLCJFcnJvciIsImRpc3B1dGUiLCJpZCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJldmlkZW5jZSIsInN0YXR1cyIsImNyZWF0ZWRBdCIsIm5vdGlmeURpc3B1dGVPcGVuZWQiLCJhc3NpZ25NZWRpYXRvciIsImVtaXRFdmVudCIsImFkZEV2aWRlbmNlIiwiZGlzcHV0ZUlkIiwidXNlcklkIiwibmV3RXZpZGVuY2UiLCJ0aW1lc3RhbXAiLCJtZWRpYXRvcklkIiwicmVzb2x2ZURpc3B1dGUiLCJyZXNvbHV0aW9uIiwiZmluYWxSZXNvbHV0aW9uIiwiZGVjaWRlZEF0IiwiZXhlY3V0ZVJlc29sdXRpb24iLCJvdXRjb21lIiwicmVmdW5kUGVyY2VudGFnZSIsImdldERpc3B1dGUiLCJnZXRVc2VyRGlzcHV0ZXMiLCJnZXREaXNwdXRlU3RhdHMiLCJ0b3RhbCIsImJ5U3RhdHVzIiwiYnlPdXRjb21lIiwiYXZlcmFnZVJlc29sdXRpb25UaW1lIiwiY29uc29sZSIsImxvZyIsImF1dG9SZXNvbHZlU2ltcGxlRGlzcHV0ZSIsImV2ZW50Il0sInNvdXJjZXMiOlsiZGlzcHV0ZVNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFaT1JBIFBST1BSSUVUQVJZIExJQ0VOU0VcblxuQ29weXJpZ2h0IMKpIDIwMjUgQXpvcmEgRVMgKFB0eSkgTHRkLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5TZWUgTElDRU5TRSBmaWxlIGZvciBkZXRhaWxzLlxuKi9cblxuZXhwb3J0IGludGVyZmFjZSBEaXNwdXRlIHtcbiAgaWQ6IHN0cmluZztcbiAgZXNjcm93SWQ6IHN0cmluZztcbiAgcHJvamVjdElkOiBzdHJpbmc7XG4gIHNlbGxlcklkOiBzdHJpbmc7XG4gIGJ1eWVySWQ6IHN0cmluZztcbiAgaW5pdGlhdGVkQnk6ICdidXllcicgfCAnc2VsbGVyJztcbiAgcmVhc29uOiBzdHJpbmc7XG4gIGV2aWRlbmNlOiBEaXNwdXRlRXZpZGVuY2VbXTtcbiAgc3RhdHVzOiAnb3BlbicgfCAndW5kZXJfcmV2aWV3JyB8ICdyZXNvbHZlZCcgfCAnY2xvc2VkJztcbiAgcmVzb2x1dGlvbj86IERpc3B1dGVSZXNvbHV0aW9uO1xuICBtZWRpYXRvcklkPzogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHJlc29sdmVkQXQ/OiBEYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpc3B1dGVFdmlkZW5jZSB7XG4gIGlkOiBzdHJpbmc7XG4gIGRpc3B1dGVJZDogc3RyaW5nO1xuICBzdWJtaXR0ZWRCeTogc3RyaW5nO1xuICB0eXBlOiAndGV4dCcgfCAnaW1hZ2UnIHwgJ2ZpbGUnIHwgJ21lc3NhZ2UnO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIGZpbGVVcmw/OiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaXNwdXRlUmVzb2x1dGlvbiB7XG4gIG91dGNvbWU6ICdidXllcl93aW5zJyB8ICdzZWxsZXJfd2lucycgfCAncGFydGlhbF9yZWZ1bmQnIHwgJ3Jld29yayc7XG4gIHJlZnVuZEFtb3VudD86IG51bWJlcjtcbiAgcmVmdW5kUGVyY2VudGFnZT86IG51bWJlcjtcbiAgZXhwbGFuYXRpb246IHN0cmluZztcbiAgZGVjaWRlZEJ5OiBzdHJpbmc7XG4gIGRlY2lkZWRBdDogRGF0ZTtcbn1cblxuLyoqXG4gKiDimpbvuI8gRElTUFVURSBSRVNPTFVUSU9OIFNFUlZJQ0VcbiAqIFxuICogSGFuZGxlcyBjb25mbGljdHMgYmV0d2VlbiBidXllcnMgYW5kIHNlbGxlcnMuXG4gKiBGYWlyLCB0cmFuc3BhcmVudCwgYW5kIGVmZmljaWVudCBkaXNwdXRlIHJlc29sdXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBEaXNwdXRlU2VydmljZSB7XG4gIFxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGRpc3B1dGVcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVEaXNwdXRlKGRhdGE6IHtcbiAgICBlc2Nyb3dJZDogc3RyaW5nO1xuICAgIHByb2plY3RJZDogc3RyaW5nO1xuICAgIHNlbGxlcklkOiBzdHJpbmc7XG4gICAgYnV5ZXJJZDogc3RyaW5nO1xuICAgIGluaXRpYXRlZEJ5OiAnYnV5ZXInIHwgJ3NlbGxlcic7XG4gICAgcmVhc29uOiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPERpc3B1dGU+IHtcbiAgICBjb25zdCB7IGVzY3Jvd0lkLCBwcm9qZWN0SWQsIHNlbGxlcklkLCBidXllcklkLCBpbml0aWF0ZWRCeSwgcmVhc29uIH0gPSBkYXRhO1xuXG4gICAgLy8gVmFsaWRhdGUgcmVhc29uIGlzIHN1YnN0YW50aWFsXG4gICAgaWYgKHJlYXNvbi5sZW5ndGggPCAyMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEaXNwdXRlIHJlYXNvbiBtdXN0IGJlIGF0IGxlYXN0IDIwIGNoYXJhY3RlcnMnKTtcbiAgICB9XG5cbiAgICBjb25zdCBkaXNwdXRlOiBEaXNwdXRlID0ge1xuICAgICAgaWQ6IGBkaXNwdXRlXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcbiAgICAgIGVzY3Jvd0lkLFxuICAgICAgcHJvamVjdElkLFxuICAgICAgc2VsbGVySWQsXG4gICAgICBidXllcklkLFxuICAgICAgaW5pdGlhdGVkQnksXG4gICAgICByZWFzb24sXG4gICAgICBldmlkZW5jZTogW10sXG4gICAgICBzdGF0dXM6ICdvcGVuJyxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKVxuICAgIH07XG5cbiAgICAvLyBUT0RPOiBTYXZlIHRvIGRhdGFiYXNlXG4gICAgLy8gYXdhaXQgcHJpc21hLmRpc3B1dGUuY3JlYXRlKHsgZGF0YTogZGlzcHV0ZSB9KTtcblxuICAgIC8vIE5vdGlmeSBvdGhlciBwYXJ0eVxuICAgIGF3YWl0IHRoaXMubm90aWZ5RGlzcHV0ZU9wZW5lZChkaXNwdXRlKTtcblxuICAgIC8vIEFzc2lnbiBtZWRpYXRvciBpZiBhdmFpbGFibGVcbiAgICBhd2FpdCB0aGlzLmFzc2lnbk1lZGlhdG9yKGRpc3B1dGUuaWQpO1xuXG4gICAgdGhpcy5lbWl0RXZlbnQoJ2Rpc3B1dGU6Y3JlYXRlZCcsIGRpc3B1dGUpO1xuXG4gICAgcmV0dXJuIGRpc3B1dGU7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGV2aWRlbmNlIHRvIGRpc3B1dGVcbiAgICovXG4gIHN0YXRpYyBhc3luYyBhZGRFdmlkZW5jZShcbiAgICBkaXNwdXRlSWQ6IHN0cmluZyxcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICBldmlkZW5jZTogT21pdDxEaXNwdXRlRXZpZGVuY2UsICdpZCcgfCAnZGlzcHV0ZUlkJyB8ICd0aW1lc3RhbXAnPlxuICApOiBQcm9taXNlPERpc3B1dGVFdmlkZW5jZT4ge1xuICAgIC8vIFRPRE86IFZhbGlkYXRlIHVzZXIgaXMgcGFydCBvZiBkaXNwdXRlXG4gICAgLy8gY29uc3QgZGlzcHV0ZSA9IGF3YWl0IHByaXNtYS5kaXNwdXRlLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBpZDogZGlzcHV0ZUlkIH0gfSk7XG4gICAgLy8gaWYgKHVzZXJJZCAhPT0gZGlzcHV0ZS5idXllcklkICYmIHVzZXJJZCAhPT0gZGlzcHV0ZS5zZWxsZXJJZCkge1xuICAgIC8vICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHBhcnRpZXMgaW52b2x2ZWQgY2FuIHN1Ym1pdCBldmlkZW5jZScpO1xuICAgIC8vIH1cblxuICAgIGNvbnN0IG5ld0V2aWRlbmNlOiBEaXNwdXRlRXZpZGVuY2UgPSB7XG4gICAgICAuLi5ldmlkZW5jZSxcbiAgICAgIGlkOiBgZXZpZGVuY2VfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gLFxuICAgICAgZGlzcHV0ZUlkLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgfTtcblxuICAgIC8vIFRPRE86IFNhdmUgdG8gZGF0YWJhc2VcbiAgICAvLyBhd2FpdCBwcmlzbWEuZGlzcHV0ZUV2aWRlbmNlLmNyZWF0ZSh7IGRhdGE6IG5ld0V2aWRlbmNlIH0pO1xuXG4gICAgdGhpcy5lbWl0RXZlbnQoJ2Rpc3B1dGU6ZXZpZGVuY2VfYWRkZWQnLCB7IGRpc3B1dGVJZCwgZXZpZGVuY2U6IG5ld0V2aWRlbmNlIH0pO1xuXG4gICAgcmV0dXJuIG5ld0V2aWRlbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFzc2lnbiBtZWRpYXRvciB0byBkaXNwdXRlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBhc3luYyBhc3NpZ25NZWRpYXRvcihkaXNwdXRlSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIFRPRE86IEZpbmQgYXZhaWxhYmxlIG1lZGlhdG9yXG4gICAgLy8gQ291bGQgYmU6XG4gICAgLy8gMS4gSHVtYW4gbWVkaWF0b3IgKEF6b3JhIHN0YWZmKVxuICAgIC8vIDIuIEFJIG1lZGlhdG9yIChmb3Igc2ltcGxlIGNhc2VzKVxuICAgIC8vIDMuIENvbW11bml0eSBtZWRpYXRvciAodHJ1c3RlZCB1c2VycylcblxuICAgIC8vIEZvciBub3csIGFzc2lnbiB0byBBSSBtZWRpYXRvciBmb3Igc2ltcGxlIGNhc2VzXG4gICAgY29uc3QgbWVkaWF0b3JJZCA9ICdhaV9tZWRpYXRvcl8wMDEnO1xuXG4gICAgLy8gYXdhaXQgcHJpc21hLmRpc3B1dGUudXBkYXRlKHtcbiAgICAvLyAgIHdoZXJlOiB7IGlkOiBkaXNwdXRlSWQgfSxcbiAgICAvLyAgIGRhdGE6IHtcbiAgICAvLyAgICAgbWVkaWF0b3JJZCxcbiAgICAvLyAgICAgc3RhdHVzOiAndW5kZXJfcmV2aWV3J1xuICAgIC8vICAgfVxuICAgIC8vIH0pO1xuXG4gICAgdGhpcy5lbWl0RXZlbnQoJ2Rpc3B1dGU6bWVkaWF0b3JfYXNzaWduZWQnLCB7IGRpc3B1dGVJZCwgbWVkaWF0b3JJZCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNvbHZlIGRpc3B1dGVcbiAgICovXG4gIHN0YXRpYyBhc3luYyByZXNvbHZlRGlzcHV0ZShcbiAgICBkaXNwdXRlSWQ6IHN0cmluZyxcbiAgICByZXNvbHV0aW9uOiBPbWl0PERpc3B1dGVSZXNvbHV0aW9uLCAnZGVjaWRlZEF0Jz4sXG4gICAgbWVkaWF0b3JJZDogc3RyaW5nXG4gICk6IFByb21pc2U8RGlzcHV0ZT4ge1xuICAgIC8vIFRPRE86IFZhbGlkYXRlIG1lZGlhdG9yIGlzIGFzc2lnbmVkIHRvIHRoaXMgZGlzcHV0ZVxuICAgIC8vIGNvbnN0IGRpc3B1dGUgPSBhd2FpdCBwcmlzbWEuZGlzcHV0ZS5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQ6IGRpc3B1dGVJZCB9IH0pO1xuICAgIC8vIGlmIChkaXNwdXRlLm1lZGlhdG9ySWQgIT09IG1lZGlhdG9ySWQpIHtcbiAgICAvLyAgIHRocm93IG5ldyBFcnJvcignT25seSBhc3NpZ25lZCBtZWRpYXRvciBjYW4gcmVzb2x2ZSBkaXNwdXRlJyk7XG4gICAgLy8gfVxuXG4gICAgY29uc3QgZmluYWxSZXNvbHV0aW9uOiBEaXNwdXRlUmVzb2x1dGlvbiA9IHtcbiAgICAgIC4uLnJlc29sdXRpb24sXG4gICAgICBkZWNpZGVkQXQ6IG5ldyBEYXRlKClcbiAgICB9O1xuXG4gICAgLy8gVXBkYXRlIGRpc3B1dGVcbiAgICAvLyBhd2FpdCBwcmlzbWEuZGlzcHV0ZS51cGRhdGUoe1xuICAgIC8vICAgd2hlcmU6IHsgaWQ6IGRpc3B1dGVJZCB9LFxuICAgIC8vICAgZGF0YToge1xuICAgIC8vICAgICBzdGF0dXM6ICdyZXNvbHZlZCcsXG4gICAgLy8gICAgIHJlc29sdXRpb246IGZpbmFsUmVzb2x1dGlvbixcbiAgICAvLyAgICAgcmVzb2x2ZWRBdDogbmV3IERhdGUoKVxuICAgIC8vICAgfVxuICAgIC8vIH0pO1xuXG4gICAgLy8gRXhlY3V0ZSByZXNvbHV0aW9uIChyZWZ1bmQsIHJlbGVhc2UsIGV0Yy4pXG4gICAgYXdhaXQgdGhpcy5leGVjdXRlUmVzb2x1dGlvbihkaXNwdXRlSWQsIGZpbmFsUmVzb2x1dGlvbik7XG5cbiAgICB0aGlzLmVtaXRFdmVudCgnZGlzcHV0ZTpyZXNvbHZlZCcsIHsgZGlzcHV0ZUlkLCByZXNvbHV0aW9uOiBmaW5hbFJlc29sdXRpb24gfSk7XG5cbiAgICByZXR1cm4geyBpZDogZGlzcHV0ZUlkLCByZXNvbHV0aW9uOiBmaW5hbFJlc29sdXRpb24gfSBhcyBEaXNwdXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgcmVzb2x1dGlvbiAocHJvY2VzcyByZWZ1bmRzL3JlbGVhc2VzKVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgZXhlY3V0ZVJlc29sdXRpb24oXG4gICAgZGlzcHV0ZUlkOiBzdHJpbmcsXG4gICAgcmVzb2x1dGlvbjogRGlzcHV0ZVJlc29sdXRpb25cbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gVE9ETzogR2V0IGRpc3B1dGUgZGV0YWlsc1xuICAgIC8vIGNvbnN0IGRpc3B1dGUgPSBhd2FpdCBwcmlzbWEuZGlzcHV0ZS5maW5kVW5pcXVlKHtcbiAgICAvLyAgIHdoZXJlOiB7IGlkOiBkaXNwdXRlSWQgfSxcbiAgICAvLyAgIGluY2x1ZGU6IHsgZXNjcm93OiB0cnVlIH1cbiAgICAvLyB9KTtcblxuICAgIHN3aXRjaCAocmVzb2x1dGlvbi5vdXRjb21lKSB7XG4gICAgICBjYXNlICdidXllcl93aW5zJzpcbiAgICAgICAgLy8gRnVsbCByZWZ1bmQgdG8gYnV5ZXJcbiAgICAgICAgLy8gYXdhaXQgRXNjcm93U2VydmljZS5yZWZ1bmRFc2Nyb3coZGlzcHV0ZS5lc2Nyb3dJZCwgcmVzb2x1dGlvbi5leHBsYW5hdGlvbiwgJ21lZGlhdG9yJyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzZWxsZXJfd2lucyc6XG4gICAgICAgIC8vIEZ1bGwgcmVsZWFzZSB0byBzZWxsZXJcbiAgICAgICAgLy8gYXdhaXQgRXNjcm93U2VydmljZS5yZWxlYXNlRnVuZHMoXG4gICAgICAgIC8vICAgZGlzcHV0ZS5lc2Nyb3dJZCxcbiAgICAgICAgLy8gICB7IHR5cGU6ICdmdWxsJywgYW1vdW50OiBkaXNwdXRlLmVzY3Jvdy5hbW91bnQsIGFwcHJvdmVkQnk6ICdkaXNwdXRlX3Jlc29sdXRpb24nIH0sXG4gICAgICAgIC8vICAgJ21lZGlhdG9yJ1xuICAgICAgICAvLyApO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncGFydGlhbF9yZWZ1bmQnOlxuICAgICAgICAvLyBQYXJ0aWFsIHJlZnVuZFxuICAgICAgICBpZiAocmVzb2x1dGlvbi5yZWZ1bmRQZXJjZW50YWdlKSB7XG4gICAgICAgICAgLy8gY29uc3QgcmVmdW5kQW1vdW50ID0gZGlzcHV0ZS5lc2Nyb3cuYW1vdW50ICogKHJlc29sdXRpb24ucmVmdW5kUGVyY2VudGFnZSAvIDEwMCk7XG4gICAgICAgICAgLy8gY29uc3QgcmVsZWFzZUFtb3VudCA9IGRpc3B1dGUuZXNjcm93LmFtb3VudCAtIHJlZnVuZEFtb3VudDtcblxuICAgICAgICAgIC8vIFJlbGVhc2UgdG8gc2VsbGVyXG4gICAgICAgICAgLy8gYXdhaXQgRXNjcm93U2VydmljZS5yZWxlYXNlRnVuZHMoLi4uKTtcbiAgICAgICAgICAvLyBSZWZ1bmQgdG8gYnV5ZXJcbiAgICAgICAgICAvLyBhd2FpdCBFc2Nyb3dTZXJ2aWNlLnJlZnVuZEVzY3JvdyguLi4pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdyZXdvcmsnOlxuICAgICAgICAvLyBTZWxsZXIgbXVzdCByZXdvcmssIGVzY3JvdyBzdGF5cyBmdW5kZWRcbiAgICAgICAgLy8gTm90aWZ5IHNlbGxlciB0byByZXdvcmtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkaXNwdXRlIGRldGFpbHNcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXREaXNwdXRlKGRpc3B1dGVJZDogc3RyaW5nKTogUHJvbWlzZTxEaXNwdXRlIHwgbnVsbD4ge1xuICAgIC8vIFRPRE86IEZldGNoIGZyb20gZGF0YWJhc2VcbiAgICAvLyByZXR1cm4gYXdhaXQgcHJpc21hLmRpc3B1dGUuZmluZFVuaXF1ZSh7XG4gICAgLy8gICB3aGVyZTogeyBpZDogZGlzcHV0ZUlkIH0sXG4gICAgLy8gICBpbmNsdWRlOiB7IGV2aWRlbmNlOiB0cnVlIH1cbiAgICAvLyB9KTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdXNlcidzIGRpc3B1dGVzXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0VXNlckRpc3B1dGVzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxEaXNwdXRlW10+IHtcbiAgICAvLyBUT0RPOiBGZXRjaCBmcm9tIGRhdGFiYXNlXG4gICAgLy8gcmV0dXJuIGF3YWl0IHByaXNtYS5kaXNwdXRlLmZpbmRNYW55KHtcbiAgICAvLyAgIHdoZXJlOiB7XG4gICAgLy8gICAgIE9SOiBbXG4gICAgLy8gICAgICAgeyBidXllcklkOiB1c2VySWQgfSxcbiAgICAvLyAgICAgICB7IHNlbGxlcklkOiB1c2VySWQgfVxuICAgIC8vICAgICBdXG4gICAgLy8gICB9LFxuICAgIC8vICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9XG4gICAgLy8gfSk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkaXNwdXRlIHN0YXRpc3RpY3NcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXREaXNwdXRlU3RhdHMoKTogUHJvbWlzZTx7XG4gICAgdG90YWw6IG51bWJlcjtcbiAgICBieVN0YXR1czogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgICBieU91dGNvbWU6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG4gICAgYXZlcmFnZVJlc29sdXRpb25UaW1lOiBudW1iZXI7XG4gIH0+IHtcbiAgICAvLyBUT0RPOiBBZ2dyZWdhdGUgZnJvbSBkYXRhYmFzZVxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbDogMCxcbiAgICAgIGJ5U3RhdHVzOiB7fSxcbiAgICAgIGJ5T3V0Y29tZToge30sXG4gICAgICBhdmVyYWdlUmVzb2x1dGlvblRpbWU6IDBcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmeSBwYXJ0aWVzIHRoYXQgZGlzcHV0ZSB3YXMgb3BlbmVkXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBhc3luYyBub3RpZnlEaXNwdXRlT3BlbmVkKGRpc3B1dGU6IERpc3B1dGUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBUT0RPOiBTZW5kIG5vdGlmaWNhdGlvbnMgdmlhIG5vdGlmaWNhdGlvbiBzZXJ2aWNlXG4gICAgY29uc29sZS5sb2coYPCfk6cgTm90aWZ5aW5nIHBhcnRpZXMgYWJvdXQgZGlzcHV0ZSAke2Rpc3B1dGUuaWR9YCk7XG4gIH1cblxuICAvKipcbiAgICogQUktcG93ZXJlZCBkaXNwdXRlIHJlc29sdXRpb24gZm9yIHNpbXBsZSBjYXNlc1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGF1dG9SZXNvbHZlU2ltcGxlRGlzcHV0ZShkaXNwdXRlSWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIC8vIFRPRE86IEltcGxlbWVudCBBSSBsb2dpY1xuICAgIC8vIEFuYWx5emUgZXZpZGVuY2UsIHByZXZpb3VzIGNhc2VzLCBhbmQgc3VnZ2VzdCByZXNvbHV0aW9uXG4gICAgLy8gRm9yIG5vdywgcmV0dXJuIGZhbHNlIChtYW51YWwgcmVzb2x1dGlvbiByZXF1aXJlZClcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBlbWl0RXZlbnQoZXZlbnQ6IHN0cmluZywgZGF0YTogYW55KSB7XG4gICAgY29uc29sZS5sb2coYPCflJQgRGlzcHV0ZSBFdmVudDogJHtldmVudH1gLCBkYXRhKTtcbiAgICAvLyBFbWl0IHRvIG9yZ2FuaXNtIGV2ZW50IGJ1c1xuICAgIC8vIE9yZ2FuaXNtRXZlbnRCdXMuZW1pdChldmVudCwgZGF0YSk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxP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