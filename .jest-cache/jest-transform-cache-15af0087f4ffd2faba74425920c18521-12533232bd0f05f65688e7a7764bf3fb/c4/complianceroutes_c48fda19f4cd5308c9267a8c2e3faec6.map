{"version":3,"names":["cov_16hhrmawtf","actualCoverage","Router","ComplianceService","ElaraLogger","router","s","service","logger","post","req","res","f","userId","data","body","result","performKYC","json","success","error","status","message","Error","b","performAML","get","params","getComplianceStatus","reviewedBy","approveCompliance","reason","rejectCompliance"],"sources":["compliance.routes.ts"],"sourcesContent":["/**\n * Compliance Routes\n */\n\nimport { Router, Request, Response } from 'express';\nimport { ComplianceService } from '../services/compliance.service';\nimport { ElaraLogger } from '../utils/logger';\n\nconst router = Router();\nconst service = new ComplianceService();\nconst logger = new ElaraLogger('ComplianceRoutes');\n\nrouter.post('/compliance/kyc', async (req: Request, res: Response): Promise<void> => {\n  try {\n    const { userId, data } = req.body;\n    const result = await service.performKYC(userId, data);\n    res.json({ success: true, data: result });\n  } catch (error) {\n    logger.error('Error:', error);\n    res.status(500).json({ error: 'Failed', message: error instanceof Error ? error.message : 'Unknown error' });\n  }\n});\n\nrouter.post('/compliance/aml', async (req: Request, res: Response): Promise<void> => {\n  try {\n    const { userId, data } = req.body;\n    const result = await service.performAML(userId, data);\n    res.json({ success: true, data: result });\n  } catch (error) {\n    logger.error('Error:', error);\n    res.status(500).json({ error: 'Failed', message: error instanceof Error ? error.message : 'Unknown error' });\n  }\n});\n\nrouter.get('/compliance/status/:userId', async (req: Request, res: Response): Promise<void> => {\n  try {\n    const { userId } = req.params;\n    const result = await service.getComplianceStatus(userId);\n    res.json({ success: true, data: result });\n  } catch (error) {\n    logger.error('Error:', error);\n    res.status(500).json({ error: 'Failed', message: error instanceof Error ? error.message : 'Unknown error' });\n  }\n});\n\nrouter.post('/compliance/approve', async (req: Request, res: Response): Promise<void> => {\n  try {\n    const { userId, reviewedBy } = req.body;\n    const result = await service.approveCompliance(userId, reviewedBy);\n    res.json({ success: true, data: result });\n  } catch (error) {\n    logger.error('Error:', error);\n    res.status(500).json({ error: 'Failed', message: error instanceof Error ? error.message : 'Unknown error' });\n  }\n});\n\nrouter.post('/compliance/reject', async (req: Request, res: Response): Promise<void> => {\n  try {\n    const { userId, reason, reviewedBy } = req.body;\n    const result = await service.rejectCompliance(userId, reason, reviewedBy);\n    res.json({ success: true, data: result });\n  } catch (error) {\n    logger.error('Error:', error);\n    res.status(500).json({ error: 'Failed', message: error instanceof Error ? error.message : 'Unknown error' });\n  }\n});\n\nexport default router;\n"],"mappings":"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","ignoreList":[]}