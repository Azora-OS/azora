{"version":3,"names":["cov_11grat6003","actualCoverage","useState","useCallback","getAPIClient","useMutation","mutationFn","f","data","setData","s","loading","setLoading","error","setError","mutate","variables","client","result","err","Error","b","useQuery","queryFn","options","fetch","enabled","refetchInterval","interval","setInterval","clearInterval","refetch"],"sources":["hooks.ts"],"sourcesContent":["/*\nAZORA PROPRIETARY LICENSE\nCopyright Â© 2025 Azora ES (Pty) Ltd. All Rights Reserved.\n\nREACT HOOKS FOR API CLIENT\nProvides React hooks for all API operations\n*/\n\nimport { useState, useCallback } from 'react';\nimport { getAPIClient, UnifiedAPIClient } from './client';\n\n/**\n * Hook for API mutations\n */\nexport function useMutation<TData = any, TVariables = any>(\n  mutationFn: (client: UnifiedAPIClient, variables: TVariables) => Promise<TData>\n) {\n  const [data, setData] = useState<TData | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<Error | null>(null);\n\n  const mutate = useCallback(async (variables: TVariables) => {\n    try {\n      setLoading(true);\n      setError(null);\n      const client = getAPIClient();\n      const result = await mutationFn(client, variables);\n      setData(result);\n      return result;\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error('Mutation failed');\n      setError(error);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  }, [mutationFn]);\n\n  return { mutate, data, loading, error };\n}\n\n/**\n * Hook for API queries\n */\nexport function useQuery<TData = any>(\n  queryFn: (client: UnifiedAPIClient) => Promise<TData>,\n  options?: { enabled?: boolean; refetchInterval?: number }\n) {\n  const [data, setData] = useState<TData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  const fetch = useCallback(async () => {\n    if (options?.enabled === false) {\n      setLoading(false);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      const client = getAPIClient();\n      const result = await queryFn(client);\n      setData(result);\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error('Query failed');\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  }, [queryFn, options?.enabled]);\n\n  // Auto-fetch on mount\n  useState(() => {\n    fetch();\n    if (options?.refetchInterval) {\n      const interval = setInterval(fetch, options.refetchInterval);\n      return () => clearInterval(interval);\n    }\n  });\n\n  return { data, loading, error, refetch: fetch };\n}\n\nexport default {\n  useMutation,\n  useQuery,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASE,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC7C,SAASC,YAAY,QAA0B,UAAU;;AAEzD;AACA;AACA;AACA,OAAO,SAASC,WAAWA,CACzBC,UAA+E,EAC/E;EAAA;EAAAN,cAAA,GAAAO,CAAA;EACA,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC;EAAA;EAAA,CAAAT,cAAA,GAAAU,CAAA,OAAGR,QAAQ,CAAe,IAAI,CAAC;EACpD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC;EAAA;EAAA,CAAAZ,cAAA,GAAAU,CAAA,OAAGR,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC;EAAA;EAAA,CAAAd,cAAA,GAAAU,CAAA,OAAGR,QAAQ,CAAe,IAAI,CAAC;EAEtD,MAAMa,MAAM;EAAA;EAAA,CAAAf,cAAA,GAAAU,CAAA,OAAGP,WAAW,CAAC,MAAOa,SAAqB,IAAK;IAAA;IAAAhB,cAAA,GAAAO,CAAA;IAAAP,cAAA,GAAAU,CAAA;IAC1D,IAAI;MAAA;MAAAV,cAAA,GAAAU,CAAA;MACFE,UAAU,CAAC,IAAI,CAAC;MAAC;MAAAZ,cAAA,GAAAU,CAAA;MACjBI,QAAQ,CAAC,IAAI,CAAC;MACd,MAAMG,MAAM;MAAA;MAAA,CAAAjB,cAAA,GAAAU,CAAA,OAAGN,YAAY,CAAC,CAAC;MAC7B,MAAMc,MAAM;MAAA;MAAA,CAAAlB,cAAA,GAAAU,CAAA,OAAG,MAAMJ,UAAU,CAACW,MAAM,EAAED,SAAS,CAAC;MAAC;MAAAhB,cAAA,GAAAU,CAAA;MACnDD,OAAO,CAACS,MAAM,CAAC;MAAC;MAAAlB,cAAA,GAAAU,CAAA;MAChB,OAAOQ,MAAM;IACf,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZ,MAAMN,KAAK;MAAA;MAAA,CAAAb,cAAA,GAAAU,CAAA,QAAGS,GAAG,YAAYC,KAAK;MAAA;MAAA,CAAApB,cAAA,GAAAqB,CAAA,UAAGF,GAAG;MAAA;MAAA,CAAAnB,cAAA,GAAAqB,CAAA,UAAG,IAAID,KAAK,CAAC,iBAAiB,CAAC;MAAC;MAAApB,cAAA,GAAAU,CAAA;MACxEI,QAAQ,CAACD,KAAK,CAAC;MAAC;MAAAb,cAAA,GAAAU,CAAA;MAChB,MAAMG,KAAK;IACb,CAAC,SAAS;MAAA;MAAAb,cAAA,GAAAU,CAAA;MACRE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACN,UAAU,CAAC,CAAC;EAAC;EAAAN,cAAA,GAAAU,CAAA;EAEjB,OAAO;IAAEK,MAAM;IAAEP,IAAI;IAAEG,OAAO;IAAEE;EAAM,CAAC;AACzC;;AAEA;AACA;AACA;AACA,OAAO,SAASS,QAAQA,CACtBC,OAAqD,EACrDC,OAAyD,EACzD;EAAA;EAAAxB,cAAA,GAAAO,CAAA;EACA,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC;EAAA;EAAA,CAAAT,cAAA,GAAAU,CAAA,QAAGR,QAAQ,CAAe,IAAI,CAAC;EACpD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC;EAAA;EAAA,CAAAZ,cAAA,GAAAU,CAAA,QAAGR,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC;EAAA;EAAA,CAAAd,cAAA,GAAAU,CAAA,QAAGR,QAAQ,CAAe,IAAI,CAAC;EAEtD,MAAMuB,KAAK;EAAA;EAAA,CAAAzB,cAAA,GAAAU,CAAA,QAAGP,WAAW,CAAC,YAAY;IAAA;IAAAH,cAAA,GAAAO,CAAA;IAAAP,cAAA,GAAAU,CAAA;IACpC,IAAIc,OAAO,EAAEE,OAAO,KAAK,KAAK,EAAE;MAAA;MAAA1B,cAAA,GAAAqB,CAAA;MAAArB,cAAA,GAAAU,CAAA;MAC9BE,UAAU,CAAC,KAAK,CAAC;MAAC;MAAAZ,cAAA,GAAAU,CAAA;MAClB;IACF,CAAC;IAAA;IAAA;MAAAV,cAAA,GAAAqB,CAAA;IAAA;IAAArB,cAAA,GAAAU,CAAA;IAED,IAAI;MAAA;MAAAV,cAAA,GAAAU,CAAA;MACFE,UAAU,CAAC,IAAI,CAAC;MAAC;MAAAZ,cAAA,GAAAU,CAAA;MACjBI,QAAQ,CAAC,IAAI,CAAC;MACd,MAAMG,MAAM;MAAA;MAAA,CAAAjB,cAAA,GAAAU,CAAA,QAAGN,YAAY,CAAC,CAAC;MAC7B,MAAMc,MAAM;MAAA;MAAA,CAAAlB,cAAA,GAAAU,CAAA,QAAG,MAAMa,OAAO,CAACN,MAAM,CAAC;MAAC;MAAAjB,cAAA,GAAAU,CAAA;MACrCD,OAAO,CAACS,MAAM,CAAC;IACjB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZ,MAAMN,KAAK;MAAA;MAAA,CAAAb,cAAA,GAAAU,CAAA,QAAGS,GAAG,YAAYC,KAAK;MAAA;MAAA,CAAApB,cAAA,GAAAqB,CAAA,UAAGF,GAAG;MAAA;MAAA,CAAAnB,cAAA,GAAAqB,CAAA,UAAG,IAAID,KAAK,CAAC,cAAc,CAAC;MAAC;MAAApB,cAAA,GAAAU,CAAA;MACrEI,QAAQ,CAACD,KAAK,CAAC;IACjB,CAAC,SAAS;MAAA;MAAAb,cAAA,GAAAU,CAAA;MACRE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACW,OAAO,EAAEC,OAAO,EAAEE,OAAO,CAAC,CAAC;;EAE/B;EAAA;EAAA1B,cAAA,GAAAU,CAAA;EACAR,QAAQ,CAAC,MAAM;IAAA;IAAAF,cAAA,GAAAO,CAAA;IAAAP,cAAA,GAAAU,CAAA;IACbe,KAAK,CAAC,CAAC;IAAC;IAAAzB,cAAA,GAAAU,CAAA;IACR,IAAIc,OAAO,EAAEG,eAAe,EAAE;MAAA;MAAA3B,cAAA,GAAAqB,CAAA;MAC5B,MAAMO,QAAQ;MAAA;MAAA,CAAA5B,cAAA,GAAAU,CAAA,QAAGmB,WAAW,CAACJ,KAAK,EAAED,OAAO,CAACG,eAAe,CAAC;MAAC;MAAA3B,cAAA,GAAAU,CAAA;MAC7D,OAAO,MAAM;QAAA;QAAAV,cAAA,GAAAO,CAAA;QAAAP,cAAA,GAAAU,CAAA;QAAA,OAAAoB,aAAa,CAACF,QAAQ,CAAC;MAAD,CAAC;IACtC,CAAC;IAAA;IAAA;MAAA5B,cAAA,GAAAqB,CAAA;IAAA;EACH,CAAC,CAAC;EAAC;EAAArB,cAAA,GAAAU,CAAA;EAEH,OAAO;IAAEF,IAAI;IAAEG,OAAO;IAAEE,KAAK;IAAEkB,OAAO,EAAEN;EAAM,CAAC;AACjD;AAEA,eAAe;EACbpB,WAAW;EACXiB;AACF,CAAC","ignoreList":[]}