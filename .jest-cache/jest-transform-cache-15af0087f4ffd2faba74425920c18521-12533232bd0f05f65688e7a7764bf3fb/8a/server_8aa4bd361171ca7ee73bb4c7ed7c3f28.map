{"version":3,"names":["cov_pkx5rxd86","actualCoverage","express","s","require","cors","helmet","compression","dotenv","config","app","PORT","b","process","env","use","json","get","req","res","f","status","service","timestamp","Date","toISOString","serviceId","params","lastChecked","responseTime","Math","floor","random","services","id","success","data","count","length","err","next","console","error","stack","listen","log","module","exports"],"sources":["server.js"],"sourcesContent":["const express = require('express');\nconst cors = require('cors');\nconst helmet = require('helmet');\nconst compression = require('compression');\nconst dotenv = require('dotenv');\n\n// Load environment variables\ndotenv.config();\n\nconst app = express();\nconst PORT = process.env.PORT || 4005;\n\n// Middleware\napp.use(helmet());\napp.use(cors());\napp.use(compression());\napp.use(express.json());\n\n// Health check endpoint\napp.get('/health', (req, res) => {\n  res.status(200).json({ \n    status: 'OK', \n    service: 'health-monitor',\n    timestamp: new Date().toISOString()\n  });\n});\n\n// Get service health status\napp.get('/api/health/:serviceId', (req, res) => {\n  const { serviceId } = req.params;\n  \n  // Simulate fetching health status for a specific service\n  res.status(200).json({\n    serviceId,\n    status: 'healthy',\n    lastChecked: new Date().toISOString(),\n    responseTime: Math.floor(Math.random() * 100) + 1 // Random response time between 1-100ms\n  });\n});\n\n// Get all services health status\napp.get('/api/health', (req, res) => {\n  // Simulate fetching health status for all services\n  const services = [\n    { id: 'auth-service', status: 'healthy', lastChecked: new Date().toISOString() },\n    { id: 'user-service', status: 'healthy', lastChecked: new Date().toISOString() },\n    { id: 'payment-service', status: 'degraded', lastChecked: new Date().toISOString() },\n    { id: 'notification-service', status: 'healthy', lastChecked: new Date().toISOString() }\n  ];\n  \n  res.status(200).json({\n    success: true,\n    data: services,\n    count: services.length\n  });\n});\n\n// Error handling middleware\napp.use((err, req, res, next) => {\n  console.error(err.stack);\n  res.status(500).json({ error: 'Something went wrong!' });\n});\n\n// 404 handler\napp.use((req, res) => {\n  res.status(404).json({ error: 'Route not found' });\n});\n\napp.listen(PORT, () => {\n  console.log(`Health Monitor service running on port ${PORT}`);\n});\n\nmodule.exports = app;"],"mappings":"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","ignoreList":[]}