{"version":3,"names":["cov_2i8dmyxjbo","actualCoverage","BiasType","BiasSeverity","PIIType","HarmType"],"sources":["index.ts"],"sourcesContent":["/**\n * Constitutional AI System - Type Definitions\n * Core interfaces and types for ethical AI validation\n */\n\n/**\n * Validation result from any validator\n */\nexport interface ValidationResult {\n  isValid: boolean;\n  violations: string[];\n  score: number; // 0-100\n  suggestions: string[];\n}\n\n/**\n * Ubuntu principles validation result\n */\nexport interface UbuntuValidationResult extends ValidationResult {\n  collectiveBenefitScore: number;\n  knowledgeSharingScore: number;\n  inclusiveDesignScore: number;\n}\n\n/**\n * Bias detection types\n */\nexport enum BiasType {\n  GENDER = 'gender',\n  RACE = 'race',\n  AGE = 'age',\n  RELIGION = 'religion',\n  DISABILITY = 'disability',\n  SOCIOECONOMIC = 'socioeconomic',\n  NATIONALITY = 'nationality'\n}\n\n/**\n * Bias severity levels\n */\nexport enum BiasSeverity {\n  LOW = 'low',\n  MEDIUM = 'medium',\n  HIGH = 'high',\n  CRITICAL = 'critical'\n}\n\n/**\n * Individual bias score\n */\nexport interface BiasScore {\n  type: BiasType;\n  severity: BiasSeverity;\n  confidence: number; // 0-1\n  context: string;\n  location: {\n    start: number;\n    end: number;\n  };\n}\n\n/**\n * Bias detection report\n */\nexport interface BiasReport {\n  hasBias: boolean;\n  biasTypes: BiasScore[];\n  overallSeverity: BiasSeverity;\n  mitigatedOutput?: string;\n  mitigationApplied: boolean;\n}\n\n/**\n * PII (Personally Identifiable Information) types\n */\nexport enum PIIType {\n  EMAIL = 'email',\n  PHONE = 'phone',\n  SSN = 'ssn',\n  ADDRESS = 'address',\n  NAME = 'name',\n  CREDIT_CARD = 'credit_card',\n  IP_ADDRESS = 'ip_address',\n  DATE_OF_BIRTH = 'date_of_birth'\n}\n\n/**\n * PII match in text\n */\nexport interface PIIMatch {\n  type: PIIType;\n  value: string;\n  startIndex: number;\n  endIndex: number;\n  confidence: number; // 0-1\n}\n\n/**\n * Privacy filter result\n */\nexport interface FilterResult {\n  hasPII: boolean;\n  matches: PIIMatch[];\n  filteredOutput: string;\n  redactionCount: number;\n}\n\n/**\n * Harm types\n */\nexport enum HarmType {\n  VIOLENCE = 'violence',\n  HATE_SPEECH = 'hate_speech',\n  SELF_HARM = 'self_harm',\n  ILLEGAL = 'illegal',\n  MISINFORMATION = 'misinformation',\n  EXPLOITATION = 'exploitation',\n  HARASSMENT = 'harassment',\n  DANGEROUS_CONTENT = 'dangerous_content'\n}\n\n/**\n * Harm assessment result\n */\nexport interface HarmAssessment {\n  isHarmful: boolean;\n  harmTypes: HarmType[];\n  severity: number; // 0-10\n  explanation: string;\n  confidence: number; // 0-1\n}\n\n/**\n * Violation details\n */\nexport interface Violation {\n  type: 'ubuntu' | 'bias' | 'privacy' | 'harm';\n  severity: BiasSeverity;\n  description: string;\n  suggestion: string;\n  location?: {\n    start: number;\n    end: number;\n  };\n}\n\n/**\n * Constitutional validation result\n */\nexport interface ConstitutionalResult {\n  isValid: boolean;\n  validatedOutput: string;\n  violations: Violation[];\n  complianceScore: number; // 0-100\n  timestamp: Date;\n  metadata: {\n    ubuntuValidation: UbuntuValidationResult;\n    biasDetection: BiasReport;\n    privacyFilter: FilterResult;\n    harmPrevention: HarmAssessment;\n  };\n}\n\n/**\n * Constitutional audit log entry\n */\nexport interface ConstitutionalAuditLog {\n  id: string;\n  userId: string;\n  query: string;\n  originalOutput: string;\n  validatedOutput: string;\n  violations: Violation[];\n  complianceScore: number;\n  timestamp: Date;\n  tier: string;\n  processingTime: number; // milliseconds\n}\n\n/**\n * Ubuntu validator interface\n */\nexport interface IUbuntuValidator {\n  validate(output: string): Promise<UbuntuValidationResult>;\n  checkCollectiveBenefit(output: string): Promise<number>;\n  checkKnowledgeSharing(output: string): Promise<number>;\n  checkInclusiveDesign(output: string): Promise<number>;\n}\n\n/**\n * Bias detector interface\n */\nexport interface IBiasDetector {\n  detectBias(output: string): Promise<BiasReport>;\n  checkDemographicBias(output: string): Promise<BiasScore[]>;\n  mitigateBias(output: string, biases: BiasScore[]): Promise<string>;\n}\n\n/**\n * Privacy filter interface\n */\nexport interface IPrivacyFilter {\n  filterPII(output: string): Promise<FilterResult>;\n  detectPII(output: string): Promise<PIIMatch[]>;\n  redactPII(output: string, matches: PIIMatch[]): Promise<string>;\n}\n\n/**\n * Harm prevention interface\n */\nexport interface IHarmPrevention {\n  assessHarm(query: string, output: string): Promise<HarmAssessment>;\n  isHarmful(assessment: HarmAssessment): boolean;\n  generateSafeResponse(query: string): string;\n}\n\n/**\n * Constitutional orchestrator interface\n */\nexport interface IConstitutionalOrchestrator {\n  validateOutput(query: string, output: string, context?: Record<string, any>): Promise<ConstitutionalResult>;\n  logValidation(result: ConstitutionalResult, userId: string): Promise<void>;\n  getComplianceMetrics(): Promise<ComplianceMetrics>;\n}\n\n/**\n * Compliance metrics\n */\nexport interface ComplianceMetrics {\n  totalValidations: number;\n  successfulValidations: number;\n  failedValidations: number;\n  averageComplianceScore: number;\n  violationsByType: Record<string, number>;\n  averageProcessingTime: number;\n  lastUpdated: Date;\n}\n\n/**\n * Configuration for Constitutional AI\n */\nexport interface ConstitutionalAIConfig {\n  // Ubuntu validation settings\n  ubuntuEnabled: boolean;\n  ubuntuThreshold: number; // 0-100\n  \n  // Bias detection settings\n  biasDetectionEnabled: boolean;\n  biasSeverityThreshold: BiasSeverity;\n  autoMitigateBias: boolean;\n  \n  // Privacy filter settings\n  privacyFilterEnabled: boolean;\n  piiRedactionEnabled: boolean;\n  piiTypes: PIIType[];\n  \n  // Harm prevention settings\n  harmPreventionEnabled: boolean;\n  harmSeverityThreshold: number; // 0-10\n  blockHarmfulContent: boolean;\n  \n  // Audit logging settings\n  auditLoggingEnabled: boolean;\n  auditLogRetention: number; // days\n  \n  // Performance settings\n  validationTimeout: number; // milliseconds\n  parallelValidation: boolean;\n  \n  // Compliance settings\n  minComplianceScore: number; // 0-100\n  strictMode: boolean;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAQA;AACA;AACA;;AAOA;AACA;AACA;AACA;AAAA;AAAA,IAAYE,QAAQ,0BAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAAA,OAARA,QAAQ;AAAA;;AAUpB;AACA;AACA;AACA;AAAA;AAAA,IAAYC,YAAY,0BAAZA,YAAY;EAAZA,YAAY;EAAZA,YAAY;EAAZA,YAAY;EAAZA,YAAY;EAAA,OAAZA,YAAY;AAAA;;AAOxB;AACA;AACA;;AAYA;AACA;AACA;;AASA;AACA;AACA;AACA;AAAA;AAAA,IAAYC,OAAO,0BAAPA,OAAO;EAAPA,OAAO;EAAPA,OAAO;EAAPA,OAAO;EAAPA,OAAO;EAAPA,OAAO;EAAPA,OAAO;EAAPA,OAAO;EAAPA,OAAO;EAAA,OAAPA,OAAO;AAAA;;AAWnB;AACA;AACA;;AASA;AACA;AACA;;AAQA;AACA;AACA;AACA;AAAA;AAAA,IAAYC,QAAQ,0BAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAAA,OAARA,QAAQ;AAAA;;AAWpB;AACA;AACA;;AASA;AACA;AACA;;AAYA;AACA;AACA;;AAeA;AACA;AACA;;AAcA;AACA;AACA;;AAQA;AACA;AACA;;AAOA;AACA;AACA;;AAOA;AACA;AACA;;AAOA;AACA;AACA;;AAOA;AACA;AACA;;AAWA;AACA;AACA","ignoreList":[]}