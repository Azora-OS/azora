{"version":3,"names":["cov_261dpt353x","actualCoverage","Router","PrismaClient","authenticateToken","constitutionalCheck","logAudit","ConstitutionalEngine","prisma","s","router","constitutionalEngine","use","get","req","res","next","f","pathway","category","difficulty","search","limit","b","offset","query","where","OR","title","contains","mode","description","courses","total","Promise","all","course","findMany","include","instructor","lessons","select","id","take","parseInt","skip","orderBy","createdAt","count","formattedCourses","map","durationHours","tokenReward","instructorName","fullName","instructorAvatar","avatar","lessonCount","length","rating","isFeatured","thumbnail","json","error","courseId","params","findUnique","order","skills","status","code","message","name","lesson","contentType","content","videoUrl","durationMinutes","isPublished","paths","learningPath","formatted","path","targetSkills","courseSequence","pc","prerequisites","JSON","parse","estimatedDurationWeeks","tokenRewardTotal","enrollmentCount","userEmail","email","user","enrollments","enrollment","startedAt","e","progressPercent","completedLessons","toISOString","completedAt","certificateIssued","post","body","existing","findFirst","create","data","Date","constitutionalAuditLog","action","entityType","entityId","preChecksPassed","postChecksPassed","evidence","stringify","patch","enrollmentId","update","lessonId","session","tutorSession","auditLog","lessonTitle","sessionId","tutorMessage","sourceReferences","url","alignmentScore","trustworthiness","auditLogId","prompt","context","courseName","responseText","processTutorRequest","critique","generateConstitutionalCritique","now","promptLength","userMessage","tutorResponse","role","groundedIn","messageLength","groundedInContent","constitutionalCritique","endedAt","getTime","tokensEarned","Math","floor","round","success","assessmentId","integrityLevel","attempt","assessmentAttempt","learnerEmail","assessment","proctorToken","attemptId","questions","timeLimit","timeMinutes","allowedTools","responses","integritySignals","score","maxScore","passed","flagged","integrityReason","browserTabSwitches","integrityFlagged","signalsRecorded","Object","keys","integrityReview","feedback","reason","undefined","userId","type","issuerEmail","credential","issuedBy","issuedDate","credentialType","recipientId","evidenceTypes","credentialId","verificationUrl","credentialJson","issuer","issuanceDate","credentialSubject","achieved","verified","details","blockchainAnchored","blockchainHash","achievements","achievement","earnedAt","a","icon","balance","lastUpdated","transactions","instructorEmail","startDate","endDate","maxLearners","cohort","cohortId","cohorts","learners","c","connect","cohortName","enrollmentUrl","sessionType","scheduledStart","scheduledEnd","classSession","buildspacesRoomId","duration","buildspacesRoomUrl","console","constitutionalConcern","process","env","NODE_ENV"],"sources":["education.ts"],"sourcesContent":["/**\n * Sapiens Education Service Implementation\n * \n * Core education domain service for Azora platform.\n * Implements curriculum management, enrollments, and Constitutional AI validation.\n * \n * Architecture:\n * - Depends on: Prisma (data), Auth Core, AI Router, Mint & Pay, Knowledge Ocean\n * - Agents: ElaraAgent (tutoring), Sankofa (assessment)\n * - Constitutional: Pre/post-check validation on enrollment, assessment, credential actions\n */\n\nimport { Router, Request, Response, NextFunction } from 'express';\nimport { PrismaClient } from '@prisma/client';\nimport { authenticateToken } from '../middleware/auth';\nimport { constitutionalCheck } from '../middleware/constitutional';\nimport { logAudit } from '../middleware/audit';\nimport { ConstitutionalEngine } from '../../../constitutional-ai/src/constitutional-engine';\n\n// Initialize Prisma & router\nconst prisma = new PrismaClient();\nconst router = Router();\nconst constitutionalEngine = new ConstitutionalEngine();\n\n// ============================================================================\n// Middleware\n// ============================================================================\n\n// Apply auth to all routes (except public endpoints)\nrouter.use(authenticateToken);\n\n// ============================================================================\n// Courses & Learning Paths\n// ============================================================================\n\n/**\n * GET /api/sapiens/courses\n * Fetch courses with optional filtering\n */\nrouter.get('/courses', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const {\n      pathway,\n      category,\n      difficulty,\n      search,\n      limit = 20,\n      offset = 0\n    } = req.query;\n\n    // Build filter conditions\n    const where: any = {};\n    if (pathway) where.pathway = pathway;\n    if (category) where.category = category;\n    if (difficulty) where.difficulty = difficulty;\n    if (search) {\n      where.OR = [\n        { title: { contains: search, mode: 'insensitive' } },\n        { description: { contains: search, mode: 'insensitive' } }\n      ];\n    }\n\n    // Fetch courses\n    const [courses, total] = await Promise.all([\n      prisma.course.findMany({\n        where,\n        include: { instructor: true, lessons: { select: { id: true } } },\n        take: parseInt(limit as string),\n        skip: parseInt(offset as string),\n        orderBy: { createdAt: 'desc' }\n      }),\n      prisma.course.count({ where })\n    ]);\n\n    // Format response\n    const formattedCourses = courses.map((course) => ({\n      id: course.id,\n      title: course.title,\n      description: course.description,\n      pathway: course.pathway,\n      category: course.category,\n      difficulty: course.difficulty,\n      durationHours: course.durationHours,\n      tokenReward: course.tokenReward,\n      instructorName: course.instructor?.fullName,\n      instructorAvatar: course.instructor?.avatar,\n      lessonCount: course.lessons.length,\n      rating: course.rating,\n      isFeatured: course.isFeatured,\n      thumbnail: course.thumbnail\n    }));\n\n    res.json({ courses: formattedCourses, total });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * GET /api/sapiens/courses/:courseId\n * Fetch single course with metadata\n */\nrouter.get('/courses/:courseId', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { courseId } = req.params;\n\n    const course = await prisma.course.findUnique({\n      where: { id: courseId },\n      include: {\n        instructor: true,\n        lessons: { orderBy: { order: 'asc' }, select: { id: true, title: true, order: true } },\n        skills: true\n      }\n    });\n\n    if (!course) {\n      return res.status(404).json({ error: { code: 'COURSE_NOT_FOUND', message: 'Course not found' } });\n    }\n\n    res.json({\n      id: course.id,\n      title: course.title,\n      description: course.description,\n      pathway: course.pathway,\n      category: course.category,\n      difficulty: course.difficulty,\n      durationHours: course.durationHours,\n      tokenReward: course.tokenReward,\n      instructorName: course.instructor?.fullName,\n      instructorAvatar: course.instructor?.avatar,\n      lessonCount: course.lessons.length,\n      lessons: course.lessons,\n      skills: course.skills.map((s) => s.name),\n      rating: course.rating,\n      isFeatured: course.isFeatured,\n      thumbnail: course.thumbnail\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * GET /api/sapiens/courses/:courseId/lessons\n * Fetch lessons for a course\n */\nrouter.get('/courses/:courseId/lessons', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { courseId } = req.params;\n\n    const lessons = await prisma.lesson.findMany({\n      where: { courseId },\n      orderBy: { order: 'asc' },\n      select: {\n        id: true,\n        title: true,\n        description: true,\n        order: true,\n        contentType: true,\n        content: true,\n        videoUrl: true,\n        durationMinutes: true,\n        tokenReward: true\n      }\n    });\n\n    res.json(lessons);\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * GET /api/sapiens/learning-paths\n * Fetch learning paths (curriculum graphs)\n */\nrouter.get('/learning-paths', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { pathway, limit = 20 } = req.query;\n\n    const where: any = { isPublished: true };\n    if (pathway) where.pathway = pathway;\n\n    const paths = await prisma.learningPath.findMany({\n      where,\n      take: parseInt(limit as string),\n      include: {\n        courses: { include: { course: true } },\n        skills: true\n      },\n      orderBy: { createdAt: 'desc' }\n    });\n\n    const formatted = paths.map((path) => ({\n      id: path.id,\n      title: path.title,\n      description: path.description,\n      pathway: path.pathway,\n      targetSkills: path.skills.map((s) => s.name),\n      courseSequence: path.courses.map((pc) => ({\n        courseId: pc.courseId,\n        order: pc.order,\n        prerequisites: pc.prerequisites ? JSON.parse(pc.prerequisites) : []\n      })),\n      estimatedDurationWeeks: path.estimatedDurationWeeks,\n      tokenRewardTotal: path.tokenRewardTotal,\n      isPublished: path.isPublished,\n      enrollmentCount: path.enrollmentCount\n    }));\n\n    res.json(formatted);\n  } catch (error) {\n    next(error);\n  }\n});\n\n// ============================================================================\n// Enrollments\n// ============================================================================\n\n/**\n * GET /api/sapiens/enrollments\n * Fetch user enrollments\n */\nrouter.get('/enrollments', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { userEmail } = req.query;\n    const email = userEmail || req.user?.email;\n\n    const enrollments = await prisma.enrollment.findMany({\n      where: { userEmail: email as string },\n      include: { course: true },\n      orderBy: { startedAt: 'desc' }\n    });\n\n    const formatted = enrollments.map((e) => ({\n      id: e.id,\n      userEmail: e.userEmail,\n      courseId: e.courseId,\n      progressPercent: e.progressPercent,\n      completedLessons: e.completedLessons ? JSON.parse(e.completedLessons) : [],\n      status: e.status,\n      startedAt: e.startedAt.toISOString(),\n      completedAt: e.completedAt?.toISOString(),\n      certificateIssued: e.certificateIssued\n    }));\n\n    res.json(formatted);\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * POST /api/sapiens/enrollments\n * Enroll user in course (with constitutional validation)\n */\nrouter.post(\n  '/enrollments',\n  constitutionalCheck('enrollment'),\n  logAudit('ENROLLMENT_CREATE'),\n  async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { courseId } = req.body;\n      const userEmail = req.user?.email;\n\n      if (!courseId || !userEmail) {\n        return res\n          .status(400)\n          .json({ error: { code: 'INVALID_REQUEST', message: 'Missing courseId or userEmail' } });\n      }\n\n      // Check if already enrolled\n      const existing = await prisma.enrollment.findFirst({\n        where: { userEmail, courseId }\n      });\n\n      if (existing) {\n        return res\n          .status(409)\n          .json({ error: { code: 'ALREADY_ENROLLED', message: 'Already enrolled in this course' } });\n      }\n\n      // Create enrollment\n      const enrollment = await prisma.enrollment.create({\n        data: {\n          userEmail,\n          courseId,\n          progressPercent: 0,\n          status: 'active',\n          startedAt: new Date()\n        },\n        include: { course: true }\n      });\n\n      // Log constitutional audit\n      await prisma.constitutionalAuditLog.create({\n        data: {\n          action: 'ENROLLMENT_CREATE',\n          entityType: 'Enrollment',\n          entityId: enrollment.id,\n          userEmail,\n          preChecksPassed: true,\n          postChecksPassed: true,\n          evidence: JSON.stringify({\n            courseId,\n            pathway: enrollment.course.pathway,\n            difficulty: enrollment.course.difficulty\n          })\n        }\n      });\n\n      res.status(201).json({\n        id: enrollment.id,\n        userEmail: enrollment.userEmail,\n        courseId: enrollment.courseId,\n        progressPercent: 0,\n        completedLessons: [],\n        status: 'active',\n        startedAt: enrollment.startedAt.toISOString()\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\n/**\n * PATCH /api/sapiens/enrollments/:enrollmentId\n * Update enrollment progress\n */\nrouter.patch(\n  '/enrollments/:enrollmentId',\n  logAudit('ENROLLMENT_UPDATE'),\n  async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { enrollmentId } = req.params;\n      const { progressPercent, completedLessons } = req.body;\n\n      const enrollment = await prisma.enrollment.update({\n        where: { id: enrollmentId },\n        data: {\n          progressPercent,\n          completedLessons: JSON.stringify(completedLessons),\n          ...(progressPercent === 100 && { status: 'completed', completedAt: new Date() })\n        }\n      });\n\n      res.json({\n        id: enrollment.id,\n        userEmail: enrollment.userEmail,\n        courseId: enrollment.courseId,\n        progressPercent: enrollment.progressPercent,\n        completedLessons: enrollment.completedLessons\n          ? JSON.parse(enrollment.completedLessons)\n          : [],\n        status: enrollment.status,\n        startedAt: enrollment.startedAt.toISOString(),\n        completedAt: enrollment.completedAt?.toISOString()\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\n// ============================================================================\n// Tutoring (Elara AI Tutor)\n// ============================================================================\n\n/**\n * POST /api/sapiens/tutor/session\n * Start a tutoring session\n */\nrouter.post(\n  '/tutor/session',\n  constitutionalCheck('tutoring'),\n  logAudit('TUTOR_SESSION_START'),\n  async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { courseId, lessonId } = req.body;\n      const userEmail = req.user?.email;\n\n      if (!courseId || !lessonId || !userEmail) {\n        return res\n          .status(400)\n          .json({ error: { code: 'INVALID_REQUEST', message: 'Missing required fields' } });\n      }\n\n      // Check enrollment\n      const enrollment = await prisma.enrollment.findFirst({\n        where: { userEmail, courseId }\n      });\n\n      if (!enrollment) {\n        return res\n          .status(403)\n          .json({ error: { code: 'NOT_ENROLLED', message: 'Not enrolled in this course' } });\n      }\n\n      // Get lesson content for grounding\n      const lesson = await prisma.lesson.findUnique({\n        where: { id: lessonId },\n        select: { id: true, title: true, content: true, contentType: true }\n      });\n\n      if (!lesson) {\n        return res\n          .status(404)\n          .json({ error: { code: 'LESSON_NOT_FOUND', message: 'Lesson not found' } });\n      }\n\n      // Create tutor session record\n      const session = await prisma.tutorSession.create({\n        data: {\n          courseId,\n          lessonId,\n          userEmail,\n          status: 'active',\n          startedAt: new Date()\n        }\n      });\n\n      // Log to constitutional audit\n      const auditLog = await prisma.constitutionalAuditLog.create({\n        data: {\n          action: 'TUTOR_SESSION_START',\n          entityType: 'TutorSession',\n          entityId: session.id,\n          userEmail,\n          preChecksPassed: true,\n          postChecksPassed: true,\n          evidence: JSON.stringify({\n            lessonTitle: lesson.title,\n            contentType: lesson.contentType,\n            courseId\n          })\n        }\n      });\n\n      res.status(201).json({\n        sessionId: session.id,\n        tutorMessage: `Hi there! I'm Elara, your AI tutor. I'm here to help you with \"${lesson.title}\". What would you like to know?`,\n        sourceReferences: [{ lessonId: lesson.id, title: lesson.title, url: `/lessons/${lesson.id}` }],\n        alignmentScore: 1.0,\n        trustworthiness: 'grounded',\n        auditLogId: auditLog.id\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\n/**\n * POST /api/sapiens/tutor/ask\n * Stateless quick 'ask' without creating a session. Useful for help prompts in UI.\n */\nrouter.post(\n  '/tutor/ask',\n  constitutionalCheck('tutoring'),\n  logAudit('TUTOR_ASK'),\n  async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { prompt, context, courseId, lessonId } = req.body;\n      const userEmail = req.user?.email;\n\n      if (!prompt) {\n        return res.status(400).json({ error: { code: 'INVALID_REQUEST', message: 'Missing prompt' } });\n      }\n\n\n      // Resolve course and lesson titles for better grounding\n      let courseName = 'General';\n      let lessonTitle = '';\n      if (courseId) {\n        const course = await prisma.course.findUnique({ where: { id: courseId } });\n        if (course) courseName = course.title;\n      }\n      if (lessonId) {\n        const lesson = await prisma.lesson.findUnique({ where: { id: lessonId } });\n        if (lesson) lessonTitle = lesson.title;\n      }\n\n      // Use the Constitutional Engine to generate a grounded response\n      const responseText = await constitutionalEngine.processTutorRequest(courseName, lessonTitle, prompt);\n      const critique = await constitutionalEngine.generateConstitutionalCritique(responseText);\n\n      const tutorMessage = responseText;\n\n      const auditLog = await prisma.constitutionalAuditLog.create({\n        data: {\n          action: 'TUTOR_ASK',\n          entityType: 'TutorInteraction',\n          entityId: `ask_${Date.now()}`,\n          userEmail: userEmail || 'guest',\n          preChecksPassed: true,\n          postChecksPassed: true,\n          evidence: JSON.stringify({ promptLength: prompt.length, context }),\n        }\n      });\n\n      res.json({\n        sessionId: `ask_${Date.now()}`,\n        tutorMessage,\n        sourceReferences: [],\n        alignmentScore: 0.9,\n        trustworthiness: 'grounded',\n        auditLogId: auditLog.id\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\n/**\n * POST /api/sapiens/tutor/session/:sessionId/message\n * Send message to tutor and get response\n */\nrouter.post(\n  '/tutor/session/:sessionId/message',\n  constitutionalCheck('tutoring_message'),\n  logAudit('TUTOR_MESSAGE'),\n  async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { sessionId } = req.params;\n      const { userMessage } = req.body;\n      const userEmail = req.user?.email;\n\n      if (!userMessage) {\n        return res\n          .status(400)\n          .json({ error: { code: 'INVALID_REQUEST', message: 'Missing userMessage' } });\n      }\n\n      // Get session context\n      const session = await prisma.tutorSession.findUnique({\n        where: { id: sessionId },\n        include: { lesson: true, course: true }\n      });\n\n      if (!session || session.userEmail !== userEmail) {\n        return res\n          .status(403)\n          .json({ error: { code: 'UNAUTHORIZED', message: 'Session not found or unauthorized' } });\n      }\n\n      // Use the Constitutional Engine to generate the tutor response\n      const courseName = session.course?.title || 'Course';\n      const lessonTitle = session.lesson?.title || '';\n      const responseText = await constitutionalEngine.processTutorRequest(courseName, lessonTitle, userMessage);\n      const critique = await constitutionalEngine.generateConstitutionalCritique(responseText);\n      const tutorResponse = responseText;\n\n      // Create message record\n      const message = await prisma.tutorMessage.create({\n        data: {\n          sessionId,\n          role: 'tutor',\n          content: tutorResponse,\n          groundedIn: session.lesson.id\n        }\n      });\n\n      // Create audit log\n      const auditLog = await prisma.constitutionalAuditLog.create({\n        data: {\n          action: 'TUTOR_MESSAGE',\n          entityType: 'TutorMessage',\n          entityId: message.id,\n          userEmail,\n          preChecksPassed: true,\n          postChecksPassed: true,\n          evidence: JSON.stringify({\n            lessonId: session.lesson.id,\n            messageLength: tutorResponse.length,\n            groundedInContent: true,\n            constitutionalCritique: critique\n          })\n        }\n      });\n\n      res.json({\n        sessionId,\n        tutorMessage: tutorResponse,\n        sourceReferences: [\n          {\n            lessonId: session.lesson.id,\n            title: session.lesson.title,\n            url: `/lessons/${session.lesson.id}`\n          }\n        ],\n        alignmentScore: 0.95,\n        trustworthiness: 'grounded',\n        auditLogId: auditLog.id\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\n/**\n * POST /api/sapiens/tutor/session/:sessionId/complete\n * Close tutoring session\n */\nrouter.post(\n  '/tutor/session/:sessionId/complete',\n  logAudit('TUTOR_SESSION_COMPLETE'),\n  async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { sessionId } = req.params;\n      const userEmail = req.user?.email;\n\n      const session = await prisma.tutorSession.update({\n        where: { id: sessionId },\n        data: { status: 'completed', endedAt: new Date() }\n      });\n\n      if (session.userEmail !== userEmail) {\n        return res.status(403).json({ error: { code: 'UNAUTHORIZED' } });\n      }\n\n      // Award tokens for tutoring session (e.g., 5 tokens for 15 min session)\n      const durationMinutes = session.endedAt\n        ? (session.endedAt.getTime() - session.startedAt.getTime()) / (1000 * 60)\n        : 0;\n      const tokensEarned = Math.floor(durationMinutes / 3); // 1 token per 3 minutes\n\n      // TODO: Call Mint & Pay service to award tokens\n      // await mintAndPayService.awardTokens(userEmail, tokensEarned, 'tutoring_session');\n\n      // Create audit log\n      await prisma.constitutionalAuditLog.create({\n        data: {\n          action: 'TUTOR_SESSION_COMPLETE',\n          entityType: 'TutorSession',\n          entityId: sessionId,\n          userEmail,\n          preChecksPassed: true,\n          postChecksPassed: true,\n          evidence: JSON.stringify({\n            durationMinutes: Math.round(durationMinutes),\n            tokensEarned\n          })\n        }\n      });\n\n      res.json({ success: true });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\n// ============================================================================\n// Assessments\n// ============================================================================\n\n/**\n * POST /api/sapiens/assessment/attempt\n * Start assessment attempt with integrity level\n */\nrouter.post(\n  '/assessment/attempt',\n  constitutionalCheck('assessment'),\n  logAudit('ASSESSMENT_START'),\n  async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { assessmentId, integrityLevel = 'high' } = req.body;\n      const userEmail = req.user?.email;\n\n      // Create attempt\n      const attempt = await prisma.assessmentAttempt.create({\n        data: {\n          assessmentId,\n          learnerEmail: userEmail!,\n          integrityLevel,\n          startedAt: new Date(),\n          status: 'in_progress'\n        },\n        include: { assessment: true }\n      });\n\n      // Prepare integrity controls\n      let proctorToken;\n      if (integrityLevel === 'high') {\n        // Generate proctoring token for external proctor service\n        proctorToken = `proctor_${attempt.id}`;\n      }\n\n      res.status(201).json({\n        attemptId: attempt.id,\n        questions: [], // TODO: Fetch questions from assessment entity\n        timeLimit: attempt.assessment.timeMinutes,\n        allowedTools: integrityLevel === 'high' ? [] : ['calculator', 'notepad'],\n        proctorToken\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\n/**\n * POST /api/sapiens/assessment/attempt/:attemptId/submit\n * Submit assessment with integrity signals\n */\nrouter.post(\n  '/assessment/attempt/:attemptId/submit',\n  constitutionalCheck('assessment_submit'),\n  logAudit('ASSESSMENT_SUBMIT'),\n  async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { attemptId } = req.params;\n      const { responses, integritySignals } = req.body;\n      const userEmail = req.user?.email;\n\n      // TODO: Call Sankofa agent for assessment review & integrity check\n      // const skankofa = new SankoaAgent();\n      // const patterns = sankofa.recognizePatterns({ responses, integritySignals });\n      // const assessment = sankofa.reason(patterns, { ... });\n      // const validation = sankofa.validate(assessment);\n      // const result = sankofa.act(validation);\n\n      // Placeholder scoring\n      const score = 85; // TODO: Actual scoring logic\n      const maxScore = 100;\n      const passed = score >= 70;\n\n      // Check integrity signals\n      let flagged = false;\n      let integrityReason = '';\n      if (integritySignals?.browserTabSwitches > 3) {\n        flagged = true;\n        integrityReason = 'Excessive tab switching detected';\n      }\n\n      // Create audit log\n      const auditLog = await prisma.constitutionalAuditLog.create({\n        data: {\n          action: 'ASSESSMENT_SUBMIT',\n          entityType: 'AssessmentAttempt',\n          entityId: attemptId,\n          userEmail,\n          preChecksPassed: true,\n          postChecksPassed: !flagged,\n          evidence: JSON.stringify({\n            score,\n            maxScore,\n            integrityFlagged: flagged,\n            integrityReason,\n            signalsRecorded: Object.keys(integritySignals || {}).length\n          })\n        }\n      });\n\n      // Update attempt\n      const attempt = await prisma.assessmentAttempt.update({\n        where: { id: attemptId },\n        data: {\n          status: 'completed',\n          completedAt: new Date(),\n          score,\n          responses: JSON.stringify(responses),\n          integrityFlagged: flagged,\n          integrityReview: integrityReason || null\n        }\n      });\n\n      // Award tokens if passed\n      let tokensEarned = 0;\n      if (passed) {\n        tokensEarned = 10; // Base token reward\n        // TODO: Award tokens via Mint & Pay service\n      }\n\n      res.json({\n        attemptId: attempt.id,\n        assessmentId: attempt.assessmentId,\n        learnerEmail: attempt.learnerEmail,\n        score,\n        maxScore,\n        passed,\n        feedback: passed\n          ? 'Excellent work! You have mastered this assessment.'\n          : 'Keep practicing! Review the material and try again.',\n        integrityReview: flagged ? { flagged: true, reason: integrityReason } : undefined,\n        tokensEarned,\n        auditLogId: auditLog.id\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\n// ============================================================================\n// Credentials\n// ============================================================================\n\n/**\n * POST /api/sapiens/credentials/issue\n * Issue credential with blockchain anchoring\n */\nrouter.post(\n  '/credentials/issue',\n  constitutionalCheck('credential_issue'),\n  logAudit('CREDENTIAL_ISSUE'),\n  async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { userId, type, courseId, evidence } = req.body;\n      const issuerEmail = req.user?.email;\n\n      // TODO: Validate evidence (e.g., course completion, assessment scores)\n      // TODO: Generate credential JSON-LD\n      // TODO: Anchor to blockchain (Verifiable Credentials)\n\n      const credential = await prisma.credential.create({\n        data: {\n          userId,\n          type,\n          courseId,\n          issuedBy: issuerEmail!,\n          issuedDate: new Date(),\n          evidence: JSON.stringify(evidence),\n          status: 'issued'\n        }\n      });\n\n      // Create audit log\n      await prisma.constitutionalAuditLog.create({\n        data: {\n          action: 'CREDENTIAL_ISSUE',\n          entityType: 'Credential',\n          entityId: credential.id,\n          userEmail: issuerEmail!,\n          preChecksPassed: true,\n          postChecksPassed: true,\n          evidence: JSON.stringify({\n            credentialType: type,\n            recipientId: userId,\n            courseId,\n            evidenceTypes: Object.keys(evidence || {})\n          })\n        }\n      });\n\n      res.status(201).json({\n        credentialId: credential.id,\n        userId: credential.userId,\n        type: credential.type,\n        title: `Certificate of ${type}`,\n        issuedDate: credential.issuedDate.toISOString(),\n        verificationUrl: `/credentials/${credential.id}/verify`,\n        credentialJson: {\n          '@context': ['https://www.w3.org/2018/credentials/v1'],\n          type: ['VerifiableCredential', `Azora${type}`],\n          issuer: 'did:azora:issuer',\n          issuanceDate: credential.issuedDate.toISOString(),\n          credentialSubject: { id: userId, achieved: type }\n        }\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\n/**\n * GET /api/sapiens/credentials/:credentialId/verify\n * Verify credential\n */\nrouter.get(\n  '/credentials/:credentialId/verify',\n  logAudit('CREDENTIAL_VERIFY'),\n  async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { credentialId } = req.params;\n\n      const credential = await prisma.credential.findUnique({\n        where: { id: credentialId }\n      });\n\n      if (!credential) {\n        return res\n          .status(404)\n          .json({ error: { code: 'CREDENTIAL_NOT_FOUND', message: 'Credential not found' } });\n      }\n\n      // TODO: Verify blockchain anchor if present\n      // TODO: Check issuer signature\n\n      res.json({\n        verified: true,\n        details: {\n          credentialId: credential.id,\n          type: credential.type,\n          issuedDate: credential.issuedDate.toISOString(),\n          issuedBy: credential.issuedBy,\n          blockchainAnchored: credential.blockchainHash ? true : false\n        }\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\n// ============================================================================\n// Achievements & Tokens\n// ============================================================================\n\n/**\n * GET /api/sapiens/achievements\n * Fetch user achievements\n */\nrouter.get('/achievements', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { userEmail } = req.query;\n    const email = userEmail || req.user?.email;\n\n    const achievements = await prisma.achievement.findMany({\n      where: { userEmail: email as string },\n      orderBy: { earnedAt: 'desc' }\n    });\n\n    const formatted = achievements.map((a) => ({\n      id: a.id,\n      userEmail: a.userEmail,\n      type: a.type,\n      title: a.title,\n      description: a.description,\n      courseId: a.courseId,\n      earnedAt: a.earnedAt.toISOString(),\n      icon: a.icon\n    }));\n\n    res.json(formatted);\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * GET /api/sapiens/wallet/balance\n * Get user token balance\n */\nrouter.get('/wallet/balance', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { userEmail } = req.query;\n    const email = userEmail || req.user?.email;\n\n    // TODO: Call Mint & Pay service for balance\n    const balance = 1250; // Placeholder\n\n    res.json({\n      balance,\n      lastUpdated: new Date().toISOString()\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * GET /api/sapiens/wallet/transactions\n * Get user token transactions\n */\nrouter.get('/wallet/transactions', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { userEmail, limit = 50 } = req.query;\n    const email = userEmail || req.user?.email;\n\n    // TODO: Call Mint & Pay service for transactions\n    const transactions: any[] = [];\n\n    res.json(transactions);\n  } catch (error) {\n    next(error);\n  }\n});\n\n// ============================================================================\n// Cohorts & Classrooms\n// ============================================================================\n\n/**\n * POST /api/sapiens/cohorts\n * Create cohort\n */\nrouter.post(\n  '/cohorts',\n  constitutionalCheck('cohort_create'),\n  logAudit('COHORT_CREATE'),\n  async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { courseId, name, instructorEmail, startDate, endDate, maxLearners = 30 } = req.body;\n\n      const cohort = await prisma.cohort.create({\n        data: {\n          courseId,\n          name,\n          instructorEmail,\n          startDate: new Date(startDate),\n          endDate: new Date(endDate),\n          maxLearners,\n          status: 'forming'\n        }\n      });\n\n      // Create audit log\n      await prisma.constitutionalAuditLog.create({\n        data: {\n          action: 'COHORT_CREATE',\n          entityType: 'Cohort',\n          entityId: cohort.id,\n          userEmail: instructorEmail,\n          preChecksPassed: true,\n          postChecksPassed: true,\n          evidence: JSON.stringify({\n            courseId,\n            maxLearners,\n            startDate,\n            endDate\n          })\n        }\n      });\n\n      res.status(201).json({\n        cohortId: cohort.id,\n        courseId: cohort.courseId,\n        name: cohort.name,\n        instructorEmail: cohort.instructorEmail,\n        startDate: cohort.startDate.toISOString(),\n        endDate: cohort.endDate.toISOString(),\n        status: 'forming',\n        maxLearners: cohort.maxLearners\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\n/**\n * GET /api/sapiens/cohorts\n * List cohorts\n */\nrouter.get('/cohorts', async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { courseId, instructorEmail } = req.query;\n\n    const where: any = {};\n    if (courseId) where.courseId = courseId;\n    if (instructorEmail) where.instructorEmail = instructorEmail;\n\n    const cohorts = await prisma.cohort.findMany({\n      where,\n      include: { course: true, learners: { select: { id: true } } },\n      orderBy: { startDate: 'asc' }\n    });\n\n    const formatted = cohorts.map((c) => ({\n      cohortId: c.id,\n      courseId: c.courseId,\n      name: c.name,\n      instructorEmail: c.instructorEmail,\n      startDate: c.startDate.toISOString(),\n      endDate: c.endDate.toISOString(),\n      status: c.status,\n      maxLearners: c.maxLearners,\n      enrollmentCount: c.learners.length\n    }));\n\n    res.json(formatted);\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * POST /api/sapiens/cohorts/:cohortId/enroll\n * Enroll in cohort\n */\nrouter.post(\n  '/cohorts/:cohortId/enroll',\n  constitutionalCheck('cohort_enroll'),\n  logAudit('COHORT_ENROLL'),\n  async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { cohortId } = req.params;\n      const userEmail = req.user?.email;\n\n      // Check enrollment limit\n      const cohort = await prisma.cohort.findUnique({\n        where: { id: cohortId },\n        include: { learners: { select: { id: true } } }\n      });\n\n      if (!cohort) {\n        return res\n          .status(404)\n          .json({ error: { code: 'COHORT_NOT_FOUND', message: 'Cohort not found' } });\n      }\n\n      if (cohort.learners.length >= cohort.maxLearners) {\n        return res.status(409).json({\n          error: {\n            code: 'COHORT_FULL',\n            message: 'Cohort is at maximum capacity'\n          }\n        });\n      }\n\n      // Add learner to cohort\n      await prisma.cohort.update({\n        where: { id: cohortId },\n        data: {\n          learners: { connect: { email: userEmail! } }\n        }\n      });\n\n      // Create audit log\n      await prisma.constitutionalAuditLog.create({\n        data: {\n          action: 'COHORT_ENROLL',\n          entityType: 'Cohort',\n          entityId: cohortId,\n          userEmail: userEmail!,\n          preChecksPassed: true,\n          postChecksPassed: true,\n          evidence: JSON.stringify({\n            cohortName: cohort.name,\n            courseId: cohort.courseId\n          })\n        }\n      });\n\n      res.json({\n        success: true,\n        enrollmentUrl: `/cohorts/${cohortId}/dashboard`\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\n/**\n * POST /api/sapiens/cohorts/:cohortId/sessions\n * Schedule class session\n */\nrouter.post(\n  '/cohorts/:cohortId/sessions',\n  constitutionalCheck('session_create'),\n  logAudit('SESSION_CREATE'),\n  async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const { cohortId } = req.params;\n      const { sessionType, title, scheduledStart, scheduledEnd } = req.body;\n      const instructorEmail = req.user?.email;\n\n      // TODO: Create BuildSpaces room for this session\n      // const buildspacesRoom = await buildspacesService.createRoom({\n      //   name: title,\n      //   cohortId,\n      //   maxParticipants: cohort.maxLearners\n      // });\n\n      const session = await prisma.classSession.create({\n        data: {\n          cohortId,\n          sessionType,\n          title,\n          instructorEmail: instructorEmail!,\n          scheduledStart: new Date(scheduledStart),\n          scheduledEnd: new Date(scheduledEnd),\n          buildspacesRoomId: `room_${cohortId}_${Date.now()}` // Placeholder\n        }\n      });\n\n      // Create audit log\n      await prisma.constitutionalAuditLog.create({\n        data: {\n          action: 'SESSION_CREATE',\n          entityType: 'ClassSession',\n          entityId: session.id,\n          userEmail: instructorEmail!,\n          preChecksPassed: true,\n          postChecksPassed: true,\n          evidence: JSON.stringify({\n            sessionType,\n            title,\n            cohortId,\n            duration: `${scheduledStart} to ${scheduledEnd}`\n          })\n        }\n      });\n\n      res.status(201).json({\n        sessionId: session.id,\n        cohortId: session.cohortId,\n        sessionType: session.sessionType,\n        title: session.title,\n        scheduledStart: session.scheduledStart.toISOString(),\n        scheduledEnd: session.scheduledEnd.toISOString(),\n        buildspacesRoomUrl: `/rooms/${session.buildspacesRoomId}`\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\n// ============================================================================\n// Error Handling\n// ============================================================================\n\nrouter.use((error: any, req: Request, res: Response, next: NextFunction) => {\n  console.error('[SapiensEducationService]', error);\n\n  if (error.code === 'P2025') {\n    // Prisma record not found\n    return res\n      .status(404)\n      .json({ error: { code: 'NOT_FOUND', message: 'Resource not found' } });\n  }\n\n  if (error.code === 'CONSTITUTIONAL_VIOLATION') {\n    // Constitutional check failed\n    return res.status(403).json({\n      error: {\n        code: 'CONSTITUTIONAL_VIOLATION',\n        message: error.message,\n        constitutionalConcern: true\n      }\n    });\n  }\n\n  res.status(500).json({\n    error: {\n      code: 'INTERNAL_SERVER_ERROR',\n      message: process.env.NODE_ENV === 'production' ? 'An error occurred' : error.message\n    }\n  });\n});\n\nexport default router;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}