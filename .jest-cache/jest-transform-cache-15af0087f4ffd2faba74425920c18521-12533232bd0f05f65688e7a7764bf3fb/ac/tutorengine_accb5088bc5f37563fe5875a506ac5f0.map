{"version":3,"names":["cov_1bw4a9adxv","actualCoverage","OpenAI","TutorEngine","constructor","f","s","openai","apiKey","process","env","OPENAI_API_KEY","tutorSession","studentId","subject","question","context","b","systemPrompt","messages","role","content","previousMessages","splice","response","chat","completions","create","model","temperature","messageContent","choices","message","answer","timestamp","Date","explainConcept","concept","level","prompt"],"sources":["tutor-engine.ts"],"sourcesContent":["import OpenAI from 'openai';\n\ninterface TutorSessionContext {\n  previousMessages?: { role: 'user' | 'assistant'; content: string }[];\n}\n\ninterface TutorSessionResult {\n  answer: string;\n  subject: string;\n  studentId: string;\n  timestamp: Date;\n}\n\nclass TutorEngine {\n  private openai: OpenAI;\n\n  constructor() {\n    this.openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });\n  }\n\n  async tutorSession(studentId: string, subject: string, question: string, context: TutorSessionContext = {}): Promise<TutorSessionResult> {\n    const systemPrompt = `You are Elara, an AI tutor from Azora OS. You teach ${subject} with patience and Ubuntu philosophy. Break down complex concepts, use examples, and encourage the student. Adapt to their level.`\n\n    const messages: OpenAI.Chat.Completions.ChatCompletionMessageParam[] = [\n      { role: 'system', content: systemPrompt },\n      { role: 'user', content: question },\n    ];\n\n    if (context.previousMessages) {\n      messages.splice(1, 0, ...context.previousMessages);\n    }\n\n    const response = await this.openai.chat.completions.create({\n      model: 'gpt-4',\n      messages: messages,\n      temperature: 0.7,\n    });\n\n    const messageContent = response.choices[0].message.content;\n\n    return {\n      answer: messageContent ? messageContent : \"I am sorry, I could not generate a response.\",\n      subject,\n      studentId,\n      timestamp: new Date(),\n    };\n  }\n\n  async explainConcept(concept: string, level: 'beginner' | 'intermediate' | 'advanced' = 'intermediate'): Promise<string> {\n    const prompt = `Explain ${concept} at a ${level} level with examples and analogies.`;\n\n    const response = await this.openai.chat.completions.create({\n      model: 'gpt-4',\n      messages: [\n        { role: 'system', content: 'You are an expert educator explaining concepts clearly.' },\n        { role: 'user', content: prompt },\n      ],\n    });\n    \n    const messageContent = response.choices[0].message.content;\n    return messageContent ? messageContent : \"I am sorry, I could not generate an explanation.\";\n  }\n}\n\nexport default new TutorEngine();\n"],"mappings":"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","ignoreList":[]}