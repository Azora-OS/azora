{"version":3,"names":["cov_2o6cype7kj","actualCoverage","EventEmitter","RecoveryAction","RecoveryStrategies","constructor","f","s","strategies","initializeStrategies","incidents","action","RESTART_SERVICE","priority","condition","health","b","status","uptime","execute","service","console","log","name","sleep","CIRCUIT_BREAK","errorRate","SCALE_UP","responseTime","REROUTE_TRAFFIC","ALERT_TEAM","attemptRecovery","startTime","Date","now","incidentId","strategy","filter","sort","a","id","detectedAt","toISOString","success","recoveryTime","details","incident","push","emit","logToAuditLedger","error","message","fetch","method","headers","body","JSON","stringify","from","to","amount","currency","type","data","recoveryIncident","catch","warn","getIncidents","getStats","total","length","successful","i","avgRecoveryTime","reduce","sum","totalIncidents","successfulRecoveries","successRate","Math","round","ms","Promise","resolve","setTimeout"],"sources":["recovery-strategies.ts"],"sourcesContent":["import { EventEmitter } from 'events';\nimport { ServiceHealth } from './health-monitor';\n\nexport enum RecoveryAction {\n    RESTART_SERVICE = 'RESTART_SERVICE',\n    REROUTE_TRAFFIC = 'REROUTE_TRAFFIC',\n    SCALE_UP = 'SCALE_UP',\n    ROLLBACK = 'ROLLBACK',\n    CIRCUIT_BREAK = 'CIRCUIT_BREAK',\n    ALERT_TEAM = 'ALERT_TEAM'\n}\n\nexport interface RecoveryStrategy {\n    action: RecoveryAction;\n    condition: (health: ServiceHealth) => boolean;\n    execute: (service: ServiceHealth) => Promise<boolean>;\n    priority: number; // Lower = higher priority\n}\n\nexport interface RecoveryIncident {\n    id: string;\n    service: string;\n    detectedAt: string;\n    action: RecoveryAction;\n    success: boolean;\n    recoveryTime: number;\n    details: string;\n}\n\nexport class RecoveryStrategies extends EventEmitter {\n    private strategies: RecoveryStrategy[];\n    private incidents: RecoveryIncident[];\n\n    constructor() {\n        super();\n        this.strategies = this.initializeStrategies();\n        this.incidents = [];\n    }\n\n    /**\n     * Initialize recovery strategies\n     */\n    private initializeStrategies(): RecoveryStrategy[] {\n        return [\n            // Strategy 1: Restart crashed services\n            {\n                action: RecoveryAction.RESTART_SERVICE,\n                priority: 1,\n                condition: (health) => health.status === 'down' && health.uptime < 50,\n                execute: async (service) => {\n                    console.log(`ðŸ”¥ Phoenix: Restarting ${service.name}`);\n                    // In production, this would restart the service via Docker/K8s\n                    await this.sleep(2000);\n                    return true;\n                }\n            },\n\n            // Strategy 2: Circuit breaker for degraded services\n            {\n                action: RecoveryAction.CIRCUIT_BREAK,\n                priority: 2,\n                condition: (health) => health.errorRate > 50,\n                execute: async (service) => {\n                    console.log(`âš¡ Phoenix: Circuit breaking ${service.name}`);\n                    // Temporarily stop routing traffic to this service\n                    await this.sleep(1000);\n                    return true;\n                }\n            },\n\n            // Strategy 3: Scale up under load\n            {\n                action: RecoveryAction.SCALE_UP,\n                priority: 3,\n                condition: (health) => health.responseTime > 5000 && health.status === 'degraded',\n                execute: async (service) => {\n                    console.log(`ðŸ“ˆ Phoenix: Scaling up ${service.name}`);\n                    // In production, add more instances\n                    await this.sleep(3000);\n                    return true;\n                }\n            },\n\n            // Strategy 4: Reroute traffic\n            {\n                action: RecoveryAction.REROUTE_TRAFFIC,\n                priority: 4,\n                condition: (health) => health.status === 'degraded' && health.uptime < 80,\n                execute: async (service) => {\n                    console.log(`ðŸ”€ Phoenix: Rerouting traffic from ${service.name}`);\n                    // Route to backup instance\n                    await this.sleep(1000);\n                    return true;\n                }\n            },\n\n            // Strategy 5: Alert team for persistent issues\n            {\n                action: RecoveryAction.ALERT_TEAM,\n                priority: 5,\n                condition: (health) => health.status === 'down' && health.uptime < 20,\n                execute: async (service) => {\n                    console.log(`ðŸš¨ Phoenix: Alerting team about ${service.name}`);\n                    // Send alert to team\n                    await this.sleep(500);\n                    return true;\n                }\n            }\n        ];\n    }\n\n    /**\n     * Attempt recovery for unhealthy service\n     */\n    async attemptRecovery(service: ServiceHealth): Promise<RecoveryIncident> {\n        const startTime = Date.now();\n        const incidentId = `incident-${Date.now()}`;\n\n        // Find applicable strategy\n        const strategy = this.strategies\n            .filter(s => s.condition(service))\n            .sort((a, b) => a.priority - b.priority)[0];\n\n        if (!strategy) {\n            console.log(`ðŸ”¥ Phoenix: No recovery strategy for ${service.name}`);\n            return {\n                id: incidentId,\n                service: service.name,\n                detectedAt: new Date().toISOString(),\n                action: RecoveryAction.ALERT_TEAM,\n                success: false,\n                recoveryTime: 0,\n                details: 'No applicable recovery strategy'\n            };\n        }\n\n        console.log(`ðŸ”¥ Phoenix: Attempting ${strategy.action} for ${service.name}`);\n\n        try {\n            const success = await strategy.execute(service);\n            const recoveryTime = Date.now() - startTime;\n\n            const incident: RecoveryIncident = {\n                id: incidentId,\n                service: service.name,\n                detectedAt: new Date().toISOString(),\n                action: strategy.action,\n                success,\n                recoveryTime,\n                details: `${strategy.action} ${success ? 'succeeded' : 'failed'}`\n            };\n\n            this.incidents.push(incident);\n            this.emit('recovery-attempted', incident);\n\n            // Log to AML\n            await this.logToAuditLedger(incident);\n\n            return incident;\n        } catch (error) {\n            const incident: RecoveryIncident = {\n                id: incidentId,\n                service: service.name,\n                detectedAt: new Date().toISOString(),\n                action: strategy.action,\n                success: false,\n                recoveryTime: Date.now() - startTime,\n                details: `Recovery failed: ${error.message}`\n            };\n\n            this.incidents.push(incident);\n            return incident;\n        }\n    }\n\n    /**\n     * Log recovery incident to Auditable Mutation Ledger\n     */\n    private async logToAuditLedger(incident: RecoveryIncident): Promise<void> {\n        try {\n            await fetch('http://localhost:3011/api/blockchain/transaction', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    from: 'phoenix-server',\n                    to: 'system',\n                    amount: 0,\n                    currency: 'AZR',\n                    type: 'Education', // Recovery teaches the system\n                    data: { recoveryIncident: incident }\n                })\n            }).catch(() => console.warn('Failed to log recovery to AML'));\n        } catch (error) {\n            console.warn('AML logging failed:', error);\n        }\n    }\n\n    /**\n     * Get recovery history\n     */\n    getIncidents(): RecoveryIncident[] {\n        return this.incidents;\n    }\n\n    /**\n     * Get recovery statistics\n     */\n    getStats() {\n        const total = this.incidents.length;\n        const successful = this.incidents.filter(i => i.success).length;\n        const avgRecoveryTime = this.incidents.reduce((sum, i) => sum + i.recoveryTime, 0) / total || 0;\n\n        return {\n            totalIncidents: total,\n            successfulRecoveries: successful,\n            successRate: total > 0 ? (successful / total) * 100 : 0,\n            avgRecoveryTime: Math.round(avgRecoveryTime)\n        };\n    }\n\n    private sleep(ms: number): Promise<void> {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n}\n\nexport default RecoveryStrategies;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}