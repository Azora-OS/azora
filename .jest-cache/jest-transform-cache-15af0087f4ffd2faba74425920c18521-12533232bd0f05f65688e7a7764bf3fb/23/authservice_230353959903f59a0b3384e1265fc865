91aa7c3f8c682500910820a8598a96e6
/* istanbul ignore next */
function cov_2o4xio9kqx() {
  var path = "/workspaces/azora/services/azora-auth/src/auth-service.ts";
  var hash = "4ce735c3a52ae2dad2bc636b1d5e54085cf96321";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/azora-auth/src/auth-service.ts",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 15
        },
        end: {
          line: 5,
          column: 33
        }
      },
      "1": {
        start: {
          line: 8,
          column: 19
        },
        end: {
          line: 8,
          column: 72
        }
      },
      "2": {
        start: {
          line: 9,
          column: 27
        },
        end: {
          line: 9,
          column: 96
        }
      },
      "3": {
        start: {
          line: 10,
          column: 19
        },
        end: {
          line: 10,
          column: 50
        }
      },
      "4": {
        start: {
          line: 11,
          column: 27
        },
        end: {
          line: 11,
          column: 65
        }
      },
      "5": {
        start: {
          line: 12,
          column: 22
        },
        end: {
          line: 12,
          column: 65
        }
      },
      "6": {
        start: {
          line: 15,
          column: 0
        },
        end: {
          line: 17,
          column: 1
        }
      },
      "7": {
        start: {
          line: 16,
          column: 4
        },
        end: {
          line: 16,
          column: 110
        }
      },
      "8": {
        start: {
          line: 45,
          column: 38
        },
        end: {
          line: 45,
          column: 43
        }
      },
      "9": {
        start: {
          line: 48,
          column: 25
        },
        end: {
          line: 50,
          column: 6
        }
      },
      "10": {
        start: {
          line: 52,
          column: 4
        },
        end: {
          line: 54,
          column: 5
        }
      },
      "11": {
        start: {
          line: 53,
          column: 8
        },
        end: {
          line: 53,
          column: 63
        }
      },
      "12": {
        start: {
          line: 57,
          column: 25
        },
        end: {
          line: 57,
          column: 67
        }
      },
      "13": {
        start: {
          line: 60,
          column: 17
        },
        end: {
          line: 67,
          column: 6
        }
      },
      "14": {
        start: {
          line: 70,
          column: 24
        },
        end: {
          line: 70,
          column: 75
        }
      },
      "15": {
        start: {
          line: 71,
          column: 25
        },
        end: {
          line: 71,
          column: 54
        }
      },
      "16": {
        start: {
          line: 74,
          column: 4
        },
        end: {
          line: 81,
          column: 7
        }
      },
      "17": {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 92,
          column: 6
        }
      },
      "18": {
        start: {
          line: 99,
          column: 32
        },
        end: {
          line: 99,
          column: 37
        }
      },
      "19": {
        start: {
          line: 102,
          column: 17
        },
        end: {
          line: 104,
          column: 6
        }
      },
      "20": {
        start: {
          line: 106,
          column: 4
        },
        end: {
          line: 108,
          column: 5
        }
      },
      "21": {
        start: {
          line: 107,
          column: 8
        },
        end: {
          line: 107,
          column: 47
        }
      },
      "22": {
        start: {
          line: 111,
          column: 28
        },
        end: {
          line: 111,
          column: 73
        }
      },
      "23": {
        start: {
          line: 113,
          column: 4
        },
        end: {
          line: 115,
          column: 5
        }
      },
      "24": {
        start: {
          line: 114,
          column: 8
        },
        end: {
          line: 114,
          column: 47
        }
      },
      "25": {
        start: {
          line: 118,
          column: 24
        },
        end: {
          line: 118,
          column: 75
        }
      },
      "26": {
        start: {
          line: 119,
          column: 25
        },
        end: {
          line: 119,
          column: 54
        }
      },
      "27": {
        start: {
          line: 122,
          column: 4
        },
        end: {
          line: 129,
          column: 7
        }
      },
      "28": {
        start: {
          line: 131,
          column: 4
        },
        end: {
          line: 140,
          column: 6
        }
      },
      "29": {
        start: {
          line: 141,
          column: 4
        },
        end: {
          line: 150,
          column: 5
        }
      },
      "30": {
        start: {
          line: 142,
          column: 24
        },
        end: {
          line: 146,
          column: 9
        }
      },
      "31": {
        start: {
          line: 147,
          column: 8
        },
        end: {
          line: 147,
          column: 23
        }
      },
      "32": {
        start: {
          line: 149,
          column: 8
        },
        end: {
          line: 149,
          column: 52
        }
      },
      "33": {
        start: {
          line: 157,
          column: 4
        },
        end: {
          line: 162,
          column: 7
        }
      },
      "34": {
        start: {
          line: 168,
          column: 4
        },
        end: {
          line: 172,
          column: 6
        }
      },
      "35": {
        start: {
          line: 176,
          column: 4
        },
        end: {
          line: 180,
          column: 6
        }
      }
    },
    fnMap: {
      "0": {
        name: "register",
        decl: {
          start: {
            line: 44,
            column: 22
          },
          end: {
            line: 44,
            column: 30
          }
        },
        loc: {
          start: {
            line: 44,
            column: 74
          },
          end: {
            line: 93,
            column: 1
          }
        },
        line: 44
      },
      "1": {
        name: "login",
        decl: {
          start: {
            line: 98,
            column: 22
          },
          end: {
            line: 98,
            column: 27
          }
        },
        loc: {
          start: {
            line: 98,
            column: 68
          },
          end: {
            line: 151,
            column: 1
          }
        },
        line: 98
      },
      "2": {
        name: "logout",
        decl: {
          start: {
            line: 156,
            column: 22
          },
          end: {
            line: 156,
            column: 28
          }
        },
        loc: {
          start: {
            line: 156,
            column: 66
          },
          end: {
            line: 163,
            column: 1
          }
        },
        line: 156
      },
      "3": {
        name: "generateAccessToken",
        decl: {
          start: {
            line: 167,
            column: 9
          },
          end: {
            line: 167,
            column: 28
          }
        },
        loc: {
          start: {
            line: 167,
            column: 82
          },
          end: {
            line: 173,
            column: 1
          }
        },
        line: 167
      },
      "4": {
        name: "generateRefreshToken",
        decl: {
          start: {
            line: 175,
            column: 9
          },
          end: {
            line: 175,
            column: 29
          }
        },
        loc: {
          start: {
            line: 175,
            column: 54
          },
          end: {
            line: 181,
            column: 1
          }
        },
        line: 175
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 8,
            column: 19
          },
          end: {
            line: 8,
            column: 72
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 8,
            column: 19
          },
          end: {
            line: 8,
            column: 41
          }
        }, {
          start: {
            line: 8,
            column: 45
          },
          end: {
            line: 8,
            column: 72
          }
        }],
        line: 8
      },
      "1": {
        loc: {
          start: {
            line: 9,
            column: 27
          },
          end: {
            line: 9,
            column: 96
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 9,
            column: 27
          },
          end: {
            line: 9,
            column: 57
          }
        }, {
          start: {
            line: 9,
            column: 61
          },
          end: {
            line: 9,
            column: 96
          }
        }],
        line: 9
      },
      "2": {
        loc: {
          start: {
            line: 10,
            column: 19
          },
          end: {
            line: 10,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 10,
            column: 19
          },
          end: {
            line: 10,
            column: 41
          }
        }, {
          start: {
            line: 10,
            column: 45
          },
          end: {
            line: 10,
            column: 50
          }
        }],
        line: 10
      },
      "3": {
        loc: {
          start: {
            line: 11,
            column: 27
          },
          end: {
            line: 11,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 11,
            column: 27
          },
          end: {
            line: 11,
            column: 57
          }
        }, {
          start: {
            line: 11,
            column: 61
          },
          end: {
            line: 11,
            column: 65
          }
        }],
        line: 11
      },
      "4": {
        loc: {
          start: {
            line: 12,
            column: 31
          },
          end: {
            line: 12,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 12,
            column: 31
          },
          end: {
            line: 12,
            column: 56
          }
        }, {
          start: {
            line: 12,
            column: 60
          },
          end: {
            line: 12,
            column: 64
          }
        }],
        line: 12
      },
      "5": {
        loc: {
          start: {
            line: 15,
            column: 0
          },
          end: {
            line: 17,
            column: 1
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 15,
            column: 0
          },
          end: {
            line: 17,
            column: 1
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 15
      },
      "6": {
        loc: {
          start: {
            line: 52,
            column: 4
          },
          end: {
            line: 54,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 52,
            column: 4
          },
          end: {
            line: 54,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 52
      },
      "7": {
        loc: {
          start: {
            line: 106,
            column: 4
          },
          end: {
            line: 108,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 106,
            column: 4
          },
          end: {
            line: 108,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 106
      },
      "8": {
        loc: {
          start: {
            line: 113,
            column: 4
          },
          end: {
            line: 115,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 113,
            column: 4
          },
          end: {
            line: 115,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 113
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "4ce735c3a52ae2dad2bc636b1d5e54085cf96321"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2o4xio9kqx = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2o4xio9kqx();
import bcrypt from 'bcryptjs';
import jwt from 'jsonwebtoken';
import { PrismaClient } from '@prisma/client';
const prisma =
/* istanbul ignore next */
(cov_2o4xio9kqx().s[0]++, new PrismaClient());

// Environment variables with defaults for development
const JWT_SECRET =
/* istanbul ignore next */
(cov_2o4xio9kqx().s[1]++,
/* istanbul ignore next */
(cov_2o4xio9kqx().b[0][0]++, process.env.JWT_SECRET) ||
/* istanbul ignore next */
(cov_2o4xio9kqx().b[0][1]++, 'CHANGE_THIS_IN_PRODUCTION'));
const JWT_REFRESH_SECRET =
/* istanbul ignore next */
(cov_2o4xio9kqx().s[2]++,
/* istanbul ignore next */
(cov_2o4xio9kqx().b[1][0]++, process.env.JWT_REFRESH_SECRET) ||
/* istanbul ignore next */
(cov_2o4xio9kqx().b[1][1]++, 'CHANGE_THIS_REFRESH_IN_PRODUCTION'));
const JWT_EXPIRY =
/* istanbul ignore next */
(cov_2o4xio9kqx().s[3]++,
/* istanbul ignore next */
(cov_2o4xio9kqx().b[2][0]++, process.env.JWT_EXPIRY) ||
/* istanbul ignore next */
(cov_2o4xio9kqx().b[2][1]++, '24h'));
const JWT_REFRESH_EXPIRY =
/* istanbul ignore next */
(cov_2o4xio9kqx().s[4]++,
/* istanbul ignore next */
(cov_2o4xio9kqx().b[3][0]++, process.env.JWT_REFRESH_EXPIRY) ||
/* istanbul ignore next */
(cov_2o4xio9kqx().b[3][1]++, '7d'));
const BCRYPT_ROUNDS =
/* istanbul ignore next */
(cov_2o4xio9kqx().s[5]++, parseInt(
/* istanbul ignore next */
(cov_2o4xio9kqx().b[4][0]++, process.env.BCRYPT_ROUNDS) ||
/* istanbul ignore next */
(cov_2o4xio9kqx().b[4][1]++, '12')));

// Warn if using default secrets
/* istanbul ignore next */
cov_2o4xio9kqx().s[6]++;
if (JWT_SECRET === 'CHANGE_THIS_IN_PRODUCTION') {
  /* istanbul ignore next */
  cov_2o4xio9kqx().b[5][0]++;
  cov_2o4xio9kqx().s[7]++;
  console.warn('⚠️  WARNING: Using default JWT_SECRET. Set JWT_SECRET environment variable in production!');
} else
/* istanbul ignore next */
{
  cov_2o4xio9kqx().b[5][1]++;
}
/**
 * Register a new user with bcrypt password hashing
 */
export async function register(input) {
  /* istanbul ignore next */
  cov_2o4xio9kqx().f[0]++;
  const {
    email,
    password,
    name
  } =
  /* istanbul ignore next */
  (cov_2o4xio9kqx().s[8]++, input);

  // Check if user already exists
  const existingUser =
  /* istanbul ignore next */
  (cov_2o4xio9kqx().s[9]++, await prisma.user.findUnique({
    where: {
      email
    }
  }));
  /* istanbul ignore next */
  cov_2o4xio9kqx().s[10]++;
  if (existingUser) {
    /* istanbul ignore next */
    cov_2o4xio9kqx().b[6][0]++;
    cov_2o4xio9kqx().s[11]++;
    throw new Error('User with this email already exists');
  } else
  /* istanbul ignore next */
  {
    cov_2o4xio9kqx().b[6][1]++;
  }

  // Hash password with bcrypt
  const passwordHash =
  /* istanbul ignore next */
  (cov_2o4xio9kqx().s[12]++, await bcrypt.hash(password, BCRYPT_ROUNDS));

  // Create user
  const user =
  /* istanbul ignore next */
  (cov_2o4xio9kqx().s[13]++, await prisma.user.create({
    data: {
      email,
      password: passwordHash,
      name,
      role: 'STUDENT' // Default role
    }
  }));

  // Generate tokens
  const accessToken =
  /* istanbul ignore next */
  (cov_2o4xio9kqx().s[14]++, generateAccessToken(user.id, user.email, user.role));
  const refreshToken =
  /* istanbul ignore next */
  (cov_2o4xio9kqx().s[15]++, generateRefreshToken(user.id));

  // Store refresh token in database
  /* istanbul ignore next */
  cov_2o4xio9kqx().s[16]++;
  await prisma.token.create({
    data: {
      userId: user.id,
      type: 'REFRESH',
      token: refreshToken,
      expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000) // 7 days
    }
  });
  /* istanbul ignore next */
  cov_2o4xio9kqx().s[17]++;
  return {
    user: {
      id: user.id,
      email: user.email,
      name: user.name,
      role: user.role
    },
    accessToken,
    refreshToken
  };
}

/**
 * Login with email and password
 */
export async function login(input) {
  /* istanbul ignore next */
  cov_2o4xio9kqx().f[1]++;
  const {
    email,
    password
  } =
  /* istanbul ignore next */
  (cov_2o4xio9kqx().s[18]++, input);

  // Find user by email
  const user =
  /* istanbul ignore next */
  (cov_2o4xio9kqx().s[19]++, await prisma.user.findUnique({
    where: {
      email
    }
  }));
  /* istanbul ignore next */
  cov_2o4xio9kqx().s[20]++;
  if (!user) {
    /* istanbul ignore next */
    cov_2o4xio9kqx().b[7][0]++;
    cov_2o4xio9kqx().s[21]++;
    throw new Error('Invalid credentials');
  } else
  /* istanbul ignore next */
  {
    cov_2o4xio9kqx().b[7][1]++;
  }

  // Verify password with bcrypt
  const isValidPassword =
  /* istanbul ignore next */
  (cov_2o4xio9kqx().s[22]++, await bcrypt.compare(password, user.password));
  /* istanbul ignore next */
  cov_2o4xio9kqx().s[23]++;
  if (!isValidPassword) {
    /* istanbul ignore next */
    cov_2o4xio9kqx().b[8][0]++;
    cov_2o4xio9kqx().s[24]++;
    throw new Error('Invalid credentials');
  } else
  /* istanbul ignore next */
  {
    cov_2o4xio9kqx().b[8][1]++;
  }

  // Generate tokens
  const accessToken =
  /* istanbul ignore next */
  (cov_2o4xio9kqx().s[25]++, generateAccessToken(user.id, user.email, user.role));
  const refreshToken =
  /* istanbul ignore next */
  (cov_2o4xio9kqx().s[26]++, generateRefreshToken(user.id));

  // Store refresh token
  /* istanbul ignore next */
  cov_2o4xio9kqx().s[27]++;
  await prisma.token.create({
    data: {
      userId: user.id,
      type: 'REFRESH',
      token: refreshToken,
      expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)
    }
  });
  /* istanbul ignore next */
  cov_2o4xio9kqx().s[28]++;
  return {
    user: {
      id: user.id,
      email: user.email,
      name: user.name,
      role: user.role
    },
    accessToken,
    refreshToken
  };
  /* istanbul ignore next */
  cov_2o4xio9kqx().s[29]++;
  try {
    const payload =
    /* istanbul ignore next */
    (cov_2o4xio9kqx().s[30]++, jwt.verify(token, JWT_SECRET));
    /* istanbul ignore next */
    cov_2o4xio9kqx().s[31]++;
    return payload;
  } catch (error) {
    /* istanbul ignore next */
    cov_2o4xio9kqx().s[32]++;
    throw new Error('Invalid or expired token');
  }
}

/**
 * Logout - invalidate refresh token
 */
export async function logout(refreshToken) {
  /* istanbul ignore next */
  cov_2o4xio9kqx().f[2]++;
  cov_2o4xio9kqx().s[33]++;
  await prisma.token.deleteMany({
    where: {
      token: refreshToken,
      type: 'REFRESH'
    }
  });
}

// Helper functions

function generateAccessToken(userId, email, role) {
  /* istanbul ignore next */
  cov_2o4xio9kqx().f[3]++;
  cov_2o4xio9kqx().s[34]++;
  return jwt.sign({
    userId,
    email,
    role
  }, JWT_SECRET, {
    expiresIn: JWT_EXPIRY
  });
}
function generateRefreshToken(userId) {
  /* istanbul ignore next */
  cov_2o4xio9kqx().f[4]++;
  cov_2o4xio9kqx().s[35]++;
  return jwt.sign({
    userId
  }, JWT_REFRESH_SECRET, {
    expiresIn: JWT_REFRESH_EXPIRY
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMm80eGlvOWtxeCIsImFjdHVhbENvdmVyYWdlIiwiYmNyeXB0Iiwiand0IiwiUHJpc21hQ2xpZW50IiwicHJpc21hIiwicyIsIkpXVF9TRUNSRVQiLCJiIiwicHJvY2VzcyIsImVudiIsIkpXVF9SRUZSRVNIX1NFQ1JFVCIsIkpXVF9FWFBJUlkiLCJKV1RfUkVGUkVTSF9FWFBJUlkiLCJCQ1JZUFRfUk9VTkRTIiwicGFyc2VJbnQiLCJjb25zb2xlIiwid2FybiIsInJlZ2lzdGVyIiwiaW5wdXQiLCJmIiwiZW1haWwiLCJwYXNzd29yZCIsIm5hbWUiLCJleGlzdGluZ1VzZXIiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiRXJyb3IiLCJwYXNzd29yZEhhc2giLCJoYXNoIiwiY3JlYXRlIiwiZGF0YSIsInJvbGUiLCJhY2Nlc3NUb2tlbiIsImdlbmVyYXRlQWNjZXNzVG9rZW4iLCJpZCIsInJlZnJlc2hUb2tlbiIsImdlbmVyYXRlUmVmcmVzaFRva2VuIiwidG9rZW4iLCJ1c2VySWQiLCJ0eXBlIiwiZXhwaXJlc0F0IiwiRGF0ZSIsIm5vdyIsImxvZ2luIiwiaXNWYWxpZFBhc3N3b3JkIiwiY29tcGFyZSIsInBheWxvYWQiLCJ2ZXJpZnkiLCJlcnJvciIsImxvZ291dCIsImRlbGV0ZU1hbnkiLCJzaWduIiwiZXhwaXJlc0luIl0sInNvdXJjZXMiOlsiYXV0aC1zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XG5cbi8vIEVudmlyb25tZW50IHZhcmlhYmxlcyB3aXRoIGRlZmF1bHRzIGZvciBkZXZlbG9wbWVudFxuY29uc3QgSldUX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ0NIQU5HRV9USElTX0lOX1BST0RVQ1RJT04nO1xuY29uc3QgSldUX1JFRlJFU0hfU0VDUkVUID0gcHJvY2Vzcy5lbnYuSldUX1JFRlJFU0hfU0VDUkVUIHx8ICdDSEFOR0VfVEhJU19SRUZSRVNIX0lOX1BST0RVQ1RJT04nO1xuY29uc3QgSldUX0VYUElSWSA9IHByb2Nlc3MuZW52LkpXVF9FWFBJUlkgfHwgJzI0aCc7XG5jb25zdCBKV1RfUkVGUkVTSF9FWFBJUlkgPSBwcm9jZXNzLmVudi5KV1RfUkVGUkVTSF9FWFBJUlkgfHwgJzdkJztcbmNvbnN0IEJDUllQVF9ST1VORFMgPSBwYXJzZUludChwcm9jZXNzLmVudi5CQ1JZUFRfUk9VTkRTIHx8ICcxMicpO1xuXG4vLyBXYXJuIGlmIHVzaW5nIGRlZmF1bHQgc2VjcmV0c1xuaWYgKEpXVF9TRUNSRVQgPT09ICdDSEFOR0VfVEhJU19JTl9QUk9EVUNUSU9OJykge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPICBXQVJOSU5HOiBVc2luZyBkZWZhdWx0IEpXVF9TRUNSRVQuIFNldCBKV1RfU0VDUkVUIGVudmlyb25tZW50IHZhcmlhYmxlIGluIHByb2R1Y3Rpb24hJyk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVnaXN0ZXJJbnB1dCB7XG4gICAgZW1haWw6IHN0cmluZztcbiAgICBwYXNzd29yZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dpbklucHV0IHtcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIHBhc3N3b3JkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aFJlc3VsdCB7XG4gICAgdXNlcjoge1xuICAgICAgICBpZDogc3RyaW5nO1xuICAgICAgICBlbWFpbDogc3RyaW5nO1xuICAgICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICAgIHJvbGU6IHN0cmluZztcbiAgICB9O1xuICAgIGFjY2Vzc1Rva2VuOiBzdHJpbmc7XG4gICAgcmVmcmVzaFRva2VuOiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBuZXcgdXNlciB3aXRoIGJjcnlwdCBwYXNzd29yZCBoYXNoaW5nXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWdpc3RlcihpbnB1dDogUmVnaXN0ZXJJbnB1dCk6IFByb21pc2U8QXV0aFJlc3VsdD4ge1xuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkLCBuYW1lIH0gPSBpbnB1dDtcblxuICAgIC8vIENoZWNrIGlmIHVzZXIgYWxyZWFkeSBleGlzdHNcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgZW1haWwgfVxuICAgIH0pO1xuXG4gICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgfVxuXG4gICAgLy8gSGFzaCBwYXNzd29yZCB3aXRoIGJjcnlwdFxuICAgIGNvbnN0IHBhc3N3b3JkSGFzaCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBCQ1JZUFRfUk9VTkRTKTtcblxuICAgIC8vIENyZWF0ZSB1c2VyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkSGFzaCxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICByb2xlOiAnU1RVREVOVCcgLy8gRGVmYXVsdCByb2xlXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEdlbmVyYXRlIHRva2Vuc1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gZ2VuZXJhdGVBY2Nlc3NUb2tlbih1c2VyLmlkLCB1c2VyLmVtYWlsLCB1c2VyLnJvbGUpO1xuICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdlbmVyYXRlUmVmcmVzaFRva2VuKHVzZXIuaWQpO1xuXG4gICAgLy8gU3RvcmUgcmVmcmVzaCB0b2tlbiBpbiBkYXRhYmFzZVxuICAgIGF3YWl0IHByaXNtYS50b2tlbi5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICB0eXBlOiAnUkVGUkVTSCcsXG4gICAgICAgICAgICB0b2tlbjogcmVmcmVzaFRva2VuLFxuICAgICAgICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShEYXRlLm5vdygpICsgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApIC8vIDcgZGF5c1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgcm9sZTogdXNlci5yb2xlXG4gICAgICAgIH0sXG4gICAgICAgIGFjY2Vzc1Rva2VuLFxuICAgICAgICByZWZyZXNoVG9rZW5cbiAgICB9O1xufVxuXG4vKipcbiAqIExvZ2luIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dpbihpbnB1dDogTG9naW5JbnB1dCk6IFByb21pc2U8QXV0aFJlc3VsdD4ge1xuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSBpbnB1dDtcblxuICAgIC8vIEZpbmQgdXNlciBieSBlbWFpbFxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgZW1haWwgfVxuICAgIH0pO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjcmVkZW50aWFscycpO1xuICAgIH1cblxuICAgIC8vIFZlcmlmeSBwYXNzd29yZCB3aXRoIGJjcnlwdFxuICAgIGNvbnN0IGlzVmFsaWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcblxuICAgIGlmICghaXNWYWxpZFBhc3N3b3JkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjcmVkZW50aWFscycpO1xuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIHRva2Vuc1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gZ2VuZXJhdGVBY2Nlc3NUb2tlbih1c2VyLmlkLCB1c2VyLmVtYWlsLCB1c2VyLnJvbGUpO1xuICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdlbmVyYXRlUmVmcmVzaFRva2VuKHVzZXIuaWQpO1xuXG4gICAgLy8gU3RvcmUgcmVmcmVzaCB0b2tlblxuICAgIGF3YWl0IHByaXNtYS50b2tlbi5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICB0eXBlOiAnUkVGUkVTSCcsXG4gICAgICAgICAgICB0b2tlbjogcmVmcmVzaFRva2VuLFxuICAgICAgICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShEYXRlLm5vdygpICsgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICByb2xlOiB1c2VyLnJvbGVcbiAgICAgICAgfSxcbiAgICAgICAgYWNjZXNzVG9rZW4sXG4gICAgICAgIHJlZnJlc2hUb2tlblxuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpIGFzIHtcbiAgICAgICAgICAgIHVzZXJJZDogc3RyaW5nO1xuICAgICAgICAgICAgZW1haWw6IHN0cmluZztcbiAgICAgICAgICAgIHJvbGU6IHN0cmluZztcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG9yIGV4cGlyZWQgdG9rZW4nKTtcbiAgICB9XG59XG5cbi8qKlxuICogTG9nb3V0IC0gaW52YWxpZGF0ZSByZWZyZXNoIHRva2VuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dvdXQocmVmcmVzaFRva2VuOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCBwcmlzbWEudG9rZW4uZGVsZXRlTWFueSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICB0b2tlbjogcmVmcmVzaFRva2VuLFxuICAgICAgICAgICAgdHlwZTogJ1JFRlJFU0gnXG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uc1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUFjY2Vzc1Rva2VuKHVzZXJJZDogc3RyaW5nLCBlbWFpbDogc3RyaW5nLCByb2xlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBqd3Quc2lnbihcbiAgICAgICAgeyB1c2VySWQsIGVtYWlsLCByb2xlIH0sXG4gICAgICAgIEpXVF9TRUNSRVQsXG4gICAgICAgIHsgZXhwaXJlc0luOiBKV1RfRVhQSVJZIH1cbiAgICApO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVJlZnJlc2hUb2tlbih1c2VySWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGp3dC5zaWduKFxuICAgICAgICB7IHVzZXJJZCB9LFxuICAgICAgICBKV1RfUkVGUkVTSF9TRUNSRVQsXG4gICAgICAgIHsgZXhwaXJlc0luOiBKV1RfUkVGUkVTSF9FWFBJUlkgfVxuICAgICk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtF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