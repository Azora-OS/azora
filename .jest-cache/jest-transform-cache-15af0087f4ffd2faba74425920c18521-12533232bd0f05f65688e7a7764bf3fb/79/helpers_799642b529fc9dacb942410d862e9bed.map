{"version":3,"names":["cov_6mlmgh125","actualCoverage","s","sleep","ms","f","Promise","resolve","setTimeout","waitFor","condition","timeout","b","start","Date","now","Error","mockRequest","overrides","body","params","query","headers","user","mockResponse","res","status","jest","fn","mockReturnValue","json","send","mockNext"],"sources":["helpers.ts"],"sourcesContent":["export const sleep = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\n\nexport const waitFor = async (condition: () => boolean, timeout = 5000) => {\n  const start = Date.now();\n  while (!condition()) {\n    if (Date.now() - start > timeout) {\n      throw new Error('Timeout waiting for condition');\n    }\n    await sleep(100);\n  }\n};\n\nexport const mockRequest = (overrides = {}) => ({\n  body: {},\n  params: {},\n  query: {},\n  headers: {},\n  user: null,\n  ...overrides,\n});\n\nexport const mockResponse = () => {\n  const res: any = {};\n  res.status = jest.fn().mockReturnValue(res);\n  res.json = jest.fn().mockReturnValue(res);\n  res.send = jest.fn().mockReturnValue(res);\n  return res;\n};\n\nexport const mockNext = () => jest.fn();\n"],"mappings":"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","ignoreList":[]}