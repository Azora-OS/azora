af7906ecaaa1effb566f7057277c13be
/* istanbul ignore next */
function cov_13grvsml27() {
  var path = "/workspaces/azora/services/education-revenue-engine/src/services/assessment.service.ts";
  var hash = "ccfdeae774878e89e66386276f779095caa4ee77";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/education-revenue-engine/src/services/assessment.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 35
        },
        end: {
          line: 10,
          column: 2
        }
      },
      "1": {
        start: {
          line: 19,
          column: 4
        },
        end: {
          line: 96,
          column: 5
        }
      },
      "2": {
        start: {
          line: 20,
          column: 31
        },
        end: {
          line: 20,
          column: 72
        }
      },
      "3": {
        start: {
          line: 21,
          column: 6
        },
        end: {
          line: 23,
          column: 7
        }
      },
      "4": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 62
        }
      },
      "5": {
        start: {
          line: 26,
          column: 25
        },
        end: {
          line: 32,
          column: 8
        }
      },
      "6": {
        start: {
          line: 34,
          column: 6
        },
        end: {
          line: 36,
          column: 7
        }
      },
      "7": {
        start: {
          line: 35,
          column: 8
        },
        end: {
          line: 35,
          column: 48
        }
      },
      "8": {
        start: {
          line: 39,
          column: 25
        },
        end: {
          line: 41,
          column: 8
        }
      },
      "9": {
        start: {
          line: 43,
          column: 6
        },
        end: {
          line: 45,
          column: 7
        }
      },
      "10": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 44,
          column: 48
        }
      },
      "11": {
        start: {
          line: 49,
          column: 20
        },
        end: {
          line: 49,
          column: 90
        }
      },
      "12": {
        start: {
          line: 50,
          column: 21
        },
        end: {
          line: 50,
          column: 53
        }
      },
      "13": {
        start: {
          line: 53,
          column: 22
        },
        end: {
          line: 62,
          column: 8
        }
      },
      "14": {
        start: {
          line: 65,
          column: 23
        },
        end: {
          line: 67,
          column: 8
        }
      },
      "15": {
        start: {
          line: 69,
          column: 22
        },
        end: {
          line: 71,
          column: 8
        }
      },
      "16": {
        start: {
          line: 73,
          column: 31
        },
        end: {
          line: 73,
          column: 81
        }
      },
      "17": {
        start: {
          line: 73,
          column: 64
        },
        end: {
          line: 73,
          column: 74
        }
      },
      "18": {
        start: {
          line: 74,
          column: 23
        },
        end: {
          line: 74,
          column: 76
        }
      },
      "19": {
        start: {
          line: 76,
          column: 6
        },
        end: {
          line: 79,
          column: 9
        }
      },
      "20": {
        start: {
          line: 81,
          column: 23
        },
        end: {
          line: 83,
          column: 90
        }
      },
      "21": {
        start: {
          line: 85,
          column: 6
        },
        end: {
          line: 85,
          column: 101
        }
      },
      "22": {
        start: {
          line: 87,
          column: 6
        },
        end: {
          line: 92,
          column: 8
        }
      },
      "23": {
        start: {
          line: 94,
          column: 6
        },
        end: {
          line: 94,
          column: 58
        }
      },
      "24": {
        start: {
          line: 95,
          column: 6
        },
        end: {
          line: 95,
          column: 18
        }
      },
      "25": {
        start: {
          line: 105,
          column: 4
        },
        end: {
          line: 137,
          column: 5
        }
      },
      "26": {
        start: {
          line: 106,
          column: 25
        },
        end: {
          line: 108,
          column: 8
        }
      },
      "27": {
        start: {
          line: 110,
          column: 6
        },
        end: {
          line: 112,
          column: 7
        }
      },
      "28": {
        start: {
          line: 111,
          column: 8
        },
        end: {
          line: 111,
          column: 48
        }
      },
      "29": {
        start: {
          line: 114,
          column: 23
        },
        end: {
          line: 118,
          column: 8
        }
      },
      "30": {
        start: {
          line: 120,
          column: 27
        },
        end: {
          line: 122,
          column: 11
        }
      },
      "31": {
        start: {
          line: 121,
          column: 51
        },
        end: {
          line: 121,
          column: 74
        }
      },
      "32": {
        start: {
          line: 124,
          column: 23
        },
        end: {
          line: 126,
          column: 11
        }
      },
      "33": {
        start: {
          line: 125,
          column: 39
        },
        end: {
          line: 125,
          column: 83
        }
      },
      "34": {
        start: {
          line: 128,
          column: 6
        },
        end: {
          line: 133,
          column: 8
        }
      },
      "35": {
        start: {
          line: 135,
          column: 6
        },
        end: {
          line: 135,
          column: 63
        }
      },
      "36": {
        start: {
          line: 136,
          column: 6
        },
        end: {
          line: 136,
          column: 18
        }
      },
      "37": {
        start: {
          line: 146,
          column: 4
        },
        end: {
          line: 175,
          column: 5
        }
      },
      "38": {
        start: {
          line: 147,
          column: 26
        },
        end: {
          line: 149,
          column: 8
        }
      },
      "39": {
        start: {
          line: 151,
          column: 23
        },
        end: {
          line: 157,
          column: 7
        }
      },
      "40": {
        start: {
          line: 153,
          column: 10
        },
        end: {
          line: 155,
          column: 12
        }
      },
      "41": {
        start: {
          line: 159,
          column: 26
        },
        end: {
          line: 159,
          column: 41
        }
      },
      "42": {
        start: {
          line: 160,
          column: 27
        },
        end: {
          line: 162,
          column: 11
        }
      },
      "43": {
        start: {
          line: 161,
          column: 54
        },
        end: {
          line: 161,
          column: 77
        }
      },
      "44": {
        start: {
          line: 164,
          column: 26
        },
        end: {
          line: 164,
          column: 88
        }
      },
      "45": {
        start: {
          line: 164,
          column: 57
        },
        end: {
          line: 164,
          column: 80
        }
      },
      "46": {
        start: {
          line: 166,
          column: 6
        },
        end: {
          line: 171,
          column: 8
        }
      },
      "47": {
        start: {
          line: 173,
          column: 6
        },
        end: {
          line: 173,
          column: 71
        }
      },
      "48": {
        start: {
          line: 174,
          column: 6
        },
        end: {
          line: 174,
          column: 18
        }
      },
      "49": {
        start: {
          line: 179,
          column: 33
        },
        end: {
          line: 179,
          column: 56
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 13,
            column: 2
          },
          end: {
            line: 13,
            column: 3
          }
        },
        loc: {
          start: {
            line: 18,
            column: 5
          },
          end: {
            line: 97,
            column: 3
          }
        },
        line: 18
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 73,
            column: 52
          },
          end: {
            line: 73,
            column: 53
          }
        },
        loc: {
          start: {
            line: 73,
            column: 64
          },
          end: {
            line: 73,
            column: 74
          }
        },
        line: 73
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 99,
            column: 2
          },
          end: {
            line: 99,
            column: 3
          }
        },
        loc: {
          start: {
            line: 104,
            column: 5
          },
          end: {
            line: 138,
            column: 3
          }
        },
        line: 104
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 121,
            column: 26
          },
          end: {
            line: 121,
            column: 27
          }
        },
        loc: {
          start: {
            line: 121,
            column: 51
          },
          end: {
            line: 121,
            column: 74
          }
        },
        line: 121
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 125,
            column: 27
          },
          end: {
            line: 125,
            column: 28
          }
        },
        loc: {
          start: {
            line: 125,
            column: 39
          },
          end: {
            line: 125,
            column: 83
          }
        },
        line: 125
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 140,
            column: 2
          },
          end: {
            line: 140,
            column: 3
          }
        },
        loc: {
          start: {
            line: 145,
            column: 5
          },
          end: {
            line: 176,
            column: 3
          }
        },
        line: 145
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 152,
            column: 24
          },
          end: {
            line: 152,
            column: 25
          }
        },
        loc: {
          start: {
            line: 153,
            column: 10
          },
          end: {
            line: 155,
            column: 12
          }
        },
        line: 153
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 161,
            column: 29
          },
          end: {
            line: 161,
            column: 30
          }
        },
        loc: {
          start: {
            line: 161,
            column: 54
          },
          end: {
            line: 161,
            column: 77
          }
        },
        line: 161
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 164,
            column: 45
          },
          end: {
            line: 164,
            column: 46
          }
        },
        loc: {
          start: {
            line: 164,
            column: 57
          },
          end: {
            line: 164,
            column: 80
          }
        },
        line: 164
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 21,
            column: 6
          },
          end: {
            line: 23,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 21,
            column: 6
          },
          end: {
            line: 23,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 21
      },
      "1": {
        loc: {
          start: {
            line: 34,
            column: 6
          },
          end: {
            line: 36,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 34,
            column: 6
          },
          end: {
            line: 36,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 34
      },
      "2": {
        loc: {
          start: {
            line: 43,
            column: 6
          },
          end: {
            line: 45,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 43,
            column: 6
          },
          end: {
            line: 45,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 43
      },
      "3": {
        loc: {
          start: {
            line: 81,
            column: 23
          },
          end: {
            line: 83,
            column: 90
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 82,
            column: 10
          },
          end: {
            line: 82,
            column: 66
          }
        }, {
          start: {
            line: 83,
            column: 10
          },
          end: {
            line: 83,
            column: 90
          }
        }],
        line: 81
      },
      "4": {
        loc: {
          start: {
            line: 110,
            column: 6
          },
          end: {
            line: 112,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 110,
            column: 6
          },
          end: {
            line: 112,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 110
      },
      "5": {
        loc: {
          start: {
            line: 120,
            column: 27
          },
          end: {
            line: 122,
            column: 11
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 121,
            column: 10
          },
          end: {
            line: 121,
            column: 96
          }
        }, {
          start: {
            line: 122,
            column: 10
          },
          end: {
            line: 122,
            column: 11
          }
        }],
        line: 120
      },
      "6": {
        loc: {
          start: {
            line: 124,
            column: 23
          },
          end: {
            line: 126,
            column: 11
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 125,
            column: 10
          },
          end: {
            line: 125,
            column: 116
          }
        }, {
          start: {
            line: 126,
            column: 10
          },
          end: {
            line: 126,
            column: 11
          }
        }],
        line: 124
      },
      "7": {
        loc: {
          start: {
            line: 160,
            column: 27
          },
          end: {
            line: 162,
            column: 11
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 161,
            column: 10
          },
          end: {
            line: 161,
            column: 102
          }
        }, {
          start: {
            line: 162,
            column: 10
          },
          end: {
            line: 162,
            column: 11
          }
        }],
        line: 160
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "ccfdeae774878e89e66386276f779095caa4ee77"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_13grvsml27 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_13grvsml27();
import { prisma } from '../index';
import { logger } from '../utils/logger';
import Joi from 'joi';
const assessmentSubmissionSchema =
/* istanbul ignore next */
(cov_13grvsml27().s[0]++, Joi.object({
  enrollmentId: Joi.string().required(),
  assessmentId: Joi.string().required(),
  answers: Joi.array().items(Joi.string()).required(),
  timeSpent: Joi.number().required().min(0)
}));
export class AssessmentService {
  async submitAssessment(data) {
    /* istanbul ignore next */
    cov_13grvsml27().f[0]++;
    cov_13grvsml27().s[1]++;
    try {
      const {
        error,
        value
      } =
      /* istanbul ignore next */
      (cov_13grvsml27().s[2]++, assessmentSubmissionSchema.validate(data));
      /* istanbul ignore next */
      cov_13grvsml27().s[3]++;
      if (error) {
        /* istanbul ignore next */
        cov_13grvsml27().b[0][0]++;
        cov_13grvsml27().s[4]++;
        throw new Error(`Validation error: ${error.message}`);
      } else
      /* istanbul ignore next */
      {
        cov_13grvsml27().b[0][1]++;
      }

      // Get assessment
      const assessment =
      /* istanbul ignore next */
      (cov_13grvsml27().s[5]++, await prisma.assessment.findUnique({
        where: {
          id: value.assessmentId
        },
        include: {
          module: true,
          course: true
        }
      }));
      /* istanbul ignore next */
      cov_13grvsml27().s[6]++;
      if (!assessment) {
        /* istanbul ignore next */
        cov_13grvsml27().b[1][0]++;
        cov_13grvsml27().s[7]++;
        throw new Error('Assessment not found');
      } else
      /* istanbul ignore next */
      {
        cov_13grvsml27().b[1][1]++;
      }

      // Get enrollment
      const enrollment =
      /* istanbul ignore next */
      (cov_13grvsml27().s[8]++, await prisma.enrollment.findUnique({
        where: {
          id: value.enrollmentId
        }
      }));
      /* istanbul ignore next */
      cov_13grvsml27().s[9]++;
      if (!enrollment) {
        /* istanbul ignore next */
        cov_13grvsml27().b[2][0]++;
        cov_13grvsml27().s[10]++;
        throw new Error('Enrollment not found');
      } else
      /* istanbul ignore next */
      {
        cov_13grvsml27().b[2][1]++;
      }

      // Calculate score (simple: percentage of correct answers)
      // In production, would use more sophisticated grading
      const score =
      /* istanbul ignore next */
      (cov_13grvsml27().s[11]++, Math.round(value.answers.length / assessment.questions.length * 100));
      const passed =
      /* istanbul ignore next */
      (cov_13grvsml27().s[12]++, score >= assessment.passingScore);

      // Record learning outcome
      const outcome =
      /* istanbul ignore next */
      (cov_13grvsml27().s[13]++, await prisma.learningOutcome.create({
        data: {
          enrollmentId: value.enrollmentId,
          courseId: assessment.courseId,
          moduleId: assessment.moduleId,
          assessmentScore: score,
          timeSpent: value.timeSpent,
          conceptMastery: score
        }
      }));

      // Update enrollment progress
      const outcomes =
      /* istanbul ignore next */
      (cov_13grvsml27().s[14]++, await prisma.learningOutcome.findMany({
        where: {
          enrollmentId: value.enrollmentId
        }
      }));
      const modules =
      /* istanbul ignore next */
      (cov_13grvsml27().s[15]++, await prisma.module.findMany({
        where: {
          courseId: assessment.courseId
        }
      }));
      const completedModules =
      /* istanbul ignore next */
      (cov_13grvsml27().s[16]++, new Set(outcomes.map(o => {
        /* istanbul ignore next */
        cov_13grvsml27().f[1]++;
        cov_13grvsml27().s[17]++;
        return o.moduleId;
      })).size);
      const progress =
      /* istanbul ignore next */
      (cov_13grvsml27().s[18]++, Math.round(completedModules / modules.length * 100));
      /* istanbul ignore next */
      cov_13grvsml27().s[19]++;
      await prisma.enrollment.update({
        where: {
          id: value.enrollmentId
        },
        data: {
          progress
        }
      });
      const feedback =
      /* istanbul ignore next */
      (cov_13grvsml27().s[20]++, passed ?
      /* istanbul ignore next */
      (cov_13grvsml27().b[3][0]++, `Congratulations! You passed with a score of ${score}%.`) :
      /* istanbul ignore next */
      (cov_13grvsml27().b[3][1]++, `You scored ${score}%. You need ${assessment.passingScore}% to pass. Try again!`));
      /* istanbul ignore next */
      cov_13grvsml27().s[21]++;
      logger.info(`Assessment submitted: ${value.assessmentId}, Score: ${score}, Passed: ${passed}`);
      /* istanbul ignore next */
      cov_13grvsml27().s[22]++;
      return {
        score,
        passed,
        feedback,
        outcome
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_13grvsml27().s[23]++;
      logger.error('Error submitting assessment:', error);
      /* istanbul ignore next */
      cov_13grvsml27().s[24]++;
      throw error;
    }
  }
  async getAssessmentResults(assessmentId) {
    /* istanbul ignore next */
    cov_13grvsml27().f[2]++;
    cov_13grvsml27().s[25]++;
    try {
      const assessment =
      /* istanbul ignore next */
      (cov_13grvsml27().s[26]++, await prisma.assessment.findUnique({
        where: {
          id: assessmentId
        }
      }));
      /* istanbul ignore next */
      cov_13grvsml27().s[27]++;
      if (!assessment) {
        /* istanbul ignore next */
        cov_13grvsml27().b[4][0]++;
        cov_13grvsml27().s[28]++;
        throw new Error('Assessment not found');
      } else
      /* istanbul ignore next */
      {
        cov_13grvsml27().b[4][1]++;
      }
      const outcomes =
      /* istanbul ignore next */
      (cov_13grvsml27().s[29]++, await prisma.learningOutcome.findMany({
        where: {
          // This is a simplified query - in production would need assessment submission tracking
        }
      }));
      const averageScore =
      /* istanbul ignore next */
      (cov_13grvsml27().s[30]++, outcomes.length > 0 ?
      /* istanbul ignore next */
      (cov_13grvsml27().b[5][0]++, outcomes.reduce((sum, o) => {
        /* istanbul ignore next */
        cov_13grvsml27().f[3]++;
        cov_13grvsml27().s[31]++;
        return sum + o.assessmentScore;
      }, 0) / outcomes.length) :
      /* istanbul ignore next */
      (cov_13grvsml27().b[5][1]++, 0));
      const passRate =
      /* istanbul ignore next */
      (cov_13grvsml27().s[32]++, outcomes.length > 0 ?
      /* istanbul ignore next */
      (cov_13grvsml27().b[6][0]++, outcomes.filter(o => {
        /* istanbul ignore next */
        cov_13grvsml27().f[4]++;
        cov_13grvsml27().s[33]++;
        return o.assessmentScore >= assessment.passingScore;
      }).length / outcomes.length * 100) :
      /* istanbul ignore next */
      (cov_13grvsml27().b[6][1]++, 0));
      /* istanbul ignore next */
      cov_13grvsml27().s[34]++;
      return {
        assessment,
        submissions: outcomes,
        averageScore,
        passRate
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_13grvsml27().s[35]++;
      logger.error('Error getting assessment results:', error);
      /* istanbul ignore next */
      cov_13grvsml27().s[36]++;
      throw error;
    }
  }
  async getStudentAssessmentHistory(studentId) {
    /* istanbul ignore next */
    cov_13grvsml27().f[5]++;
    cov_13grvsml27().s[37]++;
    try {
      const enrollments =
      /* istanbul ignore next */
      (cov_13grvsml27().s[38]++, await prisma.enrollment.findMany({
        where: {
          studentId
        }
      }));
      const outcomes =
      /* istanbul ignore next */
      (cov_13grvsml27().s[39]++, await Promise.all(enrollments.map(e => {
        /* istanbul ignore next */
        cov_13grvsml27().f[6]++;
        cov_13grvsml27().s[40]++;
        return prisma.learningOutcome.findMany({
          where: {
            enrollmentId: e.id
          }
        });
      })));
      const allOutcomes =
      /* istanbul ignore next */
      (cov_13grvsml27().s[41]++, outcomes.flat());
      const averageScore =
      /* istanbul ignore next */
      (cov_13grvsml27().s[42]++, allOutcomes.length > 0 ?
      /* istanbul ignore next */
      (cov_13grvsml27().b[7][0]++, allOutcomes.reduce((sum, o) => {
        /* istanbul ignore next */
        cov_13grvsml27().f[7]++;
        cov_13grvsml27().s[43]++;
        return sum + o.assessmentScore;
      }, 0) / allOutcomes.length) :
      /* istanbul ignore next */
      (cov_13grvsml27().b[7][1]++, 0));
      const passedCount =
      /* istanbul ignore next */
      (cov_13grvsml27().s[44]++, allOutcomes.filter(o => {
        /* istanbul ignore next */
        cov_13grvsml27().f[8]++;
        cov_13grvsml27().s[45]++;
        return o.assessmentScore >= 70;
      }).length);
      /* istanbul ignore next */
      cov_13grvsml27().s[46]++;
      return {
        assessments: allOutcomes,
        totalAttempts: allOutcomes.length,
        averageScore,
        passedCount
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_13grvsml27().s[47]++;
      logger.error('Error getting student assessment history:', error);
      /* istanbul ignore next */
      cov_13grvsml27().s[48]++;
      throw error;
    }
  }
}
export const assessmentService =
/* istanbul ignore next */
(cov_13grvsml27().s[49]++, new AssessmentService());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTNncnZzbWwyNyIsImFjdHVhbENvdmVyYWdlIiwicHJpc21hIiwibG9nZ2VyIiwiSm9pIiwiYXNzZXNzbWVudFN1Ym1pc3Npb25TY2hlbWEiLCJzIiwib2JqZWN0IiwiZW5yb2xsbWVudElkIiwic3RyaW5nIiwicmVxdWlyZWQiLCJhc3Nlc3NtZW50SWQiLCJhbnN3ZXJzIiwiYXJyYXkiLCJpdGVtcyIsInRpbWVTcGVudCIsIm51bWJlciIsIm1pbiIsIkFzc2Vzc21lbnRTZXJ2aWNlIiwic3VibWl0QXNzZXNzbWVudCIsImRhdGEiLCJmIiwiZXJyb3IiLCJ2YWx1ZSIsInZhbGlkYXRlIiwiYiIsIkVycm9yIiwibWVzc2FnZSIsImFzc2Vzc21lbnQiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpZCIsImluY2x1ZGUiLCJtb2R1bGUiLCJjb3Vyc2UiLCJlbnJvbGxtZW50Iiwic2NvcmUiLCJNYXRoIiwicm91bmQiLCJsZW5ndGgiLCJxdWVzdGlvbnMiLCJwYXNzZWQiLCJwYXNzaW5nU2NvcmUiLCJvdXRjb21lIiwibGVhcm5pbmdPdXRjb21lIiwiY3JlYXRlIiwiY291cnNlSWQiLCJtb2R1bGVJZCIsImFzc2Vzc21lbnRTY29yZSIsImNvbmNlcHRNYXN0ZXJ5Iiwib3V0Y29tZXMiLCJmaW5kTWFueSIsIm1vZHVsZXMiLCJjb21wbGV0ZWRNb2R1bGVzIiwiU2V0IiwibWFwIiwibyIsInNpemUiLCJwcm9ncmVzcyIsInVwZGF0ZSIsImZlZWRiYWNrIiwiaW5mbyIsImdldEFzc2Vzc21lbnRSZXN1bHRzIiwiYXZlcmFnZVNjb3JlIiwicmVkdWNlIiwic3VtIiwicGFzc1JhdGUiLCJmaWx0ZXIiLCJzdWJtaXNzaW9ucyIsImdldFN0dWRlbnRBc3Nlc3NtZW50SGlzdG9yeSIsInN0dWRlbnRJZCIsImVucm9sbG1lbnRzIiwiUHJvbWlzZSIsImFsbCIsImUiLCJhbGxPdXRjb21lcyIsImZsYXQiLCJwYXNzZWRDb3VudCIsImFzc2Vzc21lbnRzIiwidG90YWxBdHRlbXB0cyIsImFzc2Vzc21lbnRTZXJ2aWNlIl0sInNvdXJjZXMiOlsiYXNzZXNzbWVudC5zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByaXNtYSB9IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQgSm9pIGZyb20gJ2pvaSc7XG5cbmNvbnN0IGFzc2Vzc21lbnRTdWJtaXNzaW9uU2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGVucm9sbG1lbnRJZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIGFzc2Vzc21lbnRJZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIGFuc3dlcnM6IEpvaS5hcnJheSgpLml0ZW1zKEpvaS5zdHJpbmcoKSkucmVxdWlyZWQoKSxcbiAgdGltZVNwZW50OiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKS5taW4oMCksXG59KTtcblxuZXhwb3J0IGNsYXNzIEFzc2Vzc21lbnRTZXJ2aWNlIHtcbiAgYXN5bmMgc3VibWl0QXNzZXNzbWVudChkYXRhOiBhbnkpOiBQcm9taXNlPHtcbiAgICBzY29yZTogbnVtYmVyO1xuICAgIHBhc3NlZDogYm9vbGVhbjtcbiAgICBmZWVkYmFjazogc3RyaW5nO1xuICAgIG91dGNvbWU6IGFueTtcbiAgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVycm9yLCB2YWx1ZSB9ID0gYXNzZXNzbWVudFN1Ym1pc3Npb25TY2hlbWEudmFsaWRhdGUoZGF0YSk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBWYWxpZGF0aW9uIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCBhc3Nlc3NtZW50XG4gICAgICBjb25zdCBhc3Nlc3NtZW50ID0gYXdhaXQgcHJpc21hLmFzc2Vzc21lbnQuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiB2YWx1ZS5hc3Nlc3NtZW50SWQgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIG1vZHVsZTogdHJ1ZSxcbiAgICAgICAgICBjb3Vyc2U6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFhc3Nlc3NtZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQXNzZXNzbWVudCBub3QgZm91bmQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IGVucm9sbG1lbnRcbiAgICAgIGNvbnN0IGVucm9sbG1lbnQgPSBhd2FpdCBwcmlzbWEuZW5yb2xsbWVudC5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHZhbHVlLmVucm9sbG1lbnRJZCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghZW5yb2xsbWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vucm9sbG1lbnQgbm90IGZvdW5kJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIENhbGN1bGF0ZSBzY29yZSAoc2ltcGxlOiBwZXJjZW50YWdlIG9mIGNvcnJlY3QgYW5zd2VycylcbiAgICAgIC8vIEluIHByb2R1Y3Rpb24sIHdvdWxkIHVzZSBtb3JlIHNvcGhpc3RpY2F0ZWQgZ3JhZGluZ1xuICAgICAgY29uc3Qgc2NvcmUgPSBNYXRoLnJvdW5kKCh2YWx1ZS5hbnN3ZXJzLmxlbmd0aCAvIGFzc2Vzc21lbnQucXVlc3Rpb25zLmxlbmd0aCkgKiAxMDApO1xuICAgICAgY29uc3QgcGFzc2VkID0gc2NvcmUgPj0gYXNzZXNzbWVudC5wYXNzaW5nU2NvcmU7XG5cbiAgICAgIC8vIFJlY29yZCBsZWFybmluZyBvdXRjb21lXG4gICAgICBjb25zdCBvdXRjb21lID0gYXdhaXQgcHJpc21hLmxlYXJuaW5nT3V0Y29tZS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZW5yb2xsbWVudElkOiB2YWx1ZS5lbnJvbGxtZW50SWQsXG4gICAgICAgICAgY291cnNlSWQ6IGFzc2Vzc21lbnQuY291cnNlSWQsXG4gICAgICAgICAgbW9kdWxlSWQ6IGFzc2Vzc21lbnQubW9kdWxlSWQsXG4gICAgICAgICAgYXNzZXNzbWVudFNjb3JlOiBzY29yZSxcbiAgICAgICAgICB0aW1lU3BlbnQ6IHZhbHVlLnRpbWVTcGVudCxcbiAgICAgICAgICBjb25jZXB0TWFzdGVyeTogc2NvcmUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gVXBkYXRlIGVucm9sbG1lbnQgcHJvZ3Jlc3NcbiAgICAgIGNvbnN0IG91dGNvbWVzID0gYXdhaXQgcHJpc21hLmxlYXJuaW5nT3V0Y29tZS5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IGVucm9sbG1lbnRJZDogdmFsdWUuZW5yb2xsbWVudElkIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbW9kdWxlcyA9IGF3YWl0IHByaXNtYS5tb2R1bGUuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZTogeyBjb3Vyc2VJZDogYXNzZXNzbWVudC5jb3Vyc2VJZCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNvbXBsZXRlZE1vZHVsZXMgPSBuZXcgU2V0KG91dGNvbWVzLm1hcCgobzogYW55KSA9PiBvLm1vZHVsZUlkKSkuc2l6ZTtcbiAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5yb3VuZCgoY29tcGxldGVkTW9kdWxlcyAvIG1vZHVsZXMubGVuZ3RoKSAqIDEwMCk7XG5cbiAgICAgIGF3YWl0IHByaXNtYS5lbnJvbGxtZW50LnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiB2YWx1ZS5lbnJvbGxtZW50SWQgfSxcbiAgICAgICAgZGF0YTogeyBwcm9ncmVzcyB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGZlZWRiYWNrID0gcGFzc2VkXG4gICAgICAgID8gYENvbmdyYXR1bGF0aW9ucyEgWW91IHBhc3NlZCB3aXRoIGEgc2NvcmUgb2YgJHtzY29yZX0lLmBcbiAgICAgICAgOiBgWW91IHNjb3JlZCAke3Njb3JlfSUuIFlvdSBuZWVkICR7YXNzZXNzbWVudC5wYXNzaW5nU2NvcmV9JSB0byBwYXNzLiBUcnkgYWdhaW4hYDtcblxuICAgICAgbG9nZ2VyLmluZm8oYEFzc2Vzc21lbnQgc3VibWl0dGVkOiAke3ZhbHVlLmFzc2Vzc21lbnRJZH0sIFNjb3JlOiAke3Njb3JlfSwgUGFzc2VkOiAke3Bhc3NlZH1gKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcmUsXG4gICAgICAgIHBhc3NlZCxcbiAgICAgICAgZmVlZGJhY2ssXG4gICAgICAgIG91dGNvbWUsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIHN1Ym1pdHRpbmcgYXNzZXNzbWVudDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRBc3Nlc3NtZW50UmVzdWx0cyhhc3Nlc3NtZW50SWQ6IHN0cmluZyk6IFByb21pc2U8e1xuICAgIGFzc2Vzc21lbnQ6IGFueTtcbiAgICBzdWJtaXNzaW9uczogYW55W107XG4gICAgYXZlcmFnZVNjb3JlOiBudW1iZXI7XG4gICAgcGFzc1JhdGU6IG51bWJlcjtcbiAgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhc3Nlc3NtZW50ID0gYXdhaXQgcHJpc21hLmFzc2Vzc21lbnQuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBhc3Nlc3NtZW50SWQgfSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWFzc2Vzc21lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBc3Nlc3NtZW50IG5vdCBmb3VuZCcpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvdXRjb21lcyA9IGF3YWl0IHByaXNtYS5sZWFybmluZ091dGNvbWUuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIC8vIFRoaXMgaXMgYSBzaW1wbGlmaWVkIHF1ZXJ5IC0gaW4gcHJvZHVjdGlvbiB3b3VsZCBuZWVkIGFzc2Vzc21lbnQgc3VibWlzc2lvbiB0cmFja2luZ1xuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGF2ZXJhZ2VTY29yZSA9IG91dGNvbWVzLmxlbmd0aCA+IDBcbiAgICAgICAgPyBvdXRjb21lcy5yZWR1Y2UoKHN1bTogbnVtYmVyLCBvOiBhbnkpID0+IHN1bSArIG8uYXNzZXNzbWVudFNjb3JlLCAwKSAvIG91dGNvbWVzLmxlbmd0aFxuICAgICAgICA6IDA7XG5cbiAgICAgIGNvbnN0IHBhc3NSYXRlID0gb3V0Y29tZXMubGVuZ3RoID4gMFxuICAgICAgICA/IChvdXRjb21lcy5maWx0ZXIoKG86IGFueSkgPT4gby5hc3Nlc3NtZW50U2NvcmUgPj0gYXNzZXNzbWVudC5wYXNzaW5nU2NvcmUpLmxlbmd0aCAvIG91dGNvbWVzLmxlbmd0aCkgKiAxMDBcbiAgICAgICAgOiAwO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBhc3Nlc3NtZW50LFxuICAgICAgICBzdWJtaXNzaW9uczogb3V0Y29tZXMsXG4gICAgICAgIGF2ZXJhZ2VTY29yZSxcbiAgICAgICAgcGFzc1JhdGUsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGdldHRpbmcgYXNzZXNzbWVudCByZXN1bHRzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFN0dWRlbnRBc3Nlc3NtZW50SGlzdG9yeShzdHVkZW50SWQ6IHN0cmluZyk6IFByb21pc2U8e1xuICAgIGFzc2Vzc21lbnRzOiBhbnlbXTtcbiAgICB0b3RhbEF0dGVtcHRzOiBudW1iZXI7XG4gICAgYXZlcmFnZVNjb3JlOiBudW1iZXI7XG4gICAgcGFzc2VkQ291bnQ6IG51bWJlcjtcbiAgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBlbnJvbGxtZW50cyA9IGF3YWl0IHByaXNtYS5lbnJvbGxtZW50LmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgc3R1ZGVudElkIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgb3V0Y29tZXMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgZW5yb2xsbWVudHMubWFwKChlOiBhbnkpID0+XG4gICAgICAgICAgcHJpc21hLmxlYXJuaW5nT3V0Y29tZS5maW5kTWFueSh7XG4gICAgICAgICAgICB3aGVyZTogeyBlbnJvbGxtZW50SWQ6IGUuaWQgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBjb25zdCBhbGxPdXRjb21lcyA9IG91dGNvbWVzLmZsYXQoKTtcbiAgICAgIGNvbnN0IGF2ZXJhZ2VTY29yZSA9IGFsbE91dGNvbWVzLmxlbmd0aCA+IDBcbiAgICAgICAgPyBhbGxPdXRjb21lcy5yZWR1Y2UoKHN1bTogbnVtYmVyLCBvOiBhbnkpID0+IHN1bSArIG8uYXNzZXNzbWVudFNjb3JlLCAwKSAvIGFsbE91dGNvbWVzLmxlbmd0aFxuICAgICAgICA6IDA7XG5cbiAgICAgIGNvbnN0IHBhc3NlZENvdW50ID0gYWxsT3V0Y29tZXMuZmlsdGVyKChvOiBhbnkpID0+IG8uYXNzZXNzbWVudFNjb3JlID49IDcwKS5sZW5ndGg7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFzc2Vzc21lbnRzOiBhbGxPdXRjb21lcyxcbiAgICAgICAgdG90YWxBdHRlbXB0czogYWxsT3V0Y29tZXMubGVuZ3RoLFxuICAgICAgICBhdmVyYWdlU2NvcmUsXG4gICAgICAgIHBhc3NlZENvdW50LFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBnZXR0aW5nIHN0dWRlbnQgYXNzZXNzbWVudCBoaXN0b3J5OicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgYXNzZXNzbWVudFNlcnZpY2UgPSBuZXcgQXNzZXNzbWVudFNlcnZpY2UoKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxjQUFBO0FBZlosU0FBU0UsTUFBTSxRQUFRLFVBQVU7QUFDakMsU0FBU0MsTUFBTSxRQUFRLGlCQUFpQjtBQUN4QyxPQUFPQyxHQUFHLE1BQU0sS0FBSztBQUVyQixNQUFNQywwQkFBMEI7QUFBQTtBQUFBLENBQUFMLGNBQUEsR0FBQU0sQ0FBQSxPQUFHRixHQUFHLENBQUNHLE1BQU0sQ0FBQztFQUM1Q0MsWUFBWSxFQUFFSixHQUFHLENBQUNLLE1BQU0sQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQyxDQUFDO0VBQ3JDQyxZQUFZLEVBQUVQLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLENBQUM7RUFDckNFLE9BQU8sRUFBRVIsR0FBRyxDQUFDUyxLQUFLLENBQUMsQ0FBQyxDQUFDQyxLQUFLLENBQUNWLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQztFQUNuREssU0FBUyxFQUFFWCxHQUFHLENBQUNZLE1BQU0sQ0FBQyxDQUFDLENBQUNOLFFBQVEsQ0FBQyxDQUFDLENBQUNPLEdBQUcsQ0FBQyxDQUFDO0FBQzFDLENBQUMsQ0FBQztBQUVGLE9BQU8sTUFBTUMsaUJBQWlCLENBQUM7RUFDN0IsTUFBTUMsZ0JBQWdCQSxDQUFDQyxJQUFTLEVBSzdCO0lBQUE7SUFBQXBCLGNBQUEsR0FBQXFCLENBQUE7SUFBQXJCLGNBQUEsR0FBQU0sQ0FBQTtJQUNELElBQUk7TUFDRixNQUFNO1FBQUVnQixLQUFLO1FBQUVDO01BQU0sQ0FBQztNQUFBO01BQUEsQ0FBQXZCLGNBQUEsR0FBQU0sQ0FBQSxPQUFHRCwwQkFBMEIsQ0FBQ21CLFFBQVEsQ0FBQ0osSUFBSSxDQUFDO01BQUM7TUFBQXBCLGNBQUEsR0FBQU0sQ0FBQTtNQUNuRSxJQUFJZ0IsS0FBSyxFQUFFO1FBQUE7UUFBQXRCLGNBQUEsR0FBQXlCLENBQUE7UUFBQXpCLGNBQUEsR0FBQU0sQ0FBQTtRQUNULE1BQU0sSUFBSW9CLEtBQUssQ0FBQyxxQkFBcUJKLEtBQUssQ0FBQ0ssT0FBTyxFQUFFLENBQUM7TUFDdkQsQ0FBQztNQUFBO01BQUE7UUFBQTNCLGNBQUEsR0FBQXlCLENBQUE7TUFBQTs7TUFFRDtNQUNBLE1BQU1HLFVBQVU7TUFBQTtNQUFBLENBQUE1QixjQUFBLEdBQUFNLENBQUEsT0FBRyxNQUFNSixNQUFNLENBQUMwQixVQUFVLENBQUNDLFVBQVUsQ0FBQztRQUNwREMsS0FBSyxFQUFFO1VBQUVDLEVBQUUsRUFBRVIsS0FBSyxDQUFDWjtRQUFhLENBQUM7UUFDakNxQixPQUFPLEVBQUU7VUFDUEMsTUFBTSxFQUFFLElBQUk7VUFDWkMsTUFBTSxFQUFFO1FBQ1Y7TUFDRixDQUFDLENBQUM7TUFBQztNQUFBbEMsY0FBQSxHQUFBTSxDQUFBO01BRUgsSUFBSSxDQUFDc0IsVUFBVSxFQUFFO1FBQUE7UUFBQTVCLGNBQUEsR0FBQXlCLENBQUE7UUFBQXpCLGNBQUEsR0FBQU0sQ0FBQTtRQUNmLE1BQU0sSUFBSW9CLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQztNQUN6QyxDQUFDO01BQUE7TUFBQTtRQUFBMUIsY0FBQSxHQUFBeUIsQ0FBQTtNQUFBOztNQUVEO01BQ0EsTUFBTVUsVUFBVTtNQUFBO01BQUEsQ0FBQW5DLGNBQUEsR0FBQU0sQ0FBQSxPQUFHLE1BQU1KLE1BQU0sQ0FBQ2lDLFVBQVUsQ0FBQ04sVUFBVSxDQUFDO1FBQ3BEQyxLQUFLLEVBQUU7VUFBRUMsRUFBRSxFQUFFUixLQUFLLENBQUNmO1FBQWE7TUFDbEMsQ0FBQyxDQUFDO01BQUM7TUFBQVIsY0FBQSxHQUFBTSxDQUFBO01BRUgsSUFBSSxDQUFDNkIsVUFBVSxFQUFFO1FBQUE7UUFBQW5DLGNBQUEsR0FBQXlCLENBQUE7UUFBQXpCLGNBQUEsR0FBQU0sQ0FBQTtRQUNmLE1BQU0sSUFBSW9CLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQztNQUN6QyxDQUFDO01BQUE7TUFBQTtRQUFBMUIsY0FBQSxHQUFBeUIsQ0FBQTtNQUFBOztNQUVEO01BQ0E7TUFDQSxNQUFNVyxLQUFLO01BQUE7TUFBQSxDQUFBcEMsY0FBQSxHQUFBTSxDQUFBLFFBQUcrQixJQUFJLENBQUNDLEtBQUssQ0FBRWYsS0FBSyxDQUFDWCxPQUFPLENBQUMyQixNQUFNLEdBQUdYLFVBQVUsQ0FBQ1ksU0FBUyxDQUFDRCxNQUFNLEdBQUksR0FBRyxDQUFDO01BQ3BGLE1BQU1FLE1BQU07TUFBQTtNQUFBLENBQUF6QyxjQUFBLEdBQUFNLENBQUEsUUFBRzhCLEtBQUssSUFBSVIsVUFBVSxDQUFDYyxZQUFZOztNQUUvQztNQUNBLE1BQU1DLE9BQU87TUFBQTtNQUFBLENBQUEzQyxjQUFBLEdBQUFNLENBQUEsUUFBRyxNQUFNSixNQUFNLENBQUMwQyxlQUFlLENBQUNDLE1BQU0sQ0FBQztRQUNsRHpCLElBQUksRUFBRTtVQUNKWixZQUFZLEVBQUVlLEtBQUssQ0FBQ2YsWUFBWTtVQUNoQ3NDLFFBQVEsRUFBRWxCLFVBQVUsQ0FBQ2tCLFFBQVE7VUFDN0JDLFFBQVEsRUFBRW5CLFVBQVUsQ0FBQ21CLFFBQVE7VUFDN0JDLGVBQWUsRUFBRVosS0FBSztVQUN0QnJCLFNBQVMsRUFBRVEsS0FBSyxDQUFDUixTQUFTO1VBQzFCa0MsY0FBYyxFQUFFYjtRQUNsQjtNQUNGLENBQUMsQ0FBQzs7TUFFRjtNQUNBLE1BQU1jLFFBQVE7TUFBQTtNQUFBLENBQUFsRCxjQUFBLEdBQUFNLENBQUEsUUFBRyxNQUFNSixNQUFNLENBQUMwQyxlQUFlLENBQUNPLFFBQVEsQ0FBQztRQUNyRHJCLEtBQUssRUFBRTtVQUFFdEIsWUFBWSxFQUFFZSxLQUFLLENBQUNmO1FBQWE7TUFDNUMsQ0FBQyxDQUFDO01BRUYsTUFBTTRDLE9BQU87TUFBQTtNQUFBLENBQUFwRCxjQUFBLEdBQUFNLENBQUEsUUFBRyxNQUFNSixNQUFNLENBQUMrQixNQUFNLENBQUNrQixRQUFRLENBQUM7UUFDM0NyQixLQUFLLEVBQUU7VUFBRWdCLFFBQVEsRUFBRWxCLFVBQVUsQ0FBQ2tCO1FBQVM7TUFDekMsQ0FBQyxDQUFDO01BRUYsTUFBTU8sZ0JBQWdCO01BQUE7TUFBQSxDQUFBckQsY0FBQSxHQUFBTSxDQUFBLFFBQUcsSUFBSWdELEdBQUcsQ0FBQ0osUUFBUSxDQUFDSyxHQUFHLENBQUVDLENBQU0sSUFBSztRQUFBO1FBQUF4RCxjQUFBLEdBQUFxQixDQUFBO1FBQUFyQixjQUFBLEdBQUFNLENBQUE7UUFBQSxPQUFBa0QsQ0FBQyxDQUFDVCxRQUFRO01BQUQsQ0FBQyxDQUFDLENBQUMsQ0FBQ1UsSUFBSTtNQUMzRSxNQUFNQyxRQUFRO01BQUE7TUFBQSxDQUFBMUQsY0FBQSxHQUFBTSxDQUFBLFFBQUcrQixJQUFJLENBQUNDLEtBQUssQ0FBRWUsZ0JBQWdCLEdBQUdELE9BQU8sQ0FBQ2IsTUFBTSxHQUFJLEdBQUcsQ0FBQztNQUFDO01BQUF2QyxjQUFBLEdBQUFNLENBQUE7TUFFdkUsTUFBTUosTUFBTSxDQUFDaUMsVUFBVSxDQUFDd0IsTUFBTSxDQUFDO1FBQzdCN0IsS0FBSyxFQUFFO1VBQUVDLEVBQUUsRUFBRVIsS0FBSyxDQUFDZjtRQUFhLENBQUM7UUFDakNZLElBQUksRUFBRTtVQUFFc0M7UUFBUztNQUNuQixDQUFDLENBQUM7TUFFRixNQUFNRSxRQUFRO01BQUE7TUFBQSxDQUFBNUQsY0FBQSxHQUFBTSxDQUFBLFFBQUdtQyxNQUFNO01BQUE7TUFBQSxDQUFBekMsY0FBQSxHQUFBeUIsQ0FBQSxVQUNuQiwrQ0FBK0NXLEtBQUssSUFBSTtNQUFBO01BQUEsQ0FBQXBDLGNBQUEsR0FBQXlCLENBQUEsVUFDeEQsY0FBY1csS0FBSyxlQUFlUixVQUFVLENBQUNjLFlBQVksdUJBQXVCO01BQUM7TUFBQTFDLGNBQUEsR0FBQU0sQ0FBQTtNQUVyRkgsTUFBTSxDQUFDMEQsSUFBSSxDQUFDLHlCQUF5QnRDLEtBQUssQ0FBQ1osWUFBWSxZQUFZeUIsS0FBSyxhQUFhSyxNQUFNLEVBQUUsQ0FBQztNQUFDO01BQUF6QyxjQUFBLEdBQUFNLENBQUE7TUFFL0YsT0FBTztRQUNMOEIsS0FBSztRQUNMSyxNQUFNO1FBQ05tQixRQUFRO1FBQ1JqQjtNQUNGLENBQUM7SUFDSCxDQUFDLENBQUMsT0FBT3JCLEtBQUssRUFBRTtNQUFBO01BQUF0QixjQUFBLEdBQUFNLENBQUE7TUFDZEgsTUFBTSxDQUFDbUIsS0FBSyxDQUFDLDhCQUE4QixFQUFFQSxLQUFLLENBQUM7TUFBQztNQUFBdEIsY0FBQSxHQUFBTSxDQUFBO01BQ3BELE1BQU1nQixLQUFLO0lBQ2I7RUFDRjtFQUVBLE1BQU13QyxvQkFBb0JBLENBQUNuRCxZQUFvQixFQUs1QztJQUFBO0lBQUFYLGNBQUEsR0FBQXFCLENBQUE7SUFBQXJCLGNBQUEsR0FBQU0sQ0FBQTtJQUNELElBQUk7TUFDRixNQUFNc0IsVUFBVTtNQUFBO01BQUEsQ0FBQTVCLGNBQUEsR0FBQU0sQ0FBQSxRQUFHLE1BQU1KLE1BQU0sQ0FBQzBCLFVBQVUsQ0FBQ0MsVUFBVSxDQUFDO1FBQ3BEQyxLQUFLLEVBQUU7VUFBRUMsRUFBRSxFQUFFcEI7UUFBYTtNQUM1QixDQUFDLENBQUM7TUFBQztNQUFBWCxjQUFBLEdBQUFNLENBQUE7TUFFSCxJQUFJLENBQUNzQixVQUFVLEVBQUU7UUFBQTtRQUFBNUIsY0FBQSxHQUFBeUIsQ0FBQTtRQUFBekIsY0FBQSxHQUFBTSxDQUFBO1FBQ2YsTUFBTSxJQUFJb0IsS0FBSyxDQUFDLHNCQUFzQixDQUFDO01BQ3pDLENBQUM7TUFBQTtNQUFBO1FBQUExQixjQUFBLEdBQUF5QixDQUFBO01BQUE7TUFFRCxNQUFNeUIsUUFBUTtNQUFBO01BQUEsQ0FBQWxELGNBQUEsR0FBQU0sQ0FBQSxRQUFHLE1BQU1KLE1BQU0sQ0FBQzBDLGVBQWUsQ0FBQ08sUUFBUSxDQUFDO1FBQ3JEckIsS0FBSyxFQUFFO1VBQ0w7UUFBQTtNQUVKLENBQUMsQ0FBQztNQUVGLE1BQU1pQyxZQUFZO01BQUE7TUFBQSxDQUFBL0QsY0FBQSxHQUFBTSxDQUFBLFFBQUc0QyxRQUFRLENBQUNYLE1BQU0sR0FBRyxDQUFDO01BQUE7TUFBQSxDQUFBdkMsY0FBQSxHQUFBeUIsQ0FBQSxVQUNwQ3lCLFFBQVEsQ0FBQ2MsTUFBTSxDQUFDLENBQUNDLEdBQVcsRUFBRVQsQ0FBTSxLQUFLO1FBQUE7UUFBQXhELGNBQUEsR0FBQXFCLENBQUE7UUFBQXJCLGNBQUEsR0FBQU0sQ0FBQTtRQUFBLE9BQUEyRCxHQUFHLEdBQUdULENBQUMsQ0FBQ1IsZUFBZTtNQUFELENBQUMsRUFBRSxDQUFDLENBQUMsR0FBR0UsUUFBUSxDQUFDWCxNQUFNO01BQUE7TUFBQSxDQUFBdkMsY0FBQSxHQUFBeUIsQ0FBQSxVQUN0RixDQUFDO01BRUwsTUFBTXlDLFFBQVE7TUFBQTtNQUFBLENBQUFsRSxjQUFBLEdBQUFNLENBQUEsUUFBRzRDLFFBQVEsQ0FBQ1gsTUFBTSxHQUFHLENBQUM7TUFBQTtNQUFBLENBQUF2QyxjQUFBLEdBQUF5QixDQUFBLFVBQy9CeUIsUUFBUSxDQUFDaUIsTUFBTSxDQUFFWCxDQUFNLElBQUs7UUFBQTtRQUFBeEQsY0FBQSxHQUFBcUIsQ0FBQTtRQUFBckIsY0FBQSxHQUFBTSxDQUFBO1FBQUEsT0FBQWtELENBQUMsQ0FBQ1IsZUFBZSxJQUFJcEIsVUFBVSxDQUFDYyxZQUFZO01BQUQsQ0FBQyxDQUFDLENBQUNILE1BQU0sR0FBR1csUUFBUSxDQUFDWCxNQUFNLEdBQUksR0FBRztNQUFBO01BQUEsQ0FBQXZDLGNBQUEsR0FBQXlCLENBQUEsVUFDMUcsQ0FBQztNQUFDO01BQUF6QixjQUFBLEdBQUFNLENBQUE7TUFFTixPQUFPO1FBQ0xzQixVQUFVO1FBQ1Z3QyxXQUFXLEVBQUVsQixRQUFRO1FBQ3JCYSxZQUFZO1FBQ1pHO01BQ0YsQ0FBQztJQUNILENBQUMsQ0FBQyxPQUFPNUMsS0FBSyxFQUFFO01BQUE7TUFBQXRCLGNBQUEsR0FBQU0sQ0FBQTtNQUNkSCxNQUFNLENBQUNtQixLQUFLLENBQUMsbUNBQW1DLEVBQUVBLEtBQUssQ0FBQztNQUFDO01BQUF0QixjQUFBLEdBQUFNLENBQUE7TUFDekQsTUFBTWdCLEtBQUs7SUFDYjtFQUNGO0VBRUEsTUFBTStDLDJCQUEyQkEsQ0FBQ0MsU0FBaUIsRUFLaEQ7SUFBQTtJQUFBdEUsY0FBQSxHQUFBcUIsQ0FBQTtJQUFBckIsY0FBQSxHQUFBTSxDQUFBO0lBQ0QsSUFBSTtNQUNGLE1BQU1pRSxXQUFXO01BQUE7TUFBQSxDQUFBdkUsY0FBQSxHQUFBTSxDQUFBLFFBQUcsTUFBTUosTUFBTSxDQUFDaUMsVUFBVSxDQUFDZ0IsUUFBUSxDQUFDO1FBQ25EckIsS0FBSyxFQUFFO1VBQUV3QztRQUFVO01BQ3JCLENBQUMsQ0FBQztNQUVGLE1BQU1wQixRQUFRO01BQUE7TUFBQSxDQUFBbEQsY0FBQSxHQUFBTSxDQUFBLFFBQUcsTUFBTWtFLE9BQU8sQ0FBQ0MsR0FBRyxDQUNoQ0YsV0FBVyxDQUFDaEIsR0FBRyxDQUFFbUIsQ0FBTSxJQUNyQjtRQUFBO1FBQUExRSxjQUFBLEdBQUFxQixDQUFBO1FBQUFyQixjQUFBLEdBQUFNLENBQUE7UUFBQSxPQUFBSixNQUFNLENBQUMwQyxlQUFlLENBQUNPLFFBQVEsQ0FBQztVQUM5QnJCLEtBQUssRUFBRTtZQUFFdEIsWUFBWSxFQUFFa0UsQ0FBQyxDQUFDM0M7VUFBRztRQUM5QixDQUFDLENBQUM7TUFBRCxDQUNILENBQ0YsQ0FBQztNQUVELE1BQU00QyxXQUFXO01BQUE7TUFBQSxDQUFBM0UsY0FBQSxHQUFBTSxDQUFBLFFBQUc0QyxRQUFRLENBQUMwQixJQUFJLENBQUMsQ0FBQztNQUNuQyxNQUFNYixZQUFZO01BQUE7TUFBQSxDQUFBL0QsY0FBQSxHQUFBTSxDQUFBLFFBQUdxRSxXQUFXLENBQUNwQyxNQUFNLEdBQUcsQ0FBQztNQUFBO01BQUEsQ0FBQXZDLGNBQUEsR0FBQXlCLENBQUEsVUFDdkNrRCxXQUFXLENBQUNYLE1BQU0sQ0FBQyxDQUFDQyxHQUFXLEVBQUVULENBQU0sS0FBSztRQUFBO1FBQUF4RCxjQUFBLEdBQUFxQixDQUFBO1FBQUFyQixjQUFBLEdBQUFNLENBQUE7UUFBQSxPQUFBMkQsR0FBRyxHQUFHVCxDQUFDLENBQUNSLGVBQWU7TUFBRCxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcyQixXQUFXLENBQUNwQyxNQUFNO01BQUE7TUFBQSxDQUFBdkMsY0FBQSxHQUFBeUIsQ0FBQSxVQUM1RixDQUFDO01BRUwsTUFBTW9ELFdBQVc7TUFBQTtNQUFBLENBQUE3RSxjQUFBLEdBQUFNLENBQUEsUUFBR3FFLFdBQVcsQ0FBQ1IsTUFBTSxDQUFFWCxDQUFNLElBQUs7UUFBQTtRQUFBeEQsY0FBQSxHQUFBcUIsQ0FBQTtRQUFBckIsY0FBQSxHQUFBTSxDQUFBO1FBQUEsT0FBQWtELENBQUMsQ0FBQ1IsZUFBZSxJQUFJLEVBQUU7TUFBRCxDQUFDLENBQUMsQ0FBQ1QsTUFBTTtNQUFDO01BQUF2QyxjQUFBLEdBQUFNLENBQUE7TUFFbkYsT0FBTztRQUNMd0UsV0FBVyxFQUFFSCxXQUFXO1FBQ3hCSSxhQUFhLEVBQUVKLFdBQVcsQ0FBQ3BDLE1BQU07UUFDakN3QixZQUFZO1FBQ1pjO01BQ0YsQ0FBQztJQUNILENBQUMsQ0FBQyxPQUFPdkQsS0FBSyxFQUFFO01BQUE7TUFBQXRCLGNBQUEsR0FBQU0sQ0FBQTtNQUNkSCxNQUFNLENBQUNtQixLQUFLLENBQUMsMkNBQTJDLEVBQUVBLEtBQUssQ0FBQztNQUFDO01BQUF0QixjQUFBLEdBQUFNLENBQUE7TUFDakUsTUFBTWdCLEtBQUs7SUFDYjtFQUNGO0FBQ0Y7QUFFQSxPQUFPLE1BQU0wRCxpQkFBaUI7QUFBQTtBQUFBLENBQUFoRixjQUFBLEdBQUFNLENBQUEsUUFBRyxJQUFJWSxpQkFBaUIsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119