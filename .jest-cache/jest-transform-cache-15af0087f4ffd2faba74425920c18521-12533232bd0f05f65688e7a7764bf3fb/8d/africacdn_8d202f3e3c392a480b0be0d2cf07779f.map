{"version":3,"names":["cov_lc6dr23b3","actualCoverage","EventEmitter","AfricaFirstCDN","nodes","s","Map","nodeRegions","constructor","f","initializeAfricaNodes","africaNodes","id","region","country","city","url","latency","capacity","health","lastHealthCheck","Date","forEach","node","set","has","b","get","push","emit","count","length","getOptimalNode","request","detectRegion","regionNodes","Array","from","values","healthyNodes","filter","sort","a","getAssetURL","path","checkNodeHealth","entries","startTime","now","nodeId","error","startHealthMonitoring","intervalMs","setInterval","getNetworkStatus","n","nodesByRegion","totalNodes","size","regions","keys","africaCDN"],"sources":["africa-cdn.ts"],"sourcesContent":["/*\nAZORA PROPRIETARY LICENSE\nCopyright Â© 2025 Azora ES (Pty) Ltd. All Rights Reserved.\n\nAFRICA-FIRST CDN NETWORK\nBranches stretching across Africa - Distributed content delivery\n*/\n\nimport { EventEmitter } from 'events';\n\nexport interface CDNNode {\n  id: string;\n  region: string;\n  country: string;\n  city: string;\n  url: string;\n  latency: number;\n  capacity: number;\n  health: 'healthy' | 'degraded' | 'down';\n  lastHealthCheck: Date;\n}\n\nexport interface CDNRequest {\n  path: string;\n  region?: string;\n  priority?: 'high' | 'medium' | 'low';\n}\n\n/**\n * Africa-First CDN Network\n * Branches stretching across Africa\n */\nexport class AfricaFirstCDN extends EventEmitter {\n  private nodes: Map<string, CDNNode> = new Map();\n  private nodeRegions: Map<string, CDNNode[]> = new Map();\n\n  constructor() {\n    super();\n    this.initializeAfricaNodes();\n  }\n\n  /**\n   * Initialize CDN nodes across Africa\n   * Branches stretching across the continent\n   */\n  private initializeAfricaNodes(): void {\n    const africaNodes: CDNNode[] = [\n      // Southern Africa\n      {\n        id: 'jhb-za-01',\n        region: 'southern-africa',\n        country: 'South Africa',\n        city: 'Johannesburg',\n        url: 'https://cdn-jhb.azora.africa',\n        latency: 0,\n        capacity: 1000,\n        health: 'healthy',\n        lastHealthCheck: new Date(),\n      },\n      {\n        id: 'cpt-za-01',\n        region: 'southern-africa',\n        country: 'South Africa',\n        city: 'Cape Town',\n        url: 'https://cdn-cpt.azora.africa',\n        latency: 0,\n        capacity: 800,\n        health: 'healthy',\n        lastHealthCheck: new Date(),\n      },\n      // East Africa\n      {\n        id: 'nrb-ke-01',\n        region: 'east-africa',\n        country: 'Kenya',\n        city: 'Nairobi',\n        url: 'https://cdn-nrb.azora.africa',\n        latency: 0,\n        capacity: 600,\n        health: 'healthy',\n        lastHealthCheck: new Date(),\n      },\n      {\n        id: 'dar-tz-01',\n        region: 'east-africa',\n        country: 'Tanzania',\n        city: 'Dar es Salaam',\n        url: 'https://cdn-dar.azora.africa',\n        latency: 0,\n        capacity: 500,\n        health: 'healthy',\n        lastHealthCheck: new Date(),\n      },\n      // West Africa\n      {\n        id: 'lag-ng-01',\n        region: 'west-africa',\n        country: 'Nigeria',\n        city: 'Lagos',\n        url: 'https://cdn-lag.azora.africa',\n        latency: 0,\n        capacity: 900,\n        health: 'healthy',\n        lastHealthCheck: new Date(),\n      },\n      {\n        id: 'acc-gh-01',\n        region: 'west-africa',\n        country: 'Ghana',\n        city: 'Accra',\n        url: 'https://cdn-acc.azora.africa',\n        latency: 0,\n        capacity: 400,\n        health: 'healthy',\n        lastHealthCheck: new Date(),\n      },\n      // North Africa\n      {\n        id: 'cai-eg-01',\n        region: 'north-africa',\n        country: 'Egypt',\n        city: 'Cairo',\n        url: 'https://cdn-cai.azora.africa',\n        latency: 0,\n        capacity: 700,\n        health: 'healthy',\n        lastHealthCheck: new Date(),\n      },\n      // Central Africa\n      {\n        id: 'kin-cd-01',\n        region: 'central-africa',\n        country: 'DRC',\n        city: 'Kinshasa',\n        url: 'https://cdn-kin.azora.africa',\n        latency: 0,\n        capacity: 450,\n        health: 'healthy',\n        lastHealthCheck: new Date(),\n      },\n    ];\n\n    // Register all nodes\n    africaNodes.forEach(node => {\n      this.nodes.set(node.id, node);\n      if (!this.nodeRegions.has(node.region)) {\n        this.nodeRegions.set(node.region, []);\n      }\n      this.nodeRegions.get(node.region)!.push(node);\n    });\n\n    this.emit('nodes-initialized', { count: africaNodes.length });\n  }\n\n  /**\n   * Get optimal CDN node for request\n   * Routes to nearest healthy branch\n   */\n  getOptimalNode(request: CDNRequest): CDNNode | null {\n    const region = request.region || this.detectRegion();\n    const regionNodes = this.nodeRegions.get(region) || Array.from(this.nodes.values());\n\n    // Filter healthy nodes and sort by latency\n    const healthyNodes = regionNodes\n      .filter(node => node.health === 'healthy')\n      .sort((a, b) => a.latency - b.latency);\n\n    return healthyNodes[0] || null;\n  }\n\n  /**\n   * Detect user region (simplified - in production, use geo-IP)\n   */\n  private detectRegion(): string {\n    // TODO: Implement geo-IP detection\n    return 'southern-africa'; // Default\n  }\n\n  /**\n   * Get CDN URL for asset\n   */\n  getAssetURL(path: string, region?: string): string {\n    const node = this.getOptimalNode({ path, region });\n    if (!node) {\n      // Fallback to primary node\n      return `https://cdn.azora.africa${path}`;\n    }\n    return `${node.url}${path}`;\n  }\n\n  /**\n   * Health check all nodes\n   */\n  async checkNodeHealth(): Promise<void> {\n    for (const [id, node] of this.nodes.entries()) {\n      try {\n        const startTime = Date.now();\n        // TODO: Implement actual health check\n        const latency = Date.now() - startTime;\n        \n        node.latency = latency;\n        node.lastHealthCheck = new Date();\n        node.health = latency < 100 ? 'healthy' : latency < 500 ? 'degraded' : 'down';\n        \n        this.emit('node-health-updated', { nodeId: id, health: node.health });\n      } catch (error) {\n        node.health = 'down';\n        node.lastHealthCheck = new Date();\n        this.emit('node-health-error', { nodeId: id, error });\n      }\n    }\n  }\n\n  /**\n   * Start health monitoring\n   */\n  startHealthMonitoring(intervalMs: number = 60000): void {\n    setInterval(() => {\n      this.checkNodeHealth();\n    }, intervalMs);\n    \n    // Initial check\n    this.checkNodeHealth();\n  }\n\n  /**\n   * Get network status\n   */\n  getNetworkStatus(): {\n    totalNodes: number;\n    healthyNodes: number;\n    regions: string[];\n    nodesByRegion: Record<string, number>;\n  } {\n    const healthyNodes = Array.from(this.nodes.values()).filter(n => n.health === 'healthy');\n    const nodesByRegion: Record<string, number> = {};\n    \n    this.nodeRegions.forEach((nodes, region) => {\n      nodesByRegion[region] = nodes.filter(n => n.health === 'healthy').length;\n    });\n\n    return {\n      totalNodes: this.nodes.size,\n      healthyNodes: healthyNodes.length,\n      regions: Array.from(this.nodeRegions.keys()),\n      nodesByRegion,\n    };\n  }\n}\n\n// Export singleton\nexport const africaCDN = new AfricaFirstCDN();\n\n// Start health monitoring\nafricaCDN.startHealthMonitoring();\n\nexport default AfricaFirstCDN;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,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","ignoreList":[]}