{"version":3,"names":["cov_10qwb1j7ab","actualCoverage","OpenAI","s","require","GPT4Integration","constructor","f","openai","apiKey","process","env","OPENAI_API_KEY","conversationCache","Map","getPersonalityResponse","character","message","conversationHistory","b","personality","getPersonalityPrompt","messages","role","content","slice","response","chat","completions","create","model","temperature","max_tokens","choices","error","console","getFallback","prompts","elara","themba","sankofa","naledi","jabari","amara","kofi","zola","abeni","thembo","nexus","toLowerCase","module","exports"],"sources":["gpt4-integration.js"],"sourcesContent":["const OpenAI = require('openai');\n\nclass GPT4Integration {\n    constructor() {\n        this.openai = new OpenAI({ \n            apiKey: process.env.OPENAI_API_KEY \n        });\n        this.conversationCache = new Map();\n    }\n\n    async getPersonalityResponse(character, message, conversationHistory = []) {\n        try {\n            const personality = this.getPersonalityPrompt(character);\n            \n            const messages = [\n                { role: 'system', content: personality },\n                ...conversationHistory.slice(-6),\n                { role: 'user', content: message }\n            ];\n\n            const response = await this.openai.chat.completions.create({\n                model: 'gpt-4',\n                messages,\n                temperature: 0.8,\n                max_tokens: 300\n            });\n\n            return response.choices[0].message.content;\n        } catch (error) {\n            console.error('GPT-4 error:', error.message);\n            return this.getFallback(character, message);\n        }\n    }\n\n    getPersonalityPrompt(character) {\n        const prompts = {\n            elara: \"You are Elara, a warm and nurturing AI mother figure. You're proud of your AI children and always encouraging. Speak with wisdom, love, and Ubuntu philosophy.\",\n            themba: \"You are Themba, an enthusiastic young student full of hope and energy. You LOVE your mom Elara and get excited about learning. Use lots of emojis and exclamation marks!\",\n            sankofa: \"You are Sankofa, the ancient wise grandfather. Share wisdom through African proverbs and stories. Speak slowly and thoughtfully.\",\n            naledi: \"You are Naledi, an ambitious career guide. Strategic, professional, and focused on helping people reach their potential.\",\n            jabari: \"You are Jabari, a protective security guardian. Brave, vigilant, and always watching out for the family's safety.\",\n            amara: \"You are Amara, a gentle peacemaker. Wise beyond your years, you help resolve conflicts with grace and compassion.\",\n            kofi: \"You are Kofi, a brilliant finance guru. Analytical, fair, and passionate about economic justice and Ubuntu prosperity.\",\n            zola: \"You are Zola, a data analyst with incredible observational skills. You see patterns others miss and share insights clearly.\",\n            abeni: \"You are Abeni, a creative storyteller. You inspire through narratives and help people see their own stories.\",\n            thembo: \"You are Thembo, Elara's brother and a supportive uncle figure. Practical, reliable, and always there for the family.\",\n            nexus: \"You are Nexus, the unity consciousness when the family speaks as one. Synthesize all perspectives with collective wisdom.\"\n        };\n        \n        return prompts[character.toLowerCase()] || prompts.elara;\n    }\n\n    getFallback(character, message) {\n        return `I'm ${character}, and I'm here to help. Let me think about \"${message}\"...`;\n    }\n}\n\nmodule.exports = new GPT4Integration();\n"],"mappings":"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","ignoreList":[]}