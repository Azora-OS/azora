{"version":3,"names":["cov_h4xpca1nc","actualCoverage","OpenAI","openai","s","apiKey","process","env","OPENAI_API_KEY","getTutorResponse","question","context","f","systemPrompt","subject","level","messages","role","content","history","response","chat","completions","create","model","temperature","max_tokens","choices","message","generateLearningPath","currentLevel","goals","prompt","join","JSON","parse","b"],"sources":["ai-tutor-openai.ts"],"sourcesContent":["import OpenAI from 'openai';\n\nconst openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });\n\ninterface TutorContext {\n  studentId: string;\n  subject: string;\n  level: string;\n  history: Array<{ role: string; content: string }>;\n}\n\nexport async function getTutorResponse(question: string, context: TutorContext) {\n  const systemPrompt = `You are Elara, an AI tutor for Azora OS. You teach ${context.subject} at ${context.level} level.\nBe encouraging, clear, and use the Ubuntu philosophy: \"I am because we are.\"\nBreak down complex topics into simple steps.`;\n\n  const messages = [\n    { role: 'system', content: systemPrompt },\n    ...context.history,\n    { role: 'user', content: question },\n  ];\n\n  const response = await openai.chat.completions.create({\n    model: 'gpt-4',\n    messages: messages as any,\n    temperature: 0.7,\n    max_tokens: 500,\n  });\n\n  return response.choices[0].message.content;\n}\n\nexport async function generateLearningPath(subject: string, currentLevel: string, goals: string[]) {\n  const prompt = `Create a learning path for ${subject} at ${currentLevel} level.\nGoals: ${goals.join(', ')}\nReturn a structured JSON with: modules, topics, estimated_hours, prerequisites.`;\n\n  const response = await openai.chat.completions.create({\n    model: 'gpt-4',\n    messages: [{ role: 'user', content: prompt }],\n    temperature: 0.5,\n  });\n\n  return JSON.parse(response.choices[0].message.content || '{}');\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAfZ,OAAOE,MAAM,MAAM,QAAQ;AAE3B,MAAMC,MAAM;AAAA;AAAA,CAAAH,aAAA,GAAAI,CAAA,OAAG,IAAIF,MAAM,CAAC;EAAEG,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC;AAAe,CAAC,CAAC;AASjE,OAAO,eAAeC,gBAAgBA,CAACC,QAAgB,EAAEC,OAAqB,EAAE;EAAA;EAAAX,aAAA,GAAAY,CAAA;EAC9E,MAAMC,YAAY;EAAA;EAAA,CAAAb,aAAA,GAAAI,CAAA,OAAG,sDAAsDO,OAAO,CAACG,OAAO,OAAOH,OAAO,CAACI,KAAK;AAChH;AACA,6CAA6C;EAE3C,MAAMC,QAAQ;EAAA;EAAA,CAAAhB,aAAA,GAAAI,CAAA,OAAG,CACf;IAAEa,IAAI,EAAE,QAAQ;IAAEC,OAAO,EAAEL;EAAa,CAAC,EACzC,GAAGF,OAAO,CAACQ,OAAO,EAClB;IAAEF,IAAI,EAAE,MAAM;IAAEC,OAAO,EAAER;EAAS,CAAC,CACpC;EAED,MAAMU,QAAQ;EAAA;EAAA,CAAApB,aAAA,GAAAI,CAAA,OAAG,MAAMD,MAAM,CAACkB,IAAI,CAACC,WAAW,CAACC,MAAM,CAAC;IACpDC,KAAK,EAAE,OAAO;IACdR,QAAQ,EAAEA,QAAe;IACzBS,WAAW,EAAE,GAAG;IAChBC,UAAU,EAAE;EACd,CAAC,CAAC;EAAC;EAAA1B,aAAA,GAAAI,CAAA;EAEH,OAAOgB,QAAQ,CAACO,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACV,OAAO;AAC5C;AAEA,OAAO,eAAeW,oBAAoBA,CAACf,OAAe,EAAEgB,YAAoB,EAAEC,KAAe,EAAE;EAAA;EAAA/B,aAAA,GAAAY,CAAA;EACjG,MAAMoB,MAAM;EAAA;EAAA,CAAAhC,aAAA,GAAAI,CAAA,OAAG,8BAA8BU,OAAO,OAAOgB,YAAY;AACzE,SAASC,KAAK,CAACE,IAAI,CAAC,IAAI,CAAC;AACzB,gFAAgF;EAE9E,MAAMb,QAAQ;EAAA;EAAA,CAAApB,aAAA,GAAAI,CAAA,OAAG,MAAMD,MAAM,CAACkB,IAAI,CAACC,WAAW,CAACC,MAAM,CAAC;IACpDC,KAAK,EAAE,OAAO;IACdR,QAAQ,EAAE,CAAC;MAAEC,IAAI,EAAE,MAAM;MAAEC,OAAO,EAAEc;IAAO,CAAC,CAAC;IAC7CP,WAAW,EAAE;EACf,CAAC,CAAC;EAAC;EAAAzB,aAAA,GAAAI,CAAA;EAEH,OAAO8B,IAAI,CAACC,KAAK;EAAC;EAAA,CAAAnC,aAAA,GAAAoC,CAAA,UAAAhB,QAAQ,CAACO,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACV,OAAO;EAAA;EAAA,CAAAlB,aAAA,GAAAoC,CAAA,UAAI,IAAI,EAAC;AAChE","ignoreList":[]}