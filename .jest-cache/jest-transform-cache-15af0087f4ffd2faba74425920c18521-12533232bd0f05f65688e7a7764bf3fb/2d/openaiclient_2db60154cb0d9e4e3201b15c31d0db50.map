{"version":3,"names":["cov_1l6an078i1","actualCoverage","OpenAI","openai","s","apiKey","process","env","OPENAI_API_KEY","sendMessage","messages","options","f","response","chat","completions","create","model","b","temperature","max_tokens","maxTokens","content","choices","message","tokens","prompt","usage","prompt_tokens","completion","completion_tokens","total","total_tokens","generateLearningPath","studentName","goal","currentLevel","interests","join","role","generateAssessmentQuestions","topic","level","count","split","filter","q","trim","analyzePerformance","scores","completedTopics","JSON","stringify","generateTutoringResponse","studentQuestion","context","generateJobRecommendations","skills","experience","generateCourseContent","courseTitle","duration","targetAudience"],"sources":["openai-client.ts"],"sourcesContent":["/**\n * OpenAI Client Wrapper\n * Centralized GPT-4 integration for Azora Sapiens\n */\n\nimport OpenAI from 'openai';\n\nconst openai = new OpenAI({\n  apiKey: process.env.OPENAI_API_KEY,\n});\n\nexport interface AIMessage {\n  role: 'user' | 'assistant' | 'system';\n  content: string;\n}\n\nexport interface AIResponse {\n  content: string;\n  tokens: {\n    prompt: number;\n    completion: number;\n    total: number;\n  };\n  model: string;\n}\n\n/**\n * Send a message to GPT-4 and get a response\n */\nexport async function sendMessage(\n  messages: AIMessage[],\n  options?: {\n    temperature?: number;\n    maxTokens?: number;\n    model?: string;\n  }\n): Promise<AIResponse> {\n  const response = await openai.chat.completions.create({\n    model: options?.model || 'gpt-4',\n    messages,\n    temperature: options?.temperature || 0.7,\n    max_tokens: options?.maxTokens || 2000,\n  });\n\n  const content = response.choices[0]?.message?.content || '';\n\n  return {\n    content,\n    tokens: {\n      prompt: response.usage?.prompt_tokens || 0,\n      completion: response.usage?.completion_tokens || 0,\n      total: response.usage?.total_tokens || 0,\n    },\n    model: response.model,\n  };\n}\n\n/**\n * Generate a learning path for a student\n */\nexport async function generateLearningPath(\n  studentName: string,\n  goal: string,\n  currentLevel: string,\n  interests: string[]\n): Promise<string> {\n  const prompt = `\nYou are an expert educational advisor. Create a personalized learning path for:\n- Student: ${studentName}\n- Goal: ${goal}\n- Current Level: ${currentLevel}\n- Interests: ${interests.join(', ')}\n\nProvide a structured learning path with:\n1. Week-by-week breakdown\n2. Key topics to cover\n3. Recommended resources\n4. Milestones and checkpoints\n5. Estimated time commitment\n\nFormat as a clear, actionable plan.\n  `;\n\n  const response = await sendMessage([\n    {\n      role: 'system',\n      content: 'You are an expert educational advisor creating personalized learning paths.',\n    },\n    {\n      role: 'user',\n      content: prompt,\n    },\n  ]);\n\n  return response.content;\n}\n\n/**\n * Generate assessment questions\n */\nexport async function generateAssessmentQuestions(\n  topic: string,\n  level: 'beginner' | 'intermediate' | 'advanced',\n  count: number = 5\n): Promise<string[]> {\n  const prompt = `\nGenerate ${count} ${level} level assessment questions about \"${topic}\".\n\nFormat each question on a new line, numbered 1-${count}.\nInclude multiple choice options (A, B, C, D) for each question.\n  `;\n\n  const response = await sendMessage([\n    {\n      role: 'system',\n      content: 'You are an expert educator creating assessment questions.',\n    },\n    {\n      role: 'user',\n      content: prompt,\n    },\n  ]);\n\n  return response.content.split('\\n').filter((q) => q.trim());\n}\n\n/**\n * Analyze student performance\n */\nexport async function analyzePerformance(\n  studentName: string,\n  scores: Record<string, number>,\n  completedTopics: string[]\n): Promise<string> {\n  const prompt = `\nAnalyze the performance of student ${studentName}:\n- Scores: ${JSON.stringify(scores)}\n- Completed Topics: ${completedTopics.join(', ')}\n\nProvide:\n1. Strengths and weaknesses\n2. Recommended focus areas\n3. Personalized improvement suggestions\n4. Next steps for learning\n  `;\n\n  const response = await sendMessage([\n    {\n      role: 'system',\n      content: 'You are an expert educational analyst providing personalized feedback.',\n    },\n    {\n      role: 'user',\n      content: prompt,\n    },\n  ]);\n\n  return response.content;\n}\n\n/**\n * Generate tutoring response\n */\nexport async function generateTutoringResponse(\n  studentQuestion: string,\n  topic: string,\n  context: string\n): Promise<string> {\n  const prompt = `\nA student asked: \"${studentQuestion}\"\n\nTopic: ${topic}\nContext: ${context}\n\nProvide a helpful, educational response that:\n1. Answers the question clearly\n2. Explains the concept\n3. Provides an example\n4. Suggests follow-up learning\n  `;\n\n  const response = await sendMessage([\n    {\n      role: 'system',\n      content: 'You are an expert tutor providing clear, helpful explanations.',\n    },\n    {\n      role: 'user',\n      content: prompt,\n    },\n  ]);\n\n  return response.content;\n}\n\n/**\n * Generate job recommendations\n */\nexport async function generateJobRecommendations(\n  skills: string[],\n  experience: string,\n  interests: string[]\n): Promise<string> {\n  const prompt = `\nGenerate job recommendations for someone with:\n- Skills: ${skills.join(', ')}\n- Experience: ${experience}\n- Interests: ${interests.join(', ')}\n\nProvide:\n1. Top 5 job roles\n2. Why each role is a good fit\n3. Skills to develop\n4. Career path suggestions\n  `;\n\n  const response = await sendMessage([\n    {\n      role: 'system',\n      content: 'You are an expert career advisor providing personalized recommendations.',\n    },\n    {\n      role: 'user',\n      content: prompt,\n    },\n  ]);\n\n  return response.content;\n}\n\n/**\n * Generate course content\n */\nexport async function generateCourseContent(\n  courseTitle: string,\n  duration: string,\n  targetAudience: string\n): Promise<string> {\n  const prompt = `\nCreate course content for:\n- Title: ${courseTitle}\n- Duration: ${duration}\n- Target Audience: ${targetAudience}\n\nProvide:\n1. Course outline (modules and lessons)\n2. Learning objectives\n3. Key topics\n4. Assessment methods\n5. Resources needed\n  `;\n\n  const response = await sendMessage([\n    {\n      role: 'system',\n      content: 'You are an expert instructional designer creating comprehensive course content.',\n    },\n    {\n      role: 'user',\n      content: prompt,\n    },\n  ]);\n\n  return response.content;\n}\n\nexport default {\n  sendMessage,\n  generateLearningPath,\n  generateAssessmentQuestions,\n  analyzePerformance,\n  generateTutoringResponse,\n  generateJobRecommendations,\n  generateCourseContent,\n};\n"],"mappings":"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","ignoreList":[]}