ca2faa0ed8fe1b39a5a8608284eda045
/* istanbul ignore next */
function cov_k7iqs99c2() {
  var path = "/workspaces/azora/services/elara-onboarding/src/services/notification.service.ts";
  var hash = "e58a708e2ad334f31bf27b54230c9b659035520f";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/elara-onboarding/src/services/notification.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 31,
          column: 58
        },
        end: {
          line: 31,
          column: 67
        }
      },
      "1": {
        start: {
          line: 33,
          column: 69
        },
        end: {
          line: 79,
          column: 3
        }
      },
      "2": {
        start: {
          line: 82,
          column: 4
        },
        end: {
          line: 82,
          column: 57
        }
      },
      "3": {
        start: {
          line: 89,
          column: 4
        },
        end: {
          line: 103,
          column: 5
        }
      },
      "4": {
        start: {
          line: 90,
          column: 6
        },
        end: {
          line: 90,
          column: 61
        }
      },
      "5": {
        start: {
          line: 92,
          column: 27
        },
        end: {
          line: 97,
          column: 7
        }
      },
      "6": {
        start: {
          line: 99,
          column: 6
        },
        end: {
          line: 99,
          column: 26
        }
      },
      "7": {
        start: {
          line: 101,
          column: 6
        },
        end: {
          line: 101,
          column: 63
        }
      },
      "8": {
        start: {
          line: 102,
          column: 6
        },
        end: {
          line: 102,
          column: 18
        }
      },
      "9": {
        start: {
          line: 110,
          column: 4
        },
        end: {
          line: 124,
          column: 5
        }
      },
      "10": {
        start: {
          line: 111,
          column: 6
        },
        end: {
          line: 111,
          column: 62
        }
      },
      "11": {
        start: {
          line: 113,
          column: 27
        },
        end: {
          line: 118,
          column: 7
        }
      },
      "12": {
        start: {
          line: 120,
          column: 6
        },
        end: {
          line: 120,
          column: 26
        }
      },
      "13": {
        start: {
          line: 122,
          column: 6
        },
        end: {
          line: 122,
          column: 64
        }
      },
      "14": {
        start: {
          line: 123,
          column: 6
        },
        end: {
          line: 123,
          column: 18
        }
      },
      "15": {
        start: {
          line: 131,
          column: 4
        },
        end: {
          line: 145,
          column: 5
        }
      },
      "16": {
        start: {
          line: 132,
          column: 6
        },
        end: {
          line: 132,
          column: 60
        }
      },
      "17": {
        start: {
          line: 134,
          column: 27
        },
        end: {
          line: 139,
          column: 7
        }
      },
      "18": {
        start: {
          line: 141,
          column: 6
        },
        end: {
          line: 141,
          column: 26
        }
      },
      "19": {
        start: {
          line: 143,
          column: 6
        },
        end: {
          line: 143,
          column: 62
        }
      },
      "20": {
        start: {
          line: 144,
          column: 6
        },
        end: {
          line: 144,
          column: 18
        }
      },
      "21": {
        start: {
          line: 152,
          column: 4
        },
        end: {
          line: 166,
          column: 5
        }
      },
      "22": {
        start: {
          line: 153,
          column: 6
        },
        end: {
          line: 153,
          column: 69
        }
      },
      "23": {
        start: {
          line: 155,
          column: 27
        },
        end: {
          line: 160,
          column: 7
        }
      },
      "24": {
        start: {
          line: 162,
          column: 6
        },
        end: {
          line: 162,
          column: 26
        }
      },
      "25": {
        start: {
          line: 164,
          column: 6
        },
        end: {
          line: 164,
          column: 71
        }
      },
      "26": {
        start: {
          line: 165,
          column: 6
        },
        end: {
          line: 165,
          column: 18
        }
      },
      "27": {
        start: {
          line: 173,
          column: 4
        },
        end: {
          line: 187,
          column: 5
        }
      },
      "28": {
        start: {
          line: 174,
          column: 6
        },
        end: {
          line: 174,
          column: 64
        }
      },
      "29": {
        start: {
          line: 176,
          column: 27
        },
        end: {
          line: 181,
          column: 7
        }
      },
      "30": {
        start: {
          line: 183,
          column: 6
        },
        end: {
          line: 183,
          column: 26
        }
      },
      "31": {
        start: {
          line: 185,
          column: 6
        },
        end: {
          line: 185,
          column: 66
        }
      },
      "32": {
        start: {
          line: 186,
          column: 6
        },
        end: {
          line: 186,
          column: 18
        }
      },
      "33": {
        start: {
          line: 194,
          column: 4
        },
        end: {
          line: 208,
          column: 5
        }
      },
      "34": {
        start: {
          line: 195,
          column: 6
        },
        end: {
          line: 195,
          column: 66
        }
      },
      "35": {
        start: {
          line: 197,
          column: 27
        },
        end: {
          line: 202,
          column: 7
        }
      },
      "36": {
        start: {
          line: 204,
          column: 6
        },
        end: {
          line: 204,
          column: 26
        }
      },
      "37": {
        start: {
          line: 206,
          column: 6
        },
        end: {
          line: 206,
          column: 68
        }
      },
      "38": {
        start: {
          line: 207,
          column: 6
        },
        end: {
          line: 207,
          column: 18
        }
      },
      "39": {
        start: {
          line: 215,
          column: 4
        },
        end: {
          line: 229,
          column: 5
        }
      },
      "40": {
        start: {
          line: 216,
          column: 6
        },
        end: {
          line: 216,
          column: 68
        }
      },
      "41": {
        start: {
          line: 218,
          column: 27
        },
        end: {
          line: 223,
          column: 7
        }
      },
      "42": {
        start: {
          line: 225,
          column: 6
        },
        end: {
          line: 225,
          column: 26
        }
      },
      "43": {
        start: {
          line: 227,
          column: 6
        },
        end: {
          line: 227,
          column: 70
        }
      },
      "44": {
        start: {
          line: 228,
          column: 6
        },
        end: {
          line: 228,
          column: 18
        }
      },
      "45": {
        start: {
          line: 236,
          column: 4
        },
        end: {
          line: 250,
          column: 5
        }
      },
      "46": {
        start: {
          line: 237,
          column: 6
        },
        end: {
          line: 237,
          column: 69
        }
      },
      "47": {
        start: {
          line: 239,
          column: 27
        },
        end: {
          line: 244,
          column: 7
        }
      },
      "48": {
        start: {
          line: 246,
          column: 6
        },
        end: {
          line: 246,
          column: 26
        }
      },
      "49": {
        start: {
          line: 248,
          column: 6
        },
        end: {
          line: 248,
          column: 71
        }
      },
      "50": {
        start: {
          line: 249,
          column: 6
        },
        end: {
          line: 249,
          column: 18
        }
      },
      "51": {
        start: {
          line: 257,
          column: 4
        },
        end: {
          line: 263,
          column: 5
        }
      },
      "52": {
        start: {
          line: 258,
          column: 6
        },
        end: {
          line: 258,
          column: 66
        }
      },
      "53": {
        start: {
          line: 259,
          column: 6
        },
        end: {
          line: 259,
          column: 60
        }
      },
      "54": {
        start: {
          line: 261,
          column: 6
        },
        end: {
          line: 261,
          column: 62
        }
      },
      "55": {
        start: {
          line: 262,
          column: 6
        },
        end: {
          line: 262,
          column: 18
        }
      },
      "56": {
        start: {
          line: 270,
          column: 4
        },
        end: {
          line: 276,
          column: 5
        }
      },
      "57": {
        start: {
          line: 271,
          column: 6
        },
        end: {
          line: 271,
          column: 68
        }
      },
      "58": {
        start: {
          line: 272,
          column: 6
        },
        end: {
          line: 272,
          column: 86
        }
      },
      "59": {
        start: {
          line: 272,
          column: 65
        },
        end: {
          line: 272,
          column: 84
        }
      },
      "60": {
        start: {
          line: 274,
          column: 6
        },
        end: {
          line: 274,
          column: 68
        }
      },
      "61": {
        start: {
          line: 275,
          column: 6
        },
        end: {
          line: 275,
          column: 18
        }
      },
      "62": {
        start: {
          line: 283,
          column: 4
        },
        end: {
          line: 299,
          column: 5
        }
      },
      "63": {
        start: {
          line: 284,
          column: 6
        },
        end: {
          line: 284,
          column: 79
        }
      },
      "64": {
        start: {
          line: 286,
          column: 27
        },
        end: {
          line: 286,
          column: 65
        }
      },
      "65": {
        start: {
          line: 287,
          column: 6
        },
        end: {
          line: 289,
          column: 7
        }
      },
      "66": {
        start: {
          line: 288,
          column: 8
        },
        end: {
          line: 288,
          column: 69
        }
      },
      "67": {
        start: {
          line: 291,
          column: 6
        },
        end: {
          line: 291,
          column: 35
        }
      },
      "68": {
        start: {
          line: 292,
          column: 6
        },
        end: {
          line: 292,
          column: 44
        }
      },
      "69": {
        start: {
          line: 294,
          column: 6
        },
        end: {
          line: 294,
          column: 59
        }
      },
      "70": {
        start: {
          line: 295,
          column: 6
        },
        end: {
          line: 295,
          column: 26
        }
      },
      "71": {
        start: {
          line: 297,
          column: 6
        },
        end: {
          line: 297,
          column: 75
        }
      },
      "72": {
        start: {
          line: 298,
          column: 6
        },
        end: {
          line: 298,
          column: 18
        }
      },
      "73": {
        start: {
          line: 306,
          column: 4
        },
        end: {
          line: 322,
          column: 5
        }
      },
      "74": {
        start: {
          line: 307,
          column: 6
        },
        end: {
          line: 307,
          column: 76
        }
      },
      "75": {
        start: {
          line: 309,
          column: 27
        },
        end: {
          line: 309,
          column: 65
        }
      },
      "76": {
        start: {
          line: 310,
          column: 6
        },
        end: {
          line: 312,
          column: 7
        }
      },
      "77": {
        start: {
          line: 311,
          column: 8
        },
        end: {
          line: 311,
          column: 69
        }
      },
      "78": {
        start: {
          line: 314,
          column: 6
        },
        end: {
          line: 314,
          column: 37
        }
      },
      "79": {
        start: {
          line: 315,
          column: 6
        },
        end: {
          line: 315,
          column: 42
        }
      },
      "80": {
        start: {
          line: 317,
          column: 6
        },
        end: {
          line: 317,
          column: 59
        }
      },
      "81": {
        start: {
          line: 318,
          column: 6
        },
        end: {
          line: 318,
          column: 26
        }
      },
      "82": {
        start: {
          line: 320,
          column: 6
        },
        end: {
          line: 320,
          column: 72
        }
      },
      "83": {
        start: {
          line: 321,
          column: 6
        },
        end: {
          line: 321,
          column: 18
        }
      },
      "84": {
        start: {
          line: 333,
          column: 27
        },
        end: {
          line: 333,
          column: 58
        }
      },
      "85": {
        start: {
          line: 334,
          column: 21
        },
        end: {
          line: 334,
          column: 66
        }
      },
      "86": {
        start: {
          line: 336,
          column: 44
        },
        end: {
          line: 345,
          column: 5
        }
      },
      "87": {
        start: {
          line: 349,
          column: 24
        },
        end: {
          line: 349,
          column: 59
        }
      },
      "88": {
        start: {
          line: 351,
          column: 4
        },
        end: {
          line: 359,
          column: 5
        }
      },
      "89": {
        start: {
          line: 352,
          column: 6
        },
        end: {
          line: 352,
          column: 35
        }
      },
      "90": {
        start: {
          line: 353,
          column: 6
        },
        end: {
          line: 353,
          column: 39
        }
      },
      "91": {
        start: {
          line: 354,
          column: 6
        },
        end: {
          line: 354,
          column: 63
        }
      },
      "92": {
        start: {
          line: 356,
          column: 6
        },
        end: {
          line: 356,
          column: 37
        }
      },
      "93": {
        start: {
          line: 357,
          column: 6
        },
        end: {
          line: 357,
          column: 63
        }
      },
      "94": {
        start: {
          line: 358,
          column: 6
        },
        end: {
          line: 358,
          column: 60
        }
      },
      "95": {
        start: {
          line: 361,
          column: 4
        },
        end: {
          line: 361,
          column: 57
        }
      },
      "96": {
        start: {
          line: 362,
          column: 4
        },
        end: {
          line: 362,
          column: 24
        }
      },
      "97": {
        start: {
          line: 367,
          column: 4
        },
        end: {
          line: 367,
          column: 32
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 81,
            column: 2
          },
          end: {
            line: 81,
            column: 3
          }
        },
        loc: {
          start: {
            line: 81,
            column: 16
          },
          end: {
            line: 83,
            column: 3
          }
        },
        line: 81
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 88,
            column: 2
          },
          end: {
            line: 88,
            column: 3
          }
        },
        loc: {
          start: {
            line: 88,
            column: 98
          },
          end: {
            line: 104,
            column: 3
          }
        },
        line: 88
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 109,
            column: 2
          },
          end: {
            line: 109,
            column: 3
          }
        },
        loc: {
          start: {
            line: 109,
            column: 103
          },
          end: {
            line: 125,
            column: 3
          }
        },
        line: 109
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 130,
            column: 2
          },
          end: {
            line: 130,
            column: 3
          }
        },
        loc: {
          start: {
            line: 130,
            column: 99
          },
          end: {
            line: 146,
            column: 3
          }
        },
        line: 130
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 151,
            column: 2
          },
          end: {
            line: 151,
            column: 3
          }
        },
        loc: {
          start: {
            line: 151,
            column: 107
          },
          end: {
            line: 167,
            column: 3
          }
        },
        line: 151
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 172,
            column: 2
          },
          end: {
            line: 172,
            column: 3
          }
        },
        loc: {
          start: {
            line: 172,
            column: 101
          },
          end: {
            line: 188,
            column: 3
          }
        },
        line: 172
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 193,
            column: 2
          },
          end: {
            line: 193,
            column: 3
          }
        },
        loc: {
          start: {
            line: 193,
            column: 88
          },
          end: {
            line: 209,
            column: 3
          }
        },
        line: 193
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 214,
            column: 2
          },
          end: {
            line: 214,
            column: 3
          }
        },
        loc: {
          start: {
            line: 214,
            column: 90
          },
          end: {
            line: 230,
            column: 3
          }
        },
        line: 214
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 235,
            column: 2
          },
          end: {
            line: 235,
            column: 3
          }
        },
        loc: {
          start: {
            line: 235,
            column: 91
          },
          end: {
            line: 251,
            column: 3
          }
        },
        line: 235
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 256,
            column: 2
          },
          end: {
            line: 256,
            column: 3
          }
        },
        loc: {
          start: {
            line: 256,
            column: 83
          },
          end: {
            line: 264,
            column: 3
          }
        },
        line: 256
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 269,
            column: 2
          },
          end: {
            line: 269,
            column: 3
          }
        },
        loc: {
          start: {
            line: 269,
            column: 75
          },
          end: {
            line: 277,
            column: 3
          }
        },
        line: 269
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 272,
            column: 60
          },
          end: {
            line: 272,
            column: 61
          }
        },
        loc: {
          start: {
            line: 272,
            column: 65
          },
          end: {
            line: 272,
            column: 84
          }
        },
        line: 272
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 282,
            column: 2
          },
          end: {
            line: 282,
            column: 3
          }
        },
        loc: {
          start: {
            line: 282,
            column: 76
          },
          end: {
            line: 300,
            column: 3
          }
        },
        line: 282
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 305,
            column: 2
          },
          end: {
            line: 305,
            column: 3
          }
        },
        loc: {
          start: {
            line: 305,
            column: 89
          },
          end: {
            line: 323,
            column: 3
          }
        },
        line: 305
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 327,
            column: 2
          },
          end: {
            line: 327,
            column: 3
          }
        },
        loc: {
          start: {
            line: 332,
            column: 32
          },
          end: {
            line: 363,
            column: 3
          }
        },
        line: 332
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 365,
            column: 2
          },
          end: {
            line: 365,
            column: 3
          }
        },
        loc: {
          start: {
            line: 365,
            column: 68
          },
          end: {
            line: 368,
            column: 3
          }
        },
        line: 365
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 259,
            column: 13
          },
          end: {
            line: 259,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 259,
            column: 13
          },
          end: {
            line: 259,
            column: 51
          }
        }, {
          start: {
            line: 259,
            column: 55
          },
          end: {
            line: 259,
            column: 59
          }
        }],
        line: 259
      },
      "1": {
        loc: {
          start: {
            line: 287,
            column: 6
          },
          end: {
            line: 289,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 287,
            column: 6
          },
          end: {
            line: 289,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 287
      },
      "2": {
        loc: {
          start: {
            line: 310,
            column: 6
          },
          end: {
            line: 312,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 310,
            column: 6
          },
          end: {
            line: 312,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 310
      },
      "3": {
        loc: {
          start: {
            line: 334,
            column: 21
          },
          end: {
            line: 334,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 334,
            column: 21
          },
          end: {
            line: 334,
            column: 41
          }
        }, {
          start: {
            line: 334,
            column: 45
          },
          end: {
            line: 334,
            column: 66
          }
        }],
        line: 334
      },
      "4": {
        loc: {
          start: {
            line: 340,
            column: 15
          },
          end: {
            line: 340,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 340,
            column: 15
          },
          end: {
            line: 340,
            column: 28
          }
        }, {
          start: {
            line: 340,
            column: 32
          },
          end: {
            line: 340,
            column: 48
          }
        }],
        line: 340
      },
      "5": {
        loc: {
          start: {
            line: 351,
            column: 4
          },
          end: {
            line: 359,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 351,
            column: 4
          },
          end: {
            line: 359,
            column: 5
          }
        }, {
          start: {
            line: 355,
            column: 11
          },
          end: {
            line: 359,
            column: 5
          }
        }],
        line: 351
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "e58a708e2ad334f31bf27b54230c9b659035520f"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_k7iqs99c2 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_k7iqs99c2();
/**
 * Notification Service
 * 
 * Manages email notifications and notification tracking
 */

import { ElaraLogger } from '../utils/logger';
export class NotificationService {
  notifications =
  /* istanbul ignore next */
  (cov_k7iqs99c2().s[0]++, new Map());
  templates =
  /* istanbul ignore next */
  (cov_k7iqs99c2().s[1]++, {
    welcome: {
      type: 'welcome',
      subject: 'Welcome to Azora - Your Onboarding Journey Begins',
      body: 'Welcome to Azora! We\'re excited to have you on board. Your personalized onboarding experience is ready to begin.'
    },
    progress: {
      type: 'progress',
      subject: 'Great Progress! You\'re Making Headway',
      body: 'You\'ve completed another step in your onboarding. Keep going - you\'re almost there!'
    },
    status: {
      type: 'status',
      subject: 'Your Onboarding Status Update',
      body: 'Here\'s an update on your onboarding progress and next steps.'
    },
    action_required: {
      type: 'action_required',
      subject: 'Action Required - Complete Your Onboarding',
      body: 'We need some information from you to complete your onboarding. Please take action now.'
    },
    completion: {
      type: 'completion',
      subject: 'Congratulations! Your Onboarding is Complete',
      body: 'Welcome to the Azora community! Your account is now fully activated and ready to use.'
    },
    kyc_pending: {
      type: 'kyc_pending',
      subject: 'KYC Verification in Progress',
      body: 'Your identity verification is being processed. We\'ll notify you once it\'s complete.'
    },
    kyc_approved: {
      type: 'kyc_approved',
      subject: 'KYC Verification Approved',
      body: 'Your identity has been verified successfully. You can now proceed with your onboarding.'
    },
    contract_ready: {
      type: 'contract_ready',
      subject: 'Contract Ready for Signature',
      body: 'Your contract is ready for e-signature. Please review and sign to continue.'
    },
    contract_signed: {
      type: 'contract_signed',
      subject: 'Contract Successfully Signed',
      body: 'Thank you for signing the contract. Your account is being finalized.'
    }
  });
  constructor() {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[0]++;
    cov_k7iqs99c2().s[2]++;
    this.logger = new ElaraLogger('NotificationService');
  }

  /**
   * Send welcome email
   */
  async sendWelcomeEmail(userId, email, name) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[1]++;
    cov_k7iqs99c2().s[3]++;
    try {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[4]++;
      this.logger.info(`Sending welcome email to: ${email}`);
      const notification =
      /* istanbul ignore next */
      (cov_k7iqs99c2().s[5]++, await this.sendEmail(userId, email, 'welcome', `Welcome ${name}!`));
      /* istanbul ignore next */
      cov_k7iqs99c2().s[6]++;
      return notification;
    } catch (error) {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[7]++;
      this.logger.error('Error sending welcome email:', error);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[8]++;
      throw error;
    }
  }

  /**
   * Send progress email
   */
  async sendProgressEmail(userId, email, stepName) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[2]++;
    cov_k7iqs99c2().s[9]++;
    try {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[10]++;
      this.logger.info(`Sending progress email to: ${email}`);
      const notification =
      /* istanbul ignore next */
      (cov_k7iqs99c2().s[11]++, await this.sendEmail(userId, email, 'progress', `Progress: ${stepName} completed`));
      /* istanbul ignore next */
      cov_k7iqs99c2().s[12]++;
      return notification;
    } catch (error) {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[13]++;
      this.logger.error('Error sending progress email:', error);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[14]++;
      throw error;
    }
  }

  /**
   * Send status email
   */
  async sendStatusEmail(userId, email, status) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[3]++;
    cov_k7iqs99c2().s[15]++;
    try {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[16]++;
      this.logger.info(`Sending status email to: ${email}`);
      const notification =
      /* istanbul ignore next */
      (cov_k7iqs99c2().s[17]++, await this.sendEmail(userId, email, 'status', `Status Update: ${status}`));
      /* istanbul ignore next */
      cov_k7iqs99c2().s[18]++;
      return notification;
    } catch (error) {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[19]++;
      this.logger.error('Error sending status email:', error);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[20]++;
      throw error;
    }
  }

  /**
   * Send action required email
   */
  async sendActionRequiredEmail(userId, email, action) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[4]++;
    cov_k7iqs99c2().s[21]++;
    try {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[22]++;
      this.logger.info(`Sending action required email to: ${email}`);
      const notification =
      /* istanbul ignore next */
      (cov_k7iqs99c2().s[23]++, await this.sendEmail(userId, email, 'action_required', `Action Required: ${action}`));
      /* istanbul ignore next */
      cov_k7iqs99c2().s[24]++;
      return notification;
    } catch (error) {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[25]++;
      this.logger.error('Error sending action required email:', error);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[26]++;
      throw error;
    }
  }

  /**
   * Send completion email
   */
  async sendCompletionEmail(userId, email, name) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[5]++;
    cov_k7iqs99c2().s[27]++;
    try {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[28]++;
      this.logger.info(`Sending completion email to: ${email}`);
      const notification =
      /* istanbul ignore next */
      (cov_k7iqs99c2().s[29]++, await this.sendEmail(userId, email, 'completion', `Congratulations ${name}!`));
      /* istanbul ignore next */
      cov_k7iqs99c2().s[30]++;
      return notification;
    } catch (error) {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[31]++;
      this.logger.error('Error sending completion email:', error);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[32]++;
      throw error;
    }
  }

  /**
   * Send KYC approved email
   */
  async sendKYCApprovedEmail(userId, email) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[6]++;
    cov_k7iqs99c2().s[33]++;
    try {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[34]++;
      this.logger.info(`Sending KYC approved email to: ${email}`);
      const notification =
      /* istanbul ignore next */
      (cov_k7iqs99c2().s[35]++, await this.sendEmail(userId, email, 'kyc_approved', 'KYC Verification Approved'));
      /* istanbul ignore next */
      cov_k7iqs99c2().s[36]++;
      return notification;
    } catch (error) {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[37]++;
      this.logger.error('Error sending KYC approved email:', error);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[38]++;
      throw error;
    }
  }

  /**
   * Send contract ready email
   */
  async sendContractReadyEmail(userId, email) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[7]++;
    cov_k7iqs99c2().s[39]++;
    try {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[40]++;
      this.logger.info(`Sending contract ready email to: ${email}`);
      const notification =
      /* istanbul ignore next */
      (cov_k7iqs99c2().s[41]++, await this.sendEmail(userId, email, 'contract_ready', 'Contract Ready for Signature'));
      /* istanbul ignore next */
      cov_k7iqs99c2().s[42]++;
      return notification;
    } catch (error) {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[43]++;
      this.logger.error('Error sending contract ready email:', error);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[44]++;
      throw error;
    }
  }

  /**
   * Send contract signed email
   */
  async sendContractSignedEmail(userId, email) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[8]++;
    cov_k7iqs99c2().s[45]++;
    try {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[46]++;
      this.logger.info(`Sending contract signed email to: ${email}`);
      const notification =
      /* istanbul ignore next */
      (cov_k7iqs99c2().s[47]++, await this.sendEmail(userId, email, 'contract_signed', 'Contract Successfully Signed'));
      /* istanbul ignore next */
      cov_k7iqs99c2().s[48]++;
      return notification;
    } catch (error) {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[49]++;
      this.logger.error('Error sending contract signed email:', error);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[50]++;
      throw error;
    }
  }

  /**
   * Get notification by ID
   */
  async getNotification(notificationId) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[9]++;
    cov_k7iqs99c2().s[51]++;
    try {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[52]++;
      this.logger.info(`Getting notification: ${notificationId}`);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[53]++;
      return /* istanbul ignore next */(cov_k7iqs99c2().b[0][0]++, this.notifications.get(notificationId)) ||
      /* istanbul ignore next */
      (cov_k7iqs99c2().b[0][1]++, null);
    } catch (error) {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[54]++;
      this.logger.error('Error getting notification:', error);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[55]++;
      throw error;
    }
  }

  /**
   * Get user notifications
   */
  async getUserNotifications(userId) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[10]++;
    cov_k7iqs99c2().s[56]++;
    try {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[57]++;
      this.logger.info(`Getting notifications for user: ${userId}`);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[58]++;
      return Array.from(this.notifications.values()).filter(n => {
        /* istanbul ignore next */
        cov_k7iqs99c2().f[11]++;
        cov_k7iqs99c2().s[59]++;
        return n.userId === userId;
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[60]++;
      this.logger.error('Error getting user notifications:', error);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[61]++;
      throw error;
    }
  }

  /**
   * Mark notification as delivered
   */
  async markAsDelivered(notificationId) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[12]++;
    cov_k7iqs99c2().s[62]++;
    try {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[63]++;
      this.logger.info(`Marking notification as delivered: ${notificationId}`);
      const notification =
      /* istanbul ignore next */
      (cov_k7iqs99c2().s[64]++, this.notifications.get(notificationId));
      /* istanbul ignore next */
      cov_k7iqs99c2().s[65]++;
      if (!notification) {
        /* istanbul ignore next */
        cov_k7iqs99c2().b[1][0]++;
        cov_k7iqs99c2().s[66]++;
        throw new Error(`Notification not found: ${notificationId}`);
      } else
      /* istanbul ignore next */
      {
        cov_k7iqs99c2().b[1][1]++;
      }
      cov_k7iqs99c2().s[67]++;
      notification.status = 'sent';
      /* istanbul ignore next */
      cov_k7iqs99c2().s[68]++;
      notification.deliveredAt = new Date();
      /* istanbul ignore next */
      cov_k7iqs99c2().s[69]++;
      this.notifications.set(notificationId, notification);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[70]++;
      return notification;
    } catch (error) {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[71]++;
      this.logger.error('Error marking notification as delivered:', error);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[72]++;
      throw error;
    }
  }

  /**
   * Mark notification as failed
   */
  async markAsFailed(notificationId, reason) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[13]++;
    cov_k7iqs99c2().s[73]++;
    try {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[74]++;
      this.logger.info(`Marking notification as failed: ${notificationId}`);
      const notification =
      /* istanbul ignore next */
      (cov_k7iqs99c2().s[75]++, this.notifications.get(notificationId));
      /* istanbul ignore next */
      cov_k7iqs99c2().s[76]++;
      if (!notification) {
        /* istanbul ignore next */
        cov_k7iqs99c2().b[2][0]++;
        cov_k7iqs99c2().s[77]++;
        throw new Error(`Notification not found: ${notificationId}`);
      } else
      /* istanbul ignore next */
      {
        cov_k7iqs99c2().b[2][1]++;
      }
      cov_k7iqs99c2().s[78]++;
      notification.status = 'failed';
      /* istanbul ignore next */
      cov_k7iqs99c2().s[79]++;
      notification.failureReason = reason;
      /* istanbul ignore next */
      cov_k7iqs99c2().s[80]++;
      this.notifications.set(notificationId, notification);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[81]++;
      return notification;
    } catch (error) {
      /* istanbul ignore next */
      cov_k7iqs99c2().s[82]++;
      this.logger.error('Error marking notification as failed:', error);
      /* istanbul ignore next */
      cov_k7iqs99c2().s[83]++;
      throw error;
    }
  }

  // Private helper methods

  async sendEmail(userId, email, type, customSubject) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[14]++;
    const notificationId =
    /* istanbul ignore next */
    (cov_k7iqs99c2().s[84]++, `notif_${userId}_${Date.now()}`);
    const template =
    /* istanbul ignore next */
    (cov_k7iqs99c2().s[85]++,
    /* istanbul ignore next */
    (cov_k7iqs99c2().b[3][0]++, this.templates[type]) ||
    /* istanbul ignore next */
    (cov_k7iqs99c2().b[3][1]++, this.templates.status));
    const notification =
    /* istanbul ignore next */
    (cov_k7iqs99c2().s[86]++, {
      id: notificationId,
      userId,
      email,
      subject:
      /* istanbul ignore next */
      (cov_k7iqs99c2().b[4][0]++, customSubject) ||
      /* istanbul ignore next */
      (cov_k7iqs99c2().b[4][1]++, template.subject),
      body: template.body,
      type: type,
      status: 'pending',
      createdAt: new Date()
    });

    // Simulate sending email
    // In production, would call SendGrid or similar service
    const sendSuccess =
    /* istanbul ignore next */
    (cov_k7iqs99c2().s[87]++, await this.simulateSendEmail(email));
    /* istanbul ignore next */
    cov_k7iqs99c2().s[88]++;
    if (sendSuccess) {
      /* istanbul ignore next */
      cov_k7iqs99c2().b[5][0]++;
      cov_k7iqs99c2().s[89]++;
      notification.status = 'sent';
      /* istanbul ignore next */
      cov_k7iqs99c2().s[90]++;
      notification.sentAt = new Date();
      /* istanbul ignore next */
      cov_k7iqs99c2().s[91]++;
      this.logger.info(`Email sent successfully to: ${email}`);
    } else {
      /* istanbul ignore next */
      cov_k7iqs99c2().b[5][1]++;
      cov_k7iqs99c2().s[92]++;
      notification.status = 'failed';
      /* istanbul ignore next */
      cov_k7iqs99c2().s[93]++;
      notification.failureReason = 'Email service unavailable';
      /* istanbul ignore next */
      cov_k7iqs99c2().s[94]++;
      this.logger.warn(`Email failed to send to: ${email}`);
    }
    /* istanbul ignore next */
    cov_k7iqs99c2().s[95]++;
    this.notifications.set(notificationId, notification);
    /* istanbul ignore next */
    cov_k7iqs99c2().s[96]++;
    return notification;
  }
  async simulateSendEmail(_email) {
    /* istanbul ignore next */
    cov_k7iqs99c2().f[15]++;
    cov_k7iqs99c2().s[97]++;
    // Simulate email sending with 95% success rate
    return Math.random() > 0.05;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfazdpcXM5OWMyIiwiYWN0dWFsQ292ZXJhZ2UiLCJFbGFyYUxvZ2dlciIsIk5vdGlmaWNhdGlvblNlcnZpY2UiLCJub3RpZmljYXRpb25zIiwicyIsIk1hcCIsInRlbXBsYXRlcyIsIndlbGNvbWUiLCJ0eXBlIiwic3ViamVjdCIsImJvZHkiLCJwcm9ncmVzcyIsInN0YXR1cyIsImFjdGlvbl9yZXF1aXJlZCIsImNvbXBsZXRpb24iLCJreWNfcGVuZGluZyIsImt5Y19hcHByb3ZlZCIsImNvbnRyYWN0X3JlYWR5IiwiY29udHJhY3Rfc2lnbmVkIiwiY29uc3RydWN0b3IiLCJmIiwibG9nZ2VyIiwic2VuZFdlbGNvbWVFbWFpbCIsInVzZXJJZCIsImVtYWlsIiwibmFtZSIsImluZm8iLCJub3RpZmljYXRpb24iLCJzZW5kRW1haWwiLCJlcnJvciIsInNlbmRQcm9ncmVzc0VtYWlsIiwic3RlcE5hbWUiLCJzZW5kU3RhdHVzRW1haWwiLCJzZW5kQWN0aW9uUmVxdWlyZWRFbWFpbCIsImFjdGlvbiIsInNlbmRDb21wbGV0aW9uRW1haWwiLCJzZW5kS1lDQXBwcm92ZWRFbWFpbCIsInNlbmRDb250cmFjdFJlYWR5RW1haWwiLCJzZW5kQ29udHJhY3RTaWduZWRFbWFpbCIsImdldE5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbklkIiwiYiIsImdldCIsImdldFVzZXJOb3RpZmljYXRpb25zIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZmlsdGVyIiwibiIsIm1hcmtBc0RlbGl2ZXJlZCIsIkVycm9yIiwiZGVsaXZlcmVkQXQiLCJEYXRlIiwic2V0IiwibWFya0FzRmFpbGVkIiwicmVhc29uIiwiZmFpbHVyZVJlYXNvbiIsImN1c3RvbVN1YmplY3QiLCJub3ciLCJ0ZW1wbGF0ZSIsImlkIiwiY3JlYXRlZEF0Iiwic2VuZFN1Y2Nlc3MiLCJzaW11bGF0ZVNlbmRFbWFpbCIsInNlbnRBdCIsIndhcm4iLCJfZW1haWwiLCJNYXRoIiwicmFuZG9tIl0sInNvdXJjZXMiOlsibm90aWZpY2F0aW9uLnNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBOb3RpZmljYXRpb24gU2VydmljZVxuICogXG4gKiBNYW5hZ2VzIGVtYWlsIG5vdGlmaWNhdGlvbnMgYW5kIG5vdGlmaWNhdGlvbiB0cmFja2luZ1xuICovXG5cbmltcG9ydCB7IEVsYXJhTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcblxuZXhwb3J0IGludGVyZmFjZSBFbWFpbE5vdGlmaWNhdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJJZDogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBzdWJqZWN0OiBzdHJpbmc7XG4gIGJvZHk6IHN0cmluZztcbiAgdHlwZTogJ3dlbGNvbWUnIHwgJ3Byb2dyZXNzJyB8ICdzdGF0dXMnIHwgJ2FjdGlvbl9yZXF1aXJlZCcgfCAnY29tcGxldGlvbic7XG4gIHN0YXR1czogJ3BlbmRpbmcnIHwgJ3NlbnQnIHwgJ2ZhaWxlZCcgfCAnYm91bmNlZCc7XG4gIHNlbnRBdD86IERhdGU7XG4gIGRlbGl2ZXJlZEF0PzogRGF0ZTtcbiAgZmFpbHVyZVJlYXNvbj86IHN0cmluZztcbiAgY3JlYXRlZEF0OiBEYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vdGlmaWNhdGlvblRlbXBsYXRlIHtcbiAgdHlwZTogc3RyaW5nO1xuICBzdWJqZWN0OiBzdHJpbmc7XG4gIGJvZHk6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIE5vdGlmaWNhdGlvblNlcnZpY2Uge1xuICBwcml2YXRlIGxvZ2dlcjogRWxhcmFMb2dnZXI7XG4gIHByaXZhdGUgbm90aWZpY2F0aW9uczogTWFwPHN0cmluZywgRW1haWxOb3RpZmljYXRpb24+ID0gbmV3IE1hcCgpO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgdGVtcGxhdGVzOiBSZWNvcmQ8c3RyaW5nLCBOb3RpZmljYXRpb25UZW1wbGF0ZT4gPSB7XG4gICAgd2VsY29tZToge1xuICAgICAgdHlwZTogJ3dlbGNvbWUnLFxuICAgICAgc3ViamVjdDogJ1dlbGNvbWUgdG8gQXpvcmEgLSBZb3VyIE9uYm9hcmRpbmcgSm91cm5leSBCZWdpbnMnLFxuICAgICAgYm9keTogJ1dlbGNvbWUgdG8gQXpvcmEhIFdlXFwncmUgZXhjaXRlZCB0byBoYXZlIHlvdSBvbiBib2FyZC4gWW91ciBwZXJzb25hbGl6ZWQgb25ib2FyZGluZyBleHBlcmllbmNlIGlzIHJlYWR5IHRvIGJlZ2luLicsXG4gICAgfSxcbiAgICBwcm9ncmVzczoge1xuICAgICAgdHlwZTogJ3Byb2dyZXNzJyxcbiAgICAgIHN1YmplY3Q6ICdHcmVhdCBQcm9ncmVzcyEgWW91XFwncmUgTWFraW5nIEhlYWR3YXknLFxuICAgICAgYm9keTogJ1lvdVxcJ3ZlIGNvbXBsZXRlZCBhbm90aGVyIHN0ZXAgaW4geW91ciBvbmJvYXJkaW5nLiBLZWVwIGdvaW5nIC0geW91XFwncmUgYWxtb3N0IHRoZXJlIScsXG4gICAgfSxcbiAgICBzdGF0dXM6IHtcbiAgICAgIHR5cGU6ICdzdGF0dXMnLFxuICAgICAgc3ViamVjdDogJ1lvdXIgT25ib2FyZGluZyBTdGF0dXMgVXBkYXRlJyxcbiAgICAgIGJvZHk6ICdIZXJlXFwncyBhbiB1cGRhdGUgb24geW91ciBvbmJvYXJkaW5nIHByb2dyZXNzIGFuZCBuZXh0IHN0ZXBzLicsXG4gICAgfSxcbiAgICBhY3Rpb25fcmVxdWlyZWQ6IHtcbiAgICAgIHR5cGU6ICdhY3Rpb25fcmVxdWlyZWQnLFxuICAgICAgc3ViamVjdDogJ0FjdGlvbiBSZXF1aXJlZCAtIENvbXBsZXRlIFlvdXIgT25ib2FyZGluZycsXG4gICAgICBib2R5OiAnV2UgbmVlZCBzb21lIGluZm9ybWF0aW9uIGZyb20geW91IHRvIGNvbXBsZXRlIHlvdXIgb25ib2FyZGluZy4gUGxlYXNlIHRha2UgYWN0aW9uIG5vdy4nLFxuICAgIH0sXG4gICAgY29tcGxldGlvbjoge1xuICAgICAgdHlwZTogJ2NvbXBsZXRpb24nLFxuICAgICAgc3ViamVjdDogJ0NvbmdyYXR1bGF0aW9ucyEgWW91ciBPbmJvYXJkaW5nIGlzIENvbXBsZXRlJyxcbiAgICAgIGJvZHk6ICdXZWxjb21lIHRvIHRoZSBBem9yYSBjb21tdW5pdHkhIFlvdXIgYWNjb3VudCBpcyBub3cgZnVsbHkgYWN0aXZhdGVkIGFuZCByZWFkeSB0byB1c2UuJyxcbiAgICB9LFxuICAgIGt5Y19wZW5kaW5nOiB7XG4gICAgICB0eXBlOiAna3ljX3BlbmRpbmcnLFxuICAgICAgc3ViamVjdDogJ0tZQyBWZXJpZmljYXRpb24gaW4gUHJvZ3Jlc3MnLFxuICAgICAgYm9keTogJ1lvdXIgaWRlbnRpdHkgdmVyaWZpY2F0aW9uIGlzIGJlaW5nIHByb2Nlc3NlZC4gV2VcXCdsbCBub3RpZnkgeW91IG9uY2UgaXRcXCdzIGNvbXBsZXRlLicsXG4gICAgfSxcbiAgICBreWNfYXBwcm92ZWQ6IHtcbiAgICAgIHR5cGU6ICdreWNfYXBwcm92ZWQnLFxuICAgICAgc3ViamVjdDogJ0tZQyBWZXJpZmljYXRpb24gQXBwcm92ZWQnLFxuICAgICAgYm9keTogJ1lvdXIgaWRlbnRpdHkgaGFzIGJlZW4gdmVyaWZpZWQgc3VjY2Vzc2Z1bGx5LiBZb3UgY2FuIG5vdyBwcm9jZWVkIHdpdGggeW91ciBvbmJvYXJkaW5nLicsXG4gICAgfSxcbiAgICBjb250cmFjdF9yZWFkeToge1xuICAgICAgdHlwZTogJ2NvbnRyYWN0X3JlYWR5JyxcbiAgICAgIHN1YmplY3Q6ICdDb250cmFjdCBSZWFkeSBmb3IgU2lnbmF0dXJlJyxcbiAgICAgIGJvZHk6ICdZb3VyIGNvbnRyYWN0IGlzIHJlYWR5IGZvciBlLXNpZ25hdHVyZS4gUGxlYXNlIHJldmlldyBhbmQgc2lnbiB0byBjb250aW51ZS4nLFxuICAgIH0sXG4gICAgY29udHJhY3Rfc2lnbmVkOiB7XG4gICAgICB0eXBlOiAnY29udHJhY3Rfc2lnbmVkJyxcbiAgICAgIHN1YmplY3Q6ICdDb250cmFjdCBTdWNjZXNzZnVsbHkgU2lnbmVkJyxcbiAgICAgIGJvZHk6ICdUaGFuayB5b3UgZm9yIHNpZ25pbmcgdGhlIGNvbnRyYWN0LiBZb3VyIGFjY291bnQgaXMgYmVpbmcgZmluYWxpemVkLicsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxvZ2dlciA9IG5ldyBFbGFyYUxvZ2dlcignTm90aWZpY2F0aW9uU2VydmljZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgd2VsY29tZSBlbWFpbFxuICAgKi9cbiAgYXN5bmMgc2VuZFdlbGNvbWVFbWFpbCh1c2VySWQ6IHN0cmluZywgZW1haWw6IHN0cmluZywgbmFtZTogc3RyaW5nKTogUHJvbWlzZTxFbWFpbE5vdGlmaWNhdGlvbj4ge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKGBTZW5kaW5nIHdlbGNvbWUgZW1haWwgdG86ICR7ZW1haWx9YCk7XG5cbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IHRoaXMuc2VuZEVtYWlsKFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICAnd2VsY29tZScsXG4gICAgICAgIGBXZWxjb21lICR7bmFtZX0hYFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgd2VsY29tZSBlbWFpbDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBwcm9ncmVzcyBlbWFpbFxuICAgKi9cbiAgYXN5bmMgc2VuZFByb2dyZXNzRW1haWwodXNlcklkOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIHN0ZXBOYW1lOiBzdHJpbmcpOiBQcm9taXNlPEVtYWlsTm90aWZpY2F0aW9uPiB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFNlbmRpbmcgcHJvZ3Jlc3MgZW1haWwgdG86ICR7ZW1haWx9YCk7XG5cbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IHRoaXMuc2VuZEVtYWlsKFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICAncHJvZ3Jlc3MnLFxuICAgICAgICBgUHJvZ3Jlc3M6ICR7c3RlcE5hbWV9IGNvbXBsZXRlZGBcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBub3RpZmljYXRpb247XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBzZW5kaW5nIHByb2dyZXNzIGVtYWlsOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIHN0YXR1cyBlbWFpbFxuICAgKi9cbiAgYXN5bmMgc2VuZFN0YXR1c0VtYWlsKHVzZXJJZDogc3RyaW5nLCBlbWFpbDogc3RyaW5nLCBzdGF0dXM6IHN0cmluZyk6IFByb21pc2U8RW1haWxOb3RpZmljYXRpb24+IHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgU2VuZGluZyBzdGF0dXMgZW1haWwgdG86ICR7ZW1haWx9YCk7XG5cbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IHRoaXMuc2VuZEVtYWlsKFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICAnc3RhdHVzJyxcbiAgICAgICAgYFN0YXR1cyBVcGRhdGU6ICR7c3RhdHVzfWBcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBub3RpZmljYXRpb247XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBzZW5kaW5nIHN0YXR1cyBlbWFpbDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBhY3Rpb24gcmVxdWlyZWQgZW1haWxcbiAgICovXG4gIGFzeW5jIHNlbmRBY3Rpb25SZXF1aXJlZEVtYWlsKHVzZXJJZDogc3RyaW5nLCBlbWFpbDogc3RyaW5nLCBhY3Rpb246IHN0cmluZyk6IFByb21pc2U8RW1haWxOb3RpZmljYXRpb24+IHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgU2VuZGluZyBhY3Rpb24gcmVxdWlyZWQgZW1haWwgdG86ICR7ZW1haWx9YCk7XG5cbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IHRoaXMuc2VuZEVtYWlsKFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICAnYWN0aW9uX3JlcXVpcmVkJyxcbiAgICAgICAgYEFjdGlvbiBSZXF1aXJlZDogJHthY3Rpb259YFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgYWN0aW9uIHJlcXVpcmVkIGVtYWlsOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGNvbXBsZXRpb24gZW1haWxcbiAgICovXG4gIGFzeW5jIHNlbmRDb21wbGV0aW9uRW1haWwodXNlcklkOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIG5hbWU6IHN0cmluZyk6IFByb21pc2U8RW1haWxOb3RpZmljYXRpb24+IHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgU2VuZGluZyBjb21wbGV0aW9uIGVtYWlsIHRvOiAke2VtYWlsfWApO1xuXG4gICAgICBjb25zdCBub3RpZmljYXRpb24gPSBhd2FpdCB0aGlzLnNlbmRFbWFpbChcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgJ2NvbXBsZXRpb24nLFxuICAgICAgICBgQ29uZ3JhdHVsYXRpb25zICR7bmFtZX0hYFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgY29tcGxldGlvbiBlbWFpbDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBLWUMgYXBwcm92ZWQgZW1haWxcbiAgICovXG4gIGFzeW5jIHNlbmRLWUNBcHByb3ZlZEVtYWlsKHVzZXJJZDogc3RyaW5nLCBlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxFbWFpbE5vdGlmaWNhdGlvbj4ge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKGBTZW5kaW5nIEtZQyBhcHByb3ZlZCBlbWFpbCB0bzogJHtlbWFpbH1gKTtcblxuICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gYXdhaXQgdGhpcy5zZW5kRW1haWwoXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgZW1haWwsXG4gICAgICAgICdreWNfYXBwcm92ZWQnLFxuICAgICAgICAnS1lDIFZlcmlmaWNhdGlvbiBBcHByb3ZlZCdcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBub3RpZmljYXRpb247XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBzZW5kaW5nIEtZQyBhcHByb3ZlZCBlbWFpbDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBjb250cmFjdCByZWFkeSBlbWFpbFxuICAgKi9cbiAgYXN5bmMgc2VuZENvbnRyYWN0UmVhZHlFbWFpbCh1c2VySWQ6IHN0cmluZywgZW1haWw6IHN0cmluZyk6IFByb21pc2U8RW1haWxOb3RpZmljYXRpb24+IHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgU2VuZGluZyBjb250cmFjdCByZWFkeSBlbWFpbCB0bzogJHtlbWFpbH1gKTtcblxuICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gYXdhaXQgdGhpcy5zZW5kRW1haWwoXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgZW1haWwsXG4gICAgICAgICdjb250cmFjdF9yZWFkeScsXG4gICAgICAgICdDb250cmFjdCBSZWFkeSBmb3IgU2lnbmF0dXJlJ1xuICAgICAgKTtcblxuICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgY29udHJhY3QgcmVhZHkgZW1haWw6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgY29udHJhY3Qgc2lnbmVkIGVtYWlsXG4gICAqL1xuICBhc3luYyBzZW5kQ29udHJhY3RTaWduZWRFbWFpbCh1c2VySWQ6IHN0cmluZywgZW1haWw6IHN0cmluZyk6IFByb21pc2U8RW1haWxOb3RpZmljYXRpb24+IHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgU2VuZGluZyBjb250cmFjdCBzaWduZWQgZW1haWwgdG86ICR7ZW1haWx9YCk7XG5cbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IHRoaXMuc2VuZEVtYWlsKFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICAnY29udHJhY3Rfc2lnbmVkJyxcbiAgICAgICAgJ0NvbnRyYWN0IFN1Y2Nlc3NmdWxseSBTaWduZWQnXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gbm90aWZpY2F0aW9uO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3Igc2VuZGluZyBjb250cmFjdCBzaWduZWQgZW1haWw6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBub3RpZmljYXRpb24gYnkgSURcbiAgICovXG4gIGFzeW5jIGdldE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25JZDogc3RyaW5nKTogUHJvbWlzZTxFbWFpbE5vdGlmaWNhdGlvbiB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgR2V0dGluZyBub3RpZmljYXRpb246ICR7bm90aWZpY2F0aW9uSWR9YCk7XG4gICAgICByZXR1cm4gdGhpcy5ub3RpZmljYXRpb25zLmdldChub3RpZmljYXRpb25JZCkgfHwgbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIGdldHRpbmcgbm90aWZpY2F0aW9uOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdXNlciBub3RpZmljYXRpb25zXG4gICAqL1xuICBhc3luYyBnZXRVc2VyTm90aWZpY2F0aW9ucyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8RW1haWxOb3RpZmljYXRpb25bXT4ge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKGBHZXR0aW5nIG5vdGlmaWNhdGlvbnMgZm9yIHVzZXI6ICR7dXNlcklkfWApO1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5ub3RpZmljYXRpb25zLnZhbHVlcygpKS5maWx0ZXIobiA9PiBuLnVzZXJJZCA9PT0gdXNlcklkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBub3RpZmljYXRpb25zOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYXJrIG5vdGlmaWNhdGlvbiBhcyBkZWxpdmVyZWRcbiAgICovXG4gIGFzeW5jIG1hcmtBc0RlbGl2ZXJlZChub3RpZmljYXRpb25JZDogc3RyaW5nKTogUHJvbWlzZTxFbWFpbE5vdGlmaWNhdGlvbj4ge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKGBNYXJraW5nIG5vdGlmaWNhdGlvbiBhcyBkZWxpdmVyZWQ6ICR7bm90aWZpY2F0aW9uSWR9YCk7XG5cbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IHRoaXMubm90aWZpY2F0aW9ucy5nZXQobm90aWZpY2F0aW9uSWQpO1xuICAgICAgaWYgKCFub3RpZmljYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb3RpZmljYXRpb24gbm90IGZvdW5kOiAke25vdGlmaWNhdGlvbklkfWApO1xuICAgICAgfVxuXG4gICAgICBub3RpZmljYXRpb24uc3RhdHVzID0gJ3NlbnQnO1xuICAgICAgbm90aWZpY2F0aW9uLmRlbGl2ZXJlZEF0ID0gbmV3IERhdGUoKTtcblxuICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnNldChub3RpZmljYXRpb25JZCwgbm90aWZpY2F0aW9uKTtcbiAgICAgIHJldHVybiBub3RpZmljYXRpb247XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBtYXJraW5nIG5vdGlmaWNhdGlvbiBhcyBkZWxpdmVyZWQ6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1hcmsgbm90aWZpY2F0aW9uIGFzIGZhaWxlZFxuICAgKi9cbiAgYXN5bmMgbWFya0FzRmFpbGVkKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcsIHJlYXNvbjogc3RyaW5nKTogUHJvbWlzZTxFbWFpbE5vdGlmaWNhdGlvbj4ge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKGBNYXJraW5nIG5vdGlmaWNhdGlvbiBhcyBmYWlsZWQ6ICR7bm90aWZpY2F0aW9uSWR9YCk7XG5cbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IHRoaXMubm90aWZpY2F0aW9ucy5nZXQobm90aWZpY2F0aW9uSWQpO1xuICAgICAgaWYgKCFub3RpZmljYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb3RpZmljYXRpb24gbm90IGZvdW5kOiAke25vdGlmaWNhdGlvbklkfWApO1xuICAgICAgfVxuXG4gICAgICBub3RpZmljYXRpb24uc3RhdHVzID0gJ2ZhaWxlZCc7XG4gICAgICBub3RpZmljYXRpb24uZmFpbHVyZVJlYXNvbiA9IHJlYXNvbjtcblxuICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnNldChub3RpZmljYXRpb25JZCwgbm90aWZpY2F0aW9uKTtcbiAgICAgIHJldHVybiBub3RpZmljYXRpb247XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBtYXJraW5nIG5vdGlmaWNhdGlvbiBhcyBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gUHJpdmF0ZSBoZWxwZXIgbWV0aG9kc1xuXG4gIHByaXZhdGUgYXN5bmMgc2VuZEVtYWlsKFxuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGN1c3RvbVN1YmplY3Q/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTxFbWFpbE5vdGlmaWNhdGlvbj4ge1xuICAgIGNvbnN0IG5vdGlmaWNhdGlvbklkID0gYG5vdGlmXyR7dXNlcklkfV8ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGVzW3R5cGVdIHx8IHRoaXMudGVtcGxhdGVzLnN0YXR1cztcblxuICAgIGNvbnN0IG5vdGlmaWNhdGlvbjogRW1haWxOb3RpZmljYXRpb24gPSB7XG4gICAgICBpZDogbm90aWZpY2F0aW9uSWQsXG4gICAgICB1c2VySWQsXG4gICAgICBlbWFpbCxcbiAgICAgIHN1YmplY3Q6IGN1c3RvbVN1YmplY3QgfHwgdGVtcGxhdGUuc3ViamVjdCxcbiAgICAgIGJvZHk6IHRlbXBsYXRlLmJvZHksXG4gICAgICB0eXBlOiB0eXBlIGFzIGFueSxcbiAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG5cbiAgICAvLyBTaW11bGF0ZSBzZW5kaW5nIGVtYWlsXG4gICAgLy8gSW4gcHJvZHVjdGlvbiwgd291bGQgY2FsbCBTZW5kR3JpZCBvciBzaW1pbGFyIHNlcnZpY2VcbiAgICBjb25zdCBzZW5kU3VjY2VzcyA9IGF3YWl0IHRoaXMuc2ltdWxhdGVTZW5kRW1haWwoZW1haWwpO1xuXG4gICAgaWYgKHNlbmRTdWNjZXNzKSB7XG4gICAgICBub3RpZmljYXRpb24uc3RhdHVzID0gJ3NlbnQnO1xuICAgICAgbm90aWZpY2F0aW9uLnNlbnRBdCA9IG5ldyBEYXRlKCk7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKGBFbWFpbCBzZW50IHN1Y2Nlc3NmdWxseSB0bzogJHtlbWFpbH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm90aWZpY2F0aW9uLnN0YXR1cyA9ICdmYWlsZWQnO1xuICAgICAgbm90aWZpY2F0aW9uLmZhaWx1cmVSZWFzb24gPSAnRW1haWwgc2VydmljZSB1bmF2YWlsYWJsZSc7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKGBFbWFpbCBmYWlsZWQgdG8gc2VuZCB0bzogJHtlbWFpbH1gKTtcbiAgICB9XG5cbiAgICB0aGlzLm5vdGlmaWNhdGlvbnMuc2V0KG5vdGlmaWNhdGlvbklkLCBub3RpZmljYXRpb24pO1xuICAgIHJldHVybiBub3RpZmljYXRpb247XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNpbXVsYXRlU2VuZEVtYWlsKF9lbWFpbDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgLy8gU2ltdWxhdGUgZW1haWwgc2VuZGluZyB3aXRoIDk1JSBzdWNjZXNzIHJhdGVcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA+IDAuMDU7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWVZO0lBQUFBLGFBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGFBQUE7QUFmWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVNFLFdBQVcsUUFBUSxpQkFBaUI7QUFzQjdDLE9BQU8sTUFBTUMsbUJBQW1CLENBQUM7RUFFdkJDLGFBQWE7RUFBQTtFQUFBLENBQUFKLGFBQUEsR0FBQUssQ0FBQSxPQUFtQyxJQUFJQyxHQUFHLENBQUMsQ0FBQztFQUVoREMsU0FBUztFQUFBO0VBQUEsQ0FBQVAsYUFBQSxHQUFBSyxDQUFBLE9BQXlDO0lBQ2pFRyxPQUFPLEVBQUU7TUFDUEMsSUFBSSxFQUFFLFNBQVM7TUFDZkMsT0FBTyxFQUFFLG1EQUFtRDtNQUM1REMsSUFBSSxFQUFFO0lBQ1IsQ0FBQztJQUNEQyxRQUFRLEVBQUU7TUFDUkgsSUFBSSxFQUFFLFVBQVU7TUFDaEJDLE9BQU8sRUFBRSx3Q0FBd0M7TUFDakRDLElBQUksRUFBRTtJQUNSLENBQUM7SUFDREUsTUFBTSxFQUFFO01BQ05KLElBQUksRUFBRSxRQUFRO01BQ2RDLE9BQU8sRUFBRSwrQkFBK0I7TUFDeENDLElBQUksRUFBRTtJQUNSLENBQUM7SUFDREcsZUFBZSxFQUFFO01BQ2ZMLElBQUksRUFBRSxpQkFBaUI7TUFDdkJDLE9BQU8sRUFBRSw0Q0FBNEM7TUFDckRDLElBQUksRUFBRTtJQUNSLENBQUM7SUFDREksVUFBVSxFQUFFO01BQ1ZOLElBQUksRUFBRSxZQUFZO01BQ2xCQyxPQUFPLEVBQUUsOENBQThDO01BQ3ZEQyxJQUFJLEVBQUU7SUFDUixDQUFDO0lBQ0RLLFdBQVcsRUFBRTtNQUNYUCxJQUFJLEVBQUUsYUFBYTtNQUNuQkMsT0FBTyxFQUFFLDhCQUE4QjtNQUN2Q0MsSUFBSSxFQUFFO0lBQ1IsQ0FBQztJQUNETSxZQUFZLEVBQUU7TUFDWlIsSUFBSSxFQUFFLGNBQWM7TUFDcEJDLE9BQU8sRUFBRSwyQkFBMkI7TUFDcENDLElBQUksRUFBRTtJQUNSLENBQUM7SUFDRE8sY0FBYyxFQUFFO01BQ2RULElBQUksRUFBRSxnQkFBZ0I7TUFDdEJDLE9BQU8sRUFBRSw4QkFBOEI7TUFDdkNDLElBQUksRUFBRTtJQUNSLENBQUM7SUFDRFEsZUFBZSxFQUFFO01BQ2ZWLElBQUksRUFBRSxpQkFBaUI7TUFDdkJDLE9BQU8sRUFBRSw4QkFBOEI7TUFDdkNDLElBQUksRUFBRTtJQUNSO0VBQ0YsQ0FBQztFQUVEUyxXQUFXQSxDQUFBLEVBQUc7SUFBQTtJQUFBcEIsYUFBQSxHQUFBcUIsQ0FBQTtJQUFBckIsYUFBQSxHQUFBSyxDQUFBO0lBQ1osSUFBSSxDQUFDaUIsTUFBTSxHQUFHLElBQUlwQixXQUFXLENBQUMscUJBQXFCLENBQUM7RUFDdEQ7O0VBRUE7QUFDRjtBQUNBO0VBQ0UsTUFBTXFCLGdCQUFnQkEsQ0FBQ0MsTUFBYyxFQUFFQyxLQUFhLEVBQUVDLElBQVksRUFBOEI7SUFBQTtJQUFBMUIsYUFBQSxHQUFBcUIsQ0FBQTtJQUFBckIsYUFBQSxHQUFBSyxDQUFBO0lBQzlGLElBQUk7TUFBQTtNQUFBTCxhQUFBLEdBQUFLLENBQUE7TUFDRixJQUFJLENBQUNpQixNQUFNLENBQUNLLElBQUksQ0FBQyw2QkFBNkJGLEtBQUssRUFBRSxDQUFDO01BRXRELE1BQU1HLFlBQVk7TUFBQTtNQUFBLENBQUE1QixhQUFBLEdBQUFLLENBQUEsT0FBRyxNQUFNLElBQUksQ0FBQ3dCLFNBQVMsQ0FDdkNMLE1BQU0sRUFDTkMsS0FBSyxFQUNMLFNBQVMsRUFDVCxXQUFXQyxJQUFJLEdBQ2pCLENBQUM7TUFBQztNQUFBMUIsYUFBQSxHQUFBSyxDQUFBO01BRUYsT0FBT3VCLFlBQVk7SUFDckIsQ0FBQyxDQUFDLE9BQU9FLEtBQUssRUFBRTtNQUFBO01BQUE5QixhQUFBLEdBQUFLLENBQUE7TUFDZCxJQUFJLENBQUNpQixNQUFNLENBQUNRLEtBQUssQ0FBQyw4QkFBOEIsRUFBRUEsS0FBSyxDQUFDO01BQUM7TUFBQTlCLGFBQUEsR0FBQUssQ0FBQTtNQUN6RCxNQUFNeUIsS0FBSztJQUNiO0VBQ0Y7O0VBRUE7QUFDRjtBQUNBO0VBQ0UsTUFBTUMsaUJBQWlCQSxDQUFDUCxNQUFjLEVBQUVDLEtBQWEsRUFBRU8sUUFBZ0IsRUFBOEI7SUFBQTtJQUFBaEMsYUFBQSxHQUFBcUIsQ0FBQTtJQUFBckIsYUFBQSxHQUFBSyxDQUFBO0lBQ25HLElBQUk7TUFBQTtNQUFBTCxhQUFBLEdBQUFLLENBQUE7TUFDRixJQUFJLENBQUNpQixNQUFNLENBQUNLLElBQUksQ0FBQyw4QkFBOEJGLEtBQUssRUFBRSxDQUFDO01BRXZELE1BQU1HLFlBQVk7TUFBQTtNQUFBLENBQUE1QixhQUFBLEdBQUFLLENBQUEsUUFBRyxNQUFNLElBQUksQ0FBQ3dCLFNBQVMsQ0FDdkNMLE1BQU0sRUFDTkMsS0FBSyxFQUNMLFVBQVUsRUFDVixhQUFhTyxRQUFRLFlBQ3ZCLENBQUM7TUFBQztNQUFBaEMsYUFBQSxHQUFBSyxDQUFBO01BRUYsT0FBT3VCLFlBQVk7SUFDckIsQ0FBQyxDQUFDLE9BQU9FLEtBQUssRUFBRTtNQUFBO01BQUE5QixhQUFBLEdBQUFLLENBQUE7TUFDZCxJQUFJLENBQUNpQixNQUFNLENBQUNRLEtBQUssQ0FBQywrQkFBK0IsRUFBRUEsS0FBSyxDQUFDO01BQUM7TUFBQTlCLGFBQUEsR0FBQUssQ0FBQTtNQUMxRCxNQUFNeUIsS0FBSztJQUNiO0VBQ0Y7O0VBRUE7QUFDRjtBQUNBO0VBQ0UsTUFBTUcsZUFBZUEsQ0FBQ1QsTUFBYyxFQUFFQyxLQUFhLEVBQUVaLE1BQWMsRUFBOEI7SUFBQTtJQUFBYixhQUFBLEdBQUFxQixDQUFBO0lBQUFyQixhQUFBLEdBQUFLLENBQUE7SUFDL0YsSUFBSTtNQUFBO01BQUFMLGFBQUEsR0FBQUssQ0FBQTtNQUNGLElBQUksQ0FBQ2lCLE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLDRCQUE0QkYsS0FBSyxFQUFFLENBQUM7TUFFckQsTUFBTUcsWUFBWTtNQUFBO01BQUEsQ0FBQTVCLGFBQUEsR0FBQUssQ0FBQSxRQUFHLE1BQU0sSUFBSSxDQUFDd0IsU0FBUyxDQUN2Q0wsTUFBTSxFQUNOQyxLQUFLLEVBQ0wsUUFBUSxFQUNSLGtCQUFrQlosTUFBTSxFQUMxQixDQUFDO01BQUM7TUFBQWIsYUFBQSxHQUFBSyxDQUFBO01BRUYsT0FBT3VCLFlBQVk7SUFDckIsQ0FBQyxDQUFDLE9BQU9FLEtBQUssRUFBRTtNQUFBO01BQUE5QixhQUFBLEdBQUFLLENBQUE7TUFDZCxJQUFJLENBQUNpQixNQUFNLENBQUNRLEtBQUssQ0FBQyw2QkFBNkIsRUFBRUEsS0FBSyxDQUFDO01BQUM7TUFBQTlCLGFBQUEsR0FBQUssQ0FBQTtNQUN4RCxNQUFNeUIsS0FBSztJQUNiO0VBQ0Y7O0VBRUE7QUFDRjtBQUNBO0VBQ0UsTUFBTUksdUJBQXVCQSxDQUFDVixNQUFjLEVBQUVDLEtBQWEsRUFBRVUsTUFBYyxFQUE4QjtJQUFBO0lBQUFuQyxhQUFBLEdBQUFxQixDQUFBO0lBQUFyQixhQUFBLEdBQUFLLENBQUE7SUFDdkcsSUFBSTtNQUFBO01BQUFMLGFBQUEsR0FBQUssQ0FBQTtNQUNGLElBQUksQ0FBQ2lCLE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLHFDQUFxQ0YsS0FBSyxFQUFFLENBQUM7TUFFOUQsTUFBTUcsWUFBWTtNQUFBO01BQUEsQ0FBQTVCLGFBQUEsR0FBQUssQ0FBQSxRQUFHLE1BQU0sSUFBSSxDQUFDd0IsU0FBUyxDQUN2Q0wsTUFBTSxFQUNOQyxLQUFLLEVBQ0wsaUJBQWlCLEVBQ2pCLG9CQUFvQlUsTUFBTSxFQUM1QixDQUFDO01BQUM7TUFBQW5DLGFBQUEsR0FBQUssQ0FBQTtNQUVGLE9BQU91QixZQUFZO0lBQ3JCLENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7TUFBQTtNQUFBOUIsYUFBQSxHQUFBSyxDQUFBO01BQ2QsSUFBSSxDQUFDaUIsTUFBTSxDQUFDUSxLQUFLLENBQUMsc0NBQXNDLEVBQUVBLEtBQUssQ0FBQztNQUFDO01BQUE5QixhQUFBLEdBQUFLLENBQUE7TUFDakUsTUFBTXlCLEtBQUs7SUFDYjtFQUNGOztFQUVBO0FBQ0Y7QUFDQTtFQUNFLE1BQU1NLG1CQUFtQkEsQ0FBQ1osTUFBYyxFQUFFQyxLQUFhLEVBQUVDLElBQVksRUFBOEI7SUFBQTtJQUFBMUIsYUFBQSxHQUFBcUIsQ0FBQTtJQUFBckIsYUFBQSxHQUFBSyxDQUFBO0lBQ2pHLElBQUk7TUFBQTtNQUFBTCxhQUFBLEdBQUFLLENBQUE7TUFDRixJQUFJLENBQUNpQixNQUFNLENBQUNLLElBQUksQ0FBQyxnQ0FBZ0NGLEtBQUssRUFBRSxDQUFDO01BRXpELE1BQU1HLFlBQVk7TUFBQTtNQUFBLENBQUE1QixhQUFBLEdBQUFLLENBQUEsUUFBRyxNQUFNLElBQUksQ0FBQ3dCLFNBQVMsQ0FDdkNMLE1BQU0sRUFDTkMsS0FBSyxFQUNMLFlBQVksRUFDWixtQkFBbUJDLElBQUksR0FDekIsQ0FBQztNQUFDO01BQUExQixhQUFBLEdBQUFLLENBQUE7TUFFRixPQUFPdUIsWUFBWTtJQUNyQixDQUFDLENBQUMsT0FBT0UsS0FBSyxFQUFFO01BQUE7TUFBQTlCLGFBQUEsR0FBQUssQ0FBQTtNQUNkLElBQUksQ0FBQ2lCLE1BQU0sQ0FBQ1EsS0FBSyxDQUFDLGlDQUFpQyxFQUFFQSxLQUFLLENBQUM7TUFBQztNQUFBOUIsYUFBQSxHQUFBSyxDQUFBO01BQzVELE1BQU15QixLQUFLO0lBQ2I7RUFDRjs7RUFFQTtBQUNGO0FBQ0E7RUFDRSxNQUFNTyxvQkFBb0JBLENBQUNiLE1BQWMsRUFBRUMsS0FBYSxFQUE4QjtJQUFBO0lBQUF6QixhQUFBLEdBQUFxQixDQUFBO0lBQUFyQixhQUFBLEdBQUFLLENBQUE7SUFDcEYsSUFBSTtNQUFBO01BQUFMLGFBQUEsR0FBQUssQ0FBQTtNQUNGLElBQUksQ0FBQ2lCLE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLGtDQUFrQ0YsS0FBSyxFQUFFLENBQUM7TUFFM0QsTUFBTUcsWUFBWTtNQUFBO01BQUEsQ0FBQTVCLGFBQUEsR0FBQUssQ0FBQSxRQUFHLE1BQU0sSUFBSSxDQUFDd0IsU0FBUyxDQUN2Q0wsTUFBTSxFQUNOQyxLQUFLLEVBQ0wsY0FBYyxFQUNkLDJCQUNGLENBQUM7TUFBQztNQUFBekIsYUFBQSxHQUFBSyxDQUFBO01BRUYsT0FBT3VCLFlBQVk7SUFDckIsQ0FBQyxDQUFDLE9BQU9FLEtBQUssRUFBRTtNQUFBO01BQUE5QixhQUFBLEdBQUFLLENBQUE7TUFDZCxJQUFJLENBQUNpQixNQUFNLENBQUNRLEtBQUssQ0FBQyxtQ0FBbUMsRUFBRUEsS0FBSyxDQUFDO01BQUM7TUFBQTlCLGFBQUEsR0FBQUssQ0FBQTtNQUM5RCxNQUFNeUIsS0FBSztJQUNiO0VBQ0Y7O0VBRUE7QUFDRjtBQUNBO0VBQ0UsTUFBTVEsc0JBQXNCQSxDQUFDZCxNQUFjLEVBQUVDLEtBQWEsRUFBOEI7SUFBQTtJQUFBekIsYUFBQSxHQUFBcUIsQ0FBQTtJQUFBckIsYUFBQSxHQUFBSyxDQUFBO0lBQ3RGLElBQUk7TUFBQTtNQUFBTCxhQUFBLEdBQUFLLENBQUE7TUFDRixJQUFJLENBQUNpQixNQUFNLENBQUNLLElBQUksQ0FBQyxvQ0FBb0NGLEtBQUssRUFBRSxDQUFDO01BRTdELE1BQU1HLFlBQVk7TUFBQTtNQUFBLENBQUE1QixhQUFBLEdBQUFLLENBQUEsUUFBRyxNQUFNLElBQUksQ0FBQ3dCLFNBQVMsQ0FDdkNMLE1BQU0sRUFDTkMsS0FBSyxFQUNMLGdCQUFnQixFQUNoQiw4QkFDRixDQUFDO01BQUM7TUFBQXpCLGFBQUEsR0FBQUssQ0FBQTtNQUVGLE9BQU91QixZQUFZO0lBQ3JCLENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7TUFBQTtNQUFBOUIsYUFBQSxHQUFBSyxDQUFBO01BQ2QsSUFBSSxDQUFDaUIsTUFBTSxDQUFDUSxLQUFLLENBQUMscUNBQXFDLEVBQUVBLEtBQUssQ0FBQztNQUFDO01BQUE5QixhQUFBLEdBQUFLLENBQUE7TUFDaEUsTUFBTXlCLEtBQUs7SUFDYjtFQUNGOztFQUVBO0FBQ0Y7QUFDQTtFQUNFLE1BQU1TLHVCQUF1QkEsQ0FBQ2YsTUFBYyxFQUFFQyxLQUFhLEVBQThCO0lBQUE7SUFBQXpCLGFBQUEsR0FBQXFCLENBQUE7SUFBQXJCLGFBQUEsR0FBQUssQ0FBQTtJQUN2RixJQUFJO01BQUE7TUFBQUwsYUFBQSxHQUFBSyxDQUFBO01BQ0YsSUFBSSxDQUFDaUIsTUFBTSxDQUFDSyxJQUFJLENBQUMscUNBQXFDRixLQUFLLEVBQUUsQ0FBQztNQUU5RCxNQUFNRyxZQUFZO01BQUE7TUFBQSxDQUFBNUIsYUFBQSxHQUFBSyxDQUFBLFFBQUcsTUFBTSxJQUFJLENBQUN3QixTQUFTLENBQ3ZDTCxNQUFNLEVBQ05DLEtBQUssRUFDTCxpQkFBaUIsRUFDakIsOEJBQ0YsQ0FBQztNQUFDO01BQUF6QixhQUFBLEdBQUFLLENBQUE7TUFFRixPQUFPdUIsWUFBWTtJQUNyQixDQUFDLENBQUMsT0FBT0UsS0FBSyxFQUFFO01BQUE7TUFBQTlCLGFBQUEsR0FBQUssQ0FBQTtNQUNkLElBQUksQ0FBQ2lCLE1BQU0sQ0FBQ1EsS0FBSyxDQUFDLHNDQUFzQyxFQUFFQSxLQUFLLENBQUM7TUFBQztNQUFBOUIsYUFBQSxHQUFBSyxDQUFBO01BQ2pFLE1BQU15QixLQUFLO0lBQ2I7RUFDRjs7RUFFQTtBQUNGO0FBQ0E7RUFDRSxNQUFNVSxlQUFlQSxDQUFDQyxjQUFzQixFQUFxQztJQUFBO0lBQUF6QyxhQUFBLEdBQUFxQixDQUFBO0lBQUFyQixhQUFBLEdBQUFLLENBQUE7SUFDL0UsSUFBSTtNQUFBO01BQUFMLGFBQUEsR0FBQUssQ0FBQTtNQUNGLElBQUksQ0FBQ2lCLE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLHlCQUF5QmMsY0FBYyxFQUFFLENBQUM7TUFBQztNQUFBekMsYUFBQSxHQUFBSyxDQUFBO01BQzVELE9BQU8sMkJBQUFMLGFBQUEsR0FBQTBDLENBQUEsY0FBSSxDQUFDdEMsYUFBYSxDQUFDdUMsR0FBRyxDQUFDRixjQUFjLENBQUM7TUFBQTtNQUFBLENBQUF6QyxhQUFBLEdBQUEwQyxDQUFBLFVBQUksSUFBSTtJQUN2RCxDQUFDLENBQUMsT0FBT1osS0FBSyxFQUFFO01BQUE7TUFBQTlCLGFBQUEsR0FBQUssQ0FBQTtNQUNkLElBQUksQ0FBQ2lCLE1BQU0sQ0FBQ1EsS0FBSyxDQUFDLDZCQUE2QixFQUFFQSxLQUFLLENBQUM7TUFBQztNQUFBOUIsYUFBQSxHQUFBSyxDQUFBO01BQ3hELE1BQU15QixLQUFLO0lBQ2I7RUFDRjs7RUFFQTtBQUNGO0FBQ0E7RUFDRSxNQUFNYyxvQkFBb0JBLENBQUNwQixNQUFjLEVBQWdDO0lBQUE7SUFBQXhCLGFBQUEsR0FBQXFCLENBQUE7SUFBQXJCLGFBQUEsR0FBQUssQ0FBQTtJQUN2RSxJQUFJO01BQUE7TUFBQUwsYUFBQSxHQUFBSyxDQUFBO01BQ0YsSUFBSSxDQUFDaUIsTUFBTSxDQUFDSyxJQUFJLENBQUMsbUNBQW1DSCxNQUFNLEVBQUUsQ0FBQztNQUFDO01BQUF4QixhQUFBLEdBQUFLLENBQUE7TUFDOUQsT0FBT3dDLEtBQUssQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQzFDLGFBQWEsQ0FBQzJDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsTUFBTSxDQUFDQyxDQUFDLElBQUk7UUFBQTtRQUFBakQsYUFBQSxHQUFBcUIsQ0FBQTtRQUFBckIsYUFBQSxHQUFBSyxDQUFBO1FBQUEsT0FBQTRDLENBQUMsQ0FBQ3pCLE1BQU0sS0FBS0EsTUFBTTtNQUFELENBQUMsQ0FBQztJQUNqRixDQUFDLENBQUMsT0FBT00sS0FBSyxFQUFFO01BQUE7TUFBQTlCLGFBQUEsR0FBQUssQ0FBQTtNQUNkLElBQUksQ0FBQ2lCLE1BQU0sQ0FBQ1EsS0FBSyxDQUFDLG1DQUFtQyxFQUFFQSxLQUFLLENBQUM7TUFBQztNQUFBOUIsYUFBQSxHQUFBSyxDQUFBO01BQzlELE1BQU15QixLQUFLO0lBQ2I7RUFDRjs7RUFFQTtBQUNGO0FBQ0E7RUFDRSxNQUFNb0IsZUFBZUEsQ0FBQ1QsY0FBc0IsRUFBOEI7SUFBQTtJQUFBekMsYUFBQSxHQUFBcUIsQ0FBQTtJQUFBckIsYUFBQSxHQUFBSyxDQUFBO0lBQ3hFLElBQUk7TUFBQTtNQUFBTCxhQUFBLEdBQUFLLENBQUE7TUFDRixJQUFJLENBQUNpQixNQUFNLENBQUNLLElBQUksQ0FBQyxzQ0FBc0NjLGNBQWMsRUFBRSxDQUFDO01BRXhFLE1BQU1iLFlBQVk7TUFBQTtNQUFBLENBQUE1QixhQUFBLEdBQUFLLENBQUEsUUFBRyxJQUFJLENBQUNELGFBQWEsQ0FBQ3VDLEdBQUcsQ0FBQ0YsY0FBYyxDQUFDO01BQUM7TUFBQXpDLGFBQUEsR0FBQUssQ0FBQTtNQUM1RCxJQUFJLENBQUN1QixZQUFZLEVBQUU7UUFBQTtRQUFBNUIsYUFBQSxHQUFBMEMsQ0FBQTtRQUFBMUMsYUFBQSxHQUFBSyxDQUFBO1FBQ2pCLE1BQU0sSUFBSThDLEtBQUssQ0FBQywyQkFBMkJWLGNBQWMsRUFBRSxDQUFDO01BQzlELENBQUM7TUFBQTtNQUFBO1FBQUF6QyxhQUFBLEdBQUEwQyxDQUFBO01BQUE7TUFBQTFDLGFBQUEsR0FBQUssQ0FBQTtNQUVEdUIsWUFBWSxDQUFDZixNQUFNLEdBQUcsTUFBTTtNQUFDO01BQUFiLGFBQUEsR0FBQUssQ0FBQTtNQUM3QnVCLFlBQVksQ0FBQ3dCLFdBQVcsR0FBRyxJQUFJQyxJQUFJLENBQUMsQ0FBQztNQUFDO01BQUFyRCxhQUFBLEdBQUFLLENBQUE7TUFFdEMsSUFBSSxDQUFDRCxhQUFhLENBQUNrRCxHQUFHLENBQUNiLGNBQWMsRUFBRWIsWUFBWSxDQUFDO01BQUM7TUFBQTVCLGFBQUEsR0FBQUssQ0FBQTtNQUNyRCxPQUFPdUIsWUFBWTtJQUNyQixDQUFDLENBQUMsT0FBT0UsS0FBSyxFQUFFO01BQUE7TUFBQTlCLGFBQUEsR0FBQUssQ0FBQTtNQUNkLElBQUksQ0FBQ2lCLE1BQU0sQ0FBQ1EsS0FBSyxDQUFDLDBDQUEwQyxFQUFFQSxLQUFLLENBQUM7TUFBQztNQUFBOUIsYUFBQSxHQUFBSyxDQUFBO01BQ3JFLE1BQU15QixLQUFLO0lBQ2I7RUFDRjs7RUFFQTtBQUNGO0FBQ0E7RUFDRSxNQUFNeUIsWUFBWUEsQ0FBQ2QsY0FBc0IsRUFBRWUsTUFBYyxFQUE4QjtJQUFBO0lBQUF4RCxhQUFBLEdBQUFxQixDQUFBO0lBQUFyQixhQUFBLEdBQUFLLENBQUE7SUFDckYsSUFBSTtNQUFBO01BQUFMLGFBQUEsR0FBQUssQ0FBQTtNQUNGLElBQUksQ0FBQ2lCLE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLG1DQUFtQ2MsY0FBYyxFQUFFLENBQUM7TUFFckUsTUFBTWIsWUFBWTtNQUFBO01BQUEsQ0FBQTVCLGFBQUEsR0FBQUssQ0FBQSxRQUFHLElBQUksQ0FBQ0QsYUFBYSxDQUFDdUMsR0FBRyxDQUFDRixjQUFjLENBQUM7TUFBQztNQUFBekMsYUFBQSxHQUFBSyxDQUFBO01BQzVELElBQUksQ0FBQ3VCLFlBQVksRUFBRTtRQUFBO1FBQUE1QixhQUFBLEdBQUEwQyxDQUFBO1FBQUExQyxhQUFBLEdBQUFLLENBQUE7UUFDakIsTUFBTSxJQUFJOEMsS0FBSyxDQUFDLDJCQUEyQlYsY0FBYyxFQUFFLENBQUM7TUFDOUQsQ0FBQztNQUFBO01BQUE7UUFBQXpDLGFBQUEsR0FBQTBDLENBQUE7TUFBQTtNQUFBMUMsYUFBQSxHQUFBSyxDQUFBO01BRUR1QixZQUFZLENBQUNmLE1BQU0sR0FBRyxRQUFRO01BQUM7TUFBQWIsYUFBQSxHQUFBSyxDQUFBO01BQy9CdUIsWUFBWSxDQUFDNkIsYUFBYSxHQUFHRCxNQUFNO01BQUM7TUFBQXhELGFBQUEsR0FBQUssQ0FBQTtNQUVwQyxJQUFJLENBQUNELGFBQWEsQ0FBQ2tELEdBQUcsQ0FBQ2IsY0FBYyxFQUFFYixZQUFZLENBQUM7TUFBQztNQUFBNUIsYUFBQSxHQUFBSyxDQUFBO01BQ3JELE9BQU91QixZQUFZO0lBQ3JCLENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7TUFBQTtNQUFBOUIsYUFBQSxHQUFBSyxDQUFBO01BQ2QsSUFBSSxDQUFDaUIsTUFBTSxDQUFDUSxLQUFLLENBQUMsdUNBQXVDLEVBQUVBLEtBQUssQ0FBQztNQUFDO01BQUE5QixhQUFBLEdBQUFLLENBQUE7TUFDbEUsTUFBTXlCLEtBQUs7SUFDYjtFQUNGOztFQUVBOztFQUVBLE1BQWNELFNBQVNBLENBQ3JCTCxNQUFjLEVBQ2RDLEtBQWEsRUFDYmhCLElBQVksRUFDWmlELGFBQXNCLEVBQ007SUFBQTtJQUFBMUQsYUFBQSxHQUFBcUIsQ0FBQTtJQUM1QixNQUFNb0IsY0FBYztJQUFBO0lBQUEsQ0FBQXpDLGFBQUEsR0FBQUssQ0FBQSxRQUFHLFNBQVNtQixNQUFNLElBQUk2QixJQUFJLENBQUNNLEdBQUcsQ0FBQyxDQUFDLEVBQUU7SUFDdEQsTUFBTUMsUUFBUTtJQUFBO0lBQUEsQ0FBQTVELGFBQUEsR0FBQUssQ0FBQTtJQUFHO0lBQUEsQ0FBQUwsYUFBQSxHQUFBMEMsQ0FBQSxjQUFJLENBQUNuQyxTQUFTLENBQUNFLElBQUksQ0FBQztJQUFBO0lBQUEsQ0FBQVQsYUFBQSxHQUFBMEMsQ0FBQSxVQUFJLElBQUksQ0FBQ25DLFNBQVMsQ0FBQ00sTUFBTTtJQUU5RCxNQUFNZSxZQUErQjtJQUFBO0lBQUEsQ0FBQTVCLGFBQUEsR0FBQUssQ0FBQSxRQUFHO01BQ3RDd0QsRUFBRSxFQUFFcEIsY0FBYztNQUNsQmpCLE1BQU07TUFDTkMsS0FBSztNQUNMZixPQUFPO01BQUU7TUFBQSxDQUFBVixhQUFBLEdBQUEwQyxDQUFBLFVBQUFnQixhQUFhO01BQUE7TUFBQSxDQUFBMUQsYUFBQSxHQUFBMEMsQ0FBQSxVQUFJa0IsUUFBUSxDQUFDbEQsT0FBTztNQUMxQ0MsSUFBSSxFQUFFaUQsUUFBUSxDQUFDakQsSUFBSTtNQUNuQkYsSUFBSSxFQUFFQSxJQUFXO01BQ2pCSSxNQUFNLEVBQUUsU0FBUztNQUNqQmlELFNBQVMsRUFBRSxJQUFJVCxJQUFJLENBQUM7SUFDdEIsQ0FBQzs7SUFFRDtJQUNBO0lBQ0EsTUFBTVUsV0FBVztJQUFBO0lBQUEsQ0FBQS9ELGFBQUEsR0FBQUssQ0FBQSxRQUFHLE1BQU0sSUFBSSxDQUFDMkQsaUJBQWlCLENBQUN2QyxLQUFLLENBQUM7SUFBQztJQUFBekIsYUFBQSxHQUFBSyxDQUFBO0lBRXhELElBQUkwRCxXQUFXLEVBQUU7TUFBQTtNQUFBL0QsYUFBQSxHQUFBMEMsQ0FBQTtNQUFBMUMsYUFBQSxHQUFBSyxDQUFBO01BQ2Z1QixZQUFZLENBQUNmLE1BQU0sR0FBRyxNQUFNO01BQUM7TUFBQWIsYUFBQSxHQUFBSyxDQUFBO01BQzdCdUIsWUFBWSxDQUFDcUMsTUFBTSxHQUFHLElBQUlaLElBQUksQ0FBQyxDQUFDO01BQUM7TUFBQXJELGFBQUEsR0FBQUssQ0FBQTtNQUNqQyxJQUFJLENBQUNpQixNQUFNLENBQUNLLElBQUksQ0FBQywrQkFBK0JGLEtBQUssRUFBRSxDQUFDO0lBQzFELENBQUMsTUFBTTtNQUFBO01BQUF6QixhQUFBLEdBQUEwQyxDQUFBO01BQUExQyxhQUFBLEdBQUFLLENBQUE7TUFDTHVCLFlBQVksQ0FBQ2YsTUFBTSxHQUFHLFFBQVE7TUFBQztNQUFBYixhQUFBLEdBQUFLLENBQUE7TUFDL0J1QixZQUFZLENBQUM2QixhQUFhLEdBQUcsMkJBQTJCO01BQUM7TUFBQXpELGFBQUEsR0FBQUssQ0FBQTtNQUN6RCxJQUFJLENBQUNpQixNQUFNLENBQUM0QyxJQUFJLENBQUMsNEJBQTRCekMsS0FBSyxFQUFFLENBQUM7SUFDdkQ7SUFBQztJQUFBekIsYUFBQSxHQUFBSyxDQUFBO0lBRUQsSUFBSSxDQUFDRCxhQUFhLENBQUNrRCxHQUFHLENBQUNiLGNBQWMsRUFBRWIsWUFBWSxDQUFDO0lBQUM7SUFBQTVCLGFBQUEsR0FBQUssQ0FBQTtJQUNyRCxPQUFPdUIsWUFBWTtFQUNyQjtFQUVBLE1BQWNvQyxpQkFBaUJBLENBQUNHLE1BQWMsRUFBb0I7SUFBQTtJQUFBbkUsYUFBQSxHQUFBcUIsQ0FBQTtJQUFBckIsYUFBQSxHQUFBSyxDQUFBO0lBQ2hFO0lBQ0EsT0FBTytELElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJO0VBQzdCO0FBQ0YiLCJpZ25vcmVMaXN0IjpbXX0=