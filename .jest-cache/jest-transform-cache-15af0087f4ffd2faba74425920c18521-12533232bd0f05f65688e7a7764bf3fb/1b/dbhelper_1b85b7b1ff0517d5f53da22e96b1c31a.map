{"version":3,"names":["cov_21e0e1019n","actualCoverage","dbHelper","s","cleanupTestData","prisma","f","tables","table","model","toLowerCase","b","deleteMany","where","OR","email","contains","createTestDatabase","seedTestData","data","resetSequences"],"sources":["db.helper.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\n\nexport const dbHelper = {\n  cleanupTestData: async (prisma: PrismaClient) => {\n    const tables = ['User', 'Course', 'Enrollment', 'Transaction', 'Wallet'];\n    \n    for (const table of tables) {\n      const model = (prisma as any)[table.toLowerCase()];\n      if (model) {\n        await model.deleteMany({\n          where: {\n            OR: [\n              { email: { contains: '@test.azora' } },\n              { email: { contains: '@test.' } },\n            ],\n          },\n        });\n      }\n    }\n  },\n\n  createTestDatabase: async (prisma: PrismaClient) => {\n    // Run migrations\n    // This would typically be done in CI/CD\n  },\n\n  seedTestData: async (prisma: PrismaClient, data: any) => {\n    // Seed specific test data\n    return data;\n  },\n\n  resetSequences: async (prisma: PrismaClient) => {\n    // Reset auto-increment sequences if needed\n  },\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAbZ,OAAO,MAAME,QAAQ;AAAA;AAAA,CAAAF,cAAA,GAAAG,CAAA,OAAG;EACtBC,eAAe,EAAE,MAAOC,MAAoB,IAAK;IAAA;IAAAL,cAAA,GAAAM,CAAA;IAC/C,MAAMC,MAAM;IAAA;IAAA,CAAAP,cAAA,GAAAG,CAAA,OAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,aAAa,EAAE,QAAQ,CAAC;IAAC;IAAAH,cAAA,GAAAG,CAAA;IAEzE,KAAK,MAAMK,KAAK,IAAID,MAAM,EAAE;MAC1B,MAAME,KAAK;MAAA;MAAA,CAAAT,cAAA,GAAAG,CAAA,OAAIE,MAAM,CAASG,KAAK,CAACE,WAAW,CAAC,CAAC,CAAC;MAAC;MAAAV,cAAA,GAAAG,CAAA;MACnD,IAAIM,KAAK,EAAE;QAAA;QAAAT,cAAA,GAAAW,CAAA;QAAAX,cAAA,GAAAG,CAAA;QACT,MAAMM,KAAK,CAACG,UAAU,CAAC;UACrBC,KAAK,EAAE;YACLC,EAAE,EAAE,CACF;cAAEC,KAAK,EAAE;gBAAEC,QAAQ,EAAE;cAAc;YAAE,CAAC,EACtC;cAAED,KAAK,EAAE;gBAAEC,QAAQ,EAAE;cAAS;YAAE,CAAC;UAErC;QACF,CAAC,CAAC;MACJ,CAAC;MAAA;MAAA;QAAAhB,cAAA,GAAAW,CAAA;MAAA;IACH;EACF,CAAC;EAEDM,kBAAkB,EAAE,MAAOZ,MAAoB,IAAK;IAAA;IAAAL,cAAA,GAAAM,CAAA;EAGpD,CAAC,CAFC;EACA;EACD;EAEDY,YAAY,EAAE,MAAAA,CAAOb,MAAoB,EAAEc,IAAS,KAAK;IAAA;IAAAnB,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAG,CAAA;IACvD;IACA,OAAOgB,IAAI;EACb,CAAC;EAEDC,cAAc,EAAE,MAAOf,MAAoB,IAAK;IAAA;IAAAL,cAAA,GAAAM,CAAA;EAEhD,CAAC,CADC;AAEJ,CAAC","ignoreList":[]}