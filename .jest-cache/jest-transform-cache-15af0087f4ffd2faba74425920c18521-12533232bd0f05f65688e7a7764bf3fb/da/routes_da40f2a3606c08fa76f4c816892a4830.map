{"version":3,"names":["cov_7y42l9fgu","actualCoverage","express","s","require","PrismaClient","router","Router","prisma","get","req","res","f","status","b","query","jobs","job","findMany","where","orderBy","createdAt","take","json","success","data","post","userId","coverLetter","body","application","jobApplication","create","jobId","params","id","applicantId","skills","userSkill","include","skill","title","description","employerId","salary","module","exports"],"sources":["routes.js"],"sourcesContent":["const express = require('express');\nconst { PrismaClient } = require('@prisma/client');\nconst router = express.Router();\nconst prisma = new PrismaClient();\n\nrouter.get('/api/jobs', async (req, res) => {\n  const { status = 'OPEN' } = req.query;\n  const jobs = await prisma.job.findMany({\n    where: { status },\n    orderBy: { createdAt: 'desc' },\n    take: 20\n  });\n  res.json({ success: true, data: jobs });\n});\n\nrouter.post('/api/jobs/:id/apply', async (req, res) => {\n  const { userId, coverLetter } = req.body;\n  const application = await prisma.jobApplication.create({\n    data: { jobId: req.params.id, applicantId: userId, coverLetter, status: 'PENDING' }\n  });\n  res.json({ success: true, data: application });\n});\n\nrouter.get('/api/skills/assessment', async (req, res) => {\n  const { userId } = req.query;\n  const skills = await prisma.userSkill.findMany({\n    where: { userId },\n    include: { skill: true }\n  });\n  res.json({ success: true, data: skills });\n});\n\nrouter.post('/api/jobs', async (req, res) => {\n  const { title, description, employerId, salary } = req.body;\n  const job = await prisma.job.create({\n    data: { title, description, employerId, salary, status: 'OPEN' }\n  });\n  res.json({ success: true, data: job });\n});\n\nmodule.exports = router;\n"],"mappings":"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","ignoreList":[]}