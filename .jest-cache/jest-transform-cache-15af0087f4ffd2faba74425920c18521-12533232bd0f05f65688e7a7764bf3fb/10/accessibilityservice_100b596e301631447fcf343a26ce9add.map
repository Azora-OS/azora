{"version":3,"names":["cov_xeduy702p","actualCoverage","PrismaClient","logger","prisma","s","AccessibilityService","getAccessibilitySettings","userId","f","user","findUnique","where","id","b","Error","captions","transcripts","screenReaderMode","keyboardNavigation","highContrast","fontSize","language","error","updateAccessibilitySettings","settings","currentSettings","updatedSettings","info","generateCaptions","videoId","Promise","resolve","setTimeout","generateTranscript","getAvailableFeatures","name","description","enabled","trackAccessibilityUsage","featureId","duration","validateAccessibilityCompliance","contentId","issues","score","hasCaptions","Math","random","push","hasTranscripts","hasAltText","hasKeyboardNav","hasGoodContrast","compliant","max","getAccessibilityReport","courseId","compliance","overallScore","features","some","i","includes","altText","colorContrast","recommendations","accessibilityService"],"sources":["accessibility.service.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\nimport { logger } from '../utils/logger';\n\nconst prisma = new PrismaClient();\n\nexport interface AccessibilitySettings {\n  userId: string;\n  captions: boolean;\n  transcripts: boolean;\n  screenReaderMode: boolean;\n  keyboardNavigation: boolean;\n  highContrast: boolean;\n  fontSize: 'small' | 'medium' | 'large' | 'extra-large';\n  language: string;\n}\n\nexport interface AccessibilityFeature {\n  id: string;\n  name: string;\n  description: string;\n  enabled: boolean;\n}\n\nexport class AccessibilityService {\n  /**\n   * Get accessibility settings for a user\n   * Requirements: 6.1, 6.2\n   */\n  async getAccessibilitySettings(userId: string): Promise<AccessibilitySettings> {\n    try {\n      // Get user\n      const user = await prisma.user.findUnique({\n        where: { id: userId },\n      });\n\n      if (!user) {\n        throw new Error(`User not found: ${userId}`);\n      }\n\n      // Return default settings (in a real implementation, these would be stored in DB)\n      return {\n        userId,\n        captions: false,\n        transcripts: false,\n        screenReaderMode: false,\n        keyboardNavigation: false,\n        highContrast: false,\n        fontSize: 'medium',\n        language: user.language || 'en',\n      };\n    } catch (error) {\n      logger.error('Error getting accessibility settings', { error, userId });\n      throw error;\n    }\n  }\n\n  /**\n   * Update accessibility settings for a user\n   * Requirements: 6.1, 6.2\n   */\n  async updateAccessibilitySettings(\n    userId: string,\n    settings: Partial<AccessibilitySettings>\n  ): Promise<AccessibilitySettings> {\n    try {\n      // Get user\n      const user = await prisma.user.findUnique({\n        where: { id: userId },\n      });\n\n      if (!user) {\n        throw new Error(`User not found: ${userId}`);\n      }\n\n      // In a real implementation, these would be stored in a separate table\n      // For now, we'll just return the updated settings\n      const currentSettings = await this.getAccessibilitySettings(userId);\n\n      const updatedSettings: AccessibilitySettings = {\n        ...currentSettings,\n        ...settings,\n        userId, // Ensure userId is not overwritten\n      };\n\n      logger.info('Accessibility settings updated', {\n        userId,\n        settings: updatedSettings,\n      });\n\n      return updatedSettings;\n    } catch (error) {\n      logger.error('Error updating accessibility settings', { error, userId });\n      throw error;\n    }\n  }\n\n  /**\n   * Generate captions for video content\n   * Requirements: 6.1, 6.2\n   */\n  async generateCaptions(videoId: string, language: string): Promise<string> {\n    try {\n      // In a real implementation, this would call a speech-to-text service\n      // For now, we'll return a placeholder\n\n      logger.info('Generating captions', { videoId, language });\n\n      // Simulate caption generation\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n\n      // Return placeholder captions\n      return `[00:00:00] Welcome to the course\\n[00:00:05] Today we'll learn about accessibility`;\n    } catch (error) {\n      logger.error('Error generating captions', { error, videoId, language });\n      throw error;\n    }\n  }\n\n  /**\n   * Generate transcript for video content\n   * Requirements: 6.1, 6.2\n   */\n  async generateTranscript(videoId: string, language: string): Promise<string> {\n    try {\n      // In a real implementation, this would call a speech-to-text service\n      // For now, we'll return a placeholder\n\n      logger.info('Generating transcript', { videoId, language });\n\n      // Simulate transcript generation\n      await new Promise((resolve) => setTimeout(resolve, 1500));\n\n      // Return placeholder transcript\n      return `Welcome to the course. Today we'll learn about accessibility features and how to make your content accessible to everyone.`;\n    } catch (error) {\n      logger.error('Error generating transcript', { error, videoId, language });\n      throw error;\n    }\n  }\n\n  /**\n   * Get available accessibility features\n   * Requirements: 6.1, 6.2\n   */\n  getAvailableFeatures(): AccessibilityFeature[] {\n    return [\n      {\n        id: 'captions',\n        name: 'Captions',\n        description: 'Display captions for video content',\n        enabled: true,\n      },\n      {\n        id: 'transcripts',\n        name: 'Transcripts',\n        description: 'Provide text transcripts for audio and video content',\n        enabled: true,\n      },\n      {\n        id: 'screen-reader',\n        name: 'Screen Reader Mode',\n        description: 'Optimize content for screen readers',\n        enabled: true,\n      },\n      {\n        id: 'keyboard-nav',\n        name: 'Keyboard Navigation',\n        description: 'Navigate using keyboard only',\n        enabled: true,\n      },\n      {\n        id: 'high-contrast',\n        name: 'High Contrast Mode',\n        description: 'Increase contrast for better visibility',\n        enabled: true,\n      },\n      {\n        id: 'font-size',\n        name: 'Adjustable Font Size',\n        description: 'Adjust text size for readability',\n        enabled: true,\n      },\n    ];\n  }\n\n  /**\n   * Track accessibility feature usage\n   * Requirements: 6.1, 6.2\n   */\n  async trackAccessibilityUsage(\n    userId: string,\n    featureId: string,\n    duration: number\n  ): Promise<void> {\n    try {\n      logger.info('Accessibility feature usage tracked', {\n        userId,\n        featureId,\n        duration,\n      });\n\n      // In a real implementation, this would be stored in a database\n      // for analytics and reporting\n    } catch (error) {\n      logger.error('Error tracking accessibility usage', { error, userId, featureId });\n      throw error;\n    }\n  }\n\n  /**\n   * Validate content for accessibility compliance\n   * Requirements: 6.1, 6.2\n   */\n  async validateAccessibilityCompliance(contentId: string): Promise<{\n    compliant: boolean;\n    issues: string[];\n    score: number;\n  }> {\n    try {\n      const issues: string[] = [];\n      let score = 100;\n\n      // Check for captions\n      // In a real implementation, this would check actual content\n      const hasCaptions = Math.random() > 0.3; // Simulate 70% have captions\n      if (!hasCaptions) {\n        issues.push('Missing captions for video content');\n        score -= 20;\n      }\n\n      // Check for transcripts\n      const hasTranscripts = Math.random() > 0.4; // Simulate 60% have transcripts\n      if (!hasTranscripts) {\n        issues.push('Missing transcripts for audio content');\n        score -= 20;\n      }\n\n      // Check for alt text\n      const hasAltText = Math.random() > 0.2; // Simulate 80% have alt text\n      if (!hasAltText) {\n        issues.push('Missing alt text for images');\n        score -= 15;\n      }\n\n      // Check for keyboard navigation\n      const hasKeyboardNav = Math.random() > 0.1; // Simulate 90% support keyboard nav\n      if (!hasKeyboardNav) {\n        issues.push('Content not fully keyboard navigable');\n        score -= 15;\n      }\n\n      // Check for color contrast\n      const hasGoodContrast = Math.random() > 0.15; // Simulate 85% have good contrast\n      if (!hasGoodContrast) {\n        issues.push('Insufficient color contrast');\n        score -= 15;\n      }\n\n      return {\n        compliant: score >= 80,\n        issues,\n        score: Math.max(0, score),\n      };\n    } catch (error) {\n      logger.error('Error validating accessibility compliance', { error, contentId });\n      throw error;\n    }\n  }\n\n  /**\n   * Get accessibility report for a course\n   * Requirements: 6.1, 6.2\n   */\n  async getAccessibilityReport(courseId: string): Promise<{\n    courseId: string;\n    overallScore: number;\n    compliant: boolean;\n    features: {\n      captions: boolean;\n      transcripts: boolean;\n      altText: boolean;\n      keyboardNavigation: boolean;\n      colorContrast: boolean;\n    };\n    recommendations: string[];\n  }> {\n    try {\n      const compliance = await this.validateAccessibilityCompliance(courseId);\n\n      return {\n        courseId,\n        overallScore: compliance.score,\n        compliant: compliance.compliant,\n        features: {\n          captions: !compliance.issues.some((i) => i.includes('captions')),\n          transcripts: !compliance.issues.some((i) => i.includes('transcripts')),\n          altText: !compliance.issues.some((i) => i.includes('alt text')),\n          keyboardNavigation: !compliance.issues.some((i) => i.includes('keyboard')),\n          colorContrast: !compliance.issues.some((i) => i.includes('contrast')),\n        },\n        recommendations: compliance.issues,\n      };\n    } catch (error) {\n      logger.error('Error generating accessibility report', { error, courseId });\n      throw error;\n    }\n  }\n}\n\nexport const accessibilityService = new AccessibilityService();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}