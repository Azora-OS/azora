3e2c68c2cbf6b77b3e56ebd3ff132f66
/* istanbul ignore next */
function cov_xeduy702p() {
  var path = "/workspaces/azora/services/education-revenue-engine/src/services/accessibility.service.ts";
  var hash = "6b2ed2ee9fbcb4c0e218c1ddb76ef4ed58c1a7ff";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/education-revenue-engine/src/services/accessibility.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 4,
          column: 15
        },
        end: {
          line: 4,
          column: 33
        }
      },
      "1": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 54,
          column: 5
        }
      },
      "2": {
        start: {
          line: 32,
          column: 19
        },
        end: {
          line: 34,
          column: 8
        }
      },
      "3": {
        start: {
          line: 36,
          column: 6
        },
        end: {
          line: 38,
          column: 7
        }
      },
      "4": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 37,
          column: 53
        }
      },
      "5": {
        start: {
          line: 41,
          column: 6
        },
        end: {
          line: 50,
          column: 8
        }
      },
      "6": {
        start: {
          line: 52,
          column: 6
        },
        end: {
          line: 52,
          column: 78
        }
      },
      "7": {
        start: {
          line: 53,
          column: 6
        },
        end: {
          line: 53,
          column: 18
        }
      },
      "8": {
        start: {
          line: 65,
          column: 4
        },
        end: {
          line: 94,
          column: 5
        }
      },
      "9": {
        start: {
          line: 67,
          column: 19
        },
        end: {
          line: 69,
          column: 8
        }
      },
      "10": {
        start: {
          line: 71,
          column: 6
        },
        end: {
          line: 73,
          column: 7
        }
      },
      "11": {
        start: {
          line: 72,
          column: 8
        },
        end: {
          line: 72,
          column: 53
        }
      },
      "12": {
        start: {
          line: 77,
          column: 30
        },
        end: {
          line: 77,
          column: 73
        }
      },
      "13": {
        start: {
          line: 79,
          column: 53
        },
        end: {
          line: 83,
          column: 7
        }
      },
      "14": {
        start: {
          line: 85,
          column: 6
        },
        end: {
          line: 88,
          column: 9
        }
      },
      "15": {
        start: {
          line: 90,
          column: 6
        },
        end: {
          line: 90,
          column: 29
        }
      },
      "16": {
        start: {
          line: 92,
          column: 6
        },
        end: {
          line: 92,
          column: 79
        }
      },
      "17": {
        start: {
          line: 93,
          column: 6
        },
        end: {
          line: 93,
          column: 18
        }
      },
      "18": {
        start: {
          line: 102,
          column: 4
        },
        end: {
          line: 116,
          column: 5
        }
      },
      "19": {
        start: {
          line: 106,
          column: 6
        },
        end: {
          line: 106,
          column: 64
        }
      },
      "20": {
        start: {
          line: 109,
          column: 6
        },
        end: {
          line: 109,
          column: 64
        }
      },
      "21": {
        start: {
          line: 109,
          column: 37
        },
        end: {
          line: 109,
          column: 62
        }
      },
      "22": {
        start: {
          line: 112,
          column: 6
        },
        end: {
          line: 112,
          column: 98
        }
      },
      "23": {
        start: {
          line: 114,
          column: 6
        },
        end: {
          line: 114,
          column: 78
        }
      },
      "24": {
        start: {
          line: 115,
          column: 6
        },
        end: {
          line: 115,
          column: 18
        }
      },
      "25": {
        start: {
          line: 124,
          column: 4
        },
        end: {
          line: 138,
          column: 5
        }
      },
      "26": {
        start: {
          line: 128,
          column: 6
        },
        end: {
          line: 128,
          column: 66
        }
      },
      "27": {
        start: {
          line: 131,
          column: 6
        },
        end: {
          line: 131,
          column: 64
        }
      },
      "28": {
        start: {
          line: 131,
          column: 37
        },
        end: {
          line: 131,
          column: 62
        }
      },
      "29": {
        start: {
          line: 134,
          column: 6
        },
        end: {
          line: 134,
          column: 138
        }
      },
      "30": {
        start: {
          line: 136,
          column: 6
        },
        end: {
          line: 136,
          column: 80
        }
      },
      "31": {
        start: {
          line: 137,
          column: 6
        },
        end: {
          line: 137,
          column: 18
        }
      },
      "32": {
        start: {
          line: 146,
          column: 4
        },
        end: {
          line: 183,
          column: 6
        }
      },
      "33": {
        start: {
          line: 195,
          column: 4
        },
        end: {
          line: 207,
          column: 5
        }
      },
      "34": {
        start: {
          line: 196,
          column: 6
        },
        end: {
          line: 200,
          column: 9
        }
      },
      "35": {
        start: {
          line: 205,
          column: 6
        },
        end: {
          line: 205,
          column: 87
        }
      },
      "36": {
        start: {
          line: 206,
          column: 6
        },
        end: {
          line: 206,
          column: 18
        }
      },
      "37": {
        start: {
          line: 219,
          column: 4
        },
        end: {
          line: 267,
          column: 5
        }
      },
      "38": {
        start: {
          line: 220,
          column: 31
        },
        end: {
          line: 220,
          column: 33
        }
      },
      "39": {
        start: {
          line: 221,
          column: 18
        },
        end: {
          line: 221,
          column: 21
        }
      },
      "40": {
        start: {
          line: 225,
          column: 26
        },
        end: {
          line: 225,
          column: 45
        }
      },
      "41": {
        start: {
          line: 226,
          column: 6
        },
        end: {
          line: 229,
          column: 7
        }
      },
      "42": {
        start: {
          line: 227,
          column: 8
        },
        end: {
          line: 227,
          column: 58
        }
      },
      "43": {
        start: {
          line: 228,
          column: 8
        },
        end: {
          line: 228,
          column: 20
        }
      },
      "44": {
        start: {
          line: 232,
          column: 29
        },
        end: {
          line: 232,
          column: 48
        }
      },
      "45": {
        start: {
          line: 233,
          column: 6
        },
        end: {
          line: 236,
          column: 7
        }
      },
      "46": {
        start: {
          line: 234,
          column: 8
        },
        end: {
          line: 234,
          column: 61
        }
      },
      "47": {
        start: {
          line: 235,
          column: 8
        },
        end: {
          line: 235,
          column: 20
        }
      },
      "48": {
        start: {
          line: 239,
          column: 25
        },
        end: {
          line: 239,
          column: 44
        }
      },
      "49": {
        start: {
          line: 240,
          column: 6
        },
        end: {
          line: 243,
          column: 7
        }
      },
      "50": {
        start: {
          line: 241,
          column: 8
        },
        end: {
          line: 241,
          column: 51
        }
      },
      "51": {
        start: {
          line: 242,
          column: 8
        },
        end: {
          line: 242,
          column: 20
        }
      },
      "52": {
        start: {
          line: 246,
          column: 29
        },
        end: {
          line: 246,
          column: 48
        }
      },
      "53": {
        start: {
          line: 247,
          column: 6
        },
        end: {
          line: 250,
          column: 7
        }
      },
      "54": {
        start: {
          line: 248,
          column: 8
        },
        end: {
          line: 248,
          column: 60
        }
      },
      "55": {
        start: {
          line: 249,
          column: 8
        },
        end: {
          line: 249,
          column: 20
        }
      },
      "56": {
        start: {
          line: 253,
          column: 30
        },
        end: {
          line: 253,
          column: 50
        }
      },
      "57": {
        start: {
          line: 254,
          column: 6
        },
        end: {
          line: 257,
          column: 7
        }
      },
      "58": {
        start: {
          line: 255,
          column: 8
        },
        end: {
          line: 255,
          column: 51
        }
      },
      "59": {
        start: {
          line: 256,
          column: 8
        },
        end: {
          line: 256,
          column: 20
        }
      },
      "60": {
        start: {
          line: 259,
          column: 6
        },
        end: {
          line: 263,
          column: 8
        }
      },
      "61": {
        start: {
          line: 265,
          column: 6
        },
        end: {
          line: 265,
          column: 86
        }
      },
      "62": {
        start: {
          line: 266,
          column: 6
        },
        end: {
          line: 266,
          column: 18
        }
      },
      "63": {
        start: {
          line: 287,
          column: 4
        },
        end: {
          line: 306,
          column: 5
        }
      },
      "64": {
        start: {
          line: 288,
          column: 25
        },
        end: {
          line: 288,
          column: 77
        }
      },
      "65": {
        start: {
          line: 290,
          column: 6
        },
        end: {
          line: 302,
          column: 8
        }
      },
      "66": {
        start: {
          line: 295,
          column: 51
        },
        end: {
          line: 295,
          column: 73
        }
      },
      "67": {
        start: {
          line: 296,
          column: 54
        },
        end: {
          line: 296,
          column: 79
        }
      },
      "68": {
        start: {
          line: 297,
          column: 50
        },
        end: {
          line: 297,
          column: 72
        }
      },
      "69": {
        start: {
          line: 298,
          column: 61
        },
        end: {
          line: 298,
          column: 83
        }
      },
      "70": {
        start: {
          line: 299,
          column: 56
        },
        end: {
          line: 299,
          column: 78
        }
      },
      "71": {
        start: {
          line: 304,
          column: 6
        },
        end: {
          line: 304,
          column: 81
        }
      },
      "72": {
        start: {
          line: 305,
          column: 6
        },
        end: {
          line: 305,
          column: 18
        }
      },
      "73": {
        start: {
          line: 310,
          column: 36
        },
        end: {
          line: 310,
          column: 62
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 29,
            column: 2
          },
          end: {
            line: 29,
            column: 3
          }
        },
        loc: {
          start: {
            line: 29,
            column: 81
          },
          end: {
            line: 55,
            column: 3
          }
        },
        line: 29
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 61,
            column: 2
          },
          end: {
            line: 61,
            column: 3
          }
        },
        loc: {
          start: {
            line: 64,
            column: 36
          },
          end: {
            line: 95,
            column: 3
          }
        },
        line: 64
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 101,
            column: 2
          },
          end: {
            line: 101,
            column: 3
          }
        },
        loc: {
          start: {
            line: 101,
            column: 77
          },
          end: {
            line: 117,
            column: 3
          }
        },
        line: 101
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 109,
            column: 24
          },
          end: {
            line: 109,
            column: 25
          }
        },
        loc: {
          start: {
            line: 109,
            column: 37
          },
          end: {
            line: 109,
            column: 62
          }
        },
        line: 109
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 123,
            column: 2
          },
          end: {
            line: 123,
            column: 3
          }
        },
        loc: {
          start: {
            line: 123,
            column: 79
          },
          end: {
            line: 139,
            column: 3
          }
        },
        line: 123
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 131,
            column: 24
          },
          end: {
            line: 131,
            column: 25
          }
        },
        loc: {
          start: {
            line: 131,
            column: 37
          },
          end: {
            line: 131,
            column: 62
          }
        },
        line: 131
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 145,
            column: 2
          },
          end: {
            line: 145,
            column: 3
          }
        },
        loc: {
          start: {
            line: 145,
            column: 49
          },
          end: {
            line: 184,
            column: 3
          }
        },
        line: 145
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 190,
            column: 2
          },
          end: {
            line: 190,
            column: 3
          }
        },
        loc: {
          start: {
            line: 194,
            column: 19
          },
          end: {
            line: 208,
            column: 3
          }
        },
        line: 194
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 214,
            column: 2
          },
          end: {
            line: 214,
            column: 3
          }
        },
        loc: {
          start: {
            line: 218,
            column: 5
          },
          end: {
            line: 268,
            column: 3
          }
        },
        line: 218
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 274,
            column: 2
          },
          end: {
            line: 274,
            column: 3
          }
        },
        loc: {
          start: {
            line: 286,
            column: 5
          },
          end: {
            line: 307,
            column: 3
          }
        },
        line: 286
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 295,
            column: 44
          },
          end: {
            line: 295,
            column: 45
          }
        },
        loc: {
          start: {
            line: 295,
            column: 51
          },
          end: {
            line: 295,
            column: 73
          }
        },
        line: 295
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 296,
            column: 47
          },
          end: {
            line: 296,
            column: 48
          }
        },
        loc: {
          start: {
            line: 296,
            column: 54
          },
          end: {
            line: 296,
            column: 79
          }
        },
        line: 296
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 297,
            column: 43
          },
          end: {
            line: 297,
            column: 44
          }
        },
        loc: {
          start: {
            line: 297,
            column: 50
          },
          end: {
            line: 297,
            column: 72
          }
        },
        line: 297
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 298,
            column: 54
          },
          end: {
            line: 298,
            column: 55
          }
        },
        loc: {
          start: {
            line: 298,
            column: 61
          },
          end: {
            line: 298,
            column: 83
          }
        },
        line: 298
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 299,
            column: 49
          },
          end: {
            line: 299,
            column: 50
          }
        },
        loc: {
          start: {
            line: 299,
            column: 56
          },
          end: {
            line: 299,
            column: 78
          }
        },
        line: 299
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 36,
            column: 6
          },
          end: {
            line: 38,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 36,
            column: 6
          },
          end: {
            line: 38,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 36
      },
      "1": {
        loc: {
          start: {
            line: 49,
            column: 18
          },
          end: {
            line: 49,
            column: 39
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 49,
            column: 18
          },
          end: {
            line: 49,
            column: 31
          }
        }, {
          start: {
            line: 49,
            column: 35
          },
          end: {
            line: 49,
            column: 39
          }
        }],
        line: 49
      },
      "2": {
        loc: {
          start: {
            line: 71,
            column: 6
          },
          end: {
            line: 73,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 71,
            column: 6
          },
          end: {
            line: 73,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 71
      },
      "3": {
        loc: {
          start: {
            line: 226,
            column: 6
          },
          end: {
            line: 229,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 226,
            column: 6
          },
          end: {
            line: 229,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 226
      },
      "4": {
        loc: {
          start: {
            line: 233,
            column: 6
          },
          end: {
            line: 236,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 233,
            column: 6
          },
          end: {
            line: 236,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 233
      },
      "5": {
        loc: {
          start: {
            line: 240,
            column: 6
          },
          end: {
            line: 243,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 240,
            column: 6
          },
          end: {
            line: 243,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 240
      },
      "6": {
        loc: {
          start: {
            line: 247,
            column: 6
          },
          end: {
            line: 250,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 247,
            column: 6
          },
          end: {
            line: 250,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 247
      },
      "7": {
        loc: {
          start: {
            line: 254,
            column: 6
          },
          end: {
            line: 257,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 254,
            column: 6
          },
          end: {
            line: 257,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 254
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "6b2ed2ee9fbcb4c0e218c1ddb76ef4ed58c1a7ff"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_xeduy702p = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_xeduy702p();
import { PrismaClient } from '@prisma/client';
import { logger } from '../utils/logger';
const prisma =
/* istanbul ignore next */
(cov_xeduy702p().s[0]++, new PrismaClient());
export class AccessibilityService {
  /**
   * Get accessibility settings for a user
   * Requirements: 6.1, 6.2
   */
  async getAccessibilitySettings(userId) {
    /* istanbul ignore next */
    cov_xeduy702p().f[0]++;
    cov_xeduy702p().s[1]++;
    try {
      // Get user
      const user =
      /* istanbul ignore next */
      (cov_xeduy702p().s[2]++, await prisma.user.findUnique({
        where: {
          id: userId
        }
      }));
      /* istanbul ignore next */
      cov_xeduy702p().s[3]++;
      if (!user) {
        /* istanbul ignore next */
        cov_xeduy702p().b[0][0]++;
        cov_xeduy702p().s[4]++;
        throw new Error(`User not found: ${userId}`);
      } else
      /* istanbul ignore next */
      {
        cov_xeduy702p().b[0][1]++;
      }

      // Return default settings (in a real implementation, these would be stored in DB)
      cov_xeduy702p().s[5]++;
      return {
        userId,
        captions: false,
        transcripts: false,
        screenReaderMode: false,
        keyboardNavigation: false,
        highContrast: false,
        fontSize: 'medium',
        language:
        /* istanbul ignore next */
        (cov_xeduy702p().b[1][0]++, user.language) ||
        /* istanbul ignore next */
        (cov_xeduy702p().b[1][1]++, 'en')
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_xeduy702p().s[6]++;
      logger.error('Error getting accessibility settings', {
        error,
        userId
      });
      /* istanbul ignore next */
      cov_xeduy702p().s[7]++;
      throw error;
    }
  }

  /**
   * Update accessibility settings for a user
   * Requirements: 6.1, 6.2
   */
  async updateAccessibilitySettings(userId, settings) {
    /* istanbul ignore next */
    cov_xeduy702p().f[1]++;
    cov_xeduy702p().s[8]++;
    try {
      // Get user
      const user =
      /* istanbul ignore next */
      (cov_xeduy702p().s[9]++, await prisma.user.findUnique({
        where: {
          id: userId
        }
      }));
      /* istanbul ignore next */
      cov_xeduy702p().s[10]++;
      if (!user) {
        /* istanbul ignore next */
        cov_xeduy702p().b[2][0]++;
        cov_xeduy702p().s[11]++;
        throw new Error(`User not found: ${userId}`);
      } else
      /* istanbul ignore next */
      {
        cov_xeduy702p().b[2][1]++;
      }

      // In a real implementation, these would be stored in a separate table
      // For now, we'll just return the updated settings
      const currentSettings =
      /* istanbul ignore next */
      (cov_xeduy702p().s[12]++, await this.getAccessibilitySettings(userId));
      const updatedSettings =
      /* istanbul ignore next */
      (cov_xeduy702p().s[13]++, {
        ...currentSettings,
        ...settings,
        userId // Ensure userId is not overwritten
      });
      /* istanbul ignore next */
      cov_xeduy702p().s[14]++;
      logger.info('Accessibility settings updated', {
        userId,
        settings: updatedSettings
      });
      /* istanbul ignore next */
      cov_xeduy702p().s[15]++;
      return updatedSettings;
    } catch (error) {
      /* istanbul ignore next */
      cov_xeduy702p().s[16]++;
      logger.error('Error updating accessibility settings', {
        error,
        userId
      });
      /* istanbul ignore next */
      cov_xeduy702p().s[17]++;
      throw error;
    }
  }

  /**
   * Generate captions for video content
   * Requirements: 6.1, 6.2
   */
  async generateCaptions(videoId, language) {
    /* istanbul ignore next */
    cov_xeduy702p().f[2]++;
    cov_xeduy702p().s[18]++;
    try {
      /* istanbul ignore next */
      cov_xeduy702p().s[19]++;
      // In a real implementation, this would call a speech-to-text service
      // For now, we'll return a placeholder

      logger.info('Generating captions', {
        videoId,
        language
      });

      // Simulate caption generation
      /* istanbul ignore next */
      cov_xeduy702p().s[20]++;
      await new Promise(resolve => {
        /* istanbul ignore next */
        cov_xeduy702p().f[3]++;
        cov_xeduy702p().s[21]++;
        return setTimeout(resolve, 1000);
      });

      // Return placeholder captions
      /* istanbul ignore next */
      cov_xeduy702p().s[22]++;
      return `[00:00:00] Welcome to the course\n[00:00:05] Today we'll learn about accessibility`;
    } catch (error) {
      /* istanbul ignore next */
      cov_xeduy702p().s[23]++;
      logger.error('Error generating captions', {
        error,
        videoId,
        language
      });
      /* istanbul ignore next */
      cov_xeduy702p().s[24]++;
      throw error;
    }
  }

  /**
   * Generate transcript for video content
   * Requirements: 6.1, 6.2
   */
  async generateTranscript(videoId, language) {
    /* istanbul ignore next */
    cov_xeduy702p().f[4]++;
    cov_xeduy702p().s[25]++;
    try {
      /* istanbul ignore next */
      cov_xeduy702p().s[26]++;
      // In a real implementation, this would call a speech-to-text service
      // For now, we'll return a placeholder

      logger.info('Generating transcript', {
        videoId,
        language
      });

      // Simulate transcript generation
      /* istanbul ignore next */
      cov_xeduy702p().s[27]++;
      await new Promise(resolve => {
        /* istanbul ignore next */
        cov_xeduy702p().f[5]++;
        cov_xeduy702p().s[28]++;
        return setTimeout(resolve, 1500);
      });

      // Return placeholder transcript
      /* istanbul ignore next */
      cov_xeduy702p().s[29]++;
      return `Welcome to the course. Today we'll learn about accessibility features and how to make your content accessible to everyone.`;
    } catch (error) {
      /* istanbul ignore next */
      cov_xeduy702p().s[30]++;
      logger.error('Error generating transcript', {
        error,
        videoId,
        language
      });
      /* istanbul ignore next */
      cov_xeduy702p().s[31]++;
      throw error;
    }
  }

  /**
   * Get available accessibility features
   * Requirements: 6.1, 6.2
   */
  getAvailableFeatures() {
    /* istanbul ignore next */
    cov_xeduy702p().f[6]++;
    cov_xeduy702p().s[32]++;
    return [{
      id: 'captions',
      name: 'Captions',
      description: 'Display captions for video content',
      enabled: true
    }, {
      id: 'transcripts',
      name: 'Transcripts',
      description: 'Provide text transcripts for audio and video content',
      enabled: true
    }, {
      id: 'screen-reader',
      name: 'Screen Reader Mode',
      description: 'Optimize content for screen readers',
      enabled: true
    }, {
      id: 'keyboard-nav',
      name: 'Keyboard Navigation',
      description: 'Navigate using keyboard only',
      enabled: true
    }, {
      id: 'high-contrast',
      name: 'High Contrast Mode',
      description: 'Increase contrast for better visibility',
      enabled: true
    }, {
      id: 'font-size',
      name: 'Adjustable Font Size',
      description: 'Adjust text size for readability',
      enabled: true
    }];
  }

  /**
   * Track accessibility feature usage
   * Requirements: 6.1, 6.2
   */
  async trackAccessibilityUsage(userId, featureId, duration) {
    /* istanbul ignore next */
    cov_xeduy702p().f[7]++;
    cov_xeduy702p().s[33]++;
    try {
      /* istanbul ignore next */
      cov_xeduy702p().s[34]++;
      logger.info('Accessibility feature usage tracked', {
        userId,
        featureId,
        duration
      });

      // In a real implementation, this would be stored in a database
      // for analytics and reporting
    } catch (error) {
      /* istanbul ignore next */
      cov_xeduy702p().s[35]++;
      logger.error('Error tracking accessibility usage', {
        error,
        userId,
        featureId
      });
      /* istanbul ignore next */
      cov_xeduy702p().s[36]++;
      throw error;
    }
  }

  /**
   * Validate content for accessibility compliance
   * Requirements: 6.1, 6.2
   */
  async validateAccessibilityCompliance(contentId) {
    /* istanbul ignore next */
    cov_xeduy702p().f[8]++;
    cov_xeduy702p().s[37]++;
    try {
      const issues =
      /* istanbul ignore next */
      (cov_xeduy702p().s[38]++, []);
      let score =
      /* istanbul ignore next */
      (cov_xeduy702p().s[39]++, 100);

      // Check for captions
      // In a real implementation, this would check actual content
      const hasCaptions =
      /* istanbul ignore next */
      (cov_xeduy702p().s[40]++, Math.random() > 0.3); // Simulate 70% have captions
      /* istanbul ignore next */
      cov_xeduy702p().s[41]++;
      if (!hasCaptions) {
        /* istanbul ignore next */
        cov_xeduy702p().b[3][0]++;
        cov_xeduy702p().s[42]++;
        issues.push('Missing captions for video content');
        /* istanbul ignore next */
        cov_xeduy702p().s[43]++;
        score -= 20;
      } else
      /* istanbul ignore next */
      {
        cov_xeduy702p().b[3][1]++;
      }

      // Check for transcripts
      const hasTranscripts =
      /* istanbul ignore next */
      (cov_xeduy702p().s[44]++, Math.random() > 0.4); // Simulate 60% have transcripts
      /* istanbul ignore next */
      cov_xeduy702p().s[45]++;
      if (!hasTranscripts) {
        /* istanbul ignore next */
        cov_xeduy702p().b[4][0]++;
        cov_xeduy702p().s[46]++;
        issues.push('Missing transcripts for audio content');
        /* istanbul ignore next */
        cov_xeduy702p().s[47]++;
        score -= 20;
      } else
      /* istanbul ignore next */
      {
        cov_xeduy702p().b[4][1]++;
      }

      // Check for alt text
      const hasAltText =
      /* istanbul ignore next */
      (cov_xeduy702p().s[48]++, Math.random() > 0.2); // Simulate 80% have alt text
      /* istanbul ignore next */
      cov_xeduy702p().s[49]++;
      if (!hasAltText) {
        /* istanbul ignore next */
        cov_xeduy702p().b[5][0]++;
        cov_xeduy702p().s[50]++;
        issues.push('Missing alt text for images');
        /* istanbul ignore next */
        cov_xeduy702p().s[51]++;
        score -= 15;
      } else
      /* istanbul ignore next */
      {
        cov_xeduy702p().b[5][1]++;
      }

      // Check for keyboard navigation
      const hasKeyboardNav =
      /* istanbul ignore next */
      (cov_xeduy702p().s[52]++, Math.random() > 0.1); // Simulate 90% support keyboard nav
      /* istanbul ignore next */
      cov_xeduy702p().s[53]++;
      if (!hasKeyboardNav) {
        /* istanbul ignore next */
        cov_xeduy702p().b[6][0]++;
        cov_xeduy702p().s[54]++;
        issues.push('Content not fully keyboard navigable');
        /* istanbul ignore next */
        cov_xeduy702p().s[55]++;
        score -= 15;
      } else
      /* istanbul ignore next */
      {
        cov_xeduy702p().b[6][1]++;
      }

      // Check for color contrast
      const hasGoodContrast =
      /* istanbul ignore next */
      (cov_xeduy702p().s[56]++, Math.random() > 0.15); // Simulate 85% have good contrast
      /* istanbul ignore next */
      cov_xeduy702p().s[57]++;
      if (!hasGoodContrast) {
        /* istanbul ignore next */
        cov_xeduy702p().b[7][0]++;
        cov_xeduy702p().s[58]++;
        issues.push('Insufficient color contrast');
        /* istanbul ignore next */
        cov_xeduy702p().s[59]++;
        score -= 15;
      } else
      /* istanbul ignore next */
      {
        cov_xeduy702p().b[7][1]++;
      }
      cov_xeduy702p().s[60]++;
      return {
        compliant: score >= 80,
        issues,
        score: Math.max(0, score)
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_xeduy702p().s[61]++;
      logger.error('Error validating accessibility compliance', {
        error,
        contentId
      });
      /* istanbul ignore next */
      cov_xeduy702p().s[62]++;
      throw error;
    }
  }

  /**
   * Get accessibility report for a course
   * Requirements: 6.1, 6.2
   */
  async getAccessibilityReport(courseId) {
    /* istanbul ignore next */
    cov_xeduy702p().f[9]++;
    cov_xeduy702p().s[63]++;
    try {
      const compliance =
      /* istanbul ignore next */
      (cov_xeduy702p().s[64]++, await this.validateAccessibilityCompliance(courseId));
      /* istanbul ignore next */
      cov_xeduy702p().s[65]++;
      return {
        courseId,
        overallScore: compliance.score,
        compliant: compliance.compliant,
        features: {
          captions: !compliance.issues.some(i => {
            /* istanbul ignore next */
            cov_xeduy702p().f[10]++;
            cov_xeduy702p().s[66]++;
            return i.includes('captions');
          }),
          transcripts: !compliance.issues.some(i => {
            /* istanbul ignore next */
            cov_xeduy702p().f[11]++;
            cov_xeduy702p().s[67]++;
            return i.includes('transcripts');
          }),
          altText: !compliance.issues.some(i => {
            /* istanbul ignore next */
            cov_xeduy702p().f[12]++;
            cov_xeduy702p().s[68]++;
            return i.includes('alt text');
          }),
          keyboardNavigation: !compliance.issues.some(i => {
            /* istanbul ignore next */
            cov_xeduy702p().f[13]++;
            cov_xeduy702p().s[69]++;
            return i.includes('keyboard');
          }),
          colorContrast: !compliance.issues.some(i => {
            /* istanbul ignore next */
            cov_xeduy702p().f[14]++;
            cov_xeduy702p().s[70]++;
            return i.includes('contrast');
          })
        },
        recommendations: compliance.issues
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_xeduy702p().s[71]++;
      logger.error('Error generating accessibility report', {
        error,
        courseId
      });
      /* istanbul ignore next */
      cov_xeduy702p().s[72]++;
      throw error;
    }
  }
}
export const accessibilityService =
/* istanbul ignore next */
(cov_xeduy702p().s[73]++, new AccessibilityService());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfeGVkdXk3MDJwIiwiYWN0dWFsQ292ZXJhZ2UiLCJQcmlzbWFDbGllbnQiLCJsb2dnZXIiLCJwcmlzbWEiLCJzIiwiQWNjZXNzaWJpbGl0eVNlcnZpY2UiLCJnZXRBY2Nlc3NpYmlsaXR5U2V0dGluZ3MiLCJ1c2VySWQiLCJmIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImlkIiwiYiIsIkVycm9yIiwiY2FwdGlvbnMiLCJ0cmFuc2NyaXB0cyIsInNjcmVlblJlYWRlck1vZGUiLCJrZXlib2FyZE5hdmlnYXRpb24iLCJoaWdoQ29udHJhc3QiLCJmb250U2l6ZSIsImxhbmd1YWdlIiwiZXJyb3IiLCJ1cGRhdGVBY2Nlc3NpYmlsaXR5U2V0dGluZ3MiLCJzZXR0aW5ncyIsImN1cnJlbnRTZXR0aW5ncyIsInVwZGF0ZWRTZXR0aW5ncyIsImluZm8iLCJnZW5lcmF0ZUNhcHRpb25zIiwidmlkZW9JZCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImdlbmVyYXRlVHJhbnNjcmlwdCIsImdldEF2YWlsYWJsZUZlYXR1cmVzIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiZW5hYmxlZCIsInRyYWNrQWNjZXNzaWJpbGl0eVVzYWdlIiwiZmVhdHVyZUlkIiwiZHVyYXRpb24iLCJ2YWxpZGF0ZUFjY2Vzc2liaWxpdHlDb21wbGlhbmNlIiwiY29udGVudElkIiwiaXNzdWVzIiwic2NvcmUiLCJoYXNDYXB0aW9ucyIsIk1hdGgiLCJyYW5kb20iLCJwdXNoIiwiaGFzVHJhbnNjcmlwdHMiLCJoYXNBbHRUZXh0IiwiaGFzS2V5Ym9hcmROYXYiLCJoYXNHb29kQ29udHJhc3QiLCJjb21wbGlhbnQiLCJtYXgiLCJnZXRBY2Nlc3NpYmlsaXR5UmVwb3J0IiwiY291cnNlSWQiLCJjb21wbGlhbmNlIiwib3ZlcmFsbFNjb3JlIiwiZmVhdHVyZXMiLCJzb21lIiwiaSIsImluY2x1ZGVzIiwiYWx0VGV4dCIsImNvbG9yQ29udHJhc3QiLCJyZWNvbW1lbmRhdGlvbnMiLCJhY2Nlc3NpYmlsaXR5U2VydmljZSJdLCJzb3VyY2VzIjpbImFjY2Vzc2liaWxpdHkuc2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWNjZXNzaWJpbGl0eVNldHRpbmdzIHtcbiAgdXNlcklkOiBzdHJpbmc7XG4gIGNhcHRpb25zOiBib29sZWFuO1xuICB0cmFuc2NyaXB0czogYm9vbGVhbjtcbiAgc2NyZWVuUmVhZGVyTW9kZTogYm9vbGVhbjtcbiAga2V5Ym9hcmROYXZpZ2F0aW9uOiBib29sZWFuO1xuICBoaWdoQ29udHJhc3Q6IGJvb2xlYW47XG4gIGZvbnRTaXplOiAnc21hbGwnIHwgJ21lZGl1bScgfCAnbGFyZ2UnIHwgJ2V4dHJhLWxhcmdlJztcbiAgbGFuZ3VhZ2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY2Nlc3NpYmlsaXR5RmVhdHVyZSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgZW5hYmxlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEFjY2Vzc2liaWxpdHlTZXJ2aWNlIHtcbiAgLyoqXG4gICAqIEdldCBhY2Nlc3NpYmlsaXR5IHNldHRpbmdzIGZvciBhIHVzZXJcbiAgICogUmVxdWlyZW1lbnRzOiA2LjEsIDYuMlxuICAgKi9cbiAgYXN5bmMgZ2V0QWNjZXNzaWJpbGl0eVNldHRpbmdzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxBY2Nlc3NpYmlsaXR5U2V0dGluZ3M+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IHVzZXJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHVzZXJJZCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVzZXIgbm90IGZvdW5kOiAke3VzZXJJZH1gKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmV0dXJuIGRlZmF1bHQgc2V0dGluZ3MgKGluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgdGhlc2Ugd291bGQgYmUgc3RvcmVkIGluIERCKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBjYXB0aW9uczogZmFsc2UsXG4gICAgICAgIHRyYW5zY3JpcHRzOiBmYWxzZSxcbiAgICAgICAgc2NyZWVuUmVhZGVyTW9kZTogZmFsc2UsXG4gICAgICAgIGtleWJvYXJkTmF2aWdhdGlvbjogZmFsc2UsXG4gICAgICAgIGhpZ2hDb250cmFzdDogZmFsc2UsXG4gICAgICAgIGZvbnRTaXplOiAnbWVkaXVtJyxcbiAgICAgICAgbGFuZ3VhZ2U6IHVzZXIubGFuZ3VhZ2UgfHwgJ2VuJyxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZ2V0dGluZyBhY2Nlc3NpYmlsaXR5IHNldHRpbmdzJywgeyBlcnJvciwgdXNlcklkIH0pO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhY2Nlc3NpYmlsaXR5IHNldHRpbmdzIGZvciBhIHVzZXJcbiAgICogUmVxdWlyZW1lbnRzOiA2LjEsIDYuMlxuICAgKi9cbiAgYXN5bmMgdXBkYXRlQWNjZXNzaWJpbGl0eVNldHRpbmdzKFxuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIHNldHRpbmdzOiBQYXJ0aWFsPEFjY2Vzc2liaWxpdHlTZXR0aW5ncz5cbiAgKTogUHJvbWlzZTxBY2Nlc3NpYmlsaXR5U2V0dGluZ3M+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IHVzZXJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHVzZXJJZCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVzZXIgbm90IGZvdW5kOiAke3VzZXJJZH1gKTtcbiAgICAgIH1cblxuICAgICAgLy8gSW4gYSByZWFsIGltcGxlbWVudGF0aW9uLCB0aGVzZSB3b3VsZCBiZSBzdG9yZWQgaW4gYSBzZXBhcmF0ZSB0YWJsZVxuICAgICAgLy8gRm9yIG5vdywgd2UnbGwganVzdCByZXR1cm4gdGhlIHVwZGF0ZWQgc2V0dGluZ3NcbiAgICAgIGNvbnN0IGN1cnJlbnRTZXR0aW5ncyA9IGF3YWl0IHRoaXMuZ2V0QWNjZXNzaWJpbGl0eVNldHRpbmdzKHVzZXJJZCk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5nczogQWNjZXNzaWJpbGl0eVNldHRpbmdzID0ge1xuICAgICAgICAuLi5jdXJyZW50U2V0dGluZ3MsXG4gICAgICAgIC4uLnNldHRpbmdzLFxuICAgICAgICB1c2VySWQsIC8vIEVuc3VyZSB1c2VySWQgaXMgbm90IG92ZXJ3cml0dGVuXG4gICAgICB9O1xuXG4gICAgICBsb2dnZXIuaW5mbygnQWNjZXNzaWJpbGl0eSBzZXR0aW5ncyB1cGRhdGVkJywge1xuICAgICAgICB1c2VySWQsXG4gICAgICAgIHNldHRpbmdzOiB1cGRhdGVkU2V0dGluZ3MsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHVwZGF0ZWRTZXR0aW5ncztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciB1cGRhdGluZyBhY2Nlc3NpYmlsaXR5IHNldHRpbmdzJywgeyBlcnJvciwgdXNlcklkIH0pO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGNhcHRpb25zIGZvciB2aWRlbyBjb250ZW50XG4gICAqIFJlcXVpcmVtZW50czogNi4xLCA2LjJcbiAgICovXG4gIGFzeW5jIGdlbmVyYXRlQ2FwdGlvbnModmlkZW9JZDogc3RyaW5nLCBsYW5ndWFnZTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICB0cnkge1xuICAgICAgLy8gSW4gYSByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIGNhbGwgYSBzcGVlY2gtdG8tdGV4dCBzZXJ2aWNlXG4gICAgICAvLyBGb3Igbm93LCB3ZSdsbCByZXR1cm4gYSBwbGFjZWhvbGRlclxuXG4gICAgICBsb2dnZXIuaW5mbygnR2VuZXJhdGluZyBjYXB0aW9ucycsIHsgdmlkZW9JZCwgbGFuZ3VhZ2UgfSk7XG5cbiAgICAgIC8vIFNpbXVsYXRlIGNhcHRpb24gZ2VuZXJhdGlvblxuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xuXG4gICAgICAvLyBSZXR1cm4gcGxhY2Vob2xkZXIgY2FwdGlvbnNcbiAgICAgIHJldHVybiBgWzAwOjAwOjAwXSBXZWxjb21lIHRvIHRoZSBjb3Vyc2VcXG5bMDA6MDA6MDVdIFRvZGF5IHdlJ2xsIGxlYXJuIGFib3V0IGFjY2Vzc2liaWxpdHlgO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgY2FwdGlvbnMnLCB7IGVycm9yLCB2aWRlb0lkLCBsYW5ndWFnZSB9KTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSB0cmFuc2NyaXB0IGZvciB2aWRlbyBjb250ZW50XG4gICAqIFJlcXVpcmVtZW50czogNi4xLCA2LjJcbiAgICovXG4gIGFzeW5jIGdlbmVyYXRlVHJhbnNjcmlwdCh2aWRlb0lkOiBzdHJpbmcsIGxhbmd1YWdlOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBJbiBhIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgY2FsbCBhIHNwZWVjaC10by10ZXh0IHNlcnZpY2VcbiAgICAgIC8vIEZvciBub3csIHdlJ2xsIHJldHVybiBhIHBsYWNlaG9sZGVyXG5cbiAgICAgIGxvZ2dlci5pbmZvKCdHZW5lcmF0aW5nIHRyYW5zY3JpcHQnLCB7IHZpZGVvSWQsIGxhbmd1YWdlIH0pO1xuXG4gICAgICAvLyBTaW11bGF0ZSB0cmFuc2NyaXB0IGdlbmVyYXRpb25cbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDE1MDApKTtcblxuICAgICAgLy8gUmV0dXJuIHBsYWNlaG9sZGVyIHRyYW5zY3JpcHRcbiAgICAgIHJldHVybiBgV2VsY29tZSB0byB0aGUgY291cnNlLiBUb2RheSB3ZSdsbCBsZWFybiBhYm91dCBhY2Nlc3NpYmlsaXR5IGZlYXR1cmVzIGFuZCBob3cgdG8gbWFrZSB5b3VyIGNvbnRlbnQgYWNjZXNzaWJsZSB0byBldmVyeW9uZS5gO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgdHJhbnNjcmlwdCcsIHsgZXJyb3IsIHZpZGVvSWQsIGxhbmd1YWdlIH0pO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhdmFpbGFibGUgYWNjZXNzaWJpbGl0eSBmZWF0dXJlc1xuICAgKiBSZXF1aXJlbWVudHM6IDYuMSwgNi4yXG4gICAqL1xuICBnZXRBdmFpbGFibGVGZWF0dXJlcygpOiBBY2Nlc3NpYmlsaXR5RmVhdHVyZVtdIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICBpZDogJ2NhcHRpb25zJyxcbiAgICAgICAgbmFtZTogJ0NhcHRpb25zJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdEaXNwbGF5IGNhcHRpb25zIGZvciB2aWRlbyBjb250ZW50JyxcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAndHJhbnNjcmlwdHMnLFxuICAgICAgICBuYW1lOiAnVHJhbnNjcmlwdHMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Byb3ZpZGUgdGV4dCB0cmFuc2NyaXB0cyBmb3IgYXVkaW8gYW5kIHZpZGVvIGNvbnRlbnQnLFxuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdzY3JlZW4tcmVhZGVyJyxcbiAgICAgICAgbmFtZTogJ1NjcmVlbiBSZWFkZXIgTW9kZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnT3B0aW1pemUgY29udGVudCBmb3Igc2NyZWVuIHJlYWRlcnMnLFxuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdrZXlib2FyZC1uYXYnLFxuICAgICAgICBuYW1lOiAnS2V5Ym9hcmQgTmF2aWdhdGlvbicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTmF2aWdhdGUgdXNpbmcga2V5Ym9hcmQgb25seScsXG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ2hpZ2gtY29udHJhc3QnLFxuICAgICAgICBuYW1lOiAnSGlnaCBDb250cmFzdCBNb2RlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdJbmNyZWFzZSBjb250cmFzdCBmb3IgYmV0dGVyIHZpc2liaWxpdHknLFxuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdmb250LXNpemUnLFxuICAgICAgICBuYW1lOiAnQWRqdXN0YWJsZSBGb250IFNpemUnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FkanVzdCB0ZXh0IHNpemUgZm9yIHJlYWRhYmlsaXR5JyxcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFjayBhY2Nlc3NpYmlsaXR5IGZlYXR1cmUgdXNhZ2VcbiAgICogUmVxdWlyZW1lbnRzOiA2LjEsIDYuMlxuICAgKi9cbiAgYXN5bmMgdHJhY2tBY2Nlc3NpYmlsaXR5VXNhZ2UoXG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgZmVhdHVyZUlkOiBzdHJpbmcsXG4gICAgZHVyYXRpb246IG51bWJlclxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgbG9nZ2VyLmluZm8oJ0FjY2Vzc2liaWxpdHkgZmVhdHVyZSB1c2FnZSB0cmFja2VkJywge1xuICAgICAgICB1c2VySWQsXG4gICAgICAgIGZlYXR1cmVJZCxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICB9KTtcblxuICAgICAgLy8gSW4gYSByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIGJlIHN0b3JlZCBpbiBhIGRhdGFiYXNlXG4gICAgICAvLyBmb3IgYW5hbHl0aWNzIGFuZCByZXBvcnRpbmdcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciB0cmFja2luZyBhY2Nlc3NpYmlsaXR5IHVzYWdlJywgeyBlcnJvciwgdXNlcklkLCBmZWF0dXJlSWQgfSk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgY29udGVudCBmb3IgYWNjZXNzaWJpbGl0eSBjb21wbGlhbmNlXG4gICAqIFJlcXVpcmVtZW50czogNi4xLCA2LjJcbiAgICovXG4gIGFzeW5jIHZhbGlkYXRlQWNjZXNzaWJpbGl0eUNvbXBsaWFuY2UoY29udGVudElkOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgICBjb21wbGlhbnQ6IGJvb2xlYW47XG4gICAgaXNzdWVzOiBzdHJpbmdbXTtcbiAgICBzY29yZTogbnVtYmVyO1xuICB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGlzc3Vlczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGxldCBzY29yZSA9IDEwMDtcblxuICAgICAgLy8gQ2hlY2sgZm9yIGNhcHRpb25zXG4gICAgICAvLyBJbiBhIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgY2hlY2sgYWN0dWFsIGNvbnRlbnRcbiAgICAgIGNvbnN0IGhhc0NhcHRpb25zID0gTWF0aC5yYW5kb20oKSA+IDAuMzsgLy8gU2ltdWxhdGUgNzAlIGhhdmUgY2FwdGlvbnNcbiAgICAgIGlmICghaGFzQ2FwdGlvbnMpIHtcbiAgICAgICAgaXNzdWVzLnB1c2goJ01pc3NpbmcgY2FwdGlvbnMgZm9yIHZpZGVvIGNvbnRlbnQnKTtcbiAgICAgICAgc2NvcmUgLT0gMjA7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGZvciB0cmFuc2NyaXB0c1xuICAgICAgY29uc3QgaGFzVHJhbnNjcmlwdHMgPSBNYXRoLnJhbmRvbSgpID4gMC40OyAvLyBTaW11bGF0ZSA2MCUgaGF2ZSB0cmFuc2NyaXB0c1xuICAgICAgaWYgKCFoYXNUcmFuc2NyaXB0cykge1xuICAgICAgICBpc3N1ZXMucHVzaCgnTWlzc2luZyB0cmFuc2NyaXB0cyBmb3IgYXVkaW8gY29udGVudCcpO1xuICAgICAgICBzY29yZSAtPSAyMDtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIGFsdCB0ZXh0XG4gICAgICBjb25zdCBoYXNBbHRUZXh0ID0gTWF0aC5yYW5kb20oKSA+IDAuMjsgLy8gU2ltdWxhdGUgODAlIGhhdmUgYWx0IHRleHRcbiAgICAgIGlmICghaGFzQWx0VGV4dCkge1xuICAgICAgICBpc3N1ZXMucHVzaCgnTWlzc2luZyBhbHQgdGV4dCBmb3IgaW1hZ2VzJyk7XG4gICAgICAgIHNjb3JlIC09IDE1O1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgICAgY29uc3QgaGFzS2V5Ym9hcmROYXYgPSBNYXRoLnJhbmRvbSgpID4gMC4xOyAvLyBTaW11bGF0ZSA5MCUgc3VwcG9ydCBrZXlib2FyZCBuYXZcbiAgICAgIGlmICghaGFzS2V5Ym9hcmROYXYpIHtcbiAgICAgICAgaXNzdWVzLnB1c2goJ0NvbnRlbnQgbm90IGZ1bGx5IGtleWJvYXJkIG5hdmlnYWJsZScpO1xuICAgICAgICBzY29yZSAtPSAxNTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIGNvbG9yIGNvbnRyYXN0XG4gICAgICBjb25zdCBoYXNHb29kQ29udHJhc3QgPSBNYXRoLnJhbmRvbSgpID4gMC4xNTsgLy8gU2ltdWxhdGUgODUlIGhhdmUgZ29vZCBjb250cmFzdFxuICAgICAgaWYgKCFoYXNHb29kQ29udHJhc3QpIHtcbiAgICAgICAgaXNzdWVzLnB1c2goJ0luc3VmZmljaWVudCBjb2xvciBjb250cmFzdCcpO1xuICAgICAgICBzY29yZSAtPSAxNTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29tcGxpYW50OiBzY29yZSA+PSA4MCxcbiAgICAgICAgaXNzdWVzLFxuICAgICAgICBzY29yZTogTWF0aC5tYXgoMCwgc2NvcmUpLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciB2YWxpZGF0aW5nIGFjY2Vzc2liaWxpdHkgY29tcGxpYW5jZScsIHsgZXJyb3IsIGNvbnRlbnRJZCB9KTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWNjZXNzaWJpbGl0eSByZXBvcnQgZm9yIGEgY291cnNlXG4gICAqIFJlcXVpcmVtZW50czogNi4xLCA2LjJcbiAgICovXG4gIGFzeW5jIGdldEFjY2Vzc2liaWxpdHlSZXBvcnQoY291cnNlSWQ6IHN0cmluZyk6IFByb21pc2U8e1xuICAgIGNvdXJzZUlkOiBzdHJpbmc7XG4gICAgb3ZlcmFsbFNjb3JlOiBudW1iZXI7XG4gICAgY29tcGxpYW50OiBib29sZWFuO1xuICAgIGZlYXR1cmVzOiB7XG4gICAgICBjYXB0aW9uczogYm9vbGVhbjtcbiAgICAgIHRyYW5zY3JpcHRzOiBib29sZWFuO1xuICAgICAgYWx0VGV4dDogYm9vbGVhbjtcbiAgICAgIGtleWJvYXJkTmF2aWdhdGlvbjogYm9vbGVhbjtcbiAgICAgIGNvbG9yQ29udHJhc3Q6IGJvb2xlYW47XG4gICAgfTtcbiAgICByZWNvbW1lbmRhdGlvbnM6IHN0cmluZ1tdO1xuICB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbXBsaWFuY2UgPSBhd2FpdCB0aGlzLnZhbGlkYXRlQWNjZXNzaWJpbGl0eUNvbXBsaWFuY2UoY291cnNlSWQpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb3Vyc2VJZCxcbiAgICAgICAgb3ZlcmFsbFNjb3JlOiBjb21wbGlhbmNlLnNjb3JlLFxuICAgICAgICBjb21wbGlhbnQ6IGNvbXBsaWFuY2UuY29tcGxpYW50LFxuICAgICAgICBmZWF0dXJlczoge1xuICAgICAgICAgIGNhcHRpb25zOiAhY29tcGxpYW5jZS5pc3N1ZXMuc29tZSgoaSkgPT4gaS5pbmNsdWRlcygnY2FwdGlvbnMnKSksXG4gICAgICAgICAgdHJhbnNjcmlwdHM6ICFjb21wbGlhbmNlLmlzc3Vlcy5zb21lKChpKSA9PiBpLmluY2x1ZGVzKCd0cmFuc2NyaXB0cycpKSxcbiAgICAgICAgICBhbHRUZXh0OiAhY29tcGxpYW5jZS5pc3N1ZXMuc29tZSgoaSkgPT4gaS5pbmNsdWRlcygnYWx0IHRleHQnKSksXG4gICAgICAgICAga2V5Ym9hcmROYXZpZ2F0aW9uOiAhY29tcGxpYW5jZS5pc3N1ZXMuc29tZSgoaSkgPT4gaS5pbmNsdWRlcygna2V5Ym9hcmQnKSksXG4gICAgICAgICAgY29sb3JDb250cmFzdDogIWNvbXBsaWFuY2UuaXNzdWVzLnNvbWUoKGkpID0+IGkuaW5jbHVkZXMoJ2NvbnRyYXN0JykpLFxuICAgICAgICB9LFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IGNvbXBsaWFuY2UuaXNzdWVzLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIGFjY2Vzc2liaWxpdHkgcmVwb3J0JywgeyBlcnJvciwgY291cnNlSWQgfSk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGFjY2Vzc2liaWxpdHlTZXJ2aWNlID0gbmV3IEFjY2Vzc2liaWxpdHlTZXJ2aWNlKCk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBZVk7SUFBQUEsYUFBQSxZQUFBQSxDQUFBO01BQUEsT0FBQUMsY0FBQTtJQUFBO0VBQUE7RUFBQSxPQUFBQSxjQUFBO0FBQUE7QUFBQUQsYUFBQTtBQWZaLFNBQVNFLFlBQVksUUFBUSxnQkFBZ0I7QUFDN0MsU0FBU0MsTUFBTSxRQUFRLGlC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