{"version":3,"names":["cov_15pos7llh9","actualCoverage","ethers","signingRequests","s","Map","transactionRequests","connectWallet","f","window","ethereum","b","Error","accounts","request","method","length","address","chainIdHex","chainId","parseInt","provider","BrowserProvider","balance","getBalance","isConnected","formatEther","error","message","disconnectWallet","clear","switchNetwork","toString","params","code","addNetwork","chainName","rpcUrls","nativeCurrency","name","symbol","decimals","blockExplorerUrls","requestSignature","id","Date","now","Math","random","substr","status","createdAt","expiresAt","set","signature","requestTransaction","to","value","data","hash","from","parseEther","getSigningRequest","get","getTransactionRequest","getCurrentConnection","onAccountsChanged","callback","on","onChainChanged","removeListeners","removeAllListeners","isWalletConnected","connection","getWalletProvider"],"sources":["wallet-connector.ts"],"sourcesContent":["/**\n * Wallet Connector\n * Manages wallet connections and user interactions\n */\n\nimport { ethers } from 'ethers';\n\nexport interface WalletConnection {\n  address: string;\n  chainId: number;\n  isConnected: boolean;\n  balance: string;\n  provider: string;\n}\n\nexport interface SigningRequest {\n  id: string;\n  message: string;\n  address: string;\n  status: 'pending' | 'signed' | 'rejected';\n  signature?: string;\n  createdAt: Date;\n  expiresAt: Date;\n}\n\nexport interface TransactionRequest {\n  id: string;\n  to: string;\n  value: string;\n  data?: string;\n  gasLimit?: string;\n  status: 'pending' | 'approved' | 'rejected' | 'confirmed';\n  hash?: string;\n  createdAt: Date;\n  expiresAt: Date;\n}\n\n/**\n * In-memory storage for requests\n */\nconst signingRequests = new Map<string, SigningRequest>();\nconst transactionRequests = new Map<string, TransactionRequest>();\n\n/**\n * Connect to MetaMask or other Web3 wallet\n */\nexport async function connectWallet(): Promise<WalletConnection> {\n  if (!window.ethereum) {\n    throw new Error('No Web3 wallet found. Please install MetaMask or similar.');\n  }\n\n  try {\n    // Request account access\n    const accounts = await window.ethereum.request({\n      method: 'eth_requestAccounts',\n    });\n\n    if (!accounts || accounts.length === 0) {\n      throw new Error('No accounts found');\n    }\n\n    const address = accounts[0];\n\n    // Get chain ID\n    const chainIdHex = await window.ethereum.request({\n      method: 'eth_chainId',\n    });\n    const chainId = parseInt(chainIdHex, 16);\n\n    // Get balance\n    const provider = new ethers.BrowserProvider(window.ethereum);\n    const balance = await provider.getBalance(address);\n\n    return {\n      address,\n      chainId,\n      isConnected: true,\n      balance: ethers.formatEther(balance),\n      provider: 'MetaMask',\n    };\n  } catch (error) {\n    throw new Error(`Wallet connection failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n  }\n}\n\n/**\n * Disconnect wallet\n */\nexport function disconnectWallet(): void {\n  // Clear any stored connection data\n  signingRequests.clear();\n  transactionRequests.clear();\n}\n\n/**\n * Switch network\n */\nexport async function switchNetwork(chainId: number): Promise<void> {\n  if (!window.ethereum) {\n    throw new Error('No Web3 wallet found');\n  }\n\n  try {\n    const chainIdHex = `0x${chainId.toString(16)}`;\n\n    await window.ethereum.request({\n      method: 'wallet_switchEthereumChain',\n      params: [{ chainId: chainIdHex }],\n    });\n  } catch (error: any) {\n    // If chain not added, add it\n    if (error.code === 4902) {\n      await addNetwork(chainId);\n    } else {\n      throw new Error(`Network switch failed: ${error.message}`);\n    }\n  }\n}\n\n/**\n * Add network to wallet\n */\nexport async function addNetwork(chainId: number): Promise<void> {\n  if (!window.ethereum) {\n    throw new Error('No Web3 wallet found');\n  }\n\n  // Polygon Mumbai testnet\n  if (chainId === 80001) {\n    await window.ethereum.request({\n      method: 'wallet_addEthereumChain',\n      params: [\n        {\n          chainId: '0x13881',\n          chainName: 'Polygon Mumbai',\n          rpcUrls: ['https://rpc-mumbai.maticvigil.com'],\n          nativeCurrency: {\n            name: 'MATIC',\n            symbol: 'MATIC',\n            decimals: 18,\n          },\n          blockExplorerUrls: ['https://mumbai.polygonscan.com'],\n        },\n      ],\n    });\n  }\n  // Polygon mainnet\n  else if (chainId === 137) {\n    await window.ethereum.request({\n      method: 'wallet_addEthereumChain',\n      params: [\n        {\n          chainId: '0x89',\n          chainName: 'Polygon',\n          rpcUrls: ['https://polygon-rpc.com'],\n          nativeCurrency: {\n            name: 'MATIC',\n            symbol: 'MATIC',\n            decimals: 18,\n          },\n          blockExplorerUrls: ['https://polygonscan.com'],\n        },\n      ],\n    });\n  }\n}\n\n/**\n * Request signature\n */\nexport async function requestSignature(message: string, address: string): Promise<SigningRequest> {\n  if (!window.ethereum) {\n    throw new Error('No Web3 wallet found');\n  }\n\n  const request: SigningRequest = {\n    id: `sig_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n    message,\n    address,\n    status: 'pending',\n    createdAt: new Date(),\n    expiresAt: new Date(Date.now() + 5 * 60 * 1000), // 5 minutes\n  };\n\n  signingRequests.set(request.id, request);\n\n  try {\n    const signature = await window.ethereum.request({\n      method: 'personal_sign',\n      params: [message, address],\n    });\n\n    request.signature = signature;\n    request.status = 'signed';\n\n    return request;\n  } catch (error) {\n    request.status = 'rejected';\n    throw new Error(`Signature request failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n  }\n}\n\n/**\n * Request transaction approval\n */\nexport async function requestTransaction(\n  to: string,\n  value: string,\n  data?: string\n): Promise<TransactionRequest> {\n  if (!window.ethereum) {\n    throw new Error('No Web3 wallet found');\n  }\n\n  const request: TransactionRequest = {\n    id: `tx_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n    to,\n    value,\n    data,\n    status: 'pending',\n    createdAt: new Date(),\n    expiresAt: new Date(Date.now() + 5 * 60 * 1000), // 5 minutes\n  };\n\n  transactionRequests.set(request.id, request);\n\n  try {\n    const accounts = await window.ethereum.request({\n      method: 'eth_accounts',\n    });\n\n    if (!accounts || accounts.length === 0) {\n      throw new Error('No accounts connected');\n    }\n\n    const hash = await window.ethereum.request({\n      method: 'eth_sendTransaction',\n      params: [\n        {\n          from: accounts[0],\n          to,\n          value: ethers.parseEther(value).toString(),\n          data,\n        },\n      ],\n    });\n\n    request.hash = hash;\n    request.status = 'approved';\n\n    return request;\n  } catch (error) {\n    request.status = 'rejected';\n    throw new Error(`Transaction request failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n  }\n}\n\n/**\n * Get signing request\n */\nexport function getSigningRequest(id: string): SigningRequest | null {\n  return signingRequests.get(id) || null;\n}\n\n/**\n * Get transaction request\n */\nexport function getTransactionRequest(id: string): TransactionRequest | null {\n  return transactionRequests.get(id) || null;\n}\n\n/**\n * Get current wallet connection\n */\nexport async function getCurrentConnection(): Promise<WalletConnection | null> {\n  if (!window.ethereum) {\n    return null;\n  }\n\n  try {\n    const accounts = await window.ethereum.request({\n      method: 'eth_accounts',\n    });\n\n    if (!accounts || accounts.length === 0) {\n      return null;\n    }\n\n    const chainIdHex = await window.ethereum.request({\n      method: 'eth_chainId',\n    });\n    const chainId = parseInt(chainIdHex, 16);\n\n    const provider = new ethers.BrowserProvider(window.ethereum);\n    const balance = await provider.getBalance(accounts[0]);\n\n    return {\n      address: accounts[0],\n      chainId,\n      isConnected: true,\n      balance: ethers.formatEther(balance),\n      provider: 'MetaMask',\n    };\n  } catch (error) {\n    return null;\n  }\n}\n\n/**\n * Listen for account changes\n */\nexport function onAccountsChanged(callback: (accounts: string[]) => void): void {\n  if (window.ethereum) {\n    window.ethereum.on('accountsChanged', callback);\n  }\n}\n\n/**\n * Listen for chain changes\n */\nexport function onChainChanged(callback: (chainId: string) => void): void {\n  if (window.ethereum) {\n    window.ethereum.on('chainChanged', callback);\n  }\n}\n\n/**\n * Remove listeners\n */\nexport function removeListeners(): void {\n  if (window.ethereum) {\n    window.ethereum.removeAllListeners();\n  }\n}\n\n/**\n * Check if wallet is connected\n */\nexport async function isWalletConnected(): Promise<boolean> {\n  const connection = await getCurrentConnection();\n  return connection !== null && connection.isConnected;\n}\n\n/**\n * Get wallet provider\n */\nexport function getWalletProvider(): ethers.BrowserProvider | null {\n  if (!window.ethereum) {\n    return null;\n  }\n\n  return new ethers.BrowserProvider(window.ethereum);\n}\n\n// Extend window interface for TypeScript\ndeclare global {\n  interface Window {\n    ethereum?: any;\n  }\n}\n\nexport default {\n  connectWallet,\n  disconnectWallet,\n  switchNetwork,\n  addNetwork,\n  requestSignature,\n  requestTransaction,\n  getSigningRequest,\n  getTransactionRequest,\n  getCurrentConnection,\n  onAccountsChanged,\n  onChainChanged,\n  removeListeners,\n  isWalletConnected,\n  getWalletProvider,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}