{"version":3,"names":["cov_1f38giglv8","actualCoverage","rateLimit","RateLimiterMemory","rateLimiter","s","windowMs","max","message","success","error","standardHeaders","legacyHeaders","aiRateLimiter","keyPrefix","points","duration","biddingRateLimiter","watchlistRateLimiter","registrationRateLimiter"],"sources":["rateLimiter.ts"],"sourcesContent":["/*\nAZORA PROPRIETARY LICENSE\n\nCopyright Â© 2025 Azora ES (Pty) Ltd. All Rights Reserved.\n\nSee LICENSE file for details.\n*/\n\nimport rateLimit from 'express-rate-limit';\nimport { RateLimiterMemory } from 'rate-limiter-flexible';\n\nexport const rateLimiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100, // limit each IP to 100 requests per windowMs\n  message: {\n    success: false,\n    error: 'Too many requests from this IP, please try again later.',\n  },\n  standardHeaders: true,\n  legacyHeaders: false,\n});\n\n// AI-specific rate limiter for marketplace operations\nexport const aiRateLimiter = new RateLimiterMemory({\n  keyPrefix: 'ai_marketplace',\n  points: 10, // Number of requests\n  duration: 60, // Per 60 seconds\n});\n\n// Bidding rate limiter\nexport const biddingRateLimiter = new RateLimiterMemory({\n  keyPrefix: 'bidding',\n  points: 5, // Number of bids\n  duration: 60, // Per 60 seconds\n});\n\n// Watchlist rate limiter\nexport const watchlistRateLimiter = new RateLimiterMemory({\n  keyPrefix: 'watchlist',\n  points: 10, // Number of watchlist additions\n  duration: 60, // Per 60 seconds\n});\n\n// Registration rate limiter\nexport const registrationRateLimiter = new RateLimiterMemory({\n  keyPrefix: 'registration',\n  points: 3, // Number of registrations\n  duration: 3600, // Per hour\n});"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOE,SAAS,MAAM,oBAAoB;AAC1C,SAASC,iBAAiB,QAAQ,uBAAuB;AAEzD,OAAO,MAAMC,WAAW;AAAA;AAAA,CAAAJ,cAAA,GAAAK,CAAA,OAAGH,SAAS,CAAC;EACnCI,QAAQ,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI;EAAE;EAC1BC,GAAG,EAAE,GAAG;EAAE;EACVC,OAAO,EAAE;IACPC,OAAO,EAAE,KAAK;IACdC,KAAK,EAAE;EACT,CAAC;EACDC,eAAe,EAAE,IAAI;EACrBC,aAAa,EAAE;AACjB,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMC,aAAa;AAAA;AAAA,CAAAb,cAAA,GAAAK,CAAA,OAAG,IAAIF,iBAAiB,CAAC;EACjDW,SAAS,EAAE,gBAAgB;EAC3BC,MAAM,EAAE,EAAE;EAAE;EACZC,QAAQ,EAAE,EAAE,CAAE;AAChB,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMC,kBAAkB;AAAA;AAAA,CAAAjB,cAAA,GAAAK,CAAA,OAAG,IAAIF,iBAAiB,CAAC;EACtDW,SAAS,EAAE,SAAS;EACpBC,MAAM,EAAE,CAAC;EAAE;EACXC,QAAQ,EAAE,EAAE,CAAE;AAChB,CAAC,CAAC;;AAEF;AACA,OAAO,MAAME,oBAAoB;AAAA;AAAA,CAAAlB,cAAA,GAAAK,CAAA,OAAG,IAAIF,iBAAiB,CAAC;EACxDW,SAAS,EAAE,WAAW;EACtBC,MAAM,EAAE,EAAE;EAAE;EACZC,QAAQ,EAAE,EAAE,CAAE;AAChB,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMG,uBAAuB;AAAA;AAAA,CAAAnB,cAAA,GAAAK,CAAA,OAAG,IAAIF,iBAAiB,CAAC;EAC3DW,SAAS,EAAE,cAAc;EACzBC,MAAM,EAAE,CAAC;EAAE;EACXC,QAAQ,EAAE,IAAI,CAAE;AAClB,CAAC,CAAC","ignoreList":[]}