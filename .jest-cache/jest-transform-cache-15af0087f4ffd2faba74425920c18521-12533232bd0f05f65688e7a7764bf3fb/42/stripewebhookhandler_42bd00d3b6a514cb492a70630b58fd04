f741988c457ae8c3adffa3b2cb742d74
/* istanbul ignore next */
function cov_42idjlaib() {
  var path = "/workspaces/azora/services/billing-service/src/stripe-webhook-handler.ts";
  var hash = "5bab5f28be32155e359bbda6e4b1c6cd5d5d1571";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/billing-service/src/stripe-webhook-handler.ts",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 15
        },
        end: {
          line: 8,
          column: 2
        }
      },
      "1": {
        start: {
          line: 10,
          column: 15
        },
        end: {
          line: 10,
          column: 33
        }
      },
      "2": {
        start: {
          line: 29,
          column: 4
        },
        end: {
          line: 29,
          column: 65
        }
      },
      "3": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 30,
          column: 85
        }
      },
      "4": {
        start: {
          line: 32,
          column: 4
        },
        end: {
          line: 34,
          column: 5
        }
      },
      "5": {
        start: {
          line: 33,
          column: 6
        },
        end: {
          line: 33,
          column: 95
        }
      },
      "6": {
        start: {
          line: 41,
          column: 16
        },
        end: {
          line: 41,
          column: 57
        }
      },
      "7": {
        start: {
          line: 43,
          column: 4
        },
        end: {
          line: 46,
          column: 5
        }
      },
      "8": {
        start: {
          line: 44,
          column: 6
        },
        end: {
          line: 44,
          column: 62
        }
      },
      "9": {
        start: {
          line: 45,
          column: 6
        },
        end: {
          line: 45,
          column: 13
        }
      },
      "10": {
        start: {
          line: 50,
          column: 4
        },
        end: {
          line: 61,
          column: 5
        }
      },
      "11": {
        start: {
          line: 52,
          column: 6
        },
        end: {
          line: 56,
          column: 30
        }
      },
      "12": {
        start: {
          line: 58,
          column: 6
        },
        end: {
          line: 58,
          column: 79
        }
      },
      "13": {
        start: {
          line: 59,
          column: 6
        },
        end: {
          line: 59,
          column: 60
        }
      },
      "14": {
        start: {
          line: 60,
          column: 6
        },
        end: {
          line: 60,
          column: 13
        }
      },
      "15": {
        start: {
          line: 63,
          column: 4
        },
        end: {
          line: 63,
          column: 67
        }
      },
      "16": {
        start: {
          line: 65,
          column: 4
        },
        end: {
          line: 81,
          column: 5
        }
      },
      "17": {
        start: {
          line: 67,
          column: 6
        },
        end: {
          line: 67,
          column: 37
        }
      },
      "18": {
        start: {
          line: 68,
          column: 6
        },
        end: {
          line: 68,
          column: 52
        }
      },
      "19": {
        start: {
          line: 70,
          column: 6
        },
        end: {
          line: 70,
          column: 72
        }
      },
      "20": {
        start: {
          line: 73,
          column: 6
        },
        end: {
          line: 73,
          column: 56
        }
      },
      "21": {
        start: {
          line: 76,
          column: 6
        },
        end: {
          line: 80,
          column: 9
        }
      },
      "22": {
        start: {
          line: 88,
          column: 4
        },
        end: {
          line: 142,
          column: 5
        }
      },
      "23": {
        start: {
          line: 91,
          column: 8
        },
        end: {
          line: 91,
          column: 47
        }
      },
      "24": {
        start: {
          line: 92,
          column: 8
        },
        end: {
          line: 92,
          column: 14
        }
      },
      "25": {
        start: {
          line: 94,
          column: 8
        },
        end: {
          line: 94,
          column: 46
        }
      },
      "26": {
        start: {
          line: 95,
          column: 8
        },
        end: {
          line: 95,
          column: 14
        }
      },
      "27": {
        start: {
          line: 99,
          column: 8
        },
        end: {
          line: 99,
          column: 46
        }
      },
      "28": {
        start: {
          line: 100,
          column: 8
        },
        end: {
          line: 100,
          column: 14
        }
      },
      "29": {
        start: {
          line: 102,
          column: 8
        },
        end: {
          line: 102,
          column: 47
        }
      },
      "30": {
        start: {
          line: 103,
          column: 8
        },
        end: {
          line: 103,
          column: 14
        }
      },
      "31": {
        start: {
          line: 107,
          column: 8
        },
        end: {
          line: 107,
          column: 52
        }
      },
      "32": {
        start: {
          line: 108,
          column: 8
        },
        end: {
          line: 108,
          column: 14
        }
      },
      "33": {
        start: {
          line: 110,
          column: 8
        },
        end: {
          line: 110,
          column: 52
        }
      },
      "34": {
        start: {
          line: 111,
          column: 8
        },
        end: {
          line: 111,
          column: 14
        }
      },
      "35": {
        start: {
          line: 113,
          column: 8
        },
        end: {
          line: 113,
          column: 52
        }
      },
      "36": {
        start: {
          line: 114,
          column: 8
        },
        end: {
          line: 114,
          column: 14
        }
      },
      "37": {
        start: {
          line: 118,
          column: 8
        },
        end: {
          line: 118,
          column: 44
        }
      },
      "38": {
        start: {
          line: 119,
          column: 8
        },
        end: {
          line: 119,
          column: 14
        }
      },
      "39": {
        start: {
          line: 121,
          column: 8
        },
        end: {
          line: 121,
          column: 46
        }
      },
      "40": {
        start: {
          line: 122,
          column: 8
        },
        end: {
          line: 122,
          column: 14
        }
      },
      "41": {
        start: {
          line: 126,
          column: 8
        },
        end: {
          line: 126,
          column: 48
        }
      },
      "42": {
        start: {
          line: 127,
          column: 8
        },
        end: {
          line: 127,
          column: 14
        }
      },
      "43": {
        start: {
          line: 129,
          column: 8
        },
        end: {
          line: 129,
          column: 48
        }
      },
      "44": {
        start: {
          line: 130,
          column: 8
        },
        end: {
          line: 130,
          column: 14
        }
      },
      "45": {
        start: {
          line: 134,
          column: 8
        },
        end: {
          line: 134,
          column: 43
        }
      },
      "46": {
        start: {
          line: 135,
          column: 8
        },
        end: {
          line: 135,
          column: 14
        }
      },
      "47": {
        start: {
          line: 137,
          column: 8
        },
        end: {
          line: 137,
          column: 45
        }
      },
      "48": {
        start: {
          line: 138,
          column: 8
        },
        end: {
          line: 138,
          column: 14
        }
      },
      "49": {
        start: {
          line: 141,
          column: 8
        },
        end: {
          line: 141,
          column: 63
        }
      },
      "50": {
        start: {
          line: 149,
          column: 26
        },
        end: {
          line: 149,
          column: 67
        }
      },
      "51": {
        start: {
          line: 151,
          column: 4
        },
        end: {
          line: 151,
          column: 94
        }
      },
      "52": {
        start: {
          line: 154,
          column: 24
        },
        end: {
          line: 165,
          column: 6
        }
      },
      "53": {
        start: {
          line: 168,
          column: 4
        },
        end: {
          line: 168,
          column: 73
        }
      },
      "54": {
        start: {
          line: 171,
          column: 4
        },
        end: {
          line: 181,
          column: 5
        }
      },
      "55": {
        start: {
          line: 172,
          column: 6
        },
        end: {
          line: 175,
          column: 8
        }
      },
      "56": {
        start: {
          line: 176,
          column: 11
        },
        end: {
          line: 181,
          column: 5
        }
      },
      "57": {
        start: {
          line: 177,
          column: 6
        },
        end: {
          line: 180,
          column: 8
        }
      },
      "58": {
        start: {
          line: 183,
          column: 4
        },
        end: {
          line: 183,
          column: 61
        }
      },
      "59": {
        start: {
          line: 190,
          column: 26
        },
        end: {
          line: 190,
          column: 67
        }
      },
      "60": {
        start: {
          line: 192,
          column: 4
        },
        end: {
          line: 192,
          column: 57
        }
      },
      "61": {
        start: {
          line: 194,
          column: 4
        },
        end: {
          line: 205,
          column: 7
        }
      },
      "62": {
        start: {
          line: 208,
          column: 4
        },
        end: {
          line: 211,
          column: 6
        }
      },
      "63": {
        start: {
          line: 218,
          column: 19
        },
        end: {
          line: 218,
          column: 53
        }
      },
      "64": {
        start: {
          line: 220,
          column: 4
        },
        end: {
          line: 220,
          column: 79
        }
      },
      "65": {
        start: {
          line: 222,
          column: 4
        },
        end: {
          line: 239,
          column: 7
        }
      },
      "66": {
        start: {
          line: 246,
          column: 19
        },
        end: {
          line: 246,
          column: 53
        }
      },
      "67": {
        start: {
          line: 248,
          column: 4
        },
        end: {
          line: 248,
          column: 87
        }
      },
      "68": {
        start: {
          line: 250,
          column: 4
        },
        end: {
          line: 258,
          column: 7
        }
      },
      "69": {
        start: {
          line: 261,
          column: 4
        },
        end: {
          line: 261,
          column: 85
        }
      },
      "70": {
        start: {
          line: 268,
          column: 20
        },
        end: {
          line: 268,
          column: 55
        }
      },
      "71": {
        start: {
          line: 270,
          column: 4
        },
        end: {
          line: 270,
          column: 82
        }
      },
      "72": {
        start: {
          line: 272,
          column: 4
        },
        end: {
          line: 284,
          column: 7
        }
      },
      "73": {
        start: {
          line: 287,
          column: 26
        },
        end: {
          line: 287,
          column: 86
        }
      },
      "74": {
        start: {
          line: 288,
          column: 4
        },
        end: {
          line: 288,
          column: 66
        }
      },
      "75": {
        start: {
          line: 295,
          column: 25
        },
        end: {
          line: 295,
          column: 65
        }
      },
      "76": {
        start: {
          line: 297,
          column: 4
        },
        end: {
          line: 297,
          column: 63
        }
      },
      "77": {
        start: {
          line: 299,
          column: 4
        },
        end: {
          line: 310,
          column: 7
        }
      },
      "78": {
        start: {
          line: 317,
          column: 25
        },
        end: {
          line: 317,
          column: 65
        }
      },
      "79": {
        start: {
          line: 319,
          column: 4
        },
        end: {
          line: 319,
          column: 88
        }
      },
      "80": {
        start: {
          line: 321,
          column: 4
        },
        end: {
          line: 331,
          column: 7
        }
      },
      "81": {
        start: {
          line: 338,
          column: 25
        },
        end: {
          line: 338,
          column: 65
        }
      },
      "82": {
        start: {
          line: 340,
          column: 4
        },
        end: {
          line: 340,
          column: 63
        }
      },
      "83": {
        start: {
          line: 342,
          column: 4
        },
        end: {
          line: 349,
          column: 7
        }
      },
      "84": {
        start: {
          line: 356,
          column: 26
        },
        end: {
          line: 356,
          column: 65
        }
      },
      "85": {
        start: {
          line: 358,
          column: 4
        },
        end: {
          line: 368,
          column: 7
        }
      },
      "86": {
        start: {
          line: 370,
          column: 4
        },
        end: {
          line: 370,
          column: 107
        }
      },
      "87": {
        start: {
          line: 377,
          column: 26
        },
        end: {
          line: 377,
          column: 71
        }
      },
      "88": {
        start: {
          line: 379,
          column: 4
        },
        end: {
          line: 389,
          column: 7
        }
      },
      "89": {
        start: {
          line: 391,
          column: 4
        },
        end: {
          line: 391,
          column: 78
        }
      },
      "90": {
        start: {
          line: 398,
          column: 4
        },
        end: {
          line: 406,
          column: 7
        }
      },
      "91": {
        start: {
          line: 413,
          column: 4
        },
        end: {
          line: 421,
          column: 7
        }
      },
      "92": {
        start: {
          line: 423,
          column: 4
        },
        end: {
          line: 423,
          column: 68
        }
      },
      "93": {
        start: {
          line: 430,
          column: 4
        },
        end: {
          line: 437,
          column: 7
        }
      },
      "94": {
        start: {
          line: 439,
          column: 4
        },
        end: {
          line: 439,
          column: 63
        }
      },
      "95": {
        start: {
          line: 447,
          column: 4
        },
        end: {
          line: 447,
          column: 80
        }
      },
      "96": {
        start: {
          line: 454,
          column: 21
        },
        end: {
          line: 454,
          column: 57
        }
      },
      "97": {
        start: {
          line: 456,
          column: 4
        },
        end: {
          line: 456,
          column: 55
        }
      },
      "98": {
        start: {
          line: 458,
          column: 4
        },
        end: {
          line: 463,
          column: 5
        }
      },
      "99": {
        start: {
          line: 459,
          column: 6
        },
        end: {
          line: 462,
          column: 9
        }
      },
      "100": {
        start: {
          line: 470,
          column: 21
        },
        end: {
          line: 470,
          column: 57
        }
      },
      "101": {
        start: {
          line: 471,
          column: 4
        },
        end: {
          line: 471,
          column: 55
        }
      },
      "102": {
        start: {
          line: 479,
          column: 19
        },
        end: {
          line: 479,
          column: 53
        }
      },
      "103": {
        start: {
          line: 480,
          column: 4
        },
        end: {
          line: 480,
          column: 79
        }
      },
      "104": {
        start: {
          line: 482,
          column: 4
        },
        end: {
          line: 490,
          column: 7
        }
      },
      "105": {
        start: {
          line: 497,
          column: 19
        },
        end: {
          line: 497,
          column: 53
        }
      },
      "106": {
        start: {
          line: 498,
          column: 4
        },
        end: {
          line: 498,
          column: 49
        }
      },
      "107": {
        start: {
          line: 500,
          column: 4
        },
        end: {
          line: 509,
          column: 7
        }
      },
      "108": {
        start: {
          line: 516,
          column: 4
        },
        end: {
          line: 525,
          column: 7
        }
      },
      "109": {
        start: {
          line: 532,
          column: 27
        },
        end: {
          line: 538,
          column: 6
        }
      },
      "110": {
        start: {
          line: 540,
          column: 4
        },
        end: {
          line: 566,
          column: 5
        }
      },
      "111": {
        start: {
          line: 541,
          column: 6
        },
        end: {
          line: 565,
          column: 7
        }
      },
      "112": {
        start: {
          line: 542,
          column: 8
        },
        end: {
          line: 542,
          column: 71
        }
      },
      "113": {
        start: {
          line: 544,
          column: 8
        },
        end: {
          line: 551,
          column: 11
        }
      },
      "114": {
        start: {
          line: 553,
          column: 8
        },
        end: {
          line: 553,
          column: 73
        }
      },
      "115": {
        start: {
          line: 555,
          column: 8
        },
        end: {
          line: 562,
          column: 11
        }
      },
      "116": {
        start: {
          line: 564,
          column: 8
        },
        end: {
          line: 564,
          column: 68
        }
      },
      "117": {
        start: {
          line: 570,
          column: 36
        },
        end: {
          line: 570,
          column: 62
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 28,
            column: 2
          },
          end: {
            line: 28,
            column: 3
          }
        },
        loc: {
          start: {
            line: 28,
            column: 16
          },
          end: {
            line: 35,
            column: 3
          }
        },
        line: 28
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 40,
            column: 2
          },
          end: {
            line: 40,
            column: 3
          }
        },
        loc: {
          start: {
            line: 40,
            column: 66
          },
          end: {
            line: 82,
            column: 3
          }
        },
        line: 40
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 87,
            column: 2
          },
          end: {
            line: 87,
            column: 3
          }
        },
        loc: {
          start: {
            line: 87,
            column: 71
          },
          end: {
            line: 143,
            column: 3
          }
        },
        line: 87
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 148,
            column: 2
          },
          end: {
            line: 148,
            column: 3
          }
        },
        loc: {
          start: {
            line: 148,
            column: 79
          },
          end: {
            line: 184,
            column: 3
          }
        },
        line: 148
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 189,
            column: 2
          },
          end: {
            line: 189,
            column: 3
          }
        },
        loc: {
          start: {
            line: 189,
            column: 78
          },
          end: {
            line: 212,
            column: 3
          }
        },
        line: 189
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 217,
            column: 2
          },
          end: {
            line: 217,
            column: 3
          }
        },
        loc: {
          start: {
            line: 217,
            column: 78
          },
          end: {
            line: 240,
            column: 3
          }
        },
        line: 217
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 245,
            column: 2
          },
          end: {
            line: 245,
            column: 3
          }
        },
        loc: {
          start: {
            line: 245,
            column: 79
          },
          end: {
            line: 262,
            column: 3
          }
        },
        line: 245
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 267,
            column: 2
          },
          end: {
            line: 267,
            column: 3
          }
        },
        loc: {
          start: {
            line: 267,
            column: 76
          },
          end: {
            line: 289,
            column: 3
          }
        },
        line: 267
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 294,
            column: 2
          },
          end: {
            line: 294,
            column: 3
          }
        },
        loc: {
          start: {
            line: 294,
            column: 84
          },
          end: {
            line: 311,
            column: 3
          }
        },
        line: 294
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 316,
            column: 2
          },
          end: {
            line: 316,
            column: 3
          }
        },
        loc: {
          start: {
            line: 316,
            column: 84
          },
          end: {
            line: 332,
            column: 3
          }
        },
        line: 316
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 337,
            column: 2
          },
          end: {
            line: 337,
            column: 3
          }
        },
        loc: {
          start: {
            line: 337,
            column: 84
          },
          end: {
            line: 350,
            column: 3
          }
        },
        line: 337
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 355,
            column: 2
          },
          end: {
            line: 355,
            column: 3
          }
        },
        loc: {
          start: {
            line: 355,
            column: 92
          },
          end: {
            line: 371,
            column: 3
          }
        },
        line: 355
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 376,
            column: 2
          },
          end: {
            line: 376,
            column: 3
          }
        },
        loc: {
          start: {
            line: 376,
            column: 100
          },
          end: {
            line: 392,
            column: 3
          }
        },
        line: 376
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 397,
            column: 2
          },
          end: {
            line: 397,
            column: 3
          }
        },
        loc: {
          start: {
            line: 397,
            column: 90
          },
          end: {
            line: 407,
            column: 3
          }
        },
        line: 397
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 412,
            column: 2
          },
          end: {
            line: 412,
            column: 3
          }
        },
        loc: {
          start: {
            line: 412,
            column: 84
          },
          end: {
            line: 424,
            column: 3
          }
        },
        line: 412
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 429,
            column: 2
          },
          end: {
            line: 429,
            column: 3
          }
        },
        loc: {
          start: {
            line: 429,
            column: 84
          },
          end: {
            line: 440,
            column: 3
          }
        },
        line: 429
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 445,
            column: 2
          },
          end: {
            line: 445,
            column: 3
          }
        },
        loc: {
          start: {
            line: 445,
            column: 87
          },
          end: {
            line: 448,
            column: 3
          }
        },
        line: 445
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 453,
            column: 2
          },
          end: {
            line: 453,
            column: 3
          }
        },
        loc: {
          start: {
            line: 453,
            column: 80
          },
          end: {
            line: 464,
            column: 3
          }
        },
        line: 453
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 469,
            column: 2
          },
          end: {
            line: 469,
            column: 3
          }
        },
        loc: {
          start: {
            line: 469,
            column: 80
          },
          end: {
            line: 473,
            column: 3
          }
        },
        line: 469
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 478,
            column: 2
          },
          end: {
            line: 478,
            column: 3
          }
        },
        loc: {
          start: {
            line: 478,
            column: 75
          },
          end: {
            line: 491,
            column: 3
          }
        },
        line: 478
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 496,
            column: 2
          },
          end: {
            line: 496,
            column: 3
          }
        },
        loc: {
          start: {
            line: 496,
            column: 77
          },
          end: {
            line: 510,
            column: 3
          }
        },
        line: 496
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 515,
            column: 2
          },
          end: {
            line: 515,
            column: 3
          }
        },
        loc: {
          start: {
            line: 515,
            column: 90
          },
          end: {
            line: 526,
            column: 3
          }
        },
        line: 515
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 531,
            column: 2
          },
          end: {
            line: 531,
            column: 3
          }
        },
        loc: {
          start: {
            line: 531,
            column: 45
          },
          end: {
            line: 567,
            column: 3
          }
        },
        line: 531
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 5,
            column: 26
          },
          end: {
            line: 5,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 5,
            column: 26
          },
          end: {
            line: 5,
            column: 55
          }
        }, {
          start: {
            line: 5,
            column: 59
          },
          end: {
            line: 5,
            column: 61
          }
        }],
        line: 5
      },
      "1": {
        loc: {
          start: {
            line: 29,
            column: 25
          },
          end: {
            line: 29,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 29,
            column: 25
          },
          end: {
            line: 29,
            column: 58
          }
        }, {
          start: {
            line: 29,
            column: 62
          },
          end: {
            line: 29,
            column: 64
          }
        }],
        line: 29
      },
      "2": {
        loc: {
          start: {
            line: 30,
            column: 40
          },
          end: {
            line: 30,
            column: 83
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 30,
            column: 40
          },
          end: {
            line: 30,
            column: 75
          }
        }, {
          start: {
            line: 30,
            column: 79
          },
          end: {
            line: 30,
            column: 83
          }
        }],
        line: 30
      },
      "3": {
        loc: {
          start: {
            line: 32,
            column: 4
          },
          end: {
            line: 34,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 32,
            column: 4
          },
          end: {
            line: 34,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 32
      },
      "4": {
        loc: {
          start: {
            line: 43,
            column: 4
          },
          end: {
            line: 46,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 43,
            column: 4
          },
          end: {
            line: 46,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 43
      },
      "5": {
        loc: {
          start: {
            line: 88,
            column: 4
          },
          end: {
            line: 142,
            column: 5
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 90,
            column: 6
          },
          end: {
            line: 92,
            column: 14
          }
        }, {
          start: {
            line: 93,
            column: 6
          },
          end: {
            line: 95,
            column: 14
          }
        }, {
          start: {
            line: 98,
            column: 6
          },
          end: {
            line: 100,
            column: 14
          }
        }, {
          start: {
            line: 101,
            column: 6
          },
          end: {
            line: 103,
            column: 14
          }
        }, {
          start: {
            line: 106,
            column: 6
          },
          end: {
            line: 108,
            column: 14
          }
        }, {
          start: {
            line: 109,
            column: 6
          },
          end: {
            line: 111,
            column: 14
          }
        }, {
          start: {
            line: 112,
            column: 6
          },
          end: {
            line: 114,
            column: 14
          }
        }, {
          start: {
            line: 117,
            column: 6
          },
          end: {
            line: 119,
            column: 14
          }
        }, {
          start: {
            line: 120,
            column: 6
          },
          end: {
            line: 122,
            column: 14
          }
        }, {
          start: {
            line: 125,
            column: 6
          },
          end: {
            line: 127,
            column: 14
          }
        }, {
          start: {
            line: 128,
            column: 6
          },
          end: {
            line: 130,
            column: 14
          }
        }, {
          start: {
            line: 133,
            column: 6
          },
          end: {
            line: 135,
            column: 14
          }
        }, {
          start: {
            line: 136,
            column: 6
          },
          end: {
            line: 138,
            column: 14
          }
        }, {
          start: {
            line: 140,
            column: 6
          },
          end: {
            line: 141,
            column: 63
          }
        }],
        line: 88
      },
      "6": {
        loc: {
          start: {
            line: 163,
            column: 21
          },
          end: {
            line: 163,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 163,
            column: 21
          },
          end: {
            line: 163,
            column: 46
          }
        }, {
          start: {
            line: 163,
            column: 50
          },
          end: {
            line: 163,
            column: 59
          }
        }],
        line: 163
      },
      "7": {
        loc: {
          start: {
            line: 171,
            column: 4
          },
          end: {
            line: 181,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 171,
            column: 4
          },
          end: {
            line: 181,
            column: 5
          }
        }, {
          start: {
            line: 176,
            column: 11
          },
          end: {
            line: 181,
            column: 5
          }
        }],
        line: 171
      },
      "8": {
        loc: {
          start: {
            line: 176,
            column: 11
          },
          end: {
            line: 181,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 176,
            column: 11
          },
          end: {
            line: 181,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 176
      },
      "9": {
        loc: {
          start: {
            line: 255,
            column: 16
          },
          end: {
            line: 255,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 255,
            column: 16
          },
          end: {
            line: 255,
            column: 47
          }
        }, {
          start: {
            line: 255,
            column: 51
          },
          end: {
            line: 255,
            column: 74
          }
        }],
        line: 255
      },
      "10": {
        loc: {
          start: {
            line: 328,
            column: 20
          },
          end: {
            line: 328,
            column: 95
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 328,
            column: 47
          },
          end: {
            line: 328,
            column: 88
          }
        }, {
          start: {
            line: 328,
            column: 91
          },
          end: {
            line: 328,
            column: 95
          }
        }],
        line: 328
      },
      "11": {
        loc: {
          start: {
            line: 458,
            column: 4
          },
          end: {
            line: 463,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 458,
            column: 4
          },
          end: {
            line: 463,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 458
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "5bab5f28be32155e359bbda6e4b1c6cd5d5d1571"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_42idjlaib = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_42idjlaib();
import Stripe from 'stripe';
import { PrismaClient } from '@prisma/client';
const stripe =
/* istanbul ignore next */
(cov_42idjlaib().s[0]++, new Stripe(
/* istanbul ignore next */
(cov_42idjlaib().b[0][0]++, process.env.STRIPE_SECRET_KEY) ||
/* istanbul ignore next */
(cov_42idjlaib().b[0][1]++, ''), {
  apiVersion: '2024-11-20.acacia',
  typescript: true
}));
const prisma =
/* istanbul ignore next */
(cov_42idjlaib().s[1]++, new PrismaClient());
/**
 * Stripe Webhook Handler - Production Ready
 * Handles all Stripe events with proper verification and database persistence
 */
export class StripeWebhookHandler {
  constructor() {
    /* istanbul ignore next */
    cov_42idjlaib().f[0]++;
    cov_42idjlaib().s[2]++;
    this.webhookSecret =
    /* istanbul ignore next */
    (cov_42idjlaib().b[1][0]++, process.env.STRIPE_WEBHOOK_SECRET) ||
    /* istanbul ignore next */
    (cov_42idjlaib().b[1][1]++, '');
    /* istanbul ignore next */
    cov_42idjlaib().s[3]++;
    this.citadelPercentage = parseFloat(
    /* istanbul ignore next */
    (cov_42idjlaib().b[2][0]++, process.env.CITADEL_FUND_PERCENTAGE) ||
    /* istanbul ignore next */
    (cov_42idjlaib().b[2][1]++, '10'));
    /* istanbul ignore next */
    cov_42idjlaib().s[4]++;
    if (!this.webhookSecret) {
      /* istanbul ignore next */
      cov_42idjlaib().b[3][0]++;
      cov_42idjlaib().s[5]++;
      console.warn('âš ï¸  STRIPE_WEBHOOK_SECRET not configured - webhook verification disabled');
    } else
    /* istanbul ignore next */
    {
      cov_42idjlaib().b[3][1]++;
    }
  }

  /**
   * Main webhook endpoint handler
   */
  async handleWebhook(req, res) {
    /* istanbul ignore next */
    cov_42idjlaib().f[1]++;
    const sig =
    /* istanbul ignore next */
    (cov_42idjlaib().s[6]++, req.headers['stripe-signature']);
    /* istanbul ignore next */
    cov_42idjlaib().s[7]++;
    if (!sig) {
      /* istanbul ignore next */
      cov_42idjlaib().b[4][0]++;
      cov_42idjlaib().s[8]++;
      res.status(400).send('Missing stripe-signature header');
      /* istanbul ignore next */
      cov_42idjlaib().s[9]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_42idjlaib().b[4][1]++;
    }
    let event;
    /* istanbul ignore next */
    cov_42idjlaib().s[10]++;
    try {
      /* istanbul ignore next */
      cov_42idjlaib().s[11]++;
      // Verify webhook signature
      event = stripe.webhooks.constructEvent(req.body, sig, this.webhookSecret);
    } catch (err) {
      /* istanbul ignore next */
      cov_42idjlaib().s[12]++;
      console.error('âš ï¸  Webhook signature verification failed:', err.message);
      /* istanbul ignore next */
      cov_42idjlaib().s[13]++;
      res.status(400).send(`Webhook Error: ${err.message}`);
      /* istanbul ignore next */
      cov_42idjlaib().s[14]++;
      return;
    }
    /* istanbul ignore next */
    cov_42idjlaib().s[15]++;
    console.log(`âœ… Received webhook: ${event.type} (${event.id})`);
    /* istanbul ignore next */
    cov_42idjlaib().s[16]++;
    try {
      /* istanbul ignore next */
      cov_42idjlaib().s[17]++;
      // Route to appropriate handler
      await this.processEvent(event);
      /* istanbul ignore next */
      cov_42idjlaib().s[18]++;
      res.json({
        received: true,
        processed: true
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_42idjlaib().s[19]++;
      console.error(`âŒ Error processing webhook ${event.type}:`, error);

      // Log to database for retry
      /* istanbul ignore next */
      cov_42idjlaib().s[20]++;
      await this.logFailedWebhook(event, error.message);

      // Return 500 so Stripe retries
      /* istanbul ignore next */
      cov_42idjlaib().s[21]++;
      res.status(500).json({
        received: true,
        processed: false,
        error: error.message
      });
    }
  }

  /**
   * Process webhook event based on type
   */
  async processEvent(event) {
    /* istanbul ignore next */
    cov_42idjlaib().f[2]++;
    cov_42idjlaib().s[22]++;
    switch (event.type) {
      // Payment Intents
      case 'payment_intent.succeeded':
        /* istanbul ignore next */
        cov_42idjlaib().b[5][0]++;
        cov_42idjlaib().s[23]++;
        await this.handlePaymentSuccess(event);
        /* istanbul ignore next */
        cov_42idjlaib().s[24]++;
        break;
      case 'payment_intent.payment_failed':
        /* istanbul ignore next */
        cov_42idjlaib().b[5][1]++;
        cov_42idjlaib().s[25]++;
        await this.handlePaymentFailed(event);
        /* istanbul ignore next */
        cov_42idjlaib().s[26]++;
        break;

      // Charges
      case 'charge.succeeded':
        /* istanbul ignore next */
        cov_42idjlaib().b[5][2]++;
        cov_42idjlaib().s[27]++;
        await this.handleChargeSuccess(event);
        /* istanbul ignore next */
        cov_42idjlaib().s[28]++;
        break;
      case 'charge.refunded':
        /* istanbul ignore next */
        cov_42idjlaib().b[5][3]++;
        cov_42idjlaib().s[29]++;
        await this.handleChargeRefunded(event);
        /* istanbul ignore next */
        cov_42idjlaib().s[30]++;
        break;

      // Subscriptions
      case 'customer.subscription.created':
        /* istanbul ignore next */
        cov_42idjlaib().b[5][4]++;
        cov_42idjlaib().s[31]++;
        await this.handleSubscriptionCreated(event);
        /* istanbul ignore next */
        cov_42idjlaib().s[32]++;
        break;
      case 'customer.subscription.updated':
        /* istanbul ignore next */
        cov_42idjlaib().b[5][5]++;
        cov_42idjlaib().s[33]++;
        await this.handleSubscriptionUpdated(event);
        /* istanbul ignore next */
        cov_42idjlaib().s[34]++;
        break;
      case 'customer.subscription.deleted':
        /* istanbul ignore next */
        cov_42idjlaib().b[5][6]++;
        cov_42idjlaib().s[35]++;
        await this.handleSubscriptionDeleted(event);
        /* istanbul ignore next */
        cov_42idjlaib().s[36]++;
        break;

      // Invoices
      case 'invoice.paid':
        /* istanbul ignore next */
        cov_42idjlaib().b[5][7]++;
        cov_42idjlaib().s[37]++;
        await this.handleInvoicePaid(event);
        /* istanbul ignore next */
        cov_42idjlaib().s[38]++;
        break;
      case 'invoice.payment_failed':
        /* istanbul ignore next */
        cov_42idjlaib().b[5][8]++;
        cov_42idjlaib().s[39]++;
        await this.handlePaymentFailed(event);
        /* istanbul ignore next */
        cov_42idjlaib().s[40]++;
        break;

      // Customers
      case 'customer.created':
        /* istanbul ignore next */
        cov_42idjlaib().b[5][9]++;
        cov_42idjlaib().s[41]++;
        await this.handleCustomerCreated(event);
        /* istanbul ignore next */
        cov_42idjlaib().s[42]++;
        break;
      case 'customer.updated':
        /* istanbul ignore next */
        cov_42idjlaib().b[5][10]++;
        cov_42idjlaib().s[43]++;
        await this.handleCustomerUpdated(event);
        /* istanbul ignore next */
        cov_42idjlaib().s[44]++;
        break;

      // Payouts
      case 'payout.paid':
        /* istanbul ignore next */
        cov_42idjlaib().b[5][11]++;
        cov_42idjlaib().s[45]++;
        await this.handlePayoutPaid(event);
        /* istanbul ignore next */
        cov_42idjlaib().s[46]++;
        break;
      case 'payout.failed':
        /* istanbul ignore next */
        cov_42idjlaib().b[5][12]++;
        cov_42idjlaib().s[47]++;
        await this.handlePayoutFailed(event);
        /* istanbul ignore next */
        cov_42idjlaib().s[48]++;
        break;
      default:
        /* istanbul ignore next */
        cov_42idjlaib().b[5][13]++;
        cov_42idjlaib().s[49]++;
        console.log(`â„¹ï¸  Unhandled event type: ${event.type}`);
    }
  }

  /**
   * Handle successful payment intent
   */
  async handlePaymentSuccess(event) {
    /* istanbul ignore next */
    cov_42idjlaib().f[3]++;
    const paymentIntent =
    /* istanbul ignore next */
    (cov_42idjlaib().s[50]++, event.data.object);
    /* istanbul ignore next */
    cov_42idjlaib().s[51]++;
    console.log(`ğŸ’³ Payment succeeded: ${paymentIntent.id} - $${paymentIntent.amount / 100}`);

    // Create transaction record
    const transaction =
    /* istanbul ignore next */
    (cov_42idjlaib().s[52]++, await prisma.transaction.create({
      data: {
        stripePaymentIntentId: paymentIntent.id,
        amount: paymentIntent.amount / 100,
        currency: paymentIntent.currency,
        status: 'SUCCEEDED',
        type: 'PAYMENT',
        metadata: paymentIntent.metadata,
        userId: paymentIntent.metadata.userId,
        description:
        /* istanbul ignore next */
        (cov_42idjlaib().b[6][0]++, paymentIntent.description) ||
        /* istanbul ignore next */
        (cov_42idjlaib().b[6][1]++, 'Payment')
      }
    }));

    // Allocate to CitadelFund
    /* istanbul ignore next */
    cov_42idjlaib().s[53]++;
    await this.allocateToCitadelFund(transaction.id, transaction.amount);

    // Update user balance or enrollment
    /* istanbul ignore next */
    cov_42idjlaib().s[54]++;
    if (paymentIntent.metadata.type === 'course_enrollment') {
      /* istanbul ignore next */
      cov_42idjlaib().b[7][0]++;
      cov_42idjlaib().s[55]++;
      await this.enrollUserInCourse(paymentIntent.metadata.userId, paymentIntent.metadata.courseId);
    } else {
      /* istanbul ignore next */
      cov_42idjlaib().b[7][1]++;
      cov_42idjlaib().s[56]++;
      if (paymentIntent.metadata.type === 'subscription') {
        /* istanbul ignore next */
        cov_42idjlaib().b[8][0]++;
        cov_42idjlaib().s[57]++;
        await this.activateSubscription(paymentIntent.metadata.userId, paymentIntent.metadata.planId);
      } else
      /* istanbul ignore next */
      {
        cov_42idjlaib().b[8][1]++;
      }
    }
    /* istanbul ignore next */
    cov_42idjlaib().s[58]++;
    console.log(`âœ… Transaction recorded: ${transaction.id}`);
  }

  /**
   * Handle failed payment
   */
  async handlePaymentFailed(event) {
    /* istanbul ignore next */
    cov_42idjlaib().f[4]++;
    const paymentIntent =
    /* istanbul ignore next */
    (cov_42idjlaib().s[59]++, event.data.object);
    /* istanbul ignore next */
    cov_42idjlaib().s[60]++;
    console.log(`âŒ Payment failed: ${paymentIntent.id}`);
    /* istanbul ignore next */
    cov_42idjlaib().s[61]++;
    await prisma.transaction.create({
      data: {
        stripePaymentIntentId: paymentIntent.id,
        amount: paymentIntent.amount / 100,
        currency: paymentIntent.currency,
        status: 'FAILED',
        type: 'PAYMENT',
        metadata: paymentIntent.metadata,
        userId: paymentIntent.metadata.userId,
        failureReason: paymentIntent.last_payment_error?.message
      }
    });

    // Notify user of failed payment
    /* istanbul ignore next */
    cov_42idjlaib().s[62]++;
    await this.sendPaymentFailedEmail(paymentIntent.metadata.userId, paymentIntent.last_payment_error?.message);
  }

  /**
   * Handle successful charge
   */
  async handleChargeSuccess(event) {
    /* istanbul ignore next */
    cov_42idjlaib().f[5]++;
    const charge =
    /* istanbul ignore next */
    (cov_42idjlaib().s[63]++, event.data.object);
    /* istanbul ignore next */
    cov_42idjlaib().s[64]++;
    console.log(`ğŸ’° Charge succeeded: ${charge.id} - $${charge.amount / 100}`);
    /* istanbul ignore next */
    cov_42idjlaib().s[65]++;
    await prisma.charge.upsert({
      where: {
        stripeChargeId: charge.id
      },
      update: {
        status: 'SUCCEEDED',
        paid: true,
        updatedAt: new Date()
      },
      create: {
        stripeChargeId: charge.id,
        amount: charge.amount / 100,
        currency: charge.currency,
        status: 'SUCCEEDED',
        paid: true,
        paymentIntentId: charge.payment_intent,
        customerId: charge.customer,
        receiptUrl: charge.receipt_url
      }
    });
  }

  /**
   * Handle charge refund
   */
  async handleChargeRefunded(event) {
    /* istanbul ignore next */
    cov_42idjlaib().f[6]++;
    const charge =
    /* istanbul ignore next */
    (cov_42idjlaib().s[66]++, event.data.object);
    /* istanbul ignore next */
    cov_42idjlaib().s[67]++;
    console.log(`ğŸ”„ Charge refunded: ${charge.id} - $${charge.amount_refunded / 100}`);
    /* istanbul ignore next */
    cov_42idjlaib().s[68]++;
    await prisma.refund.create({
      data: {
        stripeChargeId: charge.id,
        amount: charge.amount_refunded / 100,
        currency: charge.currency,
        reason:
        /* istanbul ignore next */
        (cov_42idjlaib().b[9][0]++, charge.refunds?.data[0]?.reason) ||
        /* istanbul ignore next */
        (cov_42idjlaib().b[9][1]++, 'requested_by_customer'),
        status: 'SUCCEEDED'
      }
    });

    // Reverse CitadelFund allocation
    /* istanbul ignore next */
    cov_42idjlaib().s[69]++;
    await this.reverseCitadelFundAllocation(charge.id, charge.amount_refunded / 100);
  }

  /**
   * Handle invoice paid
   */
  async handleInvoicePaid(event) {
    /* istanbul ignore next */
    cov_42idjlaib().f[7]++;
    const invoice =
    /* istanbul ignore next */
    (cov_42idjlaib().s[70]++, event.data.object);
    /* istanbul ignore next */
    cov_42idjlaib().s[71]++;
    console.log(`ğŸ“„ Invoice paid: ${invoice.id} - $${invoice.amount_paid / 100}`);
    /* istanbul ignore next */
    cov_42idjlaib().s[72]++;
    await prisma.invoice.create({
      data: {
        stripeInvoiceId: invoice.id,
        customerId: invoice.customer,
        subscriptionId: invoice.subscription,
        amount: invoice.amount_paid / 100,
        currency: invoice.currency,
        status: 'paid',
        paidAt: new Date(invoice.status_transitions.paid_at * 1000),
        hostedInvoiceUrl: invoice.hosted_invoice_url,
        invoicePdf: invoice.invoice_pdf
      }
    });

    // Allocate to CitadelFund
    const citadelAmount =
    /* istanbul ignore next */
    (cov_42idjlaib().s[73]++, invoice.amount_paid / 100 * (this.citadelPercentage / 100));
    /* istanbul ignore next */
    cov_42idjlaib().s[74]++;
    await this.recordCitadelAllocation(invoice.id, citadelAmount);
  }

  /**
   * Handle subscription created
   */
  async handleSubscriptionCreated(event) {
    /* istanbul ignore next */
    cov_42idjlaib().f[8]++;
    const subscription =
    /* istanbul ignore next */
    (cov_42idjlaib().s[75]++, event.data.object);
    /* istanbul ignore next */
    cov_42idjlaib().s[76]++;
    console.log(`ğŸ“± Subscription created: ${subscription.id}`);
    /* istanbul ignore next */
    cov_42idjlaib().s[77]++;
    await prisma.subscription.create({
      data: {
        stripeSubscriptionId: subscription.id,
        userId: subscription.metadata.userId,
        customerId: subscription.customer,
        status: subscription.status,
        priceId: subscription.items.data[0].price.id,
        currentPeriodStart: new Date(subscription.current_period_start * 1000),
        currentPeriodEnd: new Date(subscription.current_period_end * 1000),
        cancelAtPeriodEnd: subscription.cancel_at_period_end
      }
    });
  }

  /**
   * Handle subscription updated
   */
  async handleSubscriptionUpdated(event) {
    /* istanbul ignore next */
    cov_42idjlaib().f[9]++;
    const subscription =
    /* istanbul ignore next */
    (cov_42idjlaib().s[78]++, event.data.object);
    /* istanbul ignore next */
    cov_42idjlaib().s[79]++;
    console.log(`ğŸ”„ Subscription updated: ${subscription.id} - ${subscription.status}`);
    /* istanbul ignore next */
    cov_42idjlaib().s[80]++;
    await prisma.subscription.update({
      where: {
        stripeSubscriptionId: subscription.id
      },
      data: {
        status: subscription.status,
        currentPeriodStart: new Date(subscription.current_period_start * 1000),
        currentPeriodEnd: new Date(subscription.current_period_end * 1000),
        cancelAtPeriodEnd: subscription.cancel_at_period_end,
        canceledAt: subscription.canceled_at ?
        /* istanbul ignore next */
        (cov_42idjlaib().b[10][0]++, new Date(subscription.canceled_at * 1000)) :
        /* istanbul ignore next */
        (cov_42idjlaib().b[10][1]++, null),
        updatedAt: new Date()
      }
    });
  }

  /**
   * Handle subscription deleted/canceled
   */
  async handleSubscriptionDeleted(event) {
    /* istanbul ignore next */
    cov_42idjlaib().f[10]++;
    const subscription =
    /* istanbul ignore next */
    (cov_42idjlaib().s[81]++, event.data.object);
    /* istanbul ignore next */
    cov_42idjlaib().s[82]++;
    console.log(`ğŸš« Subscription deleted: ${subscription.id}`);
    /* istanbul ignore next */
    cov_42idjlaib().s[83]++;
    await prisma.subscription.update({
      where: {
        stripeSubscriptionId: subscription.id
      },
      data: {
        status: 'CANCELLED',
        canceledAt: new Date(),
        updatedAt: new Date()
      }
    });
  }

  /**
   * Allocate payment to CitadelFund
   */
  async allocateToCitadelFund(transactionId, amount) {
    /* istanbul ignore next */
    cov_42idjlaib().f[11]++;
    const citadelAmount =
    /* istanbul ignore next */
    (cov_42idjlaib().s[84]++, amount * (this.citadelPercentage / 100));
    /* istanbul ignore next */
    cov_42idjlaib().s[85]++;
    await prisma.citadelFundAllocation.create({
      data: {
        transactionId,
        amount: citadelAmount,
        sourceAmount: amount,
        percentage: this.citadelPercentage,
        category: 'general',
        status: 'allocated',
        allocatedAt: new Date()
      }
    });
    /* istanbul ignore next */
    cov_42idjlaib().s[86]++;
    console.log(`ğŸ›ï¸  Allocated $${citadelAmount.toFixed(2)} to CitadelFund (${this.citadelPercentage}%)`);
  }

  /**
   * Reverse CitadelFund allocation on refund
   */
  async reverseCitadelFundAllocation(chargeId, refundAmount) {
    /* istanbul ignore next */
    cov_42idjlaib().f[12]++;
    const citadelAmount =
    /* istanbul ignore next */
    (cov_42idjlaib().s[87]++, refundAmount * (this.citadelPercentage / 100));
    /* istanbul ignore next */
    cov_42idjlaib().s[88]++;
    await prisma.citadelFundAllocation.create({
      data: {
        chargeId,
        amount: -citadelAmount,
        sourceAmount: refundAmount,
        percentage: this.citadelPercentage,
        category: 'refund',
        status: 'reversed',
        allocatedAt: new Date()
      }
    });
    /* istanbul ignore next */
    cov_42idjlaib().s[89]++;
    console.log(`â†©ï¸  Reversed $${citadelAmount.toFixed(2)} from CitadelFund`);
  }

  /**
   * Record CitadelFund allocation for invoice
   */
  async recordCitadelAllocation(invoiceId, amount) {
    /* istanbul ignore next */
    cov_42idjlaib().f[13]++;
    cov_42idjlaib().s[90]++;
    await prisma.citadelFundAllocation.create({
      data: {
        invoiceId,
        amount,
        category: 'subscription',
        status: 'allocated',
        allocatedAt: new Date()
      }
    });
  }

  /**
   * Enroll user in course after payment
   */
  async enrollUserInCourse(userId, courseId) {
    /* istanbul ignore next */
    cov_42idjlaib().f[14]++;
    cov_42idjlaib().s[91]++;
    await prisma.enrollment.create({
      data: {
        userId,
        courseId,
        status: 'ACTIVE',
        enrolledAt: new Date(),
        paidAmount: 0 // Will be updated from transaction
      }
    });
    /* istanbul ignore next */
    cov_42idjlaib().s[92]++;
    console.log(`ğŸ“ User ${userId} enrolled in course ${courseId}`);
  }

  /**
   * Activate subscription for user
   */
  async activateSubscription(userId, planId) {
    /* istanbul ignore next */
    cov_42idjlaib().f[15]++;
    cov_42idjlaib().s[93]++;
    await prisma.userSubscription.update({
      where: {
        userId
      },
      data: {
        planId,
        status: 'ACTIVE',
        activatedAt: new Date()
      }
    });
    /* istanbul ignore next */
    cov_42idjlaib().s[94]++;
    console.log(`âœ… Subscription activated for user ${userId}`);
  }

  /**
   * Send payment failed notification
   */
  async sendPaymentFailedEmail(userId, reason) {
    /* istanbul ignore next */
    cov_42idjlaib().f[16]++;
    cov_42idjlaib().s[95]++;
    // TODO: Implement email service integration
    console.log(`ğŸ“§ Sending payment failed email to user ${userId}: ${reason}`);
  }

  /**
   * Handle customer created
   */
  async handleCustomerCreated(event) {
    /* istanbul ignore next */
    cov_42idjlaib().f[17]++;
    const customer =
    /* istanbul ignore next */
    (cov_42idjlaib().s[96]++, event.data.object);
    /* istanbul ignore next */
    cov_42idjlaib().s[97]++;
    console.log(`ğŸ‘¤ Customer created: ${customer.id}`);
    /* istanbul ignore next */
    cov_42idjlaib().s[98]++;
    if (customer.metadata.userId) {
      /* istanbul ignore next */
      cov_42idjlaib().b[11][0]++;
      cov_42idjlaib().s[99]++;
      await prisma.user.update({
        where: {
          id: customer.metadata.userId
        },
        data: {
          stripeCustomerId: customer.id
        }
      });
    } else
    /* istanbul ignore next */
    {
      cov_42idjlaib().b[11][1]++;
    }
  }

  /**
   * Handle customer updated
   */
  async handleCustomerUpdated(event) {
    /* istanbul ignore next */
    cov_42idjlaib().f[18]++;
    const customer =
    /* istanbul ignore next */
    (cov_42idjlaib().s[100]++, event.data.object);
    /* istanbul ignore next */
    cov_42idjlaib().s[101]++;
    console.log(`ğŸ‘¤ Customer updated: ${customer.id}`);
    // Additional logic as needed
  }

  /**
   * Handle successful payout
   */
  async handlePayoutPaid(event) {
    /* istanbul ignore next */
    cov_42idjlaib().f[19]++;
    const payout =
    /* istanbul ignore next */
    (cov_42idjlaib().s[102]++, event.data.object);
    /* istanbul ignore next */
    cov_42idjlaib().s[103]++;
    console.log(`ğŸ’¸ Payout succeeded: ${payout.id} - $${payout.amount / 100}`);
    /* istanbul ignore next */
    cov_42idjlaib().s[104]++;
    await prisma.payout.create({
      data: {
        stripePayoutId: payout.id,
        amount: payout.amount / 100,
        currency: payout.currency,
        status: 'paid',
        arrivalDate: new Date(payout.arrival_date * 1000)
      }
    });
  }

  /**
   * Handle failed payout
   */
  async handlePayoutFailed(event) {
    /* istanbul ignore next */
    cov_42idjlaib().f[20]++;
    const payout =
    /* istanbul ignore next */
    (cov_42idjlaib().s[105]++, event.data.object);
    /* istanbul ignore next */
    cov_42idjlaib().s[106]++;
    console.log(`âŒ Payout failed: ${payout.id}`);
    /* istanbul ignore next */
    cov_42idjlaib().s[107]++;
    await prisma.payout.create({
      data: {
        stripePayoutId: payout.id,
        amount: payout.amount / 100,
        currency: payout.currency,
        status: 'FAILED',
        failureCode: payout.failure_code,
        failureMessage: payout.failure_message
      }
    });
  }

  /**
   * Log failed webhook for retry
   */
  async logFailedWebhook(event, error) {
    /* istanbul ignore next */
    cov_42idjlaib().f[21]++;
    cov_42idjlaib().s[108]++;
    await prisma.webhookLog.create({
      data: {
        eventId: event.id,
        eventType: event.type,
        status: 'FAILED',
        errorMessage: error,
        payload: event,
        attemptCount: 1
      }
    });
  }

  /**
   * Retry failed webhooks (run periodically via cron)
   */
  async retryFailedWebhooks() {
    /* istanbul ignore next */
    cov_42idjlaib().f[22]++;
    const failedWebhooks =
    /* istanbul ignore next */
    (cov_42idjlaib().s[109]++, await prisma.webhookLog.findMany({
      where: {
        status: 'FAILED',
        attemptCount: {
          lt: 5
        }
      },
      take: 100
    }));
    /* istanbul ignore next */
    cov_42idjlaib().s[110]++;
    for (const webhook of failedWebhooks) {
      /* istanbul ignore next */
      cov_42idjlaib().s[111]++;
      try {
        /* istanbul ignore next */
        cov_42idjlaib().s[112]++;
        await this.processEvent(webhook.payload);
        /* istanbul ignore next */
        cov_42idjlaib().s[113]++;
        await prisma.webhookLog.update({
          where: {
            id: webhook.id
          },
          data: {
            status: 'SUCCEEDED',
            attemptCount: {
              increment: 1
            },
            lastAttemptAt: new Date()
          }
        });
        /* istanbul ignore next */
        cov_42idjlaib().s[114]++;
        console.log(`âœ… Retried webhook ${webhook.eventId} successfully`);
      } catch (error) {
        /* istanbul ignore next */
        cov_42idjlaib().s[115]++;
        await prisma.webhookLog.update({
          where: {
            id: webhook.id
          },
          data: {
            attemptCount: {
              increment: 1
            },
            lastAttemptAt: new Date(),
            errorMessage: error.message
          }
        });
        /* istanbul ignore next */
        cov_42idjlaib().s[116]++;
        console.error(`âŒ Webhook retry failed: ${webhook.eventId}`);
      }
    }
  }
}
export const stripeWebhookHandler =
/* istanbul ignore next */
(cov_42idjlaib().s[117]++, new StripeWebhookHandler());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNDJpZGpsYWliIiwiYWN0dWFsQ292ZXJhZ2UiLCJTdHJpcGUiLCJQcmlzbWFDbGllbnQiLCJzdHJpcGUiLCJzIiwiYiIsInByb2Nlc3MiLCJlbnYiLCJTVFJJUEVfU0VDUkVUX0tFWSIsImFwaVZlcnNpb24iLCJ0eXBlc2NyaXB0IiwicHJpc21hIiwiU3RyaXBlV2ViaG9va0hhbmRsZXIiLCJjb25zdHJ1Y3RvciIsImYiLCJ3ZWJob29rU2VjcmV0IiwiU1RSSVBFX1dFQkhPT0tfU0VDUkVUIiwiY2l0YWRlbFBlcmNlbnRhZ2UiLCJwYXJzZUZsb2F0IiwiQ0lUQURFTF9GVU5EX1BFUkNFTlRBR0UiLCJjb25zb2xlIiwid2FybiIsImhhbmRsZVdlYmhvb2siLCJyZXEiLCJyZXMiLCJzaWciLCJoZWFkZXJzIiwic3RhdHVzIiwic2VuZCIsImV2ZW50Iiwid2ViaG9va3MiLCJjb25zdHJ1Y3RFdmVudCIsImJvZHkiLCJlcnIiLCJlcnJvciIsIm1lc3NhZ2UiLCJsb2ciLCJ0eXBlIiwiaWQiLCJwcm9jZXNzRXZlbnQiLCJqc29uIiwicmVjZWl2ZWQiLCJwcm9jZXNzZWQiLCJsb2dGYWlsZWRXZWJob29rIiwiaGFuZGxlUGF5bWVudFN1Y2Nlc3MiLCJoYW5kbGVQYXltZW50RmFpbGVkIiwiaGFuZGxlQ2hhcmdlU3VjY2VzcyIsImhhbmRsZUNoYXJnZVJlZnVuZGVkIiwiaGFuZGxlU3Vic2NyaXB0aW9uQ3JlYXRlZCIsImhhbmRsZVN1YnNjcmlwdGlvblVwZGF0ZWQiLCJoYW5kbGVTdWJzY3JpcHRpb25EZWxldGVkIiwiaGFuZGxlSW52b2ljZVBhaWQiLCJoYW5kbGVDdXN0b21lckNyZWF0ZWQiLCJoYW5kbGVDdXN0b21lclVwZGF0ZWQiLCJoYW5kbGVQYXlvdXRQYWlkIiwiaGFuZGxlUGF5b3V0RmFpbGVkIiwicGF5bWVudEludGVudCIsImRhdGEiLCJvYmplY3QiLCJhbW91bnQiLCJ0cmFuc2FjdGlvbiIsImNyZWF0ZSIsInN0cmlwZVBheW1lbnRJbnRlbnRJZCIsImN1cnJlbmN5IiwibWV0YWRhdGEiLCJ1c2VySWQiLCJkZXNjcmlwdGlvbiIsImFsbG9jYXRlVG9DaXRhZGVsRnVuZCIsImVucm9sbFVzZXJJbkNvdXJzZSIsImNvdXJzZUlkIiwiYWN0aXZhdGVTdWJzY3JpcHRpb24iLCJwbGFuSWQiLCJmYWlsdXJlUmVhc29uIiwibGFzdF9wYXltZW50X2Vycm9yIiwic2VuZFBheW1lbnRGYWlsZWRFbWFpbCIsImNoYXJnZSIsInVwc2VydCIsIndoZXJlIiwic3RyaXBlQ2hhcmdlSWQiLCJ1cGRhdGUiLCJwYWlkIiwidXBkYXRlZEF0IiwiRGF0ZSIsInBheW1lbnRJbnRlbnRJZCIsInBheW1lbnRfaW50ZW50IiwiY3VzdG9tZXJJZCIsImN1c3RvbWVyIiwicmVjZWlwdFVybCIsInJlY2VpcHRfdXJsIiwiYW1vdW50X3JlZnVuZGVkIiwicmVmdW5kIiwicmVhc29uIiwicmVmdW5kcyIsInJldmVyc2VDaXRhZGVsRnVuZEFsbG9jYXRpb24iLCJpbnZvaWNlIiwiYW1vdW50X3BhaWQiLCJzdHJpcGVJbnZvaWNlSWQiLCJzdWJzY3JpcHRpb25JZCIsInN1YnNjcmlwdGlvbiIsInBhaWRBdCIsInN0YXR1c190cmFuc2l0aW9ucyIsInBhaWRfYXQiLCJob3N0ZWRJbnZvaWNlVXJsIiwiaG9zdGVkX2ludm9pY2VfdXJsIiwiaW52b2ljZVBkZiIsImludm9pY2VfcGRmIiwiY2l0YWRlbEFtb3VudCIsInJlY29yZENpdGFkZWxBbGxvY2F0aW9uIiwic3RyaXBlU3Vic2NyaXB0aW9uSWQiLCJwcmljZUlkIiwiaXRlbXMiLCJwcmljZSIsImN1cnJlbnRQZXJpb2RTdGFydCIsImN1cnJlbnRfcGVyaW9kX3N0YXJ0IiwiY3VycmVudFBlcmlvZEVuZCIsImN1cnJlbnRfcGVyaW9kX2VuZCIsImNhbmNlbEF0UGVyaW9kRW5kIiwiY2FuY2VsX2F0X3BlcmlvZF9lbmQiLCJjYW5jZWxlZEF0IiwiY2FuY2VsZWRfYXQiLCJ0cmFuc2FjdGlvbklkIiwiY2l0YWRlbEZ1bmRBbGxvY2F0aW9uIiwic291cmNlQW1vdW50IiwicGVyY2VudGFnZSIsImNhdGVnb3J5IiwiYWxsb2NhdGVkQXQiLCJ0b0ZpeGVkIiwiY2hhcmdlSWQiLCJyZWZ1bmRBbW91bnQiLCJpbnZvaWNlSWQiLCJlbnJvbGxtZW50IiwiZW5yb2xsZWRBdCIsInBhaWRBbW91bnQiLCJ1c2VyU3Vic2NyaXB0aW9uIiwiYWN0aXZhdGVkQXQiLCJ1c2VyIiwic3RyaXBlQ3VzdG9tZXJJZCIsInBheW91dCIsInN0cmlwZVBheW91dElkIiwiYXJyaXZhbERhdGUiLCJhcnJpdmFsX2RhdGUiLCJmYWlsdXJlQ29kZSIsImZhaWx1cmVfY29kZSIsImZhaWx1cmVNZXNzYWdlIiwiZmFpbHVyZV9tZXNzYWdlIiwid2ViaG9va0xvZyIsImV2ZW50SWQiLCJldmVudFR5cGUiLCJlcnJvck1lc3NhZ2UiLCJwYXlsb2FkIiwiYXR0ZW1wdENvdW50IiwicmV0cnlGYWlsZWRXZWJob29rcyIsImZhaWxlZFdlYmhvb2tzIiwiZmluZE1hbnkiLCJsdCIsInRha2UiLCJ3ZWJob29rIiwiaW5jcmVtZW50IiwibGFzdEF0dGVtcHRBdCIsInN0cmlwZVdlYmhvb2tIYW5kbGVyIl0sInNvdXJjZXMiOlsic3RyaXBlLXdlYmhvb2staGFuZGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3RyaXBlIGZyb20gJ3N0cmlwZSc7XG5pbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJ2V4cHJlc3MnO1xuXG5jb25zdCBzdHJpcGUgPSBuZXcgU3RyaXBlKHByb2Nlc3MuZW52LlNUUklQRV9TRUNSRVRfS0VZIHx8ICcnLCB7XG4gIGFwaVZlcnNpb246ICcyMDI0LTExLTIwLmFjYWNpYScsXG4gIHR5cGVzY3JpcHQ6IHRydWUsXG59KTtcblxuY29uc3QgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xuXG5pbnRlcmZhY2UgU3RyaXBlV2ViaG9va0V2ZW50IHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICBkYXRhOiB7XG4gICAgb2JqZWN0OiBhbnk7XG4gIH07XG59XG5cbi8qKlxuICogU3RyaXBlIFdlYmhvb2sgSGFuZGxlciAtIFByb2R1Y3Rpb24gUmVhZHlcbiAqIEhhbmRsZXMgYWxsIFN0cmlwZSBldmVudHMgd2l0aCBwcm9wZXIgdmVyaWZpY2F0aW9uIGFuZCBkYXRhYmFzZSBwZXJzaXN0ZW5jZVxuICovXG5leHBvcnQgY2xhc3MgU3RyaXBlV2ViaG9va0hhbmRsZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IHdlYmhvb2tTZWNyZXQ6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBjaXRhZGVsUGVyY2VudGFnZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMud2ViaG9va1NlY3JldCA9IHByb2Nlc3MuZW52LlNUUklQRV9XRUJIT09LX1NFQ1JFVCB8fCAnJztcbiAgICB0aGlzLmNpdGFkZWxQZXJjZW50YWdlID0gcGFyc2VGbG9hdChwcm9jZXNzLmVudi5DSVRBREVMX0ZVTkRfUEVSQ0VOVEFHRSB8fCAnMTAnKTtcblxuICAgIGlmICghdGhpcy53ZWJob29rU2VjcmV0KSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyAgU1RSSVBFX1dFQkhPT0tfU0VDUkVUIG5vdCBjb25maWd1cmVkIC0gd2ViaG9vayB2ZXJpZmljYXRpb24gZGlzYWJsZWQnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFpbiB3ZWJob29rIGVuZHBvaW50IGhhbmRsZXJcbiAgICovXG4gIGFzeW5jIGhhbmRsZVdlYmhvb2socmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc2lnID0gcmVxLmhlYWRlcnNbJ3N0cmlwZS1zaWduYXR1cmUnXSBhcyBzdHJpbmc7XG4gICAgXG4gICAgaWYgKCFzaWcpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdNaXNzaW5nIHN0cmlwZS1zaWduYXR1cmUgaGVhZGVyJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGV2ZW50OiBTdHJpcGVXZWJob29rRXZlbnQ7XG5cbiAgICB0cnkge1xuICAgICAgLy8gVmVyaWZ5IHdlYmhvb2sgc2lnbmF0dXJlXG4gICAgICBldmVudCA9IHN0cmlwZS53ZWJob29rcy5jb25zdHJ1Y3RFdmVudChcbiAgICAgICAgcmVxLmJvZHksXG4gICAgICAgIHNpZyxcbiAgICAgICAgdGhpcy53ZWJob29rU2VjcmV0XG4gICAgICApIGFzIFN0cmlwZVdlYmhvb2tFdmVudDtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcign4pqg77iPICBXZWJob29rIHNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkOicsIGVyci5tZXNzYWdlKTtcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGBXZWJob29rIEVycm9yOiAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGDinIUgUmVjZWl2ZWQgd2ViaG9vazogJHtldmVudC50eXBlfSAoJHtldmVudC5pZH0pYCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gUm91dGUgdG8gYXBwcm9wcmlhdGUgaGFuZGxlclxuICAgICAgYXdhaXQgdGhpcy5wcm9jZXNzRXZlbnQoZXZlbnQpO1xuICAgICAgcmVzLmpzb24oeyByZWNlaXZlZDogdHJ1ZSwgcHJvY2Vzc2VkOiB0cnVlIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBwcm9jZXNzaW5nIHdlYmhvb2sgJHtldmVudC50eXBlfTpgLCBlcnJvcik7XG4gICAgICBcbiAgICAgIC8vIExvZyB0byBkYXRhYmFzZSBmb3IgcmV0cnlcbiAgICAgIGF3YWl0IHRoaXMubG9nRmFpbGVkV2ViaG9vayhldmVudCwgZXJyb3IubWVzc2FnZSk7XG4gICAgICBcbiAgICAgIC8vIFJldHVybiA1MDAgc28gU3RyaXBlIHJldHJpZXNcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXG4gICAgICAgIHJlY2VpdmVkOiB0cnVlLCBcbiAgICAgICAgcHJvY2Vzc2VkOiBmYWxzZSwgXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFByb2Nlc3Mgd2ViaG9vayBldmVudCBiYXNlZCBvbiB0eXBlXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NFdmVudChldmVudDogU3RyaXBlV2ViaG9va0V2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAvLyBQYXltZW50IEludGVudHNcbiAgICAgIGNhc2UgJ3BheW1lbnRfaW50ZW50LnN1Y2NlZWRlZCc6XG4gICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlUGF5bWVudFN1Y2Nlc3MoZXZlbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3BheW1lbnRfaW50ZW50LnBheW1lbnRfZmFpbGVkJzpcbiAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVQYXltZW50RmFpbGVkKGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vIENoYXJnZXNcbiAgICAgIGNhc2UgJ2NoYXJnZS5zdWNjZWVkZWQnOlxuICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUNoYXJnZVN1Y2Nlc3MoZXZlbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NoYXJnZS5yZWZ1bmRlZCc6XG4gICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlQ2hhcmdlUmVmdW5kZWQoZXZlbnQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgLy8gU3Vic2NyaXB0aW9uc1xuICAgICAgY2FzZSAnY3VzdG9tZXIuc3Vic2NyaXB0aW9uLmNyZWF0ZWQnOlxuICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZVN1YnNjcmlwdGlvbkNyZWF0ZWQoZXZlbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2N1c3RvbWVyLnN1YnNjcmlwdGlvbi51cGRhdGVkJzpcbiAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVTdWJzY3JpcHRpb25VcGRhdGVkKGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjdXN0b21lci5zdWJzY3JpcHRpb24uZGVsZXRlZCc6XG4gICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlU3Vic2NyaXB0aW9uRGVsZXRlZChldmVudCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBJbnZvaWNlc1xuICAgICAgY2FzZSAnaW52b2ljZS5wYWlkJzpcbiAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVJbnZvaWNlUGFpZChldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaW52b2ljZS5wYXltZW50X2ZhaWxlZCc6XG4gICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlUGF5bWVudEZhaWxlZChldmVudCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBDdXN0b21lcnNcbiAgICAgIGNhc2UgJ2N1c3RvbWVyLmNyZWF0ZWQnOlxuICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUN1c3RvbWVyQ3JlYXRlZChldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY3VzdG9tZXIudXBkYXRlZCc6XG4gICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlQ3VzdG9tZXJVcGRhdGVkKGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vIFBheW91dHNcbiAgICAgIGNhc2UgJ3BheW91dC5wYWlkJzpcbiAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVQYXlvdXRQYWlkKGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwYXlvdXQuZmFpbGVkJzpcbiAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVQYXlvdXRGYWlsZWQoZXZlbnQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5sb2coYOKEue+4jyAgVW5oYW5kbGVkIGV2ZW50IHR5cGU6ICR7ZXZlbnQudHlwZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHN1Y2Nlc3NmdWwgcGF5bWVudCBpbnRlbnRcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlUGF5bWVudFN1Y2Nlc3MoZXZlbnQ6IFN0cmlwZVdlYmhvb2tFdmVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHBheW1lbnRJbnRlbnQgPSBldmVudC5kYXRhLm9iamVjdCBhcyBTdHJpcGUuUGF5bWVudEludGVudDtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg8J+SsyBQYXltZW50IHN1Y2NlZWRlZDogJHtwYXltZW50SW50ZW50LmlkfSAtICQke3BheW1lbnRJbnRlbnQuYW1vdW50IC8gMTAwfWApO1xuXG4gICAgLy8gQ3JlYXRlIHRyYW5zYWN0aW9uIHJlY29yZFxuICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgcHJpc21hLnRyYW5zYWN0aW9uLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0cmlwZVBheW1lbnRJbnRlbnRJZDogcGF5bWVudEludGVudC5pZCxcbiAgICAgICAgYW1vdW50OiBwYXltZW50SW50ZW50LmFtb3VudCAvIDEwMCxcbiAgICAgICAgY3VycmVuY3k6IHBheW1lbnRJbnRlbnQuY3VycmVuY3ksXG4gICAgICAgIHN0YXR1czogJ1NVQ0NFRURFRCcgYXMgYW55LFxuICAgICAgICB0eXBlOiAnUEFZTUVOVCcgYXMgYW55LFxuICAgICAgICBtZXRhZGF0YTogcGF5bWVudEludGVudC5tZXRhZGF0YSxcbiAgICAgICAgdXNlcklkOiBwYXltZW50SW50ZW50Lm1ldGFkYXRhLnVzZXJJZCxcbiAgICAgICAgZGVzY3JpcHRpb246IHBheW1lbnRJbnRlbnQuZGVzY3JpcHRpb24gfHwgJ1BheW1lbnQnLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIEFsbG9jYXRlIHRvIENpdGFkZWxGdW5kXG4gICAgYXdhaXQgdGhpcy5hbGxvY2F0ZVRvQ2l0YWRlbEZ1bmQodHJhbnNhY3Rpb24uaWQsIHRyYW5zYWN0aW9uLmFtb3VudCk7XG5cbiAgICAvLyBVcGRhdGUgdXNlciBiYWxhbmNlIG9yIGVucm9sbG1lbnRcbiAgICBpZiAocGF5bWVudEludGVudC5tZXRhZGF0YS50eXBlID09PSAnY291cnNlX2Vucm9sbG1lbnQnKSB7XG4gICAgICBhd2FpdCB0aGlzLmVucm9sbFVzZXJJbkNvdXJzZShcbiAgICAgICAgcGF5bWVudEludGVudC5tZXRhZGF0YS51c2VySWQsXG4gICAgICAgIHBheW1lbnRJbnRlbnQubWV0YWRhdGEuY291cnNlSWRcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChwYXltZW50SW50ZW50Lm1ldGFkYXRhLnR5cGUgPT09ICdzdWJzY3JpcHRpb24nKSB7XG4gICAgICBhd2FpdCB0aGlzLmFjdGl2YXRlU3Vic2NyaXB0aW9uKFxuICAgICAgICBwYXltZW50SW50ZW50Lm1ldGFkYXRhLnVzZXJJZCxcbiAgICAgICAgcGF5bWVudEludGVudC5tZXRhZGF0YS5wbGFuSWRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYOKchSBUcmFuc2FjdGlvbiByZWNvcmRlZDogJHt0cmFuc2FjdGlvbi5pZH1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgZmFpbGVkIHBheW1lbnRcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlUGF5bWVudEZhaWxlZChldmVudDogU3RyaXBlV2ViaG9va0V2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcGF5bWVudEludGVudCA9IGV2ZW50LmRhdGEub2JqZWN0IGFzIFN0cmlwZS5QYXltZW50SW50ZW50O1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGDinYwgUGF5bWVudCBmYWlsZWQ6ICR7cGF5bWVudEludGVudC5pZH1gKTtcblxuICAgIGF3YWl0IHByaXNtYS50cmFuc2FjdGlvbi5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBzdHJpcGVQYXltZW50SW50ZW50SWQ6IHBheW1lbnRJbnRlbnQuaWQsXG4gICAgICAgIGFtb3VudDogcGF5bWVudEludGVudC5hbW91bnQgLyAxMDAsXG4gICAgICAgIGN1cnJlbmN5OiBwYXltZW50SW50ZW50LmN1cnJlbmN5LFxuICAgICAgICBzdGF0dXM6ICdGQUlMRUQnIGFzIGFueSxcbiAgICAgICAgdHlwZTogJ1BBWU1FTlQnIGFzIGFueSxcbiAgICAgICAgbWV0YWRhdGE6IHBheW1lbnRJbnRlbnQubWV0YWRhdGEsXG4gICAgICAgIHVzZXJJZDogcGF5bWVudEludGVudC5tZXRhZGF0YS51c2VySWQsXG4gICAgICAgIGZhaWx1cmVSZWFzb246IHBheW1lbnRJbnRlbnQubGFzdF9wYXltZW50X2Vycm9yPy5tZXNzYWdlLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIE5vdGlmeSB1c2VyIG9mIGZhaWxlZCBwYXltZW50XG4gICAgYXdhaXQgdGhpcy5zZW5kUGF5bWVudEZhaWxlZEVtYWlsKFxuICAgICAgcGF5bWVudEludGVudC5tZXRhZGF0YS51c2VySWQsXG4gICAgICBwYXltZW50SW50ZW50Lmxhc3RfcGF5bWVudF9lcnJvcj8ubWVzc2FnZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHN1Y2Nlc3NmdWwgY2hhcmdlXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGhhbmRsZUNoYXJnZVN1Y2Nlc3MoZXZlbnQ6IFN0cmlwZVdlYmhvb2tFdmVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGNoYXJnZSA9IGV2ZW50LmRhdGEub2JqZWN0IGFzIFN0cmlwZS5DaGFyZ2U7XG4gICAgXG4gICAgY29uc29sZS5sb2coYPCfkrAgQ2hhcmdlIHN1Y2NlZWRlZDogJHtjaGFyZ2UuaWR9IC0gJCR7Y2hhcmdlLmFtb3VudCAvIDEwMH1gKTtcblxuICAgIGF3YWl0IHByaXNtYS5jaGFyZ2UudXBzZXJ0KHtcbiAgICAgIHdoZXJlOiB7IHN0cmlwZUNoYXJnZUlkOiBjaGFyZ2UuaWQgfSxcbiAgICAgIHVwZGF0ZToge1xuICAgICAgICBzdGF0dXM6ICdTVUNDRUVERUQnIGFzIGFueSxcbiAgICAgICAgcGFpZDogdHJ1ZSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICAgIGNyZWF0ZToge1xuICAgICAgICBzdHJpcGVDaGFyZ2VJZDogY2hhcmdlLmlkLFxuICAgICAgICBhbW91bnQ6IGNoYXJnZS5hbW91bnQgLyAxMDAsXG4gICAgICAgIGN1cnJlbmN5OiBjaGFyZ2UuY3VycmVuY3ksXG4gICAgICAgIHN0YXR1czogJ1NVQ0NFRURFRCcgYXMgYW55LFxuICAgICAgICBwYWlkOiB0cnVlLFxuICAgICAgICBwYXltZW50SW50ZW50SWQ6IGNoYXJnZS5wYXltZW50X2ludGVudCBhcyBzdHJpbmcsXG4gICAgICAgIGN1c3RvbWVySWQ6IGNoYXJnZS5jdXN0b21lciBhcyBzdHJpbmcsXG4gICAgICAgIHJlY2VpcHRVcmw6IGNoYXJnZS5yZWNlaXB0X3VybCxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGNoYXJnZSByZWZ1bmRcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlQ2hhcmdlUmVmdW5kZWQoZXZlbnQ6IFN0cmlwZVdlYmhvb2tFdmVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGNoYXJnZSA9IGV2ZW50LmRhdGEub2JqZWN0IGFzIFN0cmlwZS5DaGFyZ2U7XG4gICAgXG4gICAgY29uc29sZS5sb2coYPCflIQgQ2hhcmdlIHJlZnVuZGVkOiAke2NoYXJnZS5pZH0gLSAkJHtjaGFyZ2UuYW1vdW50X3JlZnVuZGVkIC8gMTAwfWApO1xuXG4gICAgYXdhaXQgcHJpc21hLnJlZnVuZC5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBzdHJpcGVDaGFyZ2VJZDogY2hhcmdlLmlkLFxuICAgICAgICBhbW91bnQ6IGNoYXJnZS5hbW91bnRfcmVmdW5kZWQgLyAxMDAsXG4gICAgICAgIGN1cnJlbmN5OiBjaGFyZ2UuY3VycmVuY3ksXG4gICAgICAgIHJlYXNvbjogY2hhcmdlLnJlZnVuZHM/LmRhdGFbMF0/LnJlYXNvbiB8fCAncmVxdWVzdGVkX2J5X2N1c3RvbWVyJyxcbiAgICAgICAgc3RhdHVzOiAnU1VDQ0VFREVEJyBhcyBhbnksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gUmV2ZXJzZSBDaXRhZGVsRnVuZCBhbGxvY2F0aW9uXG4gICAgYXdhaXQgdGhpcy5yZXZlcnNlQ2l0YWRlbEZ1bmRBbGxvY2F0aW9uKGNoYXJnZS5pZCwgY2hhcmdlLmFtb3VudF9yZWZ1bmRlZCAvIDEwMCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGludm9pY2UgcGFpZFxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVJbnZvaWNlUGFpZChldmVudDogU3RyaXBlV2ViaG9va0V2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgaW52b2ljZSA9IGV2ZW50LmRhdGEub2JqZWN0IGFzIFN0cmlwZS5JbnZvaWNlO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGDwn5OEIEludm9pY2UgcGFpZDogJHtpbnZvaWNlLmlkfSAtICQke2ludm9pY2UuYW1vdW50X3BhaWQgLyAxMDB9YCk7XG5cbiAgICBhd2FpdCBwcmlzbWEuaW52b2ljZS5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBzdHJpcGVJbnZvaWNlSWQ6IGludm9pY2UuaWQsXG4gICAgICAgIGN1c3RvbWVySWQ6IGludm9pY2UuY3VzdG9tZXIgYXMgc3RyaW5nLFxuICAgICAgICBzdWJzY3JpcHRpb25JZDogaW52b2ljZS5zdWJzY3JpcHRpb24gYXMgc3RyaW5nLFxuICAgICAgICBhbW91bnQ6IGludm9pY2UuYW1vdW50X3BhaWQgLyAxMDAsXG4gICAgICAgIGN1cnJlbmN5OiBpbnZvaWNlLmN1cnJlbmN5LFxuICAgICAgICBzdGF0dXM6ICdwYWlkJyxcbiAgICAgICAgcGFpZEF0OiBuZXcgRGF0ZShpbnZvaWNlLnN0YXR1c190cmFuc2l0aW9ucy5wYWlkX2F0ISAqIDEwMDApLFxuICAgICAgICBob3N0ZWRJbnZvaWNlVXJsOiBpbnZvaWNlLmhvc3RlZF9pbnZvaWNlX3VybCxcbiAgICAgICAgaW52b2ljZVBkZjogaW52b2ljZS5pbnZvaWNlX3BkZixcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBBbGxvY2F0ZSB0byBDaXRhZGVsRnVuZFxuICAgIGNvbnN0IGNpdGFkZWxBbW91bnQgPSAoaW52b2ljZS5hbW91bnRfcGFpZCAvIDEwMCkgKiAodGhpcy5jaXRhZGVsUGVyY2VudGFnZSAvIDEwMCk7XG4gICAgYXdhaXQgdGhpcy5yZWNvcmRDaXRhZGVsQWxsb2NhdGlvbihpbnZvaWNlLmlkLCBjaXRhZGVsQW1vdW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgc3Vic2NyaXB0aW9uIGNyZWF0ZWRcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlU3Vic2NyaXB0aW9uQ3JlYXRlZChldmVudDogU3RyaXBlV2ViaG9va0V2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gZXZlbnQuZGF0YS5vYmplY3QgYXMgU3RyaXBlLlN1YnNjcmlwdGlvbjtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg8J+TsSBTdWJzY3JpcHRpb24gY3JlYXRlZDogJHtzdWJzY3JpcHRpb24uaWR9YCk7XG5cbiAgICBhd2FpdCBwcmlzbWEuc3Vic2NyaXB0aW9uLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0cmlwZVN1YnNjcmlwdGlvbklkOiBzdWJzY3JpcHRpb24uaWQsXG4gICAgICAgIHVzZXJJZDogc3Vic2NyaXB0aW9uLm1ldGFkYXRhLnVzZXJJZCxcbiAgICAgICAgY3VzdG9tZXJJZDogc3Vic2NyaXB0aW9uLmN1c3RvbWVyIGFzIHN0cmluZyxcbiAgICAgICAgc3RhdHVzOiBzdWJzY3JpcHRpb24uc3RhdHVzLFxuICAgICAgICBwcmljZUlkOiBzdWJzY3JpcHRpb24uaXRlbXMuZGF0YVswXS5wcmljZS5pZCxcbiAgICAgICAgY3VycmVudFBlcmlvZFN0YXJ0OiBuZXcgRGF0ZShzdWJzY3JpcHRpb24uY3VycmVudF9wZXJpb2Rfc3RhcnQgKiAxMDAwKSxcbiAgICAgICAgY3VycmVudFBlcmlvZEVuZDogbmV3IERhdGUoc3Vic2NyaXB0aW9uLmN1cnJlbnRfcGVyaW9kX2VuZCAqIDEwMDApLFxuICAgICAgICBjYW5jZWxBdFBlcmlvZEVuZDogc3Vic2NyaXB0aW9uLmNhbmNlbF9hdF9wZXJpb2RfZW5kLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgc3Vic2NyaXB0aW9uIHVwZGF0ZWRcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlU3Vic2NyaXB0aW9uVXBkYXRlZChldmVudDogU3RyaXBlV2ViaG9va0V2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gZXZlbnQuZGF0YS5vYmplY3QgYXMgU3RyaXBlLlN1YnNjcmlwdGlvbjtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg8J+UhCBTdWJzY3JpcHRpb24gdXBkYXRlZDogJHtzdWJzY3JpcHRpb24uaWR9IC0gJHtzdWJzY3JpcHRpb24uc3RhdHVzfWApO1xuXG4gICAgYXdhaXQgcHJpc21hLnN1YnNjcmlwdGlvbi51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgc3RyaXBlU3Vic2NyaXB0aW9uSWQ6IHN1YnNjcmlwdGlvbi5pZCB9LFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IHN1YnNjcmlwdGlvbi5zdGF0dXMsXG4gICAgICAgIGN1cnJlbnRQZXJpb2RTdGFydDogbmV3IERhdGUoc3Vic2NyaXB0aW9uLmN1cnJlbnRfcGVyaW9kX3N0YXJ0ICogMTAwMCksXG4gICAgICAgIGN1cnJlbnRQZXJpb2RFbmQ6IG5ldyBEYXRlKHN1YnNjcmlwdGlvbi5jdXJyZW50X3BlcmlvZF9lbmQgKiAxMDAwKSxcbiAgICAgICAgY2FuY2VsQXRQZXJpb2RFbmQ6IHN1YnNjcmlwdGlvbi5jYW5jZWxfYXRfcGVyaW9kX2VuZCxcbiAgICAgICAgY2FuY2VsZWRBdDogc3Vic2NyaXB0aW9uLmNhbmNlbGVkX2F0ID8gbmV3IERhdGUoc3Vic2NyaXB0aW9uLmNhbmNlbGVkX2F0ICogMTAwMCkgOiBudWxsLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBzdWJzY3JpcHRpb24gZGVsZXRlZC9jYW5jZWxlZFxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVTdWJzY3JpcHRpb25EZWxldGVkKGV2ZW50OiBTdHJpcGVXZWJob29rRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBldmVudC5kYXRhLm9iamVjdCBhcyBTdHJpcGUuU3Vic2NyaXB0aW9uO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGDwn5qrIFN1YnNjcmlwdGlvbiBkZWxldGVkOiAke3N1YnNjcmlwdGlvbi5pZH1gKTtcblxuICAgIGF3YWl0IHByaXNtYS5zdWJzY3JpcHRpb24udXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IHN0cmlwZVN1YnNjcmlwdGlvbklkOiBzdWJzY3JpcHRpb24uaWQgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiAnQ0FOQ0VMTEVEJyBhcyBhbnksXG4gICAgICAgIGNhbmNlbGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWxsb2NhdGUgcGF5bWVudCB0byBDaXRhZGVsRnVuZFxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBhbGxvY2F0ZVRvQ2l0YWRlbEZ1bmQodHJhbnNhY3Rpb25JZDogc3RyaW5nLCBhbW91bnQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGNpdGFkZWxBbW91bnQgPSBhbW91bnQgKiAodGhpcy5jaXRhZGVsUGVyY2VudGFnZSAvIDEwMCk7XG5cbiAgICBhd2FpdCBwcmlzbWEuY2l0YWRlbEZ1bmRBbGxvY2F0aW9uLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHRyYW5zYWN0aW9uSWQsXG4gICAgICAgIGFtb3VudDogY2l0YWRlbEFtb3VudCxcbiAgICAgICAgc291cmNlQW1vdW50OiBhbW91bnQsXG4gICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMuY2l0YWRlbFBlcmNlbnRhZ2UsXG4gICAgICAgIGNhdGVnb3J5OiAnZ2VuZXJhbCcsXG4gICAgICAgIHN0YXR1czogJ2FsbG9jYXRlZCcsXG4gICAgICAgIGFsbG9jYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKGDwn4+b77iPICBBbGxvY2F0ZWQgJCR7Y2l0YWRlbEFtb3VudC50b0ZpeGVkKDIpfSB0byBDaXRhZGVsRnVuZCAoJHt0aGlzLmNpdGFkZWxQZXJjZW50YWdlfSUpYCk7XG4gIH1cblxuICAvKipcbiAgICogUmV2ZXJzZSBDaXRhZGVsRnVuZCBhbGxvY2F0aW9uIG9uIHJlZnVuZFxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyByZXZlcnNlQ2l0YWRlbEZ1bmRBbGxvY2F0aW9uKGNoYXJnZUlkOiBzdHJpbmcsIHJlZnVuZEFtb3VudDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgY2l0YWRlbEFtb3VudCA9IHJlZnVuZEFtb3VudCAqICh0aGlzLmNpdGFkZWxQZXJjZW50YWdlIC8gMTAwKTtcblxuICAgIGF3YWl0IHByaXNtYS5jaXRhZGVsRnVuZEFsbG9jYXRpb24uY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgY2hhcmdlSWQsXG4gICAgICAgIGFtb3VudDogLWNpdGFkZWxBbW91bnQsXG4gICAgICAgIHNvdXJjZUFtb3VudDogcmVmdW5kQW1vdW50LFxuICAgICAgICBwZXJjZW50YWdlOiB0aGlzLmNpdGFkZWxQZXJjZW50YWdlLFxuICAgICAgICBjYXRlZ29yeTogJ3JlZnVuZCcsXG4gICAgICAgIHN0YXR1czogJ3JldmVyc2VkJyxcbiAgICAgICAgYWxsb2NhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coYOKGqe+4jyAgUmV2ZXJzZWQgJCR7Y2l0YWRlbEFtb3VudC50b0ZpeGVkKDIpfSBmcm9tIENpdGFkZWxGdW5kYCk7XG4gIH1cblxuICAvKipcbiAgICogUmVjb3JkIENpdGFkZWxGdW5kIGFsbG9jYXRpb24gZm9yIGludm9pY2VcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgcmVjb3JkQ2l0YWRlbEFsbG9jYXRpb24oaW52b2ljZUlkOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgcHJpc21hLmNpdGFkZWxGdW5kQWxsb2NhdGlvbi5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBpbnZvaWNlSWQsXG4gICAgICAgIGFtb3VudCxcbiAgICAgICAgY2F0ZWdvcnk6ICdzdWJzY3JpcHRpb24nLFxuICAgICAgICBzdGF0dXM6ICdhbGxvY2F0ZWQnLFxuICAgICAgICBhbGxvY2F0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRW5yb2xsIHVzZXIgaW4gY291cnNlIGFmdGVyIHBheW1lbnRcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZW5yb2xsVXNlckluQ291cnNlKHVzZXJJZDogc3RyaW5nLCBjb3Vyc2VJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgcHJpc21hLmVucm9sbG1lbnQuY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBjb3Vyc2VJZCxcbiAgICAgICAgc3RhdHVzOiAnQUNUSVZFJyBhcyBhbnksXG4gICAgICAgIGVucm9sbGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIHBhaWRBbW91bnQ6IDAsIC8vIFdpbGwgYmUgdXBkYXRlZCBmcm9tIHRyYW5zYWN0aW9uXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coYPCfjpMgVXNlciAke3VzZXJJZH0gZW5yb2xsZWQgaW4gY291cnNlICR7Y291cnNlSWR9YCk7XG4gIH1cblxuICAvKipcbiAgICogQWN0aXZhdGUgc3Vic2NyaXB0aW9uIGZvciB1c2VyXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGFjdGl2YXRlU3Vic2NyaXB0aW9uKHVzZXJJZDogc3RyaW5nLCBwbGFuSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHByaXNtYS51c2VyU3Vic2NyaXB0aW9uLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyB1c2VySWQgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgcGxhbklkLFxuICAgICAgICBzdGF0dXM6ICdBQ1RJVkUnIGFzIGFueSxcbiAgICAgICAgYWN0aXZhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coYOKchSBTdWJzY3JpcHRpb24gYWN0aXZhdGVkIGZvciB1c2VyICR7dXNlcklkfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgcGF5bWVudCBmYWlsZWQgbm90aWZpY2F0aW9uXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHNlbmRQYXltZW50RmFpbGVkRW1haWwodXNlcklkOiBzdHJpbmcsIHJlYXNvbj86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIFRPRE86IEltcGxlbWVudCBlbWFpbCBzZXJ2aWNlIGludGVncmF0aW9uXG4gICAgY29uc29sZS5sb2coYPCfk6cgU2VuZGluZyBwYXltZW50IGZhaWxlZCBlbWFpbCB0byB1c2VyICR7dXNlcklkfTogJHtyZWFzb259YCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGN1c3RvbWVyIGNyZWF0ZWRcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlQ3VzdG9tZXJDcmVhdGVkKGV2ZW50OiBTdHJpcGVXZWJob29rRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjdXN0b21lciA9IGV2ZW50LmRhdGEub2JqZWN0IGFzIFN0cmlwZS5DdXN0b21lcjtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg8J+RpCBDdXN0b21lciBjcmVhdGVkOiAke2N1c3RvbWVyLmlkfWApO1xuXG4gICAgaWYgKGN1c3RvbWVyLm1ldGFkYXRhLnVzZXJJZCkge1xuICAgICAgYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGN1c3RvbWVyLm1ldGFkYXRhLnVzZXJJZCB9LFxuICAgICAgICBkYXRhOiB7IHN0cmlwZUN1c3RvbWVySWQ6IGN1c3RvbWVyLmlkIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGN1c3RvbWVyIHVwZGF0ZWRcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlQ3VzdG9tZXJVcGRhdGVkKGV2ZW50OiBTdHJpcGVXZWJob29rRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjdXN0b21lciA9IGV2ZW50LmRhdGEub2JqZWN0IGFzIFN0cmlwZS5DdXN0b21lcjtcbiAgICBjb25zb2xlLmxvZyhg8J+RpCBDdXN0b21lciB1cGRhdGVkOiAke2N1c3RvbWVyLmlkfWApO1xuICAgIC8vIEFkZGl0aW9uYWwgbG9naWMgYXMgbmVlZGVkXG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHN1Y2Nlc3NmdWwgcGF5b3V0XG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGhhbmRsZVBheW91dFBhaWQoZXZlbnQ6IFN0cmlwZVdlYmhvb2tFdmVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHBheW91dCA9IGV2ZW50LmRhdGEub2JqZWN0IGFzIFN0cmlwZS5QYXlvdXQ7XG4gICAgY29uc29sZS5sb2coYPCfkrggUGF5b3V0IHN1Y2NlZWRlZDogJHtwYXlvdXQuaWR9IC0gJCR7cGF5b3V0LmFtb3VudCAvIDEwMH1gKTtcbiAgICBcbiAgICBhd2FpdCBwcmlzbWEucGF5b3V0LmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0cmlwZVBheW91dElkOiBwYXlvdXQuaWQsXG4gICAgICAgIGFtb3VudDogcGF5b3V0LmFtb3VudCAvIDEwMCxcbiAgICAgICAgY3VycmVuY3k6IHBheW91dC5jdXJyZW5jeSxcbiAgICAgICAgc3RhdHVzOiAncGFpZCcsXG4gICAgICAgIGFycml2YWxEYXRlOiBuZXcgRGF0ZShwYXlvdXQuYXJyaXZhbF9kYXRlICogMTAwMCksXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBmYWlsZWQgcGF5b3V0XG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGhhbmRsZVBheW91dEZhaWxlZChldmVudDogU3RyaXBlV2ViaG9va0V2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcGF5b3V0ID0gZXZlbnQuZGF0YS5vYmplY3QgYXMgU3RyaXBlLlBheW91dDtcbiAgICBjb25zb2xlLmxvZyhg4p2MIFBheW91dCBmYWlsZWQ6ICR7cGF5b3V0LmlkfWApO1xuICAgIFxuICAgIGF3YWl0IHByaXNtYS5wYXlvdXQuY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RyaXBlUGF5b3V0SWQ6IHBheW91dC5pZCxcbiAgICAgICAgYW1vdW50OiBwYXlvdXQuYW1vdW50IC8gMTAwLFxuICAgICAgICBjdXJyZW5jeTogcGF5b3V0LmN1cnJlbmN5LFxuICAgICAgICBzdGF0dXM6ICdGQUlMRUQnIGFzIGFueSxcbiAgICAgICAgZmFpbHVyZUNvZGU6IHBheW91dC5mYWlsdXJlX2NvZGUsXG4gICAgICAgIGZhaWx1cmVNZXNzYWdlOiBwYXlvdXQuZmFpbHVyZV9tZXNzYWdlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2cgZmFpbGVkIHdlYmhvb2sgZm9yIHJldHJ5XG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGxvZ0ZhaWxlZFdlYmhvb2soZXZlbnQ6IFN0cmlwZVdlYmhvb2tFdmVudCwgZXJyb3I6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHByaXNtYS53ZWJob29rTG9nLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIGV2ZW50SWQ6IGV2ZW50LmlkLFxuICAgICAgICBldmVudFR5cGU6IGV2ZW50LnR5cGUsXG4gICAgICAgIHN0YXR1czogJ0ZBSUxFRCcgYXMgYW55LFxuICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yLFxuICAgICAgICBwYXlsb2FkOiBldmVudCBhcyBhbnksXG4gICAgICAgIGF0dGVtcHRDb3VudDogMSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cnkgZmFpbGVkIHdlYmhvb2tzIChydW4gcGVyaW9kaWNhbGx5IHZpYSBjcm9uKVxuICAgKi9cbiAgYXN5bmMgcmV0cnlGYWlsZWRXZWJob29rcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBmYWlsZWRXZWJob29rcyA9IGF3YWl0IHByaXNtYS53ZWJob29rTG9nLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHN0YXR1czogJ0ZBSUxFRCcgYXMgYW55LFxuICAgICAgICBhdHRlbXB0Q291bnQ6IHsgbHQ6IDUgfSxcbiAgICAgIH0sXG4gICAgICB0YWtlOiAxMDAsXG4gICAgfSk7XG5cbiAgICBmb3IgKGNvbnN0IHdlYmhvb2sgb2YgZmFpbGVkV2ViaG9va3MpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMucHJvY2Vzc0V2ZW50KHdlYmhvb2sucGF5bG9hZCBhcyBTdHJpcGVXZWJob29rRXZlbnQpO1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgcHJpc21hLndlYmhvb2tMb2cudXBkYXRlKHtcbiAgICAgICAgICB3aGVyZTogeyBpZDogd2ViaG9vay5pZCB9LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHN0YXR1czogJ1NVQ0NFRURFRCcgYXMgYW55LFxuICAgICAgICAgICAgYXR0ZW1wdENvdW50OiB7IGluY3JlbWVudDogMSB9LFxuICAgICAgICAgICAgbGFzdEF0dGVtcHRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgUmV0cmllZCB3ZWJob29rICR7d2ViaG9vay5ldmVudElkfSBzdWNjZXNzZnVsbHlgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgYXdhaXQgcHJpc21hLndlYmhvb2tMb2cudXBkYXRlKHtcbiAgICAgICAgICB3aGVyZTogeyBpZDogd2ViaG9vay5pZCB9LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGF0dGVtcHRDb3VudDogeyBpbmNyZW1lbnQ6IDEgfSxcbiAgICAgICAgICAgIGxhc3RBdHRlbXB0QXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgV2ViaG9vayByZXRyeSBmYWlsZWQ6ICR7d2ViaG9vay5ldmVudElkfWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgc3RyaXBlV2ViaG9va0hhbmRsZXIgPSBuZXcgU3RyaXBlV2ViaG9va0hhbmRsZXIoKTtcblxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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