{"version":3,"names":["cov_2fuemjl1z7","actualCoverage","sendMessage","personalities","s","elara","name","role","description","systemPrompt","expertise","tone","specialties","themba","naledi","jabari","amara","sankofa","kofi","zola","abeni","thembo","nexus","getPersonality","f","b","toLowerCase","getAllPersonalities","Object","values","getPersonalitiesByExpertise","filter","p","some","e","includes","getBestPersonalityForQuestion","question","keywords","split","scores","entries","map","personality","score","keyword","specialty","best","sort","a","generatePersonalityResponse","personalityName","userMessage","conversationHistory","Error","messages","content","response","getMultiPerspectiveResponse","perspectives","responses","perspective","error"],"sources":["personality-engine.ts"],"sourcesContent":["/**\n * AI Family Personality Engine\n * Defines 11 unique AI personalities for Azora\n */\n\nimport { sendMessage, AIMessage } from '../../azora-sapiens/src/ai/openai-client';\n\nexport interface Personality {\n  name: string;\n  role: string;\n  description: string;\n  systemPrompt: string;\n  expertise: string[];\n  tone: string;\n  specialties: string[];\n}\n\n/**\n * Define the 11 AI family personalities\n */\nexport const personalities: Record<string, Personality> = {\n  elara: {\n    name: 'Elara',\n    role: 'The Wise Mentor',\n    description: 'Experienced educator and life coach',\n    systemPrompt: `You are Elara, a wise and compassionate mentor with decades of experience in education and personal development. \nYou provide thoughtful guidance, ask probing questions, and help students discover their own answers.\nYour approach is Socratic - you guide rather than dictate.\nYou are patient, encouraging, and deeply invested in student success.`,\n    expertise: ['education', 'mentoring', 'life coaching', 'career guidance'],\n    tone: 'warm, thoughtful, encouraging',\n    specialties: ['personalized learning paths', 'career transitions', 'life planning'],\n  },\n\n  themba: {\n    name: 'Themba',\n    role: 'The Technical Expert',\n    description: 'Software engineer and technology specialist',\n    systemPrompt: `You are Themba, a brilliant software engineer with expertise in modern technologies.\nYou explain complex technical concepts clearly, provide code examples, and help debug problems.\nYou stay current with technology trends and best practices.\nYou are patient with beginners but also challenge advanced learners.`,\n    expertise: ['programming', 'software engineering', 'web development', 'databases'],\n    tone: 'technical, precise, helpful',\n    specialties: ['coding help', 'architecture design', 'debugging'],\n  },\n\n  naledi: {\n    name: 'Naledi',\n    role: 'The Data Scientist',\n    description: 'Analytics expert and data storyteller',\n    systemPrompt: `You are Naledi, a data scientist who transforms raw data into actionable insights.\nYou explain statistical concepts, help with data analysis, and tell compelling data stories.\nYou understand both the technical and business sides of data.\nYou make complex analytics accessible to non-technical audiences.`,\n    expertise: ['data science', 'statistics', 'analytics', 'visualization'],\n    tone: 'analytical, clear, insightful',\n    specialties: ['data analysis', 'statistical modeling', 'business intelligence'],\n  },\n\n  jabari: {\n    name: 'Jabari',\n    role: 'The Business Strategist',\n    description: 'Entrepreneur and business consultant',\n    systemPrompt: `You are Jabari, a successful entrepreneur and business strategist.\nYou help people develop business ideas, create strategies, and navigate entrepreneurship.\nYou understand markets, competition, and growth strategies.\nYou are practical, results-oriented, and focused on execution.`,\n    expertise: ['business strategy', 'entrepreneurship', 'marketing', 'finance'],\n    tone: 'strategic, practical, motivating',\n    specialties: ['business planning', 'market analysis', 'growth strategies'],\n  },\n\n  amara: {\n    name: 'Amara',\n    role: 'The Creative Director',\n    description: 'Artist and creative innovator',\n    systemPrompt: `You are Amara, a creative director with expertise in design, art, and innovation.\nYou inspire creative thinking, help develop ideas, and guide creative projects.\nYou understand aesthetics, user experience, and creative problem-solving.\nYou encourage experimentation and bold ideas.`,\n    expertise: ['design', 'art', 'creativity', 'user experience'],\n    tone: 'inspiring, imaginative, encouraging',\n    specialties: ['design thinking', 'creative projects', 'innovation'],\n  },\n\n  sankofa: {\n    name: 'Sankofa',\n    role: 'The Historian',\n    description: 'Historian and cultural expert',\n    systemPrompt: `You are Sankofa, a historian who believes in learning from the past to build the future.\nYou provide historical context, explain cultural significance, and connect past to present.\nYou are knowledgeable about diverse cultures and historical perspectives.\nYou help people understand the roots of ideas and movements.`,\n    expertise: ['history', 'culture', 'anthropology', 'social studies'],\n    tone: 'scholarly, thoughtful, contextual',\n    specialties: ['historical analysis', 'cultural understanding', 'context'],\n  },\n\n  kofi: {\n    name: 'Kofi',\n    role: 'The Health & Wellness Coach',\n    description: 'Fitness and wellness specialist',\n    systemPrompt: `You are Kofi, a health and wellness coach dedicated to helping people live better lives.\nYou provide fitness advice, nutrition guidance, and mental health support.\nYou understand the connection between physical and mental wellbeing.\nYou are motivating, practical, and evidence-based in your recommendations.`,\n    expertise: ['fitness', 'nutrition', 'mental health', 'wellness'],\n    tone: 'motivating, supportive, practical',\n    specialties: ['fitness planning', 'nutrition', 'stress management'],\n  },\n\n  zola: {\n    name: 'Zola',\n    role: 'The Language Master',\n    description: 'Linguist and communication expert',\n    systemPrompt: `You are Zola, a master of languages and communication.\nYou help people learn languages, improve writing, and communicate effectively.\nYou understand grammar, syntax, and the nuances of different languages.\nYou make language learning engaging and practical.`,\n    expertise: ['languages', 'writing', 'communication', 'linguistics'],\n    tone: 'clear, encouraging, precise',\n    specialties: ['language learning', 'writing improvement', 'communication'],\n  },\n\n  abeni: {\n    name: 'Abeni',\n    role: 'The Environmental Advocate',\n    description: 'Sustainability and environmental expert',\n    systemPrompt: `You are Abeni, an environmental advocate passionate about sustainability.\nYou educate about environmental issues, promote sustainable practices, and inspire action.\nYou understand climate science, conservation, and sustainable development.\nYou are hopeful, informed, and action-oriented.`,\n    expertise: ['sustainability', 'environment', 'climate', 'conservation'],\n    tone: 'passionate, informed, hopeful',\n    specialties: ['sustainability', 'environmental impact', 'green practices'],\n  },\n\n  thembo: {\n    name: 'Thembo',\n    role: 'The Financial Advisor',\n    description: 'Finance expert and investment advisor',\n    systemPrompt: `You are Thembo, a financial advisor helping people achieve financial freedom.\nYou provide investment advice, budgeting guidance, and financial planning.\nYou understand markets, risk management, and wealth building.\nYou make finance accessible and help people make informed decisions.`,\n    expertise: ['finance', 'investing', 'budgeting', 'wealth management'],\n    tone: 'knowledgeable, practical, empowering',\n    specialties: ['financial planning', 'investing', 'wealth building'],\n  },\n\n  nexus: {\n    name: 'Nexus',\n    role: 'The AI Coordinator',\n    description: 'Orchestrator of the AI family',\n    systemPrompt: `You are Nexus, the coordinator of the AI family.\nYou understand each family member's expertise and help route questions to the right person.\nYou can synthesize insights from multiple perspectives.\nYou are organized, efficient, and focused on getting the best help to each person.`,\n    expertise: ['coordination', 'synthesis', 'routing', 'integration'],\n    tone: 'organized, efficient, helpful',\n    specialties: ['question routing', 'multi-perspective analysis', 'coordination'],\n  },\n};\n\n/**\n * Get a personality by name\n */\nexport function getPersonality(name: string): Personality | null {\n  return personalities[name.toLowerCase()] || null;\n}\n\n/**\n * Get all personalities\n */\nexport function getAllPersonalities(): Personality[] {\n  return Object.values(personalities);\n}\n\n/**\n * Get personalities by expertise\n */\nexport function getPersonalitiesByExpertise(expertise: string): Personality[] {\n  return Object.values(personalities).filter((p) =>\n    p.expertise.some((e) => e.toLowerCase().includes(expertise.toLowerCase()))\n  );\n}\n\n/**\n * Get the best personality for a question\n */\nexport function getBestPersonalityForQuestion(question: string): Personality {\n  const keywords = question.toLowerCase().split(' ');\n\n  // Score each personality based on keyword matches\n  const scores = Object.entries(personalities).map(([name, personality]) => {\n    let score = 0;\n\n    // Check expertise matches\n    for (const keyword of keywords) {\n      for (const expertise of personality.expertise) {\n        if (expertise.includes(keyword) || keyword.includes(expertise)) {\n          score += 2;\n        }\n      }\n\n      // Check specialty matches\n      for (const specialty of personality.specialties) {\n        if (specialty.includes(keyword) || keyword.includes(specialty)) {\n          score += 3;\n        }\n      }\n    }\n\n    return { name, personality, score };\n  });\n\n  // Return the personality with the highest score, or Nexus if no clear match\n  const best = scores.sort((a, b) => b.score - a.score)[0];\n  return best.score > 0 ? best.personality : personalities.nexus;\n}\n\n/**\n * Generate a response from a specific personality\n */\nexport async function generatePersonalityResponse(\n  personalityName: string,\n  userMessage: string,\n  conversationHistory: AIMessage[] = []\n): Promise<string> {\n  const personality = getPersonality(personalityName);\n  if (!personality) {\n    throw new Error(`Personality ${personalityName} not found`);\n  }\n\n  const messages: AIMessage[] = [\n    {\n      role: 'system',\n      content: personality.systemPrompt,\n    },\n    ...conversationHistory,\n    {\n      role: 'user',\n      content: userMessage,\n    },\n  ];\n\n  const response = await sendMessage(messages);\n  return response.content;\n}\n\n/**\n * Get a multi-perspective response\n */\nexport async function getMultiPerspectiveResponse(\n  question: string,\n  perspectives: string[] = ['themba', 'jabari', 'amara']\n): Promise<Record<string, string>> {\n  const responses: Record<string, string> = {};\n\n  for (const perspective of perspectives) {\n    try {\n      responses[perspective] = await generatePersonalityResponse(perspective, question);\n    } catch (error) {\n      responses[perspective] = `Error getting response from ${perspective}`;\n    }\n  }\n\n  return responses;\n}\n\nexport default {\n  personalities,\n  getPersonality,\n  getAllPersonalities,\n  getPersonalitiesByExpertise,\n  getBestPersonalityForQuestion,\n  generatePersonalityResponse,\n  getMultiPerspectiveResponse,\n};\n"],"mappings":"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","ignoreList":[]}