{"version":3,"names":["cov_54tzmjce3","actualCoverage","ProofOfKnowledge","constructor","f","s","activityTypes","COURSE_COMPLETION","weight","baseReward","LESSON_COMPLETION","QUIZ_PASSED","ASSIGNMENT_SUBMITTED","PEER_TEACHING","DISCUSSION_CONTRIBUTION","PROJECT_COMPLETION","CERTIFICATION_EARNED","validateProof","activity","b","type","valid","reason","activityConfig","userId","timestamp","score","proof","activityType","metadata","verified","calculateReward","config","reward","difficulty","difficultyMultiplier","beginner","intermediate","advanced","expert","scoreBonus","Math","max","timeSpent","engagementBonus","min","round","generateProofHash","crypto","require","data","JSON","stringify","user","time","meta","createHash","update","digest","module","exports"],"sources":["proof-of-knowledge.js"],"sourcesContent":["class ProofOfKnowledge {\n  constructor() {\n    this.activityTypes = {\n      COURSE_COMPLETION: { weight: 1.0, baseReward: 100 },\n      LESSON_COMPLETION: { weight: 0.3, baseReward: 10 },\n      QUIZ_PASSED: { weight: 0.5, baseReward: 25 },\n      ASSIGNMENT_SUBMITTED: { weight: 0.4, baseReward: 15 },\n      PEER_TEACHING: { weight: 0.8, baseReward: 50 },\n      DISCUSSION_CONTRIBUTION: { weight: 0.2, baseReward: 5 },\n      PROJECT_COMPLETION: { weight: 1.2, baseReward: 150 },\n      CERTIFICATION_EARNED: { weight: 2.0, baseReward: 500 }\n    };\n  }\n\n  validateProof(activity) {\n    if (!activity || !activity.type) {\n      return { valid: false, reason: 'Invalid activity structure' };\n    }\n\n    const activityConfig = this.activityTypes[activity.type];\n    if (!activityConfig) {\n      return { valid: false, reason: 'Unknown activity type' };\n    }\n\n    if (!activity.userId || !activity.timestamp) {\n      return { valid: false, reason: 'Missing required fields' };\n    }\n\n    if (activity.type === 'QUIZ_PASSED' && (!activity.score || activity.score < 70)) {\n      return { valid: false, reason: 'Quiz score below passing threshold' };\n    }\n\n    const proof = {\n      activityType: activity.type,\n      userId: activity.userId,\n      timestamp: activity.timestamp,\n      metadata: activity.metadata || {},\n      weight: activityConfig.weight,\n      verified: true\n    };\n\n    return { valid: true, proof };\n  }\n\n  calculateReward(proof) {\n    const config = this.activityTypes[proof.activityType];\n    if (!config) return 0;\n\n    let reward = config.baseReward * proof.weight;\n\n    if (proof.metadata.difficulty) {\n      const difficultyMultiplier = {\n        beginner: 1.0,\n        intermediate: 1.5,\n        advanced: 2.0,\n        expert: 3.0\n      }[proof.metadata.difficulty] || 1.0;\n      reward *= difficultyMultiplier;\n    }\n\n    if (proof.metadata.score) {\n      const scoreBonus = (proof.metadata.score - 70) / 30;\n      reward *= (1 + Math.max(0, scoreBonus));\n    }\n\n    if (proof.metadata.timeSpent) {\n      const engagementBonus = Math.min(proof.metadata.timeSpent / 3600, 0.5);\n      reward *= (1 + engagementBonus);\n    }\n\n    return Math.round(reward * 100) / 100;\n  }\n\n  generateProofHash(proof) {\n    const crypto = require('crypto');\n    const data = JSON.stringify({\n      type: proof.activityType,\n      user: proof.userId,\n      time: proof.timestamp,\n      meta: proof.metadata\n    });\n    return crypto.createHash('sha256').update(data).digest('hex');\n  }\n}\n\nmodule.exports = new ProofOfKnowledge();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAfZ,MAAME,gBAAgB,CAAC;EACrBC,WAAWA,CAAA,EAAG;IAAA;IAAAH,aAAA,GAAAI,CAAA;IAAAJ,aAAA,GAAAK,CAAA;IACZ,IAAI,CAACC,aAAa,GAAG;MACnBC,iBAAiB,EAAE;QAAEC,MAAM,EAAE,GAAG;QAAEC,UAAU,EAAE;MAAI,CAAC;MACnDC,iBAAiB,EAAE;QAAEF,MAAM,EAAE,GAAG;QAAEC,UAAU,EAAE;MAAG,CAAC;MAClDE,WAAW,EAAE;QAAEH,MAAM,EAAE,GAAG;QAAEC,UAAU,EAAE;MAAG,CAAC;MAC5CG,oBAAoB,EAAE;QAAEJ,MAAM,EAAE,GAAG;QAAEC,UAAU,EAAE;MAAG,CAAC;MACrDI,aAAa,EAAE;QAAEL,MAAM,EAAE,GAAG;QAAEC,UAAU,EAAE;MAAG,CAAC;MAC9CK,uBAAuB,EAAE;QAAEN,MAAM,EAAE,GAAG;QAAEC,UAAU,EAAE;MAAE,CAAC;MACvDM,kBAAkB,EAAE;QAAEP,MAAM,EAAE,GAAG;QAAEC,UAAU,EAAE;MAAI,CAAC;MACpDO,oBAAoB,EAAE;QAAER,MAAM,EAAE,GAAG;QAAEC,UAAU,EAAE;MAAI;IACvD,CAAC;EACH;EAEAQ,aAAaA,CAACC,QAAQ,EAAE;IAAA;IAAAlB,aAAA,GAAAI,CAAA;IAAAJ,aAAA,GAAAK,CAAA;IACtB;IAAI;IAAA,CAAAL,aAAA,GAAAmB,CAAA,WAACD,QAAQ;IAAA;IAAA,CAAAlB,aAAA,GAAAmB,CAAA,UAAI,CAACD,QAAQ,CAACE,IAAI,GAAE;MAAA;MAAApB,aAAA,GAAAmB,CAAA;MAAAnB,aAAA,GAAAK,CAAA;MAC/B,OAAO;QAAEgB,KAAK,EAAE,KAAK;QAAEC,MAAM,EAAE;MAA6B,CAAC;IAC/D,CAAC;IAAA;IAAA;MAAAtB,aAAA,GAAAmB,CAAA;IAAA;IAED,MAAMI,cAAc;IAAA;IAAA,CAAAvB,aAAA,GAAAK,CAAA,OAAG,IAAI,CAACC,aAAa,CAACY,QAAQ,CAACE,IAAI,CAAC;IAAC;IAAApB,aAAA,GAAAK,CAAA;IACzD,IAAI,CAACkB,cAAc,EAAE;MAAA;MAAAvB,aAAA,GAAAmB,CAAA;MAAAnB,aAAA,GAAAK,CAAA;MACnB,OAAO;QAAEgB,KAAK,EAAE,KAAK;QAAEC,MAAM,EAAE;MAAwB,CAAC;IAC1D,CAAC;IAAA;IAAA;MAAAtB,aAAA,GAAAmB,CAAA;IAAA;IAAAnB,aAAA,GAAAK,CAAA;IAED;IAAI;IAAA,CAAAL,aAAA,GAAAmB,CAAA,WAACD,QAAQ,CAACM,MAAM;IAAA;IAAA,CAAAxB,aAAA,GAAAmB,CAAA,UAAI,CAACD,QAAQ,CAACO,SAAS,GAAE;MAAA;MAAAzB,aAAA,GAAAmB,CAAA;MAAAnB,aAAA,GAAAK,CAAA;MAC3C,OAAO;QAAEgB,KAAK,EAAE,KAAK;QAAEC,MAAM,EAAE;MAA0B,CAAC;IAC5D,CAAC;IAAA;IAAA;MAAAtB,aAAA,GAAAmB,CAAA;IAAA;IAAAnB,aAAA,GAAAK,CAAA;IAED;IAAI;IAAA,CAAAL,aAAA,GAAAmB,CAAA,UAAAD,QAAQ,CAACE,IAAI,KAAK,aAAa;IAAK;IAAA,CAAApB,aAAA,GAAAmB,CAAA,WAACD,QAAQ,CAACQ,KAAK;IAAA;IAAA,CAAA1B,aAAA,GAAAmB,CAAA,UAAID,QAAQ,CAACQ,KAAK,GAAG,EAAE,EAAC,EAAE;MAAA;MAAA1B,aAAA,GAAAmB,CAAA;MAAAnB,aAAA,GAAAK,CAAA;MAC/E,OAAO;QAAEgB,KAAK,EAAE,KAAK;QAAEC,MAAM,EAAE;MAAqC,CAAC;IACvE,CAAC;IAAA;IAAA;MAAAtB,aAAA,GAAAmB,CAAA;IAAA;IAED,MAAMQ,KAAK;IAAA;IAAA,CAAA3B,aAAA,GAAAK,CAAA,QAAG;MACZuB,YAAY,EAAEV,QAAQ,CAACE,IAAI;MAC3BI,MAAM,EAAEN,QAAQ,CAACM,MAAM;MACvBC,SAAS,EAAEP,QAAQ,CAACO,SAAS;MAC7BI,QAAQ;MAAE;MAAA,CAAA7B,aAAA,GAAAmB,CAAA,UAAAD,QAAQ,CAACW,QAAQ;MAAA;MAAA,CAAA7B,aAAA,GAAAmB,CAAA,UAAI,CAAC,CAAC;MACjCX,MAAM,EAAEe,cAAc,CAACf,MAAM;MAC7BsB,QAAQ,EAAE;IACZ,CAAC;IAAC;IAAA9B,aAAA,GAAAK,CAAA;IAEF,OAAO;MAAEgB,KAAK,EAAE,IAAI;MAAEM;IAAM,CAAC;EAC/B;EAEAI,eAAeA,CAACJ,KAAK,EAAE;IAAA;IAAA3B,aAAA,GAAAI,CAAA;IACrB,MAAM4B,MAAM;IAAA;IAAA,CAAAhC,aAAA,GAAAK,CAAA,QAAG,IAAI,CAACC,aAAa,CAACqB,KAAK,CAACC,YAAY,CAAC;IAAC;IAAA5B,aAAA,GAAAK,CAAA;IACtD,IAAI,CAAC2B,MAAM,EAAE;MAAA;MAAAhC,aAAA,GAAAmB,CAAA;MAAAnB,aAAA,GAAAK,CAAA;MAAA,OAAO,CAAC;IAAA,CAAC;IAAA;IAAA;MAAAL,aAAA,GAAAmB,CAAA;IAAA;IAEtB,IAAIc,MAAM;IAAA;IAAA,CAAAjC,aAAA,GAAAK,CAAA,QAAG2B,MAAM,CAACvB,UAAU,GAAGkB,KAAK,CAACnB,MAAM;IAAC;IAAAR,aAAA,GAAAK,CAAA;IAE9C,IAAIsB,KAAK,CAACE,QAAQ,CAACK,UAAU,EAAE;MAAA;MAAAlC,aAAA,GAAAmB,CAAA;MAC7B,MAAMgB,oBAAoB;MAAA;MAAA,CAAAnC,aAAA,GAAAK,CAAA;MAAG;MAAA,CAAAL,aAAA,GAAAmB,CAAA;QAC3BiB,QAAQ,EAAE,GAAG;QACbC,YAAY,EAAE,GAAG;QACjBC,QAAQ,EAAE,GAAG;QACbC,MAAM,EAAE;MACV,CAAC,CAACZ,KAAK,CAACE,QAAQ,CAACK,UAAU,CAAC;MAAA;MAAA,CAAAlC,aAAA,GAAAmB,CAAA,WAAI,GAAG;MAAC;MAAAnB,aAAA,GAAAK,CAAA;MACpC4B,MAAM,IAAIE,oBAAoB;IAChC,CAAC;IAAA;IAAA;MAAAnC,aAAA,GAAAmB,CAAA;IAAA;IAAAnB,aAAA,GAAAK,CAAA;IAED,IAAIsB,KAAK,CAACE,QAAQ,CAACH,KAAK,EAAE;MAAA;MAAA1B,aAAA,GAAAmB,CAAA;MACxB,MAAMqB,UAAU;MAAA;MAAA,CAAAxC,aAAA,GAAAK,CAAA,QAAG,CAACsB,KAAK,CAACE,QAAQ,CAACH,KAAK,GAAG,EAAE,IAAI,EAAE;MAAC;MAAA1B,aAAA,GAAAK,CAAA;MACpD4B,MAAM,IAAK,CAAC,GAAGQ,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEF,UAAU,CAAE;IACzC,CAAC;IAAA;IAAA;MAAAxC,aAAA,GAAAmB,CAAA;IAAA;IAAAnB,aAAA,GAAAK,CAAA;IAED,IAAIsB,KAAK,CAACE,QAAQ,CAACc,SAAS,EAAE;MAAA;MAAA3C,aAAA,GAAAmB,CAAA;MAC5B,MAAMyB,eAAe;MAAA;MAAA,CAAA5C,aAAA,GAAAK,CAAA,QAAGoC,IAAI,CAACI,GAAG,CAAClB,KAAK,CAACE,QAAQ,CAACc,SAAS,GAAG,IAAI,EAAE,GAAG,CAAC;MAAC;MAAA3C,aAAA,GAAAK,CAAA;MACvE4B,MAAM,IAAK,CAAC,GAAGW,eAAgB;IACjC,CAAC;IAAA;IAAA;MAAA5C,aAAA,GAAAmB,CAAA;IAAA;IAAAnB,aAAA,GAAAK,CAAA;IAED,OAAOoC,IAAI,CAACK,KAAK,CAACb,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG;EACvC;EAEAc,iBAAiBA,CAACpB,KAAK,EAAE;IAAA;IAAA3B,aAAA,GAAAI,CAAA;IACvB,MAAM4C,MAAM;IAAA;IAAA,CAAAhD,aAAA,GAAAK,CAAA,QAAG4C,OAAO,CAAC,QAAQ,CAAC;IAChC,MAAMC,IAAI;IAAA;IAAA,CAAAlD,aAAA,GAAAK,CAAA,QAAG8C,IAAI,CAACC,SAAS,CAAC;MAC1BhC,IAAI,EAAEO,KAAK,CAACC,YAAY;MACxByB,IAAI,EAAE1B,KAAK,CAACH,MAAM;MAClB8B,IAAI,EAAE3B,KAAK,CAACF,SAAS;MACrB8B,IAAI,EAAE5B,KAAK,CAACE;IACd,CAAC,CAAC;IAAC;IAAA7B,aAAA,GAAAK,CAAA;IACH,OAAO2C,MAAM,CAACQ,UAAU,CAAC,QAAQ,CAAC,CAACC,MAAM,CAACP,IAAI,CAAC,CAACQ,MAAM,CAAC,KAAK,CAAC;EAC/D;AACF;AAAC;AAAA1D,aAAA,GAAAK,CAAA;AAEDsD,MAAM,CAACC,OAAO,GAAG,IAAI1D,gBAAgB,CAAC,CAAC","ignoreList":[]}