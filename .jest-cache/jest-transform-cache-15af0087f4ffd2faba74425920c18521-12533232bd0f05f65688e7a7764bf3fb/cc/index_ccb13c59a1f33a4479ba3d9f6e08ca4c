5a76ee32698317d655cc29c5a4d82fcd
/* istanbul ignore next */
function cov_10li21hkt5() {
  var path = "/workspaces/azora/services/azora-api-gateway/src/routes/index.ts";
  var hash = "44f1519bd00ad183a5a5e44f932d842322533c2a";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/azora-api-gateway/src/routes/index.ts",
    statementMap: {
      "0": {
        start: {
          line: 4,
          column: 23
        },
        end: {
          line: 4,
          column: 39
        }
      },
      "1": {
        start: {
          line: 11,
          column: 27
        },
        end: {
          line: 24,
          column: 1
        }
      },
      "2": {
        start: {
          line: 41,
          column: 0
        },
        end: {
          line: 53,
          column: 3
        }
      },
      "3": {
        start: {
          line: 42,
          column: 2
        },
        end: {
          line: 52,
          column: 5
        }
      },
      "4": {
        start: {
          line: 56,
          column: 0
        },
        end: {
          line: 89,
          column: 3
        }
      },
      "5": {
        start: {
          line: 57,
          column: 2
        },
        end: {
          line: 88,
          column: 3
        }
      },
      "6": {
        start: {
          line: 58,
          column: 25
        },
        end: {
          line: 72,
          column: 5
        }
      },
      "7": {
        start: {
          line: 60,
          column: 8
        },
        end: {
          line: 70,
          column: 9
        }
      },
      "8": {
        start: {
          line: 61,
          column: 10
        },
        end: {
          line: 61,
          column: 42
        }
      },
      "9": {
        start: {
          line: 62,
          column: 10
        },
        end: {
          line: 62,
          column: 65
        }
      },
      "10": {
        start: {
          line: 64,
          column: 10
        },
        end: {
          line: 69,
          column: 12
        }
      },
      "11": {
        start: {
          line: 74,
          column: 35
        },
        end: {
          line: 76,
          column: 5
        }
      },
      "12": {
        start: {
          line: 75,
          column: 6
        },
        end: {
          line: 75,
          column: 66
        }
      },
      "13": {
        start: {
          line: 78,
          column: 4
        },
        end: {
          line: 82,
          column: 7
        }
      },
      "14": {
        start: {
          line: 84,
          column: 4
        },
        end: {
          line: 87,
          column: 7
        }
      },
      "15": {
        start: {
          line: 92,
          column: 0
        },
        end: {
          line: 120,
          column: 3
        }
      },
      "16": {
        start: {
          line: 93,
          column: 28
        },
        end: {
          line: 117,
          column: 3
        }
      },
      "17": {
        start: {
          line: 98,
          column: 6
        },
        end: {
          line: 98,
          column: 69
        }
      },
      "18": {
        start: {
          line: 99,
          column: 6
        },
        end: {
          line: 105,
          column: 9
        }
      },
      "19": {
        start: {
          line: 109,
          column: 6
        },
        end: {
          line: 109,
          column: 66
        }
      },
      "20": {
        start: {
          line: 110,
          column: 6
        },
        end: {
          line: 110,
          column: 76
        }
      },
      "21": {
        start: {
          line: 114,
          column: 6
        },
        end: {
          line: 114,
          column: 53
        }
      },
      "22": {
        start: {
          line: 115,
          column: 6
        },
        end: {
          line: 115,
          column: 54
        }
      },
      "23": {
        start: {
          line: 119,
          column: 2
        },
        end: {
          line: 119,
          column: 65
        }
      },
      "24": {
        start: {
          line: 123,
          column: 0
        },
        end: {
          line: 135,
          column: 3
        }
      },
      "25": {
        start: {
          line: 124,
          column: 37
        },
        end: {
          line: 129,
          column: 5
        }
      },
      "26": {
        start: {
          line: 124,
          column: 87
        },
        end: {
          line: 129,
          column: 3
        }
      },
      "27": {
        start: {
          line: 131,
          column: 2
        },
        end: {
          line: 134,
          column: 5
        }
      },
      "28": {
        start: {
          line: 138,
          column: 0
        },
        end: {
          line: 185,
          column: 3
        }
      },
      "29": {
        start: {
          line: 139,
          column: 19
        },
        end: {
          line: 139,
          column: 27
        }
      },
      "30": {
        start: {
          line: 143,
          column: 2
        },
        end: {
          line: 177,
          column: 3
        }
      },
      "31": {
        start: {
          line: 145,
          column: 6
        },
        end: {
          line: 145,
          column: 34
        }
      },
      "32": {
        start: {
          line: 146,
          column: 6
        },
        end: {
          line: 146,
          column: 12
        }
      },
      "33": {
        start: {
          line: 150,
          column: 6
        },
        end: {
          line: 150,
          column: 32
        }
      },
      "34": {
        start: {
          line: 151,
          column: 6
        },
        end: {
          line: 151,
          column: 12
        }
      },
      "35": {
        start: {
          line: 153,
          column: 6
        },
        end: {
          line: 153,
          column: 36
        }
      },
      "36": {
        start: {
          line: 154,
          column: 6
        },
        end: {
          line: 154,
          column: 12
        }
      },
      "37": {
        start: {
          line: 156,
          column: 6
        },
        end: {
          line: 156,
          column: 29
        }
      },
      "38": {
        start: {
          line: 157,
          column: 6
        },
        end: {
          line: 157,
          column: 12
        }
      },
      "39": {
        start: {
          line: 160,
          column: 6
        },
        end: {
          line: 160,
          column: 27
        }
      },
      "40": {
        start: {
          line: 161,
          column: 6
        },
        end: {
          line: 161,
          column: 12
        }
      },
      "41": {
        start: {
          line: 163,
          column: 6
        },
        end: {
          line: 163,
          column: 35
        }
      },
      "42": {
        start: {
          line: 164,
          column: 6
        },
        end: {
          line: 164,
          column: 12
        }
      },
      "43": {
        start: {
          line: 166,
          column: 6
        },
        end: {
          line: 166,
          column: 34
        }
      },
      "44": {
        start: {
          line: 167,
          column: 6
        },
        end: {
          line: 167,
          column: 12
        }
      },
      "45": {
        start: {
          line: 169,
          column: 6
        },
        end: {
          line: 169,
          column: 37
        }
      },
      "46": {
        start: {
          line: 170,
          column: 6
        },
        end: {
          line: 170,
          column: 12
        }
      },
      "47": {
        start: {
          line: 172,
          column: 6
        },
        end: {
          line: 176,
          column: 9
        }
      },
      "48": {
        start: {
          line: 179,
          column: 2
        },
        end: {
          line: 184,
          column: 5
        }
      },
      "49": {
        start: {
          line: 192,
          column: 43
        },
        end: {
          line: 196,
          column: 1
        }
      },
      "50": {
        start: {
          line: 202,
          column: 41
        },
        end: {
          line: 202,
          column: 43
        }
      },
      "51": {
        start: {
          line: 204,
          column: 0
        },
        end: {
          line: 226,
          column: 3
        }
      },
      "52": {
        start: {
          line: 205,
          column: 22
        },
        end: {
          line: 205,
          column: 32
        }
      },
      "53": {
        start: {
          line: 206,
          column: 20
        },
        end: {
          line: 206,
          column: 45
        }
      },
      "54": {
        start: {
          line: 208,
          column: 2
        },
        end: {
          line: 213,
          column: 3
        }
      },
      "55": {
        start: {
          line: 209,
          column: 4
        },
        end: {
          line: 212,
          column: 7
        }
      },
      "56": {
        start: {
          line: 216,
          column: 2
        },
        end: {
          line: 216,
          column: 80
        }
      },
      "57": {
        start: {
          line: 217,
          column: 17
        },
        end: {
          line: 217,
          column: 52
        }
      },
      "58": {
        start: {
          line: 218,
          column: 2
        },
        end: {
          line: 218,
          column: 29
        }
      },
      "59": {
        start: {
          line: 220,
          column: 2
        },
        end: {
          line: 225,
          column: 5
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 41,
            column: 33
          },
          end: {
            line: 41,
            column: 34
          }
        },
        loc: {
          start: {
            line: 41,
            column: 67
          },
          end: {
            line: 53,
            column: 1
          }
        },
        line: 41
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 56,
            column: 31
          },
          end: {
            line: 56,
            column: 32
          }
        },
        loc: {
          start: {
            line: 56,
            column: 71
          },
          end: {
            line: 89,
            column: 1
          }
        },
        line: 56
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 59,
            column: 35
          },
          end: {
            line: 59,
            column: 36
          }
        },
        loc: {
          start: {
            line: 59,
            column: 64
          },
          end: {
            line: 71,
            column: 7
          }
        },
        line: 59
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 74,
            column: 52
          },
          end: {
            line: 74,
            column: 53
          }
        },
        loc: {
          start: {
            line: 75,
            column: 6
          },
          end: {
            line: 75,
            column: 66
          }
        },
        line: 75
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 92,
            column: 33
          },
          end: {
            line: 92,
            column: 34
          }
        },
        loc: {
          start: {
            line: 92,
            column: 56
          },
          end: {
            line: 120,
            column: 1
          }
        },
        line: 92
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 97,
            column: 13
          },
          end: {
            line: 97,
            column: 14
          }
        },
        loc: {
          start: {
            line: 97,
            column: 50
          },
          end: {
            line: 106,
            column: 5
          }
        },
        line: 97
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 107,
            column: 16
          },
          end: {
            line: 107,
            column: 17
          }
        },
        loc: {
          start: {
            line: 107,
            column: 46
          },
          end: {
            line: 111,
            column: 5
          }
        },
        line: 107
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 112,
            column: 16
          },
          end: {
            line: 112,
            column: 17
          }
        },
        loc: {
          start: {
            line: 112,
            column: 57
          },
          end: {
            line: 116,
            column: 5
          }
        },
        line: 112
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 123,
            column: 24
          },
          end: {
            line: 123,
            column: 25
          }
        },
        loc: {
          start: {
            line: 123,
            column: 58
          },
          end: {
            line: 135,
            column: 1
          }
        },
        line: 123
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 124,
            column: 66
          },
          end: {
            line: 124,
            column: 67
          }
        },
        loc: {
          start: {
            line: 124,
            column: 87
          },
          end: {
            line: 129,
            column: 3
          }
        },
        line: 124
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 138,
            column: 22
          },
          end: {
            line: 138,
            column: 23
          }
        },
        loc: {
          start: {
            line: 138,
            column: 55
          },
          end: {
            line: 185,
            column: 1
          }
        },
        line: 138
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 204,
            column: 32
          },
          end: {
            line: 204,
            column: 33
          }
        },
        loc: {
          start: {
            line: 204,
            column: 65
          },
          end: {
            line: 226,
            column: 1
          }
        },
        line: 204
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 75,
            column: 6
          },
          end: {
            line: 75,
            column: 66
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 75,
            column: 38
          },
          end: {
            line: 75,
            column: 50
          }
        }, {
          start: {
            line: 75,
            column: 53
          },
          end: {
            line: 75,
            column: 66
          }
        }],
        line: 75
      },
      "1": {
        loc: {
          start: {
            line: 143,
            column: 2
          },
          end: {
            line: 177,
            column: 3
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 144,
            column: 4
          },
          end: {
            line: 146,
            column: 12
          }
        }, {
          start: {
            line: 147,
            column: 4
          },
          end: {
            line: 147,
            column: 19
          }
        }, {
          start: {
            line: 148,
            column: 4
          },
          end: {
            line: 148,
            column: 16
          }
        }, {
          start: {
            line: 149,
            column: 4
          },
          end: {
            line: 151,
            column: 12
          }
        }, {
          start: {
            line: 152,
            column: 4
          },
          end: {
            line: 154,
            column: 12
          }
        }, {
          start: {
            line: 155,
            column: 4
          },
          end: {
            line: 157,
            column: 12
          }
        }, {
          start: {
            line: 158,
            column: 4
          },
          end: {
            line: 158,
            column: 14
          }
        }, {
          start: {
            line: 159,
            column: 4
          },
          end: {
            line: 161,
            column: 12
          }
        }, {
          start: {
            line: 162,
            column: 4
          },
          end: {
            line: 164,
            column: 12
          }
        }, {
          start: {
            line: 165,
            column: 4
          },
          end: {
            line: 167,
            column: 12
          }
        }, {
          start: {
            line: 168,
            column: 4
          },
          end: {
            line: 170,
            column: 12
          }
        }, {
          start: {
            line: 171,
            column: 4
          },
          end: {
            line: 176,
            column: 9
          }
        }],
        line: 143
      },
      "2": {
        loc: {
          start: {
            line: 208,
            column: 2
          },
          end: {
            line: 213,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 208,
            column: 2
          },
          end: {
            line: 213,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 208
      },
      "3": {
        loc: {
          start: {
            line: 208,
            column: 6
          },
          end: {
            line: 208,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 208,
            column: 6
          },
          end: {
            line: 208,
            column: 16
          }
        }, {
          start: {
            line: 208,
            column: 20
          },
          end: {
            line: 208,
            column: 42
          }
        }],
        line: 208
      },
      "4": {
        loc: {
          start: {
            line: 216,
            column: 30
          },
          end: {
            line: 216,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 216,
            column: 30
          },
          end: {
            line: 216,
            column: 54
          }
        }, {
          start: {
            line: 216,
            column: 58
          },
          end: {
            line: 216,
            column: 59
          }
        }],
        line: 216
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "44f1519bd00ad183a5a5e44f932d842322533c2a"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_10li21hkt5 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_10li21hkt5();
import express from 'express';
import { createProxyMiddleware } from 'http-proxy-middleware';
const router =
/* istanbul ignore next */
(cov_10li21hkt5().s[0]++, express.Router());

// Ubuntu Service Discovery - Enhanced with new services

const services =
/* istanbul ignore next */
(cov_10li21hkt5().s[1]++, {
  education: 'http://localhost:4001',
  finance: 'http://localhost:4002',
  marketplace: 'http://localhost:4003',
  auth: 'http://localhost:4004',
  ai: 'http://localhost:4005',
  blockchain: 'http://localhost:4009',
  analytics: 'http://localhost:4010',
  mint: 'http://localhost:4011',
  citadel: 'http://localhost:4015',
  proofOfValue: 'http://localhost:4016',
  constitutionalAI: 'http://localhost:4012',
  aiRouting: 'http://localhost:4013'
});
/* istanbul ignore next */
// Ubuntu Philosophy Endpoint
cov_10li21hkt5().s[2]++;
router.get('/ubuntu/philosophy', (_req, res) => {
  /* istanbul ignore next */
  cov_10li21hkt5().f[0]++;
  cov_10li21hkt5().s[3]++;
  res.json({
    philosophy: 'Ngiyakwazi ngoba sikwazi - I am because we are',
    principles: ['My success enables your success', 'My knowledge becomes our knowledge', 'My work strengthens our foundation', 'My security ensures our freedom'],
    services: Object.keys(services),
    ubuntu: 'API Gateway - Ubuntu service orchestration complete'
  });
});

// Service Health Check
/* istanbul ignore next */
cov_10li21hkt5().s[4]++;
router.get('/services/health', async (_req, res) => {
  /* istanbul ignore next */
  cov_10li21hkt5().f[1]++;
  cov_10li21hkt5().s[5]++;
  try {
    const healthChecks =
    /* istanbul ignore next */
    (cov_10li21hkt5().s[6]++, await Promise.allSettled(Object.entries(services).map(async ([service, target]) => {
      /* istanbul ignore next */
      cov_10li21hkt5().f[2]++;
      cov_10li21hkt5().s[7]++;
      try {
        /* istanbul ignore next */
        cov_10li21hkt5().s[8]++;
        await fetch(`${target}/health`);
        /* istanbul ignore next */
        cov_10li21hkt5().s[9]++;
        return {
          service,
          status: 'healthy',
          target
        };
      } catch (error) {
        /* istanbul ignore next */
        cov_10li21hkt5().s[10]++;
        return {
          service,
          status: 'unhealthy',
          target,
          error: error.message
        };
      }
    })));
    const results =
    /* istanbul ignore next */
    (cov_10li21hkt5().s[11]++, healthChecks.map(result => {
      /* istanbul ignore next */
      cov_10li21hkt5().f[3]++;
      cov_10li21hkt5().s[12]++;
      return result.status === 'fulfilled' ?
      /* istanbul ignore next */
      (cov_10li21hkt5().b[0][0]++, result.value) :
      /* istanbul ignore next */
      (cov_10li21hkt5().b[0][1]++, result.reason);
    }));
    /* istanbul ignore next */
    cov_10li21hkt5().s[13]++;
    res.json({
      gateway: 'healthy',
      services: results,
      ubuntu: 'Ubuntu service health monitoring active'
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_10li21hkt5().s[14]++;
    res.status(500).json({
      error: error.message,
      ubuntu: 'Ubuntu health monitoring faces temporary challenges'
    });
  }
});

// Service Proxies with Enhanced Error Handling
/* istanbul ignore next */
cov_10li21hkt5().s[15]++;
Object.entries(services).forEach(([service, target]) => {
  /* istanbul ignore next */
  cov_10li21hkt5().f[4]++;
  const proxyOptions =
  /* istanbul ignore next */
  (cov_10li21hkt5().s[16]++, {
    target,
    changeOrigin: true,
    pathRewrite: {
      [`^/${service}`]: ''
    },
    onError: (err, _req, res) => {
      /* istanbul ignore next */
      cov_10li21hkt5().f[5]++;
      cov_10li21hkt5().s[17]++;
      console.error(`Ubuntu service ${service} error:`, err.message);
      /* istanbul ignore next */
      cov_10li21hkt5().s[18]++;
      res.status(503).json({
        error: `Ubuntu service ${service} unavailable`,
        service,
        target,
        ubuntu: 'We handle service errors with Ubuntu grace',
        timestamp: new Date().toISOString()
      });
    },
    onProxyReq: (proxyReq, _req) => {
      /* istanbul ignore next */
      cov_10li21hkt5().f[6]++;
      cov_10li21hkt5().s[19]++;
      // Add Ubuntu headers
      proxyReq.setHeader('X-Ubuntu-Gateway', 'azora-api-gateway');
      /* istanbul ignore next */
      cov_10li21hkt5().s[20]++;
      proxyReq.setHeader('X-Ubuntu-Philosophy', 'ngiyakwazi-ngoba-sikwazi');
    },
    onProxyRes: (proxyRes, _req, _res) => {
      /* istanbul ignore next */
      cov_10li21hkt5().f[7]++;
      cov_10li21hkt5().s[21]++;
      // Add Ubuntu response headers
      proxyRes.headers['X-Ubuntu-Service'] = service;
      /* istanbul ignore next */
      cov_10li21hkt5().s[22]++;
      proxyRes.headers['X-Ubuntu-Gateway'] = 'active';
    }
  });
  /* istanbul ignore next */
  cov_10li21hkt5().s[23]++;
  router.use(`/${service}`, createProxyMiddleware(proxyOptions));
});

// Service Discovery - Get all available services
/* istanbul ignore next */
cov_10li21hkt5().s[24]++;
router.get('/services', (_req, res) => {
  /* istanbul ignore next */
  cov_10li21hkt5().f[8]++;
  const serviceList =
  /* istanbul ignore next */
  (cov_10li21hkt5().s[25]++, Object.entries(services).map(([name, target]) => {
    /* istanbul ignore next */
    cov_10li21hkt5().f[9]++;
    cov_10li21hkt5().s[26]++;
    return {
      name,
      target,
      endpoint: `/${name}`,
      ubuntu: `Ubuntu ${name} service`
    };
  }));
  /* istanbul ignore next */
  cov_10li21hkt5().s[27]++;
  return res.json({
    services: serviceList,
    ubuntu: 'Ubuntu service discovery - all services available'
  });
});

// Service Routing - Smart routing based on request type
/* istanbul ignore next */
cov_10li21hkt5().s[28]++;
router.post('/route', (req, res) => {
  /* istanbul ignore next */
  cov_10li21hkt5().f[10]++;
  const {
    type
  } =
  /* istanbul ignore next */
  (cov_10li21hkt5().s[29]++, req.body);

  // Smart routing logic
  let targetService;
  /* istanbul ignore next */
  cov_10li21hkt5().s[30]++;
  switch (type) {
    case 'education':
      /* istanbul ignore next */
      cov_10li21hkt5().b[1][0]++;
      cov_10li21hkt5().s[31]++;
      targetService = 'education';
      /* istanbul ignore next */
      cov_10li21hkt5().s[32]++;
      break;
    case 'finance':
      /* istanbul ignore next */
      cov_10li21hkt5().b[1][1]++;
    case 'mint':
      /* istanbul ignore next */
      cov_10li21hkt5().b[1][2]++;
    case 'citadel':
      /* istanbul ignore next */
      cov_10li21hkt5().b[1][3]++;
      cov_10li21hkt5().s[33]++;
      targetService = 'finance';
      /* istanbul ignore next */
      cov_10li21hkt5().s[34]++;
      break;
    case 'marketplace':
      /* istanbul ignore next */
      cov_10li21hkt5().b[1][4]++;
      cov_10li21hkt5().s[35]++;
      targetService = 'marketplace';
      /* istanbul ignore next */
      cov_10li21hkt5().s[36]++;
      break;
    case 'auth':
      /* istanbul ignore next */
      cov_10li21hkt5().b[1][5]++;
      cov_10li21hkt5().s[37]++;
      targetService = 'auth';
      /* istanbul ignore next */
      cov_10li21hkt5().s[38]++;
      break;
    case 'ai':
      /* istanbul ignore next */
      cov_10li21hkt5().b[1][6]++;
    case 'constitutional':
      /* istanbul ignore next */
      cov_10li21hkt5().b[1][7]++;
      cov_10li21hkt5().s[39]++;
      targetService = 'ai';
      /* istanbul ignore next */
      cov_10li21hkt5().s[40]++;
      break;
    case 'blockchain':
      /* istanbul ignore next */
      cov_10li21hkt5().b[1][8]++;
      cov_10li21hkt5().s[41]++;
      targetService = 'blockchain';
      /* istanbul ignore next */
      cov_10li21hkt5().s[42]++;
      break;
    case 'analytics':
      /* istanbul ignore next */
      cov_10li21hkt5().b[1][9]++;
      cov_10li21hkt5().s[43]++;
      targetService = 'analytics';
      /* istanbul ignore next */
      cov_10li21hkt5().s[44]++;
      break;
    case 'mining':
      /* istanbul ignore next */
      cov_10li21hkt5().b[1][10]++;
      cov_10li21hkt5().s[45]++;
      targetService = 'proofOfValue';
      /* istanbul ignore next */
      cov_10li21hkt5().s[46]++;
      break;
    default:
      /* istanbul ignore next */
      cov_10li21hkt5().b[1][11]++;
      cov_10li21hkt5().s[47]++;
      return res.status(400).json({
        error: 'Unknown service type',
        ubuntu: 'Ubuntu routing requires valid service type',
        availableTypes: Object.keys(services)
      });
  }
  /* istanbul ignore next */
  cov_10li21hkt5().s[48]++;
  return res.json({
    routed: true,
    targetService,
    endpoint: `/${targetService}`,
    ubuntu: 'Ubuntu smart routing active'
  });
});

// Load Balancing - Simple round-robin for multiple instances

const serviceInstances =
/* istanbul ignore next */
(cov_10li21hkt5().s[49]++, {
  education: ['http://localhost:4001'],
  finance: ['http://localhost:4002'],
  ai: ['http://localhost:4005', 'http://localhost:4013'] // AI routing service
});
const currentInstance =
/* istanbul ignore next */
(cov_10li21hkt5().s[50]++, {});
/* istanbul ignore next */
cov_10li21hkt5().s[51]++;
router.get('/balance/:service', (req, res) => {
  /* istanbul ignore next */
  cov_10li21hkt5().f[11]++;
  const {
    service
  } =
  /* istanbul ignore next */
  (cov_10li21hkt5().s[52]++, req.params);
  const instances =
  /* istanbul ignore next */
  (cov_10li21hkt5().s[53]++, serviceInstances[service]);
  /* istanbul ignore next */
  cov_10li21hkt5().s[54]++;
  if (
  /* istanbul ignore next */
  (cov_10li21hkt5().b[3][0]++, !instances) ||
  /* istanbul ignore next */
  (cov_10li21hkt5().b[3][1]++, instances.length === 0)) {
    /* istanbul ignore next */
    cov_10li21hkt5().b[2][0]++;
    cov_10li21hkt5().s[55]++;
    return res.status(404).json({
      error: 'Service not found',
      ubuntu: 'Ubuntu service not available for balancing'
    });
  } else
  /* istanbul ignore next */
  {
    cov_10li21hkt5().b[2][1]++;
  }

  // Simple round-robin
  cov_10li21hkt5().s[56]++;
  currentInstance[service] = (
  /* istanbul ignore next */
  (cov_10li21hkt5().b[4][0]++, currentInstance[service]) ||
  /* istanbul ignore next */
  (cov_10li21hkt5().b[4][1]++, 0)) % instances.length;
  const target =
  /* istanbul ignore next */
  (cov_10li21hkt5().s[57]++, instances[currentInstance[service]]);
  /* istanbul ignore next */
  cov_10li21hkt5().s[58]++;
  currentInstance[service]++;
  /* istanbul ignore next */
  cov_10li21hkt5().s[59]++;
  return res.json({
    service,
    target,
    instance: currentInstance[service],
    ubuntu: 'Ubuntu load balancing active'
  });
});
export default router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTBsaTIxaGt0NSIsImFjdHVhbENvdmVyYWdlIiwiZXhwcmVzcyIsImNyZWF0ZVByb3h5TWlkZGxld2FyZSIsInJvdXRlciIsInMiLCJSb3V0ZXIiLCJzZXJ2aWNlcyIsImVkdWNhdGlvbiIsImZpbmFuY2UiLCJtYXJrZXRwbGFjZSIsImF1dGgiLCJhaSIsImJsb2NrY2hhaW4iLCJhbmFseXRpY3MiLCJtaW50IiwiY2l0YWRlbCIsInByb29mT2ZWYWx1ZSIsImNvbnN0aXR1dGlvbmFsQUkiLCJhaVJvdXRpbmciLCJnZXQiLCJfcmVxIiwicmVzIiwiZiIsImpzb24iLCJwaGlsb3NvcGh5IiwicHJpbmNpcGxlcyIsIk9iamVjdCIsImtleXMiLCJ1YnVudHUiLCJoZWFsdGhDaGVja3MiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsImVudHJpZXMiLCJtYXAiLCJzZXJ2aWNlIiwidGFyZ2V0IiwiZmV0Y2giLCJzdGF0dXMiLCJlcnJvciIsIm1lc3NhZ2UiLCJyZXN1bHRzIiwicmVzdWx0IiwiYiIsInZhbHVlIiwicmVhc29uIiwiZ2F0ZXdheSIsImZvckVhY2giLCJwcm94eU9wdGlvbnMiLCJjaGFuZ2VPcmlnaW4iLCJwYXRoUmV3cml0ZSIsIm9uRXJyb3IiLCJlcnIiLCJjb25zb2xlIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwib25Qcm94eVJlcSIsInByb3h5UmVxIiwic2V0SGVhZGVyIiwib25Qcm94eVJlcyIsInByb3h5UmVzIiwiX3JlcyIsImhlYWRlcnMiLCJ1c2UiLCJzZXJ2aWNlTGlzdCIsIm5hbWUiLCJlbmRwb2ludCIsInBvc3QiLCJyZXEiLCJ0eXBlIiwiYm9keSIsInRhcmdldFNlcnZpY2UiLCJhdmFpbGFibGVUeXBlcyIsInJvdXRlZCIsInNlcnZpY2VJbnN0YW5jZXMiLCJjdXJyZW50SW5zdGFuY2UiLCJwYXJhbXMiLCJpbnN0YW5jZXMiLCJsZW5ndGgiLCJpbnN0YW5jZSJdLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzLCB7IFJvdXRlciwgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IGNyZWF0ZVByb3h5TWlkZGxld2FyZSB9IGZyb20gJ2h0dHAtcHJveHktbWlkZGxld2FyZSc7XG5cbmNvbnN0IHJvdXRlcjogUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuLy8gVWJ1bnR1IFNlcnZpY2UgRGlzY292ZXJ5IC0gRW5oYW5jZWQgd2l0aCBuZXcgc2VydmljZXNcbmludGVyZmFjZSBTZXJ2aWNlcyB7XG4gIFtrZXk6IHN0cmluZ106IHN0cmluZztcbn1cblxuY29uc3Qgc2VydmljZXM6IFNlcnZpY2VzID0ge1xuICBlZHVjYXRpb246ICdodHRwOi8vbG9jYWxob3N0OjQwMDEnLFxuICBmaW5hbmNlOiAnaHR0cDovL2xvY2FsaG9zdDo0MDAyJywgXG4gIG1hcmtldHBsYWNlOiAnaHR0cDovL2xvY2FsaG9zdDo0MDAzJyxcbiAgYXV0aDogJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwNCcsXG4gIGFpOiAnaHR0cDovL2xvY2FsaG9zdDo0MDA1JyxcbiAgYmxvY2tjaGFpbjogJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwOScsXG4gIGFuYWx5dGljczogJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAxMCcsXG4gIG1pbnQ6ICdodHRwOi8vbG9jYWxob3N0OjQwMTEnLFxuICBjaXRhZGVsOiAnaHR0cDovL2xvY2FsaG9zdDo0MDE1JyxcbiAgcHJvb2ZPZlZhbHVlOiAnaHR0cDovL2xvY2FsaG9zdDo0MDE2JyxcbiAgY29uc3RpdHV0aW9uYWxBSTogJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAxMicsXG4gIGFpUm91dGluZzogJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAxMydcbn07XG5cbmludGVyZmFjZSBIZWFsdGhDaGVjayB7XG4gIHNlcnZpY2U6IHN0cmluZztcbiAgc3RhdHVzOiAnaGVhbHRoeScgfCAndW5oZWFsdGh5JztcbiAgdGFyZ2V0OiBzdHJpbmc7XG4gIGVycm9yPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgU2VydmljZUluZm8ge1xuICBuYW1lOiBzdHJpbmc7XG4gIHRhcmdldDogc3RyaW5nO1xuICBlbmRwb2ludDogc3RyaW5nO1xuICB1YnVudHU6IHN0cmluZztcbn1cblxuLy8gVWJ1bnR1IFBoaWxvc29waHkgRW5kcG9pbnRcbnJvdXRlci5nZXQoJy91YnVudHUvcGhpbG9zb3BoeScsIChfcmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XG4gIHJlcy5qc29uKHtcbiAgICBwaGlsb3NvcGh5OiAnTmdpeWFrd2F6aSBuZ29iYSBzaWt3YXppIC0gSSBhbSBiZWNhdXNlIHdlIGFyZScsXG4gICAgcHJpbmNpcGxlczogW1xuICAgICAgJ015IHN1Y2Nlc3MgZW5hYmxlcyB5b3VyIHN1Y2Nlc3MnLFxuICAgICAgJ015IGtub3dsZWRnZSBiZWNvbWVzIG91ciBrbm93bGVkZ2UnLFxuICAgICAgJ015IHdvcmsgc3RyZW5ndGhlbnMgb3VyIGZvdW5kYXRpb24nLFxuICAgICAgJ015IHNlY3VyaXR5IGVuc3VyZXMgb3VyIGZyZWVkb20nXG4gICAgXSxcbiAgICBzZXJ2aWNlczogT2JqZWN0LmtleXMoc2VydmljZXMpLFxuICAgIHVidW50dTogJ0FQSSBHYXRld2F5IC0gVWJ1bnR1IHNlcnZpY2Ugb3JjaGVzdHJhdGlvbiBjb21wbGV0ZSdcbiAgfSk7XG59KTtcblxuLy8gU2VydmljZSBIZWFsdGggQ2hlY2tcbnJvdXRlci5nZXQoJy9zZXJ2aWNlcy9oZWFsdGgnLCBhc3luYyAoX3JlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGhlYWx0aENoZWNrcyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChcbiAgICAgIE9iamVjdC5lbnRyaWVzKHNlcnZpY2VzKS5tYXAoYXN5bmMgKFtzZXJ2aWNlLCB0YXJnZXRdKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgZmV0Y2goYCR7dGFyZ2V0fS9oZWFsdGhgKTtcbiAgICAgICAgICByZXR1cm4geyBzZXJ2aWNlLCBzdGF0dXM6ICdoZWFsdGh5JyBhcyBjb25zdCwgdGFyZ2V0IH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHsgXG4gICAgICAgICAgICBzZXJ2aWNlLCBcbiAgICAgICAgICAgIHN0YXR1czogJ3VuaGVhbHRoeScgYXMgY29uc3QsIFxuICAgICAgICAgICAgdGFyZ2V0LCBcbiAgICAgICAgICAgIGVycm9yOiAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UgXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuXG4gICAgY29uc3QgcmVzdWx0czogSGVhbHRoQ2hlY2tbXSA9IGhlYWx0aENoZWNrcy5tYXAocmVzdWx0ID0+IFxuICAgICAgcmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgPyByZXN1bHQudmFsdWUgOiByZXN1bHQucmVhc29uXG4gICAgKTtcblxuICAgIHJlcy5qc29uKHtcbiAgICAgIGdhdGV3YXk6ICdoZWFsdGh5JyxcbiAgICAgIHNlcnZpY2VzOiByZXN1bHRzLFxuICAgICAgdWJ1bnR1OiAnVWJ1bnR1IHNlcnZpY2UgaGVhbHRoIG1vbml0b3JpbmcgYWN0aXZlJ1xuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgIGVycm9yOiAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UsXG4gICAgICB1YnVudHU6ICdVYnVudHUgaGVhbHRoIG1vbml0b3JpbmcgZmFjZXMgdGVtcG9yYXJ5IGNoYWxsZW5nZXMnXG4gICAgfSk7XG4gIH1cbn0pO1xuXG4vLyBTZXJ2aWNlIFByb3hpZXMgd2l0aCBFbmhhbmNlZCBFcnJvciBIYW5kbGluZ1xuT2JqZWN0LmVudHJpZXMoc2VydmljZXMpLmZvckVhY2goKFtzZXJ2aWNlLCB0YXJnZXRdKSA9PiB7XG4gIGNvbnN0IHByb3h5T3B0aW9uczogYW55ID0ge1xuICAgIHRhcmdldCxcbiAgICBjaGFuZ2VPcmlnaW46IHRydWUsXG4gICAgcGF0aFJld3JpdGU6IHsgW2BeLyR7c2VydmljZX1gXTogJycgfSxcbiAgICBvbkVycm9yOiAoZXJyOiBFcnJvciwgX3JlcTogYW55LCByZXM6IGFueSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihgVWJ1bnR1IHNlcnZpY2UgJHtzZXJ2aWNlfSBlcnJvcjpgLCBlcnIubWVzc2FnZSk7XG4gICAgICByZXMuc3RhdHVzKDUwMykuanNvbih7XG4gICAgICAgIGVycm9yOiBgVWJ1bnR1IHNlcnZpY2UgJHtzZXJ2aWNlfSB1bmF2YWlsYWJsZWAsXG4gICAgICAgIHNlcnZpY2UsXG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgdWJ1bnR1OiAnV2UgaGFuZGxlIHNlcnZpY2UgZXJyb3JzIHdpdGggVWJ1bnR1IGdyYWNlJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25Qcm94eVJlcTogKHByb3h5UmVxOiBhbnksIF9yZXE6IGFueSkgPT4ge1xuICAgICAgLy8gQWRkIFVidW50dSBoZWFkZXJzXG4gICAgICBwcm94eVJlcS5zZXRIZWFkZXIoJ1gtVWJ1bnR1LUdhdGV3YXknLCAnYXpvcmEtYXBpLWdhdGV3YXknKTtcbiAgICAgIHByb3h5UmVxLnNldEhlYWRlcignWC1VYnVudHUtUGhpbG9zb3BoeScsICduZ2l5YWt3YXppLW5nb2JhLXNpa3dhemknKTtcbiAgICB9LFxuICAgIG9uUHJveHlSZXM6IChwcm94eVJlczogYW55LCBfcmVxOiBhbnksIF9yZXM6IGFueSkgPT4ge1xuICAgICAgLy8gQWRkIFVidW50dSByZXNwb25zZSBoZWFkZXJzXG4gICAgICBwcm94eVJlcy5oZWFkZXJzWydYLVVidW50dS1TZXJ2aWNlJ10gPSBzZXJ2aWNlO1xuICAgICAgcHJveHlSZXMuaGVhZGVyc1snWC1VYnVudHUtR2F0ZXdheSddID0gJ2FjdGl2ZSc7XG4gICAgfVxuICB9O1xuXG4gIHJvdXRlci51c2UoYC8ke3NlcnZpY2V9YCwgY3JlYXRlUHJveHlNaWRkbGV3YXJlKHByb3h5T3B0aW9ucykpO1xufSk7XG5cbi8vIFNlcnZpY2UgRGlzY292ZXJ5IC0gR2V0IGFsbCBhdmFpbGFibGUgc2VydmljZXNcbnJvdXRlci5nZXQoJy9zZXJ2aWNlcycsIChfcmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XG4gIGNvbnN0IHNlcnZpY2VMaXN0OiBTZXJ2aWNlSW5mb1tdID0gT2JqZWN0LmVudHJpZXMoc2VydmljZXMpLm1hcCgoW25hbWUsIHRhcmdldF0pID0+ICh7XG4gICAgbmFtZSxcbiAgICB0YXJnZXQsXG4gICAgZW5kcG9pbnQ6IGAvJHtuYW1lfWAsXG4gICAgdWJ1bnR1OiBgVWJ1bnR1ICR7bmFtZX0gc2VydmljZWBcbiAgfSkpO1xuXG4gIHJldHVybiByZXMuanNvbih7XG4gICAgc2VydmljZXM6IHNlcnZpY2VMaXN0LFxuICAgIHVidW50dTogJ1VidW50dSBzZXJ2aWNlIGRpc2NvdmVyeSAtIGFsbCBzZXJ2aWNlcyBhdmFpbGFibGUnXG4gIH0pO1xufSk7XG5cbi8vIFNlcnZpY2UgUm91dGluZyAtIFNtYXJ0IHJvdXRpbmcgYmFzZWQgb24gcmVxdWVzdCB0eXBlXG5yb3V0ZXIucG9zdCgnL3JvdXRlJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xuICBjb25zdCB7IHR5cGUgfSA9IHJlcS5ib2R5O1xuICBcbiAgLy8gU21hcnQgcm91dGluZyBsb2dpY1xuICBsZXQgdGFyZ2V0U2VydmljZTogc3RyaW5nO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdlZHVjYXRpb24nOlxuICAgICAgdGFyZ2V0U2VydmljZSA9ICdlZHVjYXRpb24nO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZmluYW5jZSc6XG4gICAgY2FzZSAnbWludCc6XG4gICAgY2FzZSAnY2l0YWRlbCc6XG4gICAgICB0YXJnZXRTZXJ2aWNlID0gJ2ZpbmFuY2UnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbWFya2V0cGxhY2UnOlxuICAgICAgdGFyZ2V0U2VydmljZSA9ICdtYXJrZXRwbGFjZSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdhdXRoJzpcbiAgICAgIHRhcmdldFNlcnZpY2UgPSAnYXV0aCc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdhaSc6XG4gICAgY2FzZSAnY29uc3RpdHV0aW9uYWwnOlxuICAgICAgdGFyZ2V0U2VydmljZSA9ICdhaSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdibG9ja2NoYWluJzpcbiAgICAgIHRhcmdldFNlcnZpY2UgPSAnYmxvY2tjaGFpbic7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdhbmFseXRpY3MnOlxuICAgICAgdGFyZ2V0U2VydmljZSA9ICdhbmFseXRpY3MnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbWluaW5nJzpcbiAgICAgIHRhcmdldFNlcnZpY2UgPSAncHJvb2ZPZlZhbHVlJztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBlcnJvcjogJ1Vua25vd24gc2VydmljZSB0eXBlJyxcbiAgICAgICAgdWJ1bnR1OiAnVWJ1bnR1IHJvdXRpbmcgcmVxdWlyZXMgdmFsaWQgc2VydmljZSB0eXBlJyxcbiAgICAgICAgYXZhaWxhYmxlVHlwZXM6IE9iamVjdC5rZXlzKHNlcnZpY2VzKVxuICAgICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzLmpzb24oe1xuICAgIHJvdXRlZDogdHJ1ZSxcbiAgICB0YXJnZXRTZXJ2aWNlLFxuICAgIGVuZHBvaW50OiBgLyR7dGFyZ2V0U2VydmljZX1gLFxuICAgIHVidW50dTogJ1VidW50dSBzbWFydCByb3V0aW5nIGFjdGl2ZSdcbiAgfSk7XG59KTtcblxuLy8gTG9hZCBCYWxhbmNpbmcgLSBTaW1wbGUgcm91bmQtcm9iaW4gZm9yIG11bHRpcGxlIGluc3RhbmNlc1xuaW50ZXJmYWNlIFNlcnZpY2VJbnN0YW5jZXMge1xuICBba2V5OiBzdHJpbmddOiBzdHJpbmdbXTtcbn1cblxuY29uc3Qgc2VydmljZUluc3RhbmNlczogU2VydmljZUluc3RhbmNlcyA9IHtcbiAgZWR1Y2F0aW9uOiBbJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMSddLFxuICBmaW5hbmNlOiBbJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMiddLFxuICBhaTogWydodHRwOi8vbG9jYWxob3N0OjQwMDUnLCAnaHR0cDovL2xvY2FsaG9zdDo0MDEzJ10gLy8gQUkgcm91dGluZyBzZXJ2aWNlXG59O1xuXG5pbnRlcmZhY2UgQ3VycmVudEluc3RhbmNlIHtcbiAgW2tleTogc3RyaW5nXTogbnVtYmVyO1xufVxuXG5jb25zdCBjdXJyZW50SW5zdGFuY2U6IEN1cnJlbnRJbnN0YW5jZSA9IHt9O1xuXG5yb3V0ZXIuZ2V0KCcvYmFsYW5jZS86c2VydmljZScsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcbiAgY29uc3QgeyBzZXJ2aWNlIH0gPSByZXEucGFyYW1zO1xuICBjb25zdCBpbnN0YW5jZXMgPSBzZXJ2aWNlSW5zdGFuY2VzW3NlcnZpY2VdO1xuICBcbiAgaWYgKCFpbnN0YW5jZXMgfHwgaW5zdGFuY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICBlcnJvcjogJ1NlcnZpY2Ugbm90IGZvdW5kJyxcbiAgICAgIHVidW50dTogJ1VidW50dSBzZXJ2aWNlIG5vdCBhdmFpbGFibGUgZm9yIGJhbGFuY2luZydcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFNpbXBsZSByb3VuZC1yb2JpblxuICBjdXJyZW50SW5zdGFuY2Vbc2VydmljZV0gPSAoY3VycmVudEluc3RhbmNlW3NlcnZpY2VdIHx8IDApICUgaW5zdGFuY2VzLmxlbmd0aDtcbiAgY29uc3QgdGFyZ2V0ID0gaW5zdGFuY2VzW2N1cnJlbnRJbnN0YW5jZVtzZXJ2aWNlXV07XG4gIGN1cnJlbnRJbnN0YW5jZVtzZXJ2aWNlXSsrO1xuXG4gIHJldHVybiByZXMuanNvbih7XG4gICAgc2VydmljZSxcbiAgICB0YXJnZXQsXG4gICAgaW5zdGFuY2U6IGN1cnJlbnRJbnN0YW5jZVtzZXJ2aWNlXSxcbiAgICB1YnVudHU6ICdVYnVudHUgbG9hZCBiYWxhbmNpbmcgYWN0aXZlJ1xuICB9KTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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