5788820a22850c856ceaf503c1f484f4
/* istanbul ignore next */
function cov_22ccbay2m6() {
  var path = "/workspaces/azora/services/education-revenue-engine/src/services/analytics.service.ts";
  var hash = "bdaa0acbd701131e149870f1122bb0ef964acfe2";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/education-revenue-engine/src/services/analytics.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 7,
          column: 4
        },
        end: {
          line: 59,
          column: 5
        }
      },
      "1": {
        start: {
          line: 8,
          column: 23
        },
        end: {
          line: 15,
          column: 8
        }
      },
      "2": {
        start: {
          line: 17,
          column: 31
        },
        end: {
          line: 17,
          column: 67
        }
      },
      "3": {
        start: {
          line: 17,
          column: 49
        },
        end: {
          line: 17,
          column: 66
        }
      },
      "4": {
        start: {
          line: 18,
          column: 27
        },
        end: {
          line: 20,
          column: 11
        }
      },
      "5": {
        start: {
          line: 19,
          column: 44
        },
        end: {
          line: 19,
          column: 49
        }
      },
      "6": {
        start: {
          line: 22,
          column: 25
        },
        end: {
          line: 24,
          column: 8
        }
      },
      "7": {
        start: {
          line: 26,
          column: 29
        },
        end: {
          line: 26,
          column: 54
        }
      },
      "8": {
        start: {
          line: 29,
          column: 31
        },
        end: {
          line: 31,
          column: 42
        }
      },
      "9": {
        start: {
          line: 30,
          column: 21
        },
        end: {
          line: 30,
          column: 43
        }
      },
      "10": {
        start: {
          line: 31,
          column: 23
        },
        end: {
          line: 31,
          column: 41
        }
      },
      "11": {
        start: {
          line: 33,
          column: 33
        },
        end: {
          line: 35,
          column: 42
        }
      },
      "12": {
        start: {
          line: 34,
          column: 21
        },
        end: {
          line: 34,
          column: 68
        }
      },
      "13": {
        start: {
          line: 35,
          column: 23
        },
        end: {
          line: 35,
          column: 41
        }
      },
      "14": {
        start: {
          line: 37,
          column: 33
        },
        end: {
          line: 39,
          column: 42
        }
      },
      "15": {
        start: {
          line: 38,
          column: 21
        },
        end: {
          line: 38,
          column: 42
        }
      },
      "16": {
        start: {
          line: 39,
          column: 23
        },
        end: {
          line: 39,
          column: 41
        }
      },
      "17": {
        start: {
          line: 41,
          column: 29
        },
        end: {
          line: 41,
          column: 78
        }
      },
      "18": {
        start: {
          line: 41,
          column: 57
        },
        end: {
          line: 41,
          column: 74
        }
      },
      "19": {
        start: {
          line: 42,
          column: 28
        },
        end: {
          line: 42,
          column: 49
        }
      },
      "20": {
        start: {
          line: 44,
          column: 6
        },
        end: {
          line: 55,
          column: 8
        }
      },
      "21": {
        start: {
          line: 57,
          column: 6
        },
        end: {
          line: 57,
          column: 63
        }
      },
      "22": {
        start: {
          line: 58,
          column: 6
        },
        end: {
          line: 58,
          column: 18
        }
      },
      "23": {
        start: {
          line: 63,
          column: 4
        },
        end: {
          line: 105,
          column: 5
        }
      },
      "24": {
        start: {
          line: 64,
          column: 26
        },
        end: {
          line: 70,
          column: 8
        }
      },
      "25": {
        start: {
          line: 72,
          column: 31
        },
        end: {
          line: 72,
          column: 49
        }
      },
      "26": {
        start: {
          line: 73,
          column: 35
        },
        end: {
          line: 73,
          column: 91
        }
      },
      "27": {
        start: {
          line: 73,
          column: 59
        },
        end: {
          line: 73,
          column: 83
        }
      },
      "28": {
        start: {
          line: 74,
          column: 29
        },
        end: {
          line: 76,
          column: 11
        }
      },
      "29": {
        start: {
          line: 78,
          column: 26
        },
        end: {
          line: 78,
          column: 62
        }
      },
      "30": {
        start: {
          line: 78,
          column: 51
        },
        end: {
          line: 78,
          column: 61
        }
      },
      "31": {
        start: {
          line: 79,
          column: 31
        },
        end: {
          line: 79,
          column: 70
        }
      },
      "32": {
        start: {
          line: 79,
          column: 52
        },
        end: {
          line: 79,
          column: 69
        }
      },
      "33": {
        start: {
          line: 80,
          column: 27
        },
        end: {
          line: 82,
          column: 11
        }
      },
      "34": {
        start: {
          line: 81,
          column: 44
        },
        end: {
          line: 81,
          column: 49
        }
      },
      "35": {
        start: {
          line: 84,
          column: 29
        },
        end: {
          line: 84,
          column: 81
        }
      },
      "36": {
        start: {
          line: 84,
          column: 60
        },
        end: {
          line: 84,
          column: 77
        }
      },
      "37": {
        start: {
          line: 85,
          column: 31
        },
        end: {
          line: 85,
          column: 52
        }
      },
      "38": {
        start: {
          line: 88,
          column: 27
        },
        end: {
          line: 90,
          column: 30
        }
      },
      "39": {
        start: {
          line: 89,
          column: 21
        },
        end: {
          line: 89,
          column: 61
        }
      },
      "40": {
        start: {
          line: 90,
          column: 18
        },
        end: {
          line: 90,
          column: 29
        }
      },
      "41": {
        start: {
          line: 92,
          column: 6
        },
        end: {
          line: 101,
          column: 8
        }
      },
      "42": {
        start: {
          line: 103,
          column: 6
        },
        end: {
          line: 103,
          column: 61
        }
      },
      "43": {
        start: {
          line: 104,
          column: 6
        },
        end: {
          line: 104,
          column: 18
        }
      },
      "44": {
        start: {
          line: 109,
          column: 4
        },
        end: {
          line: 123,
          column: 5
        }
      },
      "45": {
        start: {
          line: 110,
          column: 32
        },
        end: {
          line: 117,
          column: 8
        }
      },
      "46": {
        start: {
          line: 119,
          column: 6
        },
        end: {
          line: 119,
          column: 53
        }
      },
      "47": {
        start: {
          line: 119,
          column: 40
        },
        end: {
          line: 119,
          column: 51
        }
      },
      "48": {
        start: {
          line: 121,
          column: 6
        },
        end: {
          line: 121,
          column: 61
        }
      },
      "49": {
        start: {
          line: 122,
          column: 6
        },
        end: {
          line: 122,
          column: 18
        }
      },
      "50": {
        start: {
          line: 127,
          column: 4
        },
        end: {
          line: 145,
          column: 5
        }
      },
      "51": {
        start: {
          line: 128,
          column: 24
        },
        end: {
          line: 128,
          column: 76
        }
      },
      "52": {
        start: {
          line: 129,
          column: 27
        },
        end: {
          line: 129,
          column: 82
        }
      },
      "53": {
        start: {
          line: 130,
          column: 23
        },
        end: {
          line: 130,
          column: 74
        }
      },
      "54": {
        start: {
          line: 132,
          column: 31
        },
        end: {
          line: 132,
          column: 83
        }
      },
      "55": {
        start: {
          line: 133,
          column: 30
        },
        end: {
          line: 133,
          column: 84
        }
      },
      "56": {
        start: {
          line: 135,
          column: 6
        },
        end: {
          line: 141,
          column: 8
        }
      },
      "57": {
        start: {
          line: 143,
          column: 6
        },
        end: {
          line: 143,
          column: 62
        }
      },
      "58": {
        start: {
          line: 144,
          column: 6
        },
        end: {
          line: 144,
          column: 18
        }
      },
      "59": {
        start: {
          line: 149,
          column: 4
        },
        end: {
          line: 162,
          column: 5
        }
      },
      "60": {
        start: {
          line: 150,
          column: 23
        },
        end: {
          line: 155,
          column: 8
        }
      },
      "61": {
        start: {
          line: 157,
          column: 25
        },
        end: {
          line: 157,
          column: 79
        }
      },
      "62": {
        start: {
          line: 157,
          column: 53
        },
        end: {
          line: 157,
          column: 75
        }
      },
      "63": {
        start: {
          line: 158,
          column: 6
        },
        end: {
          line: 158,
          column: 48
        }
      },
      "64": {
        start: {
          line: 160,
          column: 6
        },
        end: {
          line: 160,
          column: 63
        }
      },
      "65": {
        start: {
          line: 161,
          column: 6
        },
        end: {
          line: 161,
          column: 18
        }
      },
      "66": {
        start: {
          line: 166,
          column: 32
        },
        end: {
          line: 166,
          column: 54
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 6,
            column: 2
          },
          end: {
            line: 6,
            column: 3
          }
        },
        loc: {
          start: {
            line: 6,
            column: 94
          },
          end: {
            line: 60,
            column: 3
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 17,
            column: 44
          },
          end: {
            line: 17,
            column: 45
          }
        },
        loc: {
          start: {
            line: 17,
            column: 49
          },
          end: {
            line: 17,
            column: 66
          }
        },
        line: 17
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 19,
            column: 34
          },
          end: {
            line: 19,
            column: 35
          }
        },
        loc: {
          start: {
            line: 19,
            column: 44
          },
          end: {
            line: 19,
            column: 49
          }
        },
        line: 19
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 30,
            column: 16
          },
          end: {
            line: 30,
            column: 17
          }
        },
        loc: {
          start: {
            line: 30,
            column: 21
          },
          end: {
            line: 30,
            column: 43
          }
        },
        line: 30
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 31,
            column: 13
          },
          end: {
            line: 31,
            column: 14
          }
        },
        loc: {
          start: {
            line: 31,
            column: 23
          },
          end: {
            line: 31,
            column: 41
          }
        },
        line: 31
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 34,
            column: 16
          },
          end: {
            line: 34,
            column: 17
          }
        },
        loc: {
          start: {
            line: 34,
            column: 21
          },
          end: {
            line: 34,
            column: 68
          }
        },
        line: 34
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 35,
            column: 13
          },
          end: {
            line: 35,
            column: 14
          }
        },
        loc: {
          start: {
            line: 35,
            column: 23
          },
          end: {
            line: 35,
            column: 41
          }
        },
        line: 35
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 38,
            column: 16
          },
          end: {
            line: 38,
            column: 17
          }
        },
        loc: {
          start: {
            line: 38,
            column: 21
          },
          end: {
            line: 38,
            column: 42
          }
        },
        line: 38
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 39,
            column: 13
          },
          end: {
            line: 39,
            column: 14
          }
        },
        loc: {
          start: {
            line: 39,
            column: 23
          },
          end: {
            line: 39,
            column: 41
          }
        },
        line: 39
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 41,
            column: 45
          },
          end: {
            line: 41,
            column: 46
          }
        },
        loc: {
          start: {
            line: 41,
            column: 57
          },
          end: {
            line: 41,
            column: 74
          }
        },
        line: 41
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 62,
            column: 2
          },
          end: {
            line: 62,
            column: 3
          }
        },
        loc: {
          start: {
            line: 62,
            column: 88
          },
          end: {
            line: 106,
            column: 3
          }
        },
        line: 62
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 73,
            column: 54
          },
          end: {
            line: 73,
            column: 55
          }
        },
        loc: {
          start: {
            line: 73,
            column: 59
          },
          end: {
            line: 73,
            column: 83
          }
        },
        line: 73
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 78,
            column: 46
          },
          end: {
            line: 78,
            column: 47
          }
        },
        loc: {
          start: {
            line: 78,
            column: 51
          },
          end: {
            line: 78,
            column: 61
          }
        },
        line: 78
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 79,
            column: 47
          },
          end: {
            line: 79,
            column: 48
          }
        },
        loc: {
          start: {
            line: 79,
            column: 52
          },
          end: {
            line: 79,
            column: 69
          }
        },
        line: 79
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 81,
            column: 34
          },
          end: {
            line: 81,
            column: 35
          }
        },
        loc: {
          start: {
            line: 81,
            column: 44
          },
          end: {
            line: 81,
            column: 49
          }
        },
        line: 81
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 84,
            column: 48
          },
          end: {
            line: 84,
            column: 49
          }
        },
        loc: {
          start: {
            line: 84,
            column: 60
          },
          end: {
            line: 84,
            column: 77
          }
        },
        line: 84
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 89,
            column: 16
          },
          end: {
            line: 89,
            column: 17
          }
        },
        loc: {
          start: {
            line: 89,
            column: 21
          },
          end: {
            line: 89,
            column: 61
          }
        },
        line: 89
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 90,
            column: 13
          },
          end: {
            line: 90,
            column: 14
          }
        },
        loc: {
          start: {
            line: 90,
            column: 18
          },
          end: {
            line: 90,
            column: 29
          }
        },
        line: 90
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 108,
            column: 2
          },
          end: {
            line: 108,
            column: 3
          }
        },
        loc: {
          start: {
            line: 108,
            column: 66
          },
          end: {
            line: 124,
            column: 3
          }
        },
        line: 108
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 119,
            column: 35
          },
          end: {
            line: 119,
            column: 36
          }
        },
        loc: {
          start: {
            line: 119,
            column: 40
          },
          end: {
            line: 119,
            column: 51
          }
        },
        line: 119
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 126,
            column: 2
          },
          end: {
            line: 126,
            column: 3
          }
        },
        loc: {
          start: {
            line: 126,
            column: 44
          },
          end: {
            line: 146,
            column: 3
          }
        },
        line: 126
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 148,
            column: 2
          },
          end: {
            line: 148,
            column: 3
          }
        },
        loc: {
          start: {
            line: 148,
            column: 61
          },
          end: {
            line: 163,
            column: 3
          }
        },
        line: 148
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 157,
            column: 41
          },
          end: {
            line: 157,
            column: 42
          }
        },
        loc: {
          start: {
            line: 157,
            column: 53
          },
          end: {
            line: 157,
            column: 75
          }
        },
        line: 157
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 18,
            column: 27
          },
          end: {
            line: 20,
            column: 11
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 19,
            column: 10
          },
          end: {
            line: 19,
            column: 79
          }
        }, {
          start: {
            line: 20,
            column: 10
          },
          end: {
            line: 20,
            column: 11
          }
        }],
        line: 18
      },
      "1": {
        loc: {
          start: {
            line: 26,
            column: 29
          },
          end: {
            line: 26,
            column: 54
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 26,
            column: 29
          },
          end: {
            line: 26,
            column: 49
          }
        }, {
          start: {
            line: 26,
            column: 53
          },
          end: {
            line: 26,
            column: 54
          }
        }],
        line: 26
      },
      "2": {
        loc: {
          start: {
            line: 34,
            column: 21
          },
          end: {
            line: 34,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 34,
            column: 21
          },
          end: {
            line: 34,
            column: 43
          }
        }, {
          start: {
            line: 34,
            column: 47
          },
          end: {
            line: 34,
            column: 68
          }
        }],
        line: 34
      },
      "3": {
        loc: {
          start: {
            line: 74,
            column: 29
          },
          end: {
            line: 76,
            column: 11
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 75,
            column: 10
          },
          end: {
            line: 75,
            column: 57
          }
        }, {
          start: {
            line: 76,
            column: 10
          },
          end: {
            line: 76,
            column: 11
          }
        }],
        line: 74
      },
      "4": {
        loc: {
          start: {
            line: 80,
            column: 27
          },
          end: {
            line: 82,
            column: 11
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 81,
            column: 10
          },
          end: {
            line: 81,
            column: 79
          }
        }, {
          start: {
            line: 82,
            column: 10
          },
          end: {
            line: 82,
            column: 11
          }
        }],
        line: 80
      },
      "5": {
        loc: {
          start: {
            line: 89,
            column: 21
          },
          end: {
            line: 89,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 89,
            column: 21
          },
          end: {
            line: 89,
            column: 36
          }
        }, {
          start: {
            line: 89,
            column: 40
          },
          end: {
            line: 89,
            column: 61
          }
        }],
        line: 89
      },
      "6": {
        loc: {
          start: {
            line: 94,
            column: 16
          },
          end: {
            line: 94,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 94,
            column: 16
          },
          end: {
            line: 94,
            column: 22
          }
        }, {
          start: {
            line: 94,
            column: 26
          },
          end: {
            line: 94,
            column: 62
          }
        }],
        line: 94
      },
      "7": {
        loc: {
          start: {
            line: 132,
            column: 31
          },
          end: {
            line: 132,
            column: 83
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 132,
            column: 47
          },
          end: {
            line: 132,
            column: 79
          }
        }, {
          start: {
            line: 132,
            column: 82
          },
          end: {
            line: 132,
            column: 83
          }
        }],
        line: 132
      },
      "8": {
        loc: {
          start: {
            line: 133,
            column: 30
          },
          end: {
            line: 133,
            column: 84
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 133,
            column: 49
          },
          end: {
            line: 133,
            column: 80
          }
        }, {
          start: {
            line: 133,
            column: 83
          },
          end: {
            line: 133,
            column: 84
          }
        }],
        line: 133
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "bdaa0acbd701131e149870f1122bb0ef964acfe2"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_22ccbay2m6 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_22ccbay2m6();
import { prisma } from '../index';
import { logger } from '../utils/logger';
export class AnalyticsService {
  async getLearningAnalytics(studentId, courseId) {
    /* istanbul ignore next */
    cov_22ccbay2m6().f[0]++;
    cov_22ccbay2m6().s[0]++;
    try {
      const outcomes =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[1]++, await prisma.learningOutcome.findMany({
        where: {
          enrollment: {
            studentId,
            courseId
          }
        }
      }));
      const assessmentScores =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[2]++, outcomes.map(o => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[1]++;
        cov_22ccbay2m6().s[3]++;
        return o.assessmentScore;
      }));
      const averageScore =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[4]++, assessmentScores.length > 0 ?
      /* istanbul ignore next */
      (cov_22ccbay2m6().b[0][0]++, assessmentScores.reduce((a, b) => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[2]++;
        cov_22ccbay2m6().s[5]++;
        return a + b;
      }, 0) / assessmentScores.length) :
      /* istanbul ignore next */
      (cov_22ccbay2m6().b[0][1]++, 0));
      const enrollment =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[6]++, await prisma.enrollment.findFirst({
        where: {
          studentId,
          courseId
        }
      }));
      const completionRate =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[7]++,
      /* istanbul ignore next */
      (cov_22ccbay2m6().b[1][0]++, enrollment?.progress) ||
      /* istanbul ignore next */
      (cov_22ccbay2m6().b[1][1]++, 0));

      // Simulate concept mastery tracking
      const conceptsMastered =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[8]++, outcomes.filter(o => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[3]++;
        cov_22ccbay2m6().s[9]++;
        return o.conceptMastery >= 80;
      }).map((_, i) => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[4]++;
        cov_22ccbay2m6().s[10]++;
        return `Concept ${i + 1}`;
      }));
      const conceptsInProgress =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[11]++, outcomes.filter(o => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[5]++;
        cov_22ccbay2m6().s[12]++;
        return /* istanbul ignore next */(cov_22ccbay2m6().b[2][0]++, o.conceptMastery >= 50) &&
        /* istanbul ignore next */
        (cov_22ccbay2m6().b[2][1]++, o.conceptMastery < 80);
      }).map((_, i) => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[6]++;
        cov_22ccbay2m6().s[13]++;
        return `Concept ${i + 1}`;
      }));
      const conceptsStruggling =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[14]++, outcomes.filter(o => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[7]++;
        cov_22ccbay2m6().s[15]++;
        return o.conceptMastery < 50;
      }).map((_, i) => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[8]++;
        cov_22ccbay2m6().s[16]++;
        return `Concept ${i + 1}`;
      }));
      const totalTimeSpent =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[17]++, outcomes.reduce((sum, o) => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[9]++;
        cov_22ccbay2m6().s[18]++;
        return sum + o.timeSpent;
      }, 0));
      const timeToMastery =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[19]++, totalTimeSpent / 3600); // Convert to hours
      /* istanbul ignore next */
      cov_22ccbay2m6().s[20]++;
      return {
        studentId,
        courseId,
        completionRate,
        timeToMastery,
        skillProficiency: new Map(),
        assessmentScores,
        averageScore: Math.round(averageScore * 100) / 100,
        conceptsMastered,
        conceptsInProgress,
        conceptsStruggling
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_22ccbay2m6().s[21]++;
      logger.error('Error getting learning analytics:', error);
      /* istanbul ignore next */
      cov_22ccbay2m6().s[22]++;
      throw error;
    }
  }
  async getCohortAnalytics(courseId, period) {
    /* istanbul ignore next */
    cov_22ccbay2m6().f[10]++;
    cov_22ccbay2m6().s[23]++;
    try {
      const enrollments =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[24]++, await prisma.enrollment.findMany({
        where: {
          courseId
        },
        include: {
          student: true,
          outcomes: true
        }
      }));
      const totalEnrollments =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[25]++, enrollments.length);
      const completedEnrollments =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[26]++, enrollments.filter(e => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[11]++;
        cov_22ccbay2m6().s[27]++;
        return e.status === 'completed';
      }).length);
      const completionRate =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[28]++, totalEnrollments > 0 ?
      /* istanbul ignore next */
      (cov_22ccbay2m6().b[3][0]++, completedEnrollments / totalEnrollments * 100) :
      /* istanbul ignore next */
      (cov_22ccbay2m6().b[3][1]++, 0));
      const allOutcomes =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[29]++, enrollments.flatMap(e => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[12]++;
        cov_22ccbay2m6().s[30]++;
        return e.outcomes;
      }));
      const assessmentScores =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[31]++, allOutcomes.map(o => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[13]++;
        cov_22ccbay2m6().s[32]++;
        return o.assessmentScore;
      }));
      const averageScore =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[33]++, assessmentScores.length > 0 ?
      /* istanbul ignore next */
      (cov_22ccbay2m6().b[4][0]++, assessmentScores.reduce((a, b) => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[14]++;
        cov_22ccbay2m6().s[34]++;
        return a + b;
      }, 0) / assessmentScores.length) :
      /* istanbul ignore next */
      (cov_22ccbay2m6().b[4][1]++, 0));
      const totalTimeSpent =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[35]++, allOutcomes.reduce((sum, o) => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[15]++;
        cov_22ccbay2m6().s[36]++;
        return sum + o.timeSpent;
      }, 0));
      const timeToCompletion =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[37]++, totalTimeSpent / 3600); // Convert to hours

      // Identify at-risk students (progress < 30%)
      const riskStudents =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[38]++, enrollments.filter(e => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[16]++;
        cov_22ccbay2m6().s[39]++;
        return /* istanbul ignore next */(cov_22ccbay2m6().b[5][0]++, e.progress < 30) &&
        /* istanbul ignore next */
        (cov_22ccbay2m6().b[5][1]++, e.status === 'active');
      }).map(e => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[17]++;
        cov_22ccbay2m6().s[40]++;
        return e.studentId;
      }));
      /* istanbul ignore next */
      cov_22ccbay2m6().s[41]++;
      return {
        courseId,
        period:
        /* istanbul ignore next */
        (cov_22ccbay2m6().b[6][0]++, period) ||
        /* istanbul ignore next */
        (cov_22ccbay2m6().b[6][1]++, new Date().toISOString().slice(0, 7)),
        totalEnrollments,
        completionRate: Math.round(completionRate * 100) / 100,
        averageScore: Math.round(averageScore * 100) / 100,
        timeToCompletion,
        demographicBreakdown: [],
        riskStudents
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_22ccbay2m6().s[42]++;
      logger.error('Error getting cohort analytics:', error);
      /* istanbul ignore next */
      cov_22ccbay2m6().s[43]++;
      throw error;
    }
  }
  async getStudentAtRiskList(courseId) {
    /* istanbul ignore next */
    cov_22ccbay2m6().f[18]++;
    cov_22ccbay2m6().s[44]++;
    try {
      const atRiskEnrollments =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[45]++, await prisma.enrollment.findMany({
        where: {
          courseId,
          status: 'active',
          progress: {
            lt: 30
          }
        },
        select: {
          studentId: true
        }
      }));
      /* istanbul ignore next */
      cov_22ccbay2m6().s[46]++;
      return atRiskEnrollments.map(e => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[19]++;
        cov_22ccbay2m6().s[47]++;
        return e.studentId;
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_22ccbay2m6().s[48]++;
      logger.error('Error getting at-risk students:', error);
      /* istanbul ignore next */
      cov_22ccbay2m6().s[49]++;
      throw error;
    }
  }
  async getConversionFunnel() {
    /* istanbul ignore next */
    cov_22ccbay2m6().f[20]++;
    cov_22ccbay2m6().s[50]++;
    try {
      const freeUsers =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[51]++, await prisma.user.count({
        where: {
          tier: 'free'
        }
      }));
      const premiumUsers =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[52]++, await prisma.user.count({
        where: {
          tier: 'premium'
        }
      }));
      const proUsers =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[53]++, await prisma.user.count({
        where: {
          tier: 'pro'
        }
      }));
      const freeToPremiumpct =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[54]++, freeUsers > 0 ?
      /* istanbul ignore next */
      (cov_22ccbay2m6().b[7][0]++, premiumUsers / freeUsers * 100) :
      /* istanbul ignore next */
      (cov_22ccbay2m6().b[7][1]++, 0));
      const premiumToProPct =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[55]++, premiumUsers > 0 ?
      /* istanbul ignore next */
      (cov_22ccbay2m6().b[8][0]++, proUsers / premiumUsers * 100) :
      /* istanbul ignore next */
      (cov_22ccbay2m6().b[8][1]++, 0));
      /* istanbul ignore next */
      cov_22ccbay2m6().s[56]++;
      return {
        freeUsers,
        premiumUsers,
        proUsers,
        freeToPremiumpct: Math.round(freeToPremiumpct * 100) / 100,
        premiumToProPct: Math.round(premiumToProPct * 100) / 100
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_22ccbay2m6().s[57]++;
      logger.error('Error getting conversion funnel:', error);
      /* istanbul ignore next */
      cov_22ccbay2m6().s[58]++;
      throw error;
    }
  }
  async getLifetimeValue(studentId) {
    /* istanbul ignore next */
    cov_22ccbay2m6().f[21]++;
    cov_22ccbay2m6().s[59]++;
    try {
      const payments =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[60]++, await prisma.payment.findMany({
        where: {
          studentId,
          status: 'completed'
        }
      }));
      const totalValue =
      /* istanbul ignore next */
      (cov_22ccbay2m6().s[61]++, payments.reduce((sum, p) => {
        /* istanbul ignore next */
        cov_22ccbay2m6().f[22]++;
        cov_22ccbay2m6().s[62]++;
        return sum + Number(p.amount);
      }, 0));
      /* istanbul ignore next */
      cov_22ccbay2m6().s[63]++;
      return Math.round(totalValue * 100) / 100;
    } catch (error) {
      /* istanbul ignore next */
      cov_22ccbay2m6().s[64]++;
      logger.error('Error calculating lifetime value:', error);
      /* istanbul ignore next */
      cov_22ccbay2m6().s[65]++;
      throw error;
    }
  }
}
export const analyticsService =
/* istanbul ignore next */
(cov_22ccbay2m6().s[66]++, new AnalyticsService());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjJjY2JheTJtNiIsImFjdHVhbENvdmVyYWdlIiwicHJpc21hIiwibG9nZ2VyIiwiQW5hbHl0aWNzU2VydmljZSIsImdldExlYXJuaW5nQW5hbHl0aWNzIiwic3R1ZGVudElkIiwiY291cnNlSWQiLCJmIiwicyIsIm91dGNvbWVzIiwibGVhcm5pbmdPdXRjb21lIiwiZmluZE1hbnkiLCJ3aGVyZSIsImVucm9sbG1lbnQiLCJhc3Nlc3NtZW50U2NvcmVzIiwibWFwIiwibyIsImFzc2Vzc21lbnRTY29yZSIsImF2ZXJhZ2VTY29yZSIsImxlbmd0aCIsImIiLCJyZWR1Y2UiLCJhIiwiZmluZEZpcnN0IiwiY29tcGxldGlvblJhdGUiLCJwcm9ncmVzcyIsImNvbmNlcHRzTWFzdGVyZWQiLCJmaWx0ZXIiLCJjb25jZXB0TWFzdGVyeSIsIl8iLCJpIiwiY29uY2VwdHNJblByb2dyZXNzIiwiY29uY2VwdHNTdHJ1Z2dsaW5nIiwidG90YWxUaW1lU3BlbnQiLCJzdW0iLCJ0aW1lU3BlbnQiLCJ0aW1lVG9NYXN0ZXJ5Iiwic2tpbGxQcm9maWNpZW5jeSIsIk1hcCIsIk1hdGgiLCJyb3VuZCIsImVycm9yIiwiZ2V0Q29ob3J0QW5hbHl0aWNzIiwicGVyaW9kIiwiZW5yb2xsbWVudHMiLCJpbmNsdWRlIiwic3R1ZGVudCIsInRvdGFsRW5yb2xsbWVudHMiLCJjb21wbGV0ZWRFbnJvbGxtZW50cyIsImUiLCJzdGF0dXMiLCJhbGxPdXRjb21lcyIsImZsYXRNYXAiLCJ0aW1lVG9Db21wbGV0aW9uIiwicmlza1N0dWRlbnRzIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic2xpY2UiLCJkZW1vZ3JhcGhpY0JyZWFrZG93biIsImdldFN0dWRlbnRBdFJpc2tMaXN0IiwiYXRSaXNrRW5yb2xsbWVudHMiLCJsdCIsInNlbGVjdCIsImdldENvbnZlcnNpb25GdW5uZWwiLCJmcmVlVXNlcnMiLCJ1c2VyIiwiY291bnQiLCJ0aWVyIiwicHJlbWl1bVVzZXJzIiwicHJvVXNlcnMiLCJmcmVlVG9QcmVtaXVtcGN0IiwicHJlbWl1bVRvUHJvUGN0IiwiZ2V0TGlmZXRpbWVWYWx1ZSIsInBheW1lbnRzIiwicGF5bWVudCIsInRvdGFsVmFsdWUiLCJwIiwiTnVtYmVyIiwiYW1vdW50IiwiYW5hbHl0aWNzU2VydmljZSJdLCJzb3VyY2VzIjpbImFuYWx5dGljcy5zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByaXNtYSB9IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IExlYXJuaW5nQW5hbHl0aWNzLCBDb2hvcnRBbmFseXRpY3MgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuXG5leHBvcnQgY2xhc3MgQW5hbHl0aWNzU2VydmljZSB7XG4gIGFzeW5jIGdldExlYXJuaW5nQW5hbHl0aWNzKHN0dWRlbnRJZDogc3RyaW5nLCBjb3Vyc2VJZDogc3RyaW5nKTogUHJvbWlzZTxMZWFybmluZ0FuYWx5dGljcz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBvdXRjb21lcyA9IGF3YWl0IHByaXNtYS5sZWFybmluZ091dGNvbWUuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGVucm9sbG1lbnQ6IHtcbiAgICAgICAgICAgIHN0dWRlbnRJZCxcbiAgICAgICAgICAgIGNvdXJzZUlkLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgYXNzZXNzbWVudFNjb3JlcyA9IG91dGNvbWVzLm1hcChvID0+IG8uYXNzZXNzbWVudFNjb3JlKTtcbiAgICAgIGNvbnN0IGF2ZXJhZ2VTY29yZSA9IGFzc2Vzc21lbnRTY29yZXMubGVuZ3RoID4gMFxuICAgICAgICA/IGFzc2Vzc21lbnRTY29yZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBhc3Nlc3NtZW50U2NvcmVzLmxlbmd0aFxuICAgICAgICA6IDA7XG5cbiAgICAgIGNvbnN0IGVucm9sbG1lbnQgPSBhd2FpdCBwcmlzbWEuZW5yb2xsbWVudC5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZTogeyBzdHVkZW50SWQsIGNvdXJzZUlkIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgY29tcGxldGlvblJhdGUgPSBlbnJvbGxtZW50Py5wcm9ncmVzcyB8fCAwO1xuXG4gICAgICAvLyBTaW11bGF0ZSBjb25jZXB0IG1hc3RlcnkgdHJhY2tpbmdcbiAgICAgIGNvbnN0IGNvbmNlcHRzTWFzdGVyZWQgPSBvdXRjb21lc1xuICAgICAgICAuZmlsdGVyKG8gPT4gby5jb25jZXB0TWFzdGVyeSA+PSA4MClcbiAgICAgICAgLm1hcCgoXywgaSkgPT4gYENvbmNlcHQgJHtpICsgMX1gKTtcblxuICAgICAgY29uc3QgY29uY2VwdHNJblByb2dyZXNzID0gb3V0Y29tZXNcbiAgICAgICAgLmZpbHRlcihvID0+IG8uY29uY2VwdE1hc3RlcnkgPj0gNTAgJiYgby5jb25jZXB0TWFzdGVyeSA8IDgwKVxuICAgICAgICAubWFwKChfLCBpKSA9PiBgQ29uY2VwdCAke2kgKyAxfWApO1xuXG4gICAgICBjb25zdCBjb25jZXB0c1N0cnVnZ2xpbmcgPSBvdXRjb21lc1xuICAgICAgICAuZmlsdGVyKG8gPT4gby5jb25jZXB0TWFzdGVyeSA8IDUwKVxuICAgICAgICAubWFwKChfLCBpKSA9PiBgQ29uY2VwdCAke2kgKyAxfWApO1xuXG4gICAgICBjb25zdCB0b3RhbFRpbWVTcGVudCA9IG91dGNvbWVzLnJlZHVjZSgoc3VtLCBvKSA9PiBzdW0gKyBvLnRpbWVTcGVudCwgMCk7XG4gICAgICBjb25zdCB0aW1lVG9NYXN0ZXJ5ID0gdG90YWxUaW1lU3BlbnQgLyAzNjAwOyAvLyBDb252ZXJ0IHRvIGhvdXJzXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0dWRlbnRJZCxcbiAgICAgICAgY291cnNlSWQsXG4gICAgICAgIGNvbXBsZXRpb25SYXRlLFxuICAgICAgICB0aW1lVG9NYXN0ZXJ5LFxuICAgICAgICBza2lsbFByb2ZpY2llbmN5OiBuZXcgTWFwKCksXG4gICAgICAgIGFzc2Vzc21lbnRTY29yZXMsXG4gICAgICAgIGF2ZXJhZ2VTY29yZTogTWF0aC5yb3VuZChhdmVyYWdlU2NvcmUgKiAxMDApIC8gMTAwLFxuICAgICAgICBjb25jZXB0c01hc3RlcmVkLFxuICAgICAgICBjb25jZXB0c0luUHJvZ3Jlc3MsXG4gICAgICAgIGNvbmNlcHRzU3RydWdnbGluZyxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZ2V0dGluZyBsZWFybmluZyBhbmFseXRpY3M6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0Q29ob3J0QW5hbHl0aWNzKGNvdXJzZUlkOiBzdHJpbmcsIHBlcmlvZD86IHN0cmluZyk6IFByb21pc2U8Q29ob3J0QW5hbHl0aWNzPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGVucm9sbG1lbnRzID0gYXdhaXQgcHJpc21hLmVucm9sbG1lbnQuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZTogeyBjb3Vyc2VJZCB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgc3R1ZGVudDogdHJ1ZSxcbiAgICAgICAgICBvdXRjb21lczogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB0b3RhbEVucm9sbG1lbnRzID0gZW5yb2xsbWVudHMubGVuZ3RoO1xuICAgICAgY29uc3QgY29tcGxldGVkRW5yb2xsbWVudHMgPSBlbnJvbGxtZW50cy5maWx0ZXIoZSA9PiBlLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpLmxlbmd0aDtcbiAgICAgIGNvbnN0IGNvbXBsZXRpb25SYXRlID0gdG90YWxFbnJvbGxtZW50cyA+IDBcbiAgICAgICAgPyAoY29tcGxldGVkRW5yb2xsbWVudHMgLyB0b3RhbEVucm9sbG1lbnRzKSAqIDEwMFxuICAgICAgICA6IDA7XG5cbiAgICAgIGNvbnN0IGFsbE91dGNvbWVzID0gZW5yb2xsbWVudHMuZmxhdE1hcChlID0+IGUub3V0Y29tZXMpO1xuICAgICAgY29uc3QgYXNzZXNzbWVudFNjb3JlcyA9IGFsbE91dGNvbWVzLm1hcChvID0+IG8uYXNzZXNzbWVudFNjb3JlKTtcbiAgICAgIGNvbnN0IGF2ZXJhZ2VTY29yZSA9IGFzc2Vzc21lbnRTY29yZXMubGVuZ3RoID4gMFxuICAgICAgICA/IGFzc2Vzc21lbnRTY29yZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBhc3Nlc3NtZW50U2NvcmVzLmxlbmd0aFxuICAgICAgICA6IDA7XG5cbiAgICAgIGNvbnN0IHRvdGFsVGltZVNwZW50ID0gYWxsT3V0Y29tZXMucmVkdWNlKChzdW0sIG8pID0+IHN1bSArIG8udGltZVNwZW50LCAwKTtcbiAgICAgIGNvbnN0IHRpbWVUb0NvbXBsZXRpb24gPSB0b3RhbFRpbWVTcGVudCAvIDM2MDA7IC8vIENvbnZlcnQgdG8gaG91cnNcblxuICAgICAgLy8gSWRlbnRpZnkgYXQtcmlzayBzdHVkZW50cyAocHJvZ3Jlc3MgPCAzMCUpXG4gICAgICBjb25zdCByaXNrU3R1ZGVudHMgPSBlbnJvbGxtZW50c1xuICAgICAgICAuZmlsdGVyKGUgPT4gZS5wcm9ncmVzcyA8IDMwICYmIGUuc3RhdHVzID09PSAnYWN0aXZlJylcbiAgICAgICAgLm1hcChlID0+IGUuc3R1ZGVudElkKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY291cnNlSWQsXG4gICAgICAgIHBlcmlvZDogcGVyaW9kIHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCA3KSxcbiAgICAgICAgdG90YWxFbnJvbGxtZW50cyxcbiAgICAgICAgY29tcGxldGlvblJhdGU6IE1hdGgucm91bmQoY29tcGxldGlvblJhdGUgKiAxMDApIC8gMTAwLFxuICAgICAgICBhdmVyYWdlU2NvcmU6IE1hdGgucm91bmQoYXZlcmFnZVNjb3JlICogMTAwKSAvIDEwMCxcbiAgICAgICAgdGltZVRvQ29tcGxldGlvbixcbiAgICAgICAgZGVtb2dyYXBoaWNCcmVha2Rvd246IFtdLFxuICAgICAgICByaXNrU3R1ZGVudHMsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGdldHRpbmcgY29ob3J0IGFuYWx5dGljczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRTdHVkZW50QXRSaXNrTGlzdChjb3Vyc2VJZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhdFJpc2tFbnJvbGxtZW50cyA9IGF3YWl0IHByaXNtYS5lbnJvbGxtZW50LmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBjb3Vyc2VJZCxcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICAgIHByb2dyZXNzOiB7IGx0OiAzMCB9LFxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3Q6IHsgc3R1ZGVudElkOiB0cnVlIH0sXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGF0Umlza0Vucm9sbG1lbnRzLm1hcChlID0+IGUuc3R1ZGVudElkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBnZXR0aW5nIGF0LXJpc2sgc3R1ZGVudHM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0Q29udmVyc2lvbkZ1bm5lbCgpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBmcmVlVXNlcnMgPSBhd2FpdCBwcmlzbWEudXNlci5jb3VudCh7IHdoZXJlOiB7IHRpZXI6ICdmcmVlJyB9IH0pO1xuICAgICAgY29uc3QgcHJlbWl1bVVzZXJzID0gYXdhaXQgcHJpc21hLnVzZXIuY291bnQoeyB3aGVyZTogeyB0aWVyOiAncHJlbWl1bScgfSB9KTtcbiAgICAgIGNvbnN0IHByb1VzZXJzID0gYXdhaXQgcHJpc21hLnVzZXIuY291bnQoeyB3aGVyZTogeyB0aWVyOiAncHJvJyB9IH0pO1xuXG4gICAgICBjb25zdCBmcmVlVG9QcmVtaXVtcGN0ID0gZnJlZVVzZXJzID4gMCA/IChwcmVtaXVtVXNlcnMgLyBmcmVlVXNlcnMpICogMTAwIDogMDtcbiAgICAgIGNvbnN0IHByZW1pdW1Ub1Byb1BjdCA9IHByZW1pdW1Vc2VycyA+IDAgPyAocHJvVXNlcnMgLyBwcmVtaXVtVXNlcnMpICogMTAwIDogMDtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZnJlZVVzZXJzLFxuICAgICAgICBwcmVtaXVtVXNlcnMsXG4gICAgICAgIHByb1VzZXJzLFxuICAgICAgICBmcmVlVG9QcmVtaXVtcGN0OiBNYXRoLnJvdW5kKGZyZWVUb1ByZW1pdW1wY3QgKiAxMDApIC8gMTAwLFxuICAgICAgICBwcmVtaXVtVG9Qcm9QY3Q6IE1hdGgucm91bmQocHJlbWl1bVRvUHJvUGN0ICogMTAwKSAvIDEwMCxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZ2V0dGluZyBjb252ZXJzaW9uIGZ1bm5lbDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRMaWZldGltZVZhbHVlKHN0dWRlbnRJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF5bWVudHMgPSBhd2FpdCBwcmlzbWEucGF5bWVudC5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgc3R1ZGVudElkLFxuICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdG90YWxWYWx1ZSA9IHBheW1lbnRzLnJlZHVjZSgoc3VtLCBwKSA9PiBzdW0gKyBOdW1iZXIocC5hbW91bnQpLCAwKTtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRvdGFsVmFsdWUgKiAxMDApIC8gMTAwO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGNhbGN1bGF0aW5nIGxpZmV0aW1lIHZhbHVlOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgYW5hbHl0aWNzU2VydmljZSA9IG5ldyBBbmFseXRpY3NTZXJ2aWNlKCk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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