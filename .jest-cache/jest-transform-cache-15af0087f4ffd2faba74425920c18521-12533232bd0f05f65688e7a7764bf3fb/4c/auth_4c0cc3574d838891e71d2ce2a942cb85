737ab71e8f994deda04b0a60fd6181ba
/* istanbul ignore next */
function cov_24l2x0y0tq() {
  var path = "/workspaces/azora/packages/lib/auth.ts";
  var hash = "e4102c4231190aeb82e14b3143a76e036c22f012";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/packages/lib/auth.ts",
    statementMap: {
      "0": {
        start: {
          line: 11,
          column: 15
        },
        end: {
          line: 11,
          column: 33
        }
      },
      "1": {
        start: {
          line: 13,
          column: 44
        },
        end: {
          line: 41,
          column: 1
        }
      },
      "2": {
        start: {
          line: 29,
          column: 12
        },
        end: {
          line: 31,
          column: 13
        }
      },
      "3": {
        start: {
          line: 30,
          column: 16
        },
        end: {
          line: 30,
          column: 34
        }
      },
      "4": {
        start: {
          line: 32,
          column: 12
        },
        end: {
          line: 32,
          column: 24
        }
      },
      "5": {
        start: {
          line: 35,
          column: 12
        },
        end: {
          line: 37,
          column: 13
        }
      },
      "6": {
        start: {
          line: 36,
          column: 16
        },
        end: {
          line: 36,
          column: 52
        }
      },
      "7": {
        start: {
          line: 38,
          column: 12
        },
        end: {
          line: 38,
          column: 26
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 28,
            column: 8
          },
          end: {
            line: 28,
            column: 9
          }
        },
        loc: {
          start: {
            line: 28,
            column: 35
          },
          end: {
            line: 33,
            column: 9
          }
        },
        line: 28
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 34,
            column: 9
          }
        },
        loc: {
          start: {
            line: 34,
            column: 42
          },
          end: {
            line: 39,
            column: 9
          }
        },
        line: 34
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 29,
            column: 12
          },
          end: {
            line: 31,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 29,
            column: 12
          },
          end: {
            line: 31,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 29
      },
      "1": {
        loc: {
          start: {
            line: 35,
            column: 12
          },
          end: {
            line: 37,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 35,
            column: 12
          },
          end: {
            line: 37,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 35
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0
    },
    f: {
      "0": 0,
      "1": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "e4102c4231190aeb82e14b3143a76e036c22f012"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_24l2x0y0tq = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_24l2x0y0tq();
/* 
AZORA PROPRIETARY LICENSE 
Copyright (c) 2025 Azora ES (Pty) Ltd. All Rights Reserved. 
See LICENSE file for details. 
*/

import GoogleProvider from "next-auth/providers/google";
import { PrismaAdapter } from "@next-auth/prisma-adapter";
import { PrismaClient } from "@prisma/client";
const prisma =
/* istanbul ignore next */
(cov_24l2x0y0tq().s[0]++, new PrismaClient());
export const authOptions =
/* istanbul ignore next */
(cov_24l2x0y0tq().s[1]++, {
  adapter: PrismaAdapter(prisma),
  providers: [GoogleProvider({
    clientId: process.env.GOOGLE_CLIENT_ID,
    clientSecret: process.env.GOOGLE_CLIENT_SECRET
  })],
  session: {
    strategy: "jwt"
  },
  pages: {
    signIn: "/auth"
  },
  callbacks: {
    async jwt({
      token,
      user
    }) {
      /* istanbul ignore next */
      cov_24l2x0y0tq().f[0]++;
      cov_24l2x0y0tq().s[2]++;
      if (user) {
        /* istanbul ignore next */
        cov_24l2x0y0tq().b[0][0]++;
        cov_24l2x0y0tq().s[3]++;
        token.id = user.id;
      } else
      /* istanbul ignore next */
      {
        cov_24l2x0y0tq().b[0][1]++;
      }
      cov_24l2x0y0tq().s[4]++;
      return token;
    },
    async session({
      session,
      token
    }) {
      /* istanbul ignore next */
      cov_24l2x0y0tq().f[1]++;
      cov_24l2x0y0tq().s[5]++;
      if (token) {
        /* istanbul ignore next */
        cov_24l2x0y0tq().b[1][0]++;
        cov_24l2x0y0tq().s[6]++;
        session.user.id = token.id;
      } else
      /* istanbul ignore next */
      {
        cov_24l2x0y0tq().b[1][1]++;
      }
      cov_24l2x0y0tq().s[7]++;
      return session;
    }
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjRsMngweTB0cSIsImFjdHVhbENvdmVyYWdlIiwiR29vZ2xlUHJvdmlkZXIiLCJQcmlzbWFBZGFwdGVyIiwiUHJpc21hQ2xpZW50IiwicHJpc21hIiwicyIsImF1dGhPcHRpb25zIiwiYWRhcHRlciIsInByb3ZpZGVycyIsImNsaWVudElkIiwicHJvY2VzcyIsImVudiIsIkdPT0dMRV9DTElFTlRfSUQiLCJjbGllbnRTZWNyZXQiLCJHT09HTEVfQ0xJRU5UX1NFQ1JFVCIsInNlc3Npb24iLCJzdHJhdGVneSIsInBhZ2VzIiwic2lnbkluIiwiY2FsbGJhY2tzIiwiand0IiwidG9rZW4iLCJ1c2VyIiwiZiIsImIiLCJpZCJdLCJzb3VyY2VzIjpbImF1dGgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogXG5BWk9SQSBQUk9QUklFVEFSWSBMSUNFTlNFIFxuQ29weXJpZ2h0IChjKSAyMDI1IEF6b3JhIEVTIChQdHkpIEx0ZC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4gXG5TZWUgTElDRU5TRSBmaWxlIGZvciBkZXRhaWxzLiBcbiovIFxuaW1wb3J0IHsgTmV4dEF1dGhPcHRpb25zIH0gZnJvbSBcIm5leHQtYXV0aFwiXG5pbXBvcnQgR29vZ2xlUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvZ29vZ2xlXCJcbmltcG9ydCB7IFByaXNtYUFkYXB0ZXIgfSBmcm9tIFwiQG5leHQtYXV0aC9wcmlzbWEtYWRhcHRlclwiXG5pbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIlxuXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KClcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gICAgYWRhcHRlcjogUHJpc21hQWRhcHRlcihwcmlzbWEpLFxuICAgIHByb3ZpZGVyczogW1xuICAgICAgICBHb29nbGVQcm92aWRlcih7XG4gICAgICAgICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCEsXG4gICAgICAgICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVUISxcbiAgICAgICAgfSksXG4gICAgXSxcbiAgICBzZXNzaW9uOiB7XG4gICAgICAgIHN0cmF0ZWd5OiBcImp3dFwiLFxuICAgIH0sXG4gICAgcGFnZXM6IHtcbiAgICAgICAgc2lnbkluOiBcIi9hdXRoXCIsXG4gICAgfSxcbiAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xuICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICB0b2tlbi5pZCA9IHVzZXIuaWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0b2tlblxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xuICAgICAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWQgYXMgc3RyaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvblxuICAgICAgICB9LFxuICAgIH0sXG59XG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWVZO0lBQUFBLGNBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGNBQUE7QUFmWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9FLGNBQWMsTUFBTSw0QkFBNEI7QUFDdkQsU0FBU0MsYUFBYSxRQUFRLDJCQUEyQjtBQUN6RCxTQUFTQyxZQUFZLFFBQVEsZ0JBQWdCO0FBRTdDLE1BQU1DLE1BQU07QUFBQTtBQUFBLENBQUFMLGNBQUEsR0FBQU0sQ0FBQSxPQUFHLElBQUlGLFlBQVksQ0FBQyxDQUFDO0FBRWpDLE9BQU8sTUFBTUcsV0FBNEI7QUFBQTtBQUFBLENBQUFQLGNBQUEsR0FBQU0sQ0FBQSxPQUFHO0VBQ3hDRSxPQUFPLEVBQUVMLGFBQWEsQ0FBQ0UsTUFBTSxDQUFDO0VBQzlCSSxTQUFTLEVBQUUsQ0FDUFAsY0FBYyxDQUFDO0lBQ1hRLFFBQVEsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLGdCQUFpQjtJQUN2Q0MsWUFBWSxFQUFFSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0c7RUFDOUIsQ0FBQyxDQUFDLENBQ0w7RUFDREMsT0FBTyxFQUFFO0lBQ0xDLFFBQVEsRUFBRTtFQUNkLENBQUM7RUFDREMsS0FBSyxFQUFFO0lBQ0hDLE1BQU0sRUFBRTtFQUNaLENBQUM7RUFDREMsU0FBUyxFQUFFO0lBQ1AsTUFBTUMsR0FBR0EsQ0FBQztNQUFFQyxLQUFLO01BQUVDO0lBQUssQ0FBQyxFQUFFO01BQUE7TUFBQXZCLGNBQUEsR0FBQXdCLENBQUE7TUFBQXhCLGNBQUEsR0FBQU0sQ0FBQTtNQUN2QixJQUFJaUIsSUFBSSxFQUFFO1FBQUE7UUFBQXZCLGNBQUEsR0FBQXlCLENBQUE7UUFBQXpCLGNBQUEsR0FBQU0sQ0FBQTtRQUNOZ0IsS0FBSyxDQUFDSSxFQUFFLEdBQUdILElBQUksQ0FBQ0csRUFBRTtNQUN0QixDQUFDO01BQUE7TUFBQTtRQUFBMUIsY0FBQSxHQUFBeUIsQ0FBQTtNQUFBO01BQUF6QixjQUFBLEdBQUFNLENBQUE7TUFDRCxPQUFPZ0IsS0FBSztJQUNoQixDQUFDO0lBQ0QsTUFBTU4sT0FBT0EsQ0FBQztNQUFFQSxPQUFPO01BQUVNO0lBQU0sQ0FBQyxFQUFFO01BQUE7TUFBQXRCLGNBQUEsR0FBQXdCLENBQUE7TUFBQXhCLGNBQUEsR0FBQU0sQ0FBQTtNQUM5QixJQUFJZ0IsS0FBSyxFQUFFO1FBQUE7UUFBQXRCLGNBQUEsR0FBQXlCLENBQUE7UUFBQXpCLGNBQUEsR0FBQU0sQ0FBQTtRQUNQVSxPQUFPLENBQUNPLElBQUksQ0FBQ0csRUFBRSxHQUFHSixLQUFLLENBQUNJLEVBQVk7TUFDeEMsQ0FBQztNQUFBO01BQUE7UUFBQTFCLGNBQUEsR0FBQXlCLENBQUE7TUFBQTtNQUFBekIsY0FBQSxHQUFBTSxDQUFBO01BQ0QsT0FBT1UsT0FBTztJQUNsQjtFQUNKO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==