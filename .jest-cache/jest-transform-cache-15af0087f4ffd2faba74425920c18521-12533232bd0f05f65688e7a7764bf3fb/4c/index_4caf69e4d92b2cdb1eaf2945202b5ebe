75d48365bd7801eb92fe02e15a7bc7b3
/* istanbul ignore next */
function cov_rfsjihaur() {
  var path = "/workspaces/azora/services/azora-pay/index.js";
  var hash = "cd1f2caa31b3dba21366d24b3c1e835bb11ac074";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/azora-pay/index.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 16
        },
        end: {
          line: 1,
          column: 34
        }
      },
      "1": {
        start: {
          line: 2,
          column: 20
        },
        end: {
          line: 2,
          column: 42
        }
      },
      "2": {
        start: {
          line: 3,
          column: 15
        },
        end: {
          line: 3,
          column: 63
        }
      },
      "3": {
        start: {
          line: 4,
          column: 65
        },
        end: {
          line: 4,
          column: 96
        }
      },
      "4": {
        start: {
          line: 6,
          column: 12
        },
        end: {
          line: 6,
          column: 21
        }
      },
      "5": {
        start: {
          line: 9,
          column: 0
        },
        end: {
          line: 9,
          column: 22
        }
      },
      "6": {
        start: {
          line: 10,
          column: 0
        },
        end: {
          line: 10,
          column: 20
        }
      },
      "7": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 11,
          column: 23
        }
      },
      "8": {
        start: {
          line: 12,
          column: 0
        },
        end: {
          line: 12,
          column: 24
        }
      },
      "9": {
        start: {
          line: 13,
          column: 0
        },
        end: {
          line: 13,
          column: 32
        }
      },
      "10": {
        start: {
          line: 15,
          column: 13
        },
        end: {
          line: 15,
          column: 37
        }
      },
      "11": {
        start: {
          line: 18,
          column: 0
        },
        end: {
          line: 20,
          column: 3
        }
      },
      "12": {
        start: {
          line: 19,
          column: 2
        },
        end: {
          line: 19,
          column: 93
        }
      },
      "13": {
        start: {
          line: 23,
          column: 0
        },
        end: {
          line: 95,
          column: 3
        }
      },
      "14": {
        start: {
          line: 24,
          column: 2
        },
        end: {
          line: 94,
          column: 3
        }
      },
      "15": {
        start: {
          line: 25,
          column: 49
        },
        end: {
          line: 25,
          column: 57
        }
      },
      "16": {
        start: {
          line: 29,
          column: 27
        },
        end: {
          line: 38,
          column: 5
        }
      },
      "17": {
        start: {
          line: 42,
          column: 4
        },
        end: {
          line: 62,
          column: 5
        }
      },
      "18": {
        start: {
          line: 43,
          column: 33
        },
        end: {
          line: 54,
          column: 26
        }
      },
      "19": {
        start: {
          line: 54,
          column: 21
        },
        end: {
          line: 54,
          column: 25
        }
      },
      "20": {
        start: {
          line: 56,
          column: 6
        },
        end: {
          line: 59,
          column: 7
        }
      },
      "21": {
        start: {
          line: 57,
          column: 8
        },
        end: {
          line: 57,
          column: 77
        }
      },
      "22": {
        start: {
          line: 61,
          column: 6
        },
        end: {
          line: 61,
          column: 68
        }
      },
      "23": {
        start: {
          line: 65,
          column: 4
        },
        end: {
          line: 77,
          column: 5
        }
      },
      "24": {
        start: {
          line: 66,
          column: 6
        },
        end: {
          line: 74,
          column: 70
        }
      },
      "25": {
        start: {
          line: 74,
          column: 21
        },
        end: {
          line: 74,
          column: 68
        }
      },
      "26": {
        start: {
          line: 76,
          column: 6
        },
        end: {
          line: 76,
          column: 55
        }
      },
      "27": {
        start: {
          line: 80,
          column: 26
        },
        end: {
          line: 84,
          column: 6
        }
      },
      "28": {
        start: {
          line: 86,
          column: 4
        },
        end: {
          line: 91,
          column: 7
        }
      },
      "29": {
        start: {
          line: 93,
          column: 4
        },
        end: {
          line: 93,
          column: 51
        }
      },
      "30": {
        start: {
          line: 98,
          column: 0
        },
        end: {
          line: 111,
          column: 3
        }
      },
      "31": {
        start: {
          line: 99,
          column: 2
        },
        end: {
          line: 110,
          column: 3
        }
      },
      "32": {
        start: {
          line: 100,
          column: 32
        },
        end: {
          line: 100,
          column: 40
        }
      },
      "33": {
        start: {
          line: 101,
          column: 26
        },
        end: {
          line: 101,
          column: 79
        }
      },
      "34": {
        start: {
          line: 103,
          column: 4
        },
        end: {
          line: 107,
          column: 7
        }
      },
      "35": {
        start: {
          line: 109,
          column: 4
        },
        end: {
          line: 109,
          column: 51
        }
      },
      "36": {
        start: {
          line: 114,
          column: 0
        },
        end: {
          line: 128,
          column: 3
        }
      },
      "37": {
        start: {
          line: 115,
          column: 14
        },
        end: {
          line: 115,
          column: 45
        }
      },
      "38": {
        start: {
          line: 117,
          column: 2
        },
        end: {
          line: 127,
          column: 3
        }
      },
      "39": {
        start: {
          line: 118,
          column: 18
        },
        end: {
          line: 118,
          column: 98
        }
      },
      "40": {
        start: {
          line: 120,
          column: 4
        },
        end: {
          line: 122,
          column: 5
        }
      },
      "41": {
        start: {
          line: 121,
          column: 6
        },
        end: {
          line: 121,
          column: 62
        }
      },
      "42": {
        start: {
          line: 124,
          column: 4
        },
        end: {
          line: 124,
          column: 33
        }
      },
      "43": {
        start: {
          line: 126,
          column: 4
        },
        end: {
          line: 126,
          column: 51
        }
      },
      "44": {
        start: {
          line: 131,
          column: 0
        },
        end: {
          line: 131,
          column: 22
        }
      },
      "45": {
        start: {
          line: 133,
          column: 0
        },
        end: {
          line: 135,
          column: 3
        }
      },
      "46": {
        start: {
          line: 134,
          column: 2
        },
        end: {
          line: 134,
          column: 54
        }
      },
      "47": {
        start: {
          line: 137,
          column: 0
        },
        end: {
          line: 137,
          column: 21
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 18,
            column: 19
          },
          end: {
            line: 18,
            column: 20
          }
        },
        loc: {
          start: {
            line: 18,
            column: 33
          },
          end: {
            line: 20,
            column: 1
          }
        },
        line: 18
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 23,
            column: 33
          },
          end: {
            line: 23,
            column: 34
          }
        },
        loc: {
          start: {
            line: 23,
            column: 53
          },
          end: {
            line: 95,
            column: 1
          }
        },
        line: 23
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 54,
            column: 15
          },
          end: {
            line: 54,
            column: 16
          }
        },
        loc: {
          start: {
            line: 54,
            column: 21
          },
          end: {
            line: 54,
            column: 25
          }
        },
        line: 54
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 74,
            column: 15
          },
          end: {
            line: 74,
            column: 16
          }
        },
        loc: {
          start: {
            line: 74,
            column: 21
          },
          end: {
            line: 74,
            column: 68
          }
        },
        line: 74
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 98,
            column: 34
          },
          end: {
            line: 98,
            column: 35
          }
        },
        loc: {
          start: {
            line: 98,
            column: 54
          },
          end: {
            line: 111,
            column: 1
          }
        },
        line: 98
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 114,
            column: 77
          },
          end: {
            line: 114,
            column: 78
          }
        },
        loc: {
          start: {
            line: 114,
            column: 97
          },
          end: {
            line: 128,
            column: 1
          }
        },
        line: 114
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 133,
            column: 17
          },
          end: {
            line: 133,
            column: 18
          }
        },
        loc: {
          start: {
            line: 133,
            column: 23
          },
          end: {
            line: 135,
            column: 1
          }
        },
        line: 133
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 15,
            column: 13
          },
          end: {
            line: 15,
            column: 37
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 15,
            column: 13
          },
          end: {
            line: 15,
            column: 29
          }
        }, {
          start: {
            line: 15,
            column: 33
          },
          end: {
            line: 15,
            column: 37
          }
        }],
        line: 15
      },
      "1": {
        loc: {
          start: {
            line: 25,
            column: 20
          },
          end: {
            line: 25,
            column: 36
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 25,
            column: 31
          },
          end: {
            line: 25,
            column: 36
          }
        }],
        line: 25
      },
      "2": {
        loc: {
          start: {
            line: 56,
            column: 6
          },
          end: {
            line: 59,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 56,
            column: 6
          },
          end: {
            line: 59,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 56
      },
      "3": {
        loc: {
          start: {
            line: 56,
            column: 10
          },
          end: {
            line: 56,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 56,
            column: 10
          },
          end: {
            line: 56,
            column: 29
          }
        }, {
          start: {
            line: 56,
            column: 33
          },
          end: {
            line: 56,
            column: 55
          }
        }],
        line: 56
      },
      "4": {
        loc: {
          start: {
            line: 120,
            column: 4
          },
          end: {
            line: 122,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 120,
            column: 4
          },
          end: {
            line: 122,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 120
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "cd1f2caa31b3dba21366d24b3c1e835bb11ac074"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_rfsjihaur = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_rfsjihaur();
const express =
/* istanbul ignore next */
(cov_rfsjihaur().s[0]++, require('express'));
const compression =
/* istanbul ignore next */
(cov_rfsjihaur().s[1]++, require('compression'));
const stripe =
/* istanbul ignore next */
(cov_rfsjihaur().s[2]++, require('stripe')(process.env.STRIPE_SECRET_KEY));
const {
  helmetConfig,
  corsConfig,
  rateLimiters,
  errorHandler
} =
/* istanbul ignore next */
(cov_rfsjihaur().s[3]++, require('../shared/middleware'));
const app =
/* istanbul ignore next */
(cov_rfsjihaur().s[4]++, express());

// Security middleware stack
/* istanbul ignore next */
cov_rfsjihaur().s[5]++;
app.use(helmetConfig);
/* istanbul ignore next */
cov_rfsjihaur().s[6]++;
app.use(corsConfig);
/* istanbul ignore next */
cov_rfsjihaur().s[7]++;
app.use(compression());
/* istanbul ignore next */
cov_rfsjihaur().s[8]++;
app.use(express.json());
/* istanbul ignore next */
cov_rfsjihaur().s[9]++;
app.use(rateLimiters.financial); // Payment service - strict rate limiting

const PORT =
/* istanbul ignore next */
(cov_rfsjihaur().s[10]++,
/* istanbul ignore next */
(cov_rfsjihaur().b[0][0]++, process.env.PORT) ||
/* istanbul ignore next */
(cov_rfsjihaur().b[0][1]++, 3010));

// Health check
/* istanbul ignore next */
cov_rfsjihaur().s[11]++;
app.get('/health', (req, res) => {
  /* istanbul ignore next */
  cov_rfsjihaur().f[0]++;
  cov_rfsjihaur().s[12]++;
  res.json({
    status: 'healthy',
    service: 'azora-pay',
    timestamp: new Date().toISOString()
  });
});

// Create payment intent
/* istanbul ignore next */
cov_rfsjihaur().s[13]++;
app.post('/api/payments/intent', async (req, res) => {
  /* istanbul ignore next */
  cov_rfsjihaur().f[1]++;
  cov_rfsjihaur().s[14]++;
  try {
    const {
      amount,
      currency =
      /* istanbul ignore next */
      (cov_rfsjihaur().b[1][0]++, 'usd'),
      userId
    } =
    /* istanbul ignore next */
    (cov_rfsjihaur().s[15]++, req.body);

    // 1. Record to Blockchain (using existing azora-mint/blockchain-ledger)
    // In production, import and use: const { azoraBlockchain } = require('../azora-mint/blockchain-ledger');
    const mutationRecord =
    /* istanbul ignore next */
    (cov_rfsjihaur().s[16]++, {
      id: require('crypto').randomUUID(),
      timestamp: new Date().toISOString(),
      actorId: userId,
      actionType: 'PAYMENT_INTENT',
      payloadHash: require('crypto').createHash('sha256').update(JSON.stringify({
        amount,
        currency,
        userId
      })).digest('hex'),
      previousHash: '0',
      signature: 'MOCK_SIGNATURE',
      metadata: {
        amount,
        currency
      }
    });

    // Record to Blockchain via azora-mint service
    // TODO: Replace with direct blockchain.createTransaction() call
    /* istanbul ignore next */
    cov_rfsjihaur().s[17]++;
    try {
      const blockchainResponse =
      /* istanbul ignore next */
      (cov_rfsjihaur().s[18]++, await fetch('http://localhost:3011/api/blockchain/transaction', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          from: userId,
          to: 'stripe-gateway',
          amount: amount,
          currency: 'AZR',
          // Convert to AZR in production
          type: 'Transfer',
          data: {
            paymentIntent: true,
            fiatCurrency: currency
          }
        })
      }).catch(() => {
        /* istanbul ignore next */
        cov_rfsjihaur().f[2]++;
        cov_rfsjihaur().s[19]++;
        return null;
      }));
      /* istanbul ignore next */
      cov_rfsjihaur().s[20]++;
      if (
      /* istanbul ignore next */
      (cov_rfsjihaur().b[3][0]++, !blockchainResponse) ||
      /* istanbul ignore next */
      (cov_rfsjihaur().b[3][1]++, !blockchainResponse.ok)) {
        /* istanbul ignore next */
        cov_rfsjihaur().b[2][0]++;
        cov_rfsjihaur().s[21]++;
        console.warn('Blockchain recording failed, proceeding with payment');
        // Fail-open for now (in production, decide based on criticality)
      } else
      /* istanbul ignore next */
      {
        cov_rfsjihaur().b[2][1]++;
      }
    } catch (blockchainError) {
      /* istanbul ignore next */
      cov_rfsjihaur().s[22]++;
      console.error('Blockchain recording error:', blockchainError);
    }

    // 2. Contribute to CitadelFund (10% of payment)
    /* istanbul ignore next */
    cov_rfsjihaur().s[23]++;
    try {
      /* istanbul ignore next */
      cov_rfsjihaur().s[24]++;
      await fetch('http://localhost:3011/api/citadel/contribute', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          source: userId,
          amount: amount * 0.10,
          // 10% contribution
          metadata: {
            paymentId: mutationRecord.id,
            currency
          }
        })
      }).catch(() => {
        /* istanbul ignore next */
        cov_rfsjihaur().f[3]++;
        cov_rfsjihaur().s[25]++;
        return console.warn('CitadelFund contribution failed');
      });
    } catch (citadelError) {
      /* istanbul ignore next */
      cov_rfsjihaur().s[26]++;
      console.warn('CitadelFund error:', citadelError);
    }

    // 3. Proceed with Stripe payment intent
    const paymentIntent =
    /* istanbul ignore next */
    (cov_rfsjihaur().s[27]++, await stripe.paymentIntents.create({
      amount: Math.round(amount * 100),
      currency,
      metadata: {
        userId,
        blockchainRecordId: mutationRecord.id
      }
    }));
    /* istanbul ignore next */
    cov_rfsjihaur().s[28]++;
    res.json({
      clientSecret: paymentIntent.client_secret,
      id: paymentIntent.id,
      blockchainRecordId: mutationRecord.id,
      citadelContribution: amount * 0.10
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_rfsjihaur().s[29]++;
    res.status(500).json({
      error: error.message
    });
  }
});

// Process payment
/* istanbul ignore next */
cov_rfsjihaur().s[30]++;
app.post('/api/payments/process', async (req, res) => {
  /* istanbul ignore next */
  cov_rfsjihaur().f[4]++;
  cov_rfsjihaur().s[31]++;
  try {
    const {
      paymentIntentId
    } =
    /* istanbul ignore next */
    (cov_rfsjihaur().s[32]++, req.body);
    const paymentIntent =
    /* istanbul ignore next */
    (cov_rfsjihaur().s[33]++, await stripe.paymentIntents.retrieve(paymentIntentId));
    /* istanbul ignore next */
    cov_rfsjihaur().s[34]++;
    res.json({
      status: paymentIntent.status,
      amount: paymentIntent.amount / 100,
      currency: paymentIntent.currency
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_rfsjihaur().s[35]++;
    res.status(500).json({
      error: error.message
    });
  }
});

// Webhook handler
/* istanbul ignore next */
cov_rfsjihaur().s[36]++;
app.post('/api/payments/webhook', express.raw({
  type: 'application/json'
}), async (req, res) => {
  /* istanbul ignore next */
  cov_rfsjihaur().f[5]++;
  const sig =
  /* istanbul ignore next */
  (cov_rfsjihaur().s[37]++, req.headers['stripe-signature']);
  /* istanbul ignore next */
  cov_rfsjihaur().s[38]++;
  try {
    const event =
    /* istanbul ignore next */
    (cov_rfsjihaur().s[39]++, stripe.webhooks.constructEvent(req.body, sig, process.env.STRIPE_WEBHOOK_SECRET));
    /* istanbul ignore next */
    cov_rfsjihaur().s[40]++;
    if (event.type === 'payment_intent.succeeded') {
      /* istanbul ignore next */
      cov_rfsjihaur().b[4][0]++;
      cov_rfsjihaur().s[41]++;
      console.log('Payment succeeded:', event.data.object.id);
    } else
    /* istanbul ignore next */
    {
      cov_rfsjihaur().b[4][1]++;
    }
    cov_rfsjihaur().s[42]++;
    res.json({
      received: true
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_rfsjihaur().s[43]++;
    res.status(400).json({
      error: error.message
    });
  }
});

// Error handling middleware (must be last)
/* istanbul ignore next */
cov_rfsjihaur().s[44]++;
app.use(errorHandler);
/* istanbul ignore next */
cov_rfsjihaur().s[45]++;
app.listen(PORT, () => {
  /* istanbul ignore next */
  cov_rfsjihaur().f[6]++;
  cov_rfsjihaur().s[46]++;
  console.log(`ðŸ’° Azora Pay running on port ${PORT}`);
});
/* istanbul ignore next */
cov_rfsjihaur().s[47]++;
module.exports = app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfcmZzamloYXVyIiwiYWN0dWFsQ292ZXJhZ2UiLCJleHByZXNzIiwicyIsInJlcXVpcmUiLCJjb21wcmVzc2lvbiIsInN0cmlwZSIsInByb2Nlc3MiLCJlbnYiLCJTVFJJUEVfU0VDUkVUX0tFWSIsImhlbG1ldENvbmZpZyIsImNvcnNDb25maWciLCJyYXRlTGltaXRlcnMiLCJlcnJvckhhbmRsZXIiLCJhcHAiLCJ1c2UiLCJqc29uIiwiZmluYW5jaWFsIiwiUE9SVCIsImIiLCJnZXQiLCJyZXEiLCJyZXMiLCJmIiwic3RhdHVzIiwic2VydmljZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInBvc3QiLCJhbW91bnQiLCJjdXJyZW5jeSIsInVzZXJJZCIsImJvZHkiLCJtdXRhdGlvblJlY29yZCIsImlkIiwicmFuZG9tVVVJRCIsImFjdG9ySWQiLCJhY3Rpb25UeXBlIiwicGF5bG9hZEhhc2giLCJjcmVhdGVIYXNoIiwidXBkYXRlIiwiSlNPTiIsInN0cmluZ2lmeSIsImRpZ2VzdCIsInByZXZpb3VzSGFzaCIsInNpZ25hdHVyZSIsIm1ldGFkYXRhIiwiYmxvY2tjaGFpblJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiZnJvbSIsInRvIiwidHlwZSIsImRhdGEiLCJwYXltZW50SW50ZW50IiwiZmlhdEN1cnJlbmN5IiwiY2F0Y2giLCJvayIsImNvbnNvbGUiLCJ3YXJuIiwiYmxvY2tjaGFpbkVycm9yIiwiZXJyb3IiLCJzb3VyY2UiLCJwYXltZW50SWQiLCJjaXRhZGVsRXJyb3IiLCJwYXltZW50SW50ZW50cyIsImNyZWF0ZSIsIk1hdGgiLCJyb3VuZCIsImJsb2NrY2hhaW5SZWNvcmRJZCIsImNsaWVudFNlY3JldCIsImNsaWVudF9zZWNyZXQiLCJjaXRhZGVsQ29udHJpYnV0aW9uIiwibWVzc2FnZSIsInBheW1lbnRJbnRlbnRJZCIsInJldHJpZXZlIiwicmF3Iiwic2lnIiwiZXZlbnQiLCJ3ZWJob29rcyIsImNvbnN0cnVjdEV2ZW50IiwiU1RSSVBFX1dFQkhPT0tfU0VDUkVUIiwibG9nIiwib2JqZWN0IiwicmVjZWl2ZWQiLCJsaXN0ZW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IGNvbXByZXNzaW9uID0gcmVxdWlyZSgnY29tcHJlc3Npb24nKTtcbmNvbnN0IHN0cmlwZSA9IHJlcXVpcmUoJ3N0cmlwZScpKHByb2Nlc3MuZW52LlNUUklQRV9TRUNSRVRfS0VZKTtcbmNvbnN0IHsgaGVsbWV0Q29uZmlnLCBjb3JzQ29uZmlnLCByYXRlTGltaXRlcnMsIGVycm9ySGFuZGxlciB9ID0gcmVxdWlyZSgnLi4vc2hhcmVkL21pZGRsZXdhcmUnKTtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG4vLyBTZWN1cml0eSBtaWRkbGV3YXJlIHN0YWNrXG5hcHAudXNlKGhlbG1ldENvbmZpZyk7XG5hcHAudXNlKGNvcnNDb25maWcpO1xuYXBwLnVzZShjb21wcmVzc2lvbigpKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuYXBwLnVzZShyYXRlTGltaXRlcnMuZmluYW5jaWFsKTsgLy8gUGF5bWVudCBzZXJ2aWNlIC0gc3RyaWN0IHJhdGUgbGltaXRpbmdcblxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAxMDtcblxuLy8gSGVhbHRoIGNoZWNrXG5hcHAuZ2V0KCcvaGVhbHRoJywgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5qc29uKHsgc3RhdHVzOiAnaGVhbHRoeScsIHNlcnZpY2U6ICdhem9yYS1wYXknLCB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9KTtcbn0pO1xuXG4vLyBDcmVhdGUgcGF5bWVudCBpbnRlbnRcbmFwcC5wb3N0KCcvYXBpL3BheW1lbnRzL2ludGVudCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgYW1vdW50LCBjdXJyZW5jeSA9ICd1c2QnLCB1c2VySWQgfSA9IHJlcS5ib2R5O1xuXG4gICAgLy8gMS4gUmVjb3JkIHRvIEJsb2NrY2hhaW4gKHVzaW5nIGV4aXN0aW5nIGF6b3JhLW1pbnQvYmxvY2tjaGFpbi1sZWRnZXIpXG4gICAgLy8gSW4gcHJvZHVjdGlvbiwgaW1wb3J0IGFuZCB1c2U6IGNvbnN0IHsgYXpvcmFCbG9ja2NoYWluIH0gPSByZXF1aXJlKCcuLi9hem9yYS1taW50L2Jsb2NrY2hhaW4tbGVkZ2VyJyk7XG4gICAgY29uc3QgbXV0YXRpb25SZWNvcmQgPSB7XG4gICAgICBpZDogcmVxdWlyZSgnY3J5cHRvJykucmFuZG9tVVVJRCgpLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBhY3RvcklkOiB1c2VySWQsXG4gICAgICBhY3Rpb25UeXBlOiAnUEFZTUVOVF9JTlRFTlQnLFxuICAgICAgcGF5bG9hZEhhc2g6IHJlcXVpcmUoJ2NyeXB0bycpLmNyZWF0ZUhhc2goJ3NoYTI1NicpLnVwZGF0ZShKU09OLnN0cmluZ2lmeSh7IGFtb3VudCwgY3VycmVuY3ksIHVzZXJJZCB9KSkuZGlnZXN0KCdoZXgnKSxcbiAgICAgIHByZXZpb3VzSGFzaDogJzAnLFxuICAgICAgc2lnbmF0dXJlOiAnTU9DS19TSUdOQVRVUkUnLFxuICAgICAgbWV0YWRhdGE6IHsgYW1vdW50LCBjdXJyZW5jeSB9XG4gICAgfTtcblxuICAgIC8vIFJlY29yZCB0byBCbG9ja2NoYWluIHZpYSBhem9yYS1taW50IHNlcnZpY2VcbiAgICAvLyBUT0RPOiBSZXBsYWNlIHdpdGggZGlyZWN0IGJsb2NrY2hhaW4uY3JlYXRlVHJhbnNhY3Rpb24oKSBjYWxsXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJsb2NrY2hhaW5SZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjMwMTEvYXBpL2Jsb2NrY2hhaW4vdHJhbnNhY3Rpb24nLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGZyb206IHVzZXJJZCxcbiAgICAgICAgICB0bzogJ3N0cmlwZS1nYXRld2F5JyxcbiAgICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgICBjdXJyZW5jeTogJ0FaUicsIC8vIENvbnZlcnQgdG8gQVpSIGluIHByb2R1Y3Rpb25cbiAgICAgICAgICB0eXBlOiAnVHJhbnNmZXInLFxuICAgICAgICAgIGRhdGE6IHsgcGF5bWVudEludGVudDogdHJ1ZSwgZmlhdEN1cnJlbmN5OiBjdXJyZW5jeSB9XG4gICAgICAgIH0pXG4gICAgICB9KS5jYXRjaCgoKSA9PiBudWxsKTtcblxuICAgICAgaWYgKCFibG9ja2NoYWluUmVzcG9uc2UgfHwgIWJsb2NrY2hhaW5SZXNwb25zZS5vaykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0Jsb2NrY2hhaW4gcmVjb3JkaW5nIGZhaWxlZCwgcHJvY2VlZGluZyB3aXRoIHBheW1lbnQnKTtcbiAgICAgICAgLy8gRmFpbC1vcGVuIGZvciBub3cgKGluIHByb2R1Y3Rpb24sIGRlY2lkZSBiYXNlZCBvbiBjcml0aWNhbGl0eSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChibG9ja2NoYWluRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Jsb2NrY2hhaW4gcmVjb3JkaW5nIGVycm9yOicsIGJsb2NrY2hhaW5FcnJvcik7XG4gICAgfVxuXG4gICAgLy8gMi4gQ29udHJpYnV0ZSB0byBDaXRhZGVsRnVuZCAoMTAlIG9mIHBheW1lbnQpXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjMwMTEvYXBpL2NpdGFkZWwvY29udHJpYnV0ZScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgc291cmNlOiB1c2VySWQsXG4gICAgICAgICAgYW1vdW50OiBhbW91bnQgKiAwLjEwLCAvLyAxMCUgY29udHJpYnV0aW9uXG4gICAgICAgICAgbWV0YWRhdGE6IHsgcGF5bWVudElkOiBtdXRhdGlvblJlY29yZC5pZCwgY3VycmVuY3kgfVxuICAgICAgICB9KVxuICAgICAgfSkuY2F0Y2goKCkgPT4gY29uc29sZS53YXJuKCdDaXRhZGVsRnVuZCBjb250cmlidXRpb24gZmFpbGVkJykpO1xuICAgIH0gY2F0Y2ggKGNpdGFkZWxFcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdDaXRhZGVsRnVuZCBlcnJvcjonLCBjaXRhZGVsRXJyb3IpO1xuICAgIH1cblxuICAgIC8vIDMuIFByb2NlZWQgd2l0aCBTdHJpcGUgcGF5bWVudCBpbnRlbnRcbiAgICBjb25zdCBwYXltZW50SW50ZW50ID0gYXdhaXQgc3RyaXBlLnBheW1lbnRJbnRlbnRzLmNyZWF0ZSh7XG4gICAgICBhbW91bnQ6IE1hdGgucm91bmQoYW1vdW50ICogMTAwKSxcbiAgICAgIGN1cnJlbmN5LFxuICAgICAgbWV0YWRhdGE6IHsgdXNlcklkLCBibG9ja2NoYWluUmVjb3JkSWQ6IG11dGF0aW9uUmVjb3JkLmlkIH1cbiAgICB9KTtcblxuICAgIHJlcy5qc29uKHtcbiAgICAgIGNsaWVudFNlY3JldDogcGF5bWVudEludGVudC5jbGllbnRfc2VjcmV0LFxuICAgICAgaWQ6IHBheW1lbnRJbnRlbnQuaWQsXG4gICAgICBibG9ja2NoYWluUmVjb3JkSWQ6IG11dGF0aW9uUmVjb3JkLmlkLFxuICAgICAgY2l0YWRlbENvbnRyaWJ1dGlvbjogYW1vdW50ICogMC4xMFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XG4gIH1cbn0pO1xuXG4vLyBQcm9jZXNzIHBheW1lbnRcbmFwcC5wb3N0KCcvYXBpL3BheW1lbnRzL3Byb2Nlc3MnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHBheW1lbnRJbnRlbnRJZCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgcGF5bWVudEludGVudCA9IGF3YWl0IHN0cmlwZS5wYXltZW50SW50ZW50cy5yZXRyaWV2ZShwYXltZW50SW50ZW50SWQpO1xuXG4gICAgcmVzLmpzb24oe1xuICAgICAgc3RhdHVzOiBwYXltZW50SW50ZW50LnN0YXR1cyxcbiAgICAgIGFtb3VudDogcGF5bWVudEludGVudC5hbW91bnQgLyAxMDAsXG4gICAgICBjdXJyZW5jeTogcGF5bWVudEludGVudC5jdXJyZW5jeVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XG4gIH1cbn0pO1xuXG4vLyBXZWJob29rIGhhbmRsZXJcbmFwcC5wb3N0KCcvYXBpL3BheW1lbnRzL3dlYmhvb2snLCBleHByZXNzLnJhdyh7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KSwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHNpZyA9IHJlcS5oZWFkZXJzWydzdHJpcGUtc2lnbmF0dXJlJ107XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBldmVudCA9IHN0cmlwZS53ZWJob29rcy5jb25zdHJ1Y3RFdmVudChyZXEuYm9keSwgc2lnLCBwcm9jZXNzLmVudi5TVFJJUEVfV0VCSE9PS19TRUNSRVQpO1xuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdwYXltZW50X2ludGVudC5zdWNjZWVkZWQnKSB7XG4gICAgICBjb25zb2xlLmxvZygnUGF5bWVudCBzdWNjZWVkZWQ6JywgZXZlbnQuZGF0YS5vYmplY3QuaWQpO1xuICAgIH1cblxuICAgIHJlcy5qc29uKHsgcmVjZWl2ZWQ6IHRydWUgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcbiAgfVxufSk7XG5cbi8vIEVycm9yIGhhbmRsaW5nIG1pZGRsZXdhcmUgKG11c3QgYmUgbGFzdClcbmFwcC51c2UoZXJyb3JIYW5kbGVyKTtcblxuYXBwLmxpc3RlbihQT1JULCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKGDwn5KwIEF6b3JhIFBheSBydW5uaW5nIG9uIHBvcnQgJHtQT1JUfWApO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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