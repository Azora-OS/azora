{"version":3,"names":["cov_13sp80pxtn","actualCoverage","express","bodyParser","cors","PrismaClient","educationRoutes","authenticateToken","prisma","s","app","port","b","process","env","PORT","use","json","limit","req","res","next","f","get","status","listen","console","log","on","$disconnect","exit"],"sources":["index.ts"],"sourcesContent":["import express from 'express';\nimport bodyParser from 'body-parser';\nimport cors from 'cors';\nimport { PrismaClient } from '@prisma/client';\nimport educationRoutes from './routes/education';\nimport authenticateToken from './middleware/auth';\n\nconst prisma = new PrismaClient();\nconst app = express();\nconst port = process.env.PORT || 4001;\n\napp.use(cors());\napp.use(bodyParser.json({ limit: '1mb' }));\n\n// Inject prisma into requests\napp.use((req, res, next) => {\n  (req as any).prisma = prisma;\n  next();\n});\n\napp.use(authenticateToken);\n\napp.use('/api/sapiens', educationRoutes);\n\napp.get('/health', (req, res) => res.json({ status: 'ok' }));\n\napp.listen(port, () => {\n  console.log(`[sapiens-education-service] running on port ${port}`);\n});\n\nprocess.on('SIGINT', async () => {\n  await prisma.$disconnect();\n  process.exit(0);\n});\n\nexport default app;\n"],"mappings":"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","ignoreList":[]}