{"version":3,"names":["cov_sjp9qfvs5","actualCoverage","UBUNTU_KEYWORDS","DEFAULT_CONFIG","DEFAULT_UBUNTU_CONFIG","s","collectiveBenefitWeight","knowledgeSharingWeight","inclusiveDesignWeight","minScore","UBUNTU_THRESHOLD","strictMode","UbuntuValidator","constructor","config","b","f","validateConfig","totalWeight","Math","abs","Error","validate","output","trim","length","createEmptyResult","collectiveBenefitScore","knowledgeSharingScore","inclusiveDesignScore","Promise","all","checkCollectiveBenefit","checkKnowledgeSharing","checkInclusiveDesign","score","calculateOverallScore","isValid","violations","identifyViolations","suggestions","generateSuggestions","normalizedOutput","toLowerCase","keywords","COLLECTIVE_BENEFIT","matchCount","totalRelevance","keyword","regex","RegExp","matches","match","getKeywordWeight","negativePatterns","negativeScore","pattern","baseScore","min","finalScore","max","round","KNOWLEDGE_SHARING","educationalPatterns","educationalBonus","INCLUSIVE_DESIGN","inclusivePatterns","inclusiveBonus","collectiveBenefit","knowledgeSharing","inclusiveDesign","weightedScore","threshold","push","violation","includes","highImpact","updateConfig","getConfig"],"sources":["ubuntu-validator.ts"],"sourcesContent":["/**\n * Ubuntu Principles Validator\n * Validates AI outputs against Ubuntu principles: collective benefit, knowledge sharing, and inclusive design\n */\n\nimport {\n  IUbuntuValidator,\n  UbuntuValidationResult\n} from '../types';\nimport {\n  UBUNTU_KEYWORDS,\n  DEFAULT_CONFIG\n} from '../utils/constants';\n\n/**\n * Ubuntu Validator Configuration\n */\nexport interface UbuntuValidatorConfig {\n  collectiveBenefitWeight: number; // 0-1\n  knowledgeSharingWeight: number; // 0-1\n  inclusiveDesignWeight: number; // 0-1\n  minScore: number; // 0-100\n  strictMode: boolean;\n}\n\n/**\n * Default configuration\n */\nconst DEFAULT_UBUNTU_CONFIG: UbuntuValidatorConfig = {\n  collectiveBenefitWeight: 0.4,\n  knowledgeSharingWeight: 0.3,\n  inclusiveDesignWeight: 0.3,\n  minScore: DEFAULT_CONFIG.UBUNTU_THRESHOLD,\n  strictMode: false\n};\n\n/**\n * Ubuntu Validator Implementation\n */\nexport class UbuntuValidator implements IUbuntuValidator {\n  private config: UbuntuValidatorConfig;\n\n  constructor(config: Partial<UbuntuValidatorConfig> = {}) {\n    this.config = { ...DEFAULT_UBUNTU_CONFIG, ...config };\n    this.validateConfig();\n  }\n\n  /**\n   * Validate configuration\n   */\n  private validateConfig(): void {\n    const totalWeight = \n      this.config.collectiveBenefitWeight +\n      this.config.knowledgeSharingWeight +\n      this.config.inclusiveDesignWeight;\n\n    if (Math.abs(totalWeight - 1.0) > 0.01) {\n      throw new Error('Ubuntu validator weights must sum to 1.0');\n    }\n  }\n\n  /**\n   * Validate output against all Ubuntu principles\n   */\n  async validate(output: string): Promise<UbuntuValidationResult> {\n    if (!output || output.trim().length === 0) {\n      return this.createEmptyResult();\n    }\n\n    const [collectiveBenefitScore, knowledgeSharingScore, inclusiveDesignScore] = await Promise.all([\n      this.checkCollectiveBenefit(output),\n      this.checkKnowledgeSharing(output),\n      this.checkInclusiveDesign(output)\n    ]);\n\n    const score = this.calculateOverallScore(\n      collectiveBenefitScore,\n      knowledgeSharingScore,\n      inclusiveDesignScore\n    );\n\n    const isValid = score >= this.config.minScore;\n    const violations = this.identifyViolations(\n      collectiveBenefitScore,\n      knowledgeSharingScore,\n      inclusiveDesignScore\n    );\n    const suggestions = this.generateSuggestions(violations);\n\n    return {\n      isValid,\n      violations,\n      score,\n      suggestions,\n      collectiveBenefitScore,\n      knowledgeSharingScore,\n      inclusiveDesignScore\n    };\n  }\n\n  /**\n   * Check collective benefit principle\n   * Evaluates if the output promotes community welfare and shared benefits\n   */\n  async checkCollectiveBenefit(output: string): Promise<number> {\n    const normalizedOutput = output.toLowerCase();\n    const keywords = UBUNTU_KEYWORDS.COLLECTIVE_BENEFIT;\n\n    // Count keyword matches\n    let matchCount = 0;\n    let totalRelevance = 0;\n\n    for (const keyword of keywords) {\n      const regex = new RegExp(`\\\\b${keyword}\\\\b`, 'gi');\n      const matches = normalizedOutput.match(regex);\n      if (matches) {\n        matchCount += matches.length;\n        totalRelevance += matches.length * this.getKeywordWeight(keyword);\n      }\n    }\n\n    // Check for individualistic or selfish language (negative indicators)\n    const negativePatterns = [\n      /\\b(only for me|just for myself|exclusively mine|personal gain only)\\b/gi,\n      /\\b(ignore others|don't share|keep to yourself)\\b/gi\n    ];\n\n    let negativeScore = 0;\n    for (const pattern of negativePatterns) {\n      const matches = normalizedOutput.match(pattern);\n      if (matches) {\n        negativeScore += matches.length * 10;\n      }\n    }\n\n    // Calculate base score from positive indicators\n    const baseScore = Math.min(100, (totalRelevance / keywords.length) * 100);\n    \n    // Apply negative penalty\n    const finalScore = Math.max(0, baseScore - negativeScore);\n\n    return Math.round(finalScore);\n  }\n\n  /**\n   * Check knowledge sharing principle\n   * Evaluates if the output promotes learning, teaching, and information sharing\n   */\n  async checkKnowledgeSharing(output: string): Promise<number> {\n    const normalizedOutput = output.toLowerCase();\n    const keywords = UBUNTU_KEYWORDS.KNOWLEDGE_SHARING;\n\n    let matchCount = 0;\n    let totalRelevance = 0;\n\n    for (const keyword of keywords) {\n      const regex = new RegExp(`\\\\b${keyword}\\\\b`, 'gi');\n      const matches = normalizedOutput.match(regex);\n      if (matches) {\n        matchCount += matches.length;\n        totalRelevance += matches.length * this.getKeywordWeight(keyword);\n      }\n    }\n\n    // Check for knowledge hoarding patterns (negative indicators)\n    const negativePatterns = [\n      /\\b(keep secret|don't tell|hide information|proprietary only)\\b/gi,\n      /\\b(gatekeep|withhold knowledge|restrict access)\\b/gi\n    ];\n\n    let negativeScore = 0;\n    for (const pattern of negativePatterns) {\n      const matches = normalizedOutput.match(pattern);\n      if (matches) {\n        negativeScore += matches.length * 10;\n      }\n    }\n\n    // Check for educational content indicators\n    const educationalPatterns = [\n      /\\b(how to|step by step|tutorial|guide|explanation)\\b/gi,\n      /\\b(let me explain|here's how|you can learn)\\b/gi\n    ];\n\n    let educationalBonus = 0;\n    for (const pattern of educationalPatterns) {\n      const matches = normalizedOutput.match(pattern);\n      if (matches) {\n        educationalBonus += matches.length * 5;\n      }\n    }\n\n    const baseScore = Math.min(100, (totalRelevance / keywords.length) * 100);\n    const finalScore = Math.max(0, Math.min(100, baseScore + educationalBonus - negativeScore));\n\n    return Math.round(finalScore);\n  }\n\n  /**\n   * Check inclusive design principle\n   * Evaluates if the output is accessible, equitable, and considers diverse perspectives\n   */\n  async checkInclusiveDesign(output: string): Promise<number> {\n    const normalizedOutput = output.toLowerCase();\n    const keywords = UBUNTU_KEYWORDS.INCLUSIVE_DESIGN;\n\n    let matchCount = 0;\n    let totalRelevance = 0;\n\n    for (const keyword of keywords) {\n      const regex = new RegExp(`\\\\b${keyword}\\\\b`, 'gi');\n      const matches = normalizedOutput.match(regex);\n      if (matches) {\n        matchCount += matches.length;\n        totalRelevance += matches.length * this.getKeywordWeight(keyword);\n      }\n    }\n\n    // Check for exclusionary language (negative indicators)\n    const negativePatterns = [\n      /\\b(only for|exclusively for|not for everyone|limited to)\\b/gi,\n      /\\b(exclude|discriminate|restrict to|barrier)\\b/gi\n    ];\n\n    let negativeScore = 0;\n    for (const pattern of negativePatterns) {\n      const matches = normalizedOutput.match(pattern);\n      if (matches) {\n        negativeScore += matches.length * 10;\n      }\n    }\n\n    // Check for inclusive language patterns (positive indicators)\n    const inclusivePatterns = [\n      /\\b(everyone can|all people|regardless of|no matter)\\b/gi,\n      /\\b(accessible to all|open to everyone|universal)\\b/gi\n    ];\n\n    let inclusiveBonus = 0;\n    for (const pattern of inclusivePatterns) {\n      const matches = normalizedOutput.match(pattern);\n      if (matches) {\n        inclusiveBonus += matches.length * 5;\n      }\n    }\n\n    const baseScore = Math.min(100, (totalRelevance / keywords.length) * 100);\n    const finalScore = Math.max(0, Math.min(100, baseScore + inclusiveBonus - negativeScore));\n\n    return Math.round(finalScore);\n  }\n\n  /**\n   * Calculate overall Ubuntu score from individual principle scores\n   */\n  private calculateOverallScore(\n    collectiveBenefit: number,\n    knowledgeSharing: number,\n    inclusiveDesign: number\n  ): number {\n    const weightedScore =\n      collectiveBenefit * this.config.collectiveBenefitWeight +\n      knowledgeSharing * this.config.knowledgeSharingWeight +\n      inclusiveDesign * this.config.inclusiveDesignWeight;\n\n    return Math.round(weightedScore);\n  }\n\n  /**\n   * Identify which principles are violated\n   */\n  private identifyViolations(\n    collectiveBenefit: number,\n    knowledgeSharing: number,\n    inclusiveDesign: number\n  ): string[] {\n    const violations: string[] = [];\n    const threshold = this.config.minScore;\n\n    if (collectiveBenefit < threshold) {\n      violations.push(\n        `Collective benefit score (${collectiveBenefit}) below threshold (${threshold})`\n      );\n    }\n\n    if (knowledgeSharing < threshold) {\n      violations.push(\n        `Knowledge sharing score (${knowledgeSharing}) below threshold (${threshold})`\n      );\n    }\n\n    if (inclusiveDesign < threshold) {\n      violations.push(\n        `Inclusive design score (${inclusiveDesign}) below threshold (${threshold})`\n      );\n    }\n\n    return violations;\n  }\n\n  /**\n   * Generate suggestions for improving Ubuntu compliance\n   */\n  private generateSuggestions(violations: string[]): string[] {\n    const suggestions: string[] = [];\n\n    for (const violation of violations) {\n      if (violation.includes('Collective benefit')) {\n        suggestions.push(\n          'Consider emphasizing community benefits and shared value',\n          'Highlight how this helps the collective rather than individuals alone'\n        );\n      }\n\n      if (violation.includes('Knowledge sharing')) {\n        suggestions.push(\n          'Add educational content or explanations',\n          'Encourage learning and information sharing',\n          'Make knowledge more accessible and transparent'\n        );\n      }\n\n      if (violation.includes('Inclusive design')) {\n        suggestions.push(\n          'Use more inclusive language that considers diverse perspectives',\n          'Ensure accessibility for all users',\n          'Remove barriers and exclusionary terms'\n        );\n      }\n    }\n\n    return suggestions;\n  }\n\n  /**\n   * Get weight for a keyword based on its importance\n   */\n  private getKeywordWeight(keyword: string): number {\n    // High-impact keywords\n    const highImpact = ['community', 'collective', 'shared', 'inclusive', 'accessible', 'learn', 'teach'];\n    if (highImpact.includes(keyword.toLowerCase())) {\n      return 1.5;\n    }\n\n    // Medium-impact keywords\n    return 1.0;\n  }\n\n  /**\n   * Create empty result for invalid input\n   */\n  private createEmptyResult(): UbuntuValidationResult {\n    return {\n      isValid: false,\n      violations: ['Empty or invalid output provided'],\n      score: 0,\n      suggestions: ['Provide valid output text for validation'],\n      collectiveBenefitScore: 0,\n      knowledgeSharingScore: 0,\n      inclusiveDesignScore: 0\n    };\n  }\n\n  /**\n   * Update validator configuration\n   */\n  updateConfig(config: Partial<UbuntuValidatorConfig>): void {\n    this.config = { ...this.config, ...config };\n    this.validateConfig();\n  }\n\n  /**\n   * Get current configuration\n   */\n  getConfig(): UbuntuValidatorConfig {\n    return { ...this.config };\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}