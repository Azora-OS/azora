b58fef3c3ee0f4ce3fc10425d4e9a7f6
/* istanbul ignore next */
function cov_23glskfs5j() {
  var path = "/workspaces/azora/services/elara-incubator/src/services/template.service.ts";
  var hash = "5195d996212843d8129b4a144a4d7ddb6e64765b";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/workspaces/azora/services/elara-incubator/src/services/template.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 6,
          column: 49
        },
        end: {
          line: 6,
          column: 58
        }
      },
      "1": {
        start: {
          line: 10,
          column: 2
        },
        end: {
          line: 10,
          column: 35
        }
      },
      "2": {
        start: {
          line: 10,
          column: 27
        },
        end: {
          line: 10,
          column: 34
        }
      },
      "3": {
        start: {
          line: 12,
          column: 47
        },
        end: {
          line: 372,
          column: 3
        }
      },
      "4": {
        start: {
          line: 374,
          column: 2
        },
        end: {
          line: 376,
          column: 5
        }
      },
      "5": {
        start: {
          line: 375,
          column: 4
        },
        end: {
          line: 375,
          column: 41
        }
      },
      "6": {
        start: {
          line: 381,
          column: 4
        },
        end: {
          line: 381,
          column: 33
        }
      },
      "7": {
        start: {
          line: 389,
          column: 4
        },
        end: {
          line: 389,
          column: 42
        }
      },
      "8": {
        start: {
          line: 397,
          column: 21
        },
        end: {
          line: 397,
          column: 46
        }
      },
      "9": {
        start: {
          line: 399,
          column: 4
        },
        end: {
          line: 401,
          column: 5
        }
      },
      "10": {
        start: {
          line: 400,
          column: 6
        },
        end: {
          line: 400,
          column: 61
        }
      },
      "11": {
        start: {
          line: 403,
          column: 4
        },
        end: {
          line: 403,
          column: 20
        }
      },
      "12": {
        start: {
          line: 411,
          column: 21
        },
        end: {
          line: 411,
          column: 80
        }
      },
      "13": {
        start: {
          line: 411,
          column: 64
        },
        end: {
          line: 411,
          column: 79
        }
      },
      "14": {
        start: {
          line: 412,
          column: 4
        },
        end: {
          line: 412,
          column: 28
        }
      },
      "15": {
        start: {
          line: 420,
          column: 21
        },
        end: {
          line: 420,
          column: 59
        }
      },
      "16": {
        start: {
          line: 421,
          column: 4
        },
        end: {
          line: 421,
          column: 32
        }
      },
      "17": {
        start: {
          line: 429,
          column: 21
        },
        end: {
          line: 429,
          column: 59
        }
      },
      "18": {
        start: {
          line: 430,
          column: 17
        },
        end: {
          line: 430,
          column: 72
        }
      },
      "19": {
        start: {
          line: 430,
          column: 50
        },
        end: {
          line: 430,
          column: 71
        }
      },
      "20": {
        start: {
          line: 432,
          column: 4
        },
        end: {
          line: 434,
          column: 5
        }
      },
      "21": {
        start: {
          line: 433,
          column: 6
        },
        end: {
          line: 433,
          column: 67
        }
      },
      "22": {
        start: {
          line: 436,
          column: 4
        },
        end: {
          line: 436,
          column: 16
        }
      },
      "23": {
        start: {
          line: 444,
          column: 21
        },
        end: {
          line: 444,
          column: 59
        }
      },
      "24": {
        start: {
          line: 445,
          column: 4
        },
        end: {
          line: 445,
          column: 30
        }
      },
      "25": {
        start: {
          line: 453,
          column: 21
        },
        end: {
          line: 453,
          column: 59
        }
      },
      "26": {
        start: {
          line: 454,
          column: 4
        },
        end: {
          line: 454,
          column: 33
        }
      },
      "27": {
        start: {
          line: 462,
          column: 23
        },
        end: {
          line: 462,
          column: 42
        }
      },
      "28": {
        start: {
          line: 463,
          column: 4
        },
        end: {
          line: 468,
          column: 6
        }
      },
      "29": {
        start: {
          line: 465,
          column: 8
        },
        end: {
          line: 467,
          column: 49
        }
      },
      "30": {
        start: {
          line: 480,
          column: 25
        },
        end: {
          line: 480,
          column: 55
        }
      },
      "31": {
        start: {
          line: 481,
          column: 43
        },
        end: {
          line: 481,
          column: 45
        }
      },
      "32": {
        start: {
          line: 482,
          column: 27
        },
        end: {
          line: 482,
          column: 28
        }
      },
      "33": {
        start: {
          line: 484,
          column: 4
        },
        end: {
          line: 487,
          column: 7
        }
      },
      "34": {
        start: {
          line: 485,
          column: 6
        },
        end: {
          line: 485,
          column: 49
        }
      },
      "35": {
        start: {
          line: 486,
          column: 6
        },
        end: {
          line: 486,
          column: 47
        }
      },
      "36": {
        start: {
          line: 489,
          column: 4
        },
        end: {
          line: 493,
          column: 6
        }
      },
      "37": {
        start: {
          line: 497,
          column: 31
        },
        end: {
          line: 497,
          column: 52
        }
      }
    },
    fnMap: {
      "0": {
        name: "initializeDefaultTemplates",
        decl: {
          start: {
            line: 9,
            column: 9
          },
          end: {
            line: 9,
            column: 35
          }
        },
        loc: {
          start: {
            line: 9,
            column: 44
          },
          end: {
            line: 377,
            column: 1
          }
        },
        line: 9
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 374,
            column: 27
          },
          end: {
            line: 374,
            column: 28
          }
        },
        loc: {
          start: {
            line: 374,
            column: 41
          },
          end: {
            line: 376,
            column: 3
          }
        },
        line: 374
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 380,
            column: 2
          },
          end: {
            line: 380,
            column: 3
          }
        },
        loc: {
          start: {
            line: 380,
            column: 16
          },
          end: {
            line: 382,
            column: 3
          }
        },
        line: 380
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 388,
            column: 2
          },
          end: {
            line: 388,
            column: 3
          }
        },
        loc: {
          start: {
            line: 388,
            column: 52
          },
          end: {
            line: 390,
            column: 3
          }
        },
        line: 388
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 396,
            column: 2
          },
          end: {
            line: 396,
            column: 3
          }
        },
        loc: {
          start: {
            line: 396,
            column: 71
          },
          end: {
            line: 404,
            column: 3
          }
        },
        line: 396
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 410,
            column: 2
          },
          end: {
            line: 410,
            column: 3
          }
        },
        loc: {
          start: {
            line: 410,
            column: 74
          },
          end: {
            line: 413,
            column: 3
          }
        },
        line: 410
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 411,
            column: 57
          },
          end: {
            line: 411,
            column: 58
          }
        },
        loc: {
          start: {
            line: 411,
            column: 64
          },
          end: {
            line: 411,
            column: 79
          }
        },
        line: 411
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 419,
            column: 2
          },
          end: {
            line: 419,
            column: 3
          }
        },
        loc: {
          start: {
            line: 419,
            column: 74
          },
          end: {
            line: 422,
            column: 3
          }
        },
        line: 419
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 428,
            column: 2
          },
          end: {
            line: 428,
            column: 3
          }
        },
        loc: {
          start: {
            line: 428,
            column: 90
          },
          end: {
            line: 437,
            column: 3
          }
        },
        line: 428
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 430,
            column: 43
          },
          end: {
            line: 430,
            column: 44
          }
        },
        loc: {
          start: {
            line: 430,
            column: 50
          },
          end: {
            line: 430,
            column: 71
          }
        },
        line: 430
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 443,
            column: 2
          },
          end: {
            line: 443,
            column: 3
          }
        },
        loc: {
          start: {
            line: 443,
            column: 68
          },
          end: {
            line: 446,
            column: 3
          }
        },
        line: 443
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 452,
            column: 2
          },
          end: {
            line: 452,
            column: 3
          }
        },
        loc: {
          start: {
            line: 452,
            column: 71
          },
          end: {
            line: 455,
            column: 3
          }
        },
        line: 452
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 461,
            column: 2
          },
          end: {
            line: 461,
            column: 3
          }
        },
        loc: {
          start: {
            line: 461,
            column: 68
          },
          end: {
            line: 469,
            column: 3
          }
        },
        line: 461
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 464,
            column: 6
          },
          end: {
            line: 464,
            column: 7
          }
        },
        loc: {
          start: {
            line: 465,
            column: 8
          },
          end: {
            line: 467,
            column: 49
          }
        },
        line: 465
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 475,
            column: 2
          },
          end: {
            line: 475,
            column: 3
          }
        },
        loc: {
          start: {
            line: 479,
            column: 5
          },
          end: {
            line: 494,
            column: 3
          }
        },
        line: 479
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 484,
            column: 25
          },
          end: {
            line: 484,
            column: 26
          }
        },
        loc: {
          start: {
            line: 484,
            column: 32
          },
          end: {
            line: 487,
            column: 5
          }
        },
        line: 484
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 10,
            column: 2
          },
          end: {
            line: 10,
            column: 35
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 10,
            column: 2
          },
          end: {
            line: 10,
            column: 35
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 10
      },
      "1": {
        loc: {
          start: {
            line: 399,
            column: 4
          },
          end: {
            line: 401,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 399,
            column: 4
          },
          end: {
            line: 401,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 399
      },
      "2": {
        loc: {
          start: {
            line: 412,
            column: 11
          },
          end: {
            line: 412,
            column: 27
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 412,
            column: 11
          },
          end: {
            line: 412,
            column: 19
          }
        }, {
          start: {
            line: 412,
            column: 23
          },
          end: {
            line: 412,
            column: 27
          }
        }],
        line: 412
      },
      "3": {
        loc: {
          start: {
            line: 432,
            column: 4
          },
          end: {
            line: 434,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 432,
            column: 4
          },
          end: {
            line: 434,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 432
      },
      "4": {
        loc: {
          start: {
            line: 465,
            column: 8
          },
          end: {
            line: 467,
            column: 49
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 465,
            column: 8
          },
          end: {
            line: 465,
            column: 49
          }
        }, {
          start: {
            line: 466,
            column: 8
          },
          end: {
            line: 466,
            column: 56
          }
        }, {
          start: {
            line: 467,
            column: 8
          },
          end: {
            line: 467,
            column: 49
          }
        }],
        line: 465
      },
      "5": {
        loc: {
          start: {
            line: 485,
            column: 24
          },
          end: {
            line: 485,
            column: 43
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 485,
            column: 24
          },
          end: {
            line: 485,
            column: 38
          }
        }, {
          start: {
            line: 485,
            column: 42
          },
          end: {
            line: 485,
            column: 43
          }
        }],
        line: 485
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0, 0],
      "5": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "5195d996212843d8129b4a144a4d7ddb6e64765b"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_23glskfs5j = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_23glskfs5j();
import { generateUUID } from '../utils/uuid.js';
import { AppError } from '../middleware/errorHandler.js';

// Mock database - replace with actual database calls
const templates =
/* istanbul ignore next */
(cov_23glskfs5j().s[0]++, new Map());

// Initialize default templates
function initializeDefaultTemplates() {
  /* istanbul ignore next */
  cov_23glskfs5j().f[0]++;
  cov_23glskfs5j().s[1]++;
  if (templates.size > 0) {
    /* istanbul ignore next */
    cov_23glskfs5j().b[0][0]++;
    cov_23glskfs5j().s[2]++;
    return;
  } else
  /* istanbul ignore next */
  {
    cov_23glskfs5j().b[0][1]++;
  }
  const defaultTemplates =
  /* istanbul ignore next */
  (cov_23glskfs5j().s[3]++, [{
    id: generateUUID(),
    name: 'Ride-Sharing Platform',
    description: 'Launch a peer-to-peer ride-sharing service',
    type: 'ride-sharing',
    requirements: ['Vehicle verification system', 'Driver background checks', 'Insurance coverage', 'GPS tracking', 'Payment processing'],
    resources: ['Ride-sharing legal templates', 'Insurance provider contacts', 'Driver onboarding guide', 'Customer support playbook'],
    wizardSteps: [{
      id: generateUUID(),
      name: 'Market Research',
      description: 'Analyze your local ride-sharing market',
      requirements: ['Market size analysis', 'Competitor analysis'],
      resources: ['Market research template'],
      elaraPrompt: 'Help me analyze the ride-sharing market in my area',
      validationRules: [{
        field: 'marketSize',
        type: 'number',
        required: true,
        message: 'Market size estimate is required'
      }],
      order: 0
    }, {
      id: generateUUID(),
      name: 'Driver Recruitment',
      description: 'Build your driver network',
      requirements: ['Driver recruitment strategy', 'Incentive structure'],
      resources: ['Driver recruitment guide'],
      elaraPrompt: 'Help me create a driver recruitment strategy',
      validationRules: [{
        field: 'driverTarget',
        type: 'number',
        required: true,
        message: 'Target number of drivers is required'
      }],
      order: 1
    }, {
      id: generateUUID(),
      name: 'Technology Setup',
      description: 'Set up your platform technology',
      requirements: ['App development', 'Backend infrastructure'],
      resources: ['Tech stack recommendations'],
      elaraPrompt: 'Help me plan my technology infrastructure',
      validationRules: [{
        field: 'techStack',
        type: 'string',
        required: true,
        message: 'Technology stack selection is required'
      }],
      order: 2
    }],
    createdAt: new Date(),
    updatedAt: new Date()
  }, {
    id: generateUUID(),
    name: 'Tutoring Service',
    description: 'Create an online or in-person tutoring platform',
    type: 'tutoring',
    requirements: ['Tutor vetting process', 'Subject matter expertise verification', 'Student progress tracking', 'Scheduling system', 'Payment processing'],
    resources: ['Tutor onboarding checklist', 'Curriculum templates', 'Student assessment tools', 'Marketing materials'],
    wizardSteps: [{
      id: generateUUID(),
      name: 'Subject Selection',
      description: 'Choose your tutoring subjects',
      requirements: ['Subject expertise', 'Target grade levels'],
      resources: ['Subject selection guide'],
      elaraPrompt: 'Help me choose the right subjects to tutor',
      validationRules: [{
        field: 'subjects',
        type: 'string',
        required: true,
        message: 'At least one subject is required'
      }],
      order: 0
    }, {
      id: generateUUID(),
      name: 'Tutor Recruitment',
      description: 'Build your tutor network',
      requirements: ['Tutor vetting', 'Compensation structure'],
      resources: ['Tutor recruitment guide'],
      elaraPrompt: 'Help me recruit and vet tutors',
      validationRules: [{
        field: 'tutorCount',
        type: 'number',
        required: true,
        message: 'Target tutor count is required'
      }],
      order: 1
    }, {
      id: generateUUID(),
      name: 'Platform Setup',
      description: 'Set up your tutoring platform',
      requirements: ['Scheduling system', 'Payment processing'],
      resources: ['Platform setup guide'],
      elaraPrompt: 'Help me set up my tutoring platform',
      validationRules: [{
        field: 'platformType',
        type: 'string',
        required: true,
        message: 'Platform type (online/in-person) is required'
      }],
      order: 2
    }],
    createdAt: new Date(),
    updatedAt: new Date()
  }, {
    id: generateUUID(),
    name: 'E-Commerce Store',
    description: 'Build an online retail business',
    type: 'e-commerce',
    requirements: ['Product sourcing', 'Inventory management', 'Payment gateway', 'Shipping integration', 'Customer service'],
    resources: ['E-commerce platform comparison', 'Supplier directory', 'Inventory management tools', 'Shipping provider contacts'],
    wizardSteps: [{
      id: generateUUID(),
      name: 'Product Selection',
      description: 'Choose your product niche',
      requirements: ['Product research', 'Supplier identification'],
      resources: ['Product research guide'],
      elaraPrompt: 'Help me find the right product niche',
      validationRules: [{
        field: 'productNiche',
        type: 'string',
        required: true,
        message: 'Product niche is required'
      }],
      order: 0
    }, {
      id: generateUUID(),
      name: 'Supplier Setup',
      description: 'Establish supplier relationships',
      requirements: ['Supplier contracts', 'Pricing agreements'],
      resources: ['Supplier negotiation guide'],
      elaraPrompt: 'Help me find and negotiate with suppliers',
      validationRules: [{
        field: 'supplierCount',
        type: 'number',
        required: true,
        message: 'Number of suppliers is required'
      }],
      order: 1
    }, {
      id: generateUUID(),
      name: 'Store Launch',
      description: 'Launch your online store',
      requirements: ['Platform setup', 'Product listings'],
      resources: ['Store setup guide'],
      elaraPrompt: 'Help me launch my e-commerce store',
      validationRules: [{
        field: 'platform',
        type: 'string',
        required: true,
        message: 'E-commerce platform selection is required'
      }],
      order: 2
    }],
    createdAt: new Date(),
    updatedAt: new Date()
  }, {
    id: generateUUID(),
    name: 'Gig Platform',
    description: 'Create a marketplace for freelance services',
    type: 'gig-platform',
    requirements: ['Service provider vetting', 'Quality assurance', 'Dispute resolution', 'Payment escrow', 'Rating system'],
    resources: ['Gig platform best practices', 'Service provider onboarding', 'Quality standards guide', 'Dispute resolution procedures'],
    wizardSteps: [{
      id: generateUUID(),
      name: 'Service Definition',
      description: 'Define the services on your platform',
      requirements: ['Service categories', 'Quality standards'],
      resources: ['Service definition guide'],
      elaraPrompt: 'Help me define the services for my gig platform',
      validationRules: [{
        field: 'serviceCategories',
        type: 'string',
        required: true,
        message: 'Service categories are required'
      }],
      order: 0
    }, {
      id: generateUUID(),
      name: 'Provider Recruitment',
      description: 'Build your service provider network',
      requirements: ['Vetting process', 'Onboarding'],
      resources: ['Provider recruitment guide'],
      elaraPrompt: 'Help me recruit service providers',
      validationRules: [{
        field: 'providerTarget',
        type: 'number',
        required: true,
        message: 'Target provider count is required'
      }],
      order: 1
    }, {
      id: generateUUID(),
      name: 'Platform Operations',
      description: 'Set up platform operations',
      requirements: ['Payment system', 'Support structure'],
      resources: ['Operations guide'],
      elaraPrompt: 'Help me set up platform operations',
      validationRules: [{
        field: 'operationsModel',
        type: 'string',
        required: true,
        message: 'Operations model is required'
      }],
      order: 2
    }],
    createdAt: new Date(),
    updatedAt: new Date()
  }, {
    id: generateUUID(),
    name: 'Custom Business',
    description: 'Define your own business model',
    type: 'custom',
    requirements: ['Business model definition', 'Market validation'],
    resources: ['Business model canvas', 'Lean startup guide'],
    wizardSteps: [{
      id: generateUUID(),
      name: 'Business Model',
      description: 'Define your business model',
      requirements: ['Value proposition', 'Revenue model'],
      resources: ['Business model canvas'],
      elaraPrompt: 'Help me define my business model',
      validationRules: [{
        field: 'businessModel',
        type: 'string',
        required: true,
        message: 'Business model description is required'
      }],
      order: 0
    }, {
      id: generateUUID(),
      name: 'Market Validation',
      description: 'Validate your market opportunity',
      requirements: ['Customer interviews', 'Market research'],
      resources: ['Validation guide'],
      elaraPrompt: 'Help me validate my market opportunity',
      validationRules: [{
        field: 'validationResults',
        type: 'string',
        required: true,
        message: 'Validation results are required'
      }],
      order: 1
    }, {
      id: generateUUID(),
      name: 'Go-to-Market',
      description: 'Plan your go-to-market strategy',
      requirements: ['Marketing plan', 'Launch timeline'],
      resources: ['GTM template'],
      elaraPrompt: 'Help me plan my go-to-market strategy',
      validationRules: [{
        field: 'gtmStrategy',
        type: 'string',
        required: true,
        message: 'Go-to-market strategy is required'
      }],
      order: 2
    }],
    createdAt: new Date(),
    updatedAt: new Date()
  }]);
  /* istanbul ignore next */
  cov_23glskfs5j().s[4]++;
  defaultTemplates.forEach(template => {
    /* istanbul ignore next */
    cov_23glskfs5j().f[1]++;
    cov_23glskfs5j().s[5]++;
    templates.set(template.id, template);
  });
}
export class TemplateService {
  constructor() {
    /* istanbul ignore next */
    cov_23glskfs5j().f[2]++;
    cov_23glskfs5j().s[6]++;
    initializeDefaultTemplates();
  }

  /**
   * Get all business templates
   * Requirements: 1.1, 1.3
   */
  async getTemplates() {
    /* istanbul ignore next */
    cov_23glskfs5j().f[3]++;
    cov_23glskfs5j().s[7]++;
    return Array.from(templates.values());
  }

  /**
   * Get template by ID
   * Requirements: 1.1, 1.3
   */
  async getTemplateById(templateId) {
    /* istanbul ignore next */
    cov_23glskfs5j().f[4]++;
    const template =
    /* istanbul ignore next */
    (cov_23glskfs5j().s[8]++, templates.get(templateId));
    /* istanbul ignore next */
    cov_23glskfs5j().s[9]++;
    if (!template) {
      /* istanbul ignore next */
      cov_23glskfs5j().b[1][0]++;
      cov_23glskfs5j().s[10]++;
      throw new AppError(404, 'Business template not found');
    } else
    /* istanbul ignore next */
    {
      cov_23glskfs5j().b[1][1]++;
    }
    cov_23glskfs5j().s[11]++;
    return template;
  }

  /**
   * Get template by type
   * Requirements: 1.1, 1.3
   */
  async getTemplateByType(type) {
    /* istanbul ignore next */
    cov_23glskfs5j().f[5]++;
    const template =
    /* istanbul ignore next */
    (cov_23glskfs5j().s[12]++, Array.from(templates.values()).find(t => {
      /* istanbul ignore next */
      cov_23glskfs5j().f[6]++;
      cov_23glskfs5j().s[13]++;
      return t.type === type;
    }));
    /* istanbul ignore next */
    cov_23glskfs5j().s[14]++;
    return /* istanbul ignore next */(cov_23glskfs5j().b[2][0]++, template) ||
    /* istanbul ignore next */
    (cov_23glskfs5j().b[2][1]++, null);
  }

  /**
   * Get wizard steps for a template
   * Requirements: 1.2, 1.3
   */
  async getTemplateWizardSteps(templateId) {
    /* istanbul ignore next */
    cov_23glskfs5j().f[7]++;
    const template =
    /* istanbul ignore next */
    (cov_23glskfs5j().s[15]++, await this.getTemplateById(templateId));
    /* istanbul ignore next */
    cov_23glskfs5j().s[16]++;
    return template.wizardSteps;
  }

  /**
   * Get specific wizard step from template
   * Requirements: 1.2, 1.3
   */
  async getTemplateWizardStep(templateId, stepOrder) {
    /* istanbul ignore next */
    cov_23glskfs5j().f[8]++;
    const template =
    /* istanbul ignore next */
    (cov_23glskfs5j().s[17]++, await this.getTemplateById(templateId));
    const step =
    /* istanbul ignore next */
    (cov_23glskfs5j().s[18]++, template.wizardSteps.find(s => {
      /* istanbul ignore next */
      cov_23glskfs5j().f[9]++;
      cov_23glskfs5j().s[19]++;
      return s.order === stepOrder;
    }));
    /* istanbul ignore next */
    cov_23glskfs5j().s[20]++;
    if (!step) {
      /* istanbul ignore next */
      cov_23glskfs5j().b[3][0]++;
      cov_23glskfs5j().s[21]++;
      throw new AppError(404, 'Wizard step not found in template');
    } else
    /* istanbul ignore next */
    {
      cov_23glskfs5j().b[3][1]++;
    }
    cov_23glskfs5j().s[22]++;
    return step;
  }

  /**
   * Get template resources
   * Requirements: 1.1, 1.3
   */
  async getTemplateResources(templateId) {
    /* istanbul ignore next */
    cov_23glskfs5j().f[10]++;
    const template =
    /* istanbul ignore next */
    (cov_23glskfs5j().s[23]++, await this.getTemplateById(templateId));
    /* istanbul ignore next */
    cov_23glskfs5j().s[24]++;
    return template.resources;
  }

  /**
   * Get template requirements
   * Requirements: 1.1, 1.3
   */
  async getTemplateRequirements(templateId) {
    /* istanbul ignore next */
    cov_23glskfs5j().f[11]++;
    const template =
    /* istanbul ignore next */
    (cov_23glskfs5j().s[25]++, await this.getTemplateById(templateId));
    /* istanbul ignore next */
    cov_23glskfs5j().s[26]++;
    return template.requirements;
  }

  /**
   * Search templates by type
   * Requirements: 1.1, 1.3
   */
  async searchTemplates(query) {
    /* istanbul ignore next */
    cov_23glskfs5j().f[12]++;
    const lowerQuery =
    /* istanbul ignore next */
    (cov_23glskfs5j().s[27]++, query.toLowerCase());
    /* istanbul ignore next */
    cov_23glskfs5j().s[28]++;
    return Array.from(templates.values()).filter(t => {
      /* istanbul ignore next */
      cov_23glskfs5j().f[13]++;
      cov_23glskfs5j().s[29]++;
      return /* istanbul ignore next */(cov_23glskfs5j().b[4][0]++, t.name.toLowerCase().includes(lowerQuery)) ||
      /* istanbul ignore next */
      (cov_23glskfs5j().b[4][1]++, t.description.toLowerCase().includes(lowerQuery)) ||
      /* istanbul ignore next */
      (cov_23glskfs5j().b[4][2]++, t.type.toLowerCase().includes(lowerQuery));
    });
  }

  /**
   * Get template statistics
   * Requirements: 1.1, 1.3
   */
  async getTemplateStats() {
    /* istanbul ignore next */
    cov_23glskfs5j().f[14]++;
    const allTemplates =
    /* istanbul ignore next */
    (cov_23glskfs5j().s[30]++, Array.from(templates.values()));
    const byType =
    /* istanbul ignore next */
    (cov_23glskfs5j().s[31]++, {});
    let totalWizardSteps =
    /* istanbul ignore next */
    (cov_23glskfs5j().s[32]++, 0);
    /* istanbul ignore next */
    cov_23glskfs5j().s[33]++;
    allTemplates.forEach(t => {
      /* istanbul ignore next */
      cov_23glskfs5j().f[15]++;
      cov_23glskfs5j().s[34]++;
      byType[t.type] = (
      /* istanbul ignore next */
      (cov_23glskfs5j().b[5][0]++, byType[t.type]) ||
      /* istanbul ignore next */
      (cov_23glskfs5j().b[5][1]++, 0)) + 1;
      /* istanbul ignore next */
      cov_23glskfs5j().s[35]++;
      totalWizardSteps += t.wizardSteps.length;
    });
    /* istanbul ignore next */
    cov_23glskfs5j().s[36]++;
    return {
      totalTemplates: allTemplates.length,
      byType,
      totalWizardSteps
    };
  }
}
export const templateService =
/* istanbul ignore next */
(cov_23glskfs5j().s[37]++, new TemplateService());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjNnbHNrZnM1aiIsImFjdHVhbENvdmVyYWdlIiwiZ2VuZXJhdGVVVUlEIiwiQXBwRXJyb3IiLCJ0ZW1wbGF0ZXMiLCJzIiwiTWFwIiwiaW5pdGlhbGl6ZURlZmF1bHRUZW1wbGF0ZXMiLCJmIiwic2l6ZSIsImIiLCJkZWZhdWx0VGVtcGxhdGVzIiwiaWQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJ0eXBlIiwicmVxdWlyZW1lbnRzIiwicmVzb3VyY2VzIiwid2l6YXJkU3RlcHMiLCJlbGFyYVByb21wdCIsInZhbGlkYXRpb25SdWxlcyIsImZpZWxkIiwicmVxdWlyZWQiLCJtZXNzYWdlIiwib3JkZXIiLCJjcmVhdGVkQXQiLCJEYXRlIiwidXBkYXRlZEF0IiwiZm9yRWFjaCIsInRlbXBsYXRlIiwic2V0IiwiVGVtcGxhdGVTZXJ2aWNlIiwiY29uc3RydWN0b3IiLCJnZXRUZW1wbGF0ZXMiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJnZXRUZW1wbGF0ZUJ5SWQiLCJ0ZW1wbGF0ZUlkIiwiZ2V0IiwiZ2V0VGVtcGxhdGVCeVR5cGUiLCJmaW5kIiwidCIsImdldFRlbXBsYXRlV2l6YXJkU3RlcHMiLCJnZXRUZW1wbGF0ZVdpemFyZFN0ZXAiLCJzdGVwT3JkZXIiLCJzdGVwIiwiZ2V0VGVtcGxhdGVSZXNvdXJjZXMiLCJnZXRUZW1wbGF0ZVJlcXVpcmVtZW50cyIsInNlYXJjaFRlbXBsYXRlcyIsInF1ZXJ5IiwibG93ZXJRdWVyeSIsInRvTG93ZXJDYXNlIiwiZmlsdGVyIiwiaW5jbHVkZXMiLCJnZXRUZW1wbGF0ZVN0YXRzIiwiYWxsVGVtcGxhdGVzIiwiYnlUeXBlIiwidG90YWxXaXphcmRTdGVwcyIsImxlbmd0aCIsInRvdGFsVGVtcGxhdGVzIiwidGVtcGxhdGVTZXJ2aWNlIl0sInNvdXJjZXMiOlsidGVtcGxhdGUuc2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi91dGlscy91dWlkLmpzJztcbmltcG9ydCB7IEJ1c2luZXNzVGVtcGxhdGUsIFdpemFyZFN0ZXAgfSBmcm9tICcuLi90eXBlcy9pbmRleC5qcyc7XG5pbXBvcnQgeyBBcHBFcnJvciB9IGZyb20gJy4uL21pZGRsZXdhcmUvZXJyb3JIYW5kbGVyLmpzJztcblxuLy8gTW9jayBkYXRhYmFzZSAtIHJlcGxhY2Ugd2l0aCBhY3R1YWwgZGF0YWJhc2UgY2FsbHNcbmNvbnN0IHRlbXBsYXRlczogTWFwPHN0cmluZywgQnVzaW5lc3NUZW1wbGF0ZT4gPSBuZXcgTWFwKCk7XG5cbi8vIEluaXRpYWxpemUgZGVmYXVsdCB0ZW1wbGF0ZXNcbmZ1bmN0aW9uIGluaXRpYWxpemVEZWZhdWx0VGVtcGxhdGVzKCk6IHZvaWQge1xuICBpZiAodGVtcGxhdGVzLnNpemUgPiAwKSB7cmV0dXJuO31cblxuICBjb25zdCBkZWZhdWx0VGVtcGxhdGVzOiBCdXNpbmVzc1RlbXBsYXRlW10gPSBbXG4gICAge1xuICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgbmFtZTogJ1JpZGUtU2hhcmluZyBQbGF0Zm9ybScsXG4gICAgICBkZXNjcmlwdGlvbjogJ0xhdW5jaCBhIHBlZXItdG8tcGVlciByaWRlLXNoYXJpbmcgc2VydmljZScsXG4gICAgICB0eXBlOiAncmlkZS1zaGFyaW5nJyxcbiAgICAgIHJlcXVpcmVtZW50czogW1xuICAgICAgICAnVmVoaWNsZSB2ZXJpZmljYXRpb24gc3lzdGVtJyxcbiAgICAgICAgJ0RyaXZlciBiYWNrZ3JvdW5kIGNoZWNrcycsXG4gICAgICAgICdJbnN1cmFuY2UgY292ZXJhZ2UnLFxuICAgICAgICAnR1BTIHRyYWNraW5nJyxcbiAgICAgICAgJ1BheW1lbnQgcHJvY2Vzc2luZycsXG4gICAgICBdLFxuICAgICAgcmVzb3VyY2VzOiBbXG4gICAgICAgICdSaWRlLXNoYXJpbmcgbGVnYWwgdGVtcGxhdGVzJyxcbiAgICAgICAgJ0luc3VyYW5jZSBwcm92aWRlciBjb250YWN0cycsXG4gICAgICAgICdEcml2ZXIgb25ib2FyZGluZyBndWlkZScsXG4gICAgICAgICdDdXN0b21lciBzdXBwb3J0IHBsYXlib29rJyxcbiAgICAgIF0sXG4gICAgICB3aXphcmRTdGVwczogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgICAgIG5hbWU6ICdNYXJrZXQgUmVzZWFyY2gnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQW5hbHl6ZSB5b3VyIGxvY2FsIHJpZGUtc2hhcmluZyBtYXJrZXQnLFxuICAgICAgICAgIHJlcXVpcmVtZW50czogWydNYXJrZXQgc2l6ZSBhbmFseXNpcycsICdDb21wZXRpdG9yIGFuYWx5c2lzJ10sXG4gICAgICAgICAgcmVzb3VyY2VzOiBbJ01hcmtldCByZXNlYXJjaCB0ZW1wbGF0ZSddLFxuICAgICAgICAgIGVsYXJhUHJvbXB0OiAnSGVscCBtZSBhbmFseXplIHRoZSByaWRlLXNoYXJpbmcgbWFya2V0IGluIG15IGFyZWEnLFxuICAgICAgICAgIHZhbGlkYXRpb25SdWxlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBmaWVsZDogJ21hcmtldFNpemUnLFxuICAgICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdNYXJrZXQgc2l6ZSBlc3RpbWF0ZSBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgb3JkZXI6IDAsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVVVUlEKCksXG4gICAgICAgICAgbmFtZTogJ0RyaXZlciBSZWNydWl0bWVudCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdCdWlsZCB5b3VyIGRyaXZlciBuZXR3b3JrJyxcbiAgICAgICAgICByZXF1aXJlbWVudHM6IFsnRHJpdmVyIHJlY3J1aXRtZW50IHN0cmF0ZWd5JywgJ0luY2VudGl2ZSBzdHJ1Y3R1cmUnXSxcbiAgICAgICAgICByZXNvdXJjZXM6IFsnRHJpdmVyIHJlY3J1aXRtZW50IGd1aWRlJ10sXG4gICAgICAgICAgZWxhcmFQcm9tcHQ6ICdIZWxwIG1lIGNyZWF0ZSBhIGRyaXZlciByZWNydWl0bWVudCBzdHJhdGVneScsXG4gICAgICAgICAgdmFsaWRhdGlvblJ1bGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGZpZWxkOiAnZHJpdmVyVGFyZ2V0JyxcbiAgICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiAnVGFyZ2V0IG51bWJlciBvZiBkcml2ZXJzIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBvcmRlcjogMSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBnZW5lcmF0ZVVVSUQoKSxcbiAgICAgICAgICBuYW1lOiAnVGVjaG5vbG9neSBTZXR1cCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTZXQgdXAgeW91ciBwbGF0Zm9ybSB0ZWNobm9sb2d5JyxcbiAgICAgICAgICByZXF1aXJlbWVudHM6IFsnQXBwIGRldmVsb3BtZW50JywgJ0JhY2tlbmQgaW5mcmFzdHJ1Y3R1cmUnXSxcbiAgICAgICAgICByZXNvdXJjZXM6IFsnVGVjaCBzdGFjayByZWNvbW1lbmRhdGlvbnMnXSxcbiAgICAgICAgICBlbGFyYVByb21wdDogJ0hlbHAgbWUgcGxhbiBteSB0ZWNobm9sb2d5IGluZnJhc3RydWN0dXJlJyxcbiAgICAgICAgICB2YWxpZGF0aW9uUnVsZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZmllbGQ6ICd0ZWNoU3RhY2snLFxuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdUZWNobm9sb2d5IHN0YWNrIHNlbGVjdGlvbiBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgb3JkZXI6IDIsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgbmFtZTogJ1R1dG9yaW5nIFNlcnZpY2UnLFxuICAgICAgZGVzY3JpcHRpb246ICdDcmVhdGUgYW4gb25saW5lIG9yIGluLXBlcnNvbiB0dXRvcmluZyBwbGF0Zm9ybScsXG4gICAgICB0eXBlOiAndHV0b3JpbmcnLFxuICAgICAgcmVxdWlyZW1lbnRzOiBbXG4gICAgICAgICdUdXRvciB2ZXR0aW5nIHByb2Nlc3MnLFxuICAgICAgICAnU3ViamVjdCBtYXR0ZXIgZXhwZXJ0aXNlIHZlcmlmaWNhdGlvbicsXG4gICAgICAgICdTdHVkZW50IHByb2dyZXNzIHRyYWNraW5nJyxcbiAgICAgICAgJ1NjaGVkdWxpbmcgc3lzdGVtJyxcbiAgICAgICAgJ1BheW1lbnQgcHJvY2Vzc2luZycsXG4gICAgICBdLFxuICAgICAgcmVzb3VyY2VzOiBbXG4gICAgICAgICdUdXRvciBvbmJvYXJkaW5nIGNoZWNrbGlzdCcsXG4gICAgICAgICdDdXJyaWN1bHVtIHRlbXBsYXRlcycsXG4gICAgICAgICdTdHVkZW50IGFzc2Vzc21lbnQgdG9vbHMnLFxuICAgICAgICAnTWFya2V0aW5nIG1hdGVyaWFscycsXG4gICAgICBdLFxuICAgICAgd2l6YXJkU3RlcHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBnZW5lcmF0ZVVVSUQoKSxcbiAgICAgICAgICBuYW1lOiAnU3ViamVjdCBTZWxlY3Rpb24nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ2hvb3NlIHlvdXIgdHV0b3Jpbmcgc3ViamVjdHMnLFxuICAgICAgICAgIHJlcXVpcmVtZW50czogWydTdWJqZWN0IGV4cGVydGlzZScsICdUYXJnZXQgZ3JhZGUgbGV2ZWxzJ10sXG4gICAgICAgICAgcmVzb3VyY2VzOiBbJ1N1YmplY3Qgc2VsZWN0aW9uIGd1aWRlJ10sXG4gICAgICAgICAgZWxhcmFQcm9tcHQ6ICdIZWxwIG1lIGNob29zZSB0aGUgcmlnaHQgc3ViamVjdHMgdG8gdHV0b3InLFxuICAgICAgICAgIHZhbGlkYXRpb25SdWxlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBmaWVsZDogJ3N1YmplY3RzJyxcbiAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiAnQXQgbGVhc3Qgb25lIHN1YmplY3QgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIG9yZGVyOiAwLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgICAgIG5hbWU6ICdUdXRvciBSZWNydWl0bWVudCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdCdWlsZCB5b3VyIHR1dG9yIG5ldHdvcmsnLFxuICAgICAgICAgIHJlcXVpcmVtZW50czogWydUdXRvciB2ZXR0aW5nJywgJ0NvbXBlbnNhdGlvbiBzdHJ1Y3R1cmUnXSxcbiAgICAgICAgICByZXNvdXJjZXM6IFsnVHV0b3IgcmVjcnVpdG1lbnQgZ3VpZGUnXSxcbiAgICAgICAgICBlbGFyYVByb21wdDogJ0hlbHAgbWUgcmVjcnVpdCBhbmQgdmV0IHR1dG9ycycsXG4gICAgICAgICAgdmFsaWRhdGlvblJ1bGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGZpZWxkOiAndHV0b3JDb3VudCcsXG4gICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ1RhcmdldCB0dXRvciBjb3VudCBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgb3JkZXI6IDEsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVVVUlEKCksXG4gICAgICAgICAgbmFtZTogJ1BsYXRmb3JtIFNldHVwJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NldCB1cCB5b3VyIHR1dG9yaW5nIHBsYXRmb3JtJyxcbiAgICAgICAgICByZXF1aXJlbWVudHM6IFsnU2NoZWR1bGluZyBzeXN0ZW0nLCAnUGF5bWVudCBwcm9jZXNzaW5nJ10sXG4gICAgICAgICAgcmVzb3VyY2VzOiBbJ1BsYXRmb3JtIHNldHVwIGd1aWRlJ10sXG4gICAgICAgICAgZWxhcmFQcm9tcHQ6ICdIZWxwIG1lIHNldCB1cCBteSB0dXRvcmluZyBwbGF0Zm9ybScsXG4gICAgICAgICAgdmFsaWRhdGlvblJ1bGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGZpZWxkOiAncGxhdGZvcm1UeXBlJyxcbiAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiAnUGxhdGZvcm0gdHlwZSAob25saW5lL2luLXBlcnNvbikgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIG9yZGVyOiAyLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBnZW5lcmF0ZVVVSUQoKSxcbiAgICAgIG5hbWU6ICdFLUNvbW1lcmNlIFN0b3JlJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQnVpbGQgYW4gb25saW5lIHJldGFpbCBidXNpbmVzcycsXG4gICAgICB0eXBlOiAnZS1jb21tZXJjZScsXG4gICAgICByZXF1aXJlbWVudHM6IFtcbiAgICAgICAgJ1Byb2R1Y3Qgc291cmNpbmcnLFxuICAgICAgICAnSW52ZW50b3J5IG1hbmFnZW1lbnQnLFxuICAgICAgICAnUGF5bWVudCBnYXRld2F5JyxcbiAgICAgICAgJ1NoaXBwaW5nIGludGVncmF0aW9uJyxcbiAgICAgICAgJ0N1c3RvbWVyIHNlcnZpY2UnLFxuICAgICAgXSxcbiAgICAgIHJlc291cmNlczogW1xuICAgICAgICAnRS1jb21tZXJjZSBwbGF0Zm9ybSBjb21wYXJpc29uJyxcbiAgICAgICAgJ1N1cHBsaWVyIGRpcmVjdG9yeScsXG4gICAgICAgICdJbnZlbnRvcnkgbWFuYWdlbWVudCB0b29scycsXG4gICAgICAgICdTaGlwcGluZyBwcm92aWRlciBjb250YWN0cycsXG4gICAgICBdLFxuICAgICAgd2l6YXJkU3RlcHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBnZW5lcmF0ZVVVSUQoKSxcbiAgICAgICAgICBuYW1lOiAnUHJvZHVjdCBTZWxlY3Rpb24nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ2hvb3NlIHlvdXIgcHJvZHVjdCBuaWNoZScsXG4gICAgICAgICAgcmVxdWlyZW1lbnRzOiBbJ1Byb2R1Y3QgcmVzZWFyY2gnLCAnU3VwcGxpZXIgaWRlbnRpZmljYXRpb24nXSxcbiAgICAgICAgICByZXNvdXJjZXM6IFsnUHJvZHVjdCByZXNlYXJjaCBndWlkZSddLFxuICAgICAgICAgIGVsYXJhUHJvbXB0OiAnSGVscCBtZSBmaW5kIHRoZSByaWdodCBwcm9kdWN0IG5pY2hlJyxcbiAgICAgICAgICB2YWxpZGF0aW9uUnVsZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZmllbGQ6ICdwcm9kdWN0TmljaGUnLFxuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdQcm9kdWN0IG5pY2hlIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBvcmRlcjogMCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBnZW5lcmF0ZVVVSUQoKSxcbiAgICAgICAgICBuYW1lOiAnU3VwcGxpZXIgU2V0dXAnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRXN0YWJsaXNoIHN1cHBsaWVyIHJlbGF0aW9uc2hpcHMnLFxuICAgICAgICAgIHJlcXVpcmVtZW50czogWydTdXBwbGllciBjb250cmFjdHMnLCAnUHJpY2luZyBhZ3JlZW1lbnRzJ10sXG4gICAgICAgICAgcmVzb3VyY2VzOiBbJ1N1cHBsaWVyIG5lZ290aWF0aW9uIGd1aWRlJ10sXG4gICAgICAgICAgZWxhcmFQcm9tcHQ6ICdIZWxwIG1lIGZpbmQgYW5kIG5lZ290aWF0ZSB3aXRoIHN1cHBsaWVycycsXG4gICAgICAgICAgdmFsaWRhdGlvblJ1bGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGZpZWxkOiAnc3VwcGxpZXJDb3VudCcsXG4gICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ051bWJlciBvZiBzdXBwbGllcnMgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIG9yZGVyOiAxLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgICAgIG5hbWU6ICdTdG9yZSBMYXVuY2gnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTGF1bmNoIHlvdXIgb25saW5lIHN0b3JlJyxcbiAgICAgICAgICByZXF1aXJlbWVudHM6IFsnUGxhdGZvcm0gc2V0dXAnLCAnUHJvZHVjdCBsaXN0aW5ncyddLFxuICAgICAgICAgIHJlc291cmNlczogWydTdG9yZSBzZXR1cCBndWlkZSddLFxuICAgICAgICAgIGVsYXJhUHJvbXB0OiAnSGVscCBtZSBsYXVuY2ggbXkgZS1jb21tZXJjZSBzdG9yZScsXG4gICAgICAgICAgdmFsaWRhdGlvblJ1bGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGZpZWxkOiAncGxhdGZvcm0nLFxuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdFLWNvbW1lcmNlIHBsYXRmb3JtIHNlbGVjdGlvbiBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgb3JkZXI6IDIsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgbmFtZTogJ0dpZyBQbGF0Zm9ybScsXG4gICAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZSBhIG1hcmtldHBsYWNlIGZvciBmcmVlbGFuY2Ugc2VydmljZXMnLFxuICAgICAgdHlwZTogJ2dpZy1wbGF0Zm9ybScsXG4gICAgICByZXF1aXJlbWVudHM6IFtcbiAgICAgICAgJ1NlcnZpY2UgcHJvdmlkZXIgdmV0dGluZycsXG4gICAgICAgICdRdWFsaXR5IGFzc3VyYW5jZScsXG4gICAgICAgICdEaXNwdXRlIHJlc29sdXRpb24nLFxuICAgICAgICAnUGF5bWVudCBlc2Nyb3cnLFxuICAgICAgICAnUmF0aW5nIHN5c3RlbScsXG4gICAgICBdLFxuICAgICAgcmVzb3VyY2VzOiBbXG4gICAgICAgICdHaWcgcGxhdGZvcm0gYmVzdCBwcmFjdGljZXMnLFxuICAgICAgICAnU2VydmljZSBwcm92aWRlciBvbmJvYXJkaW5nJyxcbiAgICAgICAgJ1F1YWxpdHkgc3RhbmRhcmRzIGd1aWRlJyxcbiAgICAgICAgJ0Rpc3B1dGUgcmVzb2x1dGlvbiBwcm9jZWR1cmVzJyxcbiAgICAgIF0sXG4gICAgICB3aXphcmRTdGVwczogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgICAgIG5hbWU6ICdTZXJ2aWNlIERlZmluaXRpb24nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGVmaW5lIHRoZSBzZXJ2aWNlcyBvbiB5b3VyIHBsYXRmb3JtJyxcbiAgICAgICAgICByZXF1aXJlbWVudHM6IFsnU2VydmljZSBjYXRlZ29yaWVzJywgJ1F1YWxpdHkgc3RhbmRhcmRzJ10sXG4gICAgICAgICAgcmVzb3VyY2VzOiBbJ1NlcnZpY2UgZGVmaW5pdGlvbiBndWlkZSddLFxuICAgICAgICAgIGVsYXJhUHJvbXB0OiAnSGVscCBtZSBkZWZpbmUgdGhlIHNlcnZpY2VzIGZvciBteSBnaWcgcGxhdGZvcm0nLFxuICAgICAgICAgIHZhbGlkYXRpb25SdWxlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBmaWVsZDogJ3NlcnZpY2VDYXRlZ29yaWVzJyxcbiAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiAnU2VydmljZSBjYXRlZ29yaWVzIGFyZSByZXF1aXJlZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgb3JkZXI6IDAsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVVVUlEKCksXG4gICAgICAgICAgbmFtZTogJ1Byb3ZpZGVyIFJlY3J1aXRtZW50JyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0J1aWxkIHlvdXIgc2VydmljZSBwcm92aWRlciBuZXR3b3JrJyxcbiAgICAgICAgICByZXF1aXJlbWVudHM6IFsnVmV0dGluZyBwcm9jZXNzJywgJ09uYm9hcmRpbmcnXSxcbiAgICAgICAgICByZXNvdXJjZXM6IFsnUHJvdmlkZXIgcmVjcnVpdG1lbnQgZ3VpZGUnXSxcbiAgICAgICAgICBlbGFyYVByb21wdDogJ0hlbHAgbWUgcmVjcnVpdCBzZXJ2aWNlIHByb3ZpZGVycycsXG4gICAgICAgICAgdmFsaWRhdGlvblJ1bGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGZpZWxkOiAncHJvdmlkZXJUYXJnZXQnLFxuICAgICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdUYXJnZXQgcHJvdmlkZXIgY291bnQgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIG9yZGVyOiAxLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgICAgIG5hbWU6ICdQbGF0Zm9ybSBPcGVyYXRpb25zJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NldCB1cCBwbGF0Zm9ybSBvcGVyYXRpb25zJyxcbiAgICAgICAgICByZXF1aXJlbWVudHM6IFsnUGF5bWVudCBzeXN0ZW0nLCAnU3VwcG9ydCBzdHJ1Y3R1cmUnXSxcbiAgICAgICAgICByZXNvdXJjZXM6IFsnT3BlcmF0aW9ucyBndWlkZSddLFxuICAgICAgICAgIGVsYXJhUHJvbXB0OiAnSGVscCBtZSBzZXQgdXAgcGxhdGZvcm0gb3BlcmF0aW9ucycsXG4gICAgICAgICAgdmFsaWRhdGlvblJ1bGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGZpZWxkOiAnb3BlcmF0aW9uc01vZGVsJyxcbiAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiAnT3BlcmF0aW9ucyBtb2RlbCBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgb3JkZXI6IDIsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgbmFtZTogJ0N1c3RvbSBCdXNpbmVzcycsXG4gICAgICBkZXNjcmlwdGlvbjogJ0RlZmluZSB5b3VyIG93biBidXNpbmVzcyBtb2RlbCcsXG4gICAgICB0eXBlOiAnY3VzdG9tJyxcbiAgICAgIHJlcXVpcmVtZW50czogWydCdXNpbmVzcyBtb2RlbCBkZWZpbml0aW9uJywgJ01hcmtldCB2YWxpZGF0aW9uJ10sXG4gICAgICByZXNvdXJjZXM6IFsnQnVzaW5lc3MgbW9kZWwgY2FudmFzJywgJ0xlYW4gc3RhcnR1cCBndWlkZSddLFxuICAgICAgd2l6YXJkU3RlcHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBnZW5lcmF0ZVVVSUQoKSxcbiAgICAgICAgICBuYW1lOiAnQnVzaW5lc3MgTW9kZWwnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGVmaW5lIHlvdXIgYnVzaW5lc3MgbW9kZWwnLFxuICAgICAgICAgIHJlcXVpcmVtZW50czogWydWYWx1ZSBwcm9wb3NpdGlvbicsICdSZXZlbnVlIG1vZGVsJ10sXG4gICAgICAgICAgcmVzb3VyY2VzOiBbJ0J1c2luZXNzIG1vZGVsIGNhbnZhcyddLFxuICAgICAgICAgIGVsYXJhUHJvbXB0OiAnSGVscCBtZSBkZWZpbmUgbXkgYnVzaW5lc3MgbW9kZWwnLFxuICAgICAgICAgIHZhbGlkYXRpb25SdWxlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBmaWVsZDogJ2J1c2luZXNzTW9kZWwnLFxuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdCdXNpbmVzcyBtb2RlbCBkZXNjcmlwdGlvbiBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgb3JkZXI6IDAsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVVVUlEKCksXG4gICAgICAgICAgbmFtZTogJ01hcmtldCBWYWxpZGF0aW9uJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1ZhbGlkYXRlIHlvdXIgbWFya2V0IG9wcG9ydHVuaXR5JyxcbiAgICAgICAgICByZXF1aXJlbWVudHM6IFsnQ3VzdG9tZXIgaW50ZXJ2aWV3cycsICdNYXJrZXQgcmVzZWFyY2gnXSxcbiAgICAgICAgICByZXNvdXJjZXM6IFsnVmFsaWRhdGlvbiBndWlkZSddLFxuICAgICAgICAgIGVsYXJhUHJvbXB0OiAnSGVscCBtZSB2YWxpZGF0ZSBteSBtYXJrZXQgb3Bwb3J0dW5pdHknLFxuICAgICAgICAgIHZhbGlkYXRpb25SdWxlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBmaWVsZDogJ3ZhbGlkYXRpb25SZXN1bHRzJyxcbiAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiAnVmFsaWRhdGlvbiByZXN1bHRzIGFyZSByZXF1aXJlZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgb3JkZXI6IDEsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVVVUlEKCksXG4gICAgICAgICAgbmFtZTogJ0dvLXRvLU1hcmtldCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdQbGFuIHlvdXIgZ28tdG8tbWFya2V0IHN0cmF0ZWd5JyxcbiAgICAgICAgICByZXF1aXJlbWVudHM6IFsnTWFya2V0aW5nIHBsYW4nLCAnTGF1bmNoIHRpbWVsaW5lJ10sXG4gICAgICAgICAgcmVzb3VyY2VzOiBbJ0dUTSB0ZW1wbGF0ZSddLFxuICAgICAgICAgIGVsYXJhUHJvbXB0OiAnSGVscCBtZSBwbGFuIG15IGdvLXRvLW1hcmtldCBzdHJhdGVneScsXG4gICAgICAgICAgdmFsaWRhdGlvblJ1bGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGZpZWxkOiAnZ3RtU3RyYXRlZ3knLFxuICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdHby10by1tYXJrZXQgc3RyYXRlZ3kgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIG9yZGVyOiAyLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB9LFxuICBdO1xuXG4gIGRlZmF1bHRUZW1wbGF0ZXMuZm9yRWFjaCgodGVtcGxhdGUpID0+IHtcbiAgICB0ZW1wbGF0ZXMuc2V0KHRlbXBsYXRlLmlkLCB0ZW1wbGF0ZSk7XG4gIH0pO1xufVxuXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgaW5pdGlhbGl6ZURlZmF1bHRUZW1wbGF0ZXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGJ1c2luZXNzIHRlbXBsYXRlc1xuICAgKiBSZXF1aXJlbWVudHM6IDEuMSwgMS4zXG4gICAqL1xuICBhc3luYyBnZXRUZW1wbGF0ZXMoKTogUHJvbWlzZTxCdXNpbmVzc1RlbXBsYXRlW10+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0ZW1wbGF0ZXMudmFsdWVzKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0ZW1wbGF0ZSBieSBJRFxuICAgKiBSZXF1aXJlbWVudHM6IDEuMSwgMS4zXG4gICAqL1xuICBhc3luYyBnZXRUZW1wbGF0ZUJ5SWQodGVtcGxhdGVJZDogc3RyaW5nKTogUHJvbWlzZTxCdXNpbmVzc1RlbXBsYXRlPiB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSB0ZW1wbGF0ZXMuZ2V0KHRlbXBsYXRlSWQpO1xuXG4gICAgaWYgKCF0ZW1wbGF0ZSkge1xuICAgICAgdGhyb3cgbmV3IEFwcEVycm9yKDQwNCwgJ0J1c2luZXNzIHRlbXBsYXRlIG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGVtcGxhdGUgYnkgdHlwZVxuICAgKiBSZXF1aXJlbWVudHM6IDEuMSwgMS4zXG4gICAqL1xuICBhc3luYyBnZXRUZW1wbGF0ZUJ5VHlwZSh0eXBlOiBzdHJpbmcpOiBQcm9taXNlPEJ1c2luZXNzVGVtcGxhdGUgfCBudWxsPiB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBBcnJheS5mcm9tKHRlbXBsYXRlcy52YWx1ZXMoKSkuZmluZCgodCkgPT4gdC50eXBlID09PSB0eXBlKTtcbiAgICByZXR1cm4gdGVtcGxhdGUgfHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgd2l6YXJkIHN0ZXBzIGZvciBhIHRlbXBsYXRlXG4gICAqIFJlcXVpcmVtZW50czogMS4yLCAxLjNcbiAgICovXG4gIGFzeW5jIGdldFRlbXBsYXRlV2l6YXJkU3RlcHModGVtcGxhdGVJZDogc3RyaW5nKTogUHJvbWlzZTxXaXphcmRTdGVwW10+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IHRoaXMuZ2V0VGVtcGxhdGVCeUlkKHRlbXBsYXRlSWQpO1xuICAgIHJldHVybiB0ZW1wbGF0ZS53aXphcmRTdGVwcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc3BlY2lmaWMgd2l6YXJkIHN0ZXAgZnJvbSB0ZW1wbGF0ZVxuICAgKiBSZXF1aXJlbWVudHM6IDEuMiwgMS4zXG4gICAqL1xuICBhc3luYyBnZXRUZW1wbGF0ZVdpemFyZFN0ZXAodGVtcGxhdGVJZDogc3RyaW5nLCBzdGVwT3JkZXI6IG51bWJlcik6IFByb21pc2U8V2l6YXJkU3RlcD4ge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gYXdhaXQgdGhpcy5nZXRUZW1wbGF0ZUJ5SWQodGVtcGxhdGVJZCk7XG4gICAgY29uc3Qgc3RlcCA9IHRlbXBsYXRlLndpemFyZFN0ZXBzLmZpbmQoKHMpID0+IHMub3JkZXIgPT09IHN0ZXBPcmRlcik7XG5cbiAgICBpZiAoIXN0ZXApIHtcbiAgICAgIHRocm93IG5ldyBBcHBFcnJvcig0MDQsICdXaXphcmQgc3RlcCBub3QgZm91bmQgaW4gdGVtcGxhdGUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RlcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGVtcGxhdGUgcmVzb3VyY2VzXG4gICAqIFJlcXVpcmVtZW50czogMS4xLCAxLjNcbiAgICovXG4gIGFzeW5jIGdldFRlbXBsYXRlUmVzb3VyY2VzKHRlbXBsYXRlSWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IHRoaXMuZ2V0VGVtcGxhdGVCeUlkKHRlbXBsYXRlSWQpO1xuICAgIHJldHVybiB0ZW1wbGF0ZS5yZXNvdXJjZXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRlbXBsYXRlIHJlcXVpcmVtZW50c1xuICAgKiBSZXF1aXJlbWVudHM6IDEuMSwgMS4zXG4gICAqL1xuICBhc3luYyBnZXRUZW1wbGF0ZVJlcXVpcmVtZW50cyh0ZW1wbGF0ZUlkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBhd2FpdCB0aGlzLmdldFRlbXBsYXRlQnlJZCh0ZW1wbGF0ZUlkKTtcbiAgICByZXR1cm4gdGVtcGxhdGUucmVxdWlyZW1lbnRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlYXJjaCB0ZW1wbGF0ZXMgYnkgdHlwZVxuICAgKiBSZXF1aXJlbWVudHM6IDEuMSwgMS4zXG4gICAqL1xuICBhc3luYyBzZWFyY2hUZW1wbGF0ZXMocXVlcnk6IHN0cmluZyk6IFByb21pc2U8QnVzaW5lc3NUZW1wbGF0ZVtdPiB7XG4gICAgY29uc3QgbG93ZXJRdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGVtcGxhdGVzLnZhbHVlcygpKS5maWx0ZXIoXG4gICAgICAodCkgPT5cbiAgICAgICAgdC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXJRdWVyeSkgfHxcbiAgICAgICAgdC5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGxvd2VyUXVlcnkpIHx8XG4gICAgICAgIHQudHlwZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGxvd2VyUXVlcnkpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGVtcGxhdGUgc3RhdGlzdGljc1xuICAgKiBSZXF1aXJlbWVudHM6IDEuMSwgMS4zXG4gICAqL1xuICBhc3luYyBnZXRUZW1wbGF0ZVN0YXRzKCk6IFByb21pc2U8e1xuICAgIHRvdGFsVGVtcGxhdGVzOiBudW1iZXI7XG4gICAgYnlUeXBlOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICAgIHRvdGFsV2l6YXJkU3RlcHM6IG51bWJlcjtcbiAgfT4ge1xuICAgIGNvbnN0IGFsbFRlbXBsYXRlcyA9IEFycmF5LmZyb20odGVtcGxhdGVzLnZhbHVlcygpKTtcbiAgICBjb25zdCBieVR5cGU6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgICBsZXQgdG90YWxXaXphcmRTdGVwcyA9IDA7XG5cbiAgICBhbGxUZW1wbGF0ZXMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgYnlUeXBlW3QudHlwZV0gPSAoYnlUeXBlW3QudHlwZV0gfHwgMCkgKyAxO1xuICAgICAgdG90YWxXaXphcmRTdGVwcyArPSB0LndpemFyZFN0ZXBzLmxlbmd0aDtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbFRlbXBsYXRlczogYWxsVGVtcGxhdGVzLmxlbmd0aCxcbiAgICAgIGJ5VHlwZSxcbiAgICAgIHRvdGFsV2l6YXJkU3RlcHMsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdGVtcGxhdGVTZXJ2aWNlID0gbmV3IFRlbXBsYXRlU2VydmljZSgpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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Q0FBQ0UsUUFBUSxDQUFDSCxVQUFVLENBQUM7TUFBQTtNQUFBLENBQUFuRCxjQUFBLEdBQUFVLENBQUEsVUFDekNnQyxDQUFDLENBQUM1QixXQUFXLENBQUNzQyxXQUFXLENBQUMsQ0FBQyxDQUFDRSxRQUFRLENBQUNILFVBQVUsQ0FBQztNQUFBO01BQUEsQ0FBQW5ELGNBQUEsR0FBQVUsQ0FBQSxVQUNoRGdDLENBQUMsQ0FBQzNCLElBQUksQ0FBQ3FDLFdBQVcsQ0FBQyxDQUFDLENBQUNFLFFBQVEsQ0FBQ0gsVUFBVSxDQUFDO0lBQUQsQ0FDNUMsQ0FBQztFQUNIOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0VBQ0UsTUFBTUksZ0JBQWdCQSxDQUFBLEVBSW5CO0lBQUE7SUFBQXZELGNBQUEsR0FBQVEsQ0FBQTtJQUNELE1BQU1nRCxZQUFZO0lBQUE7SUFBQSxDQUFBeEQsY0FBQSxHQUFBSyxDQUFBLFFBQUc2QixLQUFLLENBQUNDLElBQUksQ0FBQy9CLFNBQVMsQ0FBQ2dDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDbkQsTUFBTXFCLE1BQThCO0lBQUE7SUFBQSxDQUFBekQsY0FBQSxHQUFBSyxDQUFBLFFBQUcsQ0FBQyxDQUFDO0lBQ3pDLElBQUlxRCxnQkFBZ0I7SUFBQTtJQUFBLENBQUExRCxjQUFBLEdBQUFLLENBQUEsUUFBRyxDQUFDO0lBQUM7SUFBQUwsY0FBQSxHQUFBSyxDQUFBO0lBRXpCbUQsWUFBWSxDQUFDNUIsT0FBTyxDQUFFYyxDQUFDLElBQUs7TUFBQTtNQUFBMUMsY0FBQSxHQUFBUSxDQUFBO01BQUFSLGNBQUEsR0FBQUssQ0FBQTtNQUMxQm9ELE1BQU0sQ0FBQ2YsQ0FBQyxDQUFDM0IsSUFBSSxDQUFDLEdBQUc7TUFBQztNQUFBLENBQUFmLGNBQUEsR0FBQVUsQ0FBQSxVQUFBK0MsTUFBTSxDQUFDZixDQUFDLENBQUMzQixJQUFJLENBQUM7TUFBQTtNQUFBLENBQUFmLGNBQUEsR0FBQVUsQ0FBQSxVQUFJLENBQUMsS0FBSSxDQUFDO01BQUM7TUFBQVYsY0FBQSxHQUFBSyxDQUFBO01BQzNDcUQsZ0JBQWdCLElBQUloQixDQUFDLENBQUN4QixXQUFXLENBQUN5QyxNQUFNO0lBQzFDLENBQUMsQ0FBQztJQUFDO0lBQUEzRCxjQUFBLEdBQUFLLENBQUE7SUFFSCxPQUFPO01BQ0x1RCxjQUFjLEVBQUVKLFlBQVksQ0FBQ0csTUFBTTtNQUNuQ0YsTUFBTTtNQUNOQztJQUNGLENBQUM7RUFDSDtBQUNGO0FBRUEsT0FBTyxNQUFNRyxlQUFlO0FBQUE7QUFBQSxDQUFBN0QsY0FBQSxHQUFBSyxDQUFBLFFBQUcsSUFBSTBCLGVBQWUsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119