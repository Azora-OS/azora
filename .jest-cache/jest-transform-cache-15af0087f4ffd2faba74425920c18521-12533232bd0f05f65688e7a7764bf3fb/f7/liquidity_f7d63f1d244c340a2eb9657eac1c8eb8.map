{"version":3,"names":["cov_15gf4abcor","actualCoverage","express","s","require","cors","app","use","json","pools","post","req","res","f","poolid","seedamountazr","seedamountstable","ownermultisig","body","azr","stable","tvl","poolref","initialtvl","amountIn","tokenIn","pool","b","status","error","amountOut","PORT","process","env","LIQUIDITY_PORT","listen","console","log"],"sources":["liquidity.js"],"sourcesContent":["/*\nAZORA PROPRIETARY LICENSE\n\nCopyright © 2025 Azora ES (Pty) Ltd. All Rights Reserved.\n\nSee LICENSE file for details.\n*/\n\nconst express = require('express');\nconst cors = require('cors');\n\nconst app = express();\napp.use(express.json());\napp.use(cors());\n\nlet pools = {};\n\napp.post('/api/liquidity/pool/seed', (req, res) => {\n  const { poolid, seedamountazr, seedamountstable, ownermultisig } = req.body;\n  pools[poolid] = {\n    azr: seedamountazr,\n    stable: seedamountstable,\n    tvl: seedamountazr + seedamountstable\n  };\n  res.json({ poolref: poolid, initialtvl: pools[poolid].tvl });\n});\n\napp.post('/api/liquidity/swap', (req, res) => {\n  const { poolid, amountIn, tokenIn } = req.body;\n  const pool = pools[poolid];\n  if (!pool) return res.status(404).json({ error: 'Pool not found' });\n  const amountOut = tokenIn === 'AZR' ? (amountIn * pool.stable) / pool.azr : (amountIn * pool.azr) / pool.stable;\n  res.json({ amountOut });\n});\n\nconst PORT = process.env.LIQUIDITY_PORT || 4100;\napp.listen(PORT, () => console.log(`✅ Liquidity Service running on port ${PORT}`));\n"],"mappings":"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","ignoreList":[]}