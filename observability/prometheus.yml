global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: 'azora-os'
    environment: 'production'

# Alertmanager configuration
alerting:
  alertmanagers:
    - static_configs:
        - targets:
            - localhost:9093

# Load rules once and periodically evaluate them
rule_files:
  - 'alert-rules.yml'

scrape_configs:
  # API Gateway
  - job_name: 'api-gateway'
    static_configs:
      - targets: ['localhost:4000']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # Auth Service
  - job_name: 'auth-service'
    static_configs:
      - targets: ['localhost:4001']
    metrics_path: '/metrics'

  # Education Service
  - job_name: 'azora-education'
    static_configs:
      - targets: ['localhost:4002']
    metrics_path: '/metrics'

  # Mint Service
  - job_name: 'azora-mint'
    static_configs:
      - targets: ['localhost:4003']
    metrics_path: '/metrics'

  # Forge Service
  - job_name: 'azora-forge'
    static_configs:
      - targets: ['localhost:4004']
    metrics_path: '/metrics'

  # Sapiens Service
  - job_name: 'azora-sapiens'
    static_configs:
      - targets: ['localhost:4005']
    metrics_path: '/metrics'

  # AI Family Service
  - job_name: 'ai-family-service'
    static_configs:
      - targets: ['localhost:4006']
    metrics_path: '/metrics'

  # Health Monitor
  - job_name: 'health-monitor'
    static_configs:
      - targets: ['localhost:4007']
    metrics_path: '/metrics'

  # Prometheus itself
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']
